const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/plotly-renderer-DF7S96xf.js","assets/plotly-renderer-DEsIH41T.css"])))=>i.map(i=>d[i]);
function _mergeNamespaces(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in t)){const u=Object.getOwnPropertyDescriptor(i,o);u&&Object.defineProperty(t,o,u.get?u:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const esm=Object.freeze(Object.defineProperty({__proto__:null,get CellStatusEvent(){return CellStatusEvent},get Config(){return Config},get ErrorStatusEvent(){return ErrorStatusEvent},get EventSubject(){return EventSubject},get KernelStatusEvent(){return KernelStatusEvent},get NotebookStatusEvent(){return NotebookStatusEvent},get PassiveCellRenderer(){return PassiveCellRenderer},get ServerStatusEvent(){return ServerStatusEvent},get SessionStatusEvent(){return SessionStatusEvent},get ThebeCodeCell(){return ThebeCodeCell},get ThebeEventType(){return ThebeEventType},get ThebeEvents(){return ThebeEvents},get ThebeManager(){return ThebeManager},get ThebeMarkdownCell(){return ThebeMarkdownCell},get ThebeNotebook(){return ThebeNotebook},get ThebeServer(){return ThebeServer},get ThebeSession(){return ThebeSession},get WIDGET_MIMETYPE(){return WIDGET_MIMETYPE},get clearAllSavedSessions(){return clearAllSavedSessions},get clearSavedSession(){return clearSavedSession},get connectToBinder(){return connectToBinder},get connectToJupyter(){return connectToJupyter},get connectToJupyterLite(){return connectToJupyterLite},get ensureCoreOptions(){return ensureCoreOptions},get ensureString(){return ensureString},get errorToMessage(){return errorToMessage},get getRenderers(){return getRenderers},get isMimeBundle(){return isMimeBundle},get makeBinderOptions(){return makeBinderOptions},get makeConfiguration(){return makeConfiguration},get makeEvents(){return makeEvents},get makeKernelOptions(){return makeKernelOptions},get makeMathjaxOptions(){return makeMathjaxOptions},get makeRenderMimeRegistry(){return makeRenderMimeRegistry},get makeSavedSessionOptions(){return makeSavedSessionOptions},get makeServer(){return makeServer},get makeServerSettings(){return makeServerSettings},get placeholder(){return placeholder},get setupNotebookFromBlocks(){return setupNotebookFromBlocks},get setupNotebookFromIpynb(){return setupNotebookFromIpynb},get setupThebeCore(){return setupThebeCore},get shortId(){return shortId},get stripWidgets(){return stripWidgets},get version(){return version}},Symbol.toStringTag,{value:"Module"}));(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const l of u.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function getAugmentedNamespace(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){var o=!1;try{o=this instanceof i}catch{}return o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var o=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:function(){return t[i]}})}),n}var jsxRuntime={exports:{}},reactJsxRuntime_production={};var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,u){var l=null;if(u!==void 0&&(l=""+u),o.key!==void 0&&(l=""+o.key),"key"in o){u={};for(var c in o)c!=="key"&&(u[c]=o[c])}else u=o;return o=u.ref,{$$typeof:t,type:i,key:l,ref:o!==void 0?o:null,props:u}}return reactJsxRuntime_production.Fragment=e,reactJsxRuntime_production.jsx=n,reactJsxRuntime_production.jsxs=n,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function y(xe){return xe===null||typeof xe!="object"?null:(xe=v&&xe[v]||xe["@@iterator"],typeof xe=="function"?xe:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,P={};function A(xe,Re,Se){this.props=xe,this.context=Re,this.refs=P,this.updater=Se||w}A.prototype.isReactComponent={},A.prototype.setState=function(xe,Re){if(typeof xe!="object"&&typeof xe!="function"&&xe!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,xe,Re,"setState")},A.prototype.forceUpdate=function(xe){this.updater.enqueueForceUpdate(this,xe,"forceUpdate")};function D(){}D.prototype=A.prototype;function k(xe,Re,Se){this.props=xe,this.context=Re,this.refs=P,this.updater=Se||w}var j=k.prototype=new D;j.constructor=k,T(j,A.prototype),j.isPureReactComponent=!0;var B=Array.isArray;function Z(){}var R={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function F(xe,Re,Se){var Ge=Se.ref;return{$$typeof:t,type:xe,key:Re,ref:Ge!==void 0?Ge:null,props:Se}}function K(xe,Re){return F(xe.type,Re,xe.props)}function Q(xe){return typeof xe=="object"&&xe!==null&&xe.$$typeof===t}function ie(xe){var Re={"=":"=0",":":"=2"};return"$"+xe.replace(/[=:]/g,function(Se){return Re[Se]})}var te=/\/+/g;function oe(xe,Re){return typeof xe=="object"&&xe!==null&&xe.key!=null?ie(""+xe.key):Re.toString(36)}function le(xe){switch(xe.status){case"fulfilled":return xe.value;case"rejected":throw xe.reason;default:switch(typeof xe.status=="string"?xe.then(Z,Z):(xe.status="pending",xe.then(function(Re){xe.status==="pending"&&(xe.status="fulfilled",xe.value=Re)},function(Re){xe.status==="pending"&&(xe.status="rejected",xe.reason=Re)})),xe.status){case"fulfilled":return xe.value;case"rejected":throw xe.reason}}throw xe}function de(xe,Re,Se,Ge,Qe){var Je=typeof xe;(Je==="undefined"||Je==="boolean")&&(xe=null);var Xe=!1;if(xe===null)Xe=!0;else switch(Je){case"bigint":case"string":case"number":Xe=!0;break;case"object":switch(xe.$$typeof){case t:case e:Xe=!0;break;case m:return Xe=xe._init,de(Xe(xe._payload),Re,Se,Ge,Qe)}}if(Xe)return Qe=Qe(xe),Xe=Ge===""?"."+oe(xe,0):Ge,B(Qe)?(Se="",Xe!=null&&(Se=Xe.replace(te,"$&/")+"/"),de(Qe,Re,Se,"",function(ar){return ar})):Qe!=null&&(Q(Qe)&&(Qe=K(Qe,Se+(Qe.key==null||xe&&xe.key===Qe.key?"":(""+Qe.key).replace(te,"$&/")+"/")+Xe)),Re.push(Qe)),1;Xe=0;var gt=Ge===""?".":Ge+":";if(B(xe))for(var Ct=0;Ct<xe.length;Ct++)Ge=xe[Ct],Je=gt+oe(Ge,Ct),Xe+=de(Ge,Re,Se,Je,Qe);else if(Ct=y(xe),typeof Ct=="function")for(xe=Ct.call(xe),Ct=0;!(Ge=xe.next()).done;)Ge=Ge.value,Je=gt+oe(Ge,Ct++),Xe+=de(Ge,Re,Se,Je,Qe);else if(Je==="object"){if(typeof xe.then=="function")return de(le(xe),Re,Se,Ge,Qe);throw Re=String(xe),Error("Objects are not valid as a React child (found: "+(Re==="[object Object]"?"object with keys {"+Object.keys(xe).join(", ")+"}":Re)+"). If you meant to render a collection of children, use an array instead.")}return Xe}function ge(xe,Re,Se){if(xe==null)return xe;var Ge=[],Qe=0;return de(xe,Ge,"","",function(Je){return Re.call(Se,Je,Qe++)}),Ge}function _e(xe){if(xe._status===-1){var Re=xe._result;Re=Re(),Re.then(function(Se){(xe._status===0||xe._status===-1)&&(xe._status=1,xe._result=Se)},function(Se){(xe._status===0||xe._status===-1)&&(xe._status=2,xe._result=Se)}),xe._status===-1&&(xe._status=0,xe._result=Re)}if(xe._status===1)return xe._result.default;throw xe._result}var we=typeof reportError=="function"?reportError:function(xe){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof xe=="object"&&xe!==null&&typeof xe.message=="string"?String(xe.message):String(xe),error:xe});if(!window.dispatchEvent(Re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",xe);return}console.error(xe)},Me={map:ge,forEach:function(xe,Re,Se){ge(xe,function(){Re.apply(this,arguments)},Se)},count:function(xe){var Re=0;return ge(xe,function(){Re++}),Re},toArray:function(xe){return ge(xe,function(Re){return Re})||[]},only:function(xe){if(!Q(xe))throw Error("React.Children.only expected to receive a single React element child.");return xe}};return react_production.Activity=g,react_production.Children=Me,react_production.Component=A,react_production.Fragment=n,react_production.Profiler=o,react_production.PureComponent=k,react_production.StrictMode=i,react_production.Suspense=f,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(xe){return R.H.useMemoCache(xe)}},react_production.cache=function(xe){return function(){return xe.apply(null,arguments)}},react_production.cacheSignal=function(){return null},react_production.cloneElement=function(xe,Re,Se){if(xe==null)throw Error("The argument must be a React element, but you passed "+xe+".");var Ge=T({},xe.props),Qe=xe.key;if(Re!=null)for(Je in Re.key!==void 0&&(Qe=""+Re.key),Re)!G.call(Re,Je)||Je==="key"||Je==="__self"||Je==="__source"||Je==="ref"&&Re.ref===void 0||(Ge[Je]=Re[Je]);var Je=arguments.length-2;if(Je===1)Ge.children=Se;else if(1<Je){for(var Xe=Array(Je),gt=0;gt<Je;gt++)Xe[gt]=arguments[gt+2];Ge.children=Xe}return F(xe.type,Qe,Ge)},react_production.createContext=function(xe){return xe={$$typeof:l,_currentValue:xe,_currentValue2:xe,_threadCount:0,Provider:null,Consumer:null},xe.Provider=xe,xe.Consumer={$$typeof:u,_context:xe},xe},react_production.createElement=function(xe,Re,Se){var Ge,Qe={},Je=null;if(Re!=null)for(Ge in Re.key!==void 0&&(Je=""+Re.key),Re)G.call(Re,Ge)&&Ge!=="key"&&Ge!=="__self"&&Ge!=="__source"&&(Qe[Ge]=Re[Ge]);var Xe=arguments.length-2;if(Xe===1)Qe.children=Se;else if(1<Xe){for(var gt=Array(Xe),Ct=0;Ct<Xe;Ct++)gt[Ct]=arguments[Ct+2];Qe.children=gt}if(xe&&xe.defaultProps)for(Ge in Xe=xe.defaultProps,Xe)Qe[Ge]===void 0&&(Qe[Ge]=Xe[Ge]);return F(xe,Je,Qe)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(xe){return{$$typeof:c,render:xe}},react_production.isValidElement=Q,react_production.lazy=function(xe){return{$$typeof:m,_payload:{_status:-1,_result:xe},_init:_e}},react_production.memo=function(xe,Re){return{$$typeof:d,type:xe,compare:Re===void 0?null:Re}},react_production.startTransition=function(xe){var Re=R.T,Se={};R.T=Se;try{var Ge=xe(),Qe=R.S;Qe!==null&&Qe(Se,Ge),typeof Ge=="object"&&Ge!==null&&typeof Ge.then=="function"&&Ge.then(Z,we)}catch(Je){we(Je)}finally{Re!==null&&Se.types!==null&&(Re.types=Se.types),R.T=Re}},react_production.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},react_production.use=function(xe){return R.H.use(xe)},react_production.useActionState=function(xe,Re,Se){return R.H.useActionState(xe,Re,Se)},react_production.useCallback=function(xe,Re){return R.H.useCallback(xe,Re)},react_production.useContext=function(xe){return R.H.useContext(xe)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(xe,Re){return R.H.useDeferredValue(xe,Re)},react_production.useEffect=function(xe,Re){return R.H.useEffect(xe,Re)},react_production.useEffectEvent=function(xe){return R.H.useEffectEvent(xe)},react_production.useId=function(){return R.H.useId()},react_production.useImperativeHandle=function(xe,Re,Se){return R.H.useImperativeHandle(xe,Re,Se)},react_production.useInsertionEffect=function(xe,Re){return R.H.useInsertionEffect(xe,Re)},react_production.useLayoutEffect=function(xe,Re){return R.H.useLayoutEffect(xe,Re)},react_production.useMemo=function(xe,Re){return R.H.useMemo(xe,Re)},react_production.useOptimistic=function(xe,Re){return R.H.useOptimistic(xe,Re)},react_production.useReducer=function(xe,Re,Se){return R.H.useReducer(xe,Re,Se)},react_production.useRef=function(xe){return R.H.useRef(xe)},react_production.useState=function(xe){return R.H.useState(xe)},react_production.useSyncExternalStore=function(xe,Re,Se){return R.H.useSyncExternalStore(xe,Re,Se)},react_production.useTransition=function(){return R.H.useTransition()},react_production.version="19.2.3",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(t){function e(de,ge){var _e=de.length;de.push(ge);e:for(;0<_e;){var we=_e-1>>>1,Me=de[we];if(0<o(Me,ge))de[we]=ge,de[_e]=Me,_e=we;else break e}}function n(de){return de.length===0?null:de[0]}function i(de){if(de.length===0)return null;var ge=de[0],_e=de.pop();if(_e!==ge){de[0]=_e;e:for(var we=0,Me=de.length,xe=Me>>>1;we<xe;){var Re=2*(we+1)-1,Se=de[Re],Ge=Re+1,Qe=de[Ge];if(0>o(Se,_e))Ge<Me&&0>o(Qe,Se)?(de[we]=Qe,de[Ge]=_e,we=Ge):(de[we]=Se,de[Re]=_e,we=Re);else if(Ge<Me&&0>o(Qe,_e))de[we]=Qe,de[Ge]=_e,we=Ge;else break e}}return ge}function o(de,ge){var _e=de.sortIndex-ge.sortIndex;return _e!==0?_e:de.id-ge.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],d=[],m=1,g=null,v=3,y=!1,w=!1,T=!1,P=!1,A=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function j(de){for(var ge=n(d);ge!==null;){if(ge.callback===null)i(d);else if(ge.startTime<=de)i(d),ge.sortIndex=ge.expirationTime,e(f,ge);else break;ge=n(d)}}function B(de){if(T=!1,j(de),!w)if(n(f)!==null)w=!0,Z||(Z=!0,ie());else{var ge=n(d);ge!==null&&le(B,ge.startTime-de)}}var Z=!1,R=-1,G=5,F=-1;function K(){return P?!0:!(t.unstable_now()-F<G)}function Q(){if(P=!1,Z){var de=t.unstable_now();F=de;var ge=!0;try{e:{w=!1,T&&(T=!1,D(R),R=-1),y=!0;var _e=v;try{t:{for(j(de),g=n(f);g!==null&&!(g.expirationTime>de&&K());){var we=g.callback;if(typeof we=="function"){g.callback=null,v=g.priorityLevel;var Me=we(g.expirationTime<=de);if(de=t.unstable_now(),typeof Me=="function"){g.callback=Me,j(de),ge=!0;break t}g===n(f)&&i(f),j(de)}else i(f);g=n(f)}if(g!==null)ge=!0;else{var xe=n(d);xe!==null&&le(B,xe.startTime-de),ge=!1}}break e}finally{g=null,v=_e,y=!1}ge=void 0}}finally{ge?ie():Z=!1}}}var ie;if(typeof k=="function")ie=function(){k(Q)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,oe=te.port2;te.port1.onmessage=Q,ie=function(){oe.postMessage(null)}}else ie=function(){A(Q,0)};function le(de,ge){R=A(function(){de(t.unstable_now())},ge)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(de){de.callback=null},t.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<de?Math.floor(1e3/de):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(de){switch(v){case 1:case 2:case 3:var ge=3;break;default:ge=v}var _e=v;v=ge;try{return de()}finally{v=_e}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(de,ge){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var _e=v;v=de;try{return ge()}finally{v=_e}},t.unstable_scheduleCallback=function(de,ge,_e){var we=t.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?we+_e:we):_e=we,de){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=_e+Me,de={id:m++,callback:ge,priorityLevel:de,startTime:_e,expirationTime:Me,sortIndex:-1},_e>we?(de.sortIndex=_e,e(d,de),n(f)===null&&de===n(d)&&(T?(D(R),R=-1):T=!0,le(B,_e-we))):(de.sortIndex=Me,e(f,de),w||y||(w=!0,Z||(Z=!0,ie()))),de},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(de){var ge=v;return function(){var _e=v;v=ge;try{return de.apply(this,arguments)}finally{v=_e}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var t=requireReact();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(f,d,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:g==null?null:""+g,children:f,containerInfo:d,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,reactDom_production.createPortal=function(f,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return u(f,d,null,m)},reactDom_production.flushSync=function(f){var d=l.T,m=i.p;try{if(l.T=null,i.p=2,f)return f()}finally{l.T=d,i.p=m,i.d.f()}},reactDom_production.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},reactDom_production.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},reactDom_production.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var m=d.as,g=c(m,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:y}):m==="script"&&i.d.X(f,{crossOrigin:g,integrity:v,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},reactDom_production.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},reactDom_production.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,g=c(m,d.crossOrigin);i.d.L(f,m,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},reactDom_production.preloadModule=function(f,d){if(typeof f=="string")if(d){var m=c(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},reactDom_production.requestFormReset=function(f){i.d.r(f)},reactDom_production.unstable_batchedUpdates=function(f,d){return f(d)},reactDom_production.useFormState=function(f,d,m){return l.H.useFormState(f,d,m)},reactDom_production.useFormStatus=function(){return l.H.useHostTransitionStatus()},reactDom_production.version="19.2.3",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),reactDom.exports=requireReactDom_production(),reactDom.exports}var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var t=requireScheduler(),e=requireReact(),n=requireReactDom();function i(S){var C="https://react.dev/errors/"+S;if(1<arguments.length){C+="?args[]="+encodeURIComponent(arguments[1]);for(var L=2;L<arguments.length;L++)C+="&args[]="+encodeURIComponent(arguments[L])}return"Minified React error #"+S+"; visit "+C+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(S){return!(!S||S.nodeType!==1&&S.nodeType!==9&&S.nodeType!==11)}function u(S){var C=S,L=S;if(S.alternate)for(;C.return;)C=C.return;else{S=C;do C=S,(C.flags&4098)!==0&&(L=C.return),S=C.return;while(S)}return C.tag===3?L:null}function l(S){if(S.tag===13){var C=S.memoizedState;if(C===null&&(S=S.alternate,S!==null&&(C=S.memoizedState)),C!==null)return C.dehydrated}return null}function c(S){if(S.tag===31){var C=S.memoizedState;if(C===null&&(S=S.alternate,S!==null&&(C=S.memoizedState)),C!==null)return C.dehydrated}return null}function f(S){if(u(S)!==S)throw Error(i(188))}function d(S){var C=S.alternate;if(!C){if(C=u(S),C===null)throw Error(i(188));return C!==S?null:S}for(var L=S,Y=C;;){var ne=L.return;if(ne===null)break;var ae=ne.alternate;if(ae===null){if(Y=ne.return,Y!==null){L=Y;continue}break}if(ne.child===ae.child){for(ae=ne.child;ae;){if(ae===L)return f(ne),S;if(ae===Y)return f(ne),C;ae=ae.sibling}throw Error(i(188))}if(L.return!==Y.return)L=ne,Y=ae;else{for(var fe=!1,Ee=ne.child;Ee;){if(Ee===L){fe=!0,L=ne,Y=ae;break}if(Ee===Y){fe=!0,Y=ne,L=ae;break}Ee=Ee.sibling}if(!fe){for(Ee=ae.child;Ee;){if(Ee===L){fe=!0,L=ae,Y=ne;break}if(Ee===Y){fe=!0,Y=ae,L=ne;break}Ee=Ee.sibling}if(!fe)throw Error(i(189))}}if(L.alternate!==Y)throw Error(i(190))}if(L.tag!==3)throw Error(i(188));return L.stateNode.current===L?S:C}function m(S){var C=S.tag;if(C===5||C===26||C===27||C===6)return S;for(S=S.child;S!==null;){if(C=m(S),C!==null)return C;S=S.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),k=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function ie(S){return S===null||typeof S!="object"?null:(S=Q&&S[Q]||S["@@iterator"],typeof S=="function"?S:null)}var te=Symbol.for("react.client.reference");function oe(S){if(S==null)return null;if(typeof S=="function")return S.$$typeof===te?null:S.displayName||S.name||null;if(typeof S=="string")return S;switch(S){case T:return"Fragment";case A:return"Profiler";case P:return"StrictMode";case B:return"Suspense";case Z:return"SuspenseList";case F:return"Activity"}if(typeof S=="object")switch(S.$$typeof){case w:return"Portal";case k:return S.displayName||"Context";case D:return(S._context.displayName||"Context")+".Consumer";case j:var C=S.render;return S=S.displayName,S||(S=C.displayName||C.name||"",S=S!==""?"ForwardRef("+S+")":"ForwardRef"),S;case R:return C=S.displayName||null,C!==null?C:oe(S.type)||"Memo";case G:C=S._payload,S=S._init;try{return oe(S(C))}catch{}}return null}var le=Array.isArray,de=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},we=[],Me=-1;function xe(S){return{current:S}}function Re(S){0>Me||(S.current=we[Me],we[Me]=null,Me--)}function Se(S,C){Me++,we[Me]=S.current,S.current=C}var Ge=xe(null),Qe=xe(null),Je=xe(null),Xe=xe(null);function gt(S,C){switch(Se(Je,C),Se(Qe,S),Se(Ge,null),C.nodeType){case 9:case 11:S=(S=C.documentElement)&&(S=S.namespaceURI)?Pf(S):0;break;default:if(S=C.tagName,C=C.namespaceURI)C=Pf(C),S=Df(C,S);else switch(S){case"svg":S=1;break;case"math":S=2;break;default:S=0}}Re(Ge),Se(Ge,S)}function Ct(){Re(Ge),Re(Qe),Re(Je)}function ar(S){S.memoizedState!==null&&Se(Xe,S);var C=Ge.current,L=Df(C,S.type);C!==L&&(Se(Qe,S),Se(Ge,L))}function De(S){Qe.current===S&&(Re(Ge),Re(Qe)),Xe.current===S&&(Re(Xe),jo._currentValue=_e)}var Oe,Be;function he(S){if(Oe===void 0)try{throw Error()}catch(L){var C=L.stack.trim().match(/\n( *(at )?)/);Oe=C&&C[1]||"",Be=-1<L.stack.indexOf(`
    at`)?" (<anonymous>)":-1<L.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oe+S+Be}var be=!1;function Ce(S,C){if(!S||be)return"";be=!0;var L=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var Y={DetermineComponentFrameRoot:function(){try{if(C){var xt=function(){throw Error()};if(Object.defineProperty(xt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xt,[])}catch(ct){var at=ct}Reflect.construct(S,[],xt)}else{try{xt.call()}catch(ct){at=ct}S.call(xt.prototype)}}else{try{throw Error()}catch(ct){at=ct}(xt=S())&&typeof xt.catch=="function"&&xt.catch(function(){})}}catch(ct){if(ct&&at&&typeof ct.stack=="string")return[ct.stack,at.stack]}return[null,null]}};Y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var ne=Object.getOwnPropertyDescriptor(Y.DetermineComponentFrameRoot,"name");ne&&ne.configurable&&Object.defineProperty(Y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var ae=Y.DetermineComponentFrameRoot(),fe=ae[0],Ee=ae[1];if(fe&&Ee){var je=fe.split(`
`),nt=Ee.split(`
`);for(ne=Y=0;Y<je.length&&!je[Y].includes("DetermineComponentFrameRoot");)Y++;for(;ne<nt.length&&!nt[ne].includes("DetermineComponentFrameRoot");)ne++;if(Y===je.length||ne===nt.length)for(Y=je.length-1,ne=nt.length-1;1<=Y&&0<=ne&&je[Y]!==nt[ne];)ne--;for(;1<=Y&&0<=ne;Y--,ne--)if(je[Y]!==nt[ne]){if(Y!==1||ne!==1)do if(Y--,ne--,0>ne||je[Y]!==nt[ne]){var pt=`
`+je[Y].replace(" at new "," at ");return S.displayName&&pt.includes("<anonymous>")&&(pt=pt.replace("<anonymous>",S.displayName)),pt}while(1<=Y&&0<=ne);break}}}finally{be=!1,Error.prepareStackTrace=L}return(L=S?S.displayName||S.name:"")?he(L):""}function Le(S,C){switch(S.tag){case 26:case 27:case 5:return he(S.type);case 16:return he("Lazy");case 13:return S.child!==C&&C!==null?he("Suspense Fallback"):he("Suspense");case 19:return he("SuspenseList");case 0:case 15:return Ce(S.type,!1);case 11:return Ce(S.type.render,!1);case 1:return Ce(S.type,!0);case 31:return he("Activity");default:return""}}function Ue(S){try{var C="",L=null;do C+=Le(S,L),L=S,S=S.return;while(S);return C}catch(Y){return`
Error generating stack: `+Y.message+`
`+Y.stack}}var We=Object.prototype.hasOwnProperty,ot=t.unstable_scheduleCallback,Rt=t.unstable_cancelCallback,Et=t.unstable_shouldYield,yt=t.unstable_requestPaint,Nt=t.unstable_now,St=t.unstable_getCurrentPriorityLevel,kt=t.unstable_ImmediatePriority,Pe=t.unstable_UserBlockingPriority,ve=t.unstable_NormalPriority,ut=t.unstable_LowPriority,wt=t.unstable_IdlePriority,Tt=t.log,Vt=t.unstable_setDisableYieldValue,Gt=null,Qt=null;function qt(S){if(typeof Tt=="function"&&Vt(S),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(Gt,S)}catch{}}var ht=Math.clz32?Math.clz32:It,jt=Math.log,tr=Math.LN2;function It(S){return S>>>=0,S===0?32:31-(jt(S)/tr|0)|0}var Ar=256,cr=262144,yr=4194304;function Wr(S){var C=S&42;if(C!==0)return C;switch(S&-S){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return S&261888;case 262144:case 524288:case 1048576:case 2097152:return S&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return S&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return S}}function Ht(S,C,L){var Y=S.pendingLanes;if(Y===0)return 0;var ne=0,ae=S.suspendedLanes,fe=S.pingedLanes;S=S.warmLanes;var Ee=Y&134217727;return Ee!==0?(Y=Ee&~ae,Y!==0?ne=Wr(Y):(fe&=Ee,fe!==0?ne=Wr(fe):L||(L=Ee&~S,L!==0&&(ne=Wr(L))))):(Ee=Y&~ae,Ee!==0?ne=Wr(Ee):fe!==0?ne=Wr(fe):L||(L=Y&~S,L!==0&&(ne=Wr(L)))),ne===0?0:C!==0&&C!==ne&&(C&ae)===0&&(ae=ne&-ne,L=C&-C,ae>=L||ae===32&&(L&4194048)!==0)?C:ne}function dr(S,C){return(S.pendingLanes&~(S.suspendedLanes&~S.pingedLanes)&C)===0}function ir(S,C){switch(S){case 1:case 2:case 4:case 8:case 64:return C+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return C+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pr(){var S=yr;return yr<<=1,(yr&62914560)===0&&(yr=4194304),S}function Cn(S){for(var C=[],L=0;31>L;L++)C.push(S);return C}function lr(S,C){S.pendingLanes|=C,C!==268435456&&(S.suspendedLanes=0,S.pingedLanes=0,S.warmLanes=0)}function wn(S,C,L,Y,ne,ae){var fe=S.pendingLanes;S.pendingLanes=L,S.suspendedLanes=0,S.pingedLanes=0,S.warmLanes=0,S.expiredLanes&=L,S.entangledLanes&=L,S.errorRecoveryDisabledLanes&=L,S.shellSuspendCounter=0;var Ee=S.entanglements,je=S.expirationTimes,nt=S.hiddenUpdates;for(L=fe&~L;0<L;){var pt=31-ht(L),xt=1<<pt;Ee[pt]=0,je[pt]=-1;var at=nt[pt];if(at!==null)for(nt[pt]=null,pt=0;pt<at.length;pt++){var ct=at[pt];ct!==null&&(ct.lane&=-536870913)}L&=~xt}Y!==0&&pn(S,Y,0),ae!==0&&ne===0&&S.tag!==0&&(S.suspendedLanes|=ae&~(fe&~C))}function pn(S,C,L){S.pendingLanes|=C,S.suspendedLanes&=~C;var Y=31-ht(C);S.entangledLanes|=C,S.entanglements[Y]=S.entanglements[Y]|1073741824|L&261930}function $e(S,C){var L=S.entangledLanes|=C;for(S=S.entanglements;L;){var Y=31-ht(L),ne=1<<Y;ne&C|S[Y]&C&&(S[Y]|=C),L&=~ne}}function qe(S,C){var L=C&-C;return L=(L&42)!==0?1:Ze(L),(L&(S.suspendedLanes|C))!==0?0:L}function Ze(S){switch(S){case 2:S=1;break;case 8:S=4;break;case 32:S=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:S=128;break;case 268435456:S=134217728;break;default:S=0}return S}function _t(S){return S&=-S,2<S?8<S?(S&134217727)!==0?32:268435456:8:2}function Mt(){var S=ge.p;return S!==0?S:(S=window.event,S===void 0?32:rp(S.type))}function Xt(S,C){var L=ge.p;try{return ge.p=S,C()}finally{ge.p=L}}var Ot=Math.random().toString(36).slice(2),Lt="__reactFiber$"+Ot,Bt="__reactProps$"+Ot,Ut="__reactContainer$"+Ot,sr="__reactEvents$"+Ot,Kt="__reactListeners$"+Ot,xr="__reactHandles$"+Ot,_r="__reactResources$"+Ot,en="__reactMarker$"+Ot;function zr(S){delete S[Lt],delete S[Bt],delete S[sr],delete S[Kt],delete S[xr]}function sn(S){var C=S[Lt];if(C)return C;for(var L=S.parentNode;L;){if(C=L[Ut]||L[Lt]){if(L=C.alternate,C.child!==null||L!==null&&L.child!==null)for(S=zf(S);S!==null;){if(L=S[Lt])return L;S=zf(S)}return C}S=L,L=S.parentNode}return null}function Er(S){if(S=S[Lt]||S[Ut]){var C=S.tag;if(C===5||C===6||C===13||C===31||C===26||C===27||C===3)return S}return null}function an(S){var C=S.tag;if(C===5||C===26||C===27||C===6)return S.stateNode;throw Error(i(33))}function In(S){var C=S[_r];return C||(C=S[_r]={hoistableStyles:new Map,hoistableScripts:new Map}),C}function on(S){S[en]=!0}var Pn=new Set,Dn={};function ei(S,C){zn(S,C),zn(S+"Capture",C)}function zn(S,C){for(Dn[S]=C,S=0;S<C.length;S++)Pn.add(C[S])}var hi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gi={},ci={};function Sr(S){return We.call(ci,S)?!0:We.call(gi,S)?!1:hi.test(S)?ci[S]=!0:(gi[S]=!0,!1)}function Zr(S,C,L){if(Sr(C))if(L===null)S.removeAttribute(C);else{switch(typeof L){case"undefined":case"function":case"symbol":S.removeAttribute(C);return;case"boolean":var Y=C.toLowerCase().slice(0,5);if(Y!=="data-"&&Y!=="aria-"){S.removeAttribute(C);return}}S.setAttribute(C,""+L)}}function Hr(S,C,L){if(L===null)S.removeAttribute(C);else{switch(typeof L){case"undefined":case"function":case"symbol":case"boolean":S.removeAttribute(C);return}S.setAttribute(C,""+L)}}function Lr(S,C,L,Y){if(Y===null)S.removeAttribute(L);else{switch(typeof Y){case"undefined":case"function":case"symbol":case"boolean":S.removeAttribute(L);return}S.setAttributeNS(C,L,""+Y)}}function mr(S){switch(typeof S){case"bigint":case"boolean":case"number":case"string":case"undefined":return S;case"object":return S;default:return""}}function ti(S){var C=S.type;return(S=S.nodeName)&&S.toLowerCase()==="input"&&(C==="checkbox"||C==="radio")}function rs(S,C,L){var Y=Object.getOwnPropertyDescriptor(S.constructor.prototype,C);if(!S.hasOwnProperty(C)&&typeof Y<"u"&&typeof Y.get=="function"&&typeof Y.set=="function"){var ne=Y.get,ae=Y.set;return Object.defineProperty(S,C,{configurable:!0,get:function(){return ne.call(this)},set:function(fe){L=""+fe,ae.call(this,fe)}}),Object.defineProperty(S,C,{enumerable:Y.enumerable}),{getValue:function(){return L},setValue:function(fe){L=""+fe},stopTracking:function(){S._valueTracker=null,delete S[C]}}}}function ns(S){if(!S._valueTracker){var C=ti(S)?"checked":"value";S._valueTracker=rs(S,C,""+S[C])}}function Oi(S){if(!S)return!1;var C=S._valueTracker;if(!C)return!0;var L=C.getValue(),Y="";return S&&(Y=ti(S)?S.checked?"true":"false":S.value),S=Y,S!==L?(C.setValue(S),!0):!1}function Kn(S){if(S=S||(typeof document<"u"?document:void 0),typeof S>"u")return null;try{return S.activeElement||S.body}catch{return S.body}}var Ti=/[\n"\\]/g;function Hn(S){return S.replace(Ti,function(C){return"\\"+C.charCodeAt(0).toString(16)+" "})}function ki(S,C,L,Y,ne,ae,fe,Ee){S.name="",fe!=null&&typeof fe!="function"&&typeof fe!="symbol"&&typeof fe!="boolean"?S.type=fe:S.removeAttribute("type"),C!=null?fe==="number"?(C===0&&S.value===""||S.value!=C)&&(S.value=""+mr(C)):S.value!==""+mr(C)&&(S.value=""+mr(C)):fe!=="submit"&&fe!=="reset"||S.removeAttribute("value"),C!=null?Yn(S,fe,mr(C)):L!=null?Yn(S,fe,mr(L)):Y!=null&&S.removeAttribute("value"),ne==null&&ae!=null&&(S.defaultChecked=!!ae),ne!=null&&(S.checked=ne&&typeof ne!="function"&&typeof ne!="symbol"),Ee!=null&&typeof Ee!="function"&&typeof Ee!="symbol"&&typeof Ee!="boolean"?S.name=""+mr(Ee):S.removeAttribute("name")}function vs(S,C,L,Y,ne,ae,fe,Ee){if(ae!=null&&typeof ae!="function"&&typeof ae!="symbol"&&typeof ae!="boolean"&&(S.type=ae),C!=null||L!=null){if(!(ae!=="submit"&&ae!=="reset"||C!=null)){ns(S);return}L=L!=null?""+mr(L):"",C=C!=null?""+mr(C):L,Ee||C===S.value||(S.value=C),S.defaultValue=C}Y=Y??ne,Y=typeof Y!="function"&&typeof Y!="symbol"&&!!Y,S.checked=Ee?S.checked:!!Y,S.defaultChecked=!!Y,fe!=null&&typeof fe!="function"&&typeof fe!="symbol"&&typeof fe!="boolean"&&(S.name=fe),ns(S)}function Yn(S,C,L){C==="number"&&Kn(S.ownerDocument)===S||S.defaultValue===""+L||(S.defaultValue=""+L)}function _i(S,C,L,Y){if(S=S.options,C){C={};for(var ne=0;ne<L.length;ne++)C["$"+L[ne]]=!0;for(L=0;L<S.length;L++)ne=C.hasOwnProperty("$"+S[L].value),S[L].selected!==ne&&(S[L].selected=ne),ne&&Y&&(S[L].defaultSelected=!0)}else{for(L=""+mr(L),C=null,ne=0;ne<S.length;ne++){if(S[ne].value===L){S[ne].selected=!0,Y&&(S[ne].defaultSelected=!0);return}C!==null||S[ne].disabled||(C=S[ne])}C!==null&&(C.selected=!0)}}function ji(S,C,L){if(C!=null&&(C=""+mr(C),C!==S.value&&(S.value=C),L==null)){S.defaultValue!==C&&(S.defaultValue=C);return}S.defaultValue=L!=null?""+mr(L):""}function hs(S,C,L,Y){if(C==null){if(Y!=null){if(L!=null)throw Error(i(92));if(le(Y)){if(1<Y.length)throw Error(i(93));Y=Y[0]}L=Y}L==null&&(L=""),C=L}L=mr(C),S.defaultValue=L,Y=S.textContent,Y===L&&Y!==""&&Y!==null&&(S.value=Y),ns(S)}function Bi(S,C){if(C){var L=S.firstChild;if(L&&L===S.lastChild&&L.nodeType===3){L.nodeValue=C;return}}S.textContent=C}var Ai=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bi(S,C,L){var Y=C.indexOf("--")===0;L==null||typeof L=="boolean"||L===""?Y?S.setProperty(C,""):C==="float"?S.cssFloat="":S[C]="":Y?S.setProperty(C,L):typeof L!="number"||L===0||Ai.has(C)?C==="float"?S.cssFloat=L:S[C]=(""+L).trim():S[C]=L+"px"}function fi(S,C,L){if(C!=null&&typeof C!="object")throw Error(i(62));if(S=S.style,L!=null){for(var Y in L)!L.hasOwnProperty(Y)||C!=null&&C.hasOwnProperty(Y)||(Y.indexOf("--")===0?S.setProperty(Y,""):Y==="float"?S.cssFloat="":S[Y]="");for(var ne in C)Y=C[ne],C.hasOwnProperty(ne)&&L[ne]!==Y&&bi(S,ne,Y)}else for(var ae in C)C.hasOwnProperty(ae)&&bi(S,ae,C[ae])}function Ne(S){if(S.indexOf("-")===-1)return!1;switch(S){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ke=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),it=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vt(S){return it.test(""+S)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":S}function $t(){}var Pt=null;function Yt(S){return S=S.target||S.srcElement||window,S.correspondingUseElement&&(S=S.correspondingUseElement),S.nodeType===3?S.parentNode:S}var er=null,qr=null;function Vr(S){var C=Er(S);if(C&&(S=C.stateNode)){var L=S[Bt]||null;e:switch(S=C.stateNode,C.type){case"input":if(ki(S,L.value,L.defaultValue,L.defaultValue,L.checked,L.defaultChecked,L.type,L.name),C=L.name,L.type==="radio"&&C!=null){for(L=S;L.parentNode;)L=L.parentNode;for(L=L.querySelectorAll('input[name="'+Hn(""+C)+'"][type="radio"]'),C=0;C<L.length;C++){var Y=L[C];if(Y!==S&&Y.form===S.form){var ne=Y[Bt]||null;if(!ne)throw Error(i(90));ki(Y,ne.value,ne.defaultValue,ne.defaultValue,ne.checked,ne.defaultChecked,ne.type,ne.name)}}for(C=0;C<L.length;C++)Y=L[C],Y.form===S.form&&Oi(Y)}break e;case"textarea":ji(S,L.value,L.defaultValue);break e;case"select":C=L.value,C!=null&&_i(S,!!L.multiple,C,!1)}}}var Rr=!1;function un(S,C,L){if(Rr)return S(C,L);Rr=!0;try{var Y=S(C);return Y}finally{if(Rr=!1,(er!==null||qr!==null)&&(Tu(),er&&(C=er,S=qr,qr=er=null,Vr(C),S)))for(C=0;C<S.length;C++)Vr(S[C])}}function wr(S,C){var L=S.stateNode;if(L===null)return null;var Y=L[Bt]||null;if(Y===null)return null;L=Y[C];e:switch(C){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(Y=!Y.disabled)||(S=S.type,Y=!(S==="button"||S==="input"||S==="select"||S==="textarea")),S=!Y;break e;default:S=!1}if(S)return null;if(L&&typeof L!="function")throw Error(i(231,C,typeof L));return L}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tn=!1;if(fn)try{var bn={};Object.defineProperty(bn,"passive",{get:function(){Tn=!0}}),window.addEventListener("test",bn,bn),window.removeEventListener("test",bn,bn)}catch{Tn=!1}var ln=null,ss=null,Ri=null;function Mi(){if(Ri)return Ri;var S,C=ss,L=C.length,Y,ne="value"in ln?ln.value:ln.textContent,ae=ne.length;for(S=0;S<L&&C[S]===ne[S];S++);var fe=L-S;for(Y=1;Y<=fe&&C[L-Y]===ne[ae-Y];Y++);return Ri=ne.slice(S,1<Y?1-Y:void 0)}function zi(S){var C=S.keyCode;return"charCode"in S?(S=S.charCode,S===0&&C===13&&(S=13)):S=C,S===10&&(S=13),32<=S||S===13?S:0}function Ae(){return!0}function Fe(){return!1}function tt(S){function C(L,Y,ne,ae,fe){this._reactName=L,this._targetInst=ne,this.type=Y,this.nativeEvent=ae,this.target=fe,this.currentTarget=null;for(var Ee in S)S.hasOwnProperty(Ee)&&(L=S[Ee],this[Ee]=L?L(ae):ae[Ee]);return this.isDefaultPrevented=(ae.defaultPrevented!=null?ae.defaultPrevented:ae.returnValue===!1)?Ae:Fe,this.isPropagationStopped=Fe,this}return g(C.prototype,{preventDefault:function(){this.defaultPrevented=!0;var L=this.nativeEvent;L&&(L.preventDefault?L.preventDefault():typeof L.returnValue!="unknown"&&(L.returnValue=!1),this.isDefaultPrevented=Ae)},stopPropagation:function(){var L=this.nativeEvent;L&&(L.stopPropagation?L.stopPropagation():typeof L.cancelBubble!="unknown"&&(L.cancelBubble=!0),this.isPropagationStopped=Ae)},persist:function(){},isPersistent:Ae}),C}var Wt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(S){return S.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mr=tt(Wt),Xr=g({},Wt,{view:0,detail:0}),vn=tt(Xr),$r,dn,On,qn=g({},Xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:At,button:0,buttons:0,relatedTarget:function(S){return S.relatedTarget===void 0?S.fromElement===S.srcElement?S.toElement:S.fromElement:S.relatedTarget},movementX:function(S){return"movementX"in S?S.movementX:(S!==On&&(On&&S.type==="mousemove"?($r=S.screenX-On.screenX,dn=S.screenY-On.screenY):dn=$r=0,On=S),$r)},movementY:function(S){return"movementY"in S?S.movementY:dn}}),fs=tt(qn),oa=g({},qn,{dataTransfer:0}),ee=tt(oa),se=g({},Xr,{relatedTarget:0}),ue=tt(se),ce=g({},Wt,{animationName:0,elapsedTime:0,pseudoElement:0}),pe=tt(ce),me=g({},Wt,{clipboardData:function(S){return"clipboardData"in S?S.clipboardData:window.clipboardData}}),ye=tt(me),ke=g({},Wt,{data:0}),Ie=tt(ke),Ve={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function st(S){var C=this.nativeEvent;return C.getModifierState?C.getModifierState(S):(S=mt[S])?!!C[S]:!1}function At(){return st}var gr=g({},Xr,{key:function(S){if(S.key){var C=Ve[S.key]||S.key;if(C!=="Unidentified")return C}return S.type==="keypress"?(S=zi(S),S===13?"Enter":String.fromCharCode(S)):S.type==="keydown"||S.type==="keyup"?dt[S.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:At,charCode:function(S){return S.type==="keypress"?zi(S):0},keyCode:function(S){return S.type==="keydown"||S.type==="keyup"?S.keyCode:0},which:function(S){return S.type==="keypress"?zi(S):S.type==="keydown"||S.type==="keyup"?S.keyCode:0}}),Gr=tt(gr),Cr=g({},qn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fn=tt(Cr),kn=g({},Xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:At}),Hi=tt(kn),qi=g({},Wt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Br=tt(qi),ys=g({},qn,{deltaX:function(S){return"deltaX"in S?S.deltaX:"wheelDeltaX"in S?-S.wheelDeltaX:0},deltaY:function(S){return"deltaY"in S?S.deltaY:"wheelDeltaY"in S?-S.wheelDeltaY:"wheelDelta"in S?-S.wheelDelta:0},deltaZ:0,deltaMode:0}),Jr=tt(ys),Mn=g({},Wt,{newState:0,oldState:0}),ua=tt(Mn),no=[9,13,27,32],vi=fn&&"CompositionEvent"in window,as=null;fn&&"documentMode"in document&&(as=document.documentMode);var Fi=fn&&"TextEvent"in window&&!as,os=fn&&(!vi||as&&8<as&&11>=as),us=" ",pi=!1;function Ta(S,C){switch(S){case"keyup":return no.indexOf(C.keyCode)!==-1;case"keydown":return C.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ui(S){return S=S.detail,typeof S=="object"&&"data"in S?S.data:null}var di=!1;function Qu(S,C){switch(S){case"compositionend":return Ui(C);case"keypress":return C.which!==32?null:(pi=!0,us);case"textInput":return S=C.data,S===us&&pi?null:S;default:return null}}function Zu(S,C){if(di)return S==="compositionend"||!vi&&Ta(S,C)?(S=Mi(),Ri=ss=ln=null,di=!1,S):null;switch(S){case"paste":return null;case"keypress":if(!(C.ctrlKey||C.altKey||C.metaKey)||C.ctrlKey&&C.altKey){if(C.char&&1<C.char.length)return C.char;if(C.which)return String.fromCharCode(C.which)}return null;case"compositionend":return os&&C.locale!=="ko"?null:C.data;default:return null}}var el={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tn(S){var C=S&&S.nodeName&&S.nodeName.toLowerCase();return C==="input"?!!el[S.type]:C==="textarea"}function la(S,C,L,Y){er?qr?qr.push(Y):qr=[Y]:er=Y,C=Du(C,"onChange"),0<C.length&&(L=new Mr("onChange","change",null,L,Y),S.push({event:L,listeners:C}))}var ri=null,Wi=null;function tl(S){Tf(S,0)}function Aa(S){var C=an(S);if(Oi(C))return S}function io(S,C){if(S==="change")return C}var ps=!1;if(fn){var ca;if(fn){var Vi="oninput"in document;if(!Vi){var so=document.createElement("div");so.setAttribute("oninput","return;"),Vi=typeof so.oninput=="function"}ca=Vi}else ca=!1;ps=ca&&(!document.documentMode||9<document.documentMode)}function ks(){ri&&(ri.detachEvent("onpropertychange",da),Wi=ri=null)}function da(S){if(S.propertyName==="value"&&Aa(Wi)){var C=[];la(C,Wi,S,Yt(S)),un(tl,C)}}function Ra(S,C,L){S==="focusin"?(ks(),ri=C,Wi=L,ri.attachEvent("onpropertychange",da)):S==="focusout"&&ks()}function ao(S){if(S==="selectionchange"||S==="keyup"||S==="keydown")return Aa(Wi)}function rl(S,C){if(S==="click")return Aa(C)}function Ma(S,C){if(S==="input"||S==="change")return Aa(C)}function oo(S,C){return S===C&&(S!==0||1/S===1/C)||S!==S&&C!==C}var ni=typeof Object.is=="function"?Object.is:oo;function ha(S,C){if(ni(S,C))return!0;if(typeof S!="object"||S===null||typeof C!="object"||C===null)return!1;var L=Object.keys(S),Y=Object.keys(C);if(L.length!==Y.length)return!1;for(Y=0;Y<L.length;Y++){var ne=L[Y];if(!We.call(C,ne)||!ni(S[ne],C[ne]))return!1}return!0}function $a(S){for(;S&&S.firstChild;)S=S.firstChild;return S}function uo(S,C){var L=$a(S);S=0;for(var Y;L;){if(L.nodeType===3){if(Y=S+L.textContent.length,S<=C&&Y>=C)return{node:L,offset:C-S};S=Y}e:{for(;L;){if(L.nextSibling){L=L.nextSibling;break e}L=L.parentNode}L=void 0}L=$a(L)}}function Te(S,C){return S&&C?S===C?!0:S&&S.nodeType===3?!1:C&&C.nodeType===3?Te(S,C.parentNode):"contains"in S?S.contains(C):S.compareDocumentPosition?!!(S.compareDocumentPosition(C)&16):!1:!1}function ze(S){S=S!=null&&S.ownerDocument!=null&&S.ownerDocument.defaultView!=null?S.ownerDocument.defaultView:window;for(var C=Kn(S.document);C instanceof S.HTMLIFrameElement;){try{var L=typeof C.contentWindow.location.href=="string"}catch{L=!1}if(L)S=C.contentWindow;else break;C=Kn(S.document)}return C}function et(S){var C=S&&S.nodeName&&S.nodeName.toLowerCase();return C&&(C==="input"&&(S.type==="text"||S.type==="search"||S.type==="tel"||S.type==="url"||S.type==="password")||C==="textarea"||S.contentEditable==="true")}var lt=fn&&"documentMode"in document&&11>=document.documentMode,ft=null,Dt=null,zt=null,Zt=!1;function Ft(S,C,L){var Y=L.window===L?L.document:L.nodeType===9?L:L.ownerDocument;Zt||ft==null||ft!==Kn(Y)||(Y=ft,"selectionStart"in Y&&et(Y)?Y={start:Y.selectionStart,end:Y.selectionEnd}:(Y=(Y.ownerDocument&&Y.ownerDocument.defaultView||window).getSelection(),Y={anchorNode:Y.anchorNode,anchorOffset:Y.anchorOffset,focusNode:Y.focusNode,focusOffset:Y.focusOffset}),zt&&ha(zt,Y)||(zt=Y,Y=Du(Dt,"onSelect"),0<Y.length&&(C=new Mr("onSelect","select",null,C,L),S.push({event:C,listeners:Y}),C.target=ft)))}function vr(S,C){var L={};return L[S.toLowerCase()]=C.toLowerCase(),L["Webkit"+S]="webkit"+C,L["Moz"+S]="moz"+C,L}var or={animationend:vr("Animation","AnimationEnd"),animationiteration:vr("Animation","AnimationIteration"),animationstart:vr("Animation","AnimationStart"),transitionrun:vr("Transition","TransitionRun"),transitionstart:vr("Transition","TransitionStart"),transitioncancel:vr("Transition","TransitionCancel"),transitionend:vr("Transition","TransitionEnd")},pr={},Dr={};fn&&(Dr=document.createElement("div").style,"AnimationEvent"in window||(delete or.animationend.animation,delete or.animationiteration.animation,delete or.animationstart.animation),"TransitionEvent"in window||delete or.transitionend.transition);function nr(S){if(pr[S])return pr[S];if(!or[S])return S;var C=or[S],L;for(L in C)if(C.hasOwnProperty(L)&&L in Dr)return pr[S]=C[L];return S}var mn=nr("animationend"),ii=nr("animationiteration"),Xn=nr("animationstart"),yi=nr("transitionrun"),Gi=nr("transitionstart"),js=nr("transitioncancel"),Qn=nr("transitionend"),sd=new Map,nl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nl.push("scrollEnd");function ls(S,C){sd.set(S,C),ei(C,[S])}var Vo=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var C=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(C))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},Ki=[],Ia=0,il=0;function Go(){for(var S=Ia,C=il=Ia=0;C<S;){var L=Ki[C];Ki[C++]=null;var Y=Ki[C];Ki[C++]=null;var ne=Ki[C];Ki[C++]=null;var ae=Ki[C];if(Ki[C++]=null,Y!==null&&ne!==null){var fe=Y.pending;fe===null?ne.next=ne:(ne.next=fe.next,fe.next=ne),Y.pending=ne}ae!==0&&ad(L,ne,ae)}}function Ko(S,C,L,Y){Ki[Ia++]=S,Ki[Ia++]=C,Ki[Ia++]=L,Ki[Ia++]=Y,il|=Y,S.lanes|=Y,S=S.alternate,S!==null&&(S.lanes|=Y)}function sl(S,C,L,Y){return Ko(S,C,L,Y),Yo(S)}function fa(S,C){return Ko(S,null,null,C),Yo(S)}function ad(S,C,L){S.lanes|=L;var Y=S.alternate;Y!==null&&(Y.lanes|=L);for(var ne=!1,ae=S.return;ae!==null;)ae.childLanes|=L,Y=ae.alternate,Y!==null&&(Y.childLanes|=L),ae.tag===22&&(S=ae.stateNode,S===null||S._visibility&1||(ne=!0)),S=ae,ae=ae.return;return S.tag===3?(ae=S.stateNode,ne&&C!==null&&(ne=31-ht(L),S=ae.hiddenUpdates,Y=S[ne],Y===null?S[ne]=[C]:Y.push(C),C.lane=L|536870912),ae):null}function Yo(S){if(50<Io)throw Io=0,mc=null,Error(i(185));for(var C=S.return;C!==null;)S=C,C=S.return;return S.tag===3?S.stateNode:null}var Pa={};function Cp(S,C,L,Y){this.tag=S,this.key=L,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=C,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $i(S,C,L,Y){return new Cp(S,C,L,Y)}function al(S){return S=S.prototype,!(!S||!S.isReactComponent)}function xs(S,C){var L=S.alternate;return L===null?(L=$i(S.tag,C,S.key,S.mode),L.elementType=S.elementType,L.type=S.type,L.stateNode=S.stateNode,L.alternate=S,S.alternate=L):(L.pendingProps=C,L.type=S.type,L.flags=0,L.subtreeFlags=0,L.deletions=null),L.flags=S.flags&65011712,L.childLanes=S.childLanes,L.lanes=S.lanes,L.child=S.child,L.memoizedProps=S.memoizedProps,L.memoizedState=S.memoizedState,L.updateQueue=S.updateQueue,C=S.dependencies,L.dependencies=C===null?null:{lanes:C.lanes,firstContext:C.firstContext},L.sibling=S.sibling,L.index=S.index,L.ref=S.ref,L.refCleanup=S.refCleanup,L}function od(S,C){S.flags&=65011714;var L=S.alternate;return L===null?(S.childLanes=0,S.lanes=C,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=L.childLanes,S.lanes=L.lanes,S.child=L.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=L.memoizedProps,S.memoizedState=L.memoizedState,S.updateQueue=L.updateQueue,S.type=L.type,C=L.dependencies,S.dependencies=C===null?null:{lanes:C.lanes,firstContext:C.firstContext}),S}function Xo(S,C,L,Y,ne,ae){var fe=0;if(Y=S,typeof S=="function")al(S)&&(fe=1);else if(typeof S=="string")fe=Im(S,L,Ge.current)?26:S==="html"||S==="head"||S==="body"?27:5;else e:switch(S){case F:return S=$i(31,L,C,ne),S.elementType=F,S.lanes=ae,S;case T:return pa(L.children,ne,ae,C);case P:fe=8,ne|=24;break;case A:return S=$i(12,L,C,ne|2),S.elementType=A,S.lanes=ae,S;case B:return S=$i(13,L,C,ne),S.elementType=B,S.lanes=ae,S;case Z:return S=$i(19,L,C,ne),S.elementType=Z,S.lanes=ae,S;default:if(typeof S=="object"&&S!==null)switch(S.$$typeof){case k:fe=10;break e;case D:fe=9;break e;case j:fe=11;break e;case R:fe=14;break e;case G:fe=16,Y=null;break e}fe=29,L=Error(i(130,S===null?"null":typeof S,"")),Y=null}return C=$i(fe,L,C,ne),C.elementType=S,C.type=Y,C.lanes=ae,C}function pa(S,C,L,Y){return S=$i(7,S,Y,C),S.lanes=L,S}function ol(S,C,L){return S=$i(6,S,null,C),S.lanes=L,S}function ud(S){var C=$i(18,null,null,0);return C.stateNode=S,C}function ul(S,C,L){return C=$i(4,S.children!==null?S.children:[],S.key,C),C.lanes=L,C.stateNode={containerInfo:S.containerInfo,pendingChildren:null,implementation:S.implementation},C}var ld=new WeakMap;function Yi(S,C){if(typeof S=="object"&&S!==null){var L=ld.get(S);return L!==void 0?L:(C={value:S,source:C,stack:Ue(C)},ld.set(S,C),C)}return{value:S,source:C,stack:Ue(C)}}var Da=[],La=0,Jo=null,lo=0,Xi=[],Ji=0,Bs=null,ms=1,gs="";function Es(S,C){Da[La++]=lo,Da[La++]=Jo,Jo=S,lo=C}function cd(S,C,L){Xi[Ji++]=ms,Xi[Ji++]=gs,Xi[Ji++]=Bs,Bs=S;var Y=ms;S=gs;var ne=32-ht(Y)-1;Y&=~(1<<ne),L+=1;var ae=32-ht(C)+ne;if(30<ae){var fe=ne-ne%5;ae=(Y&(1<<fe)-1).toString(32),Y>>=fe,ne-=fe,ms=1<<32-ht(C)+ne|L<<ne|Y,gs=ae+S}else ms=1<<ae|L<<ne|Y,gs=S}function ll(S){S.return!==null&&(Es(S,1),cd(S,1,0))}function cl(S){for(;S===Jo;)Jo=Da[--La],Da[La]=null,lo=Da[--La],Da[La]=null;for(;S===Bs;)Bs=Xi[--Ji],Xi[Ji]=null,gs=Xi[--Ji],Xi[Ji]=null,ms=Xi[--Ji],Xi[Ji]=null}function dd(S,C){Xi[Ji++]=ms,Xi[Ji++]=gs,Xi[Ji++]=Bs,ms=C.id,gs=C.overflow,Bs=S}var si=null,An=null,Qr=!1,zs=null,Qi=!1,hl=Error(i(519));function Hs(S){var C=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw co(Yi(C,S)),hl}function hd(S){var C=S.stateNode,L=S.type,Y=S.memoizedProps;switch(C[Lt]=S,C[Bt]=Y,L){case"dialog":Ur("cancel",C),Ur("close",C);break;case"iframe":case"object":case"embed":Ur("load",C);break;case"video":case"audio":for(L=0;L<Do.length;L++)Ur(Do[L],C);break;case"source":Ur("error",C);break;case"img":case"image":case"link":Ur("error",C),Ur("load",C);break;case"details":Ur("toggle",C);break;case"input":Ur("invalid",C),vs(C,Y.value,Y.defaultValue,Y.checked,Y.defaultChecked,Y.type,Y.name,!0);break;case"select":Ur("invalid",C);break;case"textarea":Ur("invalid",C),hs(C,Y.value,Y.defaultValue,Y.children)}L=Y.children,typeof L!="string"&&typeof L!="number"&&typeof L!="bigint"||C.textContent===""+L||Y.suppressHydrationWarning===!0||$f(C.textContent,L)?(Y.popover!=null&&(Ur("beforetoggle",C),Ur("toggle",C)),Y.onScroll!=null&&Ur("scroll",C),Y.onScrollEnd!=null&&Ur("scrollend",C),Y.onClick!=null&&(C.onclick=$t),C=!0):C=!1,C||Hs(S,!0)}function fd(S){for(si=S.return;si;)switch(si.tag){case 5:case 31:case 13:Qi=!1;return;case 27:case 3:Qi=!0;return;default:si=si.return}}function Na(S){if(S!==si)return!1;if(!Qr)return fd(S),Qr=!0,!1;var C=S.tag,L;if((L=C!==3&&C!==27)&&((L=C===5)&&(L=S.type,L=!(L!=="form"&&L!=="button")||$c(S.type,S.memoizedProps)),L=!L),L&&An&&Hs(S),fd(S),C===13){if(S=S.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(i(317));An=Bf(S)}else if(C===31){if(S=S.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(i(317));An=Bf(S)}else C===27?(C=An,ta(S.type)?(S=Nc,Nc=null,An=S):An=C):An=si?es(S.stateNode.nextSibling):null;return!0}function ma(){An=si=null,Qr=!1}function fl(){var S=zs;return S!==null&&(wi===null?wi=S:wi.push.apply(wi,S),zs=null),S}function co(S){zs===null?zs=[S]:zs.push(S)}var pl=xe(null),ga=null,Ss=null;function qs(S,C,L){Se(pl,C._currentValue),C._currentValue=L}function Cs(S){S._currentValue=pl.current,Re(pl)}function ml(S,C,L){for(;S!==null;){var Y=S.alternate;if((S.childLanes&C)!==C?(S.childLanes|=C,Y!==null&&(Y.childLanes|=C)):Y!==null&&(Y.childLanes&C)!==C&&(Y.childLanes|=C),S===L)break;S=S.return}}function gl(S,C,L,Y){var ne=S.child;for(ne!==null&&(ne.return=S);ne!==null;){var ae=ne.dependencies;if(ae!==null){var fe=ne.child;ae=ae.firstContext;e:for(;ae!==null;){var Ee=ae;ae=ne;for(var je=0;je<C.length;je++)if(Ee.context===C[je]){ae.lanes|=L,Ee=ae.alternate,Ee!==null&&(Ee.lanes|=L),ml(ae.return,L,S),Y||(fe=null);break e}ae=Ee.next}}else if(ne.tag===18){if(fe=ne.return,fe===null)throw Error(i(341));fe.lanes|=L,ae=fe.alternate,ae!==null&&(ae.lanes|=L),ml(fe,L,S),fe=null}else fe=ne.child;if(fe!==null)fe.return=ne;else for(fe=ne;fe!==null;){if(fe===S){fe=null;break}if(ne=fe.sibling,ne!==null){ne.return=fe.return,fe=ne;break}fe=fe.return}ne=fe}}function Oa(S,C,L,Y){S=null;for(var ne=C,ae=!1;ne!==null;){if(!ae){if((ne.flags&524288)!==0)ae=!0;else if((ne.flags&262144)!==0)break}if(ne.tag===10){var fe=ne.alternate;if(fe===null)throw Error(i(387));if(fe=fe.memoizedProps,fe!==null){var Ee=ne.type;ni(ne.pendingProps.value,fe.value)||(S!==null?S.push(Ee):S=[Ee])}}else if(ne===Xe.current){if(fe=ne.alternate,fe===null)throw Error(i(387));fe.memoizedState.memoizedState!==ne.memoizedState.memoizedState&&(S!==null?S.push(jo):S=[jo])}ne=ne.return}S!==null&&gl(C,S,L,Y),C.flags|=262144}function Qo(S){for(S=S.firstContext;S!==null;){if(!ni(S.context._currentValue,S.memoizedValue))return!0;S=S.next}return!1}function _a(S){ga=S,Ss=null,S=S.dependencies,S!==null&&(S.firstContext=null)}function ai(S){return pd(ga,S)}function Zo(S,C){return ga===null&&_a(S),pd(S,C)}function pd(S,C){var L=C._currentValue;if(C={context:C,memoizedValue:L,next:null},Ss===null){if(S===null)throw Error(i(308));Ss=C,S.dependencies={lanes:0,firstContext:C},S.flags|=524288}else Ss=Ss.next=C;return L}var Tp=typeof AbortController<"u"?AbortController:function(){var S=[],C=this.signal={aborted:!1,addEventListener:function(L,Y){S.push(Y)}};this.abort=function(){C.aborted=!0,S.forEach(function(L){return L()})}},Ap=t.unstable_scheduleCallback,Rp=t.unstable_NormalPriority,Un={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _l(){return{controller:new Tp,data:new Map,refCount:0}}function ho(S){S.refCount--,S.refCount===0&&Ap(Rp,function(){S.controller.abort()})}var fo=null,bl=0,ka=0,ja=null;function Mp(S,C){if(fo===null){var L=fo=[];bl=0,ka=xc(),ja={status:"pending",value:void 0,then:function(Y){L.push(Y)}}}return bl++,C.then(md,md),C}function md(){if(--bl===0&&fo!==null){ja!==null&&(ja.status="fulfilled");var S=fo;fo=null,ka=0,ja=null;for(var C=0;C<S.length;C++)(0,S[C])()}}function $p(S,C){var L=[],Y={status:"pending",value:null,reason:null,then:function(ne){L.push(ne)}};return S.then(function(){Y.status="fulfilled",Y.value=C;for(var ne=0;ne<L.length;ne++)(0,L[ne])(C)},function(ne){for(Y.status="rejected",Y.reason=ne,ne=0;ne<L.length;ne++)(0,L[ne])(void 0)}),Y}var gd=de.S;de.S=function(S,C){Zh=Nt(),typeof C=="object"&&C!==null&&typeof C.then=="function"&&Mp(S,C),gd!==null&&gd(S,C)};var ba=xe(null);function vl(){var S=ba.current;return S!==null?S:Sn.pooledCache}function eu(S,C){C===null?Se(ba,ba.current):Se(ba,C.pool)}function _d(){var S=vl();return S===null?null:{parent:Un._currentValue,pool:S}}var Ba=Error(i(460)),yl=Error(i(474)),tu=Error(i(542)),ru={then:function(){}};function bd(S){return S=S.status,S==="fulfilled"||S==="rejected"}function vd(S,C,L){switch(L=S[L],L===void 0?S.push(C):L!==C&&(C.then($t,$t),C=L),C.status){case"fulfilled":return C.value;case"rejected":throw S=C.reason,xd(S),S;default:if(typeof C.status=="string")C.then($t,$t);else{if(S=Sn,S!==null&&100<S.shellSuspendCounter)throw Error(i(482));S=C,S.status="pending",S.then(function(Y){if(C.status==="pending"){var ne=C;ne.status="fulfilled",ne.value=Y}},function(Y){if(C.status==="pending"){var ne=C;ne.status="rejected",ne.reason=Y}})}switch(C.status){case"fulfilled":return C.value;case"rejected":throw S=C.reason,xd(S),S}throw ya=C,Ba}}function va(S){try{var C=S._init;return C(S._payload)}catch(L){throw L!==null&&typeof L=="object"&&typeof L.then=="function"?(ya=L,Ba):L}}var ya=null;function yd(){if(ya===null)throw Error(i(459));var S=ya;return ya=null,S}function xd(S){if(S===Ba||S===tu)throw Error(i(483))}var za=null,po=0;function nu(S){var C=po;return po+=1,za===null&&(za=[]),vd(za,S,C)}function mo(S,C){C=C.props.ref,S.ref=C!==void 0?C:null}function iu(S,C){throw C.$$typeof===v?Error(i(525)):(S=Object.prototype.toString.call(C),Error(i(31,S==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":S)))}function Ed(S){function C(Ye,He){if(S){var rt=Ye.deletions;rt===null?(Ye.deletions=[He],Ye.flags|=16):rt.push(He)}}function L(Ye,He){if(!S)return null;for(;He!==null;)C(Ye,He),He=He.sibling;return null}function Y(Ye){for(var He=new Map;Ye!==null;)Ye.key!==null?He.set(Ye.key,Ye):He.set(Ye.index,Ye),Ye=Ye.sibling;return He}function ne(Ye,He){return Ye=xs(Ye,He),Ye.index=0,Ye.sibling=null,Ye}function ae(Ye,He,rt){return Ye.index=rt,S?(rt=Ye.alternate,rt!==null?(rt=rt.index,rt<He?(Ye.flags|=67108866,He):rt):(Ye.flags|=67108866,He)):(Ye.flags|=1048576,He)}function fe(Ye){return S&&Ye.alternate===null&&(Ye.flags|=67108866),Ye}function Ee(Ye,He,rt,bt){return He===null||He.tag!==6?(He=ol(rt,Ye.mode,bt),He.return=Ye,He):(He=ne(He,rt),He.return=Ye,He)}function je(Ye,He,rt,bt){var ur=rt.type;return ur===T?pt(Ye,He,rt.props.children,bt,rt.key):He!==null&&(He.elementType===ur||typeof ur=="object"&&ur!==null&&ur.$$typeof===G&&va(ur)===He.type)?(He=ne(He,rt.props),mo(He,rt),He.return=Ye,He):(He=Xo(rt.type,rt.key,rt.props,null,Ye.mode,bt),mo(He,rt),He.return=Ye,He)}function nt(Ye,He,rt,bt){return He===null||He.tag!==4||He.stateNode.containerInfo!==rt.containerInfo||He.stateNode.implementation!==rt.implementation?(He=ul(rt,Ye.mode,bt),He.return=Ye,He):(He=ne(He,rt.children||[]),He.return=Ye,He)}function pt(Ye,He,rt,bt,ur){return He===null||He.tag!==7?(He=pa(rt,Ye.mode,bt,ur),He.return=Ye,He):(He=ne(He,rt),He.return=Ye,He)}function xt(Ye,He,rt){if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return He=ol(""+He,Ye.mode,rt),He.return=Ye,He;if(typeof He=="object"&&He!==null){switch(He.$$typeof){case y:return rt=Xo(He.type,He.key,He.props,null,Ye.mode,rt),mo(rt,He),rt.return=Ye,rt;case w:return He=ul(He,Ye.mode,rt),He.return=Ye,He;case G:return He=va(He),xt(Ye,He,rt)}if(le(He)||ie(He))return He=pa(He,Ye.mode,rt,null),He.return=Ye,He;if(typeof He.then=="function")return xt(Ye,nu(He),rt);if(He.$$typeof===k)return xt(Ye,Zo(Ye,He),rt);iu(Ye,He)}return null}function at(Ye,He,rt,bt){var ur=He!==null?He.key:null;if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return ur!==null?null:Ee(Ye,He,""+rt,bt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case y:return rt.key===ur?je(Ye,He,rt,bt):null;case w:return rt.key===ur?nt(Ye,He,rt,bt):null;case G:return rt=va(rt),at(Ye,He,rt,bt)}if(le(rt)||ie(rt))return ur!==null?null:pt(Ye,He,rt,bt,null);if(typeof rt.then=="function")return at(Ye,He,nu(rt),bt);if(rt.$$typeof===k)return at(Ye,He,Zo(Ye,rt),bt);iu(Ye,rt)}return null}function ct(Ye,He,rt,bt,ur){if(typeof bt=="string"&&bt!==""||typeof bt=="number"||typeof bt=="bigint")return Ye=Ye.get(rt)||null,Ee(He,Ye,""+bt,ur);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case y:return Ye=Ye.get(bt.key===null?rt:bt.key)||null,je(He,Ye,bt,ur);case w:return Ye=Ye.get(bt.key===null?rt:bt.key)||null,nt(He,Ye,bt,ur);case G:return bt=va(bt),ct(Ye,He,rt,bt,ur)}if(le(bt)||ie(bt))return Ye=Ye.get(rt)||null,pt(He,Ye,bt,ur,null);if(typeof bt.then=="function")return ct(Ye,He,rt,nu(bt),ur);if(bt.$$typeof===k)return ct(Ye,He,rt,Zo(He,bt),ur);iu(He,bt)}return null}function Jt(Ye,He,rt,bt){for(var ur=null,rn=null,rr=He,Ir=He=0,Yr=null;rr!==null&&Ir<rt.length;Ir++){rr.index>Ir?(Yr=rr,rr=null):Yr=rr.sibling;var nn=at(Ye,rr,rt[Ir],bt);if(nn===null){rr===null&&(rr=Yr);break}S&&rr&&nn.alternate===null&&C(Ye,rr),He=ae(nn,He,Ir),rn===null?ur=nn:rn.sibling=nn,rn=nn,rr=Yr}if(Ir===rt.length)return L(Ye,rr),Qr&&Es(Ye,Ir),ur;if(rr===null){for(;Ir<rt.length;Ir++)rr=xt(Ye,rt[Ir],bt),rr!==null&&(He=ae(rr,He,Ir),rn===null?ur=rr:rn.sibling=rr,rn=rr);return Qr&&Es(Ye,Ir),ur}for(rr=Y(rr);Ir<rt.length;Ir++)Yr=ct(rr,Ye,Ir,rt[Ir],bt),Yr!==null&&(S&&Yr.alternate!==null&&rr.delete(Yr.key===null?Ir:Yr.key),He=ae(Yr,He,Ir),rn===null?ur=Yr:rn.sibling=Yr,rn=Yr);return S&&rr.forEach(function(aa){return C(Ye,aa)}),Qr&&Es(Ye,Ir),ur}function fr(Ye,He,rt,bt){if(rt==null)throw Error(i(151));for(var ur=null,rn=null,rr=He,Ir=He=0,Yr=null,nn=rt.next();rr!==null&&!nn.done;Ir++,nn=rt.next()){rr.index>Ir?(Yr=rr,rr=null):Yr=rr.sibling;var aa=at(Ye,rr,nn.value,bt);if(aa===null){rr===null&&(rr=Yr);break}S&&rr&&aa.alternate===null&&C(Ye,rr),He=ae(aa,He,Ir),rn===null?ur=aa:rn.sibling=aa,rn=aa,rr=Yr}if(nn.done)return L(Ye,rr),Qr&&Es(Ye,Ir),ur;if(rr===null){for(;!nn.done;Ir++,nn=rt.next())nn=xt(Ye,nn.value,bt),nn!==null&&(He=ae(nn,He,Ir),rn===null?ur=nn:rn.sibling=nn,rn=nn);return Qr&&Es(Ye,Ir),ur}for(rr=Y(rr);!nn.done;Ir++,nn=rt.next())nn=ct(rr,Ye,Ir,nn.value,bt),nn!==null&&(S&&nn.alternate!==null&&rr.delete(nn.key===null?Ir:nn.key),He=ae(nn,He,Ir),rn===null?ur=nn:rn.sibling=nn,rn=nn);return S&&rr.forEach(function(qm){return C(Ye,qm)}),Qr&&Es(Ye,Ir),ur}function En(Ye,He,rt,bt){if(typeof rt=="object"&&rt!==null&&rt.type===T&&rt.key===null&&(rt=rt.props.children),typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case y:e:{for(var ur=rt.key;He!==null;){if(He.key===ur){if(ur=rt.type,ur===T){if(He.tag===7){L(Ye,He.sibling),bt=ne(He,rt.props.children),bt.return=Ye,Ye=bt;break e}}else if(He.elementType===ur||typeof ur=="object"&&ur!==null&&ur.$$typeof===G&&va(ur)===He.type){L(Ye,He.sibling),bt=ne(He,rt.props),mo(bt,rt),bt.return=Ye,Ye=bt;break e}L(Ye,He);break}else C(Ye,He);He=He.sibling}rt.type===T?(bt=pa(rt.props.children,Ye.mode,bt,rt.key),bt.return=Ye,Ye=bt):(bt=Xo(rt.type,rt.key,rt.props,null,Ye.mode,bt),mo(bt,rt),bt.return=Ye,Ye=bt)}return fe(Ye);case w:e:{for(ur=rt.key;He!==null;){if(He.key===ur)if(He.tag===4&&He.stateNode.containerInfo===rt.containerInfo&&He.stateNode.implementation===rt.implementation){L(Ye,He.sibling),bt=ne(He,rt.children||[]),bt.return=Ye,Ye=bt;break e}else{L(Ye,He);break}else C(Ye,He);He=He.sibling}bt=ul(rt,Ye.mode,bt),bt.return=Ye,Ye=bt}return fe(Ye);case G:return rt=va(rt),En(Ye,He,rt,bt)}if(le(rt))return Jt(Ye,He,rt,bt);if(ie(rt)){if(ur=ie(rt),typeof ur!="function")throw Error(i(150));return rt=ur.call(rt),fr(Ye,He,rt,bt)}if(typeof rt.then=="function")return En(Ye,He,nu(rt),bt);if(rt.$$typeof===k)return En(Ye,He,Zo(Ye,rt),bt);iu(Ye,rt)}return typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint"?(rt=""+rt,He!==null&&He.tag===6?(L(Ye,He.sibling),bt=ne(He,rt),bt.return=Ye,Ye=bt):(L(Ye,He),bt=ol(rt,Ye.mode,bt),bt.return=Ye,Ye=bt),fe(Ye)):L(Ye,He)}return function(Ye,He,rt,bt){try{po=0;var ur=En(Ye,He,rt,bt);return za=null,ur}catch(rr){if(rr===Ba||rr===tu)throw rr;var rn=$i(29,rr,null,Ye.mode);return rn.lanes=bt,rn.return=Ye,rn}}}var xa=Ed(!0),Sd=Ed(!1),Fs=!1;function xl(S){S.updateQueue={baseState:S.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function El(S,C){S=S.updateQueue,C.updateQueue===S&&(C.updateQueue={baseState:S.baseState,firstBaseUpdate:S.firstBaseUpdate,lastBaseUpdate:S.lastBaseUpdate,shared:S.shared,callbacks:null})}function Us(S){return{lane:S,tag:0,payload:null,callback:null,next:null}}function Ws(S,C,L){var Y=S.updateQueue;if(Y===null)return null;if(Y=Y.shared,(hn&2)!==0){var ne=Y.pending;return ne===null?C.next=C:(C.next=ne.next,ne.next=C),Y.pending=C,C=Yo(S),ad(S,null,L),C}return Ko(S,Y,C,L),Yo(S)}function go(S,C,L){if(C=C.updateQueue,C!==null&&(C=C.shared,(L&4194048)!==0)){var Y=C.lanes;Y&=S.pendingLanes,L|=Y,C.lanes=L,$e(S,L)}}function Sl(S,C){var L=S.updateQueue,Y=S.alternate;if(Y!==null&&(Y=Y.updateQueue,L===Y)){var ne=null,ae=null;if(L=L.firstBaseUpdate,L!==null){do{var fe={lane:L.lane,tag:L.tag,payload:L.payload,callback:null,next:null};ae===null?ne=ae=fe:ae=ae.next=fe,L=L.next}while(L!==null);ae===null?ne=ae=C:ae=ae.next=C}else ne=ae=C;L={baseState:Y.baseState,firstBaseUpdate:ne,lastBaseUpdate:ae,shared:Y.shared,callbacks:Y.callbacks},S.updateQueue=L;return}S=L.lastBaseUpdate,S===null?L.firstBaseUpdate=C:S.next=C,L.lastBaseUpdate=C}var wl=!1;function _o(){if(wl){var S=ja;if(S!==null)throw S}}function bo(S,C,L,Y){wl=!1;var ne=S.updateQueue;Fs=!1;var ae=ne.firstBaseUpdate,fe=ne.lastBaseUpdate,Ee=ne.shared.pending;if(Ee!==null){ne.shared.pending=null;var je=Ee,nt=je.next;je.next=null,fe===null?ae=nt:fe.next=nt,fe=je;var pt=S.alternate;pt!==null&&(pt=pt.updateQueue,Ee=pt.lastBaseUpdate,Ee!==fe&&(Ee===null?pt.firstBaseUpdate=nt:Ee.next=nt,pt.lastBaseUpdate=je))}if(ae!==null){var xt=ne.baseState;fe=0,pt=nt=je=null,Ee=ae;do{var at=Ee.lane&-536870913,ct=at!==Ee.lane;if(ct?(Kr&at)===at:(Y&at)===at){at!==0&&at===ka&&(wl=!0),pt!==null&&(pt=pt.next={lane:0,tag:Ee.tag,payload:Ee.payload,callback:null,next:null});e:{var Jt=S,fr=Ee;at=C;var En=L;switch(fr.tag){case 1:if(Jt=fr.payload,typeof Jt=="function"){xt=Jt.call(En,xt,at);break e}xt=Jt;break e;case 3:Jt.flags=Jt.flags&-65537|128;case 0:if(Jt=fr.payload,at=typeof Jt=="function"?Jt.call(En,xt,at):Jt,at==null)break e;xt=g({},xt,at);break e;case 2:Fs=!0}}at=Ee.callback,at!==null&&(S.flags|=64,ct&&(S.flags|=8192),ct=ne.callbacks,ct===null?ne.callbacks=[at]:ct.push(at))}else ct={lane:at,tag:Ee.tag,payload:Ee.payload,callback:Ee.callback,next:null},pt===null?(nt=pt=ct,je=xt):pt=pt.next=ct,fe|=at;if(Ee=Ee.next,Ee===null){if(Ee=ne.shared.pending,Ee===null)break;ct=Ee,Ee=ct.next,ct.next=null,ne.lastBaseUpdate=ct,ne.shared.pending=null}}while(!0);pt===null&&(je=xt),ne.baseState=je,ne.firstBaseUpdate=nt,ne.lastBaseUpdate=pt,ae===null&&(ne.shared.lanes=0),Xs|=fe,S.lanes=fe,S.memoizedState=xt}}function wd(S,C){if(typeof S!="function")throw Error(i(191,S));S.call(C)}function Cd(S,C){var L=S.callbacks;if(L!==null)for(S.callbacks=null,S=0;S<L.length;S++)wd(L[S],C)}var Ha=xe(null),su=xe(0);function Td(S,C){S=Ls,Se(su,S),Se(Ha,C),Ls=S|C.baseLanes}function Cl(){Se(su,Ls),Se(Ha,Ha.current)}function Tl(){Ls=su.current,Re(Ha),Re(su)}var Ii=xe(null),Zi=null;function Vs(S){var C=S.alternate;Se(jn,jn.current&1),Se(Ii,S),Zi===null&&(C===null||Ha.current!==null||C.memoizedState!==null)&&(Zi=S)}function Al(S){Se(jn,jn.current),Se(Ii,S),Zi===null&&(Zi=S)}function Ad(S){S.tag===22?(Se(jn,jn.current),Se(Ii,S),Zi===null&&(Zi=S)):Gs()}function Gs(){Se(jn,jn.current),Se(Ii,Ii.current)}function Pi(S){Re(Ii),Zi===S&&(Zi=null),Re(jn)}var jn=xe(0);function au(S){for(var C=S;C!==null;){if(C.tag===13){var L=C.memoizedState;if(L!==null&&(L=L.dehydrated,L===null||Dc(L)||Lc(L)))return C}else if(C.tag===19&&(C.memoizedProps.revealOrder==="forwards"||C.memoizedProps.revealOrder==="backwards"||C.memoizedProps.revealOrder==="unstable_legacy-backwards"||C.memoizedProps.revealOrder==="together")){if((C.flags&128)!==0)return C}else if(C.child!==null){C.child.return=C,C=C.child;continue}if(C===S)break;for(;C.sibling===null;){if(C.return===null||C.return===S)return null;C=C.return}C.sibling.return=C.return,C=C.sibling}return null}var Ts=0,Tr=null,yn=null,Wn=null,ou=!1,qa=!1,Ea=!1,uu=0,vo=0,Fa=null,Ip=0;function Ln(){throw Error(i(321))}function Rl(S,C){if(C===null)return!1;for(var L=0;L<C.length&&L<S.length;L++)if(!ni(S[L],C[L]))return!1;return!0}function Ml(S,C,L,Y,ne,ae){return Ts=ae,Tr=C,C.memoizedState=null,C.updateQueue=null,C.lanes=0,de.H=S===null||S.memoizedState===null?ch:Ul,Ea=!1,ae=L(Y,ne),Ea=!1,qa&&(ae=Md(C,L,Y,ne)),Rd(S),ae}function Rd(S){de.H=Eo;var C=yn!==null&&yn.next!==null;if(Ts=0,Wn=yn=Tr=null,ou=!1,vo=0,Fa=null,C)throw Error(i(300));S===null||Vn||(S=S.dependencies,S!==null&&Qo(S)&&(Vn=!0))}function Md(S,C,L,Y){Tr=S;var ne=0;do{if(qa&&(Fa=null),vo=0,qa=!1,25<=ne)throw Error(i(301));if(ne+=1,Wn=yn=null,S.updateQueue!=null){var ae=S.updateQueue;ae.lastEffect=null,ae.events=null,ae.stores=null,ae.memoCache!=null&&(ae.memoCache.index=0)}de.H=dh,ae=C(L,Y)}while(qa);return ae}function Pp(){var S=de.H,C=S.useState()[0];return C=typeof C.then=="function"?yo(C):C,S=S.useState()[0],(yn!==null?yn.memoizedState:null)!==S&&(Tr.flags|=1024),C}function $l(){var S=uu!==0;return uu=0,S}function Il(S,C,L){C.updateQueue=S.updateQueue,C.flags&=-2053,S.lanes&=~L}function Pl(S){if(ou){for(S=S.memoizedState;S!==null;){var C=S.queue;C!==null&&(C.pending=null),S=S.next}ou=!1}Ts=0,Wn=yn=Tr=null,qa=!1,vo=uu=0,Fa=null}function mi(){var S={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?Tr.memoizedState=Wn=S:Wn=Wn.next=S,Wn}function Bn(){if(yn===null){var S=Tr.alternate;S=S!==null?S.memoizedState:null}else S=yn.next;var C=Wn===null?Tr.memoizedState:Wn.next;if(C!==null)Wn=C,yn=S;else{if(S===null)throw Tr.alternate===null?Error(i(467)):Error(i(310));yn=S,S={memoizedState:yn.memoizedState,baseState:yn.baseState,baseQueue:yn.baseQueue,queue:yn.queue,next:null},Wn===null?Tr.memoizedState=Wn=S:Wn=Wn.next=S}return Wn}function lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yo(S){var C=vo;return vo+=1,Fa===null&&(Fa=[]),S=vd(Fa,S,C),C=Tr,(Wn===null?C.memoizedState:Wn.next)===null&&(C=C.alternate,de.H=C===null||C.memoizedState===null?ch:Ul),S}function cu(S){if(S!==null&&typeof S=="object"){if(typeof S.then=="function")return yo(S);if(S.$$typeof===k)return ai(S)}throw Error(i(438,String(S)))}function Dl(S){var C=null,L=Tr.updateQueue;if(L!==null&&(C=L.memoCache),C==null){var Y=Tr.alternate;Y!==null&&(Y=Y.updateQueue,Y!==null&&(Y=Y.memoCache,Y!=null&&(C={data:Y.data.map(function(ne){return ne.slice()}),index:0})))}if(C==null&&(C={data:[],index:0}),L===null&&(L=lu(),Tr.updateQueue=L),L.memoCache=C,L=C.data[C.index],L===void 0)for(L=C.data[C.index]=Array(S),Y=0;Y<S;Y++)L[Y]=K;return C.index++,L}function As(S,C){return typeof C=="function"?C(S):C}function du(S){var C=Bn();return Ll(C,yn,S)}function Ll(S,C,L){var Y=S.queue;if(Y===null)throw Error(i(311));Y.lastRenderedReducer=L;var ne=S.baseQueue,ae=Y.pending;if(ae!==null){if(ne!==null){var fe=ne.next;ne.next=ae.next,ae.next=fe}C.baseQueue=ne=ae,Y.pending=null}if(ae=S.baseState,ne===null)S.memoizedState=ae;else{C=ne.next;var Ee=fe=null,je=null,nt=C,pt=!1;do{var xt=nt.lane&-536870913;if(xt!==nt.lane?(Kr&xt)===xt:(Ts&xt)===xt){var at=nt.revertLane;if(at===0)je!==null&&(je=je.next={lane:0,revertLane:0,gesture:null,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null}),xt===ka&&(pt=!0);else if((Ts&at)===at){nt=nt.next,at===ka&&(pt=!0);continue}else xt={lane:0,revertLane:nt.revertLane,gesture:null,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},je===null?(Ee=je=xt,fe=ae):je=je.next=xt,Tr.lanes|=at,Xs|=at;xt=nt.action,Ea&&L(ae,xt),ae=nt.hasEagerState?nt.eagerState:L(ae,xt)}else at={lane:xt,revertLane:nt.revertLane,gesture:nt.gesture,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null},je===null?(Ee=je=at,fe=ae):je=je.next=at,Tr.lanes|=xt,Xs|=xt;nt=nt.next}while(nt!==null&&nt!==C);if(je===null?fe=ae:je.next=Ee,!ni(ae,S.memoizedState)&&(Vn=!0,pt&&(L=ja,L!==null)))throw L;S.memoizedState=ae,S.baseState=fe,S.baseQueue=je,Y.lastRenderedState=ae}return ne===null&&(Y.lanes=0),[S.memoizedState,Y.dispatch]}function Nl(S){var C=Bn(),L=C.queue;if(L===null)throw Error(i(311));L.lastRenderedReducer=S;var Y=L.dispatch,ne=L.pending,ae=C.memoizedState;if(ne!==null){L.pending=null;var fe=ne=ne.next;do ae=S(ae,fe.action),fe=fe.next;while(fe!==ne);ni(ae,C.memoizedState)||(Vn=!0),C.memoizedState=ae,C.baseQueue===null&&(C.baseState=ae),L.lastRenderedState=ae}return[ae,Y]}function $d(S,C,L){var Y=Tr,ne=Bn(),ae=Qr;if(ae){if(L===void 0)throw Error(i(407));L=L()}else L=C();var fe=!ni((yn||ne).memoizedState,L);if(fe&&(ne.memoizedState=L,Vn=!0),ne=ne.queue,jl(Dd.bind(null,Y,ne,S),[S]),ne.getSnapshot!==C||fe||Wn!==null&&Wn.memoizedState.tag&1){if(Y.flags|=2048,Ua(9,{destroy:void 0},Pd.bind(null,Y,ne,L,C),null),Sn===null)throw Error(i(349));ae||(Ts&127)!==0||Id(Y,C,L)}return L}function Id(S,C,L){S.flags|=16384,S={getSnapshot:C,value:L},C=Tr.updateQueue,C===null?(C=lu(),Tr.updateQueue=C,C.stores=[S]):(L=C.stores,L===null?C.stores=[S]:L.push(S))}function Pd(S,C,L,Y){C.value=L,C.getSnapshot=Y,Ld(C)&&Nd(S)}function Dd(S,C,L){return L(function(){Ld(C)&&Nd(S)})}function Ld(S){var C=S.getSnapshot;S=S.value;try{var L=C();return!ni(S,L)}catch{return!0}}function Nd(S){var C=fa(S,2);C!==null&&Ci(C,S,2)}function Ol(S){var C=mi();if(typeof S=="function"){var L=S;if(S=L(),Ea){qt(!0);try{L()}finally{qt(!1)}}}return C.memoizedState=C.baseState=S,C.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:S},C}function Od(S,C,L,Y){return S.baseState=L,Ll(S,yn,typeof Y=="function"?Y:As)}function Dp(S,C,L,Y,ne){if(pu(S))throw Error(i(485));if(S=C.action,S!==null){var ae={payload:ne,action:S,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(fe){ae.listeners.push(fe)}};de.T!==null?L(!0):ae.isTransition=!1,Y(ae),L=C.pending,L===null?(ae.next=C.pending=ae,kd(C,ae)):(ae.next=L.next,C.pending=L.next=ae)}}function kd(S,C){var L=C.action,Y=C.payload,ne=S.state;if(C.isTransition){var ae=de.T,fe={};de.T=fe;try{var Ee=L(ne,Y),je=de.S;je!==null&&je(fe,Ee),jd(S,C,Ee)}catch(nt){kl(S,C,nt)}finally{ae!==null&&fe.types!==null&&(ae.types=fe.types),de.T=ae}}else try{ae=L(ne,Y),jd(S,C,ae)}catch(nt){kl(S,C,nt)}}function jd(S,C,L){L!==null&&typeof L=="object"&&typeof L.then=="function"?L.then(function(Y){Bd(S,C,Y)},function(Y){return kl(S,C,Y)}):Bd(S,C,L)}function Bd(S,C,L){C.status="fulfilled",C.value=L,zd(C),S.state=L,C=S.pending,C!==null&&(L=C.next,L===C?S.pending=null:(L=L.next,C.next=L,kd(S,L)))}function kl(S,C,L){var Y=S.pending;if(S.pending=null,Y!==null){Y=Y.next;do C.status="rejected",C.reason=L,zd(C),C=C.next;while(C!==Y)}S.action=null}function zd(S){S=S.listeners;for(var C=0;C<S.length;C++)(0,S[C])()}function Hd(S,C){return C}function qd(S,C){if(Qr){var L=Sn.formState;if(L!==null){e:{var Y=Tr;if(Qr){if(An){t:{for(var ne=An,ae=Qi;ne.nodeType!==8;){if(!ae){ne=null;break t}if(ne=es(ne.nextSibling),ne===null){ne=null;break t}}ae=ne.data,ne=ae==="F!"||ae==="F"?ne:null}if(ne){An=es(ne.nextSibling),Y=ne.data==="F!";break e}}Hs(Y)}Y=!1}Y&&(C=L[0])}}return L=mi(),L.memoizedState=L.baseState=C,Y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hd,lastRenderedState:C},L.queue=Y,L=oh.bind(null,Tr,Y),Y.dispatch=L,Y=Ol(!1),ae=Fl.bind(null,Tr,!1,Y.queue),Y=mi(),ne={state:C,dispatch:null,action:S,pending:null},Y.queue=ne,L=Dp.bind(null,Tr,ne,ae,L),ne.dispatch=L,Y.memoizedState=S,[C,L,!1]}function Fd(S){var C=Bn();return Ud(C,yn,S)}function Ud(S,C,L){if(C=Ll(S,C,Hd)[0],S=du(As)[0],typeof C=="object"&&C!==null&&typeof C.then=="function")try{var Y=yo(C)}catch(fe){throw fe===Ba?tu:fe}else Y=C;C=Bn();var ne=C.queue,ae=ne.dispatch;return L!==C.memoizedState&&(Tr.flags|=2048,Ua(9,{destroy:void 0},Lp.bind(null,ne,L),null)),[Y,ae,S]}function Lp(S,C){S.action=C}function Wd(S){var C=Bn(),L=yn;if(L!==null)return Ud(C,L,S);Bn(),C=C.memoizedState,L=Bn();var Y=L.queue.dispatch;return L.memoizedState=S,[C,Y,!1]}function Ua(S,C,L,Y){return S={tag:S,create:L,deps:Y,inst:C,next:null},C=Tr.updateQueue,C===null&&(C=lu(),Tr.updateQueue=C),L=C.lastEffect,L===null?C.lastEffect=S.next=S:(Y=L.next,L.next=S,S.next=Y,C.lastEffect=S),S}function Vd(){return Bn().memoizedState}function hu(S,C,L,Y){var ne=mi();Tr.flags|=S,ne.memoizedState=Ua(1|C,{destroy:void 0},L,Y===void 0?null:Y)}function fu(S,C,L,Y){var ne=Bn();Y=Y===void 0?null:Y;var ae=ne.memoizedState.inst;yn!==null&&Y!==null&&Rl(Y,yn.memoizedState.deps)?ne.memoizedState=Ua(C,ae,L,Y):(Tr.flags|=S,ne.memoizedState=Ua(1|C,ae,L,Y))}function Gd(S,C){hu(8390656,8,S,C)}function jl(S,C){fu(2048,8,S,C)}function Np(S){Tr.flags|=4;var C=Tr.updateQueue;if(C===null)C=lu(),Tr.updateQueue=C,C.events=[S];else{var L=C.events;L===null?C.events=[S]:L.push(S)}}function Kd(S){var C=Bn().memoizedState;return Np({ref:C,nextImpl:S}),function(){if((hn&2)!==0)throw Error(i(440));return C.impl.apply(void 0,arguments)}}function Yd(S,C){return fu(4,2,S,C)}function Xd(S,C){return fu(4,4,S,C)}function Jd(S,C){if(typeof C=="function"){S=S();var L=C(S);return function(){typeof L=="function"?L():C(null)}}if(C!=null)return S=S(),C.current=S,function(){C.current=null}}function Qd(S,C,L){L=L!=null?L.concat([S]):null,fu(4,4,Jd.bind(null,C,S),L)}function Bl(){}function Zd(S,C){var L=Bn();C=C===void 0?null:C;var Y=L.memoizedState;return C!==null&&Rl(C,Y[1])?Y[0]:(L.memoizedState=[S,C],S)}function eh(S,C){var L=Bn();C=C===void 0?null:C;var Y=L.memoizedState;if(C!==null&&Rl(C,Y[1]))return Y[0];if(Y=S(),Ea){qt(!0);try{S()}finally{qt(!1)}}return L.memoizedState=[Y,C],Y}function zl(S,C,L){return L===void 0||(Ts&1073741824)!==0&&(Kr&261930)===0?S.memoizedState=C:(S.memoizedState=L,S=tf(),Tr.lanes|=S,Xs|=S,L)}function th(S,C,L,Y){return ni(L,C)?L:Ha.current!==null?(S=zl(S,L,Y),ni(S,C)||(Vn=!0),S):(Ts&42)===0||(Ts&1073741824)!==0&&(Kr&261930)===0?(Vn=!0,S.memoizedState=L):(S=tf(),Tr.lanes|=S,Xs|=S,C)}function rh(S,C,L,Y,ne){var ae=ge.p;ge.p=ae!==0&&8>ae?ae:8;var fe=de.T,Ee={};de.T=Ee,Fl(S,!1,C,L);try{var je=ne(),nt=de.S;if(nt!==null&&nt(Ee,je),je!==null&&typeof je=="object"&&typeof je.then=="function"){var pt=$p(je,Y);xo(S,C,pt,Ni(S))}else xo(S,C,Y,Ni(S))}catch(xt){xo(S,C,{then:function(){},status:"rejected",reason:xt},Ni())}finally{ge.p=ae,fe!==null&&Ee.types!==null&&(fe.types=Ee.types),de.T=fe}}function Op(){}function Hl(S,C,L,Y){if(S.tag!==5)throw Error(i(476));var ne=nh(S).queue;rh(S,ne,C,_e,L===null?Op:function(){return ih(S),L(Y)})}function nh(S){var C=S.memoizedState;if(C!==null)return C;C={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:_e},next:null};var L={};return C.next={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:L},next:null},S.memoizedState=C,S=S.alternate,S!==null&&(S.memoizedState=C),C}function ih(S){var C=nh(S);C.next===null&&(C=S.alternate.memoizedState),xo(S,C.next.queue,{},Ni())}function ql(){return ai(jo)}function sh(){return Bn().memoizedState}function ah(){return Bn().memoizedState}function kp(S){for(var C=S.return;C!==null;){switch(C.tag){case 24:case 3:var L=Ni();S=Us(L);var Y=Ws(C,S,L);Y!==null&&(Ci(Y,C,L),go(Y,C,L)),C={cache:_l()},S.payload=C;return}C=C.return}}function jp(S,C,L){var Y=Ni();L={lane:Y,revertLane:0,gesture:null,action:L,hasEagerState:!1,eagerState:null,next:null},pu(S)?uh(C,L):(L=sl(S,C,L,Y),L!==null&&(Ci(L,S,Y),lh(L,C,Y)))}function oh(S,C,L){var Y=Ni();xo(S,C,L,Y)}function xo(S,C,L,Y){var ne={lane:Y,revertLane:0,gesture:null,action:L,hasEagerState:!1,eagerState:null,next:null};if(pu(S))uh(C,ne);else{var ae=S.alternate;if(S.lanes===0&&(ae===null||ae.lanes===0)&&(ae=C.lastRenderedReducer,ae!==null))try{var fe=C.lastRenderedState,Ee=ae(fe,L);if(ne.hasEagerState=!0,ne.eagerState=Ee,ni(Ee,fe))return Ko(S,C,ne,0),Sn===null&&Go(),!1}catch{}if(L=sl(S,C,ne,Y),L!==null)return Ci(L,S,Y),lh(L,C,Y),!0}return!1}function Fl(S,C,L,Y){if(Y={lane:2,revertLane:xc(),gesture:null,action:Y,hasEagerState:!1,eagerState:null,next:null},pu(S)){if(C)throw Error(i(479))}else C=sl(S,L,Y,2),C!==null&&Ci(C,S,2)}function pu(S){var C=S.alternate;return S===Tr||C!==null&&C===Tr}function uh(S,C){qa=ou=!0;var L=S.pending;L===null?C.next=C:(C.next=L.next,L.next=C),S.pending=C}function lh(S,C,L){if((L&4194048)!==0){var Y=C.lanes;Y&=S.pendingLanes,L|=Y,C.lanes=L,$e(S,L)}}var Eo={readContext:ai,use:cu,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useLayoutEffect:Ln,useInsertionEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useSyncExternalStore:Ln,useId:Ln,useHostTransitionStatus:Ln,useFormState:Ln,useActionState:Ln,useOptimistic:Ln,useMemoCache:Ln,useCacheRefresh:Ln};Eo.useEffectEvent=Ln;var ch={readContext:ai,use:cu,useCallback:function(S,C){return mi().memoizedState=[S,C===void 0?null:C],S},useContext:ai,useEffect:Gd,useImperativeHandle:function(S,C,L){L=L!=null?L.concat([S]):null,hu(4194308,4,Jd.bind(null,C,S),L)},useLayoutEffect:function(S,C){return hu(4194308,4,S,C)},useInsertionEffect:function(S,C){hu(4,2,S,C)},useMemo:function(S,C){var L=mi();C=C===void 0?null:C;var Y=S();if(Ea){qt(!0);try{S()}finally{qt(!1)}}return L.memoizedState=[Y,C],Y},useReducer:function(S,C,L){var Y=mi();if(L!==void 0){var ne=L(C);if(Ea){qt(!0);try{L(C)}finally{qt(!1)}}}else ne=C;return Y.memoizedState=Y.baseState=ne,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:S,lastRenderedState:ne},Y.queue=S,S=S.dispatch=jp.bind(null,Tr,S),[Y.memoizedState,S]},useRef:function(S){var C=mi();return S={current:S},C.memoizedState=S},useState:function(S){S=Ol(S);var C=S.queue,L=oh.bind(null,Tr,C);return C.dispatch=L,[S.memoizedState,L]},useDebugValue:Bl,useDeferredValue:function(S,C){var L=mi();return zl(L,S,C)},useTransition:function(){var S=Ol(!1);return S=rh.bind(null,Tr,S.queue,!0,!1),mi().memoizedState=S,[!1,S]},useSyncExternalStore:function(S,C,L){var Y=Tr,ne=mi();if(Qr){if(L===void 0)throw Error(i(407));L=L()}else{if(L=C(),Sn===null)throw Error(i(349));(Kr&127)!==0||Id(Y,C,L)}ne.memoizedState=L;var ae={value:L,getSnapshot:C};return ne.queue=ae,Gd(Dd.bind(null,Y,ae,S),[S]),Y.flags|=2048,Ua(9,{destroy:void 0},Pd.bind(null,Y,ae,L,C),null),L},useId:function(){var S=mi(),C=Sn.identifierPrefix;if(Qr){var L=gs,Y=ms;L=(Y&~(1<<32-ht(Y)-1)).toString(32)+L,C="_"+C+"R_"+L,L=uu++,0<L&&(C+="H"+L.toString(32)),C+="_"}else L=Ip++,C="_"+C+"r_"+L.toString(32)+"_";return S.memoizedState=C},useHostTransitionStatus:ql,useFormState:qd,useActionState:qd,useOptimistic:function(S){var C=mi();C.memoizedState=C.baseState=S;var L={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return C.queue=L,C=Fl.bind(null,Tr,!0,L),L.dispatch=C,[S,C]},useMemoCache:Dl,useCacheRefresh:function(){return mi().memoizedState=kp.bind(null,Tr)},useEffectEvent:function(S){var C=mi(),L={impl:S};return C.memoizedState=L,function(){if((hn&2)!==0)throw Error(i(440));return L.impl.apply(void 0,arguments)}}},Ul={readContext:ai,use:cu,useCallback:Zd,useContext:ai,useEffect:jl,useImperativeHandle:Qd,useInsertionEffect:Yd,useLayoutEffect:Xd,useMemo:eh,useReducer:du,useRef:Vd,useState:function(){return du(As)},useDebugValue:Bl,useDeferredValue:function(S,C){var L=Bn();return th(L,yn.memoizedState,S,C)},useTransition:function(){var S=du(As)[0],C=Bn().memoizedState;return[typeof S=="boolean"?S:yo(S),C]},useSyncExternalStore:$d,useId:sh,useHostTransitionStatus:ql,useFormState:Fd,useActionState:Fd,useOptimistic:function(S,C){var L=Bn();return Od(L,yn,S,C)},useMemoCache:Dl,useCacheRefresh:ah};Ul.useEffectEvent=Kd;var dh={readContext:ai,use:cu,useCallback:Zd,useContext:ai,useEffect:jl,useImperativeHandle:Qd,useInsertionEffect:Yd,useLayoutEffect:Xd,useMemo:eh,useReducer:Nl,useRef:Vd,useState:function(){return Nl(As)},useDebugValue:Bl,useDeferredValue:function(S,C){var L=Bn();return yn===null?zl(L,S,C):th(L,yn.memoizedState,S,C)},useTransition:function(){var S=Nl(As)[0],C=Bn().memoizedState;return[typeof S=="boolean"?S:yo(S),C]},useSyncExternalStore:$d,useId:sh,useHostTransitionStatus:ql,useFormState:Wd,useActionState:Wd,useOptimistic:function(S,C){var L=Bn();return yn!==null?Od(L,yn,S,C):(L.baseState=S,[S,L.queue.dispatch])},useMemoCache:Dl,useCacheRefresh:ah};dh.useEffectEvent=Kd;function Wl(S,C,L,Y){C=S.memoizedState,L=L(Y,C),L=L==null?C:g({},C,L),S.memoizedState=L,S.lanes===0&&(S.updateQueue.baseState=L)}var Vl={enqueueSetState:function(S,C,L){S=S._reactInternals;var Y=Ni(),ne=Us(Y);ne.payload=C,L!=null&&(ne.callback=L),C=Ws(S,ne,Y),C!==null&&(Ci(C,S,Y),go(C,S,Y))},enqueueReplaceState:function(S,C,L){S=S._reactInternals;var Y=Ni(),ne=Us(Y);ne.tag=1,ne.payload=C,L!=null&&(ne.callback=L),C=Ws(S,ne,Y),C!==null&&(Ci(C,S,Y),go(C,S,Y))},enqueueForceUpdate:function(S,C){S=S._reactInternals;var L=Ni(),Y=Us(L);Y.tag=2,C!=null&&(Y.callback=C),C=Ws(S,Y,L),C!==null&&(Ci(C,S,L),go(C,S,L))}};function hh(S,C,L,Y,ne,ae,fe){return S=S.stateNode,typeof S.shouldComponentUpdate=="function"?S.shouldComponentUpdate(Y,ae,fe):C.prototype&&C.prototype.isPureReactComponent?!ha(L,Y)||!ha(ne,ae):!0}function fh(S,C,L,Y){S=C.state,typeof C.componentWillReceiveProps=="function"&&C.componentWillReceiveProps(L,Y),typeof C.UNSAFE_componentWillReceiveProps=="function"&&C.UNSAFE_componentWillReceiveProps(L,Y),C.state!==S&&Vl.enqueueReplaceState(C,C.state,null)}function Sa(S,C){var L=C;if("ref"in C){L={};for(var Y in C)Y!=="ref"&&(L[Y]=C[Y])}if(S=S.defaultProps){L===C&&(L=g({},L));for(var ne in S)L[ne]===void 0&&(L[ne]=S[ne])}return L}function ph(S){Vo(S)}function mh(S){console.error(S)}function gh(S){Vo(S)}function mu(S,C){try{var L=S.onUncaughtError;L(C.value,{componentStack:C.stack})}catch(Y){setTimeout(function(){throw Y})}}function _h(S,C,L){try{var Y=S.onCaughtError;Y(L.value,{componentStack:L.stack,errorBoundary:C.tag===1?C.stateNode:null})}catch(ne){setTimeout(function(){throw ne})}}function Gl(S,C,L){return L=Us(L),L.tag=3,L.payload={element:null},L.callback=function(){mu(S,C)},L}function bh(S){return S=Us(S),S.tag=3,S}function vh(S,C,L,Y){var ne=L.type.getDerivedStateFromError;if(typeof ne=="function"){var ae=Y.value;S.payload=function(){return ne(ae)},S.callback=function(){_h(C,L,Y)}}var fe=L.stateNode;fe!==null&&typeof fe.componentDidCatch=="function"&&(S.callback=function(){_h(C,L,Y),typeof ne!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var Ee=Y.stack;this.componentDidCatch(Y.value,{componentStack:Ee!==null?Ee:""})})}function Bp(S,C,L,Y,ne){if(L.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){if(C=L.alternate,C!==null&&Oa(C,L,ne,!0),L=Ii.current,L!==null){switch(L.tag){case 31:case 13:return Zi===null?Au():L.alternate===null&&Nn===0&&(Nn=3),L.flags&=-257,L.flags|=65536,L.lanes=ne,Y===ru?L.flags|=16384:(C=L.updateQueue,C===null?L.updateQueue=new Set([Y]):C.add(Y),bc(S,Y,ne)),!1;case 22:return L.flags|=65536,Y===ru?L.flags|=16384:(C=L.updateQueue,C===null?(C={transitions:null,markerInstances:null,retryQueue:new Set([Y])},L.updateQueue=C):(L=C.retryQueue,L===null?C.retryQueue=new Set([Y]):L.add(Y)),bc(S,Y,ne)),!1}throw Error(i(435,L.tag))}return bc(S,Y,ne),Au(),!1}if(Qr)return C=Ii.current,C!==null?((C.flags&65536)===0&&(C.flags|=256),C.flags|=65536,C.lanes=ne,Y!==hl&&(S=Error(i(422),{cause:Y}),co(Yi(S,L)))):(Y!==hl&&(C=Error(i(423),{cause:Y}),co(Yi(C,L))),S=S.current.alternate,S.flags|=65536,ne&=-ne,S.lanes|=ne,Y=Yi(Y,L),ne=Gl(S.stateNode,Y,ne),Sl(S,ne),Nn!==4&&(Nn=2)),!1;var ae=Error(i(520),{cause:Y});if(ae=Yi(ae,L),$o===null?$o=[ae]:$o.push(ae),Nn!==4&&(Nn=2),C===null)return!0;Y=Yi(Y,L),L=C;do{switch(L.tag){case 3:return L.flags|=65536,S=ne&-ne,L.lanes|=S,S=Gl(L.stateNode,Y,S),Sl(L,S),!1;case 1:if(C=L.type,ae=L.stateNode,(L.flags&128)===0&&(typeof C.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(Js===null||!Js.has(ae))))return L.flags|=65536,ne&=-ne,L.lanes|=ne,ne=bh(ne),vh(ne,S,L,Y),Sl(L,ne),!1}L=L.return}while(L!==null);return!1}var Kl=Error(i(461)),Vn=!1;function oi(S,C,L,Y){C.child=S===null?Sd(C,null,L,Y):xa(C,S.child,L,Y)}function yh(S,C,L,Y,ne){L=L.render;var ae=C.ref;if("ref"in Y){var fe={};for(var Ee in Y)Ee!=="ref"&&(fe[Ee]=Y[Ee])}else fe=Y;return _a(C),Y=Ml(S,C,L,fe,ae,ne),Ee=$l(),S!==null&&!Vn?(Il(S,C,ne),Rs(S,C,ne)):(Qr&&Ee&&ll(C),C.flags|=1,oi(S,C,Y,ne),C.child)}function xh(S,C,L,Y,ne){if(S===null){var ae=L.type;return typeof ae=="function"&&!al(ae)&&ae.defaultProps===void 0&&L.compare===null?(C.tag=15,C.type=ae,Eh(S,C,ae,Y,ne)):(S=Xo(L.type,null,Y,C,C.mode,ne),S.ref=C.ref,S.return=C,C.child=S)}if(ae=S.child,!rc(S,ne)){var fe=ae.memoizedProps;if(L=L.compare,L=L!==null?L:ha,L(fe,Y)&&S.ref===C.ref)return Rs(S,C,ne)}return C.flags|=1,S=xs(ae,Y),S.ref=C.ref,S.return=C,C.child=S}function Eh(S,C,L,Y,ne){if(S!==null){var ae=S.memoizedProps;if(ha(ae,Y)&&S.ref===C.ref)if(Vn=!1,C.pendingProps=Y=ae,rc(S,ne))(S.flags&131072)!==0&&(Vn=!0);else return C.lanes=S.lanes,Rs(S,C,ne)}return Yl(S,C,L,Y,ne)}function Sh(S,C,L,Y){var ne=Y.children,ae=S!==null?S.memoizedState:null;if(S===null&&C.stateNode===null&&(C.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),Y.mode==="hidden"){if((C.flags&128)!==0){if(ae=ae!==null?ae.baseLanes|L:L,S!==null){for(Y=C.child=S.child,ne=0;Y!==null;)ne=ne|Y.lanes|Y.childLanes,Y=Y.sibling;Y=ne&~ae}else Y=0,C.child=null;return wh(S,C,ae,L,Y)}if((L&536870912)!==0)C.memoizedState={baseLanes:0,cachePool:null},S!==null&&eu(C,ae!==null?ae.cachePool:null),ae!==null?Td(C,ae):Cl(),Ad(C);else return Y=C.lanes=536870912,wh(S,C,ae!==null?ae.baseLanes|L:L,L,Y)}else ae!==null?(eu(C,ae.cachePool),Td(C,ae),Gs(),C.memoizedState=null):(S!==null&&eu(C,null),Cl(),Gs());return oi(S,C,ne,L),C.child}function So(S,C){return S!==null&&S.tag===22||C.stateNode!==null||(C.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),C.sibling}function wh(S,C,L,Y,ne){var ae=vl();return ae=ae===null?null:{parent:Un._currentValue,pool:ae},C.memoizedState={baseLanes:L,cachePool:ae},S!==null&&eu(C,null),Cl(),Ad(C),S!==null&&Oa(S,C,Y,!0),C.childLanes=ne,null}function gu(S,C){return C=bu({mode:C.mode,children:C.children},S.mode),C.ref=S.ref,S.child=C,C.return=S,C}function Ch(S,C,L){return xa(C,S.child,null,L),S=gu(C,C.pendingProps),S.flags|=2,Pi(C),C.memoizedState=null,S}function zp(S,C,L){var Y=C.pendingProps,ne=(C.flags&128)!==0;if(C.flags&=-129,S===null){if(Qr){if(Y.mode==="hidden")return S=gu(C,Y),C.lanes=536870912,So(null,S);if(Al(C),(S=An)?(S=jf(S,Qi),S=S!==null&&S.data==="&"?S:null,S!==null&&(C.memoizedState={dehydrated:S,treeContext:Bs!==null?{id:ms,overflow:gs}:null,retryLane:536870912,hydrationErrors:null},L=ud(S),L.return=C,C.child=L,si=C,An=null)):S=null,S===null)throw Hs(C);return C.lanes=536870912,null}return gu(C,Y)}var ae=S.memoizedState;if(ae!==null){var fe=ae.dehydrated;if(Al(C),ne)if(C.flags&256)C.flags&=-257,C=Ch(S,C,L);else if(C.memoizedState!==null)C.child=S.child,C.flags|=128,C=null;else throw Error(i(558));else if(Vn||Oa(S,C,L,!1),ne=(L&S.childLanes)!==0,Vn||ne){if(Y=Sn,Y!==null&&(fe=qe(Y,L),fe!==0&&fe!==ae.retryLane))throw ae.retryLane=fe,fa(S,fe),Ci(Y,S,fe),Kl;Au(),C=Ch(S,C,L)}else S=ae.treeContext,An=es(fe.nextSibling),si=C,Qr=!0,zs=null,Qi=!1,S!==null&&dd(C,S),C=gu(C,Y),C.flags|=4096;return C}return S=xs(S.child,{mode:Y.mode,children:Y.children}),S.ref=C.ref,C.child=S,S.return=C,S}function _u(S,C){var L=C.ref;if(L===null)S!==null&&S.ref!==null&&(C.flags|=4194816);else{if(typeof L!="function"&&typeof L!="object")throw Error(i(284));(S===null||S.ref!==L)&&(C.flags|=4194816)}}function Yl(S,C,L,Y,ne){return _a(C),L=Ml(S,C,L,Y,void 0,ne),Y=$l(),S!==null&&!Vn?(Il(S,C,ne),Rs(S,C,ne)):(Qr&&Y&&ll(C),C.flags|=1,oi(S,C,L,ne),C.child)}function Th(S,C,L,Y,ne,ae){return _a(C),C.updateQueue=null,L=Md(C,Y,L,ne),Rd(S),Y=$l(),S!==null&&!Vn?(Il(S,C,ae),Rs(S,C,ae)):(Qr&&Y&&ll(C),C.flags|=1,oi(S,C,L,ae),C.child)}function Ah(S,C,L,Y,ne){if(_a(C),C.stateNode===null){var ae=Pa,fe=L.contextType;typeof fe=="object"&&fe!==null&&(ae=ai(fe)),ae=new L(Y,ae),C.memoizedState=ae.state!==null&&ae.state!==void 0?ae.state:null,ae.updater=Vl,C.stateNode=ae,ae._reactInternals=C,ae=C.stateNode,ae.props=Y,ae.state=C.memoizedState,ae.refs={},xl(C),fe=L.contextType,ae.context=typeof fe=="object"&&fe!==null?ai(fe):Pa,ae.state=C.memoizedState,fe=L.getDerivedStateFromProps,typeof fe=="function"&&(Wl(C,L,fe,Y),ae.state=C.memoizedState),typeof L.getDerivedStateFromProps=="function"||typeof ae.getSnapshotBeforeUpdate=="function"||typeof ae.UNSAFE_componentWillMount!="function"&&typeof ae.componentWillMount!="function"||(fe=ae.state,typeof ae.componentWillMount=="function"&&ae.componentWillMount(),typeof ae.UNSAFE_componentWillMount=="function"&&ae.UNSAFE_componentWillMount(),fe!==ae.state&&Vl.enqueueReplaceState(ae,ae.state,null),bo(C,Y,ae,ne),_o(),ae.state=C.memoizedState),typeof ae.componentDidMount=="function"&&(C.flags|=4194308),Y=!0}else if(S===null){ae=C.stateNode;var Ee=C.memoizedProps,je=Sa(L,Ee);ae.props=je;var nt=ae.context,pt=L.contextType;fe=Pa,typeof pt=="object"&&pt!==null&&(fe=ai(pt));var xt=L.getDerivedStateFromProps;pt=typeof xt=="function"||typeof ae.getSnapshotBeforeUpdate=="function",Ee=C.pendingProps!==Ee,pt||typeof ae.UNSAFE_componentWillReceiveProps!="function"&&typeof ae.componentWillReceiveProps!="function"||(Ee||nt!==fe)&&fh(C,ae,Y,fe),Fs=!1;var at=C.memoizedState;ae.state=at,bo(C,Y,ae,ne),_o(),nt=C.memoizedState,Ee||at!==nt||Fs?(typeof xt=="function"&&(Wl(C,L,xt,Y),nt=C.memoizedState),(je=Fs||hh(C,L,je,Y,at,nt,fe))?(pt||typeof ae.UNSAFE_componentWillMount!="function"&&typeof ae.componentWillMount!="function"||(typeof ae.componentWillMount=="function"&&ae.componentWillMount(),typeof ae.UNSAFE_componentWillMount=="function"&&ae.UNSAFE_componentWillMount()),typeof ae.componentDidMount=="function"&&(C.flags|=4194308)):(typeof ae.componentDidMount=="function"&&(C.flags|=4194308),C.memoizedProps=Y,C.memoizedState=nt),ae.props=Y,ae.state=nt,ae.context=fe,Y=je):(typeof ae.componentDidMount=="function"&&(C.flags|=4194308),Y=!1)}else{ae=C.stateNode,El(S,C),fe=C.memoizedProps,pt=Sa(L,fe),ae.props=pt,xt=C.pendingProps,at=ae.context,nt=L.contextType,je=Pa,typeof nt=="object"&&nt!==null&&(je=ai(nt)),Ee=L.getDerivedStateFromProps,(nt=typeof Ee=="function"||typeof ae.getSnapshotBeforeUpdate=="function")||typeof ae.UNSAFE_componentWillReceiveProps!="function"&&typeof ae.componentWillReceiveProps!="function"||(fe!==xt||at!==je)&&fh(C,ae,Y,je),Fs=!1,at=C.memoizedState,ae.state=at,bo(C,Y,ae,ne),_o();var ct=C.memoizedState;fe!==xt||at!==ct||Fs||S!==null&&S.dependencies!==null&&Qo(S.dependencies)?(typeof Ee=="function"&&(Wl(C,L,Ee,Y),ct=C.memoizedState),(pt=Fs||hh(C,L,pt,Y,at,ct,je)||S!==null&&S.dependencies!==null&&Qo(S.dependencies))?(nt||typeof ae.UNSAFE_componentWillUpdate!="function"&&typeof ae.componentWillUpdate!="function"||(typeof ae.componentWillUpdate=="function"&&ae.componentWillUpdate(Y,ct,je),typeof ae.UNSAFE_componentWillUpdate=="function"&&ae.UNSAFE_componentWillUpdate(Y,ct,je)),typeof ae.componentDidUpdate=="function"&&(C.flags|=4),typeof ae.getSnapshotBeforeUpdate=="function"&&(C.flags|=1024)):(typeof ae.componentDidUpdate!="function"||fe===S.memoizedProps&&at===S.memoizedState||(C.flags|=4),typeof ae.getSnapshotBeforeUpdate!="function"||fe===S.memoizedProps&&at===S.memoizedState||(C.flags|=1024),C.memoizedProps=Y,C.memoizedState=ct),ae.props=Y,ae.state=ct,ae.context=je,Y=pt):(typeof ae.componentDidUpdate!="function"||fe===S.memoizedProps&&at===S.memoizedState||(C.flags|=4),typeof ae.getSnapshotBeforeUpdate!="function"||fe===S.memoizedProps&&at===S.memoizedState||(C.flags|=1024),Y=!1)}return ae=Y,_u(S,C),Y=(C.flags&128)!==0,ae||Y?(ae=C.stateNode,L=Y&&typeof L.getDerivedStateFromError!="function"?null:ae.render(),C.flags|=1,S!==null&&Y?(C.child=xa(C,S.child,null,ne),C.child=xa(C,null,L,ne)):oi(S,C,L,ne),C.memoizedState=ae.state,S=C.child):S=Rs(S,C,ne),S}function Rh(S,C,L,Y){return ma(),C.flags|=256,oi(S,C,L,Y),C.child}var Xl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jl(S){return{baseLanes:S,cachePool:_d()}}function Ql(S,C,L){return S=S!==null?S.childLanes&~L:0,C&&(S|=Li),S}function Mh(S,C,L){var Y=C.pendingProps,ne=!1,ae=(C.flags&128)!==0,fe;if((fe=ae)||(fe=S!==null&&S.memoizedState===null?!1:(jn.current&2)!==0),fe&&(ne=!0,C.flags&=-129),fe=(C.flags&32)!==0,C.flags&=-33,S===null){if(Qr){if(ne?Vs(C):Gs(),(S=An)?(S=jf(S,Qi),S=S!==null&&S.data!=="&"?S:null,S!==null&&(C.memoizedState={dehydrated:S,treeContext:Bs!==null?{id:ms,overflow:gs}:null,retryLane:536870912,hydrationErrors:null},L=ud(S),L.return=C,C.child=L,si=C,An=null)):S=null,S===null)throw Hs(C);return Lc(S)?C.lanes=32:C.lanes=536870912,null}var Ee=Y.children;return Y=Y.fallback,ne?(Gs(),ne=C.mode,Ee=bu({mode:"hidden",children:Ee},ne),Y=pa(Y,ne,L,null),Ee.return=C,Y.return=C,Ee.sibling=Y,C.child=Ee,Y=C.child,Y.memoizedState=Jl(L),Y.childLanes=Ql(S,fe,L),C.memoizedState=Xl,So(null,Y)):(Vs(C),Zl(C,Ee))}var je=S.memoizedState;if(je!==null&&(Ee=je.dehydrated,Ee!==null)){if(ae)C.flags&256?(Vs(C),C.flags&=-257,C=ec(S,C,L)):C.memoizedState!==null?(Gs(),C.child=S.child,C.flags|=128,C=null):(Gs(),Ee=Y.fallback,ne=C.mode,Y=bu({mode:"visible",children:Y.children},ne),Ee=pa(Ee,ne,L,null),Ee.flags|=2,Y.return=C,Ee.return=C,Y.sibling=Ee,C.child=Y,xa(C,S.child,null,L),Y=C.child,Y.memoizedState=Jl(L),Y.childLanes=Ql(S,fe,L),C.memoizedState=Xl,C=So(null,Y));else if(Vs(C),Lc(Ee)){if(fe=Ee.nextSibling&&Ee.nextSibling.dataset,fe)var nt=fe.dgst;fe=nt,Y=Error(i(419)),Y.stack="",Y.digest=fe,co({value:Y,source:null,stack:null}),C=ec(S,C,L)}else if(Vn||Oa(S,C,L,!1),fe=(L&S.childLanes)!==0,Vn||fe){if(fe=Sn,fe!==null&&(Y=qe(fe,L),Y!==0&&Y!==je.retryLane))throw je.retryLane=Y,fa(S,Y),Ci(fe,S,Y),Kl;Dc(Ee)||Au(),C=ec(S,C,L)}else Dc(Ee)?(C.flags|=192,C.child=S.child,C=null):(S=je.treeContext,An=es(Ee.nextSibling),si=C,Qr=!0,zs=null,Qi=!1,S!==null&&dd(C,S),C=Zl(C,Y.children),C.flags|=4096);return C}return ne?(Gs(),Ee=Y.fallback,ne=C.mode,je=S.child,nt=je.sibling,Y=xs(je,{mode:"hidden",children:Y.children}),Y.subtreeFlags=je.subtreeFlags&65011712,nt!==null?Ee=xs(nt,Ee):(Ee=pa(Ee,ne,L,null),Ee.flags|=2),Ee.return=C,Y.return=C,Y.sibling=Ee,C.child=Y,So(null,Y),Y=C.child,Ee=S.child.memoizedState,Ee===null?Ee=Jl(L):(ne=Ee.cachePool,ne!==null?(je=Un._currentValue,ne=ne.parent!==je?{parent:je,pool:je}:ne):ne=_d(),Ee={baseLanes:Ee.baseLanes|L,cachePool:ne}),Y.memoizedState=Ee,Y.childLanes=Ql(S,fe,L),C.memoizedState=Xl,So(S.child,Y)):(Vs(C),L=S.child,S=L.sibling,L=xs(L,{mode:"visible",children:Y.children}),L.return=C,L.sibling=null,S!==null&&(fe=C.deletions,fe===null?(C.deletions=[S],C.flags|=16):fe.push(S)),C.child=L,C.memoizedState=null,L)}function Zl(S,C){return C=bu({mode:"visible",children:C},S.mode),C.return=S,S.child=C}function bu(S,C){return S=$i(22,S,null,C),S.lanes=0,S}function ec(S,C,L){return xa(C,S.child,null,L),S=Zl(C,C.pendingProps.children),S.flags|=2,C.memoizedState=null,S}function $h(S,C,L){S.lanes|=C;var Y=S.alternate;Y!==null&&(Y.lanes|=C),ml(S.return,C,L)}function tc(S,C,L,Y,ne,ae){var fe=S.memoizedState;fe===null?S.memoizedState={isBackwards:C,rendering:null,renderingStartTime:0,last:Y,tail:L,tailMode:ne,treeForkCount:ae}:(fe.isBackwards=C,fe.rendering=null,fe.renderingStartTime=0,fe.last=Y,fe.tail=L,fe.tailMode=ne,fe.treeForkCount=ae)}function Ih(S,C,L){var Y=C.pendingProps,ne=Y.revealOrder,ae=Y.tail;Y=Y.children;var fe=jn.current,Ee=(fe&2)!==0;if(Ee?(fe=fe&1|2,C.flags|=128):fe&=1,Se(jn,fe),oi(S,C,Y,L),Y=Qr?lo:0,!Ee&&S!==null&&(S.flags&128)!==0)e:for(S=C.child;S!==null;){if(S.tag===13)S.memoizedState!==null&&$h(S,L,C);else if(S.tag===19)$h(S,L,C);else if(S.child!==null){S.child.return=S,S=S.child;continue}if(S===C)break e;for(;S.sibling===null;){if(S.return===null||S.return===C)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}switch(ne){case"forwards":for(L=C.child,ne=null;L!==null;)S=L.alternate,S!==null&&au(S)===null&&(ne=L),L=L.sibling;L=ne,L===null?(ne=C.child,C.child=null):(ne=L.sibling,L.sibling=null),tc(C,!1,ne,L,ae,Y);break;case"backwards":case"unstable_legacy-backwards":for(L=null,ne=C.child,C.child=null;ne!==null;){if(S=ne.alternate,S!==null&&au(S)===null){C.child=ne;break}S=ne.sibling,ne.sibling=L,L=ne,ne=S}tc(C,!0,L,null,ae,Y);break;case"together":tc(C,!1,null,null,void 0,Y);break;default:C.memoizedState=null}return C.child}function Rs(S,C,L){if(S!==null&&(C.dependencies=S.dependencies),Xs|=C.lanes,(L&C.childLanes)===0)if(S!==null){if(Oa(S,C,L,!1),(L&C.childLanes)===0)return null}else return null;if(S!==null&&C.child!==S.child)throw Error(i(153));if(C.child!==null){for(S=C.child,L=xs(S,S.pendingProps),C.child=L,L.return=C;S.sibling!==null;)S=S.sibling,L=L.sibling=xs(S,S.pendingProps),L.return=C;L.sibling=null}return C.child}function rc(S,C){return(S.lanes&C)!==0?!0:(S=S.dependencies,!!(S!==null&&Qo(S)))}function Hp(S,C,L){switch(C.tag){case 3:gt(C,C.stateNode.containerInfo),qs(C,Un,S.memoizedState.cache),ma();break;case 27:case 5:ar(C);break;case 4:gt(C,C.stateNode.containerInfo);break;case 10:qs(C,C.type,C.memoizedProps.value);break;case 31:if(C.memoizedState!==null)return C.flags|=128,Al(C),null;break;case 13:var Y=C.memoizedState;if(Y!==null)return Y.dehydrated!==null?(Vs(C),C.flags|=128,null):(L&C.child.childLanes)!==0?Mh(S,C,L):(Vs(C),S=Rs(S,C,L),S!==null?S.sibling:null);Vs(C);break;case 19:var ne=(S.flags&128)!==0;if(Y=(L&C.childLanes)!==0,Y||(Oa(S,C,L,!1),Y=(L&C.childLanes)!==0),ne){if(Y)return Ih(S,C,L);C.flags|=128}if(ne=C.memoizedState,ne!==null&&(ne.rendering=null,ne.tail=null,ne.lastEffect=null),Se(jn,jn.current),Y)break;return null;case 22:return C.lanes=0,Sh(S,C,L,C.pendingProps);case 24:qs(C,Un,S.memoizedState.cache)}return Rs(S,C,L)}function Ph(S,C,L){if(S!==null)if(S.memoizedProps!==C.pendingProps)Vn=!0;else{if(!rc(S,L)&&(C.flags&128)===0)return Vn=!1,Hp(S,C,L);Vn=(S.flags&131072)!==0}else Vn=!1,Qr&&(C.flags&1048576)!==0&&cd(C,lo,C.index);switch(C.lanes=0,C.tag){case 16:e:{var Y=C.pendingProps;if(S=va(C.elementType),C.type=S,typeof S=="function")al(S)?(Y=Sa(S,Y),C.tag=1,C=Ah(null,C,S,Y,L)):(C.tag=0,C=Yl(null,C,S,Y,L));else{if(S!=null){var ne=S.$$typeof;if(ne===j){C.tag=11,C=yh(null,C,S,Y,L);break e}else if(ne===R){C.tag=14,C=xh(null,C,S,Y,L);break e}}throw C=oe(S)||S,Error(i(306,C,""))}}return C;case 0:return Yl(S,C,C.type,C.pendingProps,L);case 1:return Y=C.type,ne=Sa(Y,C.pendingProps),Ah(S,C,Y,ne,L);case 3:e:{if(gt(C,C.stateNode.containerInfo),S===null)throw Error(i(387));Y=C.pendingProps;var ae=C.memoizedState;ne=ae.element,El(S,C),bo(C,Y,null,L);var fe=C.memoizedState;if(Y=fe.cache,qs(C,Un,Y),Y!==ae.cache&&gl(C,[Un],L,!0),_o(),Y=fe.element,ae.isDehydrated)if(ae={element:Y,isDehydrated:!1,cache:fe.cache},C.updateQueue.baseState=ae,C.memoizedState=ae,C.flags&256){C=Rh(S,C,Y,L);break e}else if(Y!==ne){ne=Yi(Error(i(424)),C),co(ne),C=Rh(S,C,Y,L);break e}else for(S=C.stateNode.containerInfo,S.nodeType===9?S=S.body:S=S.nodeName==="HTML"?S.ownerDocument.body:S,An=es(S.firstChild),si=C,Qr=!0,zs=null,Qi=!0,L=Sd(C,null,Y,L),C.child=L;L;)L.flags=L.flags&-3|4096,L=L.sibling;else{if(ma(),Y===ne){C=Rs(S,C,L);break e}oi(S,C,Y,L)}C=C.child}return C;case 26:return _u(S,C),S===null?(L=Uf(C.type,null,C.pendingProps,null))?C.memoizedState=L:Qr||(L=C.type,S=C.pendingProps,Y=Lu(Je.current).createElement(L),Y[Lt]=C,Y[Bt]=S,ui(Y,L,S),on(Y),C.stateNode=Y):C.memoizedState=Uf(C.type,S.memoizedProps,C.pendingProps,S.memoizedState),null;case 27:return ar(C),S===null&&Qr&&(Y=C.stateNode=Hf(C.type,C.pendingProps,Je.current),si=C,Qi=!0,ne=An,ta(C.type)?(Nc=ne,An=es(Y.firstChild)):An=ne),oi(S,C,C.pendingProps.children,L),_u(S,C),S===null&&(C.flags|=4194304),C.child;case 5:return S===null&&Qr&&((ne=Y=An)&&(Y=bm(Y,C.type,C.pendingProps,Qi),Y!==null?(C.stateNode=Y,si=C,An=es(Y.firstChild),Qi=!1,ne=!0):ne=!1),ne||Hs(C)),ar(C),ne=C.type,ae=C.pendingProps,fe=S!==null?S.memoizedProps:null,Y=ae.children,$c(ne,ae)?Y=null:fe!==null&&$c(ne,fe)&&(C.flags|=32),C.memoizedState!==null&&(ne=Ml(S,C,Pp,null,null,L),jo._currentValue=ne),_u(S,C),oi(S,C,Y,L),C.child;case 6:return S===null&&Qr&&((S=L=An)&&(L=vm(L,C.pendingProps,Qi),L!==null?(C.stateNode=L,si=C,An=null,S=!0):S=!1),S||Hs(C)),null;case 13:return Mh(S,C,L);case 4:return gt(C,C.stateNode.containerInfo),Y=C.pendingProps,S===null?C.child=xa(C,null,Y,L):oi(S,C,Y,L),C.child;case 11:return yh(S,C,C.type,C.pendingProps,L);case 7:return oi(S,C,C.pendingProps,L),C.child;case 8:return oi(S,C,C.pendingProps.children,L),C.child;case 12:return oi(S,C,C.pendingProps.children,L),C.child;case 10:return Y=C.pendingProps,qs(C,C.type,Y.value),oi(S,C,Y.children,L),C.child;case 9:return ne=C.type._context,Y=C.pendingProps.children,_a(C),ne=ai(ne),Y=Y(ne),C.flags|=1,oi(S,C,Y,L),C.child;case 14:return xh(S,C,C.type,C.pendingProps,L);case 15:return Eh(S,C,C.type,C.pendingProps,L);case 19:return Ih(S,C,L);case 31:return zp(S,C,L);case 22:return Sh(S,C,L,C.pendingProps);case 24:return _a(C),Y=ai(Un),S===null?(ne=vl(),ne===null&&(ne=Sn,ae=_l(),ne.pooledCache=ae,ae.refCount++,ae!==null&&(ne.pooledCacheLanes|=L),ne=ae),C.memoizedState={parent:Y,cache:ne},xl(C),qs(C,Un,ne)):((S.lanes&L)!==0&&(El(S,C),bo(C,null,null,L),_o()),ne=S.memoizedState,ae=C.memoizedState,ne.parent!==Y?(ne={parent:Y,cache:Y},C.memoizedState=ne,C.lanes===0&&(C.memoizedState=C.updateQueue.baseState=ne),qs(C,Un,Y)):(Y=ae.cache,qs(C,Un,Y),Y!==ne.cache&&gl(C,[Un],L,!0))),oi(S,C,C.pendingProps.children,L),C.child;case 29:throw C.pendingProps}throw Error(i(156,C.tag))}function Ms(S){S.flags|=4}function nc(S,C,L,Y,ne){if((C=(S.mode&32)!==0)&&(C=!1),C){if(S.flags|=16777216,(ne&335544128)===ne)if(S.stateNode.complete)S.flags|=8192;else if(af())S.flags|=8192;else throw ya=ru,yl}else S.flags&=-16777217}function Dh(S,C){if(C.type!=="stylesheet"||(C.state.loading&4)!==0)S.flags&=-16777217;else if(S.flags|=16777216,!Yf(C))if(af())S.flags|=8192;else throw ya=ru,yl}function vu(S,C){C!==null&&(S.flags|=4),S.flags&16384&&(C=S.tag!==22?Pr():536870912,S.lanes|=C,Ka|=C)}function wo(S,C){if(!Qr)switch(S.tailMode){case"hidden":C=S.tail;for(var L=null;C!==null;)C.alternate!==null&&(L=C),C=C.sibling;L===null?S.tail=null:L.sibling=null;break;case"collapsed":L=S.tail;for(var Y=null;L!==null;)L.alternate!==null&&(Y=L),L=L.sibling;Y===null?C||S.tail===null?S.tail=null:S.tail.sibling=null:Y.sibling=null}}function Rn(S){var C=S.alternate!==null&&S.alternate.child===S.child,L=0,Y=0;if(C)for(var ne=S.child;ne!==null;)L|=ne.lanes|ne.childLanes,Y|=ne.subtreeFlags&65011712,Y|=ne.flags&65011712,ne.return=S,ne=ne.sibling;else for(ne=S.child;ne!==null;)L|=ne.lanes|ne.childLanes,Y|=ne.subtreeFlags,Y|=ne.flags,ne.return=S,ne=ne.sibling;return S.subtreeFlags|=Y,S.childLanes=L,C}function qp(S,C,L){var Y=C.pendingProps;switch(cl(C),C.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rn(C),null;case 1:return Rn(C),null;case 3:return L=C.stateNode,Y=null,S!==null&&(Y=S.memoizedState.cache),C.memoizedState.cache!==Y&&(C.flags|=2048),Cs(Un),Ct(),L.pendingContext&&(L.context=L.pendingContext,L.pendingContext=null),(S===null||S.child===null)&&(Na(C)?Ms(C):S===null||S.memoizedState.isDehydrated&&(C.flags&256)===0||(C.flags|=1024,fl())),Rn(C),null;case 26:var ne=C.type,ae=C.memoizedState;return S===null?(Ms(C),ae!==null?(Rn(C),Dh(C,ae)):(Rn(C),nc(C,ne,null,Y,L))):ae?ae!==S.memoizedState?(Ms(C),Rn(C),Dh(C,ae)):(Rn(C),C.flags&=-16777217):(S=S.memoizedProps,S!==Y&&Ms(C),Rn(C),nc(C,ne,S,Y,L)),null;case 27:if(De(C),L=Je.current,ne=C.type,S!==null&&C.stateNode!=null)S.memoizedProps!==Y&&Ms(C);else{if(!Y){if(C.stateNode===null)throw Error(i(166));return Rn(C),null}S=Ge.current,Na(C)?hd(C):(S=Hf(ne,Y,L),C.stateNode=S,Ms(C))}return Rn(C),null;case 5:if(De(C),ne=C.type,S!==null&&C.stateNode!=null)S.memoizedProps!==Y&&Ms(C);else{if(!Y){if(C.stateNode===null)throw Error(i(166));return Rn(C),null}if(ae=Ge.current,Na(C))hd(C);else{var fe=Lu(Je.current);switch(ae){case 1:ae=fe.createElementNS("http://www.w3.org/2000/svg",ne);break;case 2:ae=fe.createElementNS("http://www.w3.org/1998/Math/MathML",ne);break;default:switch(ne){case"svg":ae=fe.createElementNS("http://www.w3.org/2000/svg",ne);break;case"math":ae=fe.createElementNS("http://www.w3.org/1998/Math/MathML",ne);break;case"script":ae=fe.createElement("div"),ae.innerHTML="<script><\/script>",ae=ae.removeChild(ae.firstChild);break;case"select":ae=typeof Y.is=="string"?fe.createElement("select",{is:Y.is}):fe.createElement("select"),Y.multiple?ae.multiple=!0:Y.size&&(ae.size=Y.size);break;default:ae=typeof Y.is=="string"?fe.createElement(ne,{is:Y.is}):fe.createElement(ne)}}ae[Lt]=C,ae[Bt]=Y;e:for(fe=C.child;fe!==null;){if(fe.tag===5||fe.tag===6)ae.appendChild(fe.stateNode);else if(fe.tag!==4&&fe.tag!==27&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===C)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===C)break e;fe=fe.return}fe.sibling.return=fe.return,fe=fe.sibling}C.stateNode=ae;e:switch(ui(ae,ne,Y),ne){case"button":case"input":case"select":case"textarea":Y=!!Y.autoFocus;break e;case"img":Y=!0;break e;default:Y=!1}Y&&Ms(C)}}return Rn(C),nc(C,C.type,S===null?null:S.memoizedProps,C.pendingProps,L),null;case 6:if(S&&C.stateNode!=null)S.memoizedProps!==Y&&Ms(C);else{if(typeof Y!="string"&&C.stateNode===null)throw Error(i(166));if(S=Je.current,Na(C)){if(S=C.stateNode,L=C.memoizedProps,Y=null,ne=si,ne!==null)switch(ne.tag){case 27:case 5:Y=ne.memoizedProps}S[Lt]=C,S=!!(S.nodeValue===L||Y!==null&&Y.suppressHydrationWarning===!0||$f(S.nodeValue,L)),S||Hs(C,!0)}else S=Lu(S).createTextNode(Y),S[Lt]=C,C.stateNode=S}return Rn(C),null;case 31:if(L=C.memoizedState,S===null||S.memoizedState!==null){if(Y=Na(C),L!==null){if(S===null){if(!Y)throw Error(i(318));if(S=C.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(i(557));S[Lt]=C}else ma(),(C.flags&128)===0&&(C.memoizedState=null),C.flags|=4;Rn(C),S=!1}else L=fl(),S!==null&&S.memoizedState!==null&&(S.memoizedState.hydrationErrors=L),S=!0;if(!S)return C.flags&256?(Pi(C),C):(Pi(C),null);if((C.flags&128)!==0)throw Error(i(558))}return Rn(C),null;case 13:if(Y=C.memoizedState,S===null||S.memoizedState!==null&&S.memoizedState.dehydrated!==null){if(ne=Na(C),Y!==null&&Y.dehydrated!==null){if(S===null){if(!ne)throw Error(i(318));if(ne=C.memoizedState,ne=ne!==null?ne.dehydrated:null,!ne)throw Error(i(317));ne[Lt]=C}else ma(),(C.flags&128)===0&&(C.memoizedState=null),C.flags|=4;Rn(C),ne=!1}else ne=fl(),S!==null&&S.memoizedState!==null&&(S.memoizedState.hydrationErrors=ne),ne=!0;if(!ne)return C.flags&256?(Pi(C),C):(Pi(C),null)}return Pi(C),(C.flags&128)!==0?(C.lanes=L,C):(L=Y!==null,S=S!==null&&S.memoizedState!==null,L&&(Y=C.child,ne=null,Y.alternate!==null&&Y.alternate.memoizedState!==null&&Y.alternate.memoizedState.cachePool!==null&&(ne=Y.alternate.memoizedState.cachePool.pool),ae=null,Y.memoizedState!==null&&Y.memoizedState.cachePool!==null&&(ae=Y.memoizedState.cachePool.pool),ae!==ne&&(Y.flags|=2048)),L!==S&&L&&(C.child.flags|=8192),vu(C,C.updateQueue),Rn(C),null);case 4:return Ct(),S===null&&Cc(C.stateNode.containerInfo),Rn(C),null;case 10:return Cs(C.type),Rn(C),null;case 19:if(Re(jn),Y=C.memoizedState,Y===null)return Rn(C),null;if(ne=(C.flags&128)!==0,ae=Y.rendering,ae===null)if(ne)wo(Y,!1);else{if(Nn!==0||S!==null&&(S.flags&128)!==0)for(S=C.child;S!==null;){if(ae=au(S),ae!==null){for(C.flags|=128,wo(Y,!1),S=ae.updateQueue,C.updateQueue=S,vu(C,S),C.subtreeFlags=0,S=L,L=C.child;L!==null;)od(L,S),L=L.sibling;return Se(jn,jn.current&1|2),Qr&&Es(C,Y.treeForkCount),C.child}S=S.sibling}Y.tail!==null&&Nt()>wu&&(C.flags|=128,ne=!0,wo(Y,!1),C.lanes=4194304)}else{if(!ne)if(S=au(ae),S!==null){if(C.flags|=128,ne=!0,S=S.updateQueue,C.updateQueue=S,vu(C,S),wo(Y,!0),Y.tail===null&&Y.tailMode==="hidden"&&!ae.alternate&&!Qr)return Rn(C),null}else 2*Nt()-Y.renderingStartTime>wu&&L!==536870912&&(C.flags|=128,ne=!0,wo(Y,!1),C.lanes=4194304);Y.isBackwards?(ae.sibling=C.child,C.child=ae):(S=Y.last,S!==null?S.sibling=ae:C.child=ae,Y.last=ae)}return Y.tail!==null?(S=Y.tail,Y.rendering=S,Y.tail=S.sibling,Y.renderingStartTime=Nt(),S.sibling=null,L=jn.current,Se(jn,ne?L&1|2:L&1),Qr&&Es(C,Y.treeForkCount),S):(Rn(C),null);case 22:case 23:return Pi(C),Tl(),Y=C.memoizedState!==null,S!==null?S.memoizedState!==null!==Y&&(C.flags|=8192):Y&&(C.flags|=8192),Y?(L&536870912)!==0&&(C.flags&128)===0&&(Rn(C),C.subtreeFlags&6&&(C.flags|=8192)):Rn(C),L=C.updateQueue,L!==null&&vu(C,L.retryQueue),L=null,S!==null&&S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(L=S.memoizedState.cachePool.pool),Y=null,C.memoizedState!==null&&C.memoizedState.cachePool!==null&&(Y=C.memoizedState.cachePool.pool),Y!==L&&(C.flags|=2048),S!==null&&Re(ba),null;case 24:return L=null,S!==null&&(L=S.memoizedState.cache),C.memoizedState.cache!==L&&(C.flags|=2048),Cs(Un),Rn(C),null;case 25:return null;case 30:return null}throw Error(i(156,C.tag))}function Fp(S,C){switch(cl(C),C.tag){case 1:return S=C.flags,S&65536?(C.flags=S&-65537|128,C):null;case 3:return Cs(Un),Ct(),S=C.flags,(S&65536)!==0&&(S&128)===0?(C.flags=S&-65537|128,C):null;case 26:case 27:case 5:return De(C),null;case 31:if(C.memoizedState!==null){if(Pi(C),C.alternate===null)throw Error(i(340));ma()}return S=C.flags,S&65536?(C.flags=S&-65537|128,C):null;case 13:if(Pi(C),S=C.memoizedState,S!==null&&S.dehydrated!==null){if(C.alternate===null)throw Error(i(340));ma()}return S=C.flags,S&65536?(C.flags=S&-65537|128,C):null;case 19:return Re(jn),null;case 4:return Ct(),null;case 10:return Cs(C.type),null;case 22:case 23:return Pi(C),Tl(),S!==null&&Re(ba),S=C.flags,S&65536?(C.flags=S&-65537|128,C):null;case 24:return Cs(Un),null;case 25:return null;default:return null}}function Lh(S,C){switch(cl(C),C.tag){case 3:Cs(Un),Ct();break;case 26:case 27:case 5:De(C);break;case 4:Ct();break;case 31:C.memoizedState!==null&&Pi(C);break;case 13:Pi(C);break;case 19:Re(jn);break;case 10:Cs(C.type);break;case 22:case 23:Pi(C),Tl(),S!==null&&Re(ba);break;case 24:Cs(Un)}}function Co(S,C){try{var L=C.updateQueue,Y=L!==null?L.lastEffect:null;if(Y!==null){var ne=Y.next;L=ne;do{if((L.tag&S)===S){Y=void 0;var ae=L.create,fe=L.inst;Y=ae(),fe.destroy=Y}L=L.next}while(L!==ne)}}catch(Ee){_n(C,C.return,Ee)}}function Ks(S,C,L){try{var Y=C.updateQueue,ne=Y!==null?Y.lastEffect:null;if(ne!==null){var ae=ne.next;Y=ae;do{if((Y.tag&S)===S){var fe=Y.inst,Ee=fe.destroy;if(Ee!==void 0){fe.destroy=void 0,ne=C;var je=L,nt=Ee;try{nt()}catch(pt){_n(ne,je,pt)}}}Y=Y.next}while(Y!==ae)}}catch(pt){_n(C,C.return,pt)}}function Nh(S){var C=S.updateQueue;if(C!==null){var L=S.stateNode;try{Cd(C,L)}catch(Y){_n(S,S.return,Y)}}}function Oh(S,C,L){L.props=Sa(S.type,S.memoizedProps),L.state=S.memoizedState;try{L.componentWillUnmount()}catch(Y){_n(S,C,Y)}}function To(S,C){try{var L=S.ref;if(L!==null){switch(S.tag){case 26:case 27:case 5:var Y=S.stateNode;break;case 30:Y=S.stateNode;break;default:Y=S.stateNode}typeof L=="function"?S.refCleanup=L(Y):L.current=Y}}catch(ne){_n(S,C,ne)}}function _s(S,C){var L=S.ref,Y=S.refCleanup;if(L!==null)if(typeof Y=="function")try{Y()}catch(ne){_n(S,C,ne)}finally{S.refCleanup=null,S=S.alternate,S!=null&&(S.refCleanup=null)}else if(typeof L=="function")try{L(null)}catch(ne){_n(S,C,ne)}else L.current=null}function kh(S){var C=S.type,L=S.memoizedProps,Y=S.stateNode;try{e:switch(C){case"button":case"input":case"select":case"textarea":L.autoFocus&&Y.focus();break e;case"img":L.src?Y.src=L.src:L.srcSet&&(Y.srcset=L.srcSet)}}catch(ne){_n(S,S.return,ne)}}function ic(S,C,L){try{var Y=S.stateNode;hm(Y,S.type,L,C),Y[Bt]=C}catch(ne){_n(S,S.return,ne)}}function jh(S){return S.tag===5||S.tag===3||S.tag===26||S.tag===27&&ta(S.type)||S.tag===4}function sc(S){e:for(;;){for(;S.sibling===null;){if(S.return===null||jh(S.return))return null;S=S.return}for(S.sibling.return=S.return,S=S.sibling;S.tag!==5&&S.tag!==6&&S.tag!==18;){if(S.tag===27&&ta(S.type)||S.flags&2||S.child===null||S.tag===4)continue e;S.child.return=S,S=S.child}if(!(S.flags&2))return S.stateNode}}function ac(S,C,L){var Y=S.tag;if(Y===5||Y===6)S=S.stateNode,C?(L.nodeType===9?L.body:L.nodeName==="HTML"?L.ownerDocument.body:L).insertBefore(S,C):(C=L.nodeType===9?L.body:L.nodeName==="HTML"?L.ownerDocument.body:L,C.appendChild(S),L=L._reactRootContainer,L!=null||C.onclick!==null||(C.onclick=$t));else if(Y!==4&&(Y===27&&ta(S.type)&&(L=S.stateNode,C=null),S=S.child,S!==null))for(ac(S,C,L),S=S.sibling;S!==null;)ac(S,C,L),S=S.sibling}function yu(S,C,L){var Y=S.tag;if(Y===5||Y===6)S=S.stateNode,C?L.insertBefore(S,C):L.appendChild(S);else if(Y!==4&&(Y===27&&ta(S.type)&&(L=S.stateNode),S=S.child,S!==null))for(yu(S,C,L),S=S.sibling;S!==null;)yu(S,C,L),S=S.sibling}function Bh(S){var C=S.stateNode,L=S.memoizedProps;try{for(var Y=S.type,ne=C.attributes;ne.length;)C.removeAttributeNode(ne[0]);ui(C,Y,L),C[Lt]=S,C[Bt]=L}catch(ae){_n(S,S.return,ae)}}var $s=!1,Gn=!1,oc=!1,zh=typeof WeakSet=="function"?WeakSet:Set,Zn=null;function Up(S,C){if(S=S.containerInfo,Rc=Hu,S=ze(S),et(S)){if("selectionStart"in S)var L={start:S.selectionStart,end:S.selectionEnd};else e:{L=(L=S.ownerDocument)&&L.defaultView||window;var Y=L.getSelection&&L.getSelection();if(Y&&Y.rangeCount!==0){L=Y.anchorNode;var ne=Y.anchorOffset,ae=Y.focusNode;Y=Y.focusOffset;try{L.nodeType,ae.nodeType}catch{L=null;break e}var fe=0,Ee=-1,je=-1,nt=0,pt=0,xt=S,at=null;t:for(;;){for(var ct;xt!==L||ne!==0&&xt.nodeType!==3||(Ee=fe+ne),xt!==ae||Y!==0&&xt.nodeType!==3||(je=fe+Y),xt.nodeType===3&&(fe+=xt.nodeValue.length),(ct=xt.firstChild)!==null;)at=xt,xt=ct;for(;;){if(xt===S)break t;if(at===L&&++nt===ne&&(Ee=fe),at===ae&&++pt===Y&&(je=fe),(ct=xt.nextSibling)!==null)break;xt=at,at=xt.parentNode}xt=ct}L=Ee===-1||je===-1?null:{start:Ee,end:je}}else L=null}L=L||{start:0,end:0}}else L=null;for(Mc={focusedElem:S,selectionRange:L},Hu=!1,Zn=C;Zn!==null;)if(C=Zn,S=C.child,(C.subtreeFlags&1028)!==0&&S!==null)S.return=C,Zn=S;else for(;Zn!==null;){switch(C=Zn,ae=C.alternate,S=C.flags,C.tag){case 0:if((S&4)!==0&&(S=C.updateQueue,S=S!==null?S.events:null,S!==null))for(L=0;L<S.length;L++)ne=S[L],ne.ref.impl=ne.nextImpl;break;case 11:case 15:break;case 1:if((S&1024)!==0&&ae!==null){S=void 0,L=C,ne=ae.memoizedProps,ae=ae.memoizedState,Y=L.stateNode;try{var Jt=Sa(L.type,ne);S=Y.getSnapshotBeforeUpdate(Jt,ae),Y.__reactInternalSnapshotBeforeUpdate=S}catch(fr){_n(L,L.return,fr)}}break;case 3:if((S&1024)!==0){if(S=C.stateNode.containerInfo,L=S.nodeType,L===9)Pc(S);else if(L===1)switch(S.nodeName){case"HEAD":case"HTML":case"BODY":Pc(S);break;default:S.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((S&1024)!==0)throw Error(i(163))}if(S=C.sibling,S!==null){S.return=C.return,Zn=S;break}Zn=C.return}}function Hh(S,C,L){var Y=L.flags;switch(L.tag){case 0:case 11:case 15:Ps(S,L),Y&4&&Co(5,L);break;case 1:if(Ps(S,L),Y&4)if(S=L.stateNode,C===null)try{S.componentDidMount()}catch(fe){_n(L,L.return,fe)}else{var ne=Sa(L.type,C.memoizedProps);C=C.memoizedState;try{S.componentDidUpdate(ne,C,S.__reactInternalSnapshotBeforeUpdate)}catch(fe){_n(L,L.return,fe)}}Y&64&&Nh(L),Y&512&&To(L,L.return);break;case 3:if(Ps(S,L),Y&64&&(S=L.updateQueue,S!==null)){if(C=null,L.child!==null)switch(L.child.tag){case 27:case 5:C=L.child.stateNode;break;case 1:C=L.child.stateNode}try{Cd(S,C)}catch(fe){_n(L,L.return,fe)}}break;case 27:C===null&&Y&4&&Bh(L);case 26:case 5:Ps(S,L),C===null&&Y&4&&kh(L),Y&512&&To(L,L.return);break;case 12:Ps(S,L);break;case 31:Ps(S,L),Y&4&&Uh(S,L);break;case 13:Ps(S,L),Y&4&&Wh(S,L),Y&64&&(S=L.memoizedState,S!==null&&(S=S.dehydrated,S!==null&&(L=Zp.bind(null,L),ym(S,L))));break;case 22:if(Y=L.memoizedState!==null||$s,!Y){C=C!==null&&C.memoizedState!==null||Gn,ne=$s;var ae=Gn;$s=Y,(Gn=C)&&!ae?Ds(S,L,(L.subtreeFlags&8772)!==0):Ps(S,L),$s=ne,Gn=ae}break;case 30:break;default:Ps(S,L)}}function qh(S){var C=S.alternate;C!==null&&(S.alternate=null,qh(C)),S.child=null,S.deletions=null,S.sibling=null,S.tag===5&&(C=S.stateNode,C!==null&&zr(C)),S.stateNode=null,S.return=null,S.dependencies=null,S.memoizedProps=null,S.memoizedState=null,S.pendingProps=null,S.stateNode=null,S.updateQueue=null}var $n=null,xi=!1;function Is(S,C,L){for(L=L.child;L!==null;)Fh(S,C,L),L=L.sibling}function Fh(S,C,L){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Gt,L)}catch{}switch(L.tag){case 26:Gn||_s(L,C),Is(S,C,L),L.memoizedState?L.memoizedState.count--:L.stateNode&&(L=L.stateNode,L.parentNode.removeChild(L));break;case 27:Gn||_s(L,C);var Y=$n,ne=xi;ta(L.type)&&($n=L.stateNode,xi=!1),Is(S,C,L),No(L.stateNode),$n=Y,xi=ne;break;case 5:Gn||_s(L,C);case 6:if(Y=$n,ne=xi,$n=null,Is(S,C,L),$n=Y,xi=ne,$n!==null)if(xi)try{($n.nodeType===9?$n.body:$n.nodeName==="HTML"?$n.ownerDocument.body:$n).removeChild(L.stateNode)}catch(ae){_n(L,C,ae)}else try{$n.removeChild(L.stateNode)}catch(ae){_n(L,C,ae)}break;case 18:$n!==null&&(xi?(S=$n,Of(S.nodeType===9?S.body:S.nodeName==="HTML"?S.ownerDocument.body:S,L.stateNode),ro(S)):Of($n,L.stateNode));break;case 4:Y=$n,ne=xi,$n=L.stateNode.containerInfo,xi=!0,Is(S,C,L),$n=Y,xi=ne;break;case 0:case 11:case 14:case 15:Ks(2,L,C),Gn||Ks(4,L,C),Is(S,C,L);break;case 1:Gn||(_s(L,C),Y=L.stateNode,typeof Y.componentWillUnmount=="function"&&Oh(L,C,Y)),Is(S,C,L);break;case 21:Is(S,C,L);break;case 22:Gn=(Y=Gn)||L.memoizedState!==null,Is(S,C,L),Gn=Y;break;default:Is(S,C,L)}}function Uh(S,C){if(C.memoizedState===null&&(S=C.alternate,S!==null&&(S=S.memoizedState,S!==null))){S=S.dehydrated;try{ro(S)}catch(L){_n(C,C.return,L)}}}function Wh(S,C){if(C.memoizedState===null&&(S=C.alternate,S!==null&&(S=S.memoizedState,S!==null&&(S=S.dehydrated,S!==null))))try{ro(S)}catch(L){_n(C,C.return,L)}}function Wp(S){switch(S.tag){case 31:case 13:case 19:var C=S.stateNode;return C===null&&(C=S.stateNode=new zh),C;case 22:return S=S.stateNode,C=S._retryCache,C===null&&(C=S._retryCache=new zh),C;default:throw Error(i(435,S.tag))}}function xu(S,C){var L=Wp(S);C.forEach(function(Y){if(!L.has(Y)){L.add(Y);var ne=tm.bind(null,S,Y);Y.then(ne,ne)}})}function Ei(S,C){var L=C.deletions;if(L!==null)for(var Y=0;Y<L.length;Y++){var ne=L[Y],ae=S,fe=C,Ee=fe;e:for(;Ee!==null;){switch(Ee.tag){case 27:if(ta(Ee.type)){$n=Ee.stateNode,xi=!1;break e}break;case 5:$n=Ee.stateNode,xi=!1;break e;case 3:case 4:$n=Ee.stateNode.containerInfo,xi=!0;break e}Ee=Ee.return}if($n===null)throw Error(i(160));Fh(ae,fe,ne),$n=null,xi=!1,ae=ne.alternate,ae!==null&&(ae.return=null),ne.return=null}if(C.subtreeFlags&13886)for(C=C.child;C!==null;)Vh(C,S),C=C.sibling}var cs=null;function Vh(S,C){var L=S.alternate,Y=S.flags;switch(S.tag){case 0:case 11:case 14:case 15:Ei(C,S),Si(S),Y&4&&(Ks(3,S,S.return),Co(3,S),Ks(5,S,S.return));break;case 1:Ei(C,S),Si(S),Y&512&&(Gn||L===null||_s(L,L.return)),Y&64&&$s&&(S=S.updateQueue,S!==null&&(Y=S.callbacks,Y!==null&&(L=S.shared.hiddenCallbacks,S.shared.hiddenCallbacks=L===null?Y:L.concat(Y))));break;case 26:var ne=cs;if(Ei(C,S),Si(S),Y&512&&(Gn||L===null||_s(L,L.return)),Y&4){var ae=L!==null?L.memoizedState:null;if(Y=S.memoizedState,L===null)if(Y===null)if(S.stateNode===null){e:{Y=S.type,L=S.memoizedProps,ne=ne.ownerDocument||ne;t:switch(Y){case"title":ae=ne.getElementsByTagName("title")[0],(!ae||ae[en]||ae[Lt]||ae.namespaceURI==="http://www.w3.org/2000/svg"||ae.hasAttribute("itemprop"))&&(ae=ne.createElement(Y),ne.head.insertBefore(ae,ne.querySelector("head > title"))),ui(ae,Y,L),ae[Lt]=S,on(ae),Y=ae;break e;case"link":var fe=Gf("link","href",ne).get(Y+(L.href||""));if(fe){for(var Ee=0;Ee<fe.length;Ee++)if(ae=fe[Ee],ae.getAttribute("href")===(L.href==null||L.href===""?null:L.href)&&ae.getAttribute("rel")===(L.rel==null?null:L.rel)&&ae.getAttribute("title")===(L.title==null?null:L.title)&&ae.getAttribute("crossorigin")===(L.crossOrigin==null?null:L.crossOrigin)){fe.splice(Ee,1);break t}}ae=ne.createElement(Y),ui(ae,Y,L),ne.head.appendChild(ae);break;case"meta":if(fe=Gf("meta","content",ne).get(Y+(L.content||""))){for(Ee=0;Ee<fe.length;Ee++)if(ae=fe[Ee],ae.getAttribute("content")===(L.content==null?null:""+L.content)&&ae.getAttribute("name")===(L.name==null?null:L.name)&&ae.getAttribute("property")===(L.property==null?null:L.property)&&ae.getAttribute("http-equiv")===(L.httpEquiv==null?null:L.httpEquiv)&&ae.getAttribute("charset")===(L.charSet==null?null:L.charSet)){fe.splice(Ee,1);break t}}ae=ne.createElement(Y),ui(ae,Y,L),ne.head.appendChild(ae);break;default:throw Error(i(468,Y))}ae[Lt]=S,on(ae),Y=ae}S.stateNode=Y}else Kf(ne,S.type,S.stateNode);else S.stateNode=Vf(ne,Y,S.memoizedProps);else ae!==Y?(ae===null?L.stateNode!==null&&(L=L.stateNode,L.parentNode.removeChild(L)):ae.count--,Y===null?Kf(ne,S.type,S.stateNode):Vf(ne,Y,S.memoizedProps)):Y===null&&S.stateNode!==null&&ic(S,S.memoizedProps,L.memoizedProps)}break;case 27:Ei(C,S),Si(S),Y&512&&(Gn||L===null||_s(L,L.return)),L!==null&&Y&4&&ic(S,S.memoizedProps,L.memoizedProps);break;case 5:if(Ei(C,S),Si(S),Y&512&&(Gn||L===null||_s(L,L.return)),S.flags&32){ne=S.stateNode;try{Bi(ne,"")}catch(Jt){_n(S,S.return,Jt)}}Y&4&&S.stateNode!=null&&(ne=S.memoizedProps,ic(S,ne,L!==null?L.memoizedProps:ne)),Y&1024&&(oc=!0);break;case 6:if(Ei(C,S),Si(S),Y&4){if(S.stateNode===null)throw Error(i(162));Y=S.memoizedProps,L=S.stateNode;try{L.nodeValue=Y}catch(Jt){_n(S,S.return,Jt)}}break;case 3:if(ku=null,ne=cs,cs=Nu(C.containerInfo),Ei(C,S),cs=ne,Si(S),Y&4&&L!==null&&L.memoizedState.isDehydrated)try{ro(C.containerInfo)}catch(Jt){_n(S,S.return,Jt)}oc&&(oc=!1,Gh(S));break;case 4:Y=cs,cs=Nu(S.stateNode.containerInfo),Ei(C,S),Si(S),cs=Y;break;case 12:Ei(C,S),Si(S);break;case 31:Ei(C,S),Si(S),Y&4&&(Y=S.updateQueue,Y!==null&&(S.updateQueue=null,xu(S,Y)));break;case 13:Ei(C,S),Si(S),S.child.flags&8192&&S.memoizedState!==null!=(L!==null&&L.memoizedState!==null)&&(Su=Nt()),Y&4&&(Y=S.updateQueue,Y!==null&&(S.updateQueue=null,xu(S,Y)));break;case 22:ne=S.memoizedState!==null;var je=L!==null&&L.memoizedState!==null,nt=$s,pt=Gn;if($s=nt||ne,Gn=pt||je,Ei(C,S),Gn=pt,$s=nt,Si(S),Y&8192)e:for(C=S.stateNode,C._visibility=ne?C._visibility&-2:C._visibility|1,ne&&(L===null||je||$s||Gn||wa(S)),L=null,C=S;;){if(C.tag===5||C.tag===26){if(L===null){je=L=C;try{if(ae=je.stateNode,ne)fe=ae.style,typeof fe.setProperty=="function"?fe.setProperty("display","none","important"):fe.display="none";else{Ee=je.stateNode;var xt=je.memoizedProps.style,at=xt!=null&&xt.hasOwnProperty("display")?xt.display:null;Ee.style.display=at==null||typeof at=="boolean"?"":(""+at).trim()}}catch(Jt){_n(je,je.return,Jt)}}}else if(C.tag===6){if(L===null){je=C;try{je.stateNode.nodeValue=ne?"":je.memoizedProps}catch(Jt){_n(je,je.return,Jt)}}}else if(C.tag===18){if(L===null){je=C;try{var ct=je.stateNode;ne?kf(ct,!0):kf(je.stateNode,!1)}catch(Jt){_n(je,je.return,Jt)}}}else if((C.tag!==22&&C.tag!==23||C.memoizedState===null||C===S)&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===S)break e;for(;C.sibling===null;){if(C.return===null||C.return===S)break e;L===C&&(L=null),C=C.return}L===C&&(L=null),C.sibling.return=C.return,C=C.sibling}Y&4&&(Y=S.updateQueue,Y!==null&&(L=Y.retryQueue,L!==null&&(Y.retryQueue=null,xu(S,L))));break;case 19:Ei(C,S),Si(S),Y&4&&(Y=S.updateQueue,Y!==null&&(S.updateQueue=null,xu(S,Y)));break;case 30:break;case 21:break;default:Ei(C,S),Si(S)}}function Si(S){var C=S.flags;if(C&2){try{for(var L,Y=S.return;Y!==null;){if(jh(Y)){L=Y;break}Y=Y.return}if(L==null)throw Error(i(160));switch(L.tag){case 27:var ne=L.stateNode,ae=sc(S);yu(S,ae,ne);break;case 5:var fe=L.stateNode;L.flags&32&&(Bi(fe,""),L.flags&=-33);var Ee=sc(S);yu(S,Ee,fe);break;case 3:case 4:var je=L.stateNode.containerInfo,nt=sc(S);ac(S,nt,je);break;default:throw Error(i(161))}}catch(pt){_n(S,S.return,pt)}S.flags&=-3}C&4096&&(S.flags&=-4097)}function Gh(S){if(S.subtreeFlags&1024)for(S=S.child;S!==null;){var C=S;Gh(C),C.tag===5&&C.flags&1024&&C.stateNode.reset(),S=S.sibling}}function Ps(S,C){if(C.subtreeFlags&8772)for(C=C.child;C!==null;)Hh(S,C.alternate,C),C=C.sibling}function wa(S){for(S=S.child;S!==null;){var C=S;switch(C.tag){case 0:case 11:case 14:case 15:Ks(4,C,C.return),wa(C);break;case 1:_s(C,C.return);var L=C.stateNode;typeof L.componentWillUnmount=="function"&&Oh(C,C.return,L),wa(C);break;case 27:No(C.stateNode);case 26:case 5:_s(C,C.return),wa(C);break;case 22:C.memoizedState===null&&wa(C);break;case 30:wa(C);break;default:wa(C)}S=S.sibling}}function Ds(S,C,L){for(L=L&&(C.subtreeFlags&8772)!==0,C=C.child;C!==null;){var Y=C.alternate,ne=S,ae=C,fe=ae.flags;switch(ae.tag){case 0:case 11:case 15:Ds(ne,ae,L),Co(4,ae);break;case 1:if(Ds(ne,ae,L),Y=ae,ne=Y.stateNode,typeof ne.componentDidMount=="function")try{ne.componentDidMount()}catch(nt){_n(Y,Y.return,nt)}if(Y=ae,ne=Y.updateQueue,ne!==null){var Ee=Y.stateNode;try{var je=ne.shared.hiddenCallbacks;if(je!==null)for(ne.shared.hiddenCallbacks=null,ne=0;ne<je.length;ne++)wd(je[ne],Ee)}catch(nt){_n(Y,Y.return,nt)}}L&&fe&64&&Nh(ae),To(ae,ae.return);break;case 27:Bh(ae);case 26:case 5:Ds(ne,ae,L),L&&Y===null&&fe&4&&kh(ae),To(ae,ae.return);break;case 12:Ds(ne,ae,L);break;case 31:Ds(ne,ae,L),L&&fe&4&&Uh(ne,ae);break;case 13:Ds(ne,ae,L),L&&fe&4&&Wh(ne,ae);break;case 22:ae.memoizedState===null&&Ds(ne,ae,L),To(ae,ae.return);break;case 30:break;default:Ds(ne,ae,L)}C=C.sibling}}function uc(S,C){var L=null;S!==null&&S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(L=S.memoizedState.cachePool.pool),S=null,C.memoizedState!==null&&C.memoizedState.cachePool!==null&&(S=C.memoizedState.cachePool.pool),S!==L&&(S!=null&&S.refCount++,L!=null&&ho(L))}function lc(S,C){S=null,C.alternate!==null&&(S=C.alternate.memoizedState.cache),C=C.memoizedState.cache,C!==S&&(C.refCount++,S!=null&&ho(S))}function ds(S,C,L,Y){if(C.subtreeFlags&10256)for(C=C.child;C!==null;)Kh(S,C,L,Y),C=C.sibling}function Kh(S,C,L,Y){var ne=C.flags;switch(C.tag){case 0:case 11:case 15:ds(S,C,L,Y),ne&2048&&Co(9,C);break;case 1:ds(S,C,L,Y);break;case 3:ds(S,C,L,Y),ne&2048&&(S=null,C.alternate!==null&&(S=C.alternate.memoizedState.cache),C=C.memoizedState.cache,C!==S&&(C.refCount++,S!=null&&ho(S)));break;case 12:if(ne&2048){ds(S,C,L,Y),S=C.stateNode;try{var ae=C.memoizedProps,fe=ae.id,Ee=ae.onPostCommit;typeof Ee=="function"&&Ee(fe,C.alternate===null?"mount":"update",S.passiveEffectDuration,-0)}catch(je){_n(C,C.return,je)}}else ds(S,C,L,Y);break;case 31:ds(S,C,L,Y);break;case 13:ds(S,C,L,Y);break;case 23:break;case 22:ae=C.stateNode,fe=C.alternate,C.memoizedState!==null?ae._visibility&2?ds(S,C,L,Y):Ao(S,C):ae._visibility&2?ds(S,C,L,Y):(ae._visibility|=2,Wa(S,C,L,Y,(C.subtreeFlags&10256)!==0||!1)),ne&2048&&uc(fe,C);break;case 24:ds(S,C,L,Y),ne&2048&&lc(C.alternate,C);break;default:ds(S,C,L,Y)}}function Wa(S,C,L,Y,ne){for(ne=ne&&((C.subtreeFlags&10256)!==0||!1),C=C.child;C!==null;){var ae=S,fe=C,Ee=L,je=Y,nt=fe.flags;switch(fe.tag){case 0:case 11:case 15:Wa(ae,fe,Ee,je,ne),Co(8,fe);break;case 23:break;case 22:var pt=fe.stateNode;fe.memoizedState!==null?pt._visibility&2?Wa(ae,fe,Ee,je,ne):Ao(ae,fe):(pt._visibility|=2,Wa(ae,fe,Ee,je,ne)),ne&&nt&2048&&uc(fe.alternate,fe);break;case 24:Wa(ae,fe,Ee,je,ne),ne&&nt&2048&&lc(fe.alternate,fe);break;default:Wa(ae,fe,Ee,je,ne)}C=C.sibling}}function Ao(S,C){if(C.subtreeFlags&10256)for(C=C.child;C!==null;){var L=S,Y=C,ne=Y.flags;switch(Y.tag){case 22:Ao(L,Y),ne&2048&&uc(Y.alternate,Y);break;case 24:Ao(L,Y),ne&2048&&lc(Y.alternate,Y);break;default:Ao(L,Y)}C=C.sibling}}var Ro=8192;function Va(S,C,L){if(S.subtreeFlags&Ro)for(S=S.child;S!==null;)Yh(S,C,L),S=S.sibling}function Yh(S,C,L){switch(S.tag){case 26:Va(S,C,L),S.flags&Ro&&S.memoizedState!==null&&Pm(L,cs,S.memoizedState,S.memoizedProps);break;case 5:Va(S,C,L);break;case 3:case 4:var Y=cs;cs=Nu(S.stateNode.containerInfo),Va(S,C,L),cs=Y;break;case 22:S.memoizedState===null&&(Y=S.alternate,Y!==null&&Y.memoizedState!==null?(Y=Ro,Ro=16777216,Va(S,C,L),Ro=Y):Va(S,C,L));break;default:Va(S,C,L)}}function Xh(S){var C=S.alternate;if(C!==null&&(S=C.child,S!==null)){C.child=null;do C=S.sibling,S.sibling=null,S=C;while(S!==null)}}function Mo(S){var C=S.deletions;if((S.flags&16)!==0){if(C!==null)for(var L=0;L<C.length;L++){var Y=C[L];Zn=Y,Qh(Y,S)}Xh(S)}if(S.subtreeFlags&10256)for(S=S.child;S!==null;)Jh(S),S=S.sibling}function Jh(S){switch(S.tag){case 0:case 11:case 15:Mo(S),S.flags&2048&&Ks(9,S,S.return);break;case 3:Mo(S);break;case 12:Mo(S);break;case 22:var C=S.stateNode;S.memoizedState!==null&&C._visibility&2&&(S.return===null||S.return.tag!==13)?(C._visibility&=-3,Eu(S)):Mo(S);break;default:Mo(S)}}function Eu(S){var C=S.deletions;if((S.flags&16)!==0){if(C!==null)for(var L=0;L<C.length;L++){var Y=C[L];Zn=Y,Qh(Y,S)}Xh(S)}for(S=S.child;S!==null;){switch(C=S,C.tag){case 0:case 11:case 15:Ks(8,C,C.return),Eu(C);break;case 22:L=C.stateNode,L._visibility&2&&(L._visibility&=-3,Eu(C));break;default:Eu(C)}S=S.sibling}}function Qh(S,C){for(;Zn!==null;){var L=Zn;switch(L.tag){case 0:case 11:case 15:Ks(8,L,C);break;case 23:case 22:if(L.memoizedState!==null&&L.memoizedState.cachePool!==null){var Y=L.memoizedState.cachePool.pool;Y!=null&&Y.refCount++}break;case 24:ho(L.memoizedState.cache)}if(Y=L.child,Y!==null)Y.return=L,Zn=Y;else e:for(L=S;Zn!==null;){Y=Zn;var ne=Y.sibling,ae=Y.return;if(qh(Y),Y===L){Zn=null;break e}if(ne!==null){ne.return=ae,Zn=ne;break e}Zn=ae}}}var Vp={getCacheForType:function(S){var C=ai(Un),L=C.data.get(S);return L===void 0&&(L=S(),C.data.set(S,L)),L},cacheSignal:function(){return ai(Un).controller.signal}},Gp=typeof WeakMap=="function"?WeakMap:Map,hn=0,Sn=null,Fr=null,Kr=0,gn=0,Di=null,Ys=!1,Ga=!1,cc=!1,Ls=0,Nn=0,Xs=0,Ca=0,dc=0,Li=0,Ka=0,$o=null,wi=null,hc=!1,Su=0,Zh=0,wu=1/0,Cu=null,Js=null,Jn=0,Qs=null,Ya=null,Ns=0,fc=0,pc=null,ef=null,Io=0,mc=null;function Ni(){return(hn&2)!==0&&Kr!==0?Kr&-Kr:de.T!==null?xc():Mt()}function tf(){if(Li===0)if((Kr&536870912)===0||Qr){var S=cr;cr<<=1,(cr&3932160)===0&&(cr=262144),Li=S}else Li=536870912;return S=Ii.current,S!==null&&(S.flags|=32),Li}function Ci(S,C,L){(S===Sn&&(gn===2||gn===9)||S.cancelPendingCommit!==null)&&(Xa(S,0),Zs(S,Kr,Li,!1)),lr(S,L),((hn&2)===0||S!==Sn)&&(S===Sn&&((hn&2)===0&&(Ca|=L),Nn===4&&Zs(S,Kr,Li,!1)),bs(S))}function rf(S,C,L){if((hn&6)!==0)throw Error(i(327));var Y=!L&&(C&127)===0&&(C&S.expiredLanes)===0||dr(S,C),ne=Y?Xp(S,C):_c(S,C,!0),ae=Y;do{if(ne===0){Ga&&!Y&&Zs(S,C,0,!1);break}else{if(L=S.current.alternate,ae&&!Kp(L)){ne=_c(S,C,!1),ae=!1;continue}if(ne===2){if(ae=C,S.errorRecoveryDisabledLanes&ae)var fe=0;else fe=S.pendingLanes&-536870913,fe=fe!==0?fe:fe&536870912?536870912:0;if(fe!==0){C=fe;e:{var Ee=S;ne=$o;var je=Ee.current.memoizedState.isDehydrated;if(je&&(Xa(Ee,fe).flags|=256),fe=_c(Ee,fe,!1),fe!==2){if(cc&&!je){Ee.errorRecoveryDisabledLanes|=ae,Ca|=ae,ne=4;break e}ae=wi,wi=ne,ae!==null&&(wi===null?wi=ae:wi.push.apply(wi,ae))}ne=fe}if(ae=!1,ne!==2)continue}}if(ne===1){Xa(S,0),Zs(S,C,0,!0);break}e:{switch(Y=S,ae=ne,ae){case 0:case 1:throw Error(i(345));case 4:if((C&4194048)!==C)break;case 6:Zs(Y,C,Li,!Ys);break e;case 2:wi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((C&62914560)===C&&(ne=Su+300-Nt(),10<ne)){if(Zs(Y,C,Li,!Ys),Ht(Y,0,!0)!==0)break e;Ns=C,Y.timeoutHandle=Lf(nf.bind(null,Y,L,wi,Cu,hc,C,Li,Ca,Ka,Ys,ae,"Throttled",-0,0),ne);break e}nf(Y,L,wi,Cu,hc,C,Li,Ca,Ka,Ys,ae,null,-0,0)}}break}while(!0);bs(S)}function nf(S,C,L,Y,ne,ae,fe,Ee,je,nt,pt,xt,at,ct){if(S.timeoutHandle=-1,xt=C.subtreeFlags,xt&8192||(xt&16785408)===16785408){xt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$t},Yh(C,ae,xt);var Jt=(ae&62914560)===ae?Su-Nt():(ae&4194048)===ae?Zh-Nt():0;if(Jt=Dm(xt,Jt),Jt!==null){Ns=ae,S.cancelPendingCommit=Jt(hf.bind(null,S,C,ae,L,Y,ne,fe,Ee,je,pt,xt,null,at,ct)),Zs(S,ae,fe,!nt);return}}hf(S,C,ae,L,Y,ne,fe,Ee,je)}function Kp(S){for(var C=S;;){var L=C.tag;if((L===0||L===11||L===15)&&C.flags&16384&&(L=C.updateQueue,L!==null&&(L=L.stores,L!==null)))for(var Y=0;Y<L.length;Y++){var ne=L[Y],ae=ne.getSnapshot;ne=ne.value;try{if(!ni(ae(),ne))return!1}catch{return!1}}if(L=C.child,C.subtreeFlags&16384&&L!==null)L.return=C,C=L;else{if(C===S)break;for(;C.sibling===null;){if(C.return===null||C.return===S)return!0;C=C.return}C.sibling.return=C.return,C=C.sibling}}return!0}function Zs(S,C,L,Y){C&=~dc,C&=~Ca,S.suspendedLanes|=C,S.pingedLanes&=~C,Y&&(S.warmLanes|=C),Y=S.expirationTimes;for(var ne=C;0<ne;){var ae=31-ht(ne),fe=1<<ae;Y[ae]=-1,ne&=~fe}L!==0&&pn(S,L,C)}function Tu(){return(hn&6)===0?(Po(0),!1):!0}function gc(){if(Fr!==null){if(gn===0)var S=Fr.return;else S=Fr,Ss=ga=null,Pl(S),za=null,po=0,S=Fr;for(;S!==null;)Lh(S.alternate,S),S=S.return;Fr=null}}function Xa(S,C){var L=S.timeoutHandle;L!==-1&&(S.timeoutHandle=-1,mm(L)),L=S.cancelPendingCommit,L!==null&&(S.cancelPendingCommit=null,L()),Ns=0,gc(),Sn=S,Fr=L=xs(S.current,null),Kr=C,gn=0,Di=null,Ys=!1,Ga=dr(S,C),cc=!1,Ka=Li=dc=Ca=Xs=Nn=0,wi=$o=null,hc=!1,(C&8)!==0&&(C|=C&32);var Y=S.entangledLanes;if(Y!==0)for(S=S.entanglements,Y&=C;0<Y;){var ne=31-ht(Y),ae=1<<ne;C|=S[ne],Y&=~ae}return Ls=C,Go(),L}function sf(S,C){Tr=null,de.H=Eo,C===Ba||C===tu?(C=yd(),gn=3):C===yl?(C=yd(),gn=4):gn=C===Kl?8:C!==null&&typeof C=="object"&&typeof C.then=="function"?6:1,Di=C,Fr===null&&(Nn=1,mu(S,Yi(C,S.current)))}function af(){var S=Ii.current;return S===null?!0:(Kr&4194048)===Kr?Zi===null:(Kr&62914560)===Kr||(Kr&536870912)!==0?S===Zi:!1}function of(){var S=de.H;return de.H=Eo,S===null?Eo:S}function uf(){var S=de.A;return de.A=Vp,S}function Au(){Nn=4,Ys||(Kr&4194048)!==Kr&&Ii.current!==null||(Ga=!0),(Xs&134217727)===0&&(Ca&134217727)===0||Sn===null||Zs(Sn,Kr,Li,!1)}function _c(S,C,L){var Y=hn;hn|=2;var ne=of(),ae=uf();(Sn!==S||Kr!==C)&&(Cu=null,Xa(S,C)),C=!1;var fe=Nn;e:do try{if(gn!==0&&Fr!==null){var Ee=Fr,je=Di;switch(gn){case 8:gc(),fe=6;break e;case 3:case 2:case 9:case 6:Ii.current===null&&(C=!0);var nt=gn;if(gn=0,Di=null,Ja(S,Ee,je,nt),L&&Ga){fe=0;break e}break;default:nt=gn,gn=0,Di=null,Ja(S,Ee,je,nt)}}Yp(),fe=Nn;break}catch(pt){sf(S,pt)}while(!0);return C&&S.shellSuspendCounter++,Ss=ga=null,hn=Y,de.H=ne,de.A=ae,Fr===null&&(Sn=null,Kr=0,Go()),fe}function Yp(){for(;Fr!==null;)lf(Fr)}function Xp(S,C){var L=hn;hn|=2;var Y=of(),ne=uf();Sn!==S||Kr!==C?(Cu=null,wu=Nt()+500,Xa(S,C)):Ga=dr(S,C);e:do try{if(gn!==0&&Fr!==null){C=Fr;var ae=Di;t:switch(gn){case 1:gn=0,Di=null,Ja(S,C,ae,1);break;case 2:case 9:if(bd(ae)){gn=0,Di=null,cf(C);break}C=function(){gn!==2&&gn!==9||Sn!==S||(gn=7),bs(S)},ae.then(C,C);break e;case 3:gn=7;break e;case 4:gn=5;break e;case 7:bd(ae)?(gn=0,Di=null,cf(C)):(gn=0,Di=null,Ja(S,C,ae,7));break;case 5:var fe=null;switch(Fr.tag){case 26:fe=Fr.memoizedState;case 5:case 27:var Ee=Fr;if(fe?Yf(fe):Ee.stateNode.complete){gn=0,Di=null;var je=Ee.sibling;if(je!==null)Fr=je;else{var nt=Ee.return;nt!==null?(Fr=nt,Ru(nt)):Fr=null}break t}}gn=0,Di=null,Ja(S,C,ae,5);break;case 6:gn=0,Di=null,Ja(S,C,ae,6);break;case 8:gc(),Nn=6;break e;default:throw Error(i(462))}}Jp();break}catch(pt){sf(S,pt)}while(!0);return Ss=ga=null,de.H=Y,de.A=ne,hn=L,Fr!==null?0:(Sn=null,Kr=0,Go(),Nn)}function Jp(){for(;Fr!==null&&!Et();)lf(Fr)}function lf(S){var C=Ph(S.alternate,S,Ls);S.memoizedProps=S.pendingProps,C===null?Ru(S):Fr=C}function cf(S){var C=S,L=C.alternate;switch(C.tag){case 15:case 0:C=Th(L,C,C.pendingProps,C.type,void 0,Kr);break;case 11:C=Th(L,C,C.pendingProps,C.type.render,C.ref,Kr);break;case 5:Pl(C);default:Lh(L,C),C=Fr=od(C,Ls),C=Ph(L,C,Ls)}S.memoizedProps=S.pendingProps,C===null?Ru(S):Fr=C}function Ja(S,C,L,Y){Ss=ga=null,Pl(C),za=null,po=0;var ne=C.return;try{if(Bp(S,ne,C,L,Kr)){Nn=1,mu(S,Yi(L,S.current)),Fr=null;return}}catch(ae){if(ne!==null)throw Fr=ne,ae;Nn=1,mu(S,Yi(L,S.current)),Fr=null;return}C.flags&32768?(Qr||Y===1?S=!0:Ga||(Kr&536870912)!==0?S=!1:(Ys=S=!0,(Y===2||Y===9||Y===3||Y===6)&&(Y=Ii.current,Y!==null&&Y.tag===13&&(Y.flags|=16384))),df(C,S)):Ru(C)}function Ru(S){var C=S;do{if((C.flags&32768)!==0){df(C,Ys);return}S=C.return;var L=qp(C.alternate,C,Ls);if(L!==null){Fr=L;return}if(C=C.sibling,C!==null){Fr=C;return}Fr=C=S}while(C!==null);Nn===0&&(Nn=5)}function df(S,C){do{var L=Fp(S.alternate,S);if(L!==null){L.flags&=32767,Fr=L;return}if(L=S.return,L!==null&&(L.flags|=32768,L.subtreeFlags=0,L.deletions=null),!C&&(S=S.sibling,S!==null)){Fr=S;return}Fr=S=L}while(S!==null);Nn=6,Fr=null}function hf(S,C,L,Y,ne,ae,fe,Ee,je){S.cancelPendingCommit=null;do Mu();while(Jn!==0);if((hn&6)!==0)throw Error(i(327));if(C!==null){if(C===S.current)throw Error(i(177));if(ae=C.lanes|C.childLanes,ae|=il,wn(S,L,ae,fe,Ee,je),S===Sn&&(Fr=Sn=null,Kr=0),Ya=C,Qs=S,Ns=L,fc=ae,pc=ne,ef=Y,(C.subtreeFlags&10256)!==0||(C.flags&10256)!==0?(S.callbackNode=null,S.callbackPriority=0,rm(ve,function(){return _f(),null})):(S.callbackNode=null,S.callbackPriority=0),Y=(C.flags&13878)!==0,(C.subtreeFlags&13878)!==0||Y){Y=de.T,de.T=null,ne=ge.p,ge.p=2,fe=hn,hn|=4;try{Up(S,C,L)}finally{hn=fe,ge.p=ne,de.T=Y}}Jn=1,ff(),pf(),mf()}}function ff(){if(Jn===1){Jn=0;var S=Qs,C=Ya,L=(C.flags&13878)!==0;if((C.subtreeFlags&13878)!==0||L){L=de.T,de.T=null;var Y=ge.p;ge.p=2;var ne=hn;hn|=4;try{Vh(C,S);var ae=Mc,fe=ze(S.containerInfo),Ee=ae.focusedElem,je=ae.selectionRange;if(fe!==Ee&&Ee&&Ee.ownerDocument&&Te(Ee.ownerDocument.documentElement,Ee)){if(je!==null&&et(Ee)){var nt=je.start,pt=je.end;if(pt===void 0&&(pt=nt),"selectionStart"in Ee)Ee.selectionStart=nt,Ee.selectionEnd=Math.min(pt,Ee.value.length);else{var xt=Ee.ownerDocument||document,at=xt&&xt.defaultView||window;if(at.getSelection){var ct=at.getSelection(),Jt=Ee.textContent.length,fr=Math.min(je.start,Jt),En=je.end===void 0?fr:Math.min(je.end,Jt);!ct.extend&&fr>En&&(fe=En,En=fr,fr=fe);var Ye=uo(Ee,fr),He=uo(Ee,En);if(Ye&&He&&(ct.rangeCount!==1||ct.anchorNode!==Ye.node||ct.anchorOffset!==Ye.offset||ct.focusNode!==He.node||ct.focusOffset!==He.offset)){var rt=xt.createRange();rt.setStart(Ye.node,Ye.offset),ct.removeAllRanges(),fr>En?(ct.addRange(rt),ct.extend(He.node,He.offset)):(rt.setEnd(He.node,He.offset),ct.addRange(rt))}}}}for(xt=[],ct=Ee;ct=ct.parentNode;)ct.nodeType===1&&xt.push({element:ct,left:ct.scrollLeft,top:ct.scrollTop});for(typeof Ee.focus=="function"&&Ee.focus(),Ee=0;Ee<xt.length;Ee++){var bt=xt[Ee];bt.element.scrollLeft=bt.left,bt.element.scrollTop=bt.top}}Hu=!!Rc,Mc=Rc=null}finally{hn=ne,ge.p=Y,de.T=L}}S.current=C,Jn=2}}function pf(){if(Jn===2){Jn=0;var S=Qs,C=Ya,L=(C.flags&8772)!==0;if((C.subtreeFlags&8772)!==0||L){L=de.T,de.T=null;var Y=ge.p;ge.p=2;var ne=hn;hn|=4;try{Hh(S,C.alternate,C)}finally{hn=ne,ge.p=Y,de.T=L}}Jn=3}}function mf(){if(Jn===4||Jn===3){Jn=0,yt();var S=Qs,C=Ya,L=Ns,Y=ef;(C.subtreeFlags&10256)!==0||(C.flags&10256)!==0?Jn=5:(Jn=0,Ya=Qs=null,gf(S,S.pendingLanes));var ne=S.pendingLanes;if(ne===0&&(Js=null),_t(L),C=C.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Gt,C,void 0,(C.current.flags&128)===128)}catch{}if(Y!==null){C=de.T,ne=ge.p,ge.p=2,de.T=null;try{for(var ae=S.onRecoverableError,fe=0;fe<Y.length;fe++){var Ee=Y[fe];ae(Ee.value,{componentStack:Ee.stack})}}finally{de.T=C,ge.p=ne}}(Ns&3)!==0&&Mu(),bs(S),ne=S.pendingLanes,(L&261930)!==0&&(ne&42)!==0?S===mc?Io++:(Io=0,mc=S):Io=0,Po(0)}}function gf(S,C){(S.pooledCacheLanes&=C)===0&&(C=S.pooledCache,C!=null&&(S.pooledCache=null,ho(C)))}function Mu(){return ff(),pf(),mf(),_f()}function _f(){if(Jn!==5)return!1;var S=Qs,C=fc;fc=0;var L=_t(Ns),Y=de.T,ne=ge.p;try{ge.p=32>L?32:L,de.T=null,L=pc,pc=null;var ae=Qs,fe=Ns;if(Jn=0,Ya=Qs=null,Ns=0,(hn&6)!==0)throw Error(i(331));var Ee=hn;if(hn|=4,Jh(ae.current),Kh(ae,ae.current,fe,L),hn=Ee,Po(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Gt,ae)}catch{}return!0}finally{ge.p=ne,de.T=Y,gf(S,C)}}function bf(S,C,L){C=Yi(L,C),C=Gl(S.stateNode,C,2),S=Ws(S,C,2),S!==null&&(lr(S,2),bs(S))}function _n(S,C,L){if(S.tag===3)bf(S,S,L);else for(;C!==null;){if(C.tag===3){bf(C,S,L);break}else if(C.tag===1){var Y=C.stateNode;if(typeof C.type.getDerivedStateFromError=="function"||typeof Y.componentDidCatch=="function"&&(Js===null||!Js.has(Y))){S=Yi(L,S),L=bh(2),Y=Ws(C,L,2),Y!==null&&(vh(L,Y,C,S),lr(Y,2),bs(Y));break}}C=C.return}}function bc(S,C,L){var Y=S.pingCache;if(Y===null){Y=S.pingCache=new Gp;var ne=new Set;Y.set(C,ne)}else ne=Y.get(C),ne===void 0&&(ne=new Set,Y.set(C,ne));ne.has(L)||(cc=!0,ne.add(L),S=Qp.bind(null,S,C,L),C.then(S,S))}function Qp(S,C,L){var Y=S.pingCache;Y!==null&&Y.delete(C),S.pingedLanes|=S.suspendedLanes&L,S.warmLanes&=~L,Sn===S&&(Kr&L)===L&&(Nn===4||Nn===3&&(Kr&62914560)===Kr&&300>Nt()-Su?(hn&2)===0&&Xa(S,0):dc|=L,Ka===Kr&&(Ka=0)),bs(S)}function vf(S,C){C===0&&(C=Pr()),S=fa(S,C),S!==null&&(lr(S,C),bs(S))}function Zp(S){var C=S.memoizedState,L=0;C!==null&&(L=C.retryLane),vf(S,L)}function tm(S,C){var L=0;switch(S.tag){case 31:case 13:var Y=S.stateNode,ne=S.memoizedState;ne!==null&&(L=ne.retryLane);break;case 19:Y=S.stateNode;break;case 22:Y=S.stateNode._retryCache;break;default:throw Error(i(314))}Y!==null&&Y.delete(C),vf(S,L)}function rm(S,C){return ot(S,C)}var $u=null,Qa=null,vc=!1,Iu=!1,yc=!1,ea=0;function bs(S){S!==Qa&&S.next===null&&(Qa===null?$u=Qa=S:Qa=Qa.next=S),Iu=!0,vc||(vc=!0,im())}function Po(S,C){if(!yc&&Iu){yc=!0;do for(var L=!1,Y=$u;Y!==null;){if(S!==0){var ne=Y.pendingLanes;if(ne===0)var ae=0;else{var fe=Y.suspendedLanes,Ee=Y.pingedLanes;ae=(1<<31-ht(42|S)+1)-1,ae&=ne&~(fe&~Ee),ae=ae&201326741?ae&201326741|1:ae?ae|2:0}ae!==0&&(L=!0,Sf(Y,ae))}else ae=Kr,ae=Ht(Y,Y===Sn?ae:0,Y.cancelPendingCommit!==null||Y.timeoutHandle!==-1),(ae&3)===0||dr(Y,ae)||(L=!0,Sf(Y,ae));Y=Y.next}while(L);yc=!1}}function nm(){yf()}function yf(){Iu=vc=!1;var S=0;ea!==0&&pm()&&(S=ea);for(var C=Nt(),L=null,Y=$u;Y!==null;){var ne=Y.next,ae=xf(Y,C);ae===0?(Y.next=null,L===null?$u=ne:L.next=ne,ne===null&&(Qa=L)):(L=Y,(S!==0||(ae&3)!==0)&&(Iu=!0)),Y=ne}Jn!==0&&Jn!==5||Po(S),ea!==0&&(ea=0)}function xf(S,C){for(var L=S.suspendedLanes,Y=S.pingedLanes,ne=S.expirationTimes,ae=S.pendingLanes&-62914561;0<ae;){var fe=31-ht(ae),Ee=1<<fe,je=ne[fe];je===-1?((Ee&L)===0||(Ee&Y)!==0)&&(ne[fe]=ir(Ee,C)):je<=C&&(S.expiredLanes|=Ee),ae&=~Ee}if(C=Sn,L=Kr,L=Ht(S,S===C?L:0,S.cancelPendingCommit!==null||S.timeoutHandle!==-1),Y=S.callbackNode,L===0||S===C&&(gn===2||gn===9)||S.cancelPendingCommit!==null)return Y!==null&&Y!==null&&Rt(Y),S.callbackNode=null,S.callbackPriority=0;if((L&3)===0||dr(S,L)){if(C=L&-L,C===S.callbackPriority)return C;switch(Y!==null&&Rt(Y),_t(L)){case 2:case 8:L=Pe;break;case 32:L=ve;break;case 268435456:L=wt;break;default:L=ve}return Y=Ef.bind(null,S),L=ot(L,Y),S.callbackPriority=C,S.callbackNode=L,C}return Y!==null&&Y!==null&&Rt(Y),S.callbackPriority=2,S.callbackNode=null,2}function Ef(S,C){if(Jn!==0&&Jn!==5)return S.callbackNode=null,S.callbackPriority=0,null;var L=S.callbackNode;if(Mu()&&S.callbackNode!==L)return null;var Y=Kr;return Y=Ht(S,S===Sn?Y:0,S.cancelPendingCommit!==null||S.timeoutHandle!==-1),Y===0?null:(rf(S,Y,C),xf(S,Nt()),S.callbackNode!=null&&S.callbackNode===L?Ef.bind(null,S):null)}function Sf(S,C){if(Mu())return null;rf(S,C,!0)}function im(){gm(function(){(hn&6)!==0?ot(kt,nm):yf()})}function xc(){if(ea===0){var S=ka;S===0&&(S=Ar,Ar<<=1,(Ar&261888)===0&&(Ar=256)),ea=S}return ea}function wf(S){return S==null||typeof S=="symbol"||typeof S=="boolean"?null:typeof S=="function"?S:vt(""+S)}function Cf(S,C){var L=C.ownerDocument.createElement("input");return L.name=C.name,L.value=C.value,S.id&&L.setAttribute("form",S.id),C.parentNode.insertBefore(L,C),S=new FormData(S),L.parentNode.removeChild(L),S}function sm(S,C,L,Y,ne){if(C==="submit"&&L&&L.stateNode===ne){var ae=wf((ne[Bt]||null).action),fe=Y.submitter;fe&&(C=(C=fe[Bt]||null)?wf(C.formAction):fe.getAttribute("formAction"),C!==null&&(ae=C,fe=null));var Ee=new Mr("action","action",null,Y,ne);S.push({event:Ee,listeners:[{instance:null,listener:function(){if(Y.defaultPrevented){if(ea!==0){var je=fe?Cf(ne,fe):new FormData(ne);Hl(L,{pending:!0,data:je,method:ne.method,action:ae},null,je)}}else typeof ae=="function"&&(Ee.preventDefault(),je=fe?Cf(ne,fe):new FormData(ne),Hl(L,{pending:!0,data:je,method:ne.method,action:ae},ae,je))},currentTarget:ne}]})}}for(var Ec=0;Ec<nl.length;Ec++){var Sc=nl[Ec],am=Sc.toLowerCase(),om=Sc[0].toUpperCase()+Sc.slice(1);ls(am,"on"+om)}ls(mn,"onAnimationEnd"),ls(ii,"onAnimationIteration"),ls(Xn,"onAnimationStart"),ls("dblclick","onDoubleClick"),ls("focusin","onFocus"),ls("focusout","onBlur"),ls(yi,"onTransitionRun"),ls(Gi,"onTransitionStart"),ls(js,"onTransitionCancel"),ls(Qn,"onTransitionEnd"),zn("onMouseEnter",["mouseout","mouseover"]),zn("onMouseLeave",["mouseout","mouseover"]),zn("onPointerEnter",["pointerout","pointerover"]),zn("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Do="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),um=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Do));function Tf(S,C){C=(C&4)!==0;for(var L=0;L<S.length;L++){var Y=S[L],ne=Y.event;Y=Y.listeners;e:{var ae=void 0;if(C)for(var fe=Y.length-1;0<=fe;fe--){var Ee=Y[fe],je=Ee.instance,nt=Ee.currentTarget;if(Ee=Ee.listener,je!==ae&&ne.isPropagationStopped())break e;ae=Ee,ne.currentTarget=nt;try{ae(ne)}catch(pt){Vo(pt)}ne.currentTarget=null,ae=je}else for(fe=0;fe<Y.length;fe++){if(Ee=Y[fe],je=Ee.instance,nt=Ee.currentTarget,Ee=Ee.listener,je!==ae&&ne.isPropagationStopped())break e;ae=Ee,ne.currentTarget=nt;try{ae(ne)}catch(pt){Vo(pt)}ne.currentTarget=null,ae=je}}}}function Ur(S,C){var L=C[sr];L===void 0&&(L=C[sr]=new Set);var Y=S+"__bubble";L.has(Y)||(Af(C,S,2,!1),L.add(Y))}function wc(S,C,L){var Y=0;C&&(Y|=4),Af(L,S,Y,C)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function Cc(S){if(!S[Pu]){S[Pu]=!0,Pn.forEach(function(L){L!=="selectionchange"&&(um.has(L)||wc(L,!1,S),wc(L,!0,S))});var C=S.nodeType===9?S:S.ownerDocument;C===null||C[Pu]||(C[Pu]=!0,wc("selectionchange",!1,C))}}function Af(S,C,L,Y){switch(rp(C)){case 2:var ne=Om;break;case 8:ne=km;break;default:ne=zc}L=ne.bind(null,C,L,S),ne=void 0,!Tn||C!=="touchstart"&&C!=="touchmove"&&C!=="wheel"||(ne=!0),Y?ne!==void 0?S.addEventListener(C,L,{capture:!0,passive:ne}):S.addEventListener(C,L,!0):ne!==void 0?S.addEventListener(C,L,{passive:ne}):S.addEventListener(C,L,!1)}function Tc(S,C,L,Y,ne){var ae=Y;if((C&1)===0&&(C&2)===0&&Y!==null)e:for(;;){if(Y===null)return;var fe=Y.tag;if(fe===3||fe===4){var Ee=Y.stateNode.containerInfo;if(Ee===ne)break;if(fe===4)for(fe=Y.return;fe!==null;){var je=fe.tag;if((je===3||je===4)&&fe.stateNode.containerInfo===ne)return;fe=fe.return}for(;Ee!==null;){if(fe=sn(Ee),fe===null)return;if(je=fe.tag,je===5||je===6||je===26||je===27){Y=ae=fe;continue e}Ee=Ee.parentNode}}Y=Y.return}un(function(){var nt=ae,pt=Yt(L),xt=[];e:{var at=sd.get(S);if(at!==void 0){var ct=Mr,Jt=S;switch(S){case"keypress":if(zi(L)===0)break e;case"keydown":case"keyup":ct=Gr;break;case"focusin":Jt="focus",ct=ue;break;case"focusout":Jt="blur",ct=ue;break;case"beforeblur":case"afterblur":ct=ue;break;case"click":if(L.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ct=fs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ct=ee;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ct=Hi;break;case mn:case ii:case Xn:ct=pe;break;case Qn:ct=Br;break;case"scroll":case"scrollend":ct=vn;break;case"wheel":ct=Jr;break;case"copy":case"cut":case"paste":ct=ye;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ct=Fn;break;case"toggle":case"beforetoggle":ct=ua}var fr=(C&4)!==0,En=!fr&&(S==="scroll"||S==="scrollend"),Ye=fr?at!==null?at+"Capture":null:at;fr=[];for(var He=nt,rt;He!==null;){var bt=He;if(rt=bt.stateNode,bt=bt.tag,bt!==5&&bt!==26&&bt!==27||rt===null||Ye===null||(bt=wr(He,Ye),bt!=null&&fr.push(Lo(He,bt,rt))),En)break;He=He.return}0<fr.length&&(at=new ct(at,Jt,null,L,pt),xt.push({event:at,listeners:fr}))}}if((C&7)===0){e:{if(at=S==="mouseover"||S==="pointerover",ct=S==="mouseout"||S==="pointerout",at&&L!==Pt&&(Jt=L.relatedTarget||L.fromElement)&&(sn(Jt)||Jt[Ut]))break e;if((ct||at)&&(at=pt.window===pt?pt:(at=pt.ownerDocument)?at.defaultView||at.parentWindow:window,ct?(Jt=L.relatedTarget||L.toElement,ct=nt,Jt=Jt?sn(Jt):null,Jt!==null&&(En=u(Jt),fr=Jt.tag,Jt!==En||fr!==5&&fr!==27&&fr!==6)&&(Jt=null)):(ct=null,Jt=nt),ct!==Jt)){if(fr=fs,bt="onMouseLeave",Ye="onMouseEnter",He="mouse",(S==="pointerout"||S==="pointerover")&&(fr=Fn,bt="onPointerLeave",Ye="onPointerEnter",He="pointer"),En=ct==null?at:an(ct),rt=Jt==null?at:an(Jt),at=new fr(bt,He+"leave",ct,L,pt),at.target=En,at.relatedTarget=rt,bt=null,sn(pt)===nt&&(fr=new fr(Ye,He+"enter",Jt,L,pt),fr.target=rt,fr.relatedTarget=En,bt=fr),En=bt,ct&&Jt)t:{for(fr=lm,Ye=ct,He=Jt,rt=0,bt=Ye;bt;bt=fr(bt))rt++;bt=0;for(var ur=He;ur;ur=fr(ur))bt++;for(;0<rt-bt;)Ye=fr(Ye),rt--;for(;0<bt-rt;)He=fr(He),bt--;for(;rt--;){if(Ye===He||He!==null&&Ye===He.alternate){fr=Ye;break t}Ye=fr(Ye),He=fr(He)}fr=null}else fr=null;ct!==null&&Rf(xt,at,ct,fr,!1),Jt!==null&&En!==null&&Rf(xt,En,Jt,fr,!0)}}e:{if(at=nt?an(nt):window,ct=at.nodeName&&at.nodeName.toLowerCase(),ct==="select"||ct==="input"&&at.type==="file")var rn=io;else if(tn(at))if(ps)rn=Ma;else{rn=ao;var rr=Ra}else ct=at.nodeName,!ct||ct.toLowerCase()!=="input"||at.type!=="checkbox"&&at.type!=="radio"?nt&&Ne(nt.elementType)&&(rn=io):rn=rl;if(rn&&(rn=rn(S,nt))){la(xt,rn,L,pt);break e}rr&&rr(S,at,nt),S==="focusout"&&nt&&at.type==="number"&&nt.memoizedProps.value!=null&&Yn(at,"number",at.value)}switch(rr=nt?an(nt):window,S){case"focusin":(tn(rr)||rr.contentEditable==="true")&&(ft=rr,Dt=nt,zt=null);break;case"focusout":zt=Dt=ft=null;break;case"mousedown":Zt=!0;break;case"contextmenu":case"mouseup":case"dragend":Zt=!1,Ft(xt,L,pt);break;case"selectionchange":if(lt)break;case"keydown":case"keyup":Ft(xt,L,pt)}var Ir;if(vi)e:{switch(S){case"compositionstart":var Yr="onCompositionStart";break e;case"compositionend":Yr="onCompositionEnd";break e;case"compositionupdate":Yr="onCompositionUpdate";break e}Yr=void 0}else di?Ta(S,L)&&(Yr="onCompositionEnd"):S==="keydown"&&L.keyCode===229&&(Yr="onCompositionStart");Yr&&(os&&L.locale!=="ko"&&(di||Yr!=="onCompositionStart"?Yr==="onCompositionEnd"&&di&&(Ir=Mi()):(ln=pt,ss="value"in ln?ln.value:ln.textContent,di=!0)),rr=Du(nt,Yr),0<rr.length&&(Yr=new Ie(Yr,S,null,L,pt),xt.push({event:Yr,listeners:rr}),Ir?Yr.data=Ir:(Ir=Ui(L),Ir!==null&&(Yr.data=Ir)))),(Ir=Fi?Qu(S,L):Zu(S,L))&&(Yr=Du(nt,"onBeforeInput"),0<Yr.length&&(rr=new Ie("onBeforeInput","beforeinput",null,L,pt),xt.push({event:rr,listeners:Yr}),rr.data=Ir)),sm(xt,S,nt,L,pt)}Tf(xt,C)})}function Lo(S,C,L){return{instance:S,listener:C,currentTarget:L}}function Du(S,C){for(var L=C+"Capture",Y=[];S!==null;){var ne=S,ae=ne.stateNode;if(ne=ne.tag,ne!==5&&ne!==26&&ne!==27||ae===null||(ne=wr(S,L),ne!=null&&Y.unshift(Lo(S,ne,ae)),ne=wr(S,C),ne!=null&&Y.push(Lo(S,ne,ae))),S.tag===3)return Y;S=S.return}return[]}function lm(S){if(S===null)return null;do S=S.return;while(S&&S.tag!==5&&S.tag!==27);return S||null}function Rf(S,C,L,Y,ne){for(var ae=C._reactName,fe=[];L!==null&&L!==Y;){var Ee=L,je=Ee.alternate,nt=Ee.stateNode;if(Ee=Ee.tag,je!==null&&je===Y)break;Ee!==5&&Ee!==26&&Ee!==27||nt===null||(je=nt,ne?(nt=wr(L,ae),nt!=null&&fe.unshift(Lo(L,nt,je))):ne||(nt=wr(L,ae),nt!=null&&fe.push(Lo(L,nt,je)))),L=L.return}fe.length!==0&&S.push({event:C,listeners:fe})}var cm=/\r\n?/g,dm=/\u0000|\uFFFD/g;function Mf(S){return(typeof S=="string"?S:""+S).replace(cm,`
`).replace(dm,"")}function $f(S,C){return C=Mf(C),Mf(S)===C}function xn(S,C,L,Y,ne,ae){switch(L){case"children":typeof Y=="string"?C==="body"||C==="textarea"&&Y===""||Bi(S,Y):(typeof Y=="number"||typeof Y=="bigint")&&C!=="body"&&Bi(S,""+Y);break;case"className":Hr(S,"class",Y);break;case"tabIndex":Hr(S,"tabindex",Y);break;case"dir":case"role":case"viewBox":case"width":case"height":Hr(S,L,Y);break;case"style":fi(S,Y,ae);break;case"data":if(C!=="object"){Hr(S,"data",Y);break}case"src":case"href":if(Y===""&&(C!=="a"||L!=="href")){S.removeAttribute(L);break}if(Y==null||typeof Y=="function"||typeof Y=="symbol"||typeof Y=="boolean"){S.removeAttribute(L);break}Y=vt(""+Y),S.setAttribute(L,Y);break;case"action":case"formAction":if(typeof Y=="function"){S.setAttribute(L,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof ae=="function"&&(L==="formAction"?(C!=="input"&&xn(S,C,"name",ne.name,ne,null),xn(S,C,"formEncType",ne.formEncType,ne,null),xn(S,C,"formMethod",ne.formMethod,ne,null),xn(S,C,"formTarget",ne.formTarget,ne,null)):(xn(S,C,"encType",ne.encType,ne,null),xn(S,C,"method",ne.method,ne,null),xn(S,C,"target",ne.target,ne,null)));if(Y==null||typeof Y=="symbol"||typeof Y=="boolean"){S.removeAttribute(L);break}Y=vt(""+Y),S.setAttribute(L,Y);break;case"onClick":Y!=null&&(S.onclick=$t);break;case"onScroll":Y!=null&&Ur("scroll",S);break;case"onScrollEnd":Y!=null&&Ur("scrollend",S);break;case"dangerouslySetInnerHTML":if(Y!=null){if(typeof Y!="object"||!("__html"in Y))throw Error(i(61));if(L=Y.__html,L!=null){if(ne.children!=null)throw Error(i(60));S.innerHTML=L}}break;case"multiple":S.multiple=Y&&typeof Y!="function"&&typeof Y!="symbol";break;case"muted":S.muted=Y&&typeof Y!="function"&&typeof Y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(Y==null||typeof Y=="function"||typeof Y=="boolean"||typeof Y=="symbol"){S.removeAttribute("xlink:href");break}L=vt(""+Y),S.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",L);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":Y!=null&&typeof Y!="function"&&typeof Y!="symbol"?S.setAttribute(L,""+Y):S.removeAttribute(L);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":Y&&typeof Y!="function"&&typeof Y!="symbol"?S.setAttribute(L,""):S.removeAttribute(L);break;case"capture":case"download":Y===!0?S.setAttribute(L,""):Y!==!1&&Y!=null&&typeof Y!="function"&&typeof Y!="symbol"?S.setAttribute(L,Y):S.removeAttribute(L);break;case"cols":case"rows":case"size":case"span":Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&!isNaN(Y)&&1<=Y?S.setAttribute(L,Y):S.removeAttribute(L);break;case"rowSpan":case"start":Y==null||typeof Y=="function"||typeof Y=="symbol"||isNaN(Y)?S.removeAttribute(L):S.setAttribute(L,Y);break;case"popover":Ur("beforetoggle",S),Ur("toggle",S),Zr(S,"popover",Y);break;case"xlinkActuate":Lr(S,"http://www.w3.org/1999/xlink","xlink:actuate",Y);break;case"xlinkArcrole":Lr(S,"http://www.w3.org/1999/xlink","xlink:arcrole",Y);break;case"xlinkRole":Lr(S,"http://www.w3.org/1999/xlink","xlink:role",Y);break;case"xlinkShow":Lr(S,"http://www.w3.org/1999/xlink","xlink:show",Y);break;case"xlinkTitle":Lr(S,"http://www.w3.org/1999/xlink","xlink:title",Y);break;case"xlinkType":Lr(S,"http://www.w3.org/1999/xlink","xlink:type",Y);break;case"xmlBase":Lr(S,"http://www.w3.org/XML/1998/namespace","xml:base",Y);break;case"xmlLang":Lr(S,"http://www.w3.org/XML/1998/namespace","xml:lang",Y);break;case"xmlSpace":Lr(S,"http://www.w3.org/XML/1998/namespace","xml:space",Y);break;case"is":Zr(S,"is",Y);break;case"innerText":case"textContent":break;default:(!(2<L.length)||L[0]!=="o"&&L[0]!=="O"||L[1]!=="n"&&L[1]!=="N")&&(L=Ke.get(L)||L,Zr(S,L,Y))}}function Ac(S,C,L,Y,ne,ae){switch(L){case"style":fi(S,Y,ae);break;case"dangerouslySetInnerHTML":if(Y!=null){if(typeof Y!="object"||!("__html"in Y))throw Error(i(61));if(L=Y.__html,L!=null){if(ne.children!=null)throw Error(i(60));S.innerHTML=L}}break;case"children":typeof Y=="string"?Bi(S,Y):(typeof Y=="number"||typeof Y=="bigint")&&Bi(S,""+Y);break;case"onScroll":Y!=null&&Ur("scroll",S);break;case"onScrollEnd":Y!=null&&Ur("scrollend",S);break;case"onClick":Y!=null&&(S.onclick=$t);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dn.hasOwnProperty(L))e:{if(L[0]==="o"&&L[1]==="n"&&(ne=L.endsWith("Capture"),C=L.slice(2,ne?L.length-7:void 0),ae=S[Bt]||null,ae=ae!=null?ae[L]:null,typeof ae=="function"&&S.removeEventListener(C,ae,ne),typeof Y=="function")){typeof ae!="function"&&ae!==null&&(L in S?S[L]=null:S.hasAttribute(L)&&S.removeAttribute(L)),S.addEventListener(C,Y,ne);break e}L in S?S[L]=Y:Y===!0?S.setAttribute(L,""):Zr(S,L,Y)}}}function ui(S,C,L){switch(C){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ur("error",S),Ur("load",S);var Y=!1,ne=!1,ae;for(ae in L)if(L.hasOwnProperty(ae)){var fe=L[ae];if(fe!=null)switch(ae){case"src":Y=!0;break;case"srcSet":ne=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,C));default:xn(S,C,ae,fe,L,null)}}ne&&xn(S,C,"srcSet",L.srcSet,L,null),Y&&xn(S,C,"src",L.src,L,null);return;case"input":Ur("invalid",S);var Ee=ae=fe=ne=null,je=null,nt=null;for(Y in L)if(L.hasOwnProperty(Y)){var pt=L[Y];if(pt!=null)switch(Y){case"name":ne=pt;break;case"type":fe=pt;break;case"checked":je=pt;break;case"defaultChecked":nt=pt;break;case"value":ae=pt;break;case"defaultValue":Ee=pt;break;case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(i(137,C));break;default:xn(S,C,Y,pt,L,null)}}vs(S,ae,Ee,je,nt,fe,ne,!1);return;case"select":Ur("invalid",S),Y=fe=ae=null;for(ne in L)if(L.hasOwnProperty(ne)&&(Ee=L[ne],Ee!=null))switch(ne){case"value":ae=Ee;break;case"defaultValue":fe=Ee;break;case"multiple":Y=Ee;default:xn(S,C,ne,Ee,L,null)}C=ae,L=fe,S.multiple=!!Y,C!=null?_i(S,!!Y,C,!1):L!=null&&_i(S,!!Y,L,!0);return;case"textarea":Ur("invalid",S),ae=ne=Y=null;for(fe in L)if(L.hasOwnProperty(fe)&&(Ee=L[fe],Ee!=null))switch(fe){case"value":Y=Ee;break;case"defaultValue":ne=Ee;break;case"children":ae=Ee;break;case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(i(91));break;default:xn(S,C,fe,Ee,L,null)}hs(S,Y,ne,ae);return;case"option":for(je in L)L.hasOwnProperty(je)&&(Y=L[je],Y!=null)&&(je==="selected"?S.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":xn(S,C,je,Y,L,null));return;case"dialog":Ur("beforetoggle",S),Ur("toggle",S),Ur("cancel",S),Ur("close",S);break;case"iframe":case"object":Ur("load",S);break;case"video":case"audio":for(Y=0;Y<Do.length;Y++)Ur(Do[Y],S);break;case"image":Ur("error",S),Ur("load",S);break;case"details":Ur("toggle",S);break;case"embed":case"source":case"link":Ur("error",S),Ur("load",S);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(nt in L)if(L.hasOwnProperty(nt)&&(Y=L[nt],Y!=null))switch(nt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,C));default:xn(S,C,nt,Y,L,null)}return;default:if(Ne(C)){for(pt in L)L.hasOwnProperty(pt)&&(Y=L[pt],Y!==void 0&&Ac(S,C,pt,Y,L,void 0));return}}for(Ee in L)L.hasOwnProperty(Ee)&&(Y=L[Ee],Y!=null&&xn(S,C,Ee,Y,L,null))}function hm(S,C,L,Y){switch(C){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var ne=null,ae=null,fe=null,Ee=null,je=null,nt=null,pt=null;for(ct in L){var xt=L[ct];if(L.hasOwnProperty(ct)&&xt!=null)switch(ct){case"checked":break;case"value":break;case"defaultValue":je=xt;default:Y.hasOwnProperty(ct)||xn(S,C,ct,null,Y,xt)}}for(var at in Y){var ct=Y[at];if(xt=L[at],Y.hasOwnProperty(at)&&(ct!=null||xt!=null))switch(at){case"type":ae=ct;break;case"name":ne=ct;break;case"checked":nt=ct;break;case"defaultChecked":pt=ct;break;case"value":fe=ct;break;case"defaultValue":Ee=ct;break;case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(i(137,C));break;default:ct!==xt&&xn(S,C,at,ct,Y,xt)}}ki(S,fe,Ee,je,nt,pt,ae,ne);return;case"select":ct=fe=Ee=at=null;for(ae in L)if(je=L[ae],L.hasOwnProperty(ae)&&je!=null)switch(ae){case"value":break;case"multiple":ct=je;default:Y.hasOwnProperty(ae)||xn(S,C,ae,null,Y,je)}for(ne in Y)if(ae=Y[ne],je=L[ne],Y.hasOwnProperty(ne)&&(ae!=null||je!=null))switch(ne){case"value":at=ae;break;case"defaultValue":Ee=ae;break;case"multiple":fe=ae;default:ae!==je&&xn(S,C,ne,ae,Y,je)}C=Ee,L=fe,Y=ct,at!=null?_i(S,!!L,at,!1):!!Y!=!!L&&(C!=null?_i(S,!!L,C,!0):_i(S,!!L,L?[]:"",!1));return;case"textarea":ct=at=null;for(Ee in L)if(ne=L[Ee],L.hasOwnProperty(Ee)&&ne!=null&&!Y.hasOwnProperty(Ee))switch(Ee){case"value":break;case"children":break;default:xn(S,C,Ee,null,Y,ne)}for(fe in Y)if(ne=Y[fe],ae=L[fe],Y.hasOwnProperty(fe)&&(ne!=null||ae!=null))switch(fe){case"value":at=ne;break;case"defaultValue":ct=ne;break;case"children":break;case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(91));break;default:ne!==ae&&xn(S,C,fe,ne,Y,ae)}ji(S,at,ct);return;case"option":for(var Jt in L)at=L[Jt],L.hasOwnProperty(Jt)&&at!=null&&!Y.hasOwnProperty(Jt)&&(Jt==="selected"?S.selected=!1:xn(S,C,Jt,null,Y,at));for(je in Y)at=Y[je],ct=L[je],Y.hasOwnProperty(je)&&at!==ct&&(at!=null||ct!=null)&&(je==="selected"?S.selected=at&&typeof at!="function"&&typeof at!="symbol":xn(S,C,je,at,Y,ct));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fr in L)at=L[fr],L.hasOwnProperty(fr)&&at!=null&&!Y.hasOwnProperty(fr)&&xn(S,C,fr,null,Y,at);for(nt in Y)if(at=Y[nt],ct=L[nt],Y.hasOwnProperty(nt)&&at!==ct&&(at!=null||ct!=null))switch(nt){case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(i(137,C));break;default:xn(S,C,nt,at,Y,ct)}return;default:if(Ne(C)){for(var En in L)at=L[En],L.hasOwnProperty(En)&&at!==void 0&&!Y.hasOwnProperty(En)&&Ac(S,C,En,void 0,Y,at);for(pt in Y)at=Y[pt],ct=L[pt],!Y.hasOwnProperty(pt)||at===ct||at===void 0&&ct===void 0||Ac(S,C,pt,at,Y,ct);return}}for(var Ye in L)at=L[Ye],L.hasOwnProperty(Ye)&&at!=null&&!Y.hasOwnProperty(Ye)&&xn(S,C,Ye,null,Y,at);for(xt in Y)at=Y[xt],ct=L[xt],!Y.hasOwnProperty(xt)||at===ct||at==null&&ct==null||xn(S,C,xt,at,Y,ct)}function If(S){switch(S){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fm(){if(typeof performance.getEntriesByType=="function"){for(var S=0,C=0,L=performance.getEntriesByType("resource"),Y=0;Y<L.length;Y++){var ne=L[Y],ae=ne.transferSize,fe=ne.initiatorType,Ee=ne.duration;if(ae&&Ee&&If(fe)){for(fe=0,Ee=ne.responseEnd,Y+=1;Y<L.length;Y++){var je=L[Y],nt=je.startTime;if(nt>Ee)break;var pt=je.transferSize,xt=je.initiatorType;pt&&If(xt)&&(je=je.responseEnd,fe+=pt*(je<Ee?1:(Ee-nt)/(je-nt)))}if(--Y,C+=8*(ae+fe)/(ne.duration/1e3),S++,10<S)break}}if(0<S)return C/S/1e6}return navigator.connection&&(S=navigator.connection.downlink,typeof S=="number")?S:5}var Rc=null,Mc=null;function Lu(S){return S.nodeType===9?S:S.ownerDocument}function Pf(S){switch(S){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Df(S,C){if(S===0)switch(C){case"svg":return 1;case"math":return 2;default:return 0}return S===1&&C==="foreignObject"?0:S}function $c(S,C){return S==="textarea"||S==="noscript"||typeof C.children=="string"||typeof C.children=="number"||typeof C.children=="bigint"||typeof C.dangerouslySetInnerHTML=="object"&&C.dangerouslySetInnerHTML!==null&&C.dangerouslySetInnerHTML.__html!=null}var Ic=null;function pm(){var S=window.event;return S&&S.type==="popstate"?S===Ic?!1:(Ic=S,!0):(Ic=null,!1)}var Lf=typeof setTimeout=="function"?setTimeout:void 0,mm=typeof clearTimeout=="function"?clearTimeout:void 0,Nf=typeof Promise=="function"?Promise:void 0,gm=typeof queueMicrotask=="function"?queueMicrotask:typeof Nf<"u"?function(S){return Nf.resolve(null).then(S).catch(_m)}:Lf;function _m(S){setTimeout(function(){throw S})}function ta(S){return S==="head"}function Of(S,C){var L=C,Y=0;do{var ne=L.nextSibling;if(S.removeChild(L),ne&&ne.nodeType===8)if(L=ne.data,L==="/$"||L==="/&"){if(Y===0){S.removeChild(ne),ro(C);return}Y--}else if(L==="$"||L==="$?"||L==="$~"||L==="$!"||L==="&")Y++;else if(L==="html")No(S.ownerDocument.documentElement);else if(L==="head"){L=S.ownerDocument.head,No(L);for(var ae=L.firstChild;ae;){var fe=ae.nextSibling,Ee=ae.nodeName;ae[en]||Ee==="SCRIPT"||Ee==="STYLE"||Ee==="LINK"&&ae.rel.toLowerCase()==="stylesheet"||L.removeChild(ae),ae=fe}}else L==="body"&&No(S.ownerDocument.body);L=ne}while(L);ro(C)}function kf(S,C){var L=S;S=0;do{var Y=L.nextSibling;if(L.nodeType===1?C?(L._stashedDisplay=L.style.display,L.style.display="none"):(L.style.display=L._stashedDisplay||"",L.getAttribute("style")===""&&L.removeAttribute("style")):L.nodeType===3&&(C?(L._stashedText=L.nodeValue,L.nodeValue=""):L.nodeValue=L._stashedText||""),Y&&Y.nodeType===8)if(L=Y.data,L==="/$"){if(S===0)break;S--}else L!=="$"&&L!=="$?"&&L!=="$~"&&L!=="$!"||S++;L=Y}while(L)}function Pc(S){var C=S.firstChild;for(C&&C.nodeType===10&&(C=C.nextSibling);C;){var L=C;switch(C=C.nextSibling,L.nodeName){case"HTML":case"HEAD":case"BODY":Pc(L),zr(L);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(L.rel.toLowerCase()==="stylesheet")continue}S.removeChild(L)}}function bm(S,C,L,Y){for(;S.nodeType===1;){var ne=L;if(S.nodeName.toLowerCase()!==C.toLowerCase()){if(!Y&&(S.nodeName!=="INPUT"||S.type!=="hidden"))break}else if(Y){if(!S[en])switch(C){case"meta":if(!S.hasAttribute("itemprop"))break;return S;case"link":if(ae=S.getAttribute("rel"),ae==="stylesheet"&&S.hasAttribute("data-precedence"))break;if(ae!==ne.rel||S.getAttribute("href")!==(ne.href==null||ne.href===""?null:ne.href)||S.getAttribute("crossorigin")!==(ne.crossOrigin==null?null:ne.crossOrigin)||S.getAttribute("title")!==(ne.title==null?null:ne.title))break;return S;case"style":if(S.hasAttribute("data-precedence"))break;return S;case"script":if(ae=S.getAttribute("src"),(ae!==(ne.src==null?null:ne.src)||S.getAttribute("type")!==(ne.type==null?null:ne.type)||S.getAttribute("crossorigin")!==(ne.crossOrigin==null?null:ne.crossOrigin))&&ae&&S.hasAttribute("async")&&!S.hasAttribute("itemprop"))break;return S;default:return S}}else if(C==="input"&&S.type==="hidden"){var ae=ne.name==null?null:""+ne.name;if(ne.type==="hidden"&&S.getAttribute("name")===ae)return S}else return S;if(S=es(S.nextSibling),S===null)break}return null}function vm(S,C,L){if(C==="")return null;for(;S.nodeType!==3;)if((S.nodeType!==1||S.nodeName!=="INPUT"||S.type!=="hidden")&&!L||(S=es(S.nextSibling),S===null))return null;return S}function jf(S,C){for(;S.nodeType!==8;)if((S.nodeType!==1||S.nodeName!=="INPUT"||S.type!=="hidden")&&!C||(S=es(S.nextSibling),S===null))return null;return S}function Dc(S){return S.data==="$?"||S.data==="$~"}function Lc(S){return S.data==="$!"||S.data==="$?"&&S.ownerDocument.readyState!=="loading"}function ym(S,C){var L=S.ownerDocument;if(S.data==="$~")S._reactRetry=C;else if(S.data!=="$?"||L.readyState!=="loading")C();else{var Y=function(){C(),L.removeEventListener("DOMContentLoaded",Y)};L.addEventListener("DOMContentLoaded",Y),S._reactRetry=Y}}function es(S){for(;S!=null;S=S.nextSibling){var C=S.nodeType;if(C===1||C===3)break;if(C===8){if(C=S.data,C==="$"||C==="$!"||C==="$?"||C==="$~"||C==="&"||C==="F!"||C==="F")break;if(C==="/$"||C==="/&")return null}}return S}var Nc=null;function Bf(S){S=S.nextSibling;for(var C=0;S;){if(S.nodeType===8){var L=S.data;if(L==="/$"||L==="/&"){if(C===0)return es(S.nextSibling);C--}else L!=="$"&&L!=="$!"&&L!=="$?"&&L!=="$~"&&L!=="&"||C++}S=S.nextSibling}return null}function zf(S){S=S.previousSibling;for(var C=0;S;){if(S.nodeType===8){var L=S.data;if(L==="$"||L==="$!"||L==="$?"||L==="$~"||L==="&"){if(C===0)return S;C--}else L!=="/$"&&L!=="/&"||C++}S=S.previousSibling}return null}function Hf(S,C,L){switch(C=Lu(L),S){case"html":if(S=C.documentElement,!S)throw Error(i(452));return S;case"head":if(S=C.head,!S)throw Error(i(453));return S;case"body":if(S=C.body,!S)throw Error(i(454));return S;default:throw Error(i(451))}}function No(S){for(var C=S.attributes;C.length;)S.removeAttributeNode(C[0]);zr(S)}var ts=new Map,qf=new Set;function Nu(S){return typeof S.getRootNode=="function"?S.getRootNode():S.nodeType===9?S:S.ownerDocument}var Os=ge.d;ge.d={f:xm,r:Em,D:Sm,C:wm,L:Cm,m:Tm,X:Rm,S:Am,M:Mm};function xm(){var S=Os.f(),C=Tu();return S||C}function Em(S){var C=Er(S);C!==null&&C.tag===5&&C.type==="form"?ih(C):Os.r(S)}var Za=typeof document>"u"?null:document;function Ff(S,C,L){var Y=Za;if(Y&&typeof C=="string"&&C){var ne=Hn(C);ne='link[rel="'+S+'"][href="'+ne+'"]',typeof L=="string"&&(ne+='[crossorigin="'+L+'"]'),qf.has(ne)||(qf.add(ne),S={rel:S,crossOrigin:L,href:C},Y.querySelector(ne)===null&&(C=Y.createElement("link"),ui(C,"link",S),on(C),Y.head.appendChild(C)))}}function Sm(S){Os.D(S),Ff("dns-prefetch",S,null)}function wm(S,C){Os.C(S,C),Ff("preconnect",S,C)}function Cm(S,C,L){Os.L(S,C,L);var Y=Za;if(Y&&S&&C){var ne='link[rel="preload"][as="'+Hn(C)+'"]';C==="image"&&L&&L.imageSrcSet?(ne+='[imagesrcset="'+Hn(L.imageSrcSet)+'"]',typeof L.imageSizes=="string"&&(ne+='[imagesizes="'+Hn(L.imageSizes)+'"]')):ne+='[href="'+Hn(S)+'"]';var ae=ne;switch(C){case"style":ae=eo(S);break;case"script":ae=to(S)}ts.has(ae)||(S=g({rel:"preload",href:C==="image"&&L&&L.imageSrcSet?void 0:S,as:C},L),ts.set(ae,S),Y.querySelector(ne)!==null||C==="style"&&Y.querySelector(Oo(ae))||C==="script"&&Y.querySelector(ko(ae))||(C=Y.createElement("link"),ui(C,"link",S),on(C),Y.head.appendChild(C)))}}function Tm(S,C){Os.m(S,C);var L=Za;if(L&&S){var Y=C&&typeof C.as=="string"?C.as:"script",ne='link[rel="modulepreload"][as="'+Hn(Y)+'"][href="'+Hn(S)+'"]',ae=ne;switch(Y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":ae=to(S)}if(!ts.has(ae)&&(S=g({rel:"modulepreload",href:S},C),ts.set(ae,S),L.querySelector(ne)===null)){switch(Y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(L.querySelector(ko(ae)))return}Y=L.createElement("link"),ui(Y,"link",S),on(Y),L.head.appendChild(Y)}}}function Am(S,C,L){Os.S(S,C,L);var Y=Za;if(Y&&S){var ne=In(Y).hoistableStyles,ae=eo(S);C=C||"default";var fe=ne.get(ae);if(!fe){var Ee={loading:0,preload:null};if(fe=Y.querySelector(Oo(ae)))Ee.loading=5;else{S=g({rel:"stylesheet",href:S,"data-precedence":C},L),(L=ts.get(ae))&&Oc(S,L);var je=fe=Y.createElement("link");on(je),ui(je,"link",S),je._p=new Promise(function(nt,pt){je.onload=nt,je.onerror=pt}),je.addEventListener("load",function(){Ee.loading|=1}),je.addEventListener("error",function(){Ee.loading|=2}),Ee.loading|=4,Ou(fe,C,Y)}fe={type:"stylesheet",instance:fe,count:1,state:Ee},ne.set(ae,fe)}}}function Rm(S,C){Os.X(S,C);var L=Za;if(L&&S){var Y=In(L).hoistableScripts,ne=to(S),ae=Y.get(ne);ae||(ae=L.querySelector(ko(ne)),ae||(S=g({src:S,async:!0},C),(C=ts.get(ne))&&kc(S,C),ae=L.createElement("script"),on(ae),ui(ae,"link",S),L.head.appendChild(ae)),ae={type:"script",instance:ae,count:1,state:null},Y.set(ne,ae))}}function Mm(S,C){Os.M(S,C);var L=Za;if(L&&S){var Y=In(L).hoistableScripts,ne=to(S),ae=Y.get(ne);ae||(ae=L.querySelector(ko(ne)),ae||(S=g({src:S,async:!0,type:"module"},C),(C=ts.get(ne))&&kc(S,C),ae=L.createElement("script"),on(ae),ui(ae,"link",S),L.head.appendChild(ae)),ae={type:"script",instance:ae,count:1,state:null},Y.set(ne,ae))}}function Uf(S,C,L,Y){var ne=(ne=Je.current)?Nu(ne):null;if(!ne)throw Error(i(446));switch(S){case"meta":case"title":return null;case"style":return typeof L.precedence=="string"&&typeof L.href=="string"?(C=eo(L.href),L=In(ne).hoistableStyles,Y=L.get(C),Y||(Y={type:"style",instance:null,count:0,state:null},L.set(C,Y)),Y):{type:"void",instance:null,count:0,state:null};case"link":if(L.rel==="stylesheet"&&typeof L.href=="string"&&typeof L.precedence=="string"){S=eo(L.href);var ae=In(ne).hoistableStyles,fe=ae.get(S);if(fe||(ne=ne.ownerDocument||ne,fe={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},ae.set(S,fe),(ae=ne.querySelector(Oo(S)))&&!ae._p&&(fe.instance=ae,fe.state.loading=5),ts.has(S)||(L={rel:"preload",as:"style",href:L.href,crossOrigin:L.crossOrigin,integrity:L.integrity,media:L.media,hrefLang:L.hrefLang,referrerPolicy:L.referrerPolicy},ts.set(S,L),ae||$m(ne,S,L,fe.state))),C&&Y===null)throw Error(i(528,""));return fe}if(C&&Y!==null)throw Error(i(529,""));return null;case"script":return C=L.async,L=L.src,typeof L=="string"&&C&&typeof C!="function"&&typeof C!="symbol"?(C=to(L),L=In(ne).hoistableScripts,Y=L.get(C),Y||(Y={type:"script",instance:null,count:0,state:null},L.set(C,Y)),Y):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,S))}}function eo(S){return'href="'+Hn(S)+'"'}function Oo(S){return'link[rel="stylesheet"]['+S+"]"}function Wf(S){return g({},S,{"data-precedence":S.precedence,precedence:null})}function $m(S,C,L,Y){S.querySelector('link[rel="preload"][as="style"]['+C+"]")?Y.loading=1:(C=S.createElement("link"),Y.preload=C,C.addEventListener("load",function(){return Y.loading|=1}),C.addEventListener("error",function(){return Y.loading|=2}),ui(C,"link",L),on(C),S.head.appendChild(C))}function to(S){return'[src="'+Hn(S)+'"]'}function ko(S){return"script[async]"+S}function Vf(S,C,L){if(C.count++,C.instance===null)switch(C.type){case"style":var Y=S.querySelector('style[data-href~="'+Hn(L.href)+'"]');if(Y)return C.instance=Y,on(Y),Y;var ne=g({},L,{"data-href":L.href,"data-precedence":L.precedence,href:null,precedence:null});return Y=(S.ownerDocument||S).createElement("style"),on(Y),ui(Y,"style",ne),Ou(Y,L.precedence,S),C.instance=Y;case"stylesheet":ne=eo(L.href);var ae=S.querySelector(Oo(ne));if(ae)return C.state.loading|=4,C.instance=ae,on(ae),ae;Y=Wf(L),(ne=ts.get(ne))&&Oc(Y,ne),ae=(S.ownerDocument||S).createElement("link"),on(ae);var fe=ae;return fe._p=new Promise(function(Ee,je){fe.onload=Ee,fe.onerror=je}),ui(ae,"link",Y),C.state.loading|=4,Ou(ae,L.precedence,S),C.instance=ae;case"script":return ae=to(L.src),(ne=S.querySelector(ko(ae)))?(C.instance=ne,on(ne),ne):(Y=L,(ne=ts.get(ae))&&(Y=g({},L),kc(Y,ne)),S=S.ownerDocument||S,ne=S.createElement("script"),on(ne),ui(ne,"link",Y),S.head.appendChild(ne),C.instance=ne);case"void":return null;default:throw Error(i(443,C.type))}else C.type==="stylesheet"&&(C.state.loading&4)===0&&(Y=C.instance,C.state.loading|=4,Ou(Y,L.precedence,S));return C.instance}function Ou(S,C,L){for(var Y=L.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),ne=Y.length?Y[Y.length-1]:null,ae=ne,fe=0;fe<Y.length;fe++){var Ee=Y[fe];if(Ee.dataset.precedence===C)ae=Ee;else if(ae!==ne)break}ae?ae.parentNode.insertBefore(S,ae.nextSibling):(C=L.nodeType===9?L.head:L,C.insertBefore(S,C.firstChild))}function Oc(S,C){S.crossOrigin==null&&(S.crossOrigin=C.crossOrigin),S.referrerPolicy==null&&(S.referrerPolicy=C.referrerPolicy),S.title==null&&(S.title=C.title)}function kc(S,C){S.crossOrigin==null&&(S.crossOrigin=C.crossOrigin),S.referrerPolicy==null&&(S.referrerPolicy=C.referrerPolicy),S.integrity==null&&(S.integrity=C.integrity)}var ku=null;function Gf(S,C,L){if(ku===null){var Y=new Map,ne=ku=new Map;ne.set(L,Y)}else ne=ku,Y=ne.get(L),Y||(Y=new Map,ne.set(L,Y));if(Y.has(S))return Y;for(Y.set(S,null),L=L.getElementsByTagName(S),ne=0;ne<L.length;ne++){var ae=L[ne];if(!(ae[en]||ae[Lt]||S==="link"&&ae.getAttribute("rel")==="stylesheet")&&ae.namespaceURI!=="http://www.w3.org/2000/svg"){var fe=ae.getAttribute(C)||"";fe=S+fe;var Ee=Y.get(fe);Ee?Ee.push(ae):Y.set(fe,[ae])}}return Y}function Kf(S,C,L){S=S.ownerDocument||S,S.head.insertBefore(L,C==="title"?S.querySelector("head > title"):null)}function Im(S,C,L){if(L===1||C.itemProp!=null)return!1;switch(S){case"meta":case"title":return!0;case"style":if(typeof C.precedence!="string"||typeof C.href!="string"||C.href==="")break;return!0;case"link":if(typeof C.rel!="string"||typeof C.href!="string"||C.href===""||C.onLoad||C.onError)break;return C.rel==="stylesheet"?(S=C.disabled,typeof C.precedence=="string"&&S==null):!0;case"script":if(C.async&&typeof C.async!="function"&&typeof C.async!="symbol"&&!C.onLoad&&!C.onError&&C.src&&typeof C.src=="string")return!0}return!1}function Yf(S){return!(S.type==="stylesheet"&&(S.state.loading&3)===0)}function Pm(S,C,L,Y){if(L.type==="stylesheet"&&(typeof Y.media!="string"||matchMedia(Y.media).matches!==!1)&&(L.state.loading&4)===0){if(L.instance===null){var ne=eo(Y.href),ae=C.querySelector(Oo(ne));if(ae){C=ae._p,C!==null&&typeof C=="object"&&typeof C.then=="function"&&(S.count++,S=ju.bind(S),C.then(S,S)),L.state.loading|=4,L.instance=ae,on(ae);return}ae=C.ownerDocument||C,Y=Wf(Y),(ne=ts.get(ne))&&Oc(Y,ne),ae=ae.createElement("link"),on(ae);var fe=ae;fe._p=new Promise(function(Ee,je){fe.onload=Ee,fe.onerror=je}),ui(ae,"link",Y),L.instance=ae}S.stylesheets===null&&(S.stylesheets=new Map),S.stylesheets.set(L,C),(C=L.state.preload)&&(L.state.loading&3)===0&&(S.count++,L=ju.bind(S),C.addEventListener("load",L),C.addEventListener("error",L))}}var jc=0;function Dm(S,C){return S.stylesheets&&S.count===0&&zu(S,S.stylesheets),0<S.count||0<S.imgCount?function(L){var Y=setTimeout(function(){if(S.stylesheets&&zu(S,S.stylesheets),S.unsuspend){var ae=S.unsuspend;S.unsuspend=null,ae()}},6e4+C);0<S.imgBytes&&jc===0&&(jc=62500*fm());var ne=setTimeout(function(){if(S.waitingForImages=!1,S.count===0&&(S.stylesheets&&zu(S,S.stylesheets),S.unsuspend)){var ae=S.unsuspend;S.unsuspend=null,ae()}},(S.imgBytes>jc?50:800)+C);return S.unsuspend=L,function(){S.unsuspend=null,clearTimeout(Y),clearTimeout(ne)}}:null}function ju(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zu(this,this.stylesheets);else if(this.unsuspend){var S=this.unsuspend;this.unsuspend=null,S()}}}var Bu=null;function zu(S,C){S.stylesheets=null,S.unsuspend!==null&&(S.count++,Bu=new Map,C.forEach(Lm,S),Bu=null,ju.call(S))}function Lm(S,C){if(!(C.state.loading&4)){var L=Bu.get(S);if(L)var Y=L.get(null);else{L=new Map,Bu.set(S,L);for(var ne=S.querySelectorAll("link[data-precedence],style[data-precedence]"),ae=0;ae<ne.length;ae++){var fe=ne[ae];(fe.nodeName==="LINK"||fe.getAttribute("media")!=="not all")&&(L.set(fe.dataset.precedence,fe),Y=fe)}Y&&L.set(null,Y)}ne=C.instance,fe=ne.getAttribute("data-precedence"),ae=L.get(fe)||Y,ae===Y&&L.set(null,ne),L.set(fe,ne),this.count++,Y=ju.bind(this),ne.addEventListener("load",Y),ne.addEventListener("error",Y),ae?ae.parentNode.insertBefore(ne,ae.nextSibling):(S=S.nodeType===9?S.head:S,S.insertBefore(ne,S.firstChild)),C.state.loading|=4}}var jo={$$typeof:k,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function Nm(S,C,L,Y,ne,ae,fe,Ee,je){this.tag=1,this.containerInfo=S,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cn(0),this.hiddenUpdates=Cn(null),this.identifierPrefix=Y,this.onUncaughtError=ne,this.onCaughtError=ae,this.onRecoverableError=fe,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=je,this.incompleteTransitions=new Map}function Xf(S,C,L,Y,ne,ae,fe,Ee,je,nt,pt,xt){return S=new Nm(S,C,L,fe,je,nt,pt,xt,Ee),C=1,ae===!0&&(C|=24),ae=$i(3,null,null,C),S.current=ae,ae.stateNode=S,C=_l(),C.refCount++,S.pooledCache=C,C.refCount++,ae.memoizedState={element:Y,isDehydrated:L,cache:C},xl(ae),S}function Jf(S){return S?(S=Pa,S):Pa}function Qf(S,C,L,Y,ne,ae){ne=Jf(ne),Y.context===null?Y.context=ne:Y.pendingContext=ne,Y=Us(C),Y.payload={element:L},ae=ae===void 0?null:ae,ae!==null&&(Y.callback=ae),L=Ws(S,Y,C),L!==null&&(Ci(L,S,C),go(L,S,C))}function Zf(S,C){if(S=S.memoizedState,S!==null&&S.dehydrated!==null){var L=S.retryLane;S.retryLane=L!==0&&L<C?L:C}}function Bc(S,C){Zf(S,C),(S=S.alternate)&&Zf(S,C)}function ep(S){if(S.tag===13||S.tag===31){var C=fa(S,67108864);C!==null&&Ci(C,S,67108864),Bc(S,67108864)}}function tp(S){if(S.tag===13||S.tag===31){var C=Ni();C=Ze(C);var L=fa(S,C);L!==null&&Ci(L,S,C),Bc(S,C)}}var Hu=!0;function Om(S,C,L,Y){var ne=de.T;de.T=null;var ae=ge.p;try{ge.p=2,zc(S,C,L,Y)}finally{ge.p=ae,de.T=ne}}function km(S,C,L,Y){var ne=de.T;de.T=null;var ae=ge.p;try{ge.p=8,zc(S,C,L,Y)}finally{ge.p=ae,de.T=ne}}function zc(S,C,L,Y){if(Hu){var ne=Hc(Y);if(ne===null)Tc(S,C,Y,qu,L),np(S,Y);else if(Bm(ne,S,C,L,Y))Y.stopPropagation();else if(np(S,Y),C&4&&-1<jm.indexOf(S)){for(;ne!==null;){var ae=Er(ne);if(ae!==null)switch(ae.tag){case 3:if(ae=ae.stateNode,ae.current.memoizedState.isDehydrated){var fe=Wr(ae.pendingLanes);if(fe!==0){var Ee=ae;for(Ee.pendingLanes|=2,Ee.entangledLanes|=2;fe;){var je=1<<31-ht(fe);Ee.entanglements[1]|=je,fe&=~je}bs(ae),(hn&6)===0&&(wu=Nt()+500,Po(0))}}break;case 31:case 13:Ee=fa(ae,2),Ee!==null&&Ci(Ee,ae,2),Tu(),Bc(ae,2)}if(ae=Hc(Y),ae===null&&Tc(S,C,Y,qu,L),ae===ne)break;ne=ae}ne!==null&&Y.stopPropagation()}else Tc(S,C,Y,null,L)}}function Hc(S){return S=Yt(S),qc(S)}var qu=null;function qc(S){if(qu=null,S=sn(S),S!==null){var C=u(S);if(C===null)S=null;else{var L=C.tag;if(L===13){if(S=l(C),S!==null)return S;S=null}else if(L===31){if(S=c(C),S!==null)return S;S=null}else if(L===3){if(C.stateNode.current.memoizedState.isDehydrated)return C.tag===3?C.stateNode.containerInfo:null;S=null}else C!==S&&(S=null)}}return qu=S,null}function rp(S){switch(S){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(St()){case kt:return 2;case Pe:return 8;case ve:case ut:return 32;case wt:return 268435456;default:return 32}default:return 32}}var Fc=!1,ra=null,na=null,ia=null,Bo=new Map,zo=new Map,sa=[],jm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function np(S,C){switch(S){case"focusin":case"focusout":ra=null;break;case"dragenter":case"dragleave":na=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":Bo.delete(C.pointerId);break;case"gotpointercapture":case"lostpointercapture":zo.delete(C.pointerId)}}function Ho(S,C,L,Y,ne,ae){return S===null||S.nativeEvent!==ae?(S={blockedOn:C,domEventName:L,eventSystemFlags:Y,nativeEvent:ae,targetContainers:[ne]},C!==null&&(C=Er(C),C!==null&&ep(C)),S):(S.eventSystemFlags|=Y,C=S.targetContainers,ne!==null&&C.indexOf(ne)===-1&&C.push(ne),S)}function Bm(S,C,L,Y,ne){switch(C){case"focusin":return ra=Ho(ra,S,C,L,Y,ne),!0;case"dragenter":return na=Ho(na,S,C,L,Y,ne),!0;case"mouseover":return ia=Ho(ia,S,C,L,Y,ne),!0;case"pointerover":var ae=ne.pointerId;return Bo.set(ae,Ho(Bo.get(ae)||null,S,C,L,Y,ne)),!0;case"gotpointercapture":return ae=ne.pointerId,zo.set(ae,Ho(zo.get(ae)||null,S,C,L,Y,ne)),!0}return!1}function ip(S){var C=sn(S.target);if(C!==null){var L=u(C);if(L!==null){if(C=L.tag,C===13){if(C=l(L),C!==null){S.blockedOn=C,Xt(S.priority,function(){tp(L)});return}}else if(C===31){if(C=c(L),C!==null){S.blockedOn=C,Xt(S.priority,function(){tp(L)});return}}else if(C===3&&L.stateNode.current.memoizedState.isDehydrated){S.blockedOn=L.tag===3?L.stateNode.containerInfo:null;return}}}S.blockedOn=null}function Fu(S){if(S.blockedOn!==null)return!1;for(var C=S.targetContainers;0<C.length;){var L=Hc(S.nativeEvent);if(L===null){L=S.nativeEvent;var Y=new L.constructor(L.type,L);Pt=Y,L.target.dispatchEvent(Y),Pt=null}else return C=Er(L),C!==null&&ep(C),S.blockedOn=L,!1;C.shift()}return!0}function sp(S,C,L){Fu(S)&&L.delete(C)}function zm(){Fc=!1,ra!==null&&Fu(ra)&&(ra=null),na!==null&&Fu(na)&&(na=null),ia!==null&&Fu(ia)&&(ia=null),Bo.forEach(sp),zo.forEach(sp)}function Uu(S,C){S.blockedOn===C&&(S.blockedOn=null,Fc||(Fc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,zm)))}var Wu=null;function ap(S){Wu!==S&&(Wu=S,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Wu===S&&(Wu=null);for(var C=0;C<S.length;C+=3){var L=S[C],Y=S[C+1],ne=S[C+2];if(typeof Y!="function"){if(qc(Y||L)===null)continue;break}var ae=Er(L);ae!==null&&(S.splice(C,3),C-=3,Hl(ae,{pending:!0,data:ne,method:L.method,action:Y},Y,ne))}}))}function ro(S){function C(je){return Uu(je,S)}ra!==null&&Uu(ra,S),na!==null&&Uu(na,S),ia!==null&&Uu(ia,S),Bo.forEach(C),zo.forEach(C);for(var L=0;L<sa.length;L++){var Y=sa[L];Y.blockedOn===S&&(Y.blockedOn=null)}for(;0<sa.length&&(L=sa[0],L.blockedOn===null);)ip(L),L.blockedOn===null&&sa.shift();if(L=(S.ownerDocument||S).$$reactFormReplay,L!=null)for(Y=0;Y<L.length;Y+=3){var ne=L[Y],ae=L[Y+1],fe=ne[Bt]||null;if(typeof ae=="function")fe||ap(L);else if(fe){var Ee=null;if(ae&&ae.hasAttribute("formAction")){if(ne=ae,fe=ae[Bt]||null)Ee=fe.formAction;else if(qc(ne)!==null)continue}else Ee=fe.action;typeof Ee=="function"?L[Y+1]=Ee:(L.splice(Y,3),Y-=3),ap(L)}}}function op(){function S(ae){ae.canIntercept&&ae.info==="react-transition"&&ae.intercept({handler:function(){return new Promise(function(fe){return ne=fe})},focusReset:"manual",scroll:"manual"})}function C(){ne!==null&&(ne(),ne=null),Y||setTimeout(L,20)}function L(){if(!Y&&!navigation.transition){var ae=navigation.currentEntry;ae&&ae.url!=null&&navigation.navigate(ae.url,{state:ae.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var Y=!1,ne=null;return navigation.addEventListener("navigate",S),navigation.addEventListener("navigatesuccess",C),navigation.addEventListener("navigateerror",C),setTimeout(L,100),function(){Y=!0,navigation.removeEventListener("navigate",S),navigation.removeEventListener("navigatesuccess",C),navigation.removeEventListener("navigateerror",C),ne!==null&&(ne(),ne=null)}}}function Uc(S){this._internalRoot=S}Vu.prototype.render=Uc.prototype.render=function(S){var C=this._internalRoot;if(C===null)throw Error(i(409));var L=C.current,Y=Ni();Qf(L,Y,S,C,null,null)},Vu.prototype.unmount=Uc.prototype.unmount=function(){var S=this._internalRoot;if(S!==null){this._internalRoot=null;var C=S.containerInfo;Qf(S.current,2,null,S,null,null),Tu(),C[Ut]=null}};function Vu(S){this._internalRoot=S}Vu.prototype.unstable_scheduleHydration=function(S){if(S){var C=Mt();S={blockedOn:null,target:S,priority:C};for(var L=0;L<sa.length&&C!==0&&C<sa[L].priority;L++);sa.splice(L,0,S),L===0&&ip(S)}};var up=e.version;if(up!=="19.2.3")throw Error(i(527,up,"19.2.3"));ge.findDOMNode=function(S){var C=S._reactInternals;if(C===void 0)throw typeof S.render=="function"?Error(i(188)):(S=Object.keys(S).join(","),Error(i(268,S)));return S=d(C),S=S!==null?m(S):null,S=S===null?null:S.stateNode,S};var Hm={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:de,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gu.isDisabled&&Gu.supportsFiber)try{Gt=Gu.inject(Hm),Qt=Gu}catch{}}return reactDomClient_production.createRoot=function(S,C){if(!o(S))throw Error(i(299));var L=!1,Y="",ne=ph,ae=mh,fe=gh;return C!=null&&(C.unstable_strictMode===!0&&(L=!0),C.identifierPrefix!==void 0&&(Y=C.identifierPrefix),C.onUncaughtError!==void 0&&(ne=C.onUncaughtError),C.onCaughtError!==void 0&&(ae=C.onCaughtError),C.onRecoverableError!==void 0&&(fe=C.onRecoverableError)),C=Xf(S,1,!1,null,null,L,Y,null,ne,ae,fe,op),S[Ut]=C.current,Cc(S),new Uc(C)},reactDomClient_production.hydrateRoot=function(S,C,L){if(!o(S))throw Error(i(299));var Y=!1,ne="",ae=ph,fe=mh,Ee=gh,je=null;return L!=null&&(L.unstable_strictMode===!0&&(Y=!0),L.identifierPrefix!==void 0&&(ne=L.identifierPrefix),L.onUncaughtError!==void 0&&(ae=L.onUncaughtError),L.onCaughtError!==void 0&&(fe=L.onCaughtError),L.onRecoverableError!==void 0&&(Ee=L.onRecoverableError),L.formState!==void 0&&(je=L.formState)),C=Xf(S,1,!0,C,L??null,Y,ne,je,ae,fe,Ee,op),C.context=Jf(null),L=C.current,Y=Ni(),Y=Ze(Y),ne=Us(Y),ne.callback=null,Ws(L,ne,Y),L=Y,C.current.lanes=L,lr(C,L),bs(C),S[Ut]=C.current,Cc(S),new Vu(C)},reactDomClient_production.version="19.2.3",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const ReactDOM$1=getDefaultExportFromCjs(clientExports);var __typeError=t=>{throw TypeError(t)},__accessCheck=(t,e,n)=>e.has(t)||__typeError("Cannot "+n),__privateGet=(t,e,n)=>(__accessCheck(t,e,"read from private field"),n?n.call(t):e.get(t)),__privateAdd=(t,e,n)=>e.has(t)?__typeError("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),PopStateEventType="popstate";function createBrowserHistory(t={}){function e(i,o){let{pathname:u,search:l,hash:c}=i.location;return createLocation$1("",{pathname:u,search:l,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:createPath$1(o)}return getUrlBasedHistory(e,n,null,t)}function invariant(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function warning$1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(t,e){return{usr:t.state,key:t.key,idx:e}}function createLocation$1(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?parsePath(e):e,state:n,key:e&&e.key||i||createKey()}}function createPath$1({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function parsePath(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function getUrlBasedHistory(t,e,n,i={}){let{window:o=document.defaultView,v5Compat:u=!1}=i,l=o.history,c="POP",f=null,d=m();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function m(){return(l.state||{idx:null}).idx}function g(){c="POP";let P=m(),A=P==null?null:P-d;d=P,f&&f({action:c,location:T.location,delta:A})}function v(P,A){c="PUSH";let D=createLocation$1(T.location,P,A);d=m()+1;let k=getHistoryState(D,d),j=T.createHref(D);try{l.pushState(k,"",j)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;o.location.assign(j)}u&&f&&f({action:c,location:T.location,delta:1})}function y(P,A){c="REPLACE";let D=createLocation$1(T.location,P,A);d=m();let k=getHistoryState(D,d),j=T.createHref(D);l.replaceState(k,"",j),u&&f&&f({action:c,location:T.location,delta:0})}function w(P){return createBrowserURLImpl(P)}let T={get action(){return c},get location(){return t(o,l)},listen(P){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(PopStateEventType,g),f=P,()=>{o.removeEventListener(PopStateEventType,g),f=null}},createHref(P){return e(o,P)},createURL:w,encodeLocation(P){let A=w(P);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:v,replace:y,go(P){return l.go(P)}};return T}function createBrowserURLImpl(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),invariant(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:createPath$1(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}var _map,RouterContextProvider=class{constructor(t){if(__privateAdd(this,_map,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(__privateGet(this,_map).has(t))return __privateGet(this,_map).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){__privateGet(this,_map).set(t,e)}};_map=new WeakMap;var unsupportedLazyRouteObjectKeys=new Set(["lazy","caseSensitive","path","id","index","children"]);function isUnsupportedLazyRouteObjectKey(t){return unsupportedLazyRouteObjectKeys.has(t)}var unsupportedLazyRouteFunctionKeys=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function isUnsupportedLazyRouteFunctionKey(t){return unsupportedLazyRouteFunctionKeys.has(t)}function isIndexRoute(t){return t.index===!0}function convertRoutesToDataRoutes(t,e,n=[],i={},o=!1){return t.map((u,l)=>{let c=[...n,String(l)],f=typeof u.id=="string"?u.id:c.join("-");if(invariant(u.index!==!0||!u.children,"Cannot specify children on an index route"),invariant(o||!i[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),isIndexRoute(u)){let d={...u,id:f};return i[f]=mergeRouteUpdates(d,e(d)),d}else{let d={...u,id:f,children:void 0};return i[f]=mergeRouteUpdates(d,e(d)),u.children&&(d.children=convertRoutesToDataRoutes(u.children,e,c,i,o)),d}})}function mergeRouteUpdates(t,e){return Object.assign(t,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...t.lazy,...e.lazy}}:{}})}function matchRoutes(t,e,n="/"){return matchRoutesImpl(t,e,n,!1)}function matchRoutesImpl(t,e,n,i){let o=typeof e=="string"?parsePath(e):e,u=stripBasename(o.pathname||"/",n);if(u==null)return null;let l=flattenRoutes(t);rankRouteBranches(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let d=decodePath(u);c=matchRouteBranch(l[f],d,i)}return c}function convertRouteMatchToUiMatch(t,e){let{route:n,pathname:i,params:o}=t;return{id:n.id,pathname:i,params:o,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function flattenRoutes(t,e=[],n=[],i="",o=!1){let u=(l,c,f=o,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(i)&&f)return;invariant(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length)}let g=joinPaths([i,m.relativePath]),v=n.concat(m);l.children&&l.children.length>0&&(invariant(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),flattenRoutes(l.children,e,v,g,f)),!(l.path==null&&!l.index)&&e.push({path:g,score:computeScore(g,l.index),routesMeta:v})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))u(l,c);else for(let f of explodeOptionalSegments(l.path))u(l,c,!0,f)}),e}function explodeOptionalSegments(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let l=explodeOptionalSegments(i.join("/")),c=[];return c.push(...l.map(f=>f===""?u:[u,f].join("/"))),o&&c.push(...l),c.map(f=>t.startsWith("/")&&f===""?"/":f)}function rankRouteBranches(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:compareIndexes(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=t=>t==="*";function computeScore(t,e){let n=t.split("/"),i=n.length;return n.some(isSplat)&&(i+=splatPenalty),e&&(i+=indexRouteValue),n.filter(o=>!isSplat(o)).reduce((o,u)=>o+(paramRe.test(u)?dynamicSegmentValue:u===""?emptySegmentValue:staticSegmentValue),i)}function compareIndexes(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function matchRouteBranch(t,e,n=!1){let{routesMeta:i}=t,o={},u="/",l=[];for(let c=0;c<i.length;++c){let f=i[c],d=c===i.length-1,m=u==="/"?e:e.slice(u.length)||"/",g=matchPath({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},m),v=f.route;if(!g&&d&&n&&!i[i.length-1].route.index&&(g=matchPath({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!g)return null;Object.assign(o,g.params),l.push({params:o,pathname:joinPaths([u,g.pathname]),pathnameBase:normalizePathname(joinPaths([u,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(u=joinPaths([u,g.pathnameBase]))}return l}function matchPath(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=compilePath(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let u=o[0],l=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:i.reduce((d,{paramName:m,isOptional:g},v)=>{if(m==="*"){let w=c[v]||"";l=u.slice(0,u.length-w.length).replace(/(.)\/+$/,"$1")}const y=c[v];return g&&!y?d[m]=void 0:d[m]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:u,pathnameBase:l,pattern:t}}function compilePath(t,e=!1,n=!0){warning$1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(i.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function decodePath(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return warning$1(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function stripBasename(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function prependBasename({basename:t,pathname:e}){return e==="/"?t:joinPaths([t,e])}var ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,isAbsoluteUrl=t=>ABSOLUTE_URL_REGEX.test(t);function resolvePath(t,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?parsePath(t):t,u;if(n)if(isAbsoluteUrl(n))u=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),warning$1(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?u=resolvePathname(n.substring(1),"/"):u=resolvePathname(n,e)}else u=e;return{pathname:u,search:normalizeSearch(i),hash:normalizeHash(o)}}function resolvePathname(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function getInvalidPathError(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function getResolveToMatches(t){let e=getPathContributingMatches(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function resolveTo(t,e,n,i=!1){let o;typeof t=="string"?o=parsePath(t):(o={...t},invariant(!o.pathname||!o.pathname.includes("?"),getInvalidPathError("?","pathname","search",o)),invariant(!o.pathname||!o.pathname.includes("#"),getInvalidPathError("#","pathname","hash",o)),invariant(!o.search||!o.search.includes("#"),getInvalidPathError("#","search","hash",o)));let u=t===""||o.pathname==="",l=u?"/":o.pathname,c;if(l==null)c=n;else{let g=e.length-1;if(!i&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;o.pathname=v.join("/")}c=g>=0?e[g]:"/"}let f=resolvePath(o,c),d=l&&l!=="/"&&l.endsWith("/"),m=(u||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(d||m)&&(f.pathname+="/"),f}var joinPaths=t=>t.join("/").replace(/\/\/+/g,"/"),normalizePathname=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,normalizeHash=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,ErrorResponseImpl=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function isRouteErrorResponse(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function getRoutePattern(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function parseToInfo(t,e){let n=t;if(typeof n!="string"||!ABSOLUTE_URL_REGEX.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,o=!1;if(isBrowser)try{let u=new URL(window.location.href),l=n.startsWith("//")?new URL(u.protocol+n):new URL(n),c=stripBasename(l.pathname,e);l.origin===u.origin&&c!=null?n=c+l.search+l.hash:o=!0}catch{warning$1(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:o,to:n}}var UninstrumentedSymbol=Symbol("Uninstrumented");function getRouteInstrumentationUpdates(t,e){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};t.forEach(o=>o({id:e.id,index:e.index,path:e.path,instrument(u){let l=Object.keys(n);for(let c of l)u[c]&&n[c].push(u[c])}}));let i={};if(typeof e.lazy=="function"&&n.lazy.length>0){let o=wrapImpl(n.lazy,e.lazy,()=>{});o&&(i.lazy=o)}if(typeof e.lazy=="object"){let o=e.lazy;["middleware","loader","action"].forEach(u=>{let l=o[u],c=n[`lazy.${u}`];if(typeof l=="function"&&c.length>0){let f=wrapImpl(c,l,()=>{});f&&(i.lazy=Object.assign(i.lazy||{},{[u]:f}))}})}return["loader","action"].forEach(o=>{let u=e[o];if(typeof u=="function"&&n[o].length>0){let l=u[UninstrumentedSymbol]??u,c=wrapImpl(n[o],l,(...f)=>getHandlerInfo(f[0]));c&&(c[UninstrumentedSymbol]=l,i[o]=c)}}),e.middleware&&e.middleware.length>0&&n.middleware.length>0&&(i.middleware=e.middleware.map(o=>{let u=o[UninstrumentedSymbol]??o,l=wrapImpl(n.middleware,u,(...c)=>getHandlerInfo(c[0]));return l?(l[UninstrumentedSymbol]=u,l):o})),i}function instrumentClientSideRouter(t,e){let n={navigate:[],fetch:[]};if(e.forEach(i=>i({instrument(o){let u=Object.keys(o);for(let l of u)o[l]&&n[l].push(o[l])}})),n.navigate.length>0){let i=t.navigate[UninstrumentedSymbol]??t.navigate,o=wrapImpl(n.navigate,i,(...u)=>{let[l,c]=u;return{to:typeof l=="number"||typeof l=="string"?l:l?createPath$1(l):".",...getRouterInfo(t,c??{})}});o&&(o[UninstrumentedSymbol]=i,t.navigate=o)}if(n.fetch.length>0){let i=t.fetch[UninstrumentedSymbol]??t.fetch,o=wrapImpl(n.fetch,i,(...u)=>{let[l,,c,f]=u;return{href:c??".",fetcherKey:l,...getRouterInfo(t,f??{})}});o&&(o[UninstrumentedSymbol]=i,t.fetch=o)}return t}function wrapImpl(t,e,n){return t.length===0?null:async(...i)=>{let o=await recurseRight(t,n(...i),()=>e(...i),t.length-1);if(o.type==="error")throw o.value;return o.value}}async function recurseRight(t,e,n,i){let o=t[i],u;if(o){let l,c=async()=>(l?console.error("You cannot call instrumented handlers more than once"):l=recurseRight(t,e,n,i-1),u=await l,invariant(u,"Expected a result"),u.type==="error"&&u.value instanceof Error?{status:"error",error:u.value}:{status:"success",error:void 0});try{await o(c,e)}catch(f){console.error("An instrumentation function threw an error:",f)}l||await c(),await l}else try{u={type:"success",value:await n()}}catch(l){u={type:"error",value:l}}return u||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function getHandlerInfo(t){let{request:e,context:n,params:i,unstable_pattern:o}=t;return{request:getReadonlyRequest(e),params:{...i},unstable_pattern:o,context:getReadonlyContext(n)}}function getRouterInfo(t,e){return{currentUrl:createPath$1(t.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function getReadonlyRequest(t){return{method:t.method,url:t.url,headers:{get:(...e)=>t.headers.get(...e)}}}function getReadonlyContext(t){if(isPlainObject$1(t)){let e={...t};return Object.freeze(e),e}else return{get:e=>t.get(e)}}var objectProtoNames=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function isPlainObject$1(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===objectProtoNames}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"],validMutationMethods=new Set(validMutationMethodsArr),validRequestMethodsArr=["GET",...validMutationMethodsArr],validRequestMethods=new Set(validRequestMethodsArr),redirectStatusCodes=new Set([301,302,303,307,308]),redirectPreserveMethodStatusCodes=new Set([307,308]),IDLE_NAVIGATION={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IDLE_FETCHER={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IDLE_BLOCKER={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},defaultMapRouteProperties=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),TRANSITIONS_STORAGE_KEY="remix-router-transitions",ResetLoaderDataSymbol=Symbol("ResetLoaderData");function createRouter(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";invariant(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=t.hydrationRouteProperties||[],o=t.mapRouteProperties||defaultMapRouteProperties,u=o;if(t.unstable_instrumentations){let $e=t.unstable_instrumentations;u=qe=>({...o(qe),...getRouteInstrumentationUpdates($e.map(Ze=>Ze.route).filter(Boolean),qe)})}let l={},c=convertRoutesToDataRoutes(t.routes,u,void 0,l),f,d=t.basename||"/";d.startsWith("/")||(d=`/${d}`);let m=t.dataStrategy||defaultDataStrategyWithMiddleware,g={...t.future},v=null,y=new Set,w=null,T=null,P=null,A=t.hydrationData!=null,D=matchRoutes(c,t.history.location,d),k=!1,j=null,B;if(D==null&&!t.patchRoutesOnNavigation){let $e=getInternalRouterError(404,{pathname:t.history.location.pathname}),{matches:qe,route:Ze}=getShortCircuitMatches(c);B=!0,D=qe,j={[Ze.id]:$e}}else if(D&&!t.hydrationData&&Pr(D,c,t.history.location.pathname).active&&(D=null),D)if(D.some($e=>$e.route.lazy))B=!1;else if(!D.some($e=>routeHasLoaderOrMiddleware($e.route)))B=!0;else{let $e=t.hydrationData?t.hydrationData.loaderData:null,qe=t.hydrationData?t.hydrationData.errors:null;if(qe){let Ze=D.findIndex(_t=>qe[_t.route.id]!==void 0);B=D.slice(0,Ze+1).every(_t=>!shouldLoadRouteOnHydration(_t.route,$e,qe))}else B=D.every(Ze=>!shouldLoadRouteOnHydration(Ze.route,$e,qe))}else{B=!1,D=[];let $e=Pr(null,c,t.history.location.pathname);$e.active&&$e.matches&&(k=!0,D=$e.matches)}let Z,R={historyAction:t.history.action,location:t.history.location,matches:D,initialized:B,navigation:IDLE_NAVIGATION,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||j,fetchers:new Map,blockers:new Map},G="POP",F=null,K=!1,Q,ie=!1,te=new Map,oe=null,le=!1,de=!1,ge=new Set,_e=new Map,we=0,Me=-1,xe=new Map,Re=new Set,Se=new Map,Ge=new Map,Qe=new Set,Je=new Map,Xe,gt=null;function Ct(){if(v=t.history.listen(({action:$e,location:qe,delta:Ze})=>{if(Xe){Xe(),Xe=void 0;return}warning$1(Je.size===0||Ze!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let _t=cr({currentLocation:R.location,nextLocation:qe,historyAction:$e});if(_t&&Ze!=null){let Mt=new Promise(Xt=>{Xe=Xt});t.history.go(Ze*-1),Ar(_t,{state:"blocked",location:qe,proceed(){Ar(_t,{state:"proceeding",proceed:void 0,reset:void 0,location:qe}),Mt.then(()=>t.history.go(Ze))},reset(){let Xt=new Map(R.blockers);Xt.set(_t,IDLE_BLOCKER),Oe({blockers:Xt})}}),F?.resolve(),F=null;return}return Ce($e,qe)}),n){restoreAppliedTransitions(e,te);let $e=()=>persistAppliedTransitions(e,te);e.addEventListener("pagehide",$e),oe=()=>e.removeEventListener("pagehide",$e)}return R.initialized||Ce("POP",R.location,{initialHydration:!0}),Z}function ar(){v&&v(),oe&&oe(),y.clear(),Q&&Q.abort(),R.fetchers.forEach(($e,qe)=>Vt(qe)),R.blockers.forEach(($e,qe)=>It(qe))}function De($e){return y.add($e),()=>y.delete($e)}function Oe($e,qe={}){$e.matches&&($e.matches=$e.matches.map(Mt=>{let Xt=l[Mt.route.id],Ot=Mt.route;return Ot.element!==Xt.element||Ot.errorElement!==Xt.errorElement||Ot.hydrateFallbackElement!==Xt.hydrateFallbackElement?{...Mt,route:Xt}:Mt})),R={...R,...$e};let Ze=[],_t=[];R.fetchers.forEach((Mt,Xt)=>{Mt.state==="idle"&&(Qe.has(Xt)?Ze.push(Xt):_t.push(Xt))}),Qe.forEach(Mt=>{!R.fetchers.has(Mt)&&!_e.has(Mt)&&Ze.push(Mt)}),[...y].forEach(Mt=>Mt(R,{deletedFetchers:Ze,newErrors:$e.errors??null,viewTransitionOpts:qe.viewTransitionOpts,flushSync:qe.flushSync===!0})),Ze.forEach(Mt=>Vt(Mt)),_t.forEach(Mt=>R.fetchers.delete(Mt))}function Be($e,qe,{flushSync:Ze}={}){let _t=R.actionData!=null&&R.navigation.formMethod!=null&&isMutationMethod(R.navigation.formMethod)&&R.navigation.state==="loading"&&$e.state?._isRedirect!==!0,Mt;qe.actionData?Object.keys(qe.actionData).length>0?Mt=qe.actionData:Mt=null:_t?Mt=R.actionData:Mt=null;let Xt=qe.loaderData?mergeLoaderData(R.loaderData,qe.loaderData,qe.matches||[],qe.errors):R.loaderData,Ot=R.blockers;Ot.size>0&&(Ot=new Map(Ot),Ot.forEach((sr,Kt)=>Ot.set(Kt,IDLE_BLOCKER)));let Lt=le?!1:ir($e,qe.matches||R.matches),Bt=K===!0||R.navigation.formMethod!=null&&isMutationMethod(R.navigation.formMethod)&&$e.state?._isRedirect!==!0;f&&(c=f,f=void 0),le||G==="POP"||(G==="PUSH"?t.history.push($e,$e.state):G==="REPLACE"&&t.history.replace($e,$e.state));let Ut;if(G==="POP"){let sr=te.get(R.location.pathname);sr&&sr.has($e.pathname)?Ut={currentLocation:R.location,nextLocation:$e}:te.has($e.pathname)&&(Ut={currentLocation:$e,nextLocation:R.location})}else if(ie){let sr=te.get(R.location.pathname);sr?sr.add($e.pathname):(sr=new Set([$e.pathname]),te.set(R.location.pathname,sr)),Ut={currentLocation:R.location,nextLocation:$e}}Oe({...qe,actionData:Mt,loaderData:Xt,historyAction:G,location:$e,initialized:!0,navigation:IDLE_NAVIGATION,revalidation:"idle",restoreScrollPosition:Lt,preventScrollReset:Bt,blockers:Ot},{viewTransitionOpts:Ut,flushSync:Ze===!0}),G="POP",K=!1,ie=!1,le=!1,de=!1,F?.resolve(),F=null,gt?.resolve(),gt=null}async function he($e,qe){if(F?.resolve(),F=null,typeof $e=="number"){F||(F=createDeferred());let _r=F.promise;return t.history.go($e),_r}let Ze=normalizeTo(R.location,R.matches,d,$e,qe?.fromRouteId,qe?.relative),{path:_t,submission:Mt,error:Xt}=normalizeNavigateOptions(!1,Ze,qe),Ot=R.location,Lt=createLocation$1(R.location,_t,qe&&qe.state);Lt={...Lt,...t.history.encodeLocation(Lt)};let Bt=qe&&qe.replace!=null?qe.replace:void 0,Ut="PUSH";Bt===!0?Ut="REPLACE":Bt===!1||Mt!=null&&isMutationMethod(Mt.formMethod)&&Mt.formAction===R.location.pathname+R.location.search&&(Ut="REPLACE");let sr=qe&&"preventScrollReset"in qe?qe.preventScrollReset===!0:void 0,Kt=(qe&&qe.flushSync)===!0,xr=cr({currentLocation:Ot,nextLocation:Lt,historyAction:Ut});if(xr){Ar(xr,{state:"blocked",location:Lt,proceed(){Ar(xr,{state:"proceeding",proceed:void 0,reset:void 0,location:Lt}),he($e,qe)},reset(){let _r=new Map(R.blockers);_r.set(xr,IDLE_BLOCKER),Oe({blockers:_r})}});return}await Ce(Ut,Lt,{submission:Mt,pendingError:Xt,preventScrollReset:sr,replace:qe&&qe.replace,enableViewTransition:qe&&qe.viewTransition,flushSync:Kt,callSiteDefaultShouldRevalidate:qe&&qe.unstable_defaultShouldRevalidate})}function be(){gt||(gt=createDeferred()),Pe(),Oe({revalidation:"loading"});let $e=gt.promise;return R.navigation.state==="submitting"?$e:R.navigation.state==="idle"?(Ce(R.historyAction,R.location,{startUninterruptedRevalidation:!0}),$e):(Ce(G||R.historyAction,R.navigation.location,{overrideNavigation:R.navigation,enableViewTransition:ie===!0}),$e)}async function Ce($e,qe,Ze){Q&&Q.abort(),Q=null,G=$e,le=(Ze&&Ze.startUninterruptedRevalidation)===!0,dr(R.location,R.matches),K=(Ze&&Ze.preventScrollReset)===!0,ie=(Ze&&Ze.enableViewTransition)===!0;let _t=f||c,Mt=Ze&&Ze.overrideNavigation,Xt=Ze?.initialHydration&&R.matches&&R.matches.length>0&&!k?R.matches:matchRoutes(_t,qe,d),Ot=(Ze&&Ze.flushSync)===!0;if(Xt&&R.initialized&&!de&&isHashChangeOnly(R.location,qe)&&!(Ze&&Ze.submission&&isMutationMethod(Ze.submission.formMethod))){Be(qe,{matches:Xt},{flushSync:Ot});return}let Lt=Pr(Xt,_t,qe.pathname);if(Lt.active&&Lt.matches&&(Xt=Lt.matches),!Xt){let{error:zr,notFoundMatches:sn,route:Er}=yr(qe.pathname);Be(qe,{matches:sn,loaderData:{},errors:{[Er.id]:zr}},{flushSync:Ot});return}Q=new AbortController;let Bt=createClientSideRequest(t.history,qe,Q.signal,Ze&&Ze.submission),Ut=t.getContext?await t.getContext():new RouterContextProvider,sr;if(Ze&&Ze.pendingError)sr=[findNearestBoundary(Xt).route.id,{type:"error",error:Ze.pendingError}];else if(Ze&&Ze.submission&&isMutationMethod(Ze.submission.formMethod)){let zr=await Le(Bt,qe,Ze.submission,Xt,Ut,Lt.active,Ze&&Ze.initialHydration===!0,{replace:Ze.replace,flushSync:Ot});if(zr.shortCircuited)return;if(zr.pendingActionResult){let[sn,Er]=zr.pendingActionResult;if(isErrorResult(Er)&&isRouteErrorResponse(Er.error)&&Er.error.status===404){Q=null,Be(qe,{matches:zr.matches,loaderData:{},errors:{[sn]:Er.error}});return}}Xt=zr.matches||Xt,sr=zr.pendingActionResult,Mt=getLoadingNavigation(qe,Ze.submission),Ot=!1,Lt.active=!1,Bt=createClientSideRequest(t.history,Bt.url,Bt.signal)}let{shortCircuited:Kt,matches:xr,loaderData:_r,errors:en}=await Ue(Bt,qe,Xt,Ut,Lt.active,Mt,Ze&&Ze.submission,Ze&&Ze.fetcherSubmission,Ze&&Ze.replace,Ze&&Ze.initialHydration===!0,Ot,sr,Ze&&Ze.callSiteDefaultShouldRevalidate);Kt||(Q=null,Be(qe,{matches:xr||Xt,...getActionDataForCommit(sr),loaderData:_r,errors:en}))}async function Le($e,qe,Ze,_t,Mt,Xt,Ot,Lt={}){Pe();let Bt=getSubmittingNavigation(qe,Ze);if(Oe({navigation:Bt},{flushSync:Lt.flushSync===!0}),Xt){let Kt=await Cn(_t,qe.pathname,$e.signal);if(Kt.type==="aborted")return{shortCircuited:!0};if(Kt.type==="error"){if(Kt.partialMatches.length===0){let{matches:_r,route:en}=getShortCircuitMatches(c);return{matches:_r,pendingActionResult:[en.id,{type:"error",error:Kt.error}]}}let xr=findNearestBoundary(Kt.partialMatches).route.id;return{matches:Kt.partialMatches,pendingActionResult:[xr,{type:"error",error:Kt.error}]}}else if(Kt.matches)_t=Kt.matches;else{let{notFoundMatches:xr,error:_r,route:en}=yr(qe.pathname);return{matches:xr,pendingActionResult:[en.id,{type:"error",error:_r}]}}}let Ut,sr=getTargetMatch(_t,qe);if(!sr.route.action&&!sr.route.lazy)Ut={type:"error",error:getInternalRouterError(405,{method:$e.method,pathname:qe.pathname,routeId:sr.route.id})};else{let Kt=getTargetedDataStrategyMatches(u,l,$e,_t,sr,Ot?[]:i,Mt),xr=await St($e,Kt,Mt,null);if(Ut=xr[sr.route.id],!Ut){for(let _r of _t)if(xr[_r.route.id]){Ut=xr[_r.route.id];break}}if($e.signal.aborted)return{shortCircuited:!0}}if(isRedirectResult(Ut)){let Kt;return Lt&&Lt.replace!=null?Kt=Lt.replace:Kt=normalizeRedirectLocation(Ut.response.headers.get("Location"),new URL($e.url),d)===R.location.pathname+R.location.search,await Nt($e,Ut,!0,{submission:Ze,replace:Kt}),{shortCircuited:!0}}if(isErrorResult(Ut)){let Kt=findNearestBoundary(_t,sr.route.id);return(Lt&&Lt.replace)!==!0&&(G="PUSH"),{matches:_t,pendingActionResult:[Kt.route.id,Ut,sr.route.id]}}return{matches:_t,pendingActionResult:[sr.route.id,Ut]}}async function Ue($e,qe,Ze,_t,Mt,Xt,Ot,Lt,Bt,Ut,sr,Kt,xr){let _r=Xt||getLoadingNavigation(qe,Ot),en=Ot||Lt||getSubmissionFromNavigation(_r),zr=!le&&!Ut;if(Mt){if(zr){let Zr=We(Kt);Oe({navigation:_r,...Zr!==void 0?{actionData:Zr}:{}},{flushSync:sr})}let Sr=await Cn(Ze,qe.pathname,$e.signal);if(Sr.type==="aborted")return{shortCircuited:!0};if(Sr.type==="error"){if(Sr.partialMatches.length===0){let{matches:Hr,route:Lr}=getShortCircuitMatches(c);return{matches:Hr,loaderData:{},errors:{[Lr.id]:Sr.error}}}let Zr=findNearestBoundary(Sr.partialMatches).route.id;return{matches:Sr.partialMatches,loaderData:{},errors:{[Zr]:Sr.error}}}else if(Sr.matches)Ze=Sr.matches;else{let{error:Zr,notFoundMatches:Hr,route:Lr}=yr(qe.pathname);return{matches:Hr,loaderData:{},errors:{[Lr.id]:Zr}}}}let sn=f||c,{dsMatches:Er,revalidatingFetchers:an}=getMatchesToLoad($e,_t,u,l,t.history,R,Ze,en,qe,Ut?[]:i,Ut===!0,de,ge,Qe,Se,Re,sn,d,t.patchRoutesOnNavigation!=null,Kt,xr);if(Me=++we,!t.dataStrategy&&!Er.some(Sr=>Sr.shouldLoad)&&!Er.some(Sr=>Sr.route.middleware&&Sr.route.middleware.length>0)&&an.length===0){let Sr=ht();return Be(qe,{matches:Ze,loaderData:{},errors:Kt&&isErrorResult(Kt[1])?{[Kt[0]]:Kt[1].error}:null,...getActionDataForCommit(Kt),...Sr?{fetchers:new Map(R.fetchers)}:{}},{flushSync:sr}),{shortCircuited:!0}}if(zr){let Sr={};if(!Mt){Sr.navigation=_r;let Zr=We(Kt);Zr!==void 0&&(Sr.actionData=Zr)}an.length>0&&(Sr.fetchers=ot(an)),Oe(Sr,{flushSync:sr})}an.forEach(Sr=>{Qt(Sr.key),Sr.controller&&_e.set(Sr.key,Sr.controller)});let In=()=>an.forEach(Sr=>Qt(Sr.key));Q&&Q.signal.addEventListener("abort",In);let{loaderResults:on,fetcherResults:Pn}=await kt(Er,an,$e,_t);if($e.signal.aborted)return{shortCircuited:!0};Q&&Q.signal.removeEventListener("abort",In),an.forEach(Sr=>_e.delete(Sr.key));let Dn=findRedirect(on);if(Dn)return await Nt($e,Dn.result,!0,{replace:Bt}),{shortCircuited:!0};if(Dn=findRedirect(Pn),Dn)return Re.add(Dn.key),await Nt($e,Dn.result,!0,{replace:Bt}),{shortCircuited:!0};let{loaderData:ei,errors:zn}=processLoaderData(R,Ze,on,Kt,an,Pn);Ut&&R.errors&&(zn={...R.errors,...zn});let hi=ht(),gi=jt(Me),ci=hi||gi||an.length>0;return{matches:Ze,loaderData:ei,errors:zn,...ci?{fetchers:new Map(R.fetchers)}:{}}}function We($e){if($e&&!isErrorResult($e[1]))return{[$e[0]]:$e[1].data};if(R.actionData)return Object.keys(R.actionData).length===0?null:R.actionData}function ot($e){return $e.forEach(qe=>{let Ze=R.fetchers.get(qe.key),_t=getLoadingFetcher(void 0,Ze?Ze.data:void 0);R.fetchers.set(qe.key,_t)}),new Map(R.fetchers)}async function Rt($e,qe,Ze,_t){Qt($e);let Mt=(_t&&_t.flushSync)===!0,Xt=f||c,Ot=normalizeTo(R.location,R.matches,d,Ze,qe,_t?.relative),Lt=matchRoutes(Xt,Ot,d),Bt=Pr(Lt,Xt,Ot);if(Bt.active&&Bt.matches&&(Lt=Bt.matches),!Lt){ut($e,qe,getInternalRouterError(404,{pathname:Ot}),{flushSync:Mt});return}let{path:Ut,submission:sr,error:Kt}=normalizeNavigateOptions(!0,Ot,_t);if(Kt){ut($e,qe,Kt,{flushSync:Mt});return}let xr=t.getContext?await t.getContext():new RouterContextProvider,_r=(_t&&_t.preventScrollReset)===!0;if(sr&&isMutationMethod(sr.formMethod)){await Et($e,qe,Ut,Lt,xr,Bt.active,Mt,_r,sr,_t&&_t.unstable_defaultShouldRevalidate);return}Se.set($e,{routeId:qe,path:Ut}),await yt($e,qe,Ut,Lt,xr,Bt.active,Mt,_r,sr)}async function Et($e,qe,Ze,_t,Mt,Xt,Ot,Lt,Bt,Ut){Pe(),Se.delete($e);let sr=R.fetchers.get($e);ve($e,getSubmittingFetcher(Bt,sr),{flushSync:Ot});let Kt=new AbortController,xr=createClientSideRequest(t.history,Ze,Kt.signal,Bt);if(Xt){let mr=await Cn(_t,new URL(xr.url).pathname,xr.signal,$e);if(mr.type==="aborted")return;if(mr.type==="error"){ut($e,qe,mr.error,{flushSync:Ot});return}else if(mr.matches)_t=mr.matches;else{ut($e,qe,getInternalRouterError(404,{pathname:Ze}),{flushSync:Ot});return}}let _r=getTargetMatch(_t,Ze);if(!_r.route.action&&!_r.route.lazy){let mr=getInternalRouterError(405,{method:Bt.formMethod,pathname:Ze,routeId:qe});ut($e,qe,mr,{flushSync:Ot});return}_e.set($e,Kt);let en=we,zr=getTargetedDataStrategyMatches(u,l,xr,_t,_r,i,Mt),sn=await St(xr,zr,Mt,$e),Er=sn[_r.route.id];if(!Er){for(let mr of zr)if(sn[mr.route.id]){Er=sn[mr.route.id];break}}if(xr.signal.aborted){_e.get($e)===Kt&&_e.delete($e);return}if(Qe.has($e)){if(isRedirectResult(Er)||isErrorResult(Er)){ve($e,getDoneFetcher(void 0));return}}else{if(isRedirectResult(Er))if(_e.delete($e),Me>en){ve($e,getDoneFetcher(void 0));return}else return Re.add($e),ve($e,getLoadingFetcher(Bt)),Nt(xr,Er,!1,{fetcherSubmission:Bt,preventScrollReset:Lt});if(isErrorResult(Er)){ut($e,qe,Er.error);return}}let an=R.navigation.location||R.location,In=createClientSideRequest(t.history,an,Kt.signal),on=f||c,Pn=R.navigation.state!=="idle"?matchRoutes(on,R.navigation.location,d):R.matches;invariant(Pn,"Didn't find any matches after fetcher action");let Dn=++we;xe.set($e,Dn);let ei=getLoadingFetcher(Bt,Er.data);R.fetchers.set($e,ei);let{dsMatches:zn,revalidatingFetchers:hi}=getMatchesToLoad(In,Mt,u,l,t.history,R,Pn,Bt,an,i,!1,de,ge,Qe,Se,Re,on,d,t.patchRoutesOnNavigation!=null,[_r.route.id,Er],Ut);hi.filter(mr=>mr.key!==$e).forEach(mr=>{let ti=mr.key,rs=R.fetchers.get(ti),ns=getLoadingFetcher(void 0,rs?rs.data:void 0);R.fetchers.set(ti,ns),Qt(ti),mr.controller&&_e.set(ti,mr.controller)}),Oe({fetchers:new Map(R.fetchers)});let gi=()=>hi.forEach(mr=>Qt(mr.key));Kt.signal.addEventListener("abort",gi);let{loaderResults:ci,fetcherResults:Sr}=await kt(zn,hi,In,Mt);if(Kt.signal.aborted)return;if(Kt.signal.removeEventListener("abort",gi),xe.delete($e),_e.delete($e),hi.forEach(mr=>_e.delete(mr.key)),R.fetchers.has($e)){let mr=getDoneFetcher(Er.data);R.fetchers.set($e,mr)}let Zr=findRedirect(ci);if(Zr)return Nt(In,Zr.result,!1,{preventScrollReset:Lt});if(Zr=findRedirect(Sr),Zr)return Re.add(Zr.key),Nt(In,Zr.result,!1,{preventScrollReset:Lt});let{loaderData:Hr,errors:Lr}=processLoaderData(R,Pn,ci,void 0,hi,Sr);jt(Dn),R.navigation.state==="loading"&&Dn>Me?(invariant(G,"Expected pending action"),Q&&Q.abort(),Be(R.navigation.location,{matches:Pn,loaderData:Hr,errors:Lr,fetchers:new Map(R.fetchers)})):(Oe({errors:Lr,loaderData:mergeLoaderData(R.loaderData,Hr,Pn,Lr),fetchers:new Map(R.fetchers)}),de=!1)}async function yt($e,qe,Ze,_t,Mt,Xt,Ot,Lt,Bt){let Ut=R.fetchers.get($e);ve($e,getLoadingFetcher(Bt,Ut?Ut.data:void 0),{flushSync:Ot});let sr=new AbortController,Kt=createClientSideRequest(t.history,Ze,sr.signal);if(Xt){let Er=await Cn(_t,new URL(Kt.url).pathname,Kt.signal,$e);if(Er.type==="aborted")return;if(Er.type==="error"){ut($e,qe,Er.error,{flushSync:Ot});return}else if(Er.matches)_t=Er.matches;else{ut($e,qe,getInternalRouterError(404,{pathname:Ze}),{flushSync:Ot});return}}let xr=getTargetMatch(_t,Ze);_e.set($e,sr);let _r=we,en=getTargetedDataStrategyMatches(u,l,Kt,_t,xr,i,Mt),sn=(await St(Kt,en,Mt,$e))[xr.route.id];if(_e.get($e)===sr&&_e.delete($e),!Kt.signal.aborted){if(Qe.has($e)){ve($e,getDoneFetcher(void 0));return}if(isRedirectResult(sn))if(Me>_r){ve($e,getDoneFetcher(void 0));return}else{Re.add($e),await Nt(Kt,sn,!1,{preventScrollReset:Lt});return}if(isErrorResult(sn)){ut($e,qe,sn.error);return}ve($e,getDoneFetcher(sn.data))}}async function Nt($e,qe,Ze,{submission:_t,fetcherSubmission:Mt,preventScrollReset:Xt,replace:Ot}={}){Ze||(F?.resolve(),F=null),qe.response.headers.has("X-Remix-Revalidate")&&(de=!0);let Lt=qe.response.headers.get("Location");invariant(Lt,"Expected a Location header on the redirect Response"),Lt=normalizeRedirectLocation(Lt,new URL($e.url),d);let Bt=createLocation$1(R.location,Lt,{_isRedirect:!0});if(n){let en=!1;if(qe.response.headers.has("X-Remix-Reload-Document"))en=!0;else if(isAbsoluteUrl(Lt)){const zr=createBrowserURLImpl(Lt,!0);en=zr.origin!==e.location.origin||stripBasename(zr.pathname,d)==null}if(en){Ot?e.location.replace(Lt):e.location.assign(Lt);return}}Q=null;let Ut=Ot===!0||qe.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:sr,formAction:Kt,formEncType:xr}=R.navigation;!_t&&!Mt&&sr&&Kt&&xr&&(_t=getSubmissionFromNavigation(R.navigation));let _r=_t||Mt;if(redirectPreserveMethodStatusCodes.has(qe.response.status)&&_r&&isMutationMethod(_r.formMethod))await Ce(Ut,Bt,{submission:{..._r,formAction:Lt},preventScrollReset:Xt||K,enableViewTransition:Ze?ie:void 0});else{let en=getLoadingNavigation(Bt,_t);await Ce(Ut,Bt,{overrideNavigation:en,fetcherSubmission:Mt,preventScrollReset:Xt||K,enableViewTransition:Ze?ie:void 0})}}async function St($e,qe,Ze,_t){let Mt,Xt={};try{Mt=await callDataStrategyImpl(m,$e,qe,_t,Ze,!1)}catch(Ot){return qe.filter(Lt=>Lt.shouldLoad).forEach(Lt=>{Xt[Lt.route.id]={type:"error",error:Ot}}),Xt}if($e.signal.aborted)return Xt;if(!isMutationMethod($e.method))for(let Ot of qe){if(Mt[Ot.route.id]?.type==="error")break;!Mt.hasOwnProperty(Ot.route.id)&&!R.loaderData.hasOwnProperty(Ot.route.id)&&(!R.errors||!R.errors.hasOwnProperty(Ot.route.id))&&Ot.shouldCallHandler()&&(Mt[Ot.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${Ot.route.id}`)})}for(let[Ot,Lt]of Object.entries(Mt))if(isRedirectDataStrategyResult(Lt)){let Bt=Lt.result;Xt[Ot]={type:"redirect",response:normalizeRelativeRoutingRedirectResponse(Bt,$e,Ot,qe,d)}}else Xt[Ot]=await convertDataStrategyResultToDataResult(Lt);return Xt}async function kt($e,qe,Ze,_t){let Mt=St(Ze,$e,_t,null),Xt=Promise.all(qe.map(async Bt=>{if(Bt.matches&&Bt.match&&Bt.request&&Bt.controller){let sr=(await St(Bt.request,Bt.matches,_t,Bt.key))[Bt.match.route.id];return{[Bt.key]:sr}}else return Promise.resolve({[Bt.key]:{type:"error",error:getInternalRouterError(404,{pathname:Bt.path})}})})),Ot=await Mt,Lt=(await Xt).reduce((Bt,Ut)=>Object.assign(Bt,Ut),{});return{loaderResults:Ot,fetcherResults:Lt}}function Pe(){de=!0,Se.forEach(($e,qe)=>{_e.has(qe)&&ge.add(qe),Qt(qe)})}function ve($e,qe,Ze={}){R.fetchers.set($e,qe),Oe({fetchers:new Map(R.fetchers)},{flushSync:(Ze&&Ze.flushSync)===!0})}function ut($e,qe,Ze,_t={}){let Mt=findNearestBoundary(R.matches,qe);Vt($e),Oe({errors:{[Mt.route.id]:Ze},fetchers:new Map(R.fetchers)},{flushSync:(_t&&_t.flushSync)===!0})}function wt($e){return Ge.set($e,(Ge.get($e)||0)+1),Qe.has($e)&&Qe.delete($e),R.fetchers.get($e)||IDLE_FETCHER}function Tt($e,qe){Qt($e,qe?.reason),ve($e,getDoneFetcher(null))}function Vt($e){let qe=R.fetchers.get($e);_e.has($e)&&!(qe&&qe.state==="loading"&&xe.has($e))&&Qt($e),Se.delete($e),xe.delete($e),Re.delete($e),Qe.delete($e),ge.delete($e),R.fetchers.delete($e)}function Gt($e){let qe=(Ge.get($e)||0)-1;qe<=0?(Ge.delete($e),Qe.add($e)):Ge.set($e,qe),Oe({fetchers:new Map(R.fetchers)})}function Qt($e,qe){let Ze=_e.get($e);Ze&&(Ze.abort(qe),_e.delete($e))}function qt($e){for(let qe of $e){let Ze=wt(qe),_t=getDoneFetcher(Ze.data);R.fetchers.set(qe,_t)}}function ht(){let $e=[],qe=!1;for(let Ze of Re){let _t=R.fetchers.get(Ze);invariant(_t,`Expected fetcher: ${Ze}`),_t.state==="loading"&&(Re.delete(Ze),$e.push(Ze),qe=!0)}return qt($e),qe}function jt($e){let qe=[];for(let[Ze,_t]of xe)if(_t<$e){let Mt=R.fetchers.get(Ze);invariant(Mt,`Expected fetcher: ${Ze}`),Mt.state==="loading"&&(Qt(Ze),xe.delete(Ze),qe.push(Ze))}return qt(qe),qe.length>0}function tr($e,qe){let Ze=R.blockers.get($e)||IDLE_BLOCKER;return Je.get($e)!==qe&&Je.set($e,qe),Ze}function It($e){R.blockers.delete($e),Je.delete($e)}function Ar($e,qe){let Ze=R.blockers.get($e)||IDLE_BLOCKER;invariant(Ze.state==="unblocked"&&qe.state==="blocked"||Ze.state==="blocked"&&qe.state==="blocked"||Ze.state==="blocked"&&qe.state==="proceeding"||Ze.state==="blocked"&&qe.state==="unblocked"||Ze.state==="proceeding"&&qe.state==="unblocked",`Invalid blocker state transition: ${Ze.state} -> ${qe.state}`);let _t=new Map(R.blockers);_t.set($e,qe),Oe({blockers:_t})}function cr({currentLocation:$e,nextLocation:qe,historyAction:Ze}){if(Je.size===0)return;Je.size>1&&warning$1(!1,"A router only supports one blocker at a time");let _t=Array.from(Je.entries()),[Mt,Xt]=_t[_t.length-1],Ot=R.blockers.get(Mt);if(!(Ot&&Ot.state==="proceeding")&&Xt({currentLocation:$e,nextLocation:qe,historyAction:Ze}))return Mt}function yr($e){let qe=getInternalRouterError(404,{pathname:$e}),Ze=f||c,{matches:_t,route:Mt}=getShortCircuitMatches(Ze);return{notFoundMatches:_t,route:Mt,error:qe}}function Wr($e,qe,Ze){if(w=$e,P=qe,T=Ze||null,!A&&R.navigation===IDLE_NAVIGATION){A=!0;let _t=ir(R.location,R.matches);_t!=null&&Oe({restoreScrollPosition:_t})}return()=>{w=null,P=null,T=null}}function Ht($e,qe){return T&&T($e,qe.map(_t=>convertRouteMatchToUiMatch(_t,R.loaderData)))||$e.key}function dr($e,qe){if(w&&P){let Ze=Ht($e,qe);w[Ze]=P()}}function ir($e,qe){if(w){let Ze=Ht($e,qe),_t=w[Ze];if(typeof _t=="number")return _t}return null}function Pr($e,qe,Ze){if(t.patchRoutesOnNavigation)if($e){if(Object.keys($e[0].params).length>0)return{active:!0,matches:matchRoutesImpl(qe,Ze,d,!0)}}else return{active:!0,matches:matchRoutesImpl(qe,Ze,d,!0)||[]};return{active:!1,matches:null}}async function Cn($e,qe,Ze,_t){if(!t.patchRoutesOnNavigation)return{type:"success",matches:$e};let Mt=$e;for(;;){let Xt=f==null,Ot=f||c,Lt=l;try{await t.patchRoutesOnNavigation({signal:Ze,path:qe,matches:Mt,fetcherKey:_t,patch:(sr,Kt)=>{Ze.aborted||patchRoutesImpl(sr,Kt,Ot,Lt,u,!1)}})}catch(sr){return{type:"error",error:sr,partialMatches:Mt}}finally{Xt&&!Ze.aborted&&(c=[...c])}if(Ze.aborted)return{type:"aborted"};let Bt=matchRoutes(Ot,qe,d),Ut=null;if(Bt){if(Object.keys(Bt[0].params).length===0)return{type:"success",matches:Bt};if(Ut=matchRoutesImpl(Ot,qe,d,!0),!(Ut&&Mt.length<Ut.length&&lr(Mt,Ut.slice(0,Mt.length))))return{type:"success",matches:Bt}}if(Ut||(Ut=matchRoutesImpl(Ot,qe,d,!0)),!Ut||lr(Mt,Ut))return{type:"success",matches:null};Mt=Ut}}function lr($e,qe){return $e.length===qe.length&&$e.every((Ze,_t)=>Ze.route.id===qe[_t].route.id)}function wn($e){l={},f=convertRoutesToDataRoutes($e,u,void 0,l)}function pn($e,qe,Ze=!1){let _t=f==null;patchRoutesImpl($e,qe,f||c,l,u,Ze),_t&&(c=[...c],Oe({}))}return Z={get basename(){return d},get future(){return g},get state(){return R},get routes(){return c},get window(){return e},initialize:Ct,subscribe:De,enableScrollRestoration:Wr,navigate:he,fetch:Rt,revalidate:be,createHref:$e=>t.history.createHref($e),encodeLocation:$e=>t.history.encodeLocation($e),getFetcher:wt,resetFetcher:Tt,deleteFetcher:Gt,dispose:ar,getBlocker:tr,deleteBlocker:It,patchRoutes:pn,_internalFetchControllers:_e,_internalSetRoutes:wn,_internalSetStateDoNotUseOrYouWillBreakYourApp($e){Oe($e)}},t.unstable_instrumentations&&(Z=instrumentClientSideRouter(Z,t.unstable_instrumentations.map($e=>$e.router).filter(Boolean))),Z}function isSubmissionNavigation(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function normalizeTo(t,e,n,i,o,u){let l,c;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){c=d;break}}else l=e,c=e[e.length-1];let f=resolveTo(i||".",getResolveToMatches(l),stripBasename(t.pathname,n)||t.pathname,u==="path");if(i==null&&(f.search=t.search,f.hash=t.hash),(i==null||i===""||i===".")&&c){let d=hasNakedIndexQuery(f.search);if(c.route.index&&!d)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&d){let m=new URLSearchParams(f.search),g=m.getAll("index");m.delete("index"),g.filter(y=>y).forEach(y=>m.append("index",y));let v=m.toString();f.search=v?`?${v}`:""}}return n!=="/"&&(f.pathname=prependBasename({basename:n,pathname:f.pathname})),createPath$1(f)}function normalizeNavigateOptions(t,e,n){if(!n||!isSubmissionNavigation(n))return{path:e};if(n.formMethod&&!isValidMethod(n.formMethod))return{path:e,error:getInternalRouterError(405,{method:n.formMethod})};let i=()=>({path:e,error:getInternalRouterError(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),l=stripHashFromPath(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!isMutationMethod(u))return i();let g=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((v,[y,w])=>`${v}${y}=${w}
`,""):String(n.body);return{path:e,submission:{formMethod:u,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:g}}}else if(n.formEncType==="application/json"){if(!isMutationMethod(u))return i();try{let g=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:u,formAction:l,formEncType:n.formEncType,formData:void 0,json:g,text:void 0}}}catch{return i()}}}invariant(typeof FormData=="function","FormData is not available in this environment");let c,f;if(n.formData)c=convertFormDataToSearchParams(n.formData),f=n.formData;else if(n.body instanceof FormData)c=convertFormDataToSearchParams(n.body),f=n.body;else if(n.body instanceof URLSearchParams)c=n.body,f=convertSearchParamsToFormData(c);else if(n.body==null)c=new URLSearchParams,f=new FormData;else try{c=new URLSearchParams(n.body),f=convertSearchParamsToFormData(c)}catch{return i()}let d={formMethod:u,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(isMutationMethod(d.formMethod))return{path:e,submission:d};let m=parsePath(e);return t&&m.search&&hasNakedIndexQuery(m.search)&&c.append("index",""),m.search=`?${c}`,{path:createPath$1(m),submission:d}}function getMatchesToLoad(t,e,n,i,o,u,l,c,f,d,m,g,v,y,w,T,P,A,D,k,j){let B=k?isErrorResult(k[1])?k[1].error:k[1].data:void 0,Z=o.createURL(u.location),R=o.createURL(f),G;if(m&&u.errors){let le=Object.keys(u.errors)[0];G=l.findIndex(de=>de.route.id===le)}else if(k&&isErrorResult(k[1])){let le=k[0];G=l.findIndex(de=>de.route.id===le)-1}let F=k?k[1].statusCode:void 0,K=F&&F>=400,Q={currentUrl:Z,currentParams:u.matches[0]?.params||{},nextUrl:R,nextParams:l[0].params,...c,actionResult:B,actionStatus:F},ie=getRoutePattern(l),te=l.map((le,de)=>{let{route:ge}=le,_e=null;if(G!=null&&de>G?_e=!1:ge.lazy?_e=!0:routeHasLoaderOrMiddleware(ge)?m?_e=shouldLoadRouteOnHydration(ge,u.loaderData,u.errors):isNewLoader(u.loaderData,u.matches[de],le)&&(_e=!0):_e=!1,_e!==null)return getDataStrategyMatch(n,i,t,ie,le,d,e,_e);let we=!1;typeof j=="boolean"?we=j:K?we=!1:(g||Z.pathname+Z.search===R.pathname+R.search||Z.search!==R.search||isNewRouteInstance(u.matches[de],le))&&(we=!0);let Me={...Q,defaultShouldRevalidate:we},xe=shouldRevalidateLoader(le,Me);return getDataStrategyMatch(n,i,t,ie,le,d,e,xe,Me,j)}),oe=[];return w.forEach((le,de)=>{if(m||!l.some(Ge=>Ge.route.id===le.routeId)||y.has(de))return;let ge=u.fetchers.get(de),_e=ge&&ge.state!=="idle"&&ge.data===void 0,we=matchRoutes(P,le.path,A);if(!we){if(D&&_e)return;oe.push({key:de,routeId:le.routeId,path:le.path,matches:null,match:null,request:null,controller:null});return}if(T.has(de))return;let Me=getTargetMatch(we,le.path),xe=new AbortController,Re=createClientSideRequest(o,le.path,xe.signal),Se=null;if(v.has(de))v.delete(de),Se=getTargetedDataStrategyMatches(n,i,Re,we,Me,d,e);else if(_e)g&&(Se=getTargetedDataStrategyMatches(n,i,Re,we,Me,d,e));else{let Ge;typeof j=="boolean"?Ge=j:K?Ge=!1:Ge=g;let Qe={...Q,defaultShouldRevalidate:Ge};shouldRevalidateLoader(Me,Qe)&&(Se=getTargetedDataStrategyMatches(n,i,Re,we,Me,d,e,Qe))}Se&&oe.push({key:de,routeId:le.routeId,path:le.path,matches:Se,match:Me,request:Re,controller:xe})}),{dsMatches:te,revalidatingFetchers:oe}}function routeHasLoaderOrMiddleware(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function shouldLoadRouteOnHydration(t,e,n){if(t.lazy)return!0;if(!routeHasLoaderOrMiddleware(t))return!1;let i=e!=null&&t.id in e,o=n!=null&&n[t.id]!==void 0;return!i&&o?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!i&&!o}function isNewLoader(t,e,n){let i=!e||n.route.id!==e.route.id,o=!t.hasOwnProperty(n.route.id);return i||o}function isNewRouteInstance(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function shouldRevalidateLoader(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function patchRoutesImpl(t,e,n,i,o,u){let l;if(t){let d=i[t];invariant(d,`No route found to patch children into: routeId = ${t}`),d.children||(d.children=[]),l=d.children}else l=n;let c=[],f=[];if(e.forEach(d=>{let m=l.find(g=>isSameRoute(d,g));m?f.push({existingRoute:m,newRoute:d}):c.push(d)}),c.length>0){let d=convertRoutesToDataRoutes(c,o,[t||"_","patch",String(l?.length||"0")],i);l.push(...d)}if(u&&f.length>0)for(let d=0;d<f.length;d++){let{existingRoute:m,newRoute:g}=f[d],v=m,[y]=convertRoutesToDataRoutes([g],o,[],{},!0);Object.assign(v,{element:y.element?y.element:v.element,errorElement:y.errorElement?y.errorElement:v.errorElement,hydrateFallbackElement:y.hydrateFallbackElement?y.hydrateFallbackElement:v.hydrateFallbackElement})}}function isSameRoute(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,i)=>e.children?.some(o=>isSameRoute(n,o))):!1}var lazyRoutePropertyCache=new WeakMap,loadLazyRouteProperty=({key:t,route:e,manifest:n,mapRouteProperties:i})=>{let o=n[e.id];if(invariant(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let u=o.lazy[t];if(!u)return;let l=lazyRoutePropertyCache.get(o);l||(l={},lazyRoutePropertyCache.set(o,l));let c=l[t];if(c)return c;let f=(async()=>{let d=isUnsupportedLazyRouteObjectKey(t),g=o[t]!==void 0&&t!=="hasErrorBoundary";if(d)warning$1(!d,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),l[t]=Promise.resolve();else if(g)warning$1(!1,`Route "${o.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let v=await u();v!=null&&(Object.assign(o,{[t]:v}),Object.assign(o,i(o)))}typeof o.lazy=="object"&&(o.lazy[t]=void 0,Object.values(o.lazy).every(v=>v===void 0)&&(o.lazy=void 0))})();return l[t]=f,f},lazyRouteFunctionCache=new WeakMap;function loadLazyRoute(t,e,n,i,o){let u=n[t.id];if(invariant(u,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let m=lazyRouteFunctionCache.get(u);if(m)return{lazyRoutePromise:m,lazyHandlerPromise:m};let g=(async()=>{invariant(typeof t.lazy=="function","No lazy route function found");let v=await t.lazy(),y={};for(let w in v){let T=v[w];if(T===void 0)continue;let P=isUnsupportedLazyRouteFunctionKey(w),D=u[w]!==void 0&&w!=="hasErrorBoundary";P?warning$1(!P,"Route property "+w+" is not a supported property to be returned from a lazy route function. This property will be ignored."):D?warning$1(!D,`Route "${u.id}" has a static property "${w}" defined but its lazy function is also returning a value for this property. The lazy route property "${w}" will be ignored.`):y[w]=T}Object.assign(u,y),Object.assign(u,{...i(u),lazy:void 0})})();return lazyRouteFunctionCache.set(u,g),g.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:g}}let l=Object.keys(t.lazy),c=[],f;for(let m of l){if(o&&o.includes(m))continue;let g=loadLazyRouteProperty({key:m,route:t,manifest:n,mapRouteProperties:i});g&&(c.push(g),m===e&&(f=g))}let d=c.length>0?Promise.all(c).then(()=>{}):void 0;return d?.catch(()=>{}),f?.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:f}}async function defaultDataStrategy(t){let e=t.matches.filter(o=>o.shouldLoad),n={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,u)=>{n[e[u].route.id]=o}),n}async function defaultDataStrategyWithMiddleware(t){return t.matches.some(e=>e.route.middleware)?runClientMiddlewarePipeline(t,()=>defaultDataStrategy(t)):defaultDataStrategy(t)}function runClientMiddlewarePipeline(t,e){return runMiddlewarePipeline(t,e,i=>{if(isRedirectResponse(i))throw i;return i},isDataStrategyResults,n);function n(i,o,u){if(u)return Promise.resolve(Object.assign(u.value,{[o]:{type:"error",result:i}}));{let{matches:l}=t,c=Math.min(Math.max(l.findIndex(d=>d.route.id===o),0),Math.max(l.findIndex(d=>d.shouldCallHandler()),0)),f=findNearestBoundary(l,l[c].route.id).route.id;return Promise.resolve({[f]:{type:"error",result:i}})}}}async function runMiddlewarePipeline(t,e,n,i,o){let{matches:u,request:l,params:c,context:f,unstable_pattern:d}=t,m=u.flatMap(v=>v.route.middleware?v.route.middleware.map(y=>[v.route.id,y]):[]);return await callRouteMiddleware({request:l,params:c,context:f,unstable_pattern:d},m,e,n,i,o)}async function callRouteMiddleware(t,e,n,i,o,u,l=0){let{request:c}=t;if(c.signal.aborted)throw c.signal.reason??new Error(`Request aborted: ${c.method} ${c.url}`);let f=e[l];if(!f)return await n();let[d,m]=f,g,v=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");try{return g={value:await callRouteMiddleware(t,e,n,i,o,u,l+1)},g.value}catch(y){return g={value:await u(y,d,g)},g.value}};try{let y=await m(t,v),w=y!=null?i(y):void 0;return o(w)?w:g?w??g.value:(g={value:await v()},g.value)}catch(y){return await u(y,d,g)}}function getDataStrategyMatchLazyPromises(t,e,n,i,o){let u=loadLazyRouteProperty({key:"middleware",route:i.route,manifest:e,mapRouteProperties:t}),l=loadLazyRoute(i.route,isMutationMethod(n.method)?"action":"loader",e,t,o);return{middleware:u,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function getDataStrategyMatch(t,e,n,i,o,u,l,c,f=null,d){let m=!1,g=getDataStrategyMatchLazyPromises(t,e,n,o,u);return{...o,_lazyPromises:g,shouldLoad:c,shouldRevalidateArgs:f,shouldCallHandler(v){return m=!0,f?typeof d=="boolean"?shouldRevalidateLoader(o,{...f,defaultShouldRevalidate:d}):typeof v=="boolean"?shouldRevalidateLoader(o,{...f,defaultShouldRevalidate:v}):shouldRevalidateLoader(o,f):c},resolve(v){let{lazy:y,loader:w,middleware:T}=o.route,P=m||c||v&&!isMutationMethod(n.method)&&(y||w),A=T&&T.length>0&&!w&&!y;return P&&(isMutationMethod(n.method)||!A)?callLoaderOrAction({request:n,unstable_pattern:i,match:o,lazyHandlerPromise:g?.handler,lazyRoutePromise:g?.route,handlerOverride:v,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function getTargetedDataStrategyMatches(t,e,n,i,o,u,l,c=null){return i.map(f=>f.route.id!==o.route.id?{...f,shouldLoad:!1,shouldRevalidateArgs:c,shouldCallHandler:()=>!1,_lazyPromises:getDataStrategyMatchLazyPromises(t,e,n,f,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:getDataStrategyMatch(t,e,n,getRoutePattern(i),f,u,l,!0,c))}async function callDataStrategyImpl(t,e,n,i,o,u){n.some(d=>d._lazyPromises?.middleware)&&await Promise.all(n.map(d=>d._lazyPromises?.middleware));let l={request:e,unstable_pattern:getRoutePattern(n),params:n[0].params,context:o,matches:n},f=await t({...l,fetcherKey:i,runClientMiddleware:d=>{let m=l;return runClientMiddlewarePipeline(m,()=>d({...m,fetcherKey:i,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(d=>[d._lazyPromises?.handler,d._lazyPromises?.route]))}catch{}return f}async function callLoaderOrAction({request:t,unstable_pattern:e,match:n,lazyHandlerPromise:i,lazyRoutePromise:o,handlerOverride:u,scopedContext:l}){let c,f,d=isMutationMethod(t.method),m=d?"action":"loader",g=v=>{let y,w=new Promise((A,D)=>y=D);f=()=>y(),t.signal.addEventListener("abort",f);let T=A=>typeof v!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${m}" [routeId: ${n.route.id}]`)):v({request:t,unstable_pattern:e,params:n.params,context:l},...A!==void 0?[A]:[]),P=(async()=>{try{return{type:"data",result:await(u?u(D=>T(D)):T())}}catch(A){return{type:"error",result:A}}})();return Promise.race([P,w])};try{let v=d?n.route.action:n.route.loader;if(i||o)if(v){let y,[w]=await Promise.all([g(v).catch(T=>{y=T}),i,o]);if(y!==void 0)throw y;c=w}else{await i;let y=d?n.route.action:n.route.loader;if(y)[c]=await Promise.all([g(y),o]);else if(m==="action"){let w=new URL(t.url),T=w.pathname+w.search;throw getInternalRouterError(405,{method:t.method,pathname:T,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(v)c=await g(v);else{let y=new URL(t.url),w=y.pathname+y.search;throw getInternalRouterError(404,{pathname:w})}}catch(v){return{type:"error",result:v}}finally{f&&t.signal.removeEventListener("abort",f)}return c}async function parseResponseBody(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function convertDataStrategyResultToDataResult(t){let{result:e,type:n}=t;if(isResponse(e)){let i;try{i=await parseResponseBody(e)}catch(o){return{type:"error",error:o}}return n==="error"?{type:"error",error:new ErrorResponseImpl(e.status,e.statusText,i),statusCode:e.status,headers:e.headers}:{type:"data",data:i,statusCode:e.status,headers:e.headers}}return n==="error"?isDataWithResponseInit(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:dataWithResponseInitToErrorResponse(e),statusCode:isRouteErrorResponse(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:isRouteErrorResponse(e)?e.status:void 0}:isDataWithResponseInit(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function normalizeRelativeRoutingRedirectResponse(t,e,n,i,o){let u=t.headers.get("Location");if(invariant(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!isAbsoluteUrl(u)){let l=i.slice(0,i.findIndex(c=>c.route.id===n)+1);u=normalizeTo(new URL(e.url),l,o,u),t.headers.set("Location",u)}return t}function normalizeRedirectLocation(t,e,n){if(isAbsoluteUrl(t)){let i=t,o=i.startsWith("//")?new URL(e.protocol+i):new URL(i),u=stripBasename(o.pathname,n)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return t}function createClientSideRequest(t,e,n,i){let o=t.createURL(stripHashFromPath(e)).toString(),u={signal:n};if(i&&isMutationMethod(i.formMethod)){let{formMethod:l,formEncType:c}=i;u.method=l.toUpperCase(),c==="application/json"?(u.headers=new Headers({"Content-Type":c}),u.body=JSON.stringify(i.json)):c==="text/plain"?u.body=i.text:c==="application/x-www-form-urlencoded"&&i.formData?u.body=convertFormDataToSearchParams(i.formData):u.body=i.formData}return new Request(o,u)}function convertFormDataToSearchParams(t){let e=new URLSearchParams;for(let[n,i]of t.entries())e.append(n,typeof i=="string"?i:i.name);return e}function convertSearchParamsToFormData(t){let e=new FormData;for(let[n,i]of t.entries())e.append(n,i);return e}function processRouteLoaderData(t,e,n,i=!1,o=!1){let u={},l=null,c,f=!1,d={},m=n&&isErrorResult(n[1])?n[1].error:void 0;return t.forEach(g=>{if(!(g.route.id in e))return;let v=g.route.id,y=e[v];if(invariant(!isRedirectResult(y),"Cannot handle redirect results in processLoaderData"),isErrorResult(y)){let w=y.error;if(m!==void 0&&(w=m,m=void 0),l=l||{},o)l[v]=w;else{let T=findNearestBoundary(t,v);l[T.route.id]==null&&(l[T.route.id]=w)}i||(u[v]=ResetLoaderDataSymbol),f||(f=!0,c=isRouteErrorResponse(y.error)?y.error.status:500),y.headers&&(d[v]=y.headers)}else u[v]=y.data,y.statusCode&&y.statusCode!==200&&!f&&(c=y.statusCode),y.headers&&(d[v]=y.headers)}),m!==void 0&&n&&(l={[n[0]]:m},n[2]&&(u[n[2]]=void 0)),{loaderData:u,errors:l,statusCode:c||200,loaderHeaders:d}}function processLoaderData(t,e,n,i,o,u){let{loaderData:l,errors:c}=processRouteLoaderData(e,n,i);return o.filter(f=>!f.matches||f.matches.some(d=>d.shouldLoad)).forEach(f=>{let{key:d,match:m,controller:g}=f;if(g&&g.signal.aborted)return;let v=u[d];if(invariant(v,"Did not find corresponding fetcher result"),isErrorResult(v)){let y=findNearestBoundary(t.matches,m?.route.id);c&&c[y.route.id]||(c={...c,[y.route.id]:v.error}),t.fetchers.delete(d)}else if(isRedirectResult(v))invariant(!1,"Unhandled fetcher revalidation redirect");else{let y=getDoneFetcher(v.data);t.fetchers.set(d,y)}}),{loaderData:l,errors:c}}function mergeLoaderData(t,e,n,i){let o=Object.entries(e).filter(([,u])=>u!==ResetLoaderDataSymbol).reduce((u,[l,c])=>(u[l]=c,u),{});for(let u of n){let l=u.route.id;if(!e.hasOwnProperty(l)&&t.hasOwnProperty(l)&&u.route.loader&&(o[l]=t[l]),i&&i.hasOwnProperty(l))break}return o}function getActionDataForCommit(t){return t?isErrorResult(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function findNearestBoundary(t,e){return(e?t.slice(0,t.findIndex(i=>i.route.id===e)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function getShortCircuitMatches(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function getInternalRouterError(t,{pathname:e,routeId:n,method:i,type:o,message:u}={}){let l="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(l="Bad Request",i&&e&&n?c=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(c="Unable to encode submission body")):t===403?(l="Forbidden",c=`Route "${n}" does not match URL "${e}"`):t===404?(l="Not Found",c=`No route matches URL "${e}"`):t===405&&(l="Method Not Allowed",i&&e&&n?c=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:i&&(c=`Invalid request method "${i.toUpperCase()}"`)),new ErrorResponseImpl(t||500,l,new Error(c),!0)}function findRedirect(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[i,o]=e[n];if(isRedirectResult(o))return{key:i,result:o}}}function stripHashFromPath(t){let e=typeof t=="string"?parsePath(t):t;return createPath$1({...e,hash:""})}function isHashChangeOnly(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function dataWithResponseInitToErrorResponse(t){return new ErrorResponseImpl(t.init?.status??500,t.init?.statusText??"Internal Server Error",t.data)}function isDataStrategyResults(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&isDataStrategyResult(n))}function isDataStrategyResult(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function isRedirectDataStrategyResult(t){return isResponse(t.result)&&redirectStatusCodes.has(t.result.status)}function isErrorResult(t){return t.type==="error"}function isRedirectResult(t){return(t&&t.type)==="redirect"}function isDataWithResponseInit(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function isResponse(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function isRedirectStatusCode(t){return redirectStatusCodes.has(t)}function isRedirectResponse(t){return isResponse(t)&&isRedirectStatusCode(t.status)&&t.headers.has("Location")}function isValidMethod(t){return validRequestMethods.has(t.toUpperCase())}function isMutationMethod(t){return validMutationMethods.has(t.toUpperCase())}function hasNakedIndexQuery(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function getTargetMatch(t,e){let n=typeof e=="string"?parsePath(e).search:e.search;if(t[t.length-1].route.index&&hasNakedIndexQuery(n||""))return t[t.length-1];let i=getPathContributingMatches(t);return i[i.length-1]}function getSubmissionFromNavigation(t){let{formMethod:e,formAction:n,formEncType:i,text:o,formData:u,json:l}=t;if(!(!e||!n||!i)){if(o!=null)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:n,formEncType:i,formData:u,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:l,text:void 0}}}function getLoadingNavigation(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function getSubmittingNavigation(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function getLoadingFetcher(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function getSubmittingFetcher(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function getDoneFetcher(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function restoreAppliedTransitions(t,e){try{let n=t.sessionStorage.getItem(TRANSITIONS_STORAGE_KEY);if(n){let i=JSON.parse(n);for(let[o,u]of Object.entries(i||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function persistAppliedTransitions(t,e){if(e.size>0){let n={};for(let[i,o]of e)n[i]=[...o];try{t.sessionStorage.setItem(TRANSITIONS_STORAGE_KEY,JSON.stringify(n))}catch(i){warning$1(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function createDeferred(){let t,e,n=new Promise((i,o)=>{t=async u=>{i(u);try{await n}catch{}},e=async u=>{o(u);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";var RSCRouterContext=reactExports.createContext(!1);function useIsRSCRouterContext(){return reactExports.useContext(RSCRouterContext)}var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";var ERROR_DIGEST_BASE="REACT_ROUTER_ERROR",ERROR_DIGEST_REDIRECT="REDIRECT",ERROR_DIGEST_ROUTE_ERROR_RESPONSE="ROUTE_ERROR_RESPONSE";function decodeRedirectErrorDigest(t){if(t.startsWith(`${ERROR_DIGEST_BASE}:${ERROR_DIGEST_REDIRECT}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function decodeRouteErrorResponseDigest(t){if(t.startsWith(`${ERROR_DIGEST_BASE}:${ERROR_DIGEST_ROUTE_ERROR_RESPONSE}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new ErrorResponseImpl(e.status,e.statusText,e.data)}catch{}}function useHref(t,{relative:e}={}){invariant(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=reactExports.useContext(NavigationContext),{hash:o,pathname:u,search:l}=useResolvedPath(t,{relative:e}),c=u;return n!=="/"&&(c=u==="/"?n:joinPaths([n,u])),i.createHref({pathname:c,search:l,hash:o})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect$2(t){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(t)}function useNavigate(){let{isDataRoute:t}=reactExports.useContext(RouteContext);return t?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let t=reactExports.useContext(DataRouterContext),{basename:e,navigator:n}=reactExports.useContext(NavigationContext),{matches:i}=reactExports.useContext(RouteContext),{pathname:o}=useLocation(),u=JSON.stringify(getResolveToMatches(i)),l=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{l.current=!0}),reactExports.useCallback((f,d={})=>{if(warning$1(l.current,navigateEffectWarning),!l.current)return;if(typeof f=="number"){n.go(f);return}let m=resolveTo(f,JSON.parse(u),o,d.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:joinPaths([e,m.pathname])),(d.replace?n.replace:n.push)(m,d.state,d)},[e,n,u,o,t])}var OutletContext=reactExports.createContext(null);function useOutlet(t){let e=reactExports.useContext(RouteContext).outlet;return reactExports.useMemo(()=>e&&reactExports.createElement(OutletContext.Provider,{value:t},e),[e,t])}function useResolvedPath(t,{relative:e}={}){let{matches:n}=reactExports.useContext(RouteContext),{pathname:i}=useLocation(),o=JSON.stringify(getResolveToMatches(n));return reactExports.useMemo(()=>resolveTo(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function useRoutesImpl(t,e,n,i,o){invariant(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=reactExports.useContext(NavigationContext),{matches:l}=reactExports.useContext(RouteContext),c=l[l.length-1],f=c?c.params:{},d=c?c.pathname:"/",m=c?c.pathnameBase:"/",g=c&&c.route;{let D=g&&g.path||"";warningOnce(d,!g||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let v=useLocation(),y;y=v;let w=y.pathname||"/",T=w;if(m!=="/"){let D=m.replace(/^\//,"").split("/");T="/"+w.replace(/^\//,"").split("/").slice(D.length).join("/")}let P=matchRoutes(t,{pathname:T});return warning$1(g||P!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),warning$1(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),_renderMatches(P&&P.map(D=>Object.assign({},D,{params:Object.assign({},f,D.params),pathname:joinPaths([m,u.encodeLocation?u.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?m:joinPaths([m,u.encodeLocation?u.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),l,n,i,o)}function DefaultErrorComponent(){let t=useRouteError(),e=isRouteErrorResponse(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null," Hey developer "),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:u},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:u},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},e),n?reactExports.createElement("pre",{style:o},n):null,l)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=decodeRouteErrorResponseDigest(t.digest);n&&(t=n)}let e=t!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?reactExports.createElement(RSCErrorHandler,{error:t},e):e}};RenderErrorBoundary.contextType=RSCRouterContext;var errorRedirectHandledMap=new WeakMap;function RSCErrorHandler({children:t,error:e}){let{basename:n}=reactExports.useContext(NavigationContext);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=decodeRedirectErrorDigest(e.digest);if(i){let o=errorRedirectHandledMap.get(e);if(o)throw o;let u=parseToInfo(i.location,n);if(isBrowser&&!errorRedirectHandledMap.get(e))if(u.isExternal||i.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:i.replace}));throw errorRedirectHandledMap.set(e,l),l}return reactExports.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return t}function RenderedRoute({routeContext:t,match:e,children:n}){let i=reactExports.useContext(DataRouterContext);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),reactExports.createElement(RouteContext.Provider,{value:t},n)}function _renderMatches(t,e=[],n=null,i=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let u=t,l=n?.errors;if(l!=null){let m=u.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);invariant(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),u=u.slice(0,Math.min(u.length,m+1))}let c=!1,f=-1;if(n)for(let m=0;m<u.length;m++){let g=u[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=m),g.route.id){let{loaderData:v,errors:y}=n,w=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!y||y[g.route.id]===void 0);if(g.route.lazy||w){c=!0,f>=0?u=u.slice(0,f+1):u=[u[0]];break}}}let d=n&&i?(m,g)=>{i(m,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:getRoutePattern(n.matches),errorInfo:g})}:void 0;return u.reduceRight((m,g,v)=>{let y,w=!1,T=null,P=null;n&&(y=l&&g.route.id?l[g.route.id]:void 0,T=g.route.errorElement||defaultErrorElement,c&&(f<0&&v===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,P=null):f===v&&(w=!0,P=g.route.hydrateFallbackElement||null)));let A=e.concat(u.slice(0,v+1)),D=()=>{let k;return y?k=T:w?k=P:g.route.Component?k=reactExports.createElement(g.route.Component,null):g.route.element?k=g.route.element:k=m,reactExports.createElement(RenderedRoute,{match:g,routeContext:{outlet:m,matches:A,isDataRoute:n!=null},children:k})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?reactExports.createElement(RenderErrorBoundary,{location:n.location,revalidation:n.revalidation,component:T,error:y,children:D(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:d}):D()},null)}function getDataRouterConsoleError(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(t){let e=reactExports.useContext(DataRouterContext);return invariant(e,getDataRouterConsoleError(t)),e}function useDataRouterState(t){let e=reactExports.useContext(DataRouterStateContext);return invariant(e,getDataRouterConsoleError(t)),e}function useRouteContext(t){let e=reactExports.useContext(RouteContext);return invariant(e,getDataRouterConsoleError(t)),e}function useCurrentRouteId(t){let e=useRouteContext(t),n=e.matches[e.matches.length-1];return invariant(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useNavigation(){return useDataRouterState("useNavigation").navigation}function useRevalidator(){let t=useDataRouterContext("useRevalidator"),e=useDataRouterState("useRevalidator"),n=reactExports.useCallback(async()=>{await t.router.revalidate()},[t.router]);return reactExports.useMemo(()=>({revalidate:n,state:e.revalidation}),[n,e.revalidation])}function useLoaderData(){let t=useDataRouterState("useLoaderData"),e=useCurrentRouteId("useLoaderData");return t.loaderData[e]}function useRouteLoaderData(t){return useDataRouterState("useRouteLoaderData").loaderData[t]}function useRouteError(){let t=reactExports.useContext(RouteErrorContext),e=useDataRouterState("useRouteError"),n=useCurrentRouteId("useRouteError");return t!==void 0?t:e.errors?.[n]}function useNavigateStable(){let{router:t}=useDataRouterContext("useNavigate"),e=useCurrentRouteId("useNavigate"),n=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{n.current=!0}),reactExports.useCallback(async(o,u={})=>{warning$1(n.current,navigateEffectWarning),n.current&&(typeof o=="number"?await t.navigate(o):await t.navigate(o,{fromRouteId:e,...u}))},[t,e])}var alreadyWarned={};function warningOnce(t,e,n){!e&&!alreadyWarned[t]&&(alreadyWarned[t]=!0,warning$1(!1,n))}var alreadyWarned2={};function warnOnce(t,e){!t&&!alreadyWarned2[e]&&(alreadyWarned2[e]=!0,console.warn(e))}var USE_OPTIMISTIC="useOptimistic",useOptimisticImpl=React$1[USE_OPTIMISTIC],stableUseOptimisticSetter=()=>{};function useOptimisticSafe(t){return useOptimisticImpl?useOptimisticImpl(t):[t,stableUseOptimisticSetter]}function mapRouteProperties(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&warning$1(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:reactExports.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&warning$1(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:reactExports.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&warning$1(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:reactExports.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var hydrationRouteProperties=["HydrateFallback","hydrateFallbackElement"],Deferred=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function RouterProvider({router:t,flushSync:e,onError:n,unstable_useTransitions:i}){i=useIsRSCRouterContext()||i;let[u,l]=reactExports.useState(t.state),[c,f]=useOptimisticSafe(u),[d,m]=reactExports.useState(),[g,v]=reactExports.useState({isTransitioning:!1}),[y,w]=reactExports.useState(),[T,P]=reactExports.useState(),[A,D]=reactExports.useState(),k=reactExports.useRef(new Map),j=reactExports.useCallback((G,{deletedFetchers:F,newErrors:K,flushSync:Q,viewTransitionOpts:ie})=>{K&&n&&Object.values(K).forEach(oe=>n(oe,{location:G.location,params:G.matches[0]?.params??{},unstable_pattern:getRoutePattern(G.matches)})),G.fetchers.forEach((oe,le)=>{oe.data!==void 0&&k.current.set(le,oe.data)}),F.forEach(oe=>k.current.delete(oe)),warnOnce(Q===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let te=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(warnOnce(ie==null||te,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ie||!te){e&&Q?e(()=>l(G)):i===!1?l(G):reactExports.startTransition(()=>{i===!0&&f(oe=>getOptimisticRouterState(oe,G)),l(G)});return}if(e&&Q){e(()=>{T&&(y?.resolve(),T.skipTransition()),v({isTransitioning:!0,flushSync:!0,currentLocation:ie.currentLocation,nextLocation:ie.nextLocation})});let oe=t.window.document.startViewTransition(()=>{e(()=>l(G))});oe.finished.finally(()=>{e(()=>{w(void 0),P(void 0),m(void 0),v({isTransitioning:!1})})}),e(()=>P(oe));return}T?(y?.resolve(),T.skipTransition(),D({state:G,currentLocation:ie.currentLocation,nextLocation:ie.nextLocation})):(m(G),v({isTransitioning:!0,flushSync:!1,currentLocation:ie.currentLocation,nextLocation:ie.nextLocation}))},[t.window,e,T,y,i,f,n]);reactExports.useLayoutEffect(()=>t.subscribe(j),[t,j]),reactExports.useEffect(()=>{g.isTransitioning&&!g.flushSync&&w(new Deferred)},[g]),reactExports.useEffect(()=>{if(y&&d&&t.window){let G=d,F=y.promise,K=t.window.document.startViewTransition(async()=>{i===!1?l(G):reactExports.startTransition(()=>{i===!0&&f(Q=>getOptimisticRouterState(Q,G)),l(G)}),await F});K.finished.finally(()=>{w(void 0),P(void 0),m(void 0),v({isTransitioning:!1})}),P(K)}},[d,y,t.window,i,f]),reactExports.useEffect(()=>{y&&d&&c.location.key===d.location.key&&y.resolve()},[y,T,c.location,d]),reactExports.useEffect(()=>{!g.isTransitioning&&A&&(m(A.state),v({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}),D(void 0))},[g.isTransitioning,A]);let B=reactExports.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:G=>t.navigate(G),push:(G,F,K)=>t.navigate(G,{state:F,preventScrollReset:K?.preventScrollReset}),replace:(G,F,K)=>t.navigate(G,{replace:!0,state:F,preventScrollReset:K?.preventScrollReset})}),[t]),Z=t.basename||"/",R=reactExports.useMemo(()=>({router:t,navigator:B,static:!1,basename:Z,onError:n}),[t,B,Z,n]);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(DataRouterContext.Provider,{value:R},reactExports.createElement(DataRouterStateContext.Provider,{value:c},reactExports.createElement(FetchersContext.Provider,{value:k.current},reactExports.createElement(ViewTransitionContext.Provider,{value:g},reactExports.createElement(Router,{basename:Z,location:c.location,navigationType:c.historyAction,navigator:B,unstable_useTransitions:i},reactExports.createElement(MemoizedDataRoutes,{routes:t.routes,future:t.future,state:c,onError:n})))))),null)}function getOptimisticRouterState(t,e){return{...t,navigation:e.navigation.state!=="idle"?e.navigation:t.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:t.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:t.actionData,fetchers:e.fetchers}}var MemoizedDataRoutes=reactExports.memo(DataRoutes);function DataRoutes({routes:t,future:e,state:n,onError:i}){return useRoutesImpl(t,void 0,n,i,e)}function Outlet(t){return useOutlet(t.context)}function Router({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:u=!1,unstable_useTransitions:l}){invariant(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),f=reactExports.useMemo(()=>({basename:c,navigator:o,static:u,unstable_useTransitions:l,future:{}}),[c,o,u,l]);typeof n=="string"&&(n=parsePath(n));let{pathname:d="/",search:m="",hash:g="",state:v=null,key:y="default"}=n,w=reactExports.useMemo(()=>{let T=stripBasename(d,c);return T==null?null:{location:{pathname:T,search:m,hash:g,state:v,key:y},navigationType:i}},[c,d,m,g,v,y,i]);return warning$1(w!=null,`<Router basename="${c}"> is not able to match the URL "${d}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:reactExports.createElement(NavigationContext.Provider,{value:f},reactExports.createElement(LocationContext.Provider,{children:e,value:w}))}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function isButtonElement(t){return isHtmlElement(t)&&t.tagName.toLowerCase()==="button"}function isFormElement(t){return isHtmlElement(t)&&t.tagName.toLowerCase()==="form"}function isInputElement(t){return isHtmlElement(t)&&t.tagName.toLowerCase()==="input"}function isModifiedEvent(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function shouldProcessLinkClick(t,e){return t.button===0&&(!e||e==="_self")&&!isModifiedEvent(t)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(t){return t!=null&&!supportedFormEncTypes.has(t)?(warning$1(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):t}function getFormSubmissionInfo(t,e){let n,i,o,u,l;if(isFormElement(t)){let c=t.getAttribute("action");i=c?stripBasename(c,e):null,n=t.getAttribute("method")||defaultMethod,o=getFormEncType(t.getAttribute("enctype"))||defaultEncType,u=new FormData(t)}else if(isButtonElement(t)||isInputElement(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||c.getAttribute("action");if(i=f?stripBasename(f,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||defaultMethod,o=getFormEncType(t.getAttribute("formenctype"))||getFormEncType(c.getAttribute("enctype"))||defaultEncType,u=new FormData(c,t),!isFormDataSubmitterSupported()){let{name:d,type:m,value:g}=t;if(m==="image"){let v=d?`${d}.`:"";u.append(`${v}x`,"0"),u.append(`${v}y`,"0")}else d&&u.append(d,g)}}else{if(isHtmlElement(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=defaultMethod,i=null,o=defaultEncType,l=t}return u&&o==="text/plain"&&(l=u,u=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:u,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function invariant2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function singleFetchUrl(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&stripBasename(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function loadRouteModule(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function getKeyedPrefetchLinks(t,e,n){let i=await Promise.all(t.map(async o=>{let u=e.routes[o.route.id];if(u){let l=await loadRouteModule(u,n);return l.links?l.links():[]}return[]}));return dedupeLinkDescriptors(i.flat(1).filter(isHtmlLinkDescriptor).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function getNewMatchesForLinks(t,e,n,i,o,u){let l=(f,d)=>n[d]?f.route.id!==n[d].route.id:!0,c=(f,d)=>n[d].pathname!==f.pathname||n[d].route.path?.endsWith("*")&&n[d].params["*"]!==f.params["*"];return u==="assets"?e.filter((f,d)=>l(f,d)||c(f,d)):u==="data"?e.filter((f,d)=>{let m=i.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(l(f,d)||c(f,d))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function getModuleLinkHrefs(t,e,{includeHydrateFallback:n}={}){return dedupeHrefs(t.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function dedupeHrefs(t){return[...new Set(t)]}function sortKeys(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function dedupeLinkDescriptors(t,e){let n=new Set;return new Set(e),t.reduce((i,o)=>{let u=JSON.stringify(sortKeys(o));return n.has(u)||(n.add(u),i.push({key:u,link:o})),i},[])}function useDataRouterContext2(){let t=reactExports.useContext(DataRouterContext);return invariant2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function useDataRouterStateContext(){let t=reactExports.useContext(DataRouterStateContext);return invariant2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let t=reactExports.useContext(FrameworkContext);return invariant2(t,"You must render this element inside a <HydratedRouter> element"),t}function usePrefetchBehavior(t,e){let n=reactExports.useContext(FrameworkContext),[i,o]=reactExports.useState(!1),[u,l]=reactExports.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:d,onMouseLeave:m,onTouchStart:g}=e,v=reactExports.useRef(null);reactExports.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let T=A=>{A.forEach(D=>{l(D.isIntersecting)})},P=new IntersectionObserver(T,{threshold:.5});return v.current&&P.observe(v.current),()=>{P.disconnect()}}},[t]),reactExports.useEffect(()=>{if(i){let T=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(T)}}},[i]);let y=()=>{o(!0)},w=()=>{o(!1),l(!1)};return n?t!=="intent"?[u,v,{}]:[u,v,{onFocus:composeEventHandlers$1(c,y),onBlur:composeEventHandlers$1(f,w),onMouseEnter:composeEventHandlers$1(d,y),onMouseLeave:composeEventHandlers$1(m,w),onTouchStart:composeEventHandlers$1(g,y)}]:[!1,v,{}]}function composeEventHandlers$1(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function PrefetchPageLinks({page:t,...e}){let{router:n}=useDataRouterContext2(),i=reactExports.useMemo(()=>matchRoutes(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?reactExports.createElement(PrefetchPageLinksImpl,{page:t,matches:i,...e}):null}function useKeyedPrefetchLinks(t){let{manifest:e,routeModules:n}=useFrameworkContext(),[i,o]=reactExports.useState([]);return reactExports.useEffect(()=>{let u=!1;return getKeyedPrefetchLinks(t,e,n).then(l=>{u||o(l)}),()=>{u=!0}},[t,e,n]),i}function PrefetchPageLinksImpl({page:t,matches:e,...n}){let i=useLocation(),{manifest:o,routeModules:u}=useFrameworkContext(),{basename:l}=useDataRouterContext2(),{loaderData:c,matches:f}=useDataRouterStateContext(),d=reactExports.useMemo(()=>getNewMatchesForLinks(t,e,f,o,i,"data"),[t,e,f,o,i]),m=reactExports.useMemo(()=>getNewMatchesForLinks(t,e,f,o,i,"assets"),[t,e,f,o,i]),g=reactExports.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let w=new Set,T=!1;if(e.forEach(A=>{let D=o.routes[A.route.id];!D||!D.hasLoader||(!d.some(k=>k.route.id===A.route.id)&&A.route.id in c&&u[A.route.id]?.shouldRevalidate||D.hasClientLoader?T=!0:w.add(A.route.id))}),w.size===0)return[];let P=singleFetchUrl(t,l,"data");return T&&w.size>0&&P.searchParams.set("_routes",e.filter(A=>w.has(A.route.id)).map(A=>A.route.id).join(",")),[P.pathname+P.search]},[l,c,i,o,d,e,t,u]),v=reactExports.useMemo(()=>getModuleLinkHrefs(m,o),[m,o]),y=useKeyedPrefetchLinks(m);return reactExports.createElement(reactExports.Fragment,null,g.map(w=>reactExports.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),v.map(w=>reactExports.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),y.map(({key:w,link:T})=>reactExports.createElement("link",{key:w,nonce:n.nonce,...T})))}function mergeRefs(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var isBrowser2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser2&&(window.__reactRouterVersion="7.11.0")}catch{}function createBrowserRouter(t,e){return createRouter({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:createBrowserHistory({window:e?.window}),hydrationData:e?.hydrationData||parseHydrationData(),routes:t,mapRouteProperties,hydrationRouteProperties,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window,unstable_instrumentations:e?.unstable_instrumentations}).initialize()}function parseHydrationData(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:deserializeErrors(t.errors)}),t}function deserializeErrors(t){if(!t)return null;let e=Object.entries(t),n={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")n[i]=new ErrorResponseImpl(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let l=new u(o.message);l.stack="",n[i]=l}catch{}}if(n[i]==null){let u=new Error(o.message);u.stack="",n[i]=u}}else n[i]=o;return n}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link$1=reactExports.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:u,replace:l,state:c,target:f,to:d,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:v,...y},w){let{basename:T,unstable_useTransitions:P}=reactExports.useContext(NavigationContext),A=typeof d=="string"&&ABSOLUTE_URL_REGEX2.test(d),D=parseToInfo(d,T);d=D.to;let k=useHref(d,{relative:o}),[j,B,Z]=usePrefetchBehavior(i,y),R=useLinkClickHandler(d,{replace:l,state:c,target:f,preventScrollReset:m,relative:o,viewTransition:g,unstable_defaultShouldRevalidate:v,unstable_useTransitions:P});function G(K){e&&e(K),K.defaultPrevented||R(K)}let F=reactExports.createElement("a",{...y,...Z,href:D.absoluteURL||k,onClick:D.isExternal||u?e:G,ref:mergeRefs(w,B),target:f,"data-discover":!A&&n==="render"?"true":void 0});return j&&!A?reactExports.createElement(reactExports.Fragment,null,F,reactExports.createElement(PrefetchPageLinks,{page:k})):F});Link$1.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:u,to:l,viewTransition:c,children:f,...d},m){let g=useResolvedPath(l,{relative:d.relative}),v=useLocation(),y=reactExports.useContext(DataRouterStateContext),{navigator:w,basename:T}=reactExports.useContext(NavigationContext),P=y!=null&&useViewTransitionState(g)&&c===!0,A=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,D=v.pathname,k=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(D=D.toLowerCase(),k=k?k.toLowerCase():null,A=A.toLowerCase()),k&&T&&(k=stripBasename(k,T)||k);const j=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let B=D===A||!o&&D.startsWith(A)&&D.charAt(j)==="/",Z=k!=null&&(k===A||!o&&k.startsWith(A)&&k.charAt(A.length)==="/"),R={isActive:B,isPending:Z,isTransitioning:P},G=B?e:void 0,F;typeof i=="function"?F=i(R):F=[i,B?"active":null,Z?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let K=typeof u=="function"?u(R):u;return reactExports.createElement(Link$1,{...d,"aria-current":G,className:F,ref:m,style:K,to:l,viewTransition:c},typeof f=="function"?f(R):f)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:u,method:l=defaultMethod,action:c,onSubmit:f,relative:d,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:v,...y},w)=>{let{unstable_useTransitions:T}=reactExports.useContext(NavigationContext),P=useSubmit(),A=useFormAction(c,{relative:d}),D=l.toLowerCase()==="get"?"get":"post",k=typeof c=="string"&&ABSOLUTE_URL_REGEX2.test(c),j=B=>{if(f&&f(B),B.defaultPrevented)return;B.preventDefault();let Z=B.nativeEvent.submitter,R=Z?.getAttribute("formmethod")||l,G=()=>P(Z||B.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:o,state:u,relative:d,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:v});T&&n!==!1?reactExports.startTransition(()=>G()):G()};return reactExports.createElement("form",{ref:w,method:D,action:A,onSubmit:i?f:j,...y,"data-discover":!k&&t==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(t){let e=reactExports.useContext(DataRouterContext);return invariant(e,getDataRouterConsoleError2(t)),e}function useLinkClickHandler(t,{target:e,replace:n,state:i,preventScrollReset:o,relative:u,viewTransition:l,unstable_defaultShouldRevalidate:c,unstable_useTransitions:f}={}){let d=useNavigate(),m=useLocation(),g=useResolvedPath(t,{relative:u});return reactExports.useCallback(v=>{if(shouldProcessLinkClick(v,e)){v.preventDefault();let y=n!==void 0?n:createPath$1(m)===createPath$1(g),w=()=>d(t,{replace:y,state:i,preventScrollReset:o,relative:u,viewTransition:l,unstable_defaultShouldRevalidate:c});f?reactExports.startTransition(()=>w()):w()}},[m,d,g,n,i,e,t,o,u,l,c,f])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:t}=useDataRouterContext3("useSubmit"),{basename:e}=reactExports.useContext(NavigationContext),n=useRouteId(),i=t.fetch,o=t.navigate;return reactExports.useCallback(async(u,l={})=>{let{action:c,method:f,encType:d,formData:m,body:g}=getFormSubmissionInfo(u,e);if(l.navigate===!1){let v=l.fetcherKey||getUniqueFetcherId();await i(v,n,l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:m,body:g,formMethod:l.method||f,formEncType:l.encType||d,flushSync:l.flushSync})}else await o(l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:m,body:g,formMethod:l.method||f,formEncType:l.encType||d,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,o,e,n])}function useFormAction(t,{relative:e}={}){let{basename:n}=reactExports.useContext(NavigationContext),i=reactExports.useContext(RouteContext);invariant(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),u={...useResolvedPath(t||".",{relative:e})},l=useLocation();if(t==null){u.search=l.search;let c=new URLSearchParams(u.search),f=c.getAll("index");if(f.some(m=>m==="")){c.delete("index"),f.filter(g=>g).forEach(g=>c.append("index",g));let m=c.toString();u.search=m?`?${m}`:""}}return(!t||t===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:joinPaths([n,u.pathname])),createPath$1(u)}function useViewTransitionState(t,{relative:e}={}){let n=reactExports.useContext(ViewTransitionContext);invariant(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=useDataRouterContext3("useViewTransitionState"),o=useResolvedPath(t,{relative:e});if(!n.isTransitioning)return!1;let u=stripBasename(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=stripBasename(n.nextLocation.pathname,i)||n.nextLocation.pathname;return matchPath(o.pathname,l)!=null||matchPath(o.pathname,u)!=null}var M=(t,e,n,i,o,u,l,c)=>{let f=document.documentElement,d=["light","dark"];function m(y){(Array.isArray(t)?t:[t]).forEach(w=>{let T=w==="class",P=T&&u?o.map(A=>u[A]||A):o;T?(f.classList.remove(...P),f.classList.add(u&&u[y]?u[y]:y)):f.setAttribute(w,y)}),g(y)}function g(y){c&&d.includes(y)&&(f.style.colorScheme=y)}function v(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(i)m(i);else try{let y=localStorage.getItem(e)||n,w=l&&y==="system"?v():y;m(w)}catch{}},b=["light","dark"],I="(prefers-color-scheme: dark)",O=typeof window>"u",x=reactExports.createContext(void 0),U={setTheme:t=>{},themes:[]},z=()=>{var t;return(t=reactExports.useContext(x))!=null?t:U},J=t=>reactExports.useContext(x)?reactExports.createElement(reactExports.Fragment,null,t.children):reactExports.createElement(V,{...t}),N=["light","dark"],V=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:n=!0,enableColorScheme:i=!0,storageKey:o="theme",themes:u=N,defaultTheme:l=n?"system":"light",attribute:c="data-theme",value:f,children:d,nonce:m,scriptProps:g})=>{let[v,y]=reactExports.useState(()=>H(o,l)),[w,T]=reactExports.useState(()=>v==="system"?E():v),P=f?Object.values(f):u,A=reactExports.useCallback(B=>{let Z=B;if(!Z)return;B==="system"&&n&&(Z=E());let R=f?f[Z]:Z,G=e?W(m):null,F=document.documentElement,K=Q=>{Q==="class"?(F.classList.remove(...P),R&&F.classList.add(R)):Q.startsWith("data-")&&(R?F.setAttribute(Q,R):F.removeAttribute(Q))};if(Array.isArray(c)?c.forEach(K):K(c),i){let Q=b.includes(l)?l:null,ie=b.includes(Z)?Z:Q;F.style.colorScheme=ie}G?.()},[m]),D=reactExports.useCallback(B=>{let Z=typeof B=="function"?B(v):B;y(Z);try{localStorage.setItem(o,Z)}catch{}},[v]),k=reactExports.useCallback(B=>{let Z=E(B);T(Z),v==="system"&&n&&!t&&A("system")},[v,t]);reactExports.useEffect(()=>{let B=window.matchMedia(I);return B.addListener(k),k(B),()=>B.removeListener(k)},[k]),reactExports.useEffect(()=>{let B=Z=>{Z.key===o&&(Z.newValue?y(Z.newValue):D(l))};return window.addEventListener("storage",B),()=>window.removeEventListener("storage",B)},[D]),reactExports.useEffect(()=>{A(t??v)},[t,v]);let j=reactExports.useMemo(()=>({theme:v,setTheme:D,forcedTheme:t,resolvedTheme:v==="system"?w:v,themes:n?[...u,"system"]:u,systemTheme:n?w:void 0}),[v,D,t,w,n,u]);return reactExports.createElement(x.Provider,{value:j},reactExports.createElement(_$2,{forcedTheme:t,storageKey:o,attribute:c,enableSystem:n,enableColorScheme:i,defaultTheme:l,value:f,themes:u,nonce:m,scriptProps:g}),d)},_$2=reactExports.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:i,enableColorScheme:o,defaultTheme:u,value:l,themes:c,nonce:f,scriptProps:d})=>{let m=JSON.stringify([n,e,u,t,c,l,i,o]).slice(1,-1);return reactExports.createElement("script",{...d,suppressHydrationWarning:!0,nonce:typeof window>"u"?f:"",dangerouslySetInnerHTML:{__html:`(${M.toString()})(${m})`}})}),H=(t,e)=>{if(O)return;let n;try{n=localStorage.getItem(t)||void 0}catch{}return n||e},W=t=>{let e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},E=t=>(t||(t=window.matchMedia(I)),t.matches?"dark":"light");function useMediaQuery(t){const e=typeof document>"u",n=l=>e?!1:window.matchMedia(l).matches,[i,o]=reactExports.useState(n(t));function u(){o(n(t))}return reactExports.useEffect(()=>{if(e)return;const l=window.matchMedia(t);return u(),l.addEventListener("change",u),()=>{l.removeEventListener("change",u)}},[t]),i}function validateRenderers(t){if(!t)return{};const e={};for(const n in t){const i=t[n];if(typeof i=="function")e[n]={base:i};else if(typeof i=="object"&&"base"in i)e[n]=i;else throw new Error(`Renderer for "${n}" must be either a function or an object containing a "base" renderer.`)}return e}function mergeRenderers(t,e){const n={};for(const i of t)for(const o in i){const u=typeof i[o]=="function"?{base:i[o]}:i[o];n[o]=Object.assign(Object.assign({},n[o]),u)}return e?validateRenderers(n):n}function walkOutputs(t,e){t.forEach(n=>{"data"in n&&n.data?Object.entries(n.data).forEach(([,i])=>{e(i)}):e(n)})}function ensureString$1(t,e=""){return t?typeof t=="string"?t:t.join?t.join(e):t:""}var __rest$2=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n};function convertToIOutputs(t,e){return t.map(n=>{switch(n.output_type){case"stream":{const{hash:i}=n,o=__rest$2(n,["hash"]);return i&&e[i]?Object.assign(Object.assign({},o),{text:e[i][0]}):o}case"error":{const{hash:i,traceback:o}=n,u=__rest$2(n,["hash","traceback"]);return i&&e[i]?Object.assign(Object.assign({},u),{traceback:[e[i][0]]}):Object.assign(Object.assign({},u),{traceback:[o]})}default:return Object.assign(Object.assign({},n),{data:Object.entries(n.data).reduce((i,[o,u])=>{let{content:l}=u;const{hash:c}=u;if(c&&e[c]&&([l]=e[c]),l&&o!=="application/javascript"&&o.startsWith("application/"))try{l=JSON.parse(l)}catch{console.debug(`${o} is not json parsable, leaving as is`)}if(l&&o.startsWith("image/")&&!o.startsWith("image/svg")&&l.startsWith("data:")&&l.includes(";base64,")){const[f]=l.split(";base64,").reverse();l=f}return l?Object.assign(Object.assign({},i),{[o]:l}):i},{})})}})}var KnownCellOutputMimeTypes;(function(t){t.TextPlain="text/plain",t.TextHtml="text/html",t.TextLatex="text/latex",t.ImagePng="image/png",t.ImageBmp="image/bmp",t.ImageJpeg="image/jpeg",t.ImageSvg="image/svg+xml",t.ImageGif="image/gif",t.AppJson="application/json",t.AppGeoJson="application/geo+json",t.AppPlotly="application/vnd.plotly.v1+json",t.AppVega="application/vnd.vega.v5+json",t.AppVegaLite="application/vnd.vegalite.v3+json",t.AppVirtualDom="application/vdom.v1+json",t.AppJavascript="application/javascript",t.AppWidgetView="application/vnd.jupyter.widget-view+json",t.AppWidgetState="application/vnd.jupyter.widget-state+json",t.AppBokehLoad="application/vnd.bokehjs_load.v0+json",t.AppBokehExec="application/vnd.bokehjs_exec.v0+json"})(KnownCellOutputMimeTypes||(KnownCellOutputMimeTypes={}));var CELL_TYPES;(function(t){t.raw="raw",t.markdown="markdown",t.code="code"})(CELL_TYPES||(CELL_TYPES={}));const own$3={}.hasOwnProperty;function zwitch(t,e){const n=e||{};function i(o,...u){let l=i.invalid;const c=i.handlers;if(o&&own$3.call(o,t)){const f=String(o[t]);l=own$3.call(c,f)?c[f]:i.unknown}if(l)return l.call(this,o,...u)}return i.handlers=n.handlers||{},i.invalid=n.invalid,i.unknown=n.unknown,i}const handle$e=zwitch("operator",{unknown:unknownOperator$6,invalid:exists$6,handlers:{"=":exact$6,"^=":begins$6,"$=":ends$6,"*=":containsString$6,"~=":containsArray$6}});function attribute$7(t,e){let n=-1;for(;++n<t.attrs.length;)if(!handle$e(t.attrs[n],e))return!1;return!0}function exists$6(t,e){return e[t.name]!==null&&e[t.name]!==void 0}function exact$6(t,e){return exists$6(t,e)&&String(e[t.name])===t.value}function containsArray$6(t,e){const n=e[t.name];return n==null?!1:Array.isArray(n)&&n.includes(t.value)?!0:String(n)===t.value}function begins$6(t,e){const n=e[t.name];return!!(t.value&&typeof n=="string"&&n.slice(0,t.value.length)===t.value)}function ends$6(t,e){const n=e[t.name];return!!(t.value&&typeof n=="string"&&n.slice(-t.value.length)===t.value)}function containsString$6(t,e){const n=e[t.name];return!!(t.value&&typeof n=="string"&&n.includes(t.value))}function unknownOperator$6(t){throw new Error("Unknown operator `"+t.operator+"`")}function name$6(t,e){return t.tagName==="*"||t.tagName===e.type}const whitespace$1=new Set([9,10,12,13,32]),ZERO=48,NINE=57;function parse$d(t){if(t=t.trim().toLowerCase(),t==="even")return[2,0];if(t==="odd")return[2,1];let e=0,n=0,i=u(),o=l();if(e<t.length&&t.charAt(e)==="n"&&(e++,n=i*(o??1),c(),e<t.length?(i=u(),c(),o=l()):i=o=0),o===null||e<t.length)throw new Error(`n-th rule couldn't be parsed ('${t}')`);return[n,i*o];function u(){return t.charAt(e)==="-"?(e++,-1):(t.charAt(e)==="+"&&e++,1)}function l(){const f=e;let d=0;for(;e<t.length&&t.charCodeAt(e)>=ZERO&&t.charCodeAt(e)<=NINE;)d=d*10+(t.charCodeAt(e)-ZERO),e++;return e===f?null:d}function c(){for(;e<t.length&&whitespace$1.has(t.charCodeAt(e));)e++}}var boolbase$1,hasRequiredBoolbase;function requireBoolbase(){return hasRequiredBoolbase||(hasRequiredBoolbase=1,boolbase$1={trueFunc:function(){return!0},falseFunc:function(){return!1}}),boolbase$1}var boolbaseExports=requireBoolbase();const boolbase=getDefaultExportFromCjs(boolbaseExports);function compile(t){const e=t[0],n=t[1]-1;if(n<0&&e<=0)return boolbase.falseFunc;if(e===-1)return u=>u<=n;if(e===0)return u=>u===n;if(e===1)return n<0?boolbase.trueFunc:u=>u>=n;const i=Math.abs(e),o=(n%i+i)%i;return e>1?u=>u>=n&&u%i===o:u=>u<=n&&u%i===o}function nthCheck$8(t){return compile(parse$d(t))}function parent$7(t){return Array.isArray(t.children)}const nthCheck$7=nthCheck$8.default||nthCheck$8,handle$d=zwitch("name",{unknown:unknownPseudo$7,invalid:invalidPseudo$7,handlers:{any:matches$7,blank:empty$l,empty:empty$l,"first-child":firstChild$7,"first-of-type":firstOfType$7,has:has$a,"last-child":lastChild$7,"last-of-type":lastOfType$7,matches:matches$7,not:not$7,"nth-child":nthChild$7,"nth-last-child":nthLastChild$7,"nth-of-type":nthOfType$7,"nth-last-of-type":nthLastOfType$7,"only-child":onlyChild$7,"only-of-type":onlyOfType$7,root:root$b,scope:scope$7}});pseudo$7.needsIndex=["any","first-child","first-of-type","last-child","last-of-type","matches","not","nth-child","nth-last-child","nth-of-type","nth-last-of-type","only-child","only-of-type"];function pseudo$7(t,e,n,i,o){const u=t.pseudos;let l=-1;for(;++l<u.length;)if(!handle$d(u[l],e,n,i,o))return!1;return!0}function empty$l(t,e){return parent$7(e)?e.children.length===0:!("value"in e)}function firstChild$7(t,e,n,i,o){return assertDeep$7(o,t),o.nodeIndex===0}function firstOfType$7(t,e,n,i,o){return assertDeep$7(o,t),o.typeIndex===0}function has$a(t,e,n,i,o){const u={type:"root",children:parent$7(e)?e.children:[]},l={...o,found:!1,shallow:!1,one:!0,scopeNodes:[e],results:[],rootQuery:queryToSelectors$6(t.value)};return walk$7(l,u),l.results.length>0}function lastChild$7(t,e,n,i,o){return assertDeep$7(o,t),typeof o.nodeCount=="number"&&o.nodeIndex===o.nodeCount-1}function lastOfType$7(t,e,n,i,o){return assertDeep$7(o,t),typeof o.typeCount=="number"&&o.typeIndex===o.typeCount-1}function matches$7(t,e,n,i,o){const u={...o,found:!1,shallow:!1,one:!0,scopeNodes:[e],results:[],rootQuery:queryToSelectors$6(t.value)};return walk$7(u,e),u.results[0]===e}function not$7(t,e,n,i,o){return!matches$7(t,e,n,i,o)}function nthChild$7(t,e,n,i,o){const u=getCachedNthCheck$7(t);return assertDeep$7(o,t),typeof o.nodeIndex=="number"&&u(o.nodeIndex)}function nthLastChild$7(t,e,n,i,o){const u=getCachedNthCheck$7(t);return assertDeep$7(o,t),typeof o.nodeCount=="number"&&typeof o.nodeIndex=="number"&&u(o.nodeCount-o.nodeIndex-1)}function nthLastOfType$7(t,e,n,i,o){const u=getCachedNthCheck$7(t);return assertDeep$7(o,t),typeof o.typeIndex=="number"&&typeof o.typeCount=="number"&&u(o.typeCount-1-o.typeIndex)}function nthOfType$7(t,e,n,i,o){const u=getCachedNthCheck$7(t);return assertDeep$7(o,t),typeof o.typeIndex=="number"&&u(o.typeIndex)}function onlyChild$7(t,e,n,i,o){return assertDeep$7(o,t),o.nodeCount===1}function onlyOfType$7(t,e,n,i,o){return assertDeep$7(o,t),o.typeCount===1}function root$b(t,e,n,i){return e&&!i}function scope$7(t,e,n,i,o){return e&&o.scopeNodes.includes(e)}function invalidPseudo$7(){throw new Error("Invalid pseudo-selector")}function unknownPseudo$7(t){throw t.name?new Error("Unknown pseudo-selector `"+t.name+"`"):new Error("Unexpected pseudo-element or empty pseudo-class")}function assertDeep$7(t,e){if(t.shallow)throw new Error("Cannot use `:"+e.name+"` without parent")}function getCachedNthCheck$7(t){let e=t._cachedFn;return e||(e=nthCheck$7(t.value),t._cachedFn=e),e}function test$7(t,e,n,i,o){if(t.id)throw new Error("Invalid selector: id");if(t.classNames)throw new Error("Invalid selector: class");return!!(e&&(!t.tagName||name$6(t,e))&&(!t.attrs||attribute$7(t,e))&&(!t.pseudos||pseudo$7(t,e,n,i,o)))}const empty$k=[];function queryToSelectors$6(t){return t===null?{type:"selectors",selectors:[]}:t.type==="ruleSet"?{type:"selectors",selectors:[t]}:t}function walk$7(t,e){e&&one$a(t,[],e,void 0,void 0)}function one$a(t,e,n,i,o){let u={directChild:void 0,descendant:void 0,adjacentSibling:void 0,generalSibling:void 0};return u=applySelectors$7(t,combine$7(e,t.rootQuery.selectors),n,i,o),parent$7(n)&&!t.shallow&&!(t.one&&t.found)&&all$c(t,u,n),u}function all$c(t,e,n){const i=combine$7(e.descendant,e.directChild);let o,u=-1;const l={count:0,types:new Map},c={count:0,types:new Map};for(;++u<n.children.length;)count$9(l,n.children[u]);for(u=-1;++u<n.children.length;){const d=n.children[u].type.toUpperCase();t.nodeIndex=c.count,t.typeIndex=c.types.get(d)||0,t.nodeCount=l.count,t.typeCount=l.types.get(d);const m=combine$7(i,o),g=one$a(t,m,n.children[u],u,n);if(o=combine$7(g.generalSibling,g.adjacentSibling),t.one&&t.found)break;count$9(c,n.children[u])}}function applySelectors$7(t,e,n,i,o){const u={directChild:void 0,descendant:void 0,adjacentSibling:void 0,generalSibling:void 0};let l=-1;for(;++l<e.length;){const c=e[l];if(t.one&&t.found)break;if(t.shallow&&c.rule.rule)throw new Error("Expected selector without nesting");if(test$7(c.rule,n,i,o,t)){const f=c.rule.rule;if(f){const d={type:"ruleSet",rule:f},m=f.nestingOperator==="+"?"adjacentSibling":f.nestingOperator==="~"?"generalSibling":f.nestingOperator===">"?"directChild":"descendant";add$7(u,m,d)}else t.found=!0,t.results.includes(n)||t.results.push(n)}c.rule.nestingOperator===null?add$7(u,"descendant",c):c.rule.nestingOperator==="~"&&add$7(u,"generalSibling",c)}return u}function combine$7(t,e){return t&&e&&t.length>0&&e.length>0?[...t,...e]:t&&t.length>0?t:e&&e.length>0?e:empty$k}function add$7(t,e,n){const i=t[e];i?i.push(n):t[e]=[n]}function count$9(t,e){const n=e.type.toUpperCase(),i=(t.types.get(n)||0)+1;t.count++,t.types.set(n,i)}var lib$g={},parserContext$6={},utils$6={},hasRequiredUtils$6;function requireUtils$6(){return hasRequiredUtils$6||(hasRequiredUtils$6=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(l){return l>="a"&&l<="z"||l>="A"&&l<="Z"||l==="-"||l==="_"}t.isIdentStart=e;function n(l){return l>="a"&&l<="z"||l>="A"&&l<="Z"||l>="0"&&l<="9"||l==="-"||l==="_"}t.isIdent=n;function i(l){return l>="a"&&l<="f"||l>="A"&&l<="F"||l>="0"&&l<="9"}t.isHex=i;function o(l){for(var c=l.length,f="",d=0;d<c;){var m=l.charAt(d);if(t.identSpecialChars[m])f+="\\"+m;else if(m==="_"||m==="-"||m>="A"&&m<="Z"||m>="a"&&m<="z"||d!==0&&m>="0"&&m<="9")f+=m;else{var g=m.charCodeAt(0);if((g&63488)===55296){var v=l.charCodeAt(d++);if((g&64512)!==55296||(v&64512)!==56320)throw Error("UCS-2(decode): illegal sequence");g=((g&1023)<<10)+(v&1023)+65536}f+="\\"+g.toString(16)+" "}d++}return f}t.escapeIdentifier=o;function u(l){for(var c=l.length,f="",d=0,m;d<c;){var g=l.charAt(d);g==='"'?g='\\"':g==="\\"?g="\\\\":(m=t.strReplacementsRev[g])!==void 0&&(g=m),f+=g,d++}return'"'+f+'"'}t.escapeStr=u,t.identSpecialChars={"!":!0,'"':!0,"#":!0,$:!0,"%":!0,"&":!0,"'":!0,"(":!0,")":!0,"*":!0,"+":!0,",":!0,".":!0,"/":!0,";":!0,"<":!0,"=":!0,">":!0,"?":!0,"@":!0,"[":!0,"\\":!0,"]":!0,"^":!0,"`":!0,"{":!0,"|":!0,"}":!0,"~":!0},t.strReplacementsRev={"\n":"\\n","\r":"\\r","	":"\\t","\f":"\\f","\v":"\\v"},t.singleQuoteEscapeChars={n:`
`,r:"\r",t:"	",f:"\f","\\":"\\","'":"'"},t.doubleQuotesEscapeChars={n:`
`,r:"\r",t:"	",f:"\f","\\":"\\",'"':'"'}})(utils$6)),utils$6}var hasRequiredParserContext$6;function requireParserContext$6(){if(hasRequiredParserContext$6)return parserContext$6;hasRequiredParserContext$6=1,Object.defineProperty(parserContext$6,"__esModule",{value:!0});var t=requireUtils$6();function e(n,i,o,u,l,c){var f=n.length,d="";function m(A,D){var k="";for(i++,d=n.charAt(i);i<f;){if(d===A)return i++,k;if(d==="\\"){i++,d=n.charAt(i);var j=void 0;if(d===A)k+=A;else if((j=D[d])!==void 0)k+=j;else if(t.isHex(d)){var B=d;for(i++,d=n.charAt(i);t.isHex(d);)B+=d,i++,d=n.charAt(i);d===" "&&(i++,d=n.charAt(i)),k+=String.fromCharCode(parseInt(B,16));continue}else k+=d}else k+=d;i++,d=n.charAt(i)}return k}function g(){var A="";for(d=n.charAt(i);i<f;){if(t.isIdent(d))A+=d;else if(d==="\\"){if(i++,i>=f)throw Error("Expected symbol but end of file reached.");if(d=n.charAt(i),t.identSpecialChars[d])A+=d;else if(t.isHex(d)){var D=d;for(i++,d=n.charAt(i);t.isHex(d);)D+=d,i++,d=n.charAt(i);d===" "&&(i++,d=n.charAt(i)),A+=String.fromCharCode(parseInt(D,16));continue}else A+=d}else return A;i++,d=n.charAt(i)}return A}function v(){d=n.charAt(i);for(var A=!1;d===" "||d==="	"||d===`
`||d==="\r"||d==="\f";)A=!0,i++,d=n.charAt(i);return A}function y(){var A=w();if(i<f)throw Error('Rule expected but "'+n.charAt(i)+'" found.');return A}function w(){var A=T();if(!A)return null;var D=A;for(d=n.charAt(i);d===",";){if(i++,v(),D.type!=="selectors"&&(D={type:"selectors",selectors:[A]}),A=T(),!A)throw Error('Rule expected after ",".');D.selectors.push(A)}return D}function T(){v();var A={type:"ruleSet"},D=P();if(!D)return null;for(var k=A;D&&(D.type="rule",k.rule=D,k=D,v(),d=n.charAt(i),!(i>=f||d===","||d===")"));)if(l[d]){var j=d;if(i++,v(),D=P(),!D)throw Error('Rule expected after "'+j+'".');D.nestingOperator=j}else D=P(),D&&(D.nestingOperator=null);return A}function P(){for(var A=null;i<f;)if(d=n.charAt(i),d==="*")i++,(A=A||{}).tagName="*";else if(t.isIdentStart(d)||d==="\\")(A=A||{}).tagName=g();else if(d===".")i++,A=A||{},(A.classNames=A.classNames||[]).push(g());else if(d==="#")i++,(A=A||{}).id=g();else if(d==="["){i++,v();var D={name:g()};if(v(),d==="]")i++;else{var k="";if(u[d]&&(k=d,i++,d=n.charAt(i)),i>=f)throw Error('Expected "=" but end of file reached.');if(d!=="=")throw Error('Expected "=" but "'+d+'" found.');D.operator=k+"=",i++,v();var j="";if(D.valueType="string",d==='"')j=m('"',t.doubleQuotesEscapeChars);else if(d==="'")j=m("'",t.singleQuoteEscapeChars);else if(c&&d==="$")i++,j=g(),D.valueType="substitute";else{for(;i<f&&d!=="]";)j+=d,i++,d=n.charAt(i);j=j.trim()}if(v(),i>=f)throw Error('Expected "]" but end of file reached.');if(d!=="]")throw Error('Expected "]" but "'+d+'" found.');i++,D.value=j}A=A||{},(A.attrs=A.attrs||[]).push(D)}else if(d===":"){i++;var B=g(),Z={name:B};if(d==="("){i++;var R="";if(v(),o[B]==="selector")Z.valueType="selector",R=w();else{if(Z.valueType=o[B]||"string",d==='"')R=m('"',t.doubleQuotesEscapeChars);else if(d==="'")R=m("'",t.singleQuoteEscapeChars);else if(c&&d==="$")i++,R=g(),Z.valueType="substitute";else{for(;i<f&&d!==")";)R+=d,i++,d=n.charAt(i);R=R.trim()}v()}if(i>=f)throw Error('Expected ")" but end of file reached.');if(d!==")")throw Error('Expected ")" but "'+d+'" found.');i++,Z.value=R}A=A||{},(A.pseudos=A.pseudos||[]).push(Z)}else break;return A}return y()}return parserContext$6.parseCssSelector=e,parserContext$6}var render$6={},hasRequiredRender$6;function requireRender$6(){if(hasRequiredRender$6)return render$6;hasRequiredRender$6=1,Object.defineProperty(render$6,"__esModule",{value:!0});var t=requireUtils$6();function e(n){var i="";switch(n.type){case"ruleSet":for(var o=n.rule,u=[];o;)o.nestingOperator&&u.push(o.nestingOperator),u.push(e(o)),o=o.rule;i=u.join(" ");break;case"selectors":i=n.selectors.map(e).join(", ");break;case"rule":n.tagName&&(n.tagName==="*"?i="*":i=t.escapeIdentifier(n.tagName)),n.id&&(i+="#"+t.escapeIdentifier(n.id)),n.classNames&&(i+=n.classNames.map(function(l){return"."+t.escapeIdentifier(l)}).join("")),n.attrs&&(i+=n.attrs.map(function(l){return"operator"in l?l.valueType==="substitute"?"["+t.escapeIdentifier(l.name)+l.operator+"$"+l.value+"]":"["+t.escapeIdentifier(l.name)+l.operator+t.escapeStr(l.value)+"]":"["+t.escapeIdentifier(l.name)+"]"}).join("")),n.pseudos&&(i+=n.pseudos.map(function(l){return l.valueType?l.valueType==="selector"?":"+t.escapeIdentifier(l.name)+"("+e(l.value)+")":l.valueType==="substitute"?":"+t.escapeIdentifier(l.name)+"($"+l.value+")":l.valueType==="numeric"?":"+t.escapeIdentifier(l.name)+"("+l.value+")":":"+t.escapeIdentifier(l.name)+"("+t.escapeIdentifier(l.value)+")":":"+t.escapeIdentifier(l.name)}).join(""));break;default:throw Error('Unknown entity type: "'+n.type+'".')}return i}return render$6.renderEntity=e,render$6}var hasRequiredLib$g;function requireLib$g(){if(hasRequiredLib$g)return lib$g;hasRequiredLib$g=1,Object.defineProperty(lib$g,"__esModule",{value:!0});var t=requireParserContext$6(),e=requireRender$6(),n=(function(){function i(){this.pseudos={},this.attrEqualityMods={},this.ruleNestingOperators={},this.substitutesEnabled=!1}return i.prototype.registerSelectorPseudos=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];this.pseudos[f]="selector"}return this},i.prototype.unregisterSelectorPseudos=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];delete this.pseudos[f]}return this},i.prototype.registerNumericPseudos=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];this.pseudos[f]="numeric"}return this},i.prototype.unregisterNumericPseudos=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];delete this.pseudos[f]}return this},i.prototype.registerNestingOperators=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];this.ruleNestingOperators[f]=!0}return this},i.prototype.unregisterNestingOperators=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];delete this.ruleNestingOperators[f]}return this},i.prototype.registerAttrEqualityMods=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];this.attrEqualityMods[f]=!0}return this},i.prototype.unregisterAttrEqualityMods=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];delete this.attrEqualityMods[f]}return this},i.prototype.enableSubstitutes=function(){return this.substitutesEnabled=!0,this},i.prototype.disableSubstitutes=function(){return this.substitutesEnabled=!1,this},i.prototype.parse=function(o){return t.parseCssSelector(o,0,this.pseudos,this.attrEqualityMods,this.ruleNestingOperators,this.substitutesEnabled)},i.prototype.render=function(o){return e.renderEntity(o).trim()},i})();return lib$g.CssSelectorParser=n,lib$g}var libExports$a=requireLib$g();const parser$7=new libExports$a.CssSelectorParser;parser$7.registerAttrEqualityMods("~","^","$","*");parser$7.registerSelectorPseudos("any","matches","not","has");parser$7.registerNestingOperators(">","+","~");function parse$c(t){if(typeof t!="string")throw new TypeError("Expected `string` as selector, not `"+t+"`");return parser$7.parse(t)}function selectAll$5(t,e){const n=createState$8(t,e);return walk$7(n,e||void 0),n.results}function createState$8(t,e){return{rootQuery:queryToSelectors$6(parse$c(t)),results:[],scopeNodes:e?parent$7(e)&&(e.type==="RootNode"||e.type==="root")?e.children:[e]:[],one:!1,shallow:!1,found:!1,typeIndex:void 0,nodeIndex:void 0,typeCount:void 0,nodeCount:void 0}}let random$2=t=>crypto.getRandomValues(new Uint8Array(t)),customRandom$1=(t,e,n)=>{let i=(2<<Math.log2(t.length-1))-1,o=-~(1.6*i*e/t.length);return(u=e)=>{let l="";for(;;){let c=n(o),f=o|0;for(;f--;)if(l+=t[c[f]&i]||"",l.length>=u)return l}}},customAlphabet$1=(t,e=21)=>customRandom$1(t,e|0,random$2);const az="abcdefghijklmnopqrstuvwxyz",alpha=az+az.toUpperCase(),numbers="0123456789",nanoidAZ=customAlphabet$1(alpha,1),nanoidAZ9=customAlphabet$1(alpha+numbers,9);function createId(){return nanoidAZ()+nanoidAZ9()}function toText$1(t){return t?Array.isArray(t)?t.map(e=>!e||typeof e=="string"?e||"":"value"in e?e.value:"children"in e&&e.children?toText$1(e.children):"").join(""):toText$1([t]):""}function copyNode(t){return structuredClone(t)}function slugToUrl(t){if(t!=null)return t.replace(/\.index$/,"").replace(/\./g,"/")}const convert$2=(function(t){if(t==null)return ok$3;if(typeof t=="string")return typeFactory$2(t);if(typeof t=="object")return Array.isArray(t)?anyFactory$3(t):propsFactory$1(t);if(typeof t=="function")return castFactory$3(t);throw new Error("Expected function, string, or object as test")});function anyFactory$3(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=convert$2(t[n]);return castFactory$3(i);function i(...o){let u=-1;for(;++u<e.length;)if(e[u].call(this,...o))return!0;return!1}}function propsFactory$1(t){return castFactory$3(e);function e(n){let i;for(i in t)if(n[i]!==t[i])return!1;return!0}}function typeFactory$2(t){return castFactory$3(e);function e(n){return n&&n.type===t}}function castFactory$3(t){return e;function e(n,...i){return!!(n&&typeof n=="object"&&"type"in n&&t.call(this,n,...i))}}function ok$3(){return!0}const empty$j=[],remove$1=(function(t,e,n){const i=convert$2(n||e),o=!e||e.cascade===void 0||e.cascade===null?!0:e.cascade;return u(t);function u(l,c,f){const d=l.children||empty$j;let m=-1,g=0;if(i(l,c,f))return null;if(d.length>0){for(;++m<d.length;)u(d[m],m,l)&&(d[g++]=d[m]);if(o&&!g)return null;d.length=g}return l}}),handle$c=zwitch("operator",{unknown:unknownOperator$5,invalid:exists$5,handlers:{"=":exact$5,"^=":begins$5,"$=":ends$5,"*=":containsString$5,"~=":containsArray$5}});function attribute$6(t,e){let n=-1;for(;++n<t.attrs.length;)if(!handle$c(t.attrs[n],e))return!1;return!0}function exists$5(t,e){return e[t.name]!==null&&e[t.name]!==void 0}function exact$5(t,e){return exists$5(t,e)&&String(e[t.name])===t.value}function containsArray$5(t,e){const n=e[t.name];return n==null?!1:Array.isArray(n)&&n.includes(t.value)?!0:String(n)===t.value}function begins$5(t,e){const n=e[t.name];return!!(t.value&&typeof n=="string"&&n.slice(0,t.value.length)===t.value)}function ends$5(t,e){const n=e[t.name];return!!(t.value&&typeof n=="string"&&n.slice(-t.value.length)===t.value)}function containsString$5(t,e){const n=e[t.name];return!!(t.value&&typeof n=="string"&&n.includes(t.value))}function unknownOperator$5(t){throw new Error("Unknown operator `"+t.operator+"`")}function name$5(t,e){return t.tagName==="*"||t.tagName===e.type}function parent$6(t){return Array.isArray(t.children)}const nthCheck$6=nthCheck$8.default||nthCheck$8,handle$b=zwitch("name",{unknown:unknownPseudo$6,invalid:invalidPseudo$6,handlers:{any:matches$6,blank:empty$i,empty:empty$i,"first-child":firstChild$6,"first-of-type":firstOfType$6,has:has$9,"last-child":lastChild$6,"last-of-type":lastOfType$6,matches:matches$6,not:not$6,"nth-child":nthChild$6,"nth-last-child":nthLastChild$6,"nth-of-type":nthOfType$6,"nth-last-of-type":nthLastOfType$6,"only-child":onlyChild$6,"only-of-type":onlyOfType$6,root:root$a,scope:scope$6}});pseudo$6.needsIndex=["any","first-child","first-of-type","last-child","last-of-type","matches","not","nth-child","nth-last-child","nth-of-type","nth-last-of-type","only-child","only-of-type"];function pseudo$6(t,e,n,i,o){const u=t.pseudos;let l=-1;for(;++l<u.length;)if(!handle$b(u[l],e,n,i,o))return!1;return!0}function empty$i(t,e){return parent$6(e)?e.children.length===0:!("value"in e)}function firstChild$6(t,e,n,i,o){return assertDeep$6(o,t),o.nodeIndex===0}function firstOfType$6(t,e,n,i,o){return assertDeep$6(o,t),o.typeIndex===0}function has$9(t,e,n,i,o){const u={type:"root",children:parent$6(e)?e.children:[]},l={...o,found:!1,shallow:!1,one:!0,scopeNodes:[e],results:[],rootQuery:queryToSelectors$5(t.value)};return walk$6(l,u),l.results.length>0}function lastChild$6(t,e,n,i,o){return assertDeep$6(o,t),typeof o.nodeCount=="number"&&o.nodeIndex===o.nodeCount-1}function lastOfType$6(t,e,n,i,o){return assertDeep$6(o,t),typeof o.typeCount=="number"&&o.typeIndex===o.typeCount-1}function matches$6(t,e,n,i,o){const u={...o,found:!1,shallow:!1,one:!0,scopeNodes:[e],results:[],rootQuery:queryToSelectors$5(t.value)};return walk$6(u,e),u.results[0]===e}function not$6(t,e,n,i,o){return!matches$6(t,e,n,i,o)}function nthChild$6(t,e,n,i,o){const u=getCachedNthCheck$6(t);return assertDeep$6(o,t),typeof o.nodeIndex=="number"&&u(o.nodeIndex)}function nthLastChild$6(t,e,n,i,o){const u=getCachedNthCheck$6(t);return assertDeep$6(o,t),typeof o.nodeCount=="number"&&typeof o.nodeIndex=="number"&&u(o.nodeCount-o.nodeIndex-1)}function nthLastOfType$6(t,e,n,i,o){const u=getCachedNthCheck$6(t);return assertDeep$6(o,t),typeof o.typeIndex=="number"&&typeof o.typeCount=="number"&&u(o.typeCount-1-o.typeIndex)}function nthOfType$6(t,e,n,i,o){const u=getCachedNthCheck$6(t);return assertDeep$6(o,t),typeof o.typeIndex=="number"&&u(o.typeIndex)}function onlyChild$6(t,e,n,i,o){return assertDeep$6(o,t),o.nodeCount===1}function onlyOfType$6(t,e,n,i,o){return assertDeep$6(o,t),o.typeCount===1}function root$a(t,e,n,i){return e&&!i}function scope$6(t,e,n,i,o){return e&&o.scopeNodes.includes(e)}function invalidPseudo$6(){throw new Error("Invalid pseudo-selector")}function unknownPseudo$6(t){throw t.name?new Error("Unknown pseudo-selector `"+t.name+"`"):new Error("Unexpected pseudo-element or empty pseudo-class")}function assertDeep$6(t,e){if(t.shallow)throw new Error("Cannot use `:"+e.name+"` without parent")}function getCachedNthCheck$6(t){let e=t._cachedFn;return e||(e=nthCheck$6(t.value),t._cachedFn=e),e}function test$6(t,e,n,i,o){if(t.id)throw new Error("Invalid selector: id");if(t.classNames)throw new Error("Invalid selector: class");return!!(e&&(!t.tagName||name$5(t,e))&&(!t.attrs||attribute$6(t,e))&&(!t.pseudos||pseudo$6(t,e,n,i,o)))}const empty$h=[];function queryToSelectors$5(t){return t===null?{type:"selectors",selectors:[]}:t.type==="ruleSet"?{type:"selectors",selectors:[t]}:t}function walk$6(t,e){e&&one$9(t,[],e,void 0,void 0)}function one$9(t,e,n,i,o){let u={directChild:void 0,descendant:void 0,adjacentSibling:void 0,generalSibling:void 0};return u=applySelectors$6(t,combine$6(e,t.rootQuery.selectors),n,i,o),parent$6(n)&&!t.shallow&&!(t.one&&t.found)&&all$b(t,u,n),u}function all$b(t,e,n){const i=combine$6(e.descendant,e.directChild);let o,u=-1;const l={count:0,types:new Map},c={count:0,types:new Map};for(;++u<n.children.length;)count$8(l,n.children[u]);for(u=-1;++u<n.children.length;){const d=n.children[u].type.toUpperCase();t.nodeIndex=c.count,t.typeIndex=c.types.get(d)||0,t.nodeCount=l.count,t.typeCount=l.types.get(d);const m=combine$6(i,o),g=one$9(t,m,n.children[u],u,n);if(o=combine$6(g.generalSibling,g.adjacentSibling),t.one&&t.found)break;count$8(c,n.children[u])}}function applySelectors$6(t,e,n,i,o){const u={directChild:void 0,descendant:void 0,adjacentSibling:void 0,generalSibling:void 0};let l=-1;for(;++l<e.length;){const c=e[l];if(t.one&&t.found)break;if(t.shallow&&c.rule.rule)throw new Error("Expected selector without nesting");if(test$6(c.rule,n,i,o,t)){const f=c.rule.rule;if(f){const d={type:"ruleSet",rule:f},m=f.nestingOperator==="+"?"adjacentSibling":f.nestingOperator==="~"?"generalSibling":f.nestingOperator===">"?"directChild":"descendant";add$6(u,m,d)}else t.found=!0,t.results.includes(n)||t.results.push(n)}c.rule.nestingOperator===null?add$6(u,"descendant",c):c.rule.nestingOperator==="~"&&add$6(u,"generalSibling",c)}return u}function combine$6(t,e){return t&&e&&t.length>0&&e.length>0?[...t,...e]:t&&t.length>0?t:e&&e.length>0?e:empty$h}function add$6(t,e,n){const i=t[e];i?i.push(n):t[e]=[n]}function count$8(t,e){const n=e.type.toUpperCase(),i=(t.types.get(n)||0)+1;t.count++,t.types.set(n,i)}var lib$f={},parserContext$5={},utils$5={},hasRequiredUtils$5;function requireUtils$5(){return hasRequiredUtils$5||(hasRequiredUtils$5=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(l){return l>="a"&&l<="z"||l>="A"&&l<="Z"||l==="-"||l==="_"}t.isIdentStart=e;function n(l){return l>="a"&&l<="z"||l>="A"&&l<="Z"||l>="0"&&l<="9"||l==="-"||l==="_"}t.isIdent=n;function i(l){return l>="a"&&l<="f"||l>="A"&&l<="F"||l>="0"&&l<="9"}t.isHex=i;function o(l){for(var c=l.length,f="",d=0;d<c;){var m=l.charAt(d);if(t.identSpecialChars[m])f+="\\"+m;else if(m==="_"||m==="-"||m>="A"&&m<="Z"||m>="a"&&m<="z"||d!==0&&m>="0"&&m<="9")f+=m;else{var g=m.charCodeAt(0);if((g&63488)===55296){var v=l.charCodeAt(d++);if((g&64512)!==55296||(v&64512)!==56320)throw Error("UCS-2(decode): illegal sequence");g=((g&1023)<<10)+(v&1023)+65536}f+="\\"+g.toString(16)+" "}d++}return f}t.escapeIdentifier=o;function u(l){for(var c=l.length,f="",d=0,m;d<c;){var g=l.charAt(d);g==='"'?g='\\"':g==="\\"?g="\\\\":(m=t.strReplacementsRev[g])!==void 0&&(g=m),f+=g,d++}return'"'+f+'"'}t.escapeStr=u,t.identSpecialChars={"!":!0,'"':!0,"#":!0,$:!0,"%":!0,"&":!0,"'":!0,"(":!0,")":!0,"*":!0,"+":!0,",":!0,".":!0,"/":!0,";":!0,"<":!0,"=":!0,">":!0,"?":!0,"@":!0,"[":!0,"\\":!0,"]":!0,"^":!0,"`":!0,"{":!0,"|":!0,"}":!0,"~":!0},t.strReplacementsRev={"\n":"\\n","\r":"\\r","	":"\\t","\f":"\\f","\v":"\\v"},t.singleQuoteEscapeChars={n:`
`,r:"\r",t:"	",f:"\f","\\":"\\","'":"'"},t.doubleQuotesEscapeChars={n:`
`,r:"\r",t:"	",f:"\f","\\":"\\",'"':'"'}})(utils$5)),utils$5}var hasRequiredParserContext$5;function requireParserContext$5(){if(hasRequiredParserContext$5)return parserContext$5;hasRequiredParserContext$5=1,Object.defineProperty(parserContext$5,"__esModule",{value:!0});var t=requireUtils$5();function e(n,i,o,u,l,c){var f=n.length,d="";function m(A,D){var k="";for(i++,d=n.charAt(i);i<f;){if(d===A)return i++,k;if(d==="\\"){i++,d=n.charAt(i);var j=void 0;if(d===A)k+=A;else if((j=D[d])!==void 0)k+=j;else if(t.isHex(d)){var B=d;for(i++,d=n.charAt(i);t.isHex(d);)B+=d,i++,d=n.charAt(i);d===" "&&(i++,d=n.charAt(i)),k+=String.fromCharCode(parseInt(B,16));continue}else k+=d}else k+=d;i++,d=n.charAt(i)}return k}function g(){var A="";for(d=n.charAt(i);i<f;){if(t.isIdent(d))A+=d;else if(d==="\\"){if(i++,i>=f)throw Error("Expected symbol but end of file reached.");if(d=n.charAt(i),t.identSpecialChars[d])A+=d;else if(t.isHex(d)){var D=d;for(i++,d=n.charAt(i);t.isHex(d);)D+=d,i++,d=n.charAt(i);d===" "&&(i++,d=n.charAt(i)),A+=String.fromCharCode(parseInt(D,16));continue}else A+=d}else return A;i++,d=n.charAt(i)}return A}function v(){d=n.charAt(i);for(var A=!1;d===" "||d==="	"||d===`
`||d==="\r"||d==="\f";)A=!0,i++,d=n.charAt(i);return A}function y(){var A=w();if(i<f)throw Error('Rule expected but "'+n.charAt(i)+'" found.');return A}function w(){var A=T();if(!A)return null;var D=A;for(d=n.charAt(i);d===",";){if(i++,v(),D.type!=="selectors"&&(D={type:"selectors",selectors:[A]}),A=T(),!A)throw Error('Rule expected after ",".');D.selectors.push(A)}return D}function T(){v();var A={type:"ruleSet"},D=P();if(!D)return null;for(var k=A;D&&(D.type="rule",k.rule=D,k=D,v(),d=n.charAt(i),!(i>=f||d===","||d===")"));)if(l[d]){var j=d;if(i++,v(),D=P(),!D)throw Error('Rule expected after "'+j+'".');D.nestingOperator=j}else D=P(),D&&(D.nestingOperator=null);return A}function P(){for(var A=null;i<f;)if(d=n.charAt(i),d==="*")i++,(A=A||{}).tagName="*";else if(t.isIdentStart(d)||d==="\\")(A=A||{}).tagName=g();else if(d===".")i++,A=A||{},(A.classNames=A.classNames||[]).push(g());else if(d==="#")i++,(A=A||{}).id=g();else if(d==="["){i++,v();var D={name:g()};if(v(),d==="]")i++;else{var k="";if(u[d]&&(k=d,i++,d=n.charAt(i)),i>=f)throw Error('Expected "=" but end of file reached.');if(d!=="=")throw Error('Expected "=" but "'+d+'" found.');D.operator=k+"=",i++,v();var j="";if(D.valueType="string",d==='"')j=m('"',t.doubleQuotesEscapeChars);else if(d==="'")j=m("'",t.singleQuoteEscapeChars);else if(c&&d==="$")i++,j=g(),D.valueType="substitute";else{for(;i<f&&d!=="]";)j+=d,i++,d=n.charAt(i);j=j.trim()}if(v(),i>=f)throw Error('Expected "]" but end of file reached.');if(d!=="]")throw Error('Expected "]" but "'+d+'" found.');i++,D.value=j}A=A||{},(A.attrs=A.attrs||[]).push(D)}else if(d===":"){i++;var B=g(),Z={name:B};if(d==="("){i++;var R="";if(v(),o[B]==="selector")Z.valueType="selector",R=w();else{if(Z.valueType=o[B]||"string",d==='"')R=m('"',t.doubleQuotesEscapeChars);else if(d==="'")R=m("'",t.singleQuoteEscapeChars);else if(c&&d==="$")i++,R=g(),Z.valueType="substitute";else{for(;i<f&&d!==")";)R+=d,i++,d=n.charAt(i);R=R.trim()}v()}if(i>=f)throw Error('Expected ")" but end of file reached.');if(d!==")")throw Error('Expected ")" but "'+d+'" found.');i++,Z.value=R}A=A||{},(A.pseudos=A.pseudos||[]).push(Z)}else break;return A}return y()}return parserContext$5.parseCssSelector=e,parserContext$5}var render$5={},hasRequiredRender$5;function requireRender$5(){if(hasRequiredRender$5)return render$5;hasRequiredRender$5=1,Object.defineProperty(render$5,"__esModule",{value:!0});var t=requireUtils$5();function e(n){var i="";switch(n.type){case"ruleSet":for(var o=n.rule,u=[];o;)o.nestingOperator&&u.push(o.nestingOperator),u.push(e(o)),o=o.rule;i=u.join(" ");break;case"selectors":i=n.selectors.map(e).join(", ");break;case"rule":n.tagName&&(n.tagName==="*"?i="*":i=t.escapeIdentifier(n.tagName)),n.id&&(i+="#"+t.escapeIdentifier(n.id)),n.classNames&&(i+=n.classNames.map(function(l){return"."+t.escapeIdentifier(l)}).join("")),n.attrs&&(i+=n.attrs.map(function(l){return"operator"in l?l.valueType==="substitute"?"["+t.escapeIdentifier(l.name)+l.operator+"$"+l.value+"]":"["+t.escapeIdentifier(l.name)+l.operator+t.escapeStr(l.value)+"]":"["+t.escapeIdentifier(l.name)+"]"}).join("")),n.pseudos&&(i+=n.pseudos.map(function(l){return l.valueType?l.valueType==="selector"?":"+t.escapeIdentifier(l.name)+"("+e(l.value)+")":l.valueType==="substitute"?":"+t.escapeIdentifier(l.name)+"($"+l.value+")":l.valueType==="numeric"?":"+t.escapeIdentifier(l.name)+"("+l.value+")":":"+t.escapeIdentifier(l.name)+"("+t.escapeIdentifier(l.value)+")":":"+t.escapeIdentifier(l.name)}).join(""));break;default:throw Error('Unknown entity type: "'+n.type+'".')}return i}return render$5.renderEntity=e,render$5}var hasRequiredLib$f;function requireLib$f(){if(hasRequiredLib$f)return lib$f;hasRequiredLib$f=1,Object.defineProperty(lib$f,"__esModule",{value:!0});var t=requireParserContext$5(),e=requireRender$5(),n=(function(){function i(){this.pseudos={},this.attrEqualityMods={},this.ruleNestingOperators={},this.substitutesEnabled=!1}return i.prototype.registerSelectorPseudos=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];this.pseudos[f]="selector"}return this},i.prototype.unregisterSelectorPseudos=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];delete this.pseudos[f]}return this},i.prototype.registerNumericPseudos=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];this.pseudos[f]="numeric"}return this},i.prototype.unregisterNumericPseudos=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];delete this.pseudos[f]}return this},i.prototype.registerNestingOperators=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];this.ruleNestingOperators[f]=!0}return this},i.prototype.unregisterNestingOperators=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];delete this.ruleNestingOperators[f]}return this},i.prototype.registerAttrEqualityMods=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];this.attrEqualityMods[f]=!0}return this},i.prototype.unregisterAttrEqualityMods=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];delete this.attrEqualityMods[f]}return this},i.prototype.enableSubstitutes=function(){return this.substitutesEnabled=!0,this},i.prototype.disableSubstitutes=function(){return this.substitutesEnabled=!1,this},i.prototype.parse=function(o){return t.parseCssSelector(o,0,this.pseudos,this.attrEqualityMods,this.ruleNestingOperators,this.substitutesEnabled)},i.prototype.render=function(o){return e.renderEntity(o).trim()},i})();return lib$f.CssSelectorParser=n,lib$f}var libExports$9=requireLib$f();const parser$6=new libExports$9.CssSelectorParser;parser$6.registerAttrEqualityMods("~","^","$","*");parser$6.registerSelectorPseudos("any","matches","not","has");parser$6.registerNestingOperators(">","+","~");function parse$b(t){if(typeof t!="string")throw new TypeError("Expected `string` as selector, not `"+t+"`");return parser$6.parse(t)}function selectAll$4(t,e){const n=createState$7(t,e);return walk$6(n,e||void 0),n.results}function createState$7(t,e){return{rootQuery:queryToSelectors$5(parse$b(t)),results:[],scopeNodes:e?parent$6(e)&&(e.type==="RootNode"||e.type==="root")?e.children:[e]:[],one:!1,shallow:!1,found:!1,typeIndex:void 0,nodeIndex:void 0,typeCount:void 0,nodeCount:void 0}}new Map(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((t,e)=>[t,e+1]));const DOI_VALIDATION_PATTERN=/^10\.\d{4,9}\/[-._;()/:A-Z0-9]+$/i;function validatePart(t){return t?t.match(DOI_VALIDATION_PATTERN)!==null:!1}const doiOrg={test(t){return!!t.hostname.match(/(?:dx\.)?(?:www\.)?doi\.org/)},parse(t){return t.pathname.replace(/^\//,"")}},elife={test(t){return t.hostname.endsWith("elifesciences.org")&&/^\/(?:articles|reviewed-preprints)\/\d+$/.test(t.pathname)},parse(t){return`10.7554/eLife.${t.pathname.replace(/^\/(?:articles|reviewed-preprints)\//,"")}`}},zenodo={test(t){return t.hostname.endsWith("zenodo.org")&&!!t.pathname.match(/^\/(?:record|badge\/latestdoi)\//)},parse(t){return`10.5281/zenodo.${t.pathname.replace(/^\/(?:record|badge\/latestdoi)\//,"")}`}},biorxiv={test(t){return t.hostname.endsWith("biorxiv.org")&&!!clumpParts(t).find(validatePart)},parse(t){var e;return(e=clumpParts(t).find(validatePart))===null||e===void 0?void 0:e.replace(/v\d+(\.[a-zA-Z-]+)?$/,"")}};function clumpParts(t){const e=t.pathname.split("/").filter(n=>!!n);return e.slice(0,-1).map((n,i)=>`${n}/${e[i+1]}`)}const pathParts={test(t){return!!clumpParts(t).find(validatePart)},parse(t){return clumpParts(t).find(validatePart)}},idInQuery={test(t){return validatePart(t.searchParams.get("id"))},parse(t){var e;return(e=t.searchParams.get("id"))!==null&&e!==void 0?e:void 0}},STRICT_RESOLVERS=[doiOrg],DEFAULT_RESOLVERS=[doiOrg,biorxiv,pathParts,elife,zenodo,idInQuery],OPEN_FUNDER_REGISTRY_PREFIX="10.13039";function validate$5(t,e){return t?!!normalize$3(t,e):!1}function normalize$3(t,e){let n;if(t){if(validatePart(t))return t;if(t.startsWith("doi:")&&(n=t.slice(4),validatePart(n)))return n;try{const i=new URL(t.startsWith("http")?t:`http://${t}`),o=STRICT_RESOLVERS.find(c=>c.test(i)),u=DEFAULT_RESOLVERS.find(c=>c.test(i));if(e?.strict&&!o)return;const l=o??u;if(!l)return;if(n=l.parse(i),!e?.strict&&o)return n}catch{}if(validatePart(n))return n}}function buildUrl(t,e){const n=normalize$3(t,e);if(n)return`https://doi.org/${n}`}function isOpenFunderRegistry(t){const e=normalize$3(t);return e?e.startsWith(`${OPEN_FUNDER_REGISTRY_PREFIX}/`):!1}const doi={validatePart,validate:validate$5,normalize:normalize$3,buildUrl,isOpenFunderRegistry},FRONTMATTER_ALIASES={author:"authors",reviewer:"reviewers",editor:"editors",contributor:"contributors",affiliation:"affiliations",export:"exports",download:"downloads",jupyter:"thebe",part:"parts",ack:"acknowledgments",acknowledgements:"acknowledgments",acknowledgment:"acknowledgments",acknowledgement:"acknowledgments",availability:"data_availability",dataAvailability:"data_availability","data-availability":"data_availability",quote:"epigraph",plain_language_summary:"summary","plain-language-summary":"summary",plainLanguageSummary:"summary",lay_summary:"summary","lay-summary":"summary",keyPoints:"keypoints",key_points:"keypoints","key-points":"keypoints",image:"thumbnail",identifier:"identifiers",socials:"social"};function coercePart(t){if(!t)return[];if(typeof t=="string")return coercePart([t]);const e=[];return t.map(n=>n.toLowerCase()).forEach(n=>{e.push(n),Object.entries(FRONTMATTER_ALIASES).forEach(([i,o])=>{(n===i||n===o)&&(e.includes(o)||e.unshift(o),e.includes(i)||e.push(i))})}),e}function selectBlockParts(t,e){const n=coercePart(e);return n.length===0?[]:selectAll$4("block",t).filter(o=>{const u=(o.data?.tags&&Array.isArray(o.data.tags)?o.data.tags:[]).map(c=>c?.toLowerCase()),l=o.data?.part?.toLowerCase();return n.map(c=>l===c||u.includes(c)).reduce((c,f)=>c||f,!1)})}function selectFrontmatterParts(t,e){if(!t)return[];const n=coercePart(e);if(n.length===0)return[];const i=[];return n.forEach(o=>{Object.entries(t).forEach(([u,l])=>{o===u.toLowerCase()&&i.push(...l.mdast.children)})}),i}function createPartBlock(t,e,n){const i={type:"block",key:createId(),children:t};return i.data??={},i.data.part=e,i}function forcedRemove(t,e){let n=remove$1(t,e);return n||(n=remove$1(t,{cascade:!1},e)),n}function extractImplicitPart(t,e,n){const i=coercePart(e);if(i.length===0)return;let o=!1;const u=[];let l=[];if(t.children?.forEach((f,d)=>{if(o&&f.type==="paragraph"&&(l.push(copyNode(f)),f.type="__part_delete__"),(f.type!=="__part_delete__"||d===t.children.length-1)&&(o=!1,l.length>0&&(u.push(createPartBlock(l,i[0])),l=[],selectAll$4("__part_heading__",t).forEach(m=>{m.type="__part_delete__"}))),f.type==="block"){if(f.data?.part||t.type!=="root")return;const m=extractImplicitPart(f,i);m&&u.push(...m.children)}else f.type==="heading"&&i.includes(toText$1(f).toLowerCase())&&(o=!0,f.type="__part_heading__")}),selectAll$4("__part_heading__",t).forEach(f=>{f.type="heading"}),u.length===0)return;const c={type:"root",children:u};return forcedRemove(t,"__part_delete__"),c}function extractPart(t,e,n){const i=coercePart(e);if(i.length===0)return;const o=selectFrontmatterParts(n?.frontmatterParts,e),u=selectBlockParts(t,e);if(o.length===0&&u.length===0)return n?.requireExplicitPart?void 0:extractImplicitPart(t,i);const c={type:"root",children:copyNode(o.length>0?o:u).map(f=>(f.data??={},f.data.part=i[0],f.data.tags&&Array.isArray(f.data.tags)&&f.data.tags.reduce((d,m)=>d||i.includes(m.toLowerCase()),!1)&&(f.data.tags=f.data.tags.filter(d=>!i.includes(d.toLowerCase())),f.data.tags.length===0&&delete f.data.tags),n?.removePartData&&delete f.data.part,n?.keepVisibility||delete f.visibility,f))};return u.forEach(f=>{f.type="__delete__"}),forcedRemove(t,"__delete__"),c}const convert$1=(function(t){if(t==null)return ok$2;if(typeof t=="string")return typeFactory$1(t);if(typeof t=="object")return Array.isArray(t)?anyFactory$2(t):propsFactory(t);if(typeof t=="function")return castFactory$2(t);throw new Error("Expected function, string, or object as test")});function anyFactory$2(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=convert$1(t[n]);return castFactory$2(i);function i(...o){let u=-1;for(;++u<e.length;)if(e[u].call(this,...o))return!0;return!1}}function propsFactory(t){return castFactory$2(e);function e(n){let i;for(i in t)if(n[i]!==t[i])return!1;return!0}}function typeFactory$1(t){return castFactory$2(e);function e(n){return n&&n.type===t}}function castFactory$2(t){return e;function e(n,...i){return!!(n&&typeof n=="object"&&"type"in n&&t.call(this,n,...i))}}function ok$2(){return!0}function color$2(t){return t}const CONTINUE$1=!0,EXIT$1=!1,SKIP$1="skip",visitParents$1=(function(t,e,n,i){typeof e=="function"&&typeof n!="function"&&(i=n,n=e,e=null);const o=convert$1(e),u=i?-1:1;l(t,void 0,[])();function l(c,f,d){const m=c&&typeof c=="object"?c:{};if(typeof m.type=="string"){const v=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(c.type+(v?"<"+v+">":""))+")"})}return g;function g(){let v=[],y,w,T;if((!e||o(c,f,d[d.length-1]||null))&&(v=toResult$1(n(c,d)),v[0]===EXIT$1))return v;if(c.children&&v[0]!==SKIP$1)for(w=(i?c.children.length:-1)+u,T=d.concat(c);w>-1&&w<c.children.length;){if(y=l(c.children[w],w,T)(),y[0]===EXIT$1)return y;w=typeof y[1]=="number"?y[1]:w+u}return v}}});function toResult$1(t){return Array.isArray(t)?t:typeof t=="number"?[CONTINUE$1,t]:[t]}const visit$2=(function(t,e,n,i){typeof e=="function"&&typeof n!="function"&&(i=n,n=e,e=null),visitParents$1(t,e,o,i);function o(u,l){const c=l[l.length-1];return n(u,c?c.children.indexOf(u):null,c)}});function isTargetIdentifierNode(t){return!["crossReference","cite","footnoteDefinition","footnoteReference","captionNumber","link"].includes(t.type)}const hiddenNodes=new Set(["comment","mystComment"]);function selectHeadingNodes(t,e,n){let i=!1,o;const u=[];return visit$2(t,l=>{if(i&&l.type==="heading"||u.length>=n)return EXIT$1;if(l.identifier===e&&l.type==="heading"&&(i=!0,o=l.html_id||l.identifier),i)return hiddenNodes.has(l.type)||u.push(l),SKIP$1}),{htmlId:o,nodes:u}}function selectDefinitionTerm(t,e,n){let i=!1;const o=[];return visit$2(t,u=>{if(i&&u.type==="definitionTerm"){if(o.length>1)return EXIT$1}else if(i&&u.type!=="definitionDescription")return EXIT$1;if(u.identifier===e&&u.type==="definitionTerm"&&(o.push(u),i=!0),i)return u.type==="definitionDescription"&&o.push(u),SKIP$1}),{htmlId:o?.[0]?.html_id||o?.[0]?.identifier,nodes:[{type:"definitionList",key:"dl",children:o.slice(0,n)}]}}function selectMdastNodes(t,e,n){const i=selectAll$4(`[identifier=${e}],[key=${e}]`,t).find(o=>isTargetIdentifierNode(o));if(!i)return{nodes:[]};switch(i.type){case"heading":return selectHeadingNodes(t,e,n);case"definitionTerm":return selectDefinitionTerm(t,e,n);default:return{htmlId:i.html_id||i.identifier,nodes:[i]}}}function getProject(t,e){var n,i;return!t||!t.projects||t.projects.length===0?void 0:e&&(i=(n=t.projects)===null||n===void 0?void 0:n.find(u=>u.slug===e))!==null&&i!==void 0?i:t.projects[0]}function getProjectHeadings(t,e,n={addGroups:!1}){const i=getProject(t,e);if(!i)return;const o=[{title:i.title,short_title:i.short_title,slug:i.index,path:i.slug?`/${i.slug}`:"/",level:"index",enumerator:i.enumerator},...i.pages.map(u=>{if(!("slug"in u))return u;const l=slugToUrl(u.slug);return{...u,path:e&&i.slug?`/${i.slug}/${l}`:`/${l}`}})];if(n.addGroups){let u=i.short_title||i.title;return o.map(l=>((!l.slug||l.level==="index")&&(u=l.short_title||l.title),{...l,group:u}))}return o}function getHeadingLink(t,e){if(!e)return;const n=e.findIndex(({slug:o})=>!!o&&o!==t),i=e[n];if(i?.path)return{title:i.title,short_title:i.short_title,url:i.path,group:i.group}}function getFooterLinks(t,e,n){var i;if(!n||!t)return{};const o=getProjectHeadings(t,e,{addGroups:!0}),u=(i=o?.findIndex(({slug:d})=>d===n))!==null&&i!==void 0?i:-1;if(u===-1)return{};const l=getHeadingLink(n,o?.slice(0,u).reverse()),c=getHeadingLink(n,o?.slice(u+1));return{navigation:{prev:l,next:c}}}function updateMdastStaticLinksInplace(t,e){selectAll$5("image",t).forEach(l=>{l.url=e(l.url),l.urlOptimized&&(l.urlOptimized=e(l.urlOptimized))});const i=selectAll$5("link,linkBlock,card",t);(i?.filter(l=>l.static)).forEach(l=>{l.url=e(l.url)}),selectAll$5("output",t).forEach(l=>{l.jupyter_data&&walkOutputs([l.jupyter_data],c=>{c.path&&(c.path=e(c.path))})})}function updatePageStaticLinksInplace(t,e){var n,i,o,u,l,c,f,d;return!((n=t?.frontmatter)===null||n===void 0)&&n.thumbnail&&(t.frontmatter.thumbnail=e(t.frontmatter.thumbnail)),!((i=t?.frontmatter)===null||i===void 0)&&i.thumbnailOptimized&&(t.frontmatter.thumbnailOptimized=e(t.frontmatter.thumbnailOptimized)),!((o=t?.frontmatter)===null||o===void 0)&&o.banner&&(t.frontmatter.banner=e(t.frontmatter.banner)),!((u=t?.frontmatter)===null||u===void 0)&&u.bannerOptimized&&(t.frontmatter.bannerOptimized=e(t.frontmatter.bannerOptimized)),!((l=t?.frontmatter)===null||l===void 0)&&l.exports&&(t.frontmatter.exports=t.frontmatter.exports.map(g=>g.url?{...g,url:e(g.url)}:g)),!((c=t?.frontmatter)===null||c===void 0)&&c.downloads&&(t.frontmatter.downloads=t.frontmatter.downloads.map(g=>!g.url||!g.static?g:{...g,url:e(g.url)})),[t,...Object.values((d=(f=t.frontmatter)===null||f===void 0?void 0:f.parts)!==null&&d!==void 0?d:{})].forEach(({mdast:g})=>{updateMdastStaticLinksInplace(g,e)}),t}var Theme;(function(t){t.light="light",t.dark="dark"})(Theme||(Theme={}));var ErrorStatus;(function(t){t.noSite="Site was not found",t.noArticle="Article was not found"})(ErrorStatus||(ErrorStatus={}));const MYST_SPEC_VERSION=3;var __rest$1=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n};function HtmlLink(t){var{to:e,className:n,children:i,prefetch:o}=t,u=__rest$1(t,["to","className","children","prefetch"]);return jsxRuntimeExports.jsx("a",Object.assign({href:e,className:n},u,{children:i}))}const ThemeContext=React.createContext(void 0);ThemeContext.displayName="ThemeContext";function ThemeProvider({theme:t,setTheme:e,children:n,renderers:i,Link:o,NavLink:u,navigate:l,top:c}){const f=validateRenderers(i);return jsxRuntimeExports.jsx(ThemeContext.Provider,{value:{theme:t,setTheme:e,renderers:f,Link:o,NavLink:u,navigate:l,top:c},children:n})}function useNodeRenderers(){const t=React.useContext(ThemeContext),{renderers:e}=t??{};return e??{}}function useLinkProvider(){const t=React.useContext(ThemeContext),{Link:e}=t??{};return e??HtmlLink}function useNavigateProvider(){const t=React.useContext(ThemeContext),{navigate:e}=t??{};return e??(n=>{window.location.href=n})}function useThemeTop(){const t=React.useContext(ThemeContext),{top:e}=t??{};return e||0}const Context=React.createContext(void 0);Context.displayName="GridSystemContext";var SourceFileKind;(function(t){t.Article="Article",t.Notebook="Notebook",t.Part="Part"})(SourceFileKind||(SourceFileKind={}));const ArticleContext=React.createContext({});function ArticleProvider({kind:t,references:e,frontmatter:n,children:i}){return jsxRuntimeExports.jsx(ArticleContext.Provider,{value:{kind:t,references:e,frontmatter:n},children:i})}function useReferences(){const t=reactExports.useContext(ArticleContext);return t?.references}function useFrontmatter(){const t=reactExports.useContext(ArticleContext);return t?.frontmatter}const BaseUrlContext=React.createContext({});function BaseUrlProvider({baseurl:t,children:e}){return jsxRuntimeExports.jsx(BaseUrlContext.Provider,{value:{baseurl:t},children:e})}function useBaseurl(){const t=reactExports.useContext(BaseUrlContext);return t?.baseurl}function withBaseurl(t,e){const n=/^(https?|mailto):/.test(t||"");return!e||n?t:e+t}const UiContext=reactExports.createContext(void 0);function UiStateProvider({children:t}){const e=useMediaQuery("(min-width: 1280px)"),[n,i]=reactExports.useState({isNavOpen:!1});return reactExports.useEffect(()=>{e&&i(Object.assign(Object.assign({},n),{isNavOpen:!1,isWide:e}))},[e]),jsxRuntimeExports.jsx(UiContext.Provider,{value:[n,i],children:t})}const SiteContext=React.createContext(void 0);function SiteProvider({config:t,children:e}){return jsxRuntimeExports.jsx(SiteContext.Provider,{value:t,children:e})}function useSiteManifest(){return reactExports.useContext(SiteContext)}const SearchFactoryContext=React.createContext(void 0);function SearchFactoryProvider({factory:t,children:e}){return jsxRuntimeExports.jsx(SearchFactoryContext.Provider,{value:t,children:e})}function useSearchFactory(){return reactExports.useContext(SearchFactoryContext)}const TabContext=reactExports.createContext(void 0);function TabStateProvider({children:t}){const[e,n]=reactExports.useState("");return jsxRuntimeExports.jsx(TabContext.Provider,{value:[e,n],children:t})}function useTabSet(){return reactExports.useContext(TabContext)}const XRefContext=reactExports.createContext(void 0);function useXRefState(){var t;return(t=reactExports.useContext(XRefContext))!==null&&t!==void 0?t:{inCrossRef:!1,remote:!1}}function XRefProvider({remote:t,url:e,dataUrl:n,remoteBaseUrl:i,children:o}){const u=useXRefState(),l={inCrossRef:!0,remote:t??u.remote,url:e??u.url,dataUrl:n??u.dataUrl,remoteBaseUrl:i??u.remoteBaseUrl};return l.remote&&!l.url&&(l.remote=!1),jsxRuntimeExports.jsx(XRefContext.Provider,{value:l,children:o})}const ProjectContext=React.createContext(void 0);function ProjectProvider({project:t,children:e}){var n;const i=useSiteManifest();return jsxRuntimeExports.jsx(ProjectContext.Provider,{value:t??((n=i?.projects)===null||n===void 0?void 0:n[0]),children:e})}function useProjectManifest(){return reactExports.useContext(ProjectContext)}reactExports.createContext(void 0);function setRef(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function composeRefs(...t){return e=>{let n=!1;const i=t.map(o=>{const u=setRef(o,e);return!n&&typeof u=="function"&&(n=!0),u});if(n)return()=>{for(let o=0;o<i.length;o++){const u=i[o];typeof u=="function"?u():setRef(t[o],null)}}}}function useComposedRefs(...t){return reactExports.useCallback(composeRefs(...t),t)}var REACT_LAZY_TYPE=Symbol.for("react.lazy"),use$2=React$1[" use ".trim().toString()];function isPromiseLike$1(t){return typeof t=="object"&&t!==null&&"then"in t}function isLazyComponent(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===REACT_LAZY_TYPE&&"_payload"in t&&isPromiseLike$1(t._payload)}function createSlot$5(t){const e=createSlotClone$5(t),n=reactExports.forwardRef((i,o)=>{let{children:u,...l}=i;isLazyComponent(u)&&typeof use$2=="function"&&(u=use$2(u._payload));const c=reactExports.Children.toArray(u),f=c.find(isSlottable$5);if(f){const d=f.props.children,m=c.map(g=>g===f?reactExports.Children.count(d)>1?reactExports.Children.only(null):reactExports.isValidElement(d)?d.props.children:null:g);return jsxRuntimeExports.jsx(e,{...l,ref:o,children:reactExports.isValidElement(d)?reactExports.cloneElement(d,void 0,m):null})}return jsxRuntimeExports.jsx(e,{...l,ref:o,children:u})});return n.displayName=`${t}.Slot`,n}var Slot$3=createSlot$5("Slot");function createSlotClone$5(t){const e=reactExports.forwardRef((n,i)=>{let{children:o,...u}=n;if(isLazyComponent(o)&&typeof use$2=="function"&&(o=use$2(o._payload)),reactExports.isValidElement(o)){const l=getElementRef$6(o),c=mergeProps$5(u,o.props);return o.type!==reactExports.Fragment&&(c.ref=i?composeRefs(i,l):l),reactExports.cloneElement(o,c)}return reactExports.Children.count(o)>1?reactExports.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var SLOTTABLE_IDENTIFIER$6=Symbol("radix.slottable");function isSlottable$5(t){return reactExports.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===SLOTTABLE_IDENTIFIER$6}function mergeProps$5(t,e){const n={...e};for(const i in e){const o=t[i],u=e[i];/^on[A-Z]/.test(i)?o&&u?n[i]=(...c)=>{const f=u(...c);return o(...c),f}:o&&(n[i]=o):i==="style"?n[i]={...o,...u}:i==="className"&&(n[i]=[o,u].filter(Boolean).join(" "))}return{...t,...n}}function getElementRef$6(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function r(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=r(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function clsx(){for(var t,e,n=0,i="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=r(t))&&(i&&(i+=" "),i+=e);return i}const falsyToString=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,cx=clsx,cva=(t,e)=>n=>{var i;if(e?.variants==null)return cx(t,n?.class,n?.className);const{variants:o,defaultVariants:u}=e,l=Object.keys(o).map(d=>{const m=n?.[d],g=u?.[d];if(m===null)return null;const v=falsyToString(m)||falsyToString(g);return o[d][v]}),c=n&&Object.entries(n).reduce((d,m)=>{let[g,v]=m;return v===void 0||(d[g]=v),d},{}),f=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((d,m)=>{let{class:g,className:v,...y}=m;return Object.entries(y).every(w=>{let[T,P]=w;return Array.isArray(P)?P.includes({...u,...c}[T]):{...u,...c}[T]===P})?[...d,g,v]:d},[]);return cx(t,l,f,n?.class,n?.className)};const toKebabCase$1=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),toCamelCase=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),toPascalCase=t=>{const e=toCamelCase(t);return e.charAt(0).toUpperCase()+e.slice(1)},mergeClasses$1=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),hasA11yProp=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var defaultAttributes$1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Icon$1=reactExports.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:u,iconNode:l,...c},f)=>reactExports.createElement("svg",{ref:f,...defaultAttributes$1,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:mergeClasses$1("lucide",o),...!u&&!hasA11yProp(c)&&{"aria-hidden":"true"},...c},[...l.map(([d,m])=>reactExports.createElement(d,m)),...Array.isArray(u)?u:[u]]));const createLucideIcon$1=(t,e)=>{const n=reactExports.forwardRef(({className:i,...o},u)=>reactExports.createElement(Icon$1,{ref:u,iconNode:e,className:mergeClasses$1(`lucide-${toKebabCase$1(toPascalCase(t))}`,`lucide-${t}`,i),...o}));return n.displayName=toPascalCase(t),n};const __iconNode$H=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ArrowRight=createLucideIcon$1("arrow-right",__iconNode$H);const __iconNode$G=[["path",{d:"M10 22V7a1 1 0 0 0-1-1H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5a1 1 0 0 0-1-1H2",key:"1ah6g2"}],["rect",{x:"14",y:"2",width:"8",height:"8",rx:"1",key:"88lufb"}]],Blocks=createLucideIcon$1("blocks",__iconNode$G);const __iconNode$F=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ChevronDown=createLucideIcon$1("chevron-down",__iconNode$F);const __iconNode$E=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ChevronLeft=createLucideIcon$1("chevron-left",__iconNode$E);const __iconNode$D=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ChevronRight=createLucideIcon$1("chevron-right",__iconNode$D);const __iconNode$C=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],CircleAlert$1=createLucideIcon$1("circle-alert",__iconNode$C);const __iconNode$B=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],CircleX=createLucideIcon$1("circle-x",__iconNode$B);const __iconNode$A=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Copy=createLucideIcon$1("copy",__iconNode$A);const __iconNode$z=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Download=createLucideIcon$1("download",__iconNode$z);const __iconNode$y=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],EllipsisVertical=createLucideIcon$1("ellipsis-vertical",__iconNode$y);const __iconNode$x=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ExternalLink$1=createLucideIcon$1("external-link",__iconNode$x);const __iconNode$w=[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]],FileArchive=createLucideIcon$1("file-archive",__iconNode$w);const __iconNode$v=[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]],FileCode=createLucideIcon$1("file-code",__iconNode$v);const __iconNode$u=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],FileDown=createLucideIcon$1("file-down",__iconNode$u);const __iconNode$t=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v2",key:"17k7jt"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10.29 10.7a2.43 2.43 0 0 0-2.66-.52c-.29.12-.56.3-.78.53l-.35.34-.35-.34a2.43 2.43 0 0 0-2.65-.53c-.3.12-.56.3-.79.53-.95.94-1 2.53.2 3.74L6.5 18l3.6-3.55c1.2-1.21 1.14-2.8.19-3.74Z",key:"1c1fso"}]],FileHeart=createLucideIcon$1("file-heart",__iconNode$t);const __iconNode$s=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],FileText=createLucideIcon$1("file-text",__iconNode$s);const __iconNode$r=[["path",{d:"M11 11a5 5 0 0 1 0 6",key:"193qb2"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4 6.765V4a2 2 0 0 1 2-2h9l5 5v13a2 2 0 0 1-2 2H6a2 2 0 0 1-.93-.23",key:"ifyjnl"}],["path",{d:"M7 10.51a.5.5 0 0 0-.826-.38l-1.893 1.628A1 1 0 0 1 3.63 12H2.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h1.129a1 1 0 0 1 .652.242l1.893 1.63a.5.5 0 0 0 .826-.38z",key:"mk8rxu"}]],FileVolume=createLucideIcon$1("file-volume",__iconNode$r);const __iconNode$q=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],File$1=createLucideIcon$1("file",__iconNode$q);const __iconNode$p=[["path",{d:"M10 10.5 8 13l2 2.5",key:"m4t9c1"}],["path",{d:"m14 10.5 2 2.5-2 2.5",key:"14w2eb"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2z",key:"1u1bxd"}]],FolderCode=createLucideIcon$1("folder-code",__iconNode$p);const __iconNode$o=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],House=createLucideIcon$1("house",__iconNode$o);const __iconNode$n=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Info$1=createLucideIcon$1("info",__iconNode$n);const __iconNode$m=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Lightbulb=createLucideIcon$1("lightbulb",__iconNode$m);const __iconNode$l=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Link=createLucideIcon$1("link",__iconNode$l);const __iconNode$k=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Mail=createLucideIcon$1("mail",__iconNode$k);const __iconNode$j=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Megaphone=createLucideIcon$1("megaphone",__iconNode$j);const __iconNode$i=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Menu$7=createLucideIcon$1("menu",__iconNode$i);const __iconNode$h=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Monitor=createLucideIcon$1("monitor",__iconNode$h);const __iconNode$g=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Moon=createLucideIcon$1("moon",__iconNode$g);const __iconNode$f=[["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M16 2v20",key:"rotuqe"}]],Notebook=createLucideIcon$1("notebook",__iconNode$f);const __iconNode$e=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],PanelLeft=createLucideIcon$1("panel-left",__iconNode$e);const __iconNode$d=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Pencil=createLucideIcon$1("pencil",__iconNode$d);const __iconNode$c=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],Quote=createLucideIcon$1("quote",__iconNode$c);const __iconNode$b=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],RotateCcw=createLucideIcon$1("rotate-ccw",__iconNode$b);const __iconNode$a=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],Scale=createLucideIcon$1("scale",__iconNode$a);const __iconNode$9=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],ScrollText=createLucideIcon$1("scroll-text",__iconNode$9);const __iconNode$8=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Search=createLucideIcon$1("search",__iconNode$8);const __iconNode$7=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],Share=createLucideIcon$1("share",__iconNode$7);const __iconNode$6=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],SquarePen=createLucideIcon$1("square-pen",__iconNode$6);const __iconNode$5=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Sun=createLucideIcon$1("sun",__iconNode$5);const __iconNode$4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],TriangleAlert=createLucideIcon$1("triangle-alert",__iconNode$4);const __iconNode$3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],X=createLucideIcon$1("x",__iconNode$3);const __iconNode$2=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Zap=createLucideIcon$1("zap",__iconNode$2);const __iconNode$1=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],ZoomIn=createLucideIcon$1("zoom-in",__iconNode$1);const __iconNode=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],ZoomOut=createLucideIcon$1("zoom-out",__iconNode),MOBILE_BREAKPOINT=768;function useIsMobile(){const[t,e]=reactExports.useState(void 0);return reactExports.useEffect(()=>{const n=window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT-1}px)`),i=()=>{e(window.innerWidth<MOBILE_BREAKPOINT)};return n.addEventListener("change",i),e(window.innerWidth<MOBILE_BREAKPOINT),()=>n.removeEventListener("change",i)},[]),!!t}const concatArrays=(t,e)=>{const n=new Array(t.length+e.length);for(let i=0;i<t.length;i++)n[i]=t[i];for(let i=0;i<e.length;i++)n[t.length+i]=e[i];return n},createClassValidatorObject=(t,e)=>({classGroupId:t,validator:e}),createClassPartObject=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),CLASS_PART_SEPARATOR="-",EMPTY_CONFLICTS=[],ARBITRARY_PROPERTY_PREFIX="arbitrary..",createClassGroupUtils=t=>{const e=createClassMap(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return getGroupIdForArbitraryProperty(l);const c=l.split(CLASS_PART_SEPARATOR),f=c[0]===""&&c.length>1?1:0;return getGroupRecursive(c,f,e)},getConflictingClassGroupIds:(l,c)=>{if(c){const f=i[l],d=n[l];return f?d?concatArrays(d,f):f:d||EMPTY_CONFLICTS}return n[l]||EMPTY_CONFLICTS}}},getGroupRecursive=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const o=t[e],u=n.nextPart.get(o);if(u){const d=getGroupRecursive(t,e+1,u);if(d)return d}const l=n.validators;if(l===null)return;const c=e===0?t.join(CLASS_PART_SEPARATOR):t.slice(e).join(CLASS_PART_SEPARATOR),f=l.length;for(let d=0;d<f;d++){const m=l[d];if(m.validator(c))return m.classGroupId}},getGroupIdForArbitraryProperty=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),i=e.slice(0,n);return i?ARBITRARY_PROPERTY_PREFIX+i:void 0})(),createClassMap=t=>{const{theme:e,classGroups:n}=t;return processClassGroups(n,e)},processClassGroups=(t,e)=>{const n=createClassPartObject();for(const i in t){const o=t[i];processClassesRecursively(o,n,i,e)}return n},processClassesRecursively=(t,e,n,i)=>{const o=t.length;for(let u=0;u<o;u++){const l=t[u];processClassDefinition(l,e,n,i)}},processClassDefinition=(t,e,n,i)=>{if(typeof t=="string"){processStringDefinition(t,e,n);return}if(typeof t=="function"){processFunctionDefinition(t,e,n,i);return}processObjectDefinition(t,e,n,i)},processStringDefinition=(t,e,n)=>{const i=t===""?e:getPart(e,t);i.classGroupId=n},processFunctionDefinition=(t,e,n,i)=>{if(isThemeGetter(t)){processClassesRecursively(t(i),e,n,i);return}e.validators===null&&(e.validators=[]),e.validators.push(createClassValidatorObject(n,t))},processObjectDefinition=(t,e,n,i)=>{const o=Object.entries(t),u=o.length;for(let l=0;l<u;l++){const[c,f]=o[l];processClassesRecursively(f,getPart(e,c),n,i)}},getPart=(t,e)=>{let n=t;const i=e.split(CLASS_PART_SEPARATOR),o=i.length;for(let u=0;u<o;u++){const l=i[u];let c=n.nextPart.get(l);c||(c=createClassPartObject(),n.nextPart.set(l,c)),n=c}return n},isThemeGetter=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,createLruCache=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),i=Object.create(null);const o=(u,l)=>{n[u]=l,e++,e>t&&(e=0,i=n,n=Object.create(null))};return{get(u){let l=n[u];if(l!==void 0)return l;if((l=i[u])!==void 0)return o(u,l),l},set(u,l){u in n?n[u]=l:o(u,l)}}},IMPORTANT_MODIFIER="!",MODIFIER_SEPARATOR=":",EMPTY_MODIFIERS=[],createResultObject=(t,e,n,i,o)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:i,isExternal:o}),createParseClassName=t=>{const{prefix:e,experimentalParseClassName:n}=t;let i=o=>{const u=[];let l=0,c=0,f=0,d;const m=o.length;for(let T=0;T<m;T++){const P=o[T];if(l===0&&c===0){if(P===MODIFIER_SEPARATOR){u.push(o.slice(f,T)),f=T+1;continue}if(P==="/"){d=T;continue}}P==="["?l++:P==="]"?l--:P==="("?c++:P===")"&&c--}const g=u.length===0?o:o.slice(f);let v=g,y=!1;g.endsWith(IMPORTANT_MODIFIER)?(v=g.slice(0,-1),y=!0):g.startsWith(IMPORTANT_MODIFIER)&&(v=g.slice(1),y=!0);const w=d&&d>f?d-f:void 0;return createResultObject(u,y,v,w)};if(e){const o=e+MODIFIER_SEPARATOR,u=i;i=l=>l.startsWith(o)?u(l.slice(o.length)):createResultObject(EMPTY_MODIFIERS,!1,l,void 0,!0)}if(n){const o=i;i=u=>n({className:u,parseClassName:o})}return i},createSortModifiers=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,i)=>{e.set(n,1e6+i)}),n=>{const i=[];let o=[];for(let u=0;u<n.length;u++){const l=n[u],c=l[0]==="[",f=e.has(l);c||f?(o.length>0&&(o.sort(),i.push(...o),o=[]),i.push(l)):o.push(l)}return o.length>0&&(o.sort(),i.push(...o)),i}},createConfigUtils=t=>({cache:createLruCache(t.cacheSize),parseClassName:createParseClassName(t),sortModifiers:createSortModifiers(t),...createClassGroupUtils(t)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:o,sortModifiers:u}=e,l=[],c=t.trim().split(SPLIT_CLASSES_REGEX);let f="";for(let d=c.length-1;d>=0;d-=1){const m=c[d],{isExternal:g,modifiers:v,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:T}=n(m);if(g){f=m+(f.length>0?" "+f:f);continue}let P=!!T,A=i(P?w.substring(0,T):w);if(!A){if(!P){f=m+(f.length>0?" "+f:f);continue}if(A=i(w),!A){f=m+(f.length>0?" "+f:f);continue}P=!1}const D=v.length===0?"":v.length===1?v[0]:u(v).join(":"),k=y?D+IMPORTANT_MODIFIER:D,j=k+A;if(l.indexOf(j)>-1)continue;l.push(j);const B=o(A,P);for(let Z=0;Z<B.length;++Z){const R=B[Z];l.push(k+R)}f=m+(f.length>0?" "+f:f)}return f},twJoin=(...t)=>{let e=0,n,i,o="";for(;e<t.length;)(n=t[e++])&&(i=toValue(n))&&(o&&(o+=" "),o+=i);return o},toValue=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=toValue(t[i]))&&(n&&(n+=" "),n+=e);return n},createTailwindMerge=(t,...e)=>{let n,i,o,u;const l=f=>{const d=e.reduce((m,g)=>g(m),t());return n=createConfigUtils(d),i=n.cache.get,o=n.cache.set,u=c,c(f)},c=f=>{const d=i(f);if(d)return d;const m=mergeClassList(f,n);return o(f,m),m};return u=l,(...f)=>u(twJoin(...f))},fallbackThemeArr=[],fromTheme=t=>{const e=n=>n[t]||fallbackThemeArr;return e.isThemeGetter=!0,e},arbitraryValueRegex=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,arbitraryVariableRegex=/^\((?:(\w[\w-]*):)?(.+)\)$/i,fractionRegex=/^\d+\/\d+$/,tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isFraction=t=>fractionRegex.test(t),isNumber$2=t=>!!t&&!Number.isNaN(Number(t)),isInteger=t=>!!t&&Number.isInteger(Number(t)),isPercent=t=>t.endsWith("%")&&isNumber$2(t.slice(0,-1)),isTshirtSize=t=>tshirtUnitRegex.test(t),isAny=()=>!0,isLengthOnly=t=>lengthUnitRegex.test(t)&&!colorFunctionRegex.test(t),isNever=()=>!1,isShadow=t=>shadowRegex.test(t),isImage=t=>imageRegex.test(t),isAnyNonArbitrary=t=>!isArbitraryValue(t)&&!isArbitraryVariable(t),isArbitrarySize=t=>getIsArbitraryValue(t,isLabelSize,isNever),isArbitraryValue=t=>arbitraryValueRegex.test(t),isArbitraryLength=t=>getIsArbitraryValue(t,isLabelLength,isLengthOnly),isArbitraryNumber=t=>getIsArbitraryValue(t,isLabelNumber,isNumber$2),isArbitraryPosition=t=>getIsArbitraryValue(t,isLabelPosition,isNever),isArbitraryImage=t=>getIsArbitraryValue(t,isLabelImage,isImage),isArbitraryShadow=t=>getIsArbitraryValue(t,isLabelShadow,isShadow),isArbitraryVariable=t=>arbitraryVariableRegex.test(t),isArbitraryVariableLength=t=>getIsArbitraryVariable(t,isLabelLength),isArbitraryVariableFamilyName=t=>getIsArbitraryVariable(t,isLabelFamilyName),isArbitraryVariablePosition=t=>getIsArbitraryVariable(t,isLabelPosition),isArbitraryVariableSize=t=>getIsArbitraryVariable(t,isLabelSize),isArbitraryVariableImage=t=>getIsArbitraryVariable(t,isLabelImage),isArbitraryVariableShadow=t=>getIsArbitraryVariable(t,isLabelShadow,!0),getIsArbitraryValue=(t,e,n)=>{const i=arbitraryValueRegex.exec(t);return i?i[1]?e(i[1]):n(i[2]):!1},getIsArbitraryVariable=(t,e,n=!1)=>{const i=arbitraryVariableRegex.exec(t);return i?i[1]?e(i[1]):n:!1},isLabelPosition=t=>t==="position"||t==="percentage",isLabelImage=t=>t==="image"||t==="url",isLabelSize=t=>t==="length"||t==="size"||t==="bg-size",isLabelLength=t=>t==="length",isLabelNumber=t=>t==="number",isLabelFamilyName=t=>t==="family-name",isLabelShadow=t=>t==="shadow",getDefaultConfig=()=>{const t=fromTheme("color"),e=fromTheme("font"),n=fromTheme("text"),i=fromTheme("font-weight"),o=fromTheme("tracking"),u=fromTheme("leading"),l=fromTheme("breakpoint"),c=fromTheme("container"),f=fromTheme("spacing"),d=fromTheme("radius"),m=fromTheme("shadow"),g=fromTheme("inset-shadow"),v=fromTheme("text-shadow"),y=fromTheme("drop-shadow"),w=fromTheme("blur"),T=fromTheme("perspective"),P=fromTheme("aspect"),A=fromTheme("ease"),D=fromTheme("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],B=()=>[...j(),isArbitraryVariable,isArbitraryValue],Z=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],G=()=>[isArbitraryVariable,isArbitraryValue,f],F=()=>[isFraction,"full","auto",...G()],K=()=>[isInteger,"none","subgrid",isArbitraryVariable,isArbitraryValue],Q=()=>["auto",{span:["full",isInteger,isArbitraryVariable,isArbitraryValue]},isInteger,isArbitraryVariable,isArbitraryValue],ie=()=>[isInteger,"auto",isArbitraryVariable,isArbitraryValue],te=()=>["auto","min","max","fr",isArbitraryVariable,isArbitraryValue],oe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],le=()=>["start","end","center","stretch","center-safe","end-safe"],de=()=>["auto",...G()],ge=()=>[isFraction,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...G()],_e=()=>[t,isArbitraryVariable,isArbitraryValue],we=()=>[...j(),isArbitraryVariablePosition,isArbitraryPosition,{position:[isArbitraryVariable,isArbitraryValue]}],Me=()=>["no-repeat",{repeat:["","x","y","space","round"]}],xe=()=>["auto","cover","contain",isArbitraryVariableSize,isArbitrarySize,{size:[isArbitraryVariable,isArbitraryValue]}],Re=()=>[isPercent,isArbitraryVariableLength,isArbitraryLength],Se=()=>["","none","full",d,isArbitraryVariable,isArbitraryValue],Ge=()=>["",isNumber$2,isArbitraryVariableLength,isArbitraryLength],Qe=()=>["solid","dashed","dotted","double"],Je=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Xe=()=>[isNumber$2,isPercent,isArbitraryVariablePosition,isArbitraryPosition],gt=()=>["","none",w,isArbitraryVariable,isArbitraryValue],Ct=()=>["none",isNumber$2,isArbitraryVariable,isArbitraryValue],ar=()=>["none",isNumber$2,isArbitraryVariable,isArbitraryValue],De=()=>[isNumber$2,isArbitraryVariable,isArbitraryValue],Oe=()=>[isFraction,"full",...G()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[isTshirtSize],breakpoint:[isTshirtSize],color:[isAny],container:[isTshirtSize],"drop-shadow":[isTshirtSize],ease:["in","out","in-out"],font:[isAnyNonArbitrary],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[isTshirtSize],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[isTshirtSize],shadow:[isTshirtSize],spacing:["px",isNumber$2],text:[isTshirtSize],"text-shadow":[isTshirtSize],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",isFraction,isArbitraryValue,isArbitraryVariable,P]}],container:["container"],columns:[{columns:[isNumber$2,isArbitraryValue,isArbitraryVariable,c]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:B()}],overflow:[{overflow:Z()}],"overflow-x":[{"overflow-x":Z()}],"overflow-y":[{"overflow-y":Z()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:F()}],"inset-x":[{"inset-x":F()}],"inset-y":[{"inset-y":F()}],start:[{start:F()}],end:[{end:F()}],top:[{top:F()}],right:[{right:F()}],bottom:[{bottom:F()}],left:[{left:F()}],visibility:["visible","invisible","collapse"],z:[{z:[isInteger,"auto",isArbitraryVariable,isArbitraryValue]}],basis:[{basis:[isFraction,"full","auto",c,...G()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[isNumber$2,isFraction,"auto","initial","none",isArbitraryValue]}],grow:[{grow:["",isNumber$2,isArbitraryVariable,isArbitraryValue]}],shrink:[{shrink:["",isNumber$2,isArbitraryVariable,isArbitraryValue]}],order:[{order:[isInteger,"first","last","none",isArbitraryVariable,isArbitraryValue]}],"grid-cols":[{"grid-cols":K()}],"col-start-end":[{col:Q()}],"col-start":[{"col-start":ie()}],"col-end":[{"col-end":ie()}],"grid-rows":[{"grid-rows":K()}],"row-start-end":[{row:Q()}],"row-start":[{"row-start":ie()}],"row-end":[{"row-end":ie()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":te()}],"auto-rows":[{"auto-rows":te()}],gap:[{gap:G()}],"gap-x":[{"gap-x":G()}],"gap-y":[{"gap-y":G()}],"justify-content":[{justify:[...oe(),"normal"]}],"justify-items":[{"justify-items":[...le(),"normal"]}],"justify-self":[{"justify-self":["auto",...le()]}],"align-content":[{content:["normal",...oe()]}],"align-items":[{items:[...le(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...le(),{baseline:["","last"]}]}],"place-content":[{"place-content":oe()}],"place-items":[{"place-items":[...le(),"baseline"]}],"place-self":[{"place-self":["auto",...le()]}],p:[{p:G()}],px:[{px:G()}],py:[{py:G()}],ps:[{ps:G()}],pe:[{pe:G()}],pt:[{pt:G()}],pr:[{pr:G()}],pb:[{pb:G()}],pl:[{pl:G()}],m:[{m:de()}],mx:[{mx:de()}],my:[{my:de()}],ms:[{ms:de()}],me:[{me:de()}],mt:[{mt:de()}],mr:[{mr:de()}],mb:[{mb:de()}],ml:[{ml:de()}],"space-x":[{"space-x":G()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":G()}],"space-y-reverse":["space-y-reverse"],size:[{size:ge()}],w:[{w:[c,"screen",...ge()]}],"min-w":[{"min-w":[c,"screen","none",...ge()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...ge()]}],h:[{h:["screen","lh",...ge()]}],"min-h":[{"min-h":["screen","lh","none",...ge()]}],"max-h":[{"max-h":["screen","lh",...ge()]}],"font-size":[{text:["base",n,isArbitraryVariableLength,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,isArbitraryVariable,isArbitraryNumber]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",isPercent,isArbitraryValue]}],"font-family":[{font:[isArbitraryVariableFamilyName,isArbitraryValue,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,isArbitraryVariable,isArbitraryValue]}],"line-clamp":[{"line-clamp":[isNumber$2,"none",isArbitraryVariable,isArbitraryNumber]}],leading:[{leading:[u,...G()]}],"list-image":[{"list-image":["none",isArbitraryVariable,isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",isArbitraryVariable,isArbitraryValue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:_e()}],"text-color":[{text:_e()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Qe(),"wavy"]}],"text-decoration-thickness":[{decoration:[isNumber$2,"from-font","auto",isArbitraryVariable,isArbitraryLength]}],"text-decoration-color":[{decoration:_e()}],"underline-offset":[{"underline-offset":[isNumber$2,"auto",isArbitraryVariable,isArbitraryValue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryVariable,isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryVariable,isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:we()}],"bg-repeat":[{bg:Me()}],"bg-size":[{bg:xe()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},isInteger,isArbitraryVariable,isArbitraryValue],radial:["",isArbitraryVariable,isArbitraryValue],conic:[isInteger,isArbitraryVariable,isArbitraryValue]},isArbitraryVariableImage,isArbitraryImage]}],"bg-color":[{bg:_e()}],"gradient-from-pos":[{from:Re()}],"gradient-via-pos":[{via:Re()}],"gradient-to-pos":[{to:Re()}],"gradient-from":[{from:_e()}],"gradient-via":[{via:_e()}],"gradient-to":[{to:_e()}],rounded:[{rounded:Se()}],"rounded-s":[{"rounded-s":Se()}],"rounded-e":[{"rounded-e":Se()}],"rounded-t":[{"rounded-t":Se()}],"rounded-r":[{"rounded-r":Se()}],"rounded-b":[{"rounded-b":Se()}],"rounded-l":[{"rounded-l":Se()}],"rounded-ss":[{"rounded-ss":Se()}],"rounded-se":[{"rounded-se":Se()}],"rounded-ee":[{"rounded-ee":Se()}],"rounded-es":[{"rounded-es":Se()}],"rounded-tl":[{"rounded-tl":Se()}],"rounded-tr":[{"rounded-tr":Se()}],"rounded-br":[{"rounded-br":Se()}],"rounded-bl":[{"rounded-bl":Se()}],"border-w":[{border:Ge()}],"border-w-x":[{"border-x":Ge()}],"border-w-y":[{"border-y":Ge()}],"border-w-s":[{"border-s":Ge()}],"border-w-e":[{"border-e":Ge()}],"border-w-t":[{"border-t":Ge()}],"border-w-r":[{"border-r":Ge()}],"border-w-b":[{"border-b":Ge()}],"border-w-l":[{"border-l":Ge()}],"divide-x":[{"divide-x":Ge()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Ge()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Qe(),"hidden","none"]}],"divide-style":[{divide:[...Qe(),"hidden","none"]}],"border-color":[{border:_e()}],"border-color-x":[{"border-x":_e()}],"border-color-y":[{"border-y":_e()}],"border-color-s":[{"border-s":_e()}],"border-color-e":[{"border-e":_e()}],"border-color-t":[{"border-t":_e()}],"border-color-r":[{"border-r":_e()}],"border-color-b":[{"border-b":_e()}],"border-color-l":[{"border-l":_e()}],"divide-color":[{divide:_e()}],"outline-style":[{outline:[...Qe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[isNumber$2,isArbitraryVariable,isArbitraryValue]}],"outline-w":[{outline:["",isNumber$2,isArbitraryVariableLength,isArbitraryLength]}],"outline-color":[{outline:_e()}],shadow:[{shadow:["","none",m,isArbitraryVariableShadow,isArbitraryShadow]}],"shadow-color":[{shadow:_e()}],"inset-shadow":[{"inset-shadow":["none",g,isArbitraryVariableShadow,isArbitraryShadow]}],"inset-shadow-color":[{"inset-shadow":_e()}],"ring-w":[{ring:Ge()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:_e()}],"ring-offset-w":[{"ring-offset":[isNumber$2,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":_e()}],"inset-ring-w":[{"inset-ring":Ge()}],"inset-ring-color":[{"inset-ring":_e()}],"text-shadow":[{"text-shadow":["none",v,isArbitraryVariableShadow,isArbitraryShadow]}],"text-shadow-color":[{"text-shadow":_e()}],opacity:[{opacity:[isNumber$2,isArbitraryVariable,isArbitraryValue]}],"mix-blend":[{"mix-blend":[...Je(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Je()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[isNumber$2]}],"mask-image-linear-from-pos":[{"mask-linear-from":Xe()}],"mask-image-linear-to-pos":[{"mask-linear-to":Xe()}],"mask-image-linear-from-color":[{"mask-linear-from":_e()}],"mask-image-linear-to-color":[{"mask-linear-to":_e()}],"mask-image-t-from-pos":[{"mask-t-from":Xe()}],"mask-image-t-to-pos":[{"mask-t-to":Xe()}],"mask-image-t-from-color":[{"mask-t-from":_e()}],"mask-image-t-to-color":[{"mask-t-to":_e()}],"mask-image-r-from-pos":[{"mask-r-from":Xe()}],"mask-image-r-to-pos":[{"mask-r-to":Xe()}],"mask-image-r-from-color":[{"mask-r-from":_e()}],"mask-image-r-to-color":[{"mask-r-to":_e()}],"mask-image-b-from-pos":[{"mask-b-from":Xe()}],"mask-image-b-to-pos":[{"mask-b-to":Xe()}],"mask-image-b-from-color":[{"mask-b-from":_e()}],"mask-image-b-to-color":[{"mask-b-to":_e()}],"mask-image-l-from-pos":[{"mask-l-from":Xe()}],"mask-image-l-to-pos":[{"mask-l-to":Xe()}],"mask-image-l-from-color":[{"mask-l-from":_e()}],"mask-image-l-to-color":[{"mask-l-to":_e()}],"mask-image-x-from-pos":[{"mask-x-from":Xe()}],"mask-image-x-to-pos":[{"mask-x-to":Xe()}],"mask-image-x-from-color":[{"mask-x-from":_e()}],"mask-image-x-to-color":[{"mask-x-to":_e()}],"mask-image-y-from-pos":[{"mask-y-from":Xe()}],"mask-image-y-to-pos":[{"mask-y-to":Xe()}],"mask-image-y-from-color":[{"mask-y-from":_e()}],"mask-image-y-to-color":[{"mask-y-to":_e()}],"mask-image-radial":[{"mask-radial":[isArbitraryVariable,isArbitraryValue]}],"mask-image-radial-from-pos":[{"mask-radial-from":Xe()}],"mask-image-radial-to-pos":[{"mask-radial-to":Xe()}],"mask-image-radial-from-color":[{"mask-radial-from":_e()}],"mask-image-radial-to-color":[{"mask-radial-to":_e()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[isNumber$2]}],"mask-image-conic-from-pos":[{"mask-conic-from":Xe()}],"mask-image-conic-to-pos":[{"mask-conic-to":Xe()}],"mask-image-conic-from-color":[{"mask-conic-from":_e()}],"mask-image-conic-to-color":[{"mask-conic-to":_e()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:we()}],"mask-repeat":[{mask:Me()}],"mask-size":[{mask:xe()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",isArbitraryVariable,isArbitraryValue]}],filter:[{filter:["","none",isArbitraryVariable,isArbitraryValue]}],blur:[{blur:gt()}],brightness:[{brightness:[isNumber$2,isArbitraryVariable,isArbitraryValue]}],contrast:[{contrast:[isNumber$2,isArbitraryVariable,isArbitraryValue]}],"drop-shadow":[{"drop-shadow":["","none",y,isArbitraryVariableShadow,isArbitraryShadow]}],"drop-shadow-color":[{"drop-shadow":_e()}],grayscale:[{grayscale:["",isNumber$2,isArbitraryVariable,isArbitraryValue]}],"hue-rotate":[{"hue-rotate":[isNumber$2,isArbitraryVariable,isArbitraryValue]}],invert:[{invert:["",isNumber$2,isArbitraryVariable,isArbitraryValue]}],saturate:[{saturate:[isNumber$2,isArbitraryVariable,isArbitraryValue]}],sepia:[{sepia:["",isNumber$2,isArbitraryVariable,isArbitraryValue]}],"backdrop-filter":[{"backdrop-filter":["","none",isArbitraryVariable,isArbitraryValue]}],"backdrop-blur":[{"backdrop-blur":gt()}],"backdrop-brightness":[{"backdrop-brightness":[isNumber$2,isArbitraryVariable,isArbitraryValue]}],"backdrop-contrast":[{"backdrop-contrast":[isNumber$2,isArbitraryVariable,isArbitraryValue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",isNumber$2,isArbitraryVariable,isArbitraryValue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[isNumber$2,isArbitraryVariable,isArbitraryValue]}],"backdrop-invert":[{"backdrop-invert":["",isNumber$2,isArbitraryVariable,isArbitraryValue]}],"backdrop-opacity":[{"backdrop-opacity":[isNumber$2,isArbitraryVariable,isArbitraryValue]}],"backdrop-saturate":[{"backdrop-saturate":[isNumber$2,isArbitraryVariable,isArbitraryValue]}],"backdrop-sepia":[{"backdrop-sepia":["",isNumber$2,isArbitraryVariable,isArbitraryValue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":G()}],"border-spacing-x":[{"border-spacing-x":G()}],"border-spacing-y":[{"border-spacing-y":G()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",isArbitraryVariable,isArbitraryValue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[isNumber$2,"initial",isArbitraryVariable,isArbitraryValue]}],ease:[{ease:["linear","initial",A,isArbitraryVariable,isArbitraryValue]}],delay:[{delay:[isNumber$2,isArbitraryVariable,isArbitraryValue]}],animate:[{animate:["none",D,isArbitraryVariable,isArbitraryValue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,isArbitraryVariable,isArbitraryValue]}],"perspective-origin":[{"perspective-origin":B()}],rotate:[{rotate:Ct()}],"rotate-x":[{"rotate-x":Ct()}],"rotate-y":[{"rotate-y":Ct()}],"rotate-z":[{"rotate-z":Ct()}],scale:[{scale:ar()}],"scale-x":[{"scale-x":ar()}],"scale-y":[{"scale-y":ar()}],"scale-z":[{"scale-z":ar()}],"scale-3d":["scale-3d"],skew:[{skew:De()}],"skew-x":[{"skew-x":De()}],"skew-y":[{"skew-y":De()}],transform:[{transform:[isArbitraryVariable,isArbitraryValue,"","none","gpu","cpu"]}],"transform-origin":[{origin:B()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Oe()}],"translate-x":[{"translate-x":Oe()}],"translate-y":[{"translate-y":Oe()}],"translate-z":[{"translate-z":Oe()}],"translate-none":["translate-none"],accent:[{accent:_e()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:_e()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryVariable,isArbitraryValue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryVariable,isArbitraryValue]}],fill:[{fill:["none",..._e()]}],"stroke-w":[{stroke:[isNumber$2,isArbitraryVariableLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:["none",..._e()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},twMerge=createTailwindMerge(getDefaultConfig);function cn$2(...t){return twMerge(clsx(t))}const buttonVariants=cva("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-sm text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",xs:"h-6 rounded-sm gap-1.5 px-1 has-[>svg]:px-1.5",sm:"h-8 rounded-sm gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-sm px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Button({className:t,variant:e,size:n,asChild:i=!1,...o}){const u=i?Slot$3:"button";return jsxRuntimeExports.jsx(u,{"data-slot":"button",className:cn$2(buttonVariants({variant:e,size:n,className:t})),...o})}function composeEventHandlers(t,e,{checkForDefaultPrevented:n=!0}={}){return function(o){if(t?.(o),n===!1||!o.defaultPrevented)return e?.(o)}}function createContext2(t,e){const n=reactExports.createContext(e),i=u=>{const{children:l,...c}=u,f=reactExports.useMemo(()=>c,Object.values(c));return jsxRuntimeExports.jsx(n.Provider,{value:f,children:l})};i.displayName=t+"Provider";function o(u){const l=reactExports.useContext(n);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${u}\` must be used within \`${t}\``)}return[i,o]}function createContextScope(t,e=[]){let n=[];function i(u,l){const c=reactExports.createContext(l),f=n.length;n=[...n,l];const d=g=>{const{scope:v,children:y,...w}=g,T=v?.[t]?.[f]||c,P=reactExports.useMemo(()=>w,Object.values(w));return jsxRuntimeExports.jsx(T.Provider,{value:P,children:y})};d.displayName=u+"Provider";function m(g,v){const y=v?.[t]?.[f]||c,w=reactExports.useContext(y);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${u}\``)}return[d,m]}const o=()=>{const u=n.map(l=>reactExports.createContext(l));return function(c){const f=c?.[t]||u;return reactExports.useMemo(()=>({[`__scope${t}`]:{...c,[t]:f}}),[c,f])}};return o.scopeName=t,[i,composeContextScopes(o,...e)]}function composeContextScopes(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const i=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(u){const l=i.reduce((c,{useScope:f,scopeName:d})=>{const g=f(u)[`__scope${d}`];return{...c,...g}},{});return reactExports.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}var useLayoutEffect2=globalThis?.document?reactExports.useLayoutEffect:()=>{},useReactId=React$1[" useId ".trim().toString()]||(()=>{}),count$7=0;function useId(t){const[e,n]=reactExports.useState(useReactId());return useLayoutEffect2(()=>{n(i=>i??String(count$7++))},[t]),t||(e?`radix-${e}`:"")}var useInsertionEffect=React$1[" useInsertionEffect ".trim().toString()]||useLayoutEffect2;function useControllableState({prop:t,defaultProp:e,onChange:n=()=>{},caller:i}){const[o,u,l]=useUncontrolledState({defaultProp:e,onChange:n}),c=t!==void 0,f=c?t:o;{const m=reactExports.useRef(t!==void 0);reactExports.useEffect(()=>{const g=m.current;g!==c&&console.warn(`${i} is changing from ${g?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,i])}const d=reactExports.useCallback(m=>{if(c){const g=isFunction$2(m)?m(t):m;g!==t&&l.current?.(g)}else u(m)},[c,t,u,l]);return[f,d]}function useUncontrolledState({defaultProp:t,onChange:e}){const[n,i]=reactExports.useState(t),o=reactExports.useRef(n),u=reactExports.useRef(e);return useInsertionEffect(()=>{u.current=e},[e]),reactExports.useEffect(()=>{o.current!==n&&(u.current?.(n),o.current=n)},[n,o]),[n,i,u]}function isFunction$2(t){return typeof t=="function"}var reactDomExports=requireReactDom();const ReactDOM=getDefaultExportFromCjs(reactDomExports);function createSlot$4(t){const e=createSlotClone$4(t),n=reactExports.forwardRef((i,o)=>{const{children:u,...l}=i,c=reactExports.Children.toArray(u),f=c.find(isSlottable$4);if(f){const d=f.props.children,m=c.map(g=>g===f?reactExports.Children.count(d)>1?reactExports.Children.only(null):reactExports.isValidElement(d)?d.props.children:null:g);return jsxRuntimeExports.jsx(e,{...l,ref:o,children:reactExports.isValidElement(d)?reactExports.cloneElement(d,void 0,m):null})}return jsxRuntimeExports.jsx(e,{...l,ref:o,children:u})});return n.displayName=`${t}.Slot`,n}function createSlotClone$4(t){const e=reactExports.forwardRef((n,i)=>{const{children:o,...u}=n;if(reactExports.isValidElement(o)){const l=getElementRef$5(o),c=mergeProps$4(u,o.props);return o.type!==reactExports.Fragment&&(c.ref=i?composeRefs(i,l):l),reactExports.cloneElement(o,c)}return reactExports.Children.count(o)>1?reactExports.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var SLOTTABLE_IDENTIFIER$5=Symbol("radix.slottable");function isSlottable$4(t){return reactExports.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===SLOTTABLE_IDENTIFIER$5}function mergeProps$4(t,e){const n={...e};for(const i in e){const o=t[i],u=e[i];/^on[A-Z]/.test(i)?o&&u?n[i]=(...c)=>{const f=u(...c);return o(...c),f}:o&&(n[i]=o):i==="style"?n[i]={...o,...u}:i==="className"&&(n[i]=[o,u].filter(Boolean).join(" "))}return{...t,...n}}function getElementRef$5(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var NODES$1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive$1=NODES$1.reduce((t,e)=>{const n=createSlot$4(`Primitive.${e}`),i=reactExports.forwardRef((o,u)=>{const{asChild:l,...c}=o,f=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(f,{...c,ref:u})});return i.displayName=`Primitive.${e}`,{...t,[e]:i}},{});function dispatchDiscreteCustomEvent(t,e){t&&reactDomExports.flushSync(()=>t.dispatchEvent(e))}function useCallbackRef$1(t){const e=reactExports.useRef(t);return reactExports.useEffect(()=>{e.current=t}),reactExports.useMemo(()=>(...n)=>e.current?.(...n),[])}function useEscapeKeydown(t,e=globalThis?.document){const n=useCallbackRef$1(t);reactExports.useEffect(()=>{const i=o=>{o.key==="Escape"&&n(o)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[n,e])}var DISMISSABLE_LAYER_NAME="DismissableLayer",CONTEXT_UPDATE="dismissableLayer.update",POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",FOCUS_OUTSIDE="dismissableLayer.focusOutside",originalBodyPointerEvents,DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),DismissableLayer=reactExports.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:u,onInteractOutside:l,onDismiss:c,...f}=t,d=reactExports.useContext(DismissableLayerContext),[m,g]=reactExports.useState(null),v=m?.ownerDocument??globalThis?.document,[,y]=reactExports.useState({}),w=useComposedRefs(e,R=>g(R)),T=Array.from(d.layers),[P]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),A=T.indexOf(P),D=m?T.indexOf(m):-1,k=d.layersWithOutsidePointerEventsDisabled.size>0,j=D>=A,B=usePointerDownOutside(R=>{const G=R.target,F=[...d.branches].some(K=>K.contains(G));!j||F||(o?.(R),l?.(R),R.defaultPrevented||c?.())},v),Z=useFocusOutside(R=>{const G=R.target;[...d.branches].some(K=>K.contains(G))||(u?.(R),l?.(R),R.defaultPrevented||c?.())},v);return useEscapeKeydown(R=>{D===d.layers.size-1&&(i?.(R),!R.defaultPrevented&&c&&(R.preventDefault(),c()))},v),reactExports.useEffect(()=>{if(m)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(originalBodyPointerEvents=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),dispatchUpdate(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=originalBodyPointerEvents)}},[m,v,n,d]),reactExports.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),dispatchUpdate())},[m,d]),reactExports.useEffect(()=>{const R=()=>y({});return document.addEventListener(CONTEXT_UPDATE,R),()=>document.removeEventListener(CONTEXT_UPDATE,R)},[]),jsxRuntimeExports.jsx(Primitive$1.div,{...f,ref:w,style:{pointerEvents:k?j?"auto":"none":void 0,...t.style},onFocusCapture:composeEventHandlers(t.onFocusCapture,Z.onFocusCapture),onBlurCapture:composeEventHandlers(t.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:composeEventHandlers(t.onPointerDownCapture,B.onPointerDownCapture)})});DismissableLayer.displayName=DISMISSABLE_LAYER_NAME;var BRANCH_NAME="DismissableLayerBranch",DismissableLayerBranch=reactExports.forwardRef((t,e)=>{const n=reactExports.useContext(DismissableLayerContext),i=reactExports.useRef(null),o=useComposedRefs(e,i);return reactExports.useEffect(()=>{const u=i.current;if(u)return n.branches.add(u),()=>{n.branches.delete(u)}},[n.branches]),jsxRuntimeExports.jsx(Primitive$1.div,{...t,ref:o})});DismissableLayerBranch.displayName=BRANCH_NAME;function usePointerDownOutside(t,e=globalThis?.document){const n=useCallbackRef$1(t),i=reactExports.useRef(!1),o=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const u=c=>{if(c.target&&!i.current){let f=function(){handleAndDispatchCustomEvent(POINTER_DOWN_OUTSIDE,n,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=f,e.addEventListener("click",o.current,{once:!0})):f()}else e.removeEventListener("click",o.current);i.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",u)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",u),e.removeEventListener("click",o.current)}},[e,n]),{onPointerDownCapture:()=>i.current=!0}}function useFocusOutside(t,e=globalThis?.document){const n=useCallbackRef$1(t),i=reactExports.useRef(!1);return reactExports.useEffect(()=>{const o=u=>{u.target&&!i.current&&handleAndDispatchCustomEvent(FOCUS_OUTSIDE,n,{originalEvent:u},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function dispatchUpdate(){const t=new CustomEvent(CONTEXT_UPDATE);document.dispatchEvent(t)}function handleAndDispatchCustomEvent(t,e,n,{discrete:i}){const o=n.originalEvent.target,u=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),i?dispatchDiscreteCustomEvent(o,u):o.dispatchEvent(u)}var AUTOFOCUS_ON_MOUNT="focusScope.autoFocusOnMount",AUTOFOCUS_ON_UNMOUNT="focusScope.autoFocusOnUnmount",EVENT_OPTIONS$1={bubbles:!1,cancelable:!0},FOCUS_SCOPE_NAME="FocusScope",FocusScope=reactExports.forwardRef((t,e)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:o,onUnmountAutoFocus:u,...l}=t,[c,f]=reactExports.useState(null),d=useCallbackRef$1(o),m=useCallbackRef$1(u),g=reactExports.useRef(null),v=useComposedRefs(e,T=>f(T)),y=reactExports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;reactExports.useEffect(()=>{if(i){let T=function(k){if(y.paused||!c)return;const j=k.target;c.contains(j)?g.current=j:focus(g.current,{select:!0})},P=function(k){if(y.paused||!c)return;const j=k.relatedTarget;j!==null&&(c.contains(j)||focus(g.current,{select:!0}))},A=function(k){if(document.activeElement===document.body)for(const B of k)B.removedNodes.length>0&&focus(c)};document.addEventListener("focusin",T),document.addEventListener("focusout",P);const D=new MutationObserver(A);return c&&D.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",P),D.disconnect()}}},[i,c,y.paused]),reactExports.useEffect(()=>{if(c){focusScopesStack.add(y);const T=document.activeElement;if(!c.contains(T)){const A=new CustomEvent(AUTOFOCUS_ON_MOUNT,EVENT_OPTIONS$1);c.addEventListener(AUTOFOCUS_ON_MOUNT,d),c.dispatchEvent(A),A.defaultPrevented||(focusFirst$2(removeLinks(getTabbableCandidates(c)),{select:!0}),document.activeElement===T&&focus(c))}return()=>{c.removeEventListener(AUTOFOCUS_ON_MOUNT,d),setTimeout(()=>{const A=new CustomEvent(AUTOFOCUS_ON_UNMOUNT,EVENT_OPTIONS$1);c.addEventListener(AUTOFOCUS_ON_UNMOUNT,m),c.dispatchEvent(A),A.defaultPrevented||focus(T??document.body,{select:!0}),c.removeEventListener(AUTOFOCUS_ON_UNMOUNT,m),focusScopesStack.remove(y)},0)}}},[c,d,m,y]);const w=reactExports.useCallback(T=>{if(!n&&!i||y.paused)return;const P=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,A=document.activeElement;if(P&&A){const D=T.currentTarget,[k,j]=getTabbableEdges(D);k&&j?!T.shiftKey&&A===j?(T.preventDefault(),n&&focus(k,{select:!0})):T.shiftKey&&A===k&&(T.preventDefault(),n&&focus(j,{select:!0})):A===D&&T.preventDefault()}},[n,i,y.paused]);return jsxRuntimeExports.jsx(Primitive$1.div,{tabIndex:-1,...l,ref:v,onKeyDown:w})});FocusScope.displayName=FOCUS_SCOPE_NAME;function focusFirst$2(t,{select:e=!1}={}){const n=document.activeElement;for(const i of t)if(focus(i,{select:e}),document.activeElement!==n)return}function getTabbableEdges(t){const e=getTabbableCandidates(t),n=findVisible(e,t),i=findVisible(e.reverse(),t);return[n,i]}function getTabbableCandidates(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function findVisible(t,e){for(const n of t)if(!isHidden(n,{upTo:e}))return n}function isHidden(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function isSelectableInput(t){return t instanceof HTMLInputElement&&"select"in t}function focus(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&isSelectableInput(t)&&e&&t.select()}}var focusScopesStack=createFocusScopesStack();function createFocusScopesStack(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=arrayRemove(t,e),t.unshift(e)},remove(e){t=arrayRemove(t,e),t[0]?.resume()}}}function arrayRemove(t,e){const n=[...t],i=n.indexOf(e);return i!==-1&&n.splice(i,1),n}function removeLinks(t){return t.filter(e=>e.tagName!=="A")}var PORTAL_NAME$6="Portal",Portal$5=reactExports.forwardRef((t,e)=>{const{container:n,...i}=t,[o,u]=reactExports.useState(!1);useLayoutEffect2(()=>u(!0),[]);const l=n||o&&globalThis?.document?.body;return l?ReactDOM.createPortal(jsxRuntimeExports.jsx(Primitive$1.div,{...i,ref:e}),l):null});Portal$5.displayName=PORTAL_NAME$6;function useStateMachine(t,e){return reactExports.useReducer((n,i)=>e[n][i]??n,t)}var Presence=t=>{const{present:e,children:n}=t,i=usePresence(e),o=typeof n=="function"?n({present:i.isPresent}):reactExports.Children.only(n),u=useComposedRefs(i.ref,getElementRef$4(o));return typeof n=="function"||i.isPresent?reactExports.cloneElement(o,{ref:u}):null};Presence.displayName="Presence";function usePresence(t){const[e,n]=reactExports.useState(),i=reactExports.useRef(null),o=reactExports.useRef(t),u=reactExports.useRef("none"),l=t?"mounted":"unmounted",[c,f]=useStateMachine(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const d=getAnimationName(i.current);u.current=c==="mounted"?d:"none"},[c]),useLayoutEffect2(()=>{const d=i.current,m=o.current;if(m!==t){const v=u.current,y=getAnimationName(d);t?f("MOUNT"):y==="none"||d?.display==="none"?f("UNMOUNT"):f(m&&v!==y?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,f]),useLayoutEffect2(()=>{if(e){let d;const m=e.ownerDocument.defaultView??window,g=y=>{const T=getAnimationName(i.current).includes(CSS.escape(y.animationName));if(y.target===e&&T&&(f("ANIMATION_END"),!o.current)){const P=e.style.animationFillMode;e.style.animationFillMode="forwards",d=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=P)})}},v=y=>{y.target===e&&(u.current=getAnimationName(i.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{m.clearTimeout(d),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:reactExports.useCallback(d=>{i.current=d?getComputedStyle(d):null,n(d)},[])}}function getAnimationName(t){return t?.animationName||"none"}function getElementRef$4(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var count$6=0;function useFocusGuards(){reactExports.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??createFocusGuard()),document.body.insertAdjacentElement("beforeend",t[1]??createFocusGuard()),count$6++,()=>{count$6===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),count$6--}},[])}function createFocusGuard(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var extendStatics$5=function(t,e){return extendStatics$5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},extendStatics$5(t,e)};function __extends$5(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");extendStatics$5(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var __assign$3=function(){return __assign$3=Object.assign||function(e){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},__assign$3.apply(this,arguments)};function __rest(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function __decorate(t,e,n,i){var o=arguments.length,u=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(l=t[c])&&(u=(o<3?l(u):o>3?l(e,n,u):l(e,n))||u);return o>3&&u&&Object.defineProperty(e,n,u),u}function __param(t,e){return function(n,i){e(n,i,t)}}function __esDecorate(t,e,n,i,o,u){function l(A){if(A!==void 0&&typeof A!="function")throw new TypeError("Function expected");return A}for(var c=i.kind,f=c==="getter"?"get":c==="setter"?"set":"value",d=!e&&t?i.static?t:t.prototype:null,m=e||(d?Object.getOwnPropertyDescriptor(d,i.name):{}),g,v=!1,y=n.length-1;y>=0;y--){var w={};for(var T in i)w[T]=T==="access"?{}:i[T];for(var T in i.access)w.access[T]=i.access[T];w.addInitializer=function(A){if(v)throw new TypeError("Cannot add initializers after decoration has completed");u.push(l(A||null))};var P=(0,n[y])(c==="accessor"?{get:m.get,set:m.set}:m[f],w);if(c==="accessor"){if(P===void 0)continue;if(P===null||typeof P!="object")throw new TypeError("Object expected");(g=l(P.get))&&(m.get=g),(g=l(P.set))&&(m.set=g),(g=l(P.init))&&o.unshift(g)}else(g=l(P))&&(c==="field"?o.unshift(g):m[f]=g)}d&&Object.defineProperty(d,i.name,m),v=!0}function __runInitializers(t,e,n){for(var i=arguments.length>2,o=0;o<e.length;o++)n=i?e[o].call(t,n):e[o].call(t);return i?n:void 0}function __propKey(t){return typeof t=="symbol"?t:"".concat(t)}function __setFunctionName(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function __metadata(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function __awaiter$2(t,e,n,i){function o(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function c(m){try{d(i.next(m))}catch(g){l(g)}}function f(m){try{d(i.throw(m))}catch(g){l(g)}}function d(m){m.done?u(m.value):o(m.value).then(c,f)}d((i=i.apply(t,e||[])).next())})}function __generator(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,o,u,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=c(0),l.throw=c(1),l.return=c(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(d){return function(m){return f([d,m])}}function f(d){if(i)throw new TypeError("Generator is already executing.");for(;l&&(l=0,d[0]&&(n=0)),n;)try{if(i=1,o&&(u=d[0]&2?o.return:d[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,d[1])).done)return u;switch(o=0,u&&(d=[d[0]&2,u.value]),d[0]){case 0:case 1:u=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!u||d[1]>u[0]&&d[1]<u[3])){n.label=d[1];break}if(d[0]===6&&n.label<u[1]){n.label=u[1],u=d;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(d);break}u[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(m){d=[6,m],o=0}finally{i=u=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var __createBinding=Object.create?(function(t,e,n,i){i===void 0&&(i=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,o)}):(function(t,e,n,i){i===void 0&&(i=n),t[i]=e[n]});function __exportStar(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&__createBinding(e,t,n)}function __values(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i=n.call(t),o,u=[],l;try{for(;(e===void 0||e-- >0)&&!(o=i.next()).done;)u.push(o.value)}catch(c){l={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(l)throw l.error}}return u}function __spread(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read(arguments[e]));return t}function __spreadArrays$1(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),o=0,e=0;e<n;e++)for(var u=arguments[e],l=0,c=u.length;l<c;l++,o++)i[o]=u[l];return i}function __spreadArray(t,e,n){if(n||arguments.length===2)for(var i=0,o=e.length,u;i<o;i++)(u||!(i in e))&&(u||(u=Array.prototype.slice.call(e,0,i)),u[i]=e[i]);return t.concat(u||Array.prototype.slice.call(e))}function __await(t){return this instanceof __await?(this.v=t,this):new __await(t)}function __asyncGenerator(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),o,u=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),o[Symbol.asyncIterator]=function(){return this},o;function l(y){return function(w){return Promise.resolve(w).then(y,g)}}function c(y,w){i[y]&&(o[y]=function(T){return new Promise(function(P,A){u.push([y,T,P,A])>1||f(y,T)})},w&&(o[y]=w(o[y])))}function f(y,w){try{d(i[y](w))}catch(T){v(u[0][3],T)}}function d(y){y.value instanceof __await?Promise.resolve(y.value.v).then(m,g):v(u[0][2],y)}function m(y){f("next",y)}function g(y){f("throw",y)}function v(y,w){y(w),u.shift(),u.length&&f(u[0][0],u[0][1])}}function __asyncDelegator(t){var e,n;return e={},i("next"),i("throw",function(o){throw o}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(o,u){e[o]=t[o]?function(l){return(n=!n)?{value:__await(t[o](l)),done:!1}:u?u(l):l}:u}}function __asyncValues(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(u){n[u]=t[u]&&function(l){return new Promise(function(c,f){l=t[u](l),o(c,f,l.done,l.value)})}}function o(u,l,c,f){Promise.resolve(f).then(function(d){u({value:d,done:c})},l)}}function __makeTemplateObject(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var __setModuleDefault=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},ownKeys$2=function(t){return ownKeys$2=Object.getOwnPropertyNames||function(e){var n=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[n.length]=i);return n},ownKeys$2(t)};function __importStar(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=ownKeys$2(t),i=0;i<n.length;i++)n[i]!=="default"&&__createBinding(e,t,n[i]);return __setModuleDefault(e,t),e}function __importDefault(t){return t&&t.__esModule?t:{default:t}}function __classPrivateFieldGet$1(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)}function __classPrivateFieldSet$1(t,e,n,i,o){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?o.call(t,n):o?o.value=n:e.set(t,n),n}function __classPrivateFieldIn(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function __addDisposableResource(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],n&&(o=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");o&&(i=function(){try{o.call(this)}catch(u){return Promise.reject(u)}}),t.stack.push({value:e,dispose:i,async:n})}else n&&t.stack.push({async:!0});return e}var _SuppressedError=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var i=new Error(n);return i.name="SuppressedError",i.error=t,i.suppressed=e,i};function __disposeResources(t){function e(u){t.error=t.hasError?new _SuppressedError(u,t.error,"An error was suppressed during disposal."):u,t.hasError=!0}var n,i=0;function o(){for(;n=t.stack.pop();)try{if(!n.async&&i===1)return i=0,t.stack.push(n),Promise.resolve().then(o);if(n.dispose){var u=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(u).then(o,function(l){return e(l),o()})}else i|=1}catch(l){e(l)}if(i===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}function __rewriteRelativeImportExtension(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,i,o,u,l){return i?e?".jsx":".js":o&&(!u||!l)?n:o+u+"."+l.toLowerCase()+"js"}):t}const tslib_es6={__extends:__extends$5,__assign:__assign$3,__rest,__decorate,__param,__esDecorate,__runInitializers,__propKey,__setFunctionName,__metadata,__awaiter:__awaiter$2,__generator,__createBinding,__exportStar,__values,__read,__spread,__spreadArrays:__spreadArrays$1,__spreadArray,__await,__asyncGenerator,__asyncDelegator,__asyncValues,__makeTemplateObject,__importStar,__importDefault,__classPrivateFieldGet:__classPrivateFieldGet$1,__classPrivateFieldSet:__classPrivateFieldSet$1,__classPrivateFieldIn,__addDisposableResource,__disposeResources,__rewriteRelativeImportExtension},tslib_es6$1=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource,get __assign(){return __assign$3},__asyncDelegator,__asyncGenerator,__asyncValues,__await,__awaiter:__awaiter$2,__classPrivateFieldGet:__classPrivateFieldGet$1,__classPrivateFieldIn,__classPrivateFieldSet:__classPrivateFieldSet$1,__createBinding,__decorate,__disposeResources,__esDecorate,__exportStar,__extends:__extends$5,__generator,__importDefault,__importStar,__makeTemplateObject,__metadata,__param,__propKey,__read,__rest,__rewriteRelativeImportExtension,__runInitializers,__setFunctionName,__spread,__spreadArray,__spreadArrays:__spreadArrays$1,__values,default:tslib_es6},Symbol.toStringTag,{value:"Module"}));var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function useCallbackRef(t,e){var n=reactExports.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(i){var o=n.value;o!==i&&(n.value=i,n.callback(i,o))}}}})[0];return n.callback=e,n.facade}var useIsomorphicLayoutEffect$1=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs(t,e){var n=useCallbackRef(null,function(i){return t.forEach(function(o){return assignRef(o,i)})});return useIsomorphicLayoutEffect$1(function(){var i=currentValues.get(n);if(i){var o=new Set(i),u=new Set(t),l=n.current;o.forEach(function(c){u.has(c)||assignRef(c,null)}),u.forEach(function(c){o.has(c)||assignRef(c,l)})}currentValues.set(n,t)},[t]),n}function ItoI(t){return t}function innerCreateMedium(t,e){e===void 0&&(e=ItoI);var n=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(u){var l=e(u,i);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(u){for(i=!0;n.length;){var l=n;n=[],l.forEach(u)}n={push:function(c){return u(c)},filter:function(){return n}}},assignMedium:function(u){i=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(u),l=n}var f=function(){var m=l;l=[],m.forEach(u)},d=function(){return Promise.resolve().then(f)};d(),n={push:function(m){l.push(m),d()},filter:function(m){return l=l.filter(m),n}}}};return o}function createSidecarMedium(t){t===void 0&&(t={});var e=innerCreateMedium(null);return e.options=__assign$3({async:!0,ssr:!1},t),e}var SideCar$1=function(t){var e=t.sideCar,n=__rest(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return reactExports.createElement(i,__assign$3({},n))};SideCar$1.isSideCarExport=!0;function exportSidecar(t,e){return t.useMedium(e),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(t,e){var n=reactExports.useRef(null),i=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),o=i[0],u=i[1],l=t.forwardProps,c=t.children,f=t.className,d=t.removeScrollBar,m=t.enabled,g=t.shards,v=t.sideCar,y=t.noRelative,w=t.noIsolation,T=t.inert,P=t.allowPinchZoom,A=t.as,D=A===void 0?"div":A,k=t.gapMode,j=__rest(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),B=v,Z=useMergeRefs([n,e]),R=__assign$3(__assign$3({},j),o);return reactExports.createElement(reactExports.Fragment,null,m&&reactExports.createElement(B,{sideCar:effectCar,removeScrollBar:d,shards:g,noRelative:y,noIsolation:w,inert:T,setCallbacks:u,allowPinchZoom:!!P,lockRef:n,gapMode:k}),l?reactExports.cloneElement(reactExports.Children.only(c),__assign$3(__assign$3({},R),{ref:Z})):reactExports.createElement(D,__assign$3({},R,{className:f,ref:Z}),c))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=getNonce();return e&&t.setAttribute("nonce",e),t}function injectStyles(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function insertStyleTag(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var stylesheetSingleton=function(){var t=0,e=null;return{add:function(n){t==0&&(e=makeStyleTag())&&(injectStyles(e,n),insertStyleTag(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},styleHookSingleton=function(){var t=stylesheetSingleton();return function(e,n){reactExports.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},styleSingleton=function(){var t=styleHookSingleton(),e=function(n){var i=n.styles,o=n.dynamic;return t(i,o),null};return e},zeroGap={left:0,top:0,right:0,gap:0},parse$a=function(t){return parseInt(t||"",10)||0},getOffset=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],i=e[t==="padding"?"paddingTop":"marginTop"],o=e[t==="padding"?"paddingRight":"marginRight"];return[parse$a(n),parse$a(i),parse$a(o)]},getGapWidth=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return zeroGap;var e=getOffset(t),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-n+e[2]-e[0])}},Style=styleSingleton(),lockAttribute="data-scroll-locked",getStyles=function(t,e,n,i){var o=t.left,u=t.top,l=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(c,"px ").concat(i,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(u,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(c,"px ").concat(i,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(c,"px ").concat(i,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(c,`px;
  }
`)},getCurrentUseCounter=function(){var t=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(t)?t:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var t=getCurrentUseCounter()-1;t<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,t.toString())}},[])},RemoveScrollBar=function(t){var e=t.noRelative,n=t.noImportant,i=t.gapMode,o=i===void 0?"margin":i;useLockAttribute();var u=reactExports.useMemo(function(){return getGapWidth(o)},[o]);return reactExports.createElement(Style,{styles:getStyles(u,!e,o,n?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(t){return t.tagName==="TEXTAREA"},elementCanBeScrolled=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!alwaysContainsScroll(t)&&n[e]==="visible")},elementCouldBeVScrolled=function(t){return elementCanBeScrolled(t,"overflowY")},elementCouldBeHScrolled=function(t){return elementCanBeScrolled(t,"overflowX")},locationCouldBeScrolled=function(t,e){var n=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var o=elementCouldBeScrolled(t,i);if(o){var u=getScrollVariables(t,i),l=u[1],c=u[2];if(l>c)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},getVScrollVariables=function(t){var e=t.scrollTop,n=t.scrollHeight,i=t.clientHeight;return[e,n,i]},getHScrollVariables=function(t){var e=t.scrollLeft,n=t.scrollWidth,i=t.clientWidth;return[e,n,i]},elementCouldBeScrolled=function(t,e){return t==="v"?elementCouldBeVScrolled(e):elementCouldBeHScrolled(e)},getScrollVariables=function(t,e){return t==="v"?getVScrollVariables(e):getHScrollVariables(e)},getDirectionFactor=function(t,e){return t==="h"&&e==="rtl"?-1:1},handleScroll=function(t,e,n,i,o){var u=getDirectionFactor(t,window.getComputedStyle(e).direction),l=u*i,c=n.target,f=e.contains(c),d=!1,m=l>0,g=0,v=0;do{if(!c)break;var y=getScrollVariables(t,c),w=y[0],T=y[1],P=y[2],A=T-P-u*w;(w||A)&&elementCouldBeScrolled(t,c)&&(g+=A,v+=w);var D=c.parentNode;c=D&&D.nodeType===Node.DOCUMENT_FRAGMENT_NODE?D.host:D}while(!f&&c!==document.body||f&&(e.contains(c)||e===c));return(m&&Math.abs(g)<1||!m&&Math.abs(v)<1)&&(d=!0),d},getTouchXY=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(t){return[t.deltaX,t.deltaY]},extractRef=function(t){return t&&"current"in t?t.current:t},deltaCompare=function(t,e){return t[0]===e[0]&&t[1]===e[1]},generateStyle=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},idCounter$1=0,lockStack=[];function RemoveScrollSideCar(t){var e=reactExports.useRef([]),n=reactExports.useRef([0,0]),i=reactExports.useRef(),o=reactExports.useState(idCounter$1++)[0],u=reactExports.useState(styleSingleton)[0],l=reactExports.useRef(t);reactExports.useEffect(function(){l.current=t},[t]),reactExports.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var T=__spreadArray([t.lockRef.current],(t.shards||[]).map(extractRef),!0).filter(Boolean);return T.forEach(function(P){return P.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),T.forEach(function(P){return P.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var c=reactExports.useCallback(function(T,P){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!l.current.allowPinchZoom;var A=getTouchXY(T),D=n.current,k="deltaX"in T?T.deltaX:D[0]-A[0],j="deltaY"in T?T.deltaY:D[1]-A[1],B,Z=T.target,R=Math.abs(k)>Math.abs(j)?"h":"v";if("touches"in T&&R==="h"&&Z.type==="range")return!1;var G=window.getSelection(),F=G&&G.anchorNode,K=F?F===Z||F.contains(Z):!1;if(K)return!1;var Q=locationCouldBeScrolled(R,Z);if(!Q)return!0;if(Q?B=R:(B=R==="v"?"h":"v",Q=locationCouldBeScrolled(R,Z)),!Q)return!1;if(!i.current&&"changedTouches"in T&&(k||j)&&(i.current=B),!B)return!0;var ie=i.current||B;return handleScroll(ie,P,T,ie==="h"?k:j)},[]),f=reactExports.useCallback(function(T){var P=T;if(!(!lockStack.length||lockStack[lockStack.length-1]!==u)){var A="deltaY"in P?getDeltaXY(P):getTouchXY(P),D=e.current.filter(function(B){return B.name===P.type&&(B.target===P.target||P.target===B.shadowParent)&&deltaCompare(B.delta,A)})[0];if(D&&D.should){P.cancelable&&P.preventDefault();return}if(!D){var k=(l.current.shards||[]).map(extractRef).filter(Boolean).filter(function(B){return B.contains(P.target)}),j=k.length>0?c(P,k[0]):!l.current.noIsolation;j&&P.cancelable&&P.preventDefault()}}},[]),d=reactExports.useCallback(function(T,P,A,D){var k={name:T,delta:P,target:A,should:D,shadowParent:getOutermostShadowParent(A)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(j){return j!==k})},1)},[]),m=reactExports.useCallback(function(T){n.current=getTouchXY(T),i.current=void 0},[]),g=reactExports.useCallback(function(T){d(T.type,getDeltaXY(T),T.target,c(T,t.lockRef.current))},[]),v=reactExports.useCallback(function(T){d(T.type,getTouchXY(T),T.target,c(T,t.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(u),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",f,nonPassive),document.addEventListener("touchmove",f,nonPassive),document.addEventListener("touchstart",m,nonPassive),function(){lockStack=lockStack.filter(function(T){return T!==u}),document.removeEventListener("wheel",f,nonPassive),document.removeEventListener("touchmove",f,nonPassive),document.removeEventListener("touchstart",m,nonPassive)}},[]);var y=t.removeScrollBar,w=t.inert;return reactExports.createElement(reactExports.Fragment,null,w?reactExports.createElement(u,{styles:generateStyle(o)}):null,y?reactExports.createElement(RemoveScrollBar,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function getOutermostShadowParent(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(t,e){return reactExports.createElement(RemoveScroll,__assign$3({},t,{ref:e,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;var getDefaultParent=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={},lockCount=0,unwrapHost=function(t){return t&&(t.host||unwrapHost(t.parentNode))},correctTargets=function(t,e){return e.map(function(n){if(t.contains(n))return n;var i=unwrapHost(n);return i&&t.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},applyAttributeToOthers=function(t,e,n,i){var o=correctTargets(e,Array.isArray(t)?t:[t]);markerMap[n]||(markerMap[n]=new WeakMap);var u=markerMap[n],l=[],c=new Set,f=new Set(o),d=function(g){!g||c.has(g)||(c.add(g),d(g.parentNode))};o.forEach(d);var m=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(v){if(c.has(v))m(v);else try{var y=v.getAttribute(i),w=y!==null&&y!=="false",T=(counterMap.get(v)||0)+1,P=(u.get(v)||0)+1;counterMap.set(v,T),u.set(v,P),l.push(v),T===1&&w&&uncontrolledNodes.set(v,!0),P===1&&v.setAttribute(n,"true"),w||v.setAttribute(i,"true")}catch(A){console.error("aria-hidden: cannot operate on ",v,A)}})};return m(e),c.clear(),lockCount++,function(){l.forEach(function(g){var v=counterMap.get(g)-1,y=u.get(g)-1;counterMap.set(g,v),u.set(g,y),v||(uncontrolledNodes.has(g)||g.removeAttribute(i),uncontrolledNodes.delete(g)),y||g.removeAttribute(n)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledNodes=new WeakMap,markerMap={})}},hideOthers=function(t,e,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(t)?t:[t]),o=getDefaultParent(t);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live], script"))),applyAttributeToOthers(i,o,n,"aria-hidden")):function(){return null}};function createSlot$3(t){const e=createSlotClone$3(t),n=reactExports.forwardRef((i,o)=>{const{children:u,...l}=i,c=reactExports.Children.toArray(u),f=c.find(isSlottable$3);if(f){const d=f.props.children,m=c.map(g=>g===f?reactExports.Children.count(d)>1?reactExports.Children.only(null):reactExports.isValidElement(d)?d.props.children:null:g);return jsxRuntimeExports.jsx(e,{...l,ref:o,children:reactExports.isValidElement(d)?reactExports.cloneElement(d,void 0,m):null})}return jsxRuntimeExports.jsx(e,{...l,ref:o,children:u})});return n.displayName=`${t}.Slot`,n}function createSlotClone$3(t){const e=reactExports.forwardRef((n,i)=>{const{children:o,...u}=n;if(reactExports.isValidElement(o)){const l=getElementRef$3(o),c=mergeProps$3(u,o.props);return o.type!==reactExports.Fragment&&(c.ref=i?composeRefs(i,l):l),reactExports.cloneElement(o,c)}return reactExports.Children.count(o)>1?reactExports.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var SLOTTABLE_IDENTIFIER$4=Symbol("radix.slottable");function isSlottable$3(t){return reactExports.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===SLOTTABLE_IDENTIFIER$4}function mergeProps$3(t,e){const n={...e};for(const i in e){const o=t[i],u=e[i];/^on[A-Z]/.test(i)?o&&u?n[i]=(...c)=>{const f=u(...c);return o(...c),f}:o&&(n[i]=o):i==="style"?n[i]={...o,...u}:i==="className"&&(n[i]=[o,u].filter(Boolean).join(" "))}return{...t,...n}}function getElementRef$3(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var DIALOG_NAME="Dialog",[createDialogContext]=createContextScope(DIALOG_NAME),[DialogProvider,useDialogContext]=createDialogContext(DIALOG_NAME),Dialog$1=t=>{const{__scopeDialog:e,children:n,open:i,defaultOpen:o,onOpenChange:u,modal:l=!0}=t,c=reactExports.useRef(null),f=reactExports.useRef(null),[d,m]=useControllableState({prop:i,defaultProp:o??!1,onChange:u,caller:DIALOG_NAME});return jsxRuntimeExports.jsx(DialogProvider,{scope:e,triggerRef:c,contentRef:f,contentId:useId(),titleId:useId(),descriptionId:useId(),open:d,onOpenChange:m,onOpenToggle:reactExports.useCallback(()=>m(g=>!g),[m]),modal:l,children:n})};Dialog$1.displayName=DIALOG_NAME;var TRIGGER_NAME$5="DialogTrigger",DialogTrigger$1=reactExports.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,o=useDialogContext(TRIGGER_NAME$5,n),u=useComposedRefs(e,o.triggerRef);return jsxRuntimeExports.jsx(Primitive$1.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":getState$2(o.open),...i,ref:u,onClick:composeEventHandlers(t.onClick,o.onOpenToggle)})});DialogTrigger$1.displayName=TRIGGER_NAME$5;var PORTAL_NAME$5="DialogPortal",[PortalProvider$4,usePortalContext$4]=createDialogContext(PORTAL_NAME$5,{forceMount:void 0}),DialogPortal$1=t=>{const{__scopeDialog:e,forceMount:n,children:i,container:o}=t,u=useDialogContext(PORTAL_NAME$5,e);return jsxRuntimeExports.jsx(PortalProvider$4,{scope:e,forceMount:n,children:reactExports.Children.map(i,l=>jsxRuntimeExports.jsx(Presence,{present:n||u.open,children:jsxRuntimeExports.jsx(Portal$5,{asChild:!0,container:o,children:l})}))})};DialogPortal$1.displayName=PORTAL_NAME$5;var OVERLAY_NAME="DialogOverlay",DialogOverlay$1=reactExports.forwardRef((t,e)=>{const n=usePortalContext$4(OVERLAY_NAME,t.__scopeDialog),{forceMount:i=n.forceMount,...o}=t,u=useDialogContext(OVERLAY_NAME,t.__scopeDialog);return u.modal?jsxRuntimeExports.jsx(Presence,{present:i||u.open,children:jsxRuntimeExports.jsx(DialogOverlayImpl,{...o,ref:e})}):null});DialogOverlay$1.displayName=OVERLAY_NAME;var Slot$2=createSlot$3("DialogOverlay.RemoveScroll"),DialogOverlayImpl=reactExports.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,o=useDialogContext(OVERLAY_NAME,n);return jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot$2,allowPinchZoom:!0,shards:[o.contentRef],children:jsxRuntimeExports.jsx(Primitive$1.div,{"data-state":getState$2(o.open),...i,ref:e,style:{pointerEvents:"auto",...i.style}})})}),CONTENT_NAME$7="DialogContent",DialogContent$1=reactExports.forwardRef((t,e)=>{const n=usePortalContext$4(CONTENT_NAME$7,t.__scopeDialog),{forceMount:i=n.forceMount,...o}=t,u=useDialogContext(CONTENT_NAME$7,t.__scopeDialog);return jsxRuntimeExports.jsx(Presence,{present:i||u.open,children:u.modal?jsxRuntimeExports.jsx(DialogContentModal,{...o,ref:e}):jsxRuntimeExports.jsx(DialogContentNonModal,{...o,ref:e})})});DialogContent$1.displayName=CONTENT_NAME$7;var DialogContentModal=reactExports.forwardRef((t,e)=>{const n=useDialogContext(CONTENT_NAME$7,t.__scopeDialog),i=reactExports.useRef(null),o=useComposedRefs(e,n.contentRef,i);return reactExports.useEffect(()=>{const u=i.current;if(u)return hideOthers(u)},[]),jsxRuntimeExports.jsx(DialogContentImpl,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:composeEventHandlers(t.onCloseAutoFocus,u=>{u.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:composeEventHandlers(t.onPointerDownOutside,u=>{const l=u.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&u.preventDefault()}),onFocusOutside:composeEventHandlers(t.onFocusOutside,u=>u.preventDefault())})}),DialogContentNonModal=reactExports.forwardRef((t,e)=>{const n=useDialogContext(CONTENT_NAME$7,t.__scopeDialog),i=reactExports.useRef(!1),o=reactExports.useRef(!1);return jsxRuntimeExports.jsx(DialogContentImpl,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:u=>{t.onCloseAutoFocus?.(u),u.defaultPrevented||(i.current||n.triggerRef.current?.focus(),u.preventDefault()),i.current=!1,o.current=!1},onInteractOutside:u=>{t.onInteractOutside?.(u),u.defaultPrevented||(i.current=!0,u.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const l=u.target;n.triggerRef.current?.contains(l)&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&o.current&&u.preventDefault()}})}),DialogContentImpl=reactExports.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:u,...l}=t,c=useDialogContext(CONTENT_NAME$7,n),f=reactExports.useRef(null),d=useComposedRefs(e,f);return useFocusGuards(),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FocusScope,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:o,onUnmountAutoFocus:u,children:jsxRuntimeExports.jsx(DismissableLayer,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":getState$2(c.open),...l,ref:d,onDismiss:()=>c.onOpenChange(!1)})}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TitleWarning,{titleId:c.titleId}),jsxRuntimeExports.jsx(DescriptionWarning,{contentRef:f,descriptionId:c.descriptionId})]})]})}),TITLE_NAME="DialogTitle",DialogTitle$1=reactExports.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,o=useDialogContext(TITLE_NAME,n);return jsxRuntimeExports.jsx(Primitive$1.h2,{id:o.titleId,...i,ref:e})});DialogTitle$1.displayName=TITLE_NAME;var DESCRIPTION_NAME="DialogDescription",DialogDescription$1=reactExports.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,o=useDialogContext(DESCRIPTION_NAME,n);return jsxRuntimeExports.jsx(Primitive$1.p,{id:o.descriptionId,...i,ref:e})});DialogDescription$1.displayName=DESCRIPTION_NAME;var CLOSE_NAME$1="DialogClose",DialogClose=reactExports.forwardRef((t,e)=>{const{__scopeDialog:n,...i}=t,o=useDialogContext(CLOSE_NAME$1,n);return jsxRuntimeExports.jsx(Primitive$1.button,{type:"button",...i,ref:e,onClick:composeEventHandlers(t.onClick,()=>o.onOpenChange(!1))})});DialogClose.displayName=CLOSE_NAME$1;function getState$2(t){return t?"open":"closed"}var TITLE_WARNING_NAME="DialogTitleWarning",[WarningProvider,useWarningContext]=createContext2(TITLE_WARNING_NAME,{contentName:CONTENT_NAME$7,titleName:TITLE_NAME,docsSlug:"dialog"}),TitleWarning=({titleId:t})=>{const e=useWarningContext(TITLE_WARNING_NAME),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return reactExports.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},DESCRIPTION_WARNING_NAME="DialogDescriptionWarning",DescriptionWarning=({contentRef:t,descriptionId:e})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${useWarningContext(DESCRIPTION_WARNING_NAME).contentName}}.`;return reactExports.useEffect(()=>{const o=t.current?.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(i))},[i,t,e]),null},Root$6=Dialog$1,Trigger$4=DialogTrigger$1,Portal$4=DialogPortal$1,Overlay=DialogOverlay$1,Content$1=DialogContent$1,Title$6=DialogTitle$1,Description=DialogDescription$1,Close=DialogClose;function Dialog({...t}){return jsxRuntimeExports.jsx(Root$6,{"data-slot":"dialog",...t})}function DialogTrigger({...t}){return jsxRuntimeExports.jsx(Trigger$4,{"data-slot":"dialog-trigger",...t})}function DialogPortal({...t}){return jsxRuntimeExports.jsx(Portal$4,{"data-slot":"dialog-portal",...t})}function DialogOverlay({className:t,...e}){return jsxRuntimeExports.jsx(Overlay,{"data-slot":"dialog-overlay",className:cn$2("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function DialogContent({className:t,children:e,showCloseButton:n=!0,...i}){return jsxRuntimeExports.jsxs(DialogPortal,{"data-slot":"dialog-portal",children:[jsxRuntimeExports.jsx(DialogOverlay,{}),jsxRuntimeExports.jsxs(Content$1,{"data-slot":"dialog-content",className:cn$2("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-sm border p-6 shadow-lg duration-200 sm:max-w-lg",t),...i,children:[e,n&&jsxRuntimeExports.jsxs(Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[jsxRuntimeExports.jsx(X,{}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function DialogHeader({className:t,...e}){return jsxRuntimeExports.jsx("div",{"data-slot":"dialog-header",className:cn$2("flex flex-col gap-2 text-center sm:text-left",t),...e})}function DialogTitle({className:t,...e}){return jsxRuntimeExports.jsx(Title$6,{"data-slot":"dialog-title",className:cn$2("text-lg font-semibold leading-none",t),...e})}function DialogDescription({className:t,...e}){return jsxRuntimeExports.jsx(Description,{"data-slot":"dialog-description",className:cn$2("text-sm text-muted-foreground",t),...e})}const sides=["top","right","bottom","left"],min$2=Math.min,max$3=Math.max,round=Math.round,floor=Math.floor,createCoords=t=>({x:t,y:t}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$1(t,e,n){return max$3(t,min$2(e,n))}function evaluate(t,e){return typeof t=="function"?t(e):t}function getSide(t){return t.split("-")[0]}function getAlignment(t){return t.split("-")[1]}function getOppositeAxis(t){return t==="x"?"y":"x"}function getAxisLength(t){return t==="y"?"height":"width"}const yAxisSides=new Set(["top","bottom"]);function getSideAxis(t){return yAxisSides.has(getSide(t))?"y":"x"}function getAlignmentAxis(t){return getOppositeAxis(getSideAxis(t))}function getAlignmentSides(t,e,n){n===void 0&&(n=!1);const i=getAlignment(t),o=getAlignmentAxis(t),u=getAxisLength(o);let l=o==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[u]>e.floating[u]&&(l=getOppositePlacement(l)),[l,getOppositePlacement(l)]}function getExpandedPlacements(t){const e=getOppositePlacement(t);return[getOppositeAlignmentPlacement(t),e,getOppositeAlignmentPlacement(e)]}function getOppositeAlignmentPlacement(t){return t.replace(/start|end/g,e=>oppositeAlignmentMap[e])}const lrPlacement=["left","right"],rlPlacement=["right","left"],tbPlacement=["top","bottom"],btPlacement=["bottom","top"];function getSideList(t,e,n){switch(t){case"top":case"bottom":return n?e?rlPlacement:lrPlacement:e?lrPlacement:rlPlacement;case"left":case"right":return e?tbPlacement:btPlacement;default:return[]}}function getOppositeAxisPlacements(t,e,n,i){const o=getAlignment(t);let u=getSideList(getSide(t),n==="start",i);return o&&(u=u.map(l=>l+"-"+o),e&&(u=u.concat(u.map(getOppositeAlignmentPlacement)))),u}function getOppositePlacement(t){return t.replace(/left|right|bottom|top/g,e=>oppositeSideMap[e])}function expandPaddingObject(t){return{top:0,right:0,bottom:0,left:0,...t}}function getPaddingObject(t){return typeof t!="number"?expandPaddingObject(t):{top:t,right:t,bottom:t,left:t}}function rectToClientRect(t){const{x:e,y:n,width:i,height:o}=t;return{width:i,height:o,top:n,left:e,right:e+i,bottom:n+o,x:e,y:n}}function computeCoordsFromPlacement(t,e,n){let{reference:i,floating:o}=t;const u=getSideAxis(e),l=getAlignmentAxis(e),c=getAxisLength(l),f=getSide(e),d=u==="y",m=i.x+i.width/2-o.width/2,g=i.y+i.height/2-o.height/2,v=i[c]/2-o[c]/2;let y;switch(f){case"top":y={x:m,y:i.y-o.height};break;case"bottom":y={x:m,y:i.y+i.height};break;case"right":y={x:i.x+i.width,y:g};break;case"left":y={x:i.x-o.width,y:g};break;default:y={x:i.x,y:i.y}}switch(getAlignment(e)){case"start":y[l]-=v*(n&&d?-1:1);break;case"end":y[l]+=v*(n&&d?-1:1);break}return y}const computePosition$1=async(t,e,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:u=[],platform:l}=n,c=u.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let d=await l.getElementRects({reference:t,floating:e,strategy:o}),{x:m,y:g}=computeCoordsFromPlacement(d,i,f),v=i,y={},w=0;for(let T=0;T<c.length;T++){const{name:P,fn:A}=c[T],{x:D,y:k,data:j,reset:B}=await A({x:m,y:g,initialPlacement:i,placement:v,strategy:o,middlewareData:y,rects:d,platform:l,elements:{reference:t,floating:e}});m=D??m,g=k??g,y={...y,[P]:{...y[P],...j}},B&&w<=50&&(w++,typeof B=="object"&&(B.placement&&(v=B.placement),B.rects&&(d=B.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:o}):B.rects),{x:m,y:g}=computeCoordsFromPlacement(d,v,f)),T=-1)}return{x:m,y:g,placement:v,strategy:o,middlewareData:y}};async function detectOverflow(t,e){var n;e===void 0&&(e={});const{x:i,y:o,platform:u,rects:l,elements:c,strategy:f}=t,{boundary:d="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:v=!1,padding:y=0}=evaluate(e,t),w=getPaddingObject(y),P=c[v?g==="floating"?"reference":"floating":g],A=rectToClientRect(await u.getClippingRect({element:(n=await(u.isElement==null?void 0:u.isElement(P)))==null||n?P:P.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(c.floating)),boundary:d,rootBoundary:m,strategy:f})),D=g==="floating"?{x:i,y:o,width:l.floating.width,height:l.floating.height}:l.reference,k=await(u.getOffsetParent==null?void 0:u.getOffsetParent(c.floating)),j=await(u.isElement==null?void 0:u.isElement(k))?await(u.getScale==null?void 0:u.getScale(k))||{x:1,y:1}:{x:1,y:1},B=rectToClientRect(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:D,offsetParent:k,strategy:f}):D);return{top:(A.top-B.top+w.top)/j.y,bottom:(B.bottom-A.bottom+w.bottom)/j.y,left:(A.left-B.left+w.left)/j.x,right:(B.right-A.right+w.right)/j.x}}const arrow$3=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:o,rects:u,platform:l,elements:c,middlewareData:f}=e,{element:d,padding:m=0}=evaluate(t,e)||{};if(d==null)return{};const g=getPaddingObject(m),v={x:n,y:i},y=getAlignmentAxis(o),w=getAxisLength(y),T=await l.getDimensions(d),P=y==="y",A=P?"top":"left",D=P?"bottom":"right",k=P?"clientHeight":"clientWidth",j=u.reference[w]+u.reference[y]-v[y]-u.floating[w],B=v[y]-u.reference[y],Z=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d));let R=Z?Z[k]:0;(!R||!await(l.isElement==null?void 0:l.isElement(Z)))&&(R=c.floating[k]||u.floating[w]);const G=j/2-B/2,F=R/2-T[w]/2-1,K=min$2(g[A],F),Q=min$2(g[D],F),ie=K,te=R-T[w]-Q,oe=R/2-T[w]/2+G,le=clamp$1(ie,oe,te),de=!f.arrow&&getAlignment(o)!=null&&oe!==le&&u.reference[w]/2-(oe<ie?K:Q)-T[w]/2<0,ge=de?oe<ie?oe-ie:oe-te:0;return{[y]:v[y]+ge,data:{[y]:le,centerOffset:oe-le-ge,...de&&{alignmentOffset:ge}},reset:de}}}),flip$2=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:o,middlewareData:u,rects:l,initialPlacement:c,platform:f,elements:d}=e,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:T=!0,...P}=evaluate(t,e);if((n=u.arrow)!=null&&n.alignmentOffset)return{};const A=getSide(o),D=getSideAxis(c),k=getSide(c)===c,j=await(f.isRTL==null?void 0:f.isRTL(d.floating)),B=v||(k||!T?[getOppositePlacement(c)]:getExpandedPlacements(c)),Z=w!=="none";!v&&Z&&B.push(...getOppositeAxisPlacements(c,T,w,j));const R=[c,...B],G=await detectOverflow(e,P),F=[];let K=((i=u.flip)==null?void 0:i.overflows)||[];if(m&&F.push(G[A]),g){const oe=getAlignmentSides(o,l,j);F.push(G[oe[0]],G[oe[1]])}if(K=[...K,{placement:o,overflows:F}],!F.every(oe=>oe<=0)){var Q,ie;const oe=(((Q=u.flip)==null?void 0:Q.index)||0)+1,le=R[oe];if(le&&(!(g==="alignment"?D!==getSideAxis(le):!1)||K.every(_e=>getSideAxis(_e.placement)===D?_e.overflows[0]>0:!0)))return{data:{index:oe,overflows:K},reset:{placement:le}};let de=(ie=K.filter(ge=>ge.overflows[0]<=0).sort((ge,_e)=>ge.overflows[1]-_e.overflows[1])[0])==null?void 0:ie.placement;if(!de)switch(y){case"bestFit":{var te;const ge=(te=K.filter(_e=>{if(Z){const we=getSideAxis(_e.placement);return we===D||we==="y"}return!0}).map(_e=>[_e.placement,_e.overflows.filter(we=>we>0).reduce((we,Me)=>we+Me,0)]).sort((_e,we)=>_e[1]-we[1])[0])==null?void 0:te[0];ge&&(de=ge);break}case"initialPlacement":de=c;break}if(o!==de)return{reset:{placement:de}}}return{}}}};function getSideOffsets(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function isAnySideFullyClipped(t){return sides.some(e=>t[e]>=0)}const hide$2=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...o}=evaluate(t,e);switch(i){case"referenceHidden":{const u=await detectOverflow(e,{...o,elementContext:"reference"}),l=getSideOffsets(u,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:isAnySideFullyClipped(l)}}}case"escaped":{const u=await detectOverflow(e,{...o,altBoundary:!0}),l=getSideOffsets(u,n.floating);return{data:{escapedOffsets:l,escaped:isAnySideFullyClipped(l)}}}default:return{}}}}},originSides=new Set(["left","top"]);async function convertValueToCoords(t,e){const{placement:n,platform:i,elements:o}=t,u=await(i.isRTL==null?void 0:i.isRTL(o.floating)),l=getSide(n),c=getAlignment(n),f=getSideAxis(n)==="y",d=originSides.has(l)?-1:1,m=u&&f?-1:1,g=evaluate(e,t);let{mainAxis:v,crossAxis:y,alignmentAxis:w}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof w=="number"&&(y=c==="end"?w*-1:w),f?{x:y*m,y:v*d}:{x:v*d,y:y*m}}const offset$2=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:o,y:u,placement:l,middlewareData:c}=e,f=await convertValueToCoords(e,t);return l===((n=c.offset)==null?void 0:n.placement)&&(i=c.arrow)!=null&&i.alignmentOffset?{}:{x:o+f.x,y:u+f.y,data:{...f,placement:l}}}}},shift$2=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:o}=e,{mainAxis:u=!0,crossAxis:l=!1,limiter:c={fn:P=>{let{x:A,y:D}=P;return{x:A,y:D}}},...f}=evaluate(t,e),d={x:n,y:i},m=await detectOverflow(e,f),g=getSideAxis(getSide(o)),v=getOppositeAxis(g);let y=d[v],w=d[g];if(u){const P=v==="y"?"top":"left",A=v==="y"?"bottom":"right",D=y+m[P],k=y-m[A];y=clamp$1(D,y,k)}if(l){const P=g==="y"?"top":"left",A=g==="y"?"bottom":"right",D=w+m[P],k=w-m[A];w=clamp$1(D,w,k)}const T=c.fn({...e,[v]:y,[g]:w});return{...T,data:{x:T.x-n,y:T.y-i,enabled:{[v]:u,[g]:l}}}}}},limitShift$2=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:o,rects:u,middlewareData:l}=e,{offset:c=0,mainAxis:f=!0,crossAxis:d=!0}=evaluate(t,e),m={x:n,y:i},g=getSideAxis(o),v=getOppositeAxis(g);let y=m[v],w=m[g];const T=evaluate(c,e),P=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(f){const k=v==="y"?"height":"width",j=u.reference[v]-u.floating[k]+P.mainAxis,B=u.reference[v]+u.reference[k]-P.mainAxis;y<j?y=j:y>B&&(y=B)}if(d){var A,D;const k=v==="y"?"width":"height",j=originSides.has(getSide(o)),B=u.reference[g]-u.floating[k]+(j&&((A=l.offset)==null?void 0:A[g])||0)+(j?0:P.crossAxis),Z=u.reference[g]+u.reference[k]+(j?0:((D=l.offset)==null?void 0:D[g])||0)-(j?P.crossAxis:0);w<B?w=B:w>Z&&(w=Z)}return{[v]:y,[g]:w}}}},size$3=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:o,rects:u,platform:l,elements:c}=e,{apply:f=()=>{},...d}=evaluate(t,e),m=await detectOverflow(e,d),g=getSide(o),v=getAlignment(o),y=getSideAxis(o)==="y",{width:w,height:T}=u.floating;let P,A;g==="top"||g==="bottom"?(P=g,A=v===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(A=g,P=v==="end"?"top":"bottom");const D=T-m.top-m.bottom,k=w-m.left-m.right,j=min$2(T-m[P],D),B=min$2(w-m[A],k),Z=!e.middlewareData.shift;let R=j,G=B;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(G=k),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(R=D),Z&&!v){const K=max$3(m.left,0),Q=max$3(m.right,0),ie=max$3(m.top,0),te=max$3(m.bottom,0);y?G=w-2*(K!==0||Q!==0?K+Q:max$3(m.left,m.right)):R=T-2*(ie!==0||te!==0?ie+te:max$3(m.top,m.bottom))}await f({...e,availableWidth:G,availableHeight:R});const F=await l.getDimensions(c.floating);return w!==F.width||T!==F.height?{reset:{rects:!0}}:{}}}};function hasWindow(){return typeof window<"u"}function getNodeName(t){return isNode(t)?(t.nodeName||"").toLowerCase():"#document"}function getWindow(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function getDocumentElement(t){var e;return(e=(isNode(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function isNode(t){return hasWindow()?t instanceof Node||t instanceof getWindow(t).Node:!1}function isElement$2(t){return hasWindow()?t instanceof Element||t instanceof getWindow(t).Element:!1}function isHTMLElement(t){return hasWindow()?t instanceof HTMLElement||t instanceof getWindow(t).HTMLElement:!1}function isShadowRoot(t){return!hasWindow()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof getWindow(t).ShadowRoot}const invalidOverflowDisplayValues=new Set(["inline","contents"]);function isOverflowElement(t){const{overflow:e,overflowX:n,overflowY:i,display:o}=getComputedStyle$1(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!invalidOverflowDisplayValues.has(o)}const tableElements=new Set(["table","td","th"]);function isTableElement(t){return tableElements.has(getNodeName(t))}const topLayerSelectors=[":popover-open",":modal"];function isTopLayer(t){return topLayerSelectors.some(e=>{try{return t.matches(e)}catch{return!1}})}const transformProperties=["transform","translate","scale","rotate","perspective"],willChangeValues=["transform","translate","scale","rotate","perspective","filter"],containValues=["paint","layout","strict","content"];function isContainingBlock(t){const e=isWebKit(),n=isElement$2(t)?getComputedStyle$1(t):t;return transformProperties.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||willChangeValues.some(i=>(n.willChange||"").includes(i))||containValues.some(i=>(n.contain||"").includes(i))}function getContainingBlock(t){let e=getParentNode(t);for(;isHTMLElement(e)&&!isLastTraversableNode(e);){if(isContainingBlock(e))return e;if(isTopLayer(e))return null;e=getParentNode(e)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lastTraversableNodeNames=new Set(["html","body","#document"]);function isLastTraversableNode(t){return lastTraversableNodeNames.has(getNodeName(t))}function getComputedStyle$1(t){return getWindow(t).getComputedStyle(t)}function getNodeScroll(t){return isElement$2(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function getParentNode(t){if(getNodeName(t)==="html")return t;const e=t.assignedSlot||t.parentNode||isShadowRoot(t)&&t.host||getDocumentElement(t);return isShadowRoot(e)?e.host:e}function getNearestOverflowAncestor(t){const e=getParentNode(t);return isLastTraversableNode(e)?t.ownerDocument?t.ownerDocument.body:t.body:isHTMLElement(e)&&isOverflowElement(e)?e:getNearestOverflowAncestor(e)}function getOverflowAncestors(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=getNearestOverflowAncestor(t),u=o===((i=t.ownerDocument)==null?void 0:i.body),l=getWindow(o);if(u){const c=getFrameElement(l);return e.concat(l,l.visualViewport||[],isOverflowElement(o)?o:[],c&&n?getOverflowAncestors(c):[])}return e.concat(o,getOverflowAncestors(o,[],n))}function getFrameElement(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function getCssDimensions(t){const e=getComputedStyle$1(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const o=isHTMLElement(t),u=o?t.offsetWidth:n,l=o?t.offsetHeight:i,c=round(n)!==u||round(i)!==l;return c&&(n=u,i=l),{width:n,height:i,$:c}}function unwrapElement(t){return isElement$2(t)?t:t.contextElement}function getScale(t){const e=unwrapElement(t);if(!isHTMLElement(e))return createCoords(1);const n=e.getBoundingClientRect(),{width:i,height:o,$:u}=getCssDimensions(e);let l=(u?round(n.width):n.width)/i,c=(u?round(n.height):n.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const noOffsets=createCoords(0);function getVisualOffsets(t){const e=getWindow(t);return!isWebKit()||!e.visualViewport?noOffsets:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function shouldAddVisualOffsets(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==getWindow(t)?!1:e}function getBoundingClientRect(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),u=unwrapElement(t);let l=createCoords(1);e&&(i?isElement$2(i)&&(l=getScale(i)):l=getScale(t));const c=shouldAddVisualOffsets(u,n,i)?getVisualOffsets(u):createCoords(0);let f=(o.left+c.x)/l.x,d=(o.top+c.y)/l.y,m=o.width/l.x,g=o.height/l.y;if(u){const v=getWindow(u),y=i&&isElement$2(i)?getWindow(i):i;let w=v,T=getFrameElement(w);for(;T&&i&&y!==w;){const P=getScale(T),A=T.getBoundingClientRect(),D=getComputedStyle$1(T),k=A.left+(T.clientLeft+parseFloat(D.paddingLeft))*P.x,j=A.top+(T.clientTop+parseFloat(D.paddingTop))*P.y;f*=P.x,d*=P.y,m*=P.x,g*=P.y,f+=k,d+=j,w=getWindow(T),T=getFrameElement(w)}}return rectToClientRect({width:m,height:g,x:f,y:d})}function getWindowScrollBarX(t,e){const n=getNodeScroll(t).scrollLeft;return e?e.left+n:getBoundingClientRect(getDocumentElement(t)).left+n}function getHTMLOffset(t,e){const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-getWindowScrollBarX(t,n),o=n.top+e.scrollTop;return{x:i,y:o}}function convertOffsetParentRelativeRectToViewportRelativeRect(t){let{elements:e,rect:n,offsetParent:i,strategy:o}=t;const u=o==="fixed",l=getDocumentElement(i),c=e?isTopLayer(e.floating):!1;if(i===l||c&&u)return n;let f={scrollLeft:0,scrollTop:0},d=createCoords(1);const m=createCoords(0),g=isHTMLElement(i);if((g||!g&&!u)&&((getNodeName(i)!=="body"||isOverflowElement(l))&&(f=getNodeScroll(i)),isHTMLElement(i))){const y=getBoundingClientRect(i);d=getScale(i),m.x=y.x+i.clientLeft,m.y=y.y+i.clientTop}const v=l&&!g&&!u?getHTMLOffset(l,f):createCoords(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-f.scrollLeft*d.x+m.x+v.x,y:n.y*d.y-f.scrollTop*d.y+m.y+v.y}}function getClientRects(t){return Array.from(t.getClientRects())}function getDocumentRect(t){const e=getDocumentElement(t),n=getNodeScroll(t),i=t.ownerDocument.body,o=max$3(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),u=max$3(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let l=-n.scrollLeft+getWindowScrollBarX(t);const c=-n.scrollTop;return getComputedStyle$1(i).direction==="rtl"&&(l+=max$3(e.clientWidth,i.clientWidth)-o),{width:o,height:u,x:l,y:c}}const SCROLLBAR_MAX=25;function getViewportRect(t,e){const n=getWindow(t),i=getDocumentElement(t),o=n.visualViewport;let u=i.clientWidth,l=i.clientHeight,c=0,f=0;if(o){u=o.width,l=o.height;const m=isWebKit();(!m||m&&e==="fixed")&&(c=o.offsetLeft,f=o.offsetTop)}const d=getWindowScrollBarX(i);if(d<=0){const m=i.ownerDocument,g=m.body,v=getComputedStyle(g),y=m.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,w=Math.abs(i.clientWidth-g.clientWidth-y);w<=SCROLLBAR_MAX&&(u-=w)}else d<=SCROLLBAR_MAX&&(u+=d);return{width:u,height:l,x:c,y:f}}const absoluteOrFixed=new Set(["absolute","fixed"]);function getInnerBoundingClientRect(t,e){const n=getBoundingClientRect(t,!0,e==="fixed"),i=n.top+t.clientTop,o=n.left+t.clientLeft,u=isHTMLElement(t)?getScale(t):createCoords(1),l=t.clientWidth*u.x,c=t.clientHeight*u.y,f=o*u.x,d=i*u.y;return{width:l,height:c,x:f,y:d}}function getClientRectFromClippingAncestor(t,e,n){let i;if(e==="viewport")i=getViewportRect(t,n);else if(e==="document")i=getDocumentRect(getDocumentElement(t));else if(isElement$2(e))i=getInnerBoundingClientRect(e,n);else{const o=getVisualOffsets(t);i={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return rectToClientRect(i)}function hasFixedPositionAncestor(t,e){const n=getParentNode(t);return n===e||!isElement$2(n)||isLastTraversableNode(n)?!1:getComputedStyle$1(n).position==="fixed"||hasFixedPositionAncestor(n,e)}function getClippingElementAncestors(t,e){const n=e.get(t);if(n)return n;let i=getOverflowAncestors(t,[],!1).filter(c=>isElement$2(c)&&getNodeName(c)!=="body"),o=null;const u=getComputedStyle$1(t).position==="fixed";let l=u?getParentNode(t):t;for(;isElement$2(l)&&!isLastTraversableNode(l);){const c=getComputedStyle$1(l),f=isContainingBlock(l);!f&&c.position==="fixed"&&(o=null),(u?!f&&!o:!f&&c.position==="static"&&!!o&&absoluteOrFixed.has(o.position)||isOverflowElement(l)&&!f&&hasFixedPositionAncestor(t,l))?i=i.filter(m=>m!==l):o=c,l=getParentNode(l)}return e.set(t,i),i}function getClippingRect(t){let{element:e,boundary:n,rootBoundary:i,strategy:o}=t;const l=[...n==="clippingAncestors"?isTopLayer(e)?[]:getClippingElementAncestors(e,this._c):[].concat(n),i],c=l[0],f=l.reduce((d,m)=>{const g=getClientRectFromClippingAncestor(e,m,o);return d.top=max$3(g.top,d.top),d.right=min$2(g.right,d.right),d.bottom=min$2(g.bottom,d.bottom),d.left=max$3(g.left,d.left),d},getClientRectFromClippingAncestor(e,c,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function getDimensions(t){const{width:e,height:n}=getCssDimensions(t);return{width:e,height:n}}function getRectRelativeToOffsetParent(t,e,n){const i=isHTMLElement(e),o=getDocumentElement(e),u=n==="fixed",l=getBoundingClientRect(t,!0,u,e);let c={scrollLeft:0,scrollTop:0};const f=createCoords(0);function d(){f.x=getWindowScrollBarX(o)}if(i||!i&&!u)if((getNodeName(e)!=="body"||isOverflowElement(o))&&(c=getNodeScroll(e)),i){const y=getBoundingClientRect(e,!0,u,e);f.x=y.x+e.clientLeft,f.y=y.y+e.clientTop}else o&&d();u&&!i&&o&&d();const m=o&&!i&&!u?getHTMLOffset(o,c):createCoords(0),g=l.left+c.scrollLeft-f.x-m.x,v=l.top+c.scrollTop-f.y-m.y;return{x:g,y:v,width:l.width,height:l.height}}function isStaticPositioned(t){return getComputedStyle$1(t).position==="static"}function getTrueOffsetParent(t,e){if(!isHTMLElement(t)||getComputedStyle$1(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return getDocumentElement(t)===n&&(n=n.ownerDocument.body),n}function getOffsetParent(t,e){const n=getWindow(t);if(isTopLayer(t))return n;if(!isHTMLElement(t)){let o=getParentNode(t);for(;o&&!isLastTraversableNode(o);){if(isElement$2(o)&&!isStaticPositioned(o))return o;o=getParentNode(o)}return n}let i=getTrueOffsetParent(t,e);for(;i&&isTableElement(i)&&isStaticPositioned(i);)i=getTrueOffsetParent(i,e);return i&&isLastTraversableNode(i)&&isStaticPositioned(i)&&!isContainingBlock(i)?n:i||getContainingBlock(t)||n}const getElementRects=async function(t){const e=this.getOffsetParent||getOffsetParent,n=this.getDimensions,i=await n(t.floating);return{reference:getRectRelativeToOffsetParent(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function isRTL(t){return getComputedStyle$1(t).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement:isElement$2,isRTL};function rectsAreEqual(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function observeMove(t,e){let n=null,i;const o=getDocumentElement(t);function u(){var c;clearTimeout(i),(c=n)==null||c.disconnect(),n=null}function l(c,f){c===void 0&&(c=!1),f===void 0&&(f=1),u();const d=t.getBoundingClientRect(),{left:m,top:g,width:v,height:y}=d;if(c||e(),!v||!y)return;const w=floor(g),T=floor(o.clientWidth-(m+v)),P=floor(o.clientHeight-(g+y)),A=floor(m),k={rootMargin:-w+"px "+-T+"px "+-P+"px "+-A+"px",threshold:max$3(0,min$2(1,f))||1};let j=!0;function B(Z){const R=Z[0].intersectionRatio;if(R!==f){if(!j)return l();R?l(!1,R):i=setTimeout(()=>{l(!1,1e-7)},1e3)}R===1&&!rectsAreEqual(d,t.getBoundingClientRect())&&l(),j=!1}try{n=new IntersectionObserver(B,{...k,root:o.ownerDocument})}catch{n=new IntersectionObserver(B,k)}n.observe(t)}return l(!0),u}function autoUpdate(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:u=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:f=!1}=i,d=unwrapElement(t),m=o||u?[...d?getOverflowAncestors(d):[],...getOverflowAncestors(e)]:[];m.forEach(A=>{o&&A.addEventListener("scroll",n,{passive:!0}),u&&A.addEventListener("resize",n)});const g=d&&c?observeMove(d,n):null;let v=-1,y=null;l&&(y=new ResizeObserver(A=>{let[D]=A;D&&D.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var k;(k=y)==null||k.observe(e)})),n()}),d&&!f&&y.observe(d),y.observe(e));let w,T=f?getBoundingClientRect(t):null;f&&P();function P(){const A=getBoundingClientRect(t);T&&!rectsAreEqual(T,A)&&n(),T=A,w=requestAnimationFrame(P)}return n(),()=>{var A;m.forEach(D=>{o&&D.removeEventListener("scroll",n),u&&D.removeEventListener("resize",n)}),g?.(),(A=y)==null||A.disconnect(),y=null,f&&cancelAnimationFrame(w)}}const offset$1=offset$2,shift$1=shift$2,flip$1=flip$2,size$2=size$3,hide$1=hide$2,arrow$2=arrow$3,limitShift$1=limitShift$2,computePosition=(t,e,n)=>{const i=new Map,o={platform,...n},u={...o.platform,_c:i};return computePosition$1(t,e,{...o,platform:u})};var isClient=typeof document<"u",noop$2=function(){},index$1=isClient?reactExports.useLayoutEffect:noop$2;function deepEqual(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,i,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!deepEqual(t[i],e[i]))return!1;return!0}if(o=Object.keys(t),n=o.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,o[i]))return!1;for(i=n;i--!==0;){const u=o[i];if(!(u==="_owner"&&t.$$typeof)&&!deepEqual(t[u],e[u]))return!1}return!0}return t!==t&&e!==e}function getDPR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(t,e){const n=getDPR(t);return Math.round(e*n)/n}function useLatestRef(t){const e=reactExports.useRef(t);return index$1(()=>{e.current=t}),e}function useFloating(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:o,elements:{reference:u,floating:l}={},transform:c=!0,whileElementsMounted:f,open:d}=t,[m,g]=reactExports.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,y]=reactExports.useState(i);deepEqual(v,i)||y(i);const[w,T]=reactExports.useState(null),[P,A]=reactExports.useState(null),D=reactExports.useCallback(_e=>{_e!==Z.current&&(Z.current=_e,T(_e))},[]),k=reactExports.useCallback(_e=>{_e!==R.current&&(R.current=_e,A(_e))},[]),j=u||w,B=l||P,Z=reactExports.useRef(null),R=reactExports.useRef(null),G=reactExports.useRef(m),F=f!=null,K=useLatestRef(f),Q=useLatestRef(o),ie=useLatestRef(d),te=reactExports.useCallback(()=>{if(!Z.current||!R.current)return;const _e={placement:e,strategy:n,middleware:v};Q.current&&(_e.platform=Q.current),computePosition(Z.current,R.current,_e).then(we=>{const Me={...we,isPositioned:ie.current!==!1};oe.current&&!deepEqual(G.current,Me)&&(G.current=Me,reactDomExports.flushSync(()=>{g(Me)}))})},[v,e,n,Q,ie]);index$1(()=>{d===!1&&G.current.isPositioned&&(G.current.isPositioned=!1,g(_e=>({..._e,isPositioned:!1})))},[d]);const oe=reactExports.useRef(!1);index$1(()=>(oe.current=!0,()=>{oe.current=!1}),[]),index$1(()=>{if(j&&(Z.current=j),B&&(R.current=B),j&&B){if(K.current)return K.current(j,B,te);te()}},[j,B,te,K,F]);const le=reactExports.useMemo(()=>({reference:Z,floating:R,setReference:D,setFloating:k}),[D,k]),de=reactExports.useMemo(()=>({reference:j,floating:B}),[j,B]),ge=reactExports.useMemo(()=>{const _e={position:n,left:0,top:0};if(!de.floating)return _e;const we=roundByDPR(de.floating,m.x),Me=roundByDPR(de.floating,m.y);return c?{..._e,transform:"translate("+we+"px, "+Me+"px)",...getDPR(de.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:we,top:Me}},[n,c,de.floating,m.x,m.y]);return reactExports.useMemo(()=>({...m,update:te,refs:le,elements:de,floatingStyles:ge}),[m,te,le,de,ge])}const arrow$1=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:i,padding:o}=typeof t=="function"?t(n):t;return i&&e(i)?i.current!=null?arrow$2({element:i.current,padding:o}).fn(n):{}:i?arrow$2({element:i,padding:o}).fn(n):{}}}},offset=(t,e)=>({...offset$1(t),options:[t,e]}),shift=(t,e)=>({...shift$1(t),options:[t,e]}),limitShift=(t,e)=>({...limitShift$1(t),options:[t,e]}),flip=(t,e)=>({...flip$1(t),options:[t,e]}),size$1=(t,e)=>({...size$2(t),options:[t,e]}),hide=(t,e)=>({...hide$1(t),options:[t,e]}),arrow=(t,e)=>({...arrow$1(t),options:[t,e]});var NAME$2="Arrow",Arrow$1=reactExports.forwardRef((t,e)=>{const{children:n,width:i=10,height:o=5,...u}=t;return jsxRuntimeExports.jsx(Primitive$1.svg,{...u,ref:e,width:i,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:jsxRuntimeExports.jsx("polygon",{points:"0,0 30,0 15,10"})})});Arrow$1.displayName=NAME$2;var Root$5=Arrow$1;function useSize(t){const[e,n]=reactExports.useState(void 0);return useLayoutEffect2(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const u=o[0];let l,c;if("borderBoxSize"in u){const f=u.borderBoxSize,d=Array.isArray(f)?f[0]:f;l=d.inlineSize,c=d.blockSize}else l=t.offsetWidth,c=t.offsetHeight;n({width:l,height:c})});return i.observe(t,{box:"border-box"}),()=>i.unobserve(t)}else n(void 0)},[t]),e}var POPPER_NAME="Popper",[createPopperContext,createPopperScope]=createContextScope(POPPER_NAME),[PopperProvider,usePopperContext]=createPopperContext(POPPER_NAME),Popper=t=>{const{__scopePopper:e,children:n}=t,[i,o]=reactExports.useState(null);return jsxRuntimeExports.jsx(PopperProvider,{scope:e,anchor:i,onAnchorChange:o,children:n})};Popper.displayName=POPPER_NAME;var ANCHOR_NAME$2="PopperAnchor",PopperAnchor=reactExports.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:i,...o}=t,u=usePopperContext(ANCHOR_NAME$2,n),l=reactExports.useRef(null),c=useComposedRefs(e,l),f=reactExports.useRef(null);return reactExports.useEffect(()=>{const d=f.current;f.current=i?.current||l.current,d!==f.current&&u.onAnchorChange(f.current)}),i?null:jsxRuntimeExports.jsx(Primitive$1.div,{...o,ref:c})});PopperAnchor.displayName=ANCHOR_NAME$2;var CONTENT_NAME$6="PopperContent",[PopperContentProvider,useContentContext$1]=createPopperContext(CONTENT_NAME$6),PopperContent=reactExports.forwardRef((t,e)=>{const{__scopePopper:n,side:i="bottom",sideOffset:o=0,align:u="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:f=!0,collisionBoundary:d=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:v=!1,updatePositionStrategy:y="optimized",onPlaced:w,...T}=t,P=usePopperContext(CONTENT_NAME$6,n),[A,D]=reactExports.useState(null),k=useComposedRefs(e,Xe=>D(Xe)),[j,B]=reactExports.useState(null),Z=useSize(j),R=Z?.width??0,G=Z?.height??0,F=i+(u!=="center"?"-"+u:""),K=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},Q=Array.isArray(d)?d:[d],ie=Q.length>0,te={padding:K,boundary:Q.filter(isNotNull),altBoundary:ie},{refs:oe,floatingStyles:le,placement:de,isPositioned:ge,middlewareData:_e}=useFloating({strategy:"fixed",placement:F,whileElementsMounted:(...Xe)=>autoUpdate(...Xe,{animationFrame:y==="always"}),elements:{reference:P.anchor},middleware:[offset({mainAxis:o+G,alignmentAxis:l}),f&&shift({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?limitShift():void 0,...te}),f&&flip({...te}),size$1({...te,apply:({elements:Xe,rects:gt,availableWidth:Ct,availableHeight:ar})=>{const{width:De,height:Oe}=gt.reference,Be=Xe.floating.style;Be.setProperty("--radix-popper-available-width",`${Ct}px`),Be.setProperty("--radix-popper-available-height",`${ar}px`),Be.setProperty("--radix-popper-anchor-width",`${De}px`),Be.setProperty("--radix-popper-anchor-height",`${Oe}px`)}}),j&&arrow({element:j,padding:c}),transformOrigin({arrowWidth:R,arrowHeight:G}),v&&hide({strategy:"referenceHidden",...te})]}),[we,Me]=getSideAndAlignFromPlacement(de),xe=useCallbackRef$1(w);useLayoutEffect2(()=>{ge&&xe?.()},[ge,xe]);const Re=_e.arrow?.x,Se=_e.arrow?.y,Ge=_e.arrow?.centerOffset!==0,[Qe,Je]=reactExports.useState();return useLayoutEffect2(()=>{A&&Je(window.getComputedStyle(A).zIndex)},[A]),jsxRuntimeExports.jsx("div",{ref:oe.setFloating,"data-radix-popper-content-wrapper":"",style:{...le,transform:ge?le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Qe,"--radix-popper-transform-origin":[_e.transformOrigin?.x,_e.transformOrigin?.y].join(" "),..._e.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:jsxRuntimeExports.jsx(PopperContentProvider,{scope:n,placedSide:we,onArrowChange:B,arrowX:Re,arrowY:Se,shouldHideArrow:Ge,children:jsxRuntimeExports.jsx(Primitive$1.div,{"data-side":we,"data-align":Me,...T,ref:k,style:{...T.style,animation:ge?void 0:"none"}})})})});PopperContent.displayName=CONTENT_NAME$6;var ARROW_NAME$5="PopperArrow",OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},PopperArrow=reactExports.forwardRef(function(e,n){const{__scopePopper:i,...o}=e,u=useContentContext$1(ARROW_NAME$5,i),l=OPPOSITE_SIDE[u.placedSide];return jsxRuntimeExports.jsx("span",{ref:u.onArrowChange,style:{position:"absolute",left:u.arrowX,top:u.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[u.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[u.placedSide],visibility:u.shouldHideArrow?"hidden":void 0},children:jsxRuntimeExports.jsx(Root$5,{...o,ref:n,style:{...o.style,display:"block"}})})});PopperArrow.displayName=ARROW_NAME$5;function isNotNull(t){return t!==null}var transformOrigin=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:i,middlewareData:o}=e,l=o.arrow?.centerOffset!==0,c=l?0:t.arrowWidth,f=l?0:t.arrowHeight,[d,m]=getSideAndAlignFromPlacement(n),g={start:"0%",center:"50%",end:"100%"}[m],v=(o.arrow?.x??0)+c/2,y=(o.arrow?.y??0)+f/2;let w="",T="";return d==="bottom"?(w=l?g:`${v}px`,T=`${-f}px`):d==="top"?(w=l?g:`${v}px`,T=`${i.floating.height+f}px`):d==="right"?(w=`${-f}px`,T=l?g:`${y}px`):d==="left"&&(w=`${i.floating.width+f}px`,T=l?g:`${y}px`),{data:{x:w,y:T}}}});function getSideAndAlignFromPlacement(t){const[e,n="center"]=t.split("-");return[e,n]}var Root2$3=Popper,Anchor=PopperAnchor,Content=PopperContent,Arrow=PopperArrow;function createSlot$2(t){const e=createSlotClone$2(t),n=reactExports.forwardRef((i,o)=>{const{children:u,...l}=i,c=reactExports.Children.toArray(u),f=c.find(isSlottable$2);if(f){const d=f.props.children,m=c.map(g=>g===f?reactExports.Children.count(d)>1?reactExports.Children.only(null):reactExports.isValidElement(d)?d.props.children:null:g);return jsxRuntimeExports.jsx(e,{...l,ref:o,children:reactExports.isValidElement(d)?reactExports.cloneElement(d,void 0,m):null})}return jsxRuntimeExports.jsx(e,{...l,ref:o,children:u})});return n.displayName=`${t}.Slot`,n}function createSlotClone$2(t){const e=reactExports.forwardRef((n,i)=>{const{children:o,...u}=n;if(reactExports.isValidElement(o)){const l=getElementRef$2(o),c=mergeProps$2(u,o.props);return o.type!==reactExports.Fragment&&(c.ref=i?composeRefs(i,l):l),reactExports.cloneElement(o,c)}return reactExports.Children.count(o)>1?reactExports.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var SLOTTABLE_IDENTIFIER$3=Symbol("radix.slottable");function isSlottable$2(t){return reactExports.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===SLOTTABLE_IDENTIFIER$3}function mergeProps$2(t,e){const n={...e};for(const i in e){const o=t[i],u=e[i];/^on[A-Z]/.test(i)?o&&u?n[i]=(...c)=>{const f=u(...c);return o(...c),f}:o&&(n[i]=o):i==="style"?n[i]={...o,...u}:i==="className"&&(n[i]=[o,u].filter(Boolean).join(" "))}return{...t,...n}}function getElementRef$2(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var POPOVER_NAME="Popover",[createPopoverContext]=createContextScope(POPOVER_NAME,[createPopperScope]),usePopperScope$3=createPopperScope(),[PopoverProvider,usePopoverContext]=createPopoverContext(POPOVER_NAME),Popover$1=t=>{const{__scopePopover:e,children:n,open:i,defaultOpen:o,onOpenChange:u,modal:l=!1}=t,c=usePopperScope$3(e),f=reactExports.useRef(null),[d,m]=reactExports.useState(!1),[g,v]=useControllableState({prop:i,defaultProp:o??!1,onChange:u,caller:POPOVER_NAME});return jsxRuntimeExports.jsx(Root2$3,{...c,children:jsxRuntimeExports.jsx(PopoverProvider,{scope:e,contentId:useId(),triggerRef:f,open:g,onOpenChange:v,onOpenToggle:reactExports.useCallback(()=>v(y=>!y),[v]),hasCustomAnchor:d,onCustomAnchorAdd:reactExports.useCallback(()=>m(!0),[]),onCustomAnchorRemove:reactExports.useCallback(()=>m(!1),[]),modal:l,children:n})})};Popover$1.displayName=POPOVER_NAME;var ANCHOR_NAME$1="PopoverAnchor",PopoverAnchor=reactExports.forwardRef((t,e)=>{const{__scopePopover:n,...i}=t,o=usePopoverContext(ANCHOR_NAME$1,n),u=usePopperScope$3(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:c}=o;return reactExports.useEffect(()=>(l(),()=>c()),[l,c]),jsxRuntimeExports.jsx(Anchor,{...u,...i,ref:e})});PopoverAnchor.displayName=ANCHOR_NAME$1;var TRIGGER_NAME$4="PopoverTrigger",PopoverTrigger$1=reactExports.forwardRef((t,e)=>{const{__scopePopover:n,...i}=t,o=usePopoverContext(TRIGGER_NAME$4,n),u=usePopperScope$3(n),l=useComposedRefs(e,o.triggerRef),c=jsxRuntimeExports.jsx(Primitive$1.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":getState$1(o.open),...i,ref:l,onClick:composeEventHandlers(t.onClick,o.onOpenToggle)});return o.hasCustomAnchor?c:jsxRuntimeExports.jsx(Anchor,{asChild:!0,...u,children:c})});PopoverTrigger$1.displayName=TRIGGER_NAME$4;var PORTAL_NAME$4="PopoverPortal",[PortalProvider$3,usePortalContext$3]=createPopoverContext(PORTAL_NAME$4,{forceMount:void 0}),PopoverPortal=t=>{const{__scopePopover:e,forceMount:n,children:i,container:o}=t,u=usePopoverContext(PORTAL_NAME$4,e);return jsxRuntimeExports.jsx(PortalProvider$3,{scope:e,forceMount:n,children:jsxRuntimeExports.jsx(Presence,{present:n||u.open,children:jsxRuntimeExports.jsx(Portal$5,{asChild:!0,container:o,children:i})})})};PopoverPortal.displayName=PORTAL_NAME$4;var CONTENT_NAME$5="PopoverContent",PopoverContent$1=reactExports.forwardRef((t,e)=>{const n=usePortalContext$3(CONTENT_NAME$5,t.__scopePopover),{forceMount:i=n.forceMount,...o}=t,u=usePopoverContext(CONTENT_NAME$5,t.__scopePopover);return jsxRuntimeExports.jsx(Presence,{present:i||u.open,children:u.modal?jsxRuntimeExports.jsx(PopoverContentModal,{...o,ref:e}):jsxRuntimeExports.jsx(PopoverContentNonModal,{...o,ref:e})})});PopoverContent$1.displayName=CONTENT_NAME$5;var Slot$1=createSlot$2("PopoverContent.RemoveScroll"),PopoverContentModal=reactExports.forwardRef((t,e)=>{const n=usePopoverContext(CONTENT_NAME$5,t.__scopePopover),i=reactExports.useRef(null),o=useComposedRefs(e,i),u=reactExports.useRef(!1);return reactExports.useEffect(()=>{const l=i.current;if(l)return hideOthers(l)},[]),jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot$1,allowPinchZoom:!0,children:jsxRuntimeExports.jsx(PopoverContentImpl,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:composeEventHandlers(t.onCloseAutoFocus,l=>{l.preventDefault(),u.current||n.triggerRef.current?.focus()}),onPointerDownOutside:composeEventHandlers(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,f=c.button===0&&c.ctrlKey===!0,d=c.button===2||f;u.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:composeEventHandlers(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),PopoverContentNonModal=reactExports.forwardRef((t,e)=>{const n=usePopoverContext(CONTENT_NAME$5,t.__scopePopover),i=reactExports.useRef(!1),o=reactExports.useRef(!1);return jsxRuntimeExports.jsx(PopoverContentImpl,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:u=>{t.onCloseAutoFocus?.(u),u.defaultPrevented||(i.current||n.triggerRef.current?.focus(),u.preventDefault()),i.current=!1,o.current=!1},onInteractOutside:u=>{t.onInteractOutside?.(u),u.defaultPrevented||(i.current=!0,u.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const l=u.target;n.triggerRef.current?.contains(l)&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&o.current&&u.preventDefault()}})}),PopoverContentImpl=reactExports.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:u,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:m,...g}=t,v=usePopoverContext(CONTENT_NAME$5,n),y=usePopperScope$3(n);return useFocusGuards(),jsxRuntimeExports.jsx(FocusScope,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:o,onUnmountAutoFocus:u,children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:m,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:d,onDismiss:()=>v.onOpenChange(!1),children:jsxRuntimeExports.jsx(Content,{"data-state":getState$1(v.open),role:"dialog",id:v.contentId,...y,...g,ref:e,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),CLOSE_NAME="PopoverClose",PopoverClose=reactExports.forwardRef((t,e)=>{const{__scopePopover:n,...i}=t,o=usePopoverContext(CLOSE_NAME,n);return jsxRuntimeExports.jsx(Primitive$1.button,{type:"button",...i,ref:e,onClick:composeEventHandlers(t.onClick,()=>o.onOpenChange(!1))})});PopoverClose.displayName=CLOSE_NAME;var ARROW_NAME$4="PopoverArrow",PopoverArrow=reactExports.forwardRef((t,e)=>{const{__scopePopover:n,...i}=t,o=usePopperScope$3(n);return jsxRuntimeExports.jsx(Arrow,{...o,...i,ref:e})});PopoverArrow.displayName=ARROW_NAME$4;function getState$1(t){return t?"open":"closed"}var Root2$2=Popover$1,Trigger$3=PopoverTrigger$1,Portal$3=PopoverPortal,Content2$4=PopoverContent$1;function Popover({...t}){return jsxRuntimeExports.jsx(Root2$2,{"data-slot":"popover",...t})}function PopoverTrigger({...t}){return jsxRuntimeExports.jsx(Trigger$3,{"data-slot":"popover-trigger",...t})}function PopoverContent({className:t,align:e="center",sideOffset:n=4,...i}){return jsxRuntimeExports.jsx(Portal$3,{children:jsxRuntimeExports.jsx(Content2$4,{"data-slot":"popover-content",align:e,sideOffset:n,className:cn$2("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...i})})}var SLOTTABLE_IDENTIFIER$2=Symbol("radix.slottable");function createSlottable(t){const e=({children:n})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=SLOTTABLE_IDENTIFIER$2,e}var VISUALLY_HIDDEN_STYLES=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),NAME$1="VisuallyHidden",VisuallyHidden=reactExports.forwardRef((t,e)=>jsxRuntimeExports.jsx(Primitive$1.span,{...t,ref:e,style:{...VISUALLY_HIDDEN_STYLES,...t.style}}));VisuallyHidden.displayName=NAME$1;var Root$4=VisuallyHidden,[createTooltipContext]=createContextScope("Tooltip",[createPopperScope]),usePopperScope$2=createPopperScope(),PROVIDER_NAME="TooltipProvider",DEFAULT_DELAY_DURATION=700,TOOLTIP_OPEN="tooltip.open",[TooltipProviderContextProvider,useTooltipProviderContext]=createTooltipContext(PROVIDER_NAME),TooltipProvider$1=t=>{const{__scopeTooltip:e,delayDuration:n=DEFAULT_DELAY_DURATION,skipDelayDuration:i=300,disableHoverableContent:o=!1,children:u}=t,l=reactExports.useRef(!0),c=reactExports.useRef(!1),f=reactExports.useRef(0);return reactExports.useEffect(()=>{const d=f.current;return()=>window.clearTimeout(d)},[]),jsxRuntimeExports.jsx(TooltipProviderContextProvider,{scope:e,isOpenDelayedRef:l,delayDuration:n,onOpen:reactExports.useCallback(()=>{window.clearTimeout(f.current),l.current=!1},[]),onClose:reactExports.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>l.current=!0,i)},[i]),isPointerInTransitRef:c,onPointerInTransitChange:reactExports.useCallback(d=>{c.current=d},[]),disableHoverableContent:o,children:u})};TooltipProvider$1.displayName=PROVIDER_NAME;var TOOLTIP_NAME="Tooltip",[TooltipContextProvider,useTooltipContext]=createTooltipContext(TOOLTIP_NAME),Tooltip$2=t=>{const{__scopeTooltip:e,children:n,open:i,defaultOpen:o,onOpenChange:u,disableHoverableContent:l,delayDuration:c}=t,f=useTooltipProviderContext(TOOLTIP_NAME,t.__scopeTooltip),d=usePopperScope$2(e),[m,g]=reactExports.useState(null),v=useId(),y=reactExports.useRef(0),w=l??f.disableHoverableContent,T=c??f.delayDuration,P=reactExports.useRef(!1),[A,D]=useControllableState({prop:i,defaultProp:o??!1,onChange:R=>{R?(f.onOpen(),document.dispatchEvent(new CustomEvent(TOOLTIP_OPEN))):f.onClose(),u?.(R)},caller:TOOLTIP_NAME}),k=reactExports.useMemo(()=>A?P.current?"delayed-open":"instant-open":"closed",[A]),j=reactExports.useCallback(()=>{window.clearTimeout(y.current),y.current=0,P.current=!1,D(!0)},[D]),B=reactExports.useCallback(()=>{window.clearTimeout(y.current),y.current=0,D(!1)},[D]),Z=reactExports.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{P.current=!0,D(!0),y.current=0},T)},[T,D]);return reactExports.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),jsxRuntimeExports.jsx(Root2$3,{...d,children:jsxRuntimeExports.jsx(TooltipContextProvider,{scope:e,contentId:v,open:A,stateAttribute:k,trigger:m,onTriggerChange:g,onTriggerEnter:reactExports.useCallback(()=>{f.isOpenDelayedRef.current?Z():j()},[f.isOpenDelayedRef,Z,j]),onTriggerLeave:reactExports.useCallback(()=>{w?B():(window.clearTimeout(y.current),y.current=0)},[B,w]),onOpen:j,onClose:B,disableHoverableContent:w,children:n})})};Tooltip$2.displayName=TOOLTIP_NAME;var TRIGGER_NAME$3="TooltipTrigger",TooltipTrigger$1=reactExports.forwardRef((t,e)=>{const{__scopeTooltip:n,...i}=t,o=useTooltipContext(TRIGGER_NAME$3,n),u=useTooltipProviderContext(TRIGGER_NAME$3,n),l=usePopperScope$2(n),c=reactExports.useRef(null),f=useComposedRefs(e,c,o.onTriggerChange),d=reactExports.useRef(!1),m=reactExports.useRef(!1),g=reactExports.useCallback(()=>d.current=!1,[]);return reactExports.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),jsxRuntimeExports.jsx(Anchor,{asChild:!0,...l,children:jsxRuntimeExports.jsx(Primitive$1.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...i,ref:f,onPointerMove:composeEventHandlers(t.onPointerMove,v=>{v.pointerType!=="touch"&&!m.current&&!u.isPointerInTransitRef.current&&(o.onTriggerEnter(),m.current=!0)}),onPointerLeave:composeEventHandlers(t.onPointerLeave,()=>{o.onTriggerLeave(),m.current=!1}),onPointerDown:composeEventHandlers(t.onPointerDown,()=>{o.open&&o.onClose(),d.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:composeEventHandlers(t.onFocus,()=>{d.current||o.onOpen()}),onBlur:composeEventHandlers(t.onBlur,o.onClose),onClick:composeEventHandlers(t.onClick,o.onClose)})})});TooltipTrigger$1.displayName=TRIGGER_NAME$3;var PORTAL_NAME$3="TooltipPortal",[PortalProvider$2,usePortalContext$2]=createTooltipContext(PORTAL_NAME$3,{forceMount:void 0}),TooltipPortal=t=>{const{__scopeTooltip:e,forceMount:n,children:i,container:o}=t,u=useTooltipContext(PORTAL_NAME$3,e);return jsxRuntimeExports.jsx(PortalProvider$2,{scope:e,forceMount:n,children:jsxRuntimeExports.jsx(Presence,{present:n||u.open,children:jsxRuntimeExports.jsx(Portal$5,{asChild:!0,container:o,children:i})})})};TooltipPortal.displayName=PORTAL_NAME$3;var CONTENT_NAME$4="TooltipContent",TooltipContent$1=reactExports.forwardRef((t,e)=>{const n=usePortalContext$2(CONTENT_NAME$4,t.__scopeTooltip),{forceMount:i=n.forceMount,side:o="top",...u}=t,l=useTooltipContext(CONTENT_NAME$4,t.__scopeTooltip);return jsxRuntimeExports.jsx(Presence,{present:i||l.open,children:l.disableHoverableContent?jsxRuntimeExports.jsx(TooltipContentImpl,{side:o,...u,ref:e}):jsxRuntimeExports.jsx(TooltipContentHoverable,{side:o,...u,ref:e})})}),TooltipContentHoverable=reactExports.forwardRef((t,e)=>{const n=useTooltipContext(CONTENT_NAME$4,t.__scopeTooltip),i=useTooltipProviderContext(CONTENT_NAME$4,t.__scopeTooltip),o=reactExports.useRef(null),u=useComposedRefs(e,o),[l,c]=reactExports.useState(null),{trigger:f,onClose:d}=n,m=o.current,{onPointerInTransitChange:g}=i,v=reactExports.useCallback(()=>{c(null),g(!1)},[g]),y=reactExports.useCallback((w,T)=>{const P=w.currentTarget,A={x:w.clientX,y:w.clientY},D=getExitSideFromRect(A,P.getBoundingClientRect()),k=getPaddedExitPoints(A,D),j=getPointsFromRect(T.getBoundingClientRect()),B=getHull([...k,...j]);c(B),g(!0)},[g]);return reactExports.useEffect(()=>()=>v(),[v]),reactExports.useEffect(()=>{if(f&&m){const w=P=>y(P,m),T=P=>y(P,f);return f.addEventListener("pointerleave",w),m.addEventListener("pointerleave",T),()=>{f.removeEventListener("pointerleave",w),m.removeEventListener("pointerleave",T)}}},[f,m,y,v]),reactExports.useEffect(()=>{if(l){const w=T=>{const P=T.target,A={x:T.clientX,y:T.clientY},D=f?.contains(P)||m?.contains(P),k=!isPointInPolygon$1(A,l);D?v():k&&(v(),d())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[f,m,l,d,v]),jsxRuntimeExports.jsx(TooltipContentImpl,{...t,ref:u})}),[VisuallyHiddenContentContextProvider,useVisuallyHiddenContentContext]=createTooltipContext(TOOLTIP_NAME,{isInside:!1}),Slottable=createSlottable("TooltipContent"),TooltipContentImpl=reactExports.forwardRef((t,e)=>{const{__scopeTooltip:n,children:i,"aria-label":o,onEscapeKeyDown:u,onPointerDownOutside:l,...c}=t,f=useTooltipContext(CONTENT_NAME$4,n),d=usePopperScope$2(n),{onClose:m}=f;return reactExports.useEffect(()=>(document.addEventListener(TOOLTIP_OPEN,m),()=>document.removeEventListener(TOOLTIP_OPEN,m)),[m]),reactExports.useEffect(()=>{if(f.trigger){const g=v=>{v.target?.contains(f.trigger)&&m()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[f.trigger,m]),jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:u,onPointerDownOutside:l,onFocusOutside:g=>g.preventDefault(),onDismiss:m,children:jsxRuntimeExports.jsxs(Content,{"data-state":f.stateAttribute,...d,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[jsxRuntimeExports.jsx(Slottable,{children:i}),jsxRuntimeExports.jsx(VisuallyHiddenContentContextProvider,{scope:n,isInside:!0,children:jsxRuntimeExports.jsx(Root$4,{id:f.contentId,role:"tooltip",children:o||i})})]})})});TooltipContent$1.displayName=CONTENT_NAME$4;var ARROW_NAME$3="TooltipArrow",TooltipArrow=reactExports.forwardRef((t,e)=>{const{__scopeTooltip:n,...i}=t,o=usePopperScope$2(n);return useVisuallyHiddenContentContext(ARROW_NAME$3,n).isInside?null:jsxRuntimeExports.jsx(Arrow,{...o,...i,ref:e})});TooltipArrow.displayName=ARROW_NAME$3;function getExitSideFromRect(t,e){const n=Math.abs(e.top-t.y),i=Math.abs(e.bottom-t.y),o=Math.abs(e.right-t.x),u=Math.abs(e.left-t.x);switch(Math.min(n,i,o,u)){case u:return"left";case o:return"right";case n:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function getPaddedExitPoints(t,e,n=5){const i=[];switch(e){case"top":i.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":i.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":i.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":i.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return i}function getPointsFromRect(t){const{top:e,right:n,bottom:i,left:o}=t;return[{x:o,y:e},{x:n,y:e},{x:n,y:i},{x:o,y:i}]}function isPointInPolygon$1(t,e){const{x:n,y:i}=t;let o=!1;for(let u=0,l=e.length-1;u<e.length;l=u++){const c=e[u],f=e[l],d=c.x,m=c.y,g=f.x,v=f.y;m>i!=v>i&&n<(g-d)*(i-m)/(v-m)+d&&(o=!o)}return o}function getHull(t){const e=t.slice();return e.sort((n,i)=>n.x<i.x?-1:n.x>i.x?1:n.y<i.y?-1:n.y>i.y?1:0),getHullPresorted(e)}function getHullPresorted(t){if(t.length<=1)return t.slice();const e=[];for(let i=0;i<t.length;i++){const o=t[i];for(;e.length>=2;){const u=e[e.length-1],l=e[e.length-2];if((u.x-l.x)*(o.y-l.y)>=(u.y-l.y)*(o.x-l.x))e.pop();else break}e.push(o)}e.pop();const n=[];for(let i=t.length-1;i>=0;i--){const o=t[i];for(;n.length>=2;){const u=n[n.length-1],l=n[n.length-2];if((u.x-l.x)*(o.y-l.y)>=(u.y-l.y)*(o.x-l.x))n.pop();else break}n.push(o)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Provider=TooltipProvider$1,Root3$1=Tooltip$2,Trigger$2=TooltipTrigger$1,Portal$2=TooltipPortal,Content2$3=TooltipContent$1,Arrow2$2=TooltipArrow;function TooltipProvider({delayDuration:t=0,...e}){return jsxRuntimeExports.jsx(Provider,{"data-slot":"tooltip-provider",delayDuration:t,...e})}function Tooltip$1({...t}){return jsxRuntimeExports.jsx(TooltipProvider,{children:jsxRuntimeExports.jsx(Root3$1,{"data-slot":"tooltip",...t})})}function TooltipTrigger({...t}){return jsxRuntimeExports.jsx(Trigger$2,{"data-slot":"tooltip-trigger",...t})}function TooltipContent({className:t,sideOffset:e=0,children:n,...i}){return jsxRuntimeExports.jsx(Portal$2,{children:jsxRuntimeExports.jsxs(Content2$3,{"data-slot":"tooltip-content",sideOffset:e,className:cn$2("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...i,children:[n,jsxRuntimeExports.jsx(Arrow2$2,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}function SimpleTooltip({children:t,title:e,delayDuration:n=500}){return jsxRuntimeExports.jsxs(Tooltip$1,{delayDuration:n,children:[jsxRuntimeExports.jsx(TooltipTrigger,{asChild:!0,children:t}),jsxRuntimeExports.jsx(TooltipContent,{children:e})]})}function createSlot$1(t){const e=createSlotClone$1(t),n=reactExports.forwardRef((i,o)=>{const{children:u,...l}=i,c=reactExports.Children.toArray(u),f=c.find(isSlottable$1);if(f){const d=f.props.children,m=c.map(g=>g===f?reactExports.Children.count(d)>1?reactExports.Children.only(null):reactExports.isValidElement(d)?d.props.children:null:g);return jsxRuntimeExports.jsx(e,{...l,ref:o,children:reactExports.isValidElement(d)?reactExports.cloneElement(d,void 0,m):null})}return jsxRuntimeExports.jsx(e,{...l,ref:o,children:u})});return n.displayName=`${t}.Slot`,n}function createSlotClone$1(t){const e=reactExports.forwardRef((n,i)=>{const{children:o,...u}=n;if(reactExports.isValidElement(o)){const l=getElementRef$1(o),c=mergeProps$1(u,o.props);return o.type!==reactExports.Fragment&&(c.ref=i?composeRefs(i,l):l),reactExports.cloneElement(o,c)}return reactExports.Children.count(o)>1?reactExports.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var SLOTTABLE_IDENTIFIER$1=Symbol("radix.slottable");function isSlottable$1(t){return reactExports.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===SLOTTABLE_IDENTIFIER$1}function mergeProps$1(t,e){const n={...e};for(const i in e){const o=t[i],u=e[i];/^on[A-Z]/.test(i)?o&&u?n[i]=(...c)=>{const f=u(...c);return o(...c),f}:o&&(n[i]=o):i==="style"?n[i]={...o,...u}:i==="className"&&(n[i]=[o,u].filter(Boolean).join(" "))}return{...t,...n}}function getElementRef$1(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function createCollection(t){const e=t+"CollectionProvider",[n,i]=createContextScope(e),[o,u]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=T=>{const{scope:P,children:A}=T,D=React.useRef(null),k=React.useRef(new Map).current;return jsxRuntimeExports.jsx(o,{scope:P,itemMap:k,collectionRef:D,children:A})};l.displayName=e;const c=t+"CollectionSlot",f=createSlot$1(c),d=React.forwardRef((T,P)=>{const{scope:A,children:D}=T,k=u(c,A),j=useComposedRefs(P,k.collectionRef);return jsxRuntimeExports.jsx(f,{ref:j,children:D})});d.displayName=c;const m=t+"CollectionItemSlot",g="data-radix-collection-item",v=createSlot$1(m),y=React.forwardRef((T,P)=>{const{scope:A,children:D,...k}=T,j=React.useRef(null),B=useComposedRefs(P,j),Z=u(m,A);return React.useEffect(()=>(Z.itemMap.set(j,{ref:j,...k}),()=>{Z.itemMap.delete(j)})),jsxRuntimeExports.jsx(v,{[g]:"",ref:B,children:D})});y.displayName=m;function w(T){const P=u(t+"CollectionConsumer",T);return React.useCallback(()=>{const D=P.collectionRef.current;if(!D)return[];const k=Array.from(D.querySelectorAll(`[${g}]`));return Array.from(P.itemMap.values()).sort((Z,R)=>k.indexOf(Z.ref.current)-k.indexOf(R.ref.current))},[P.collectionRef,P.itemMap])}return[{Provider:l,Slot:d,ItemSlot:y},w,i]}var DirectionContext=reactExports.createContext(void 0);function useDirection(t){const e=reactExports.useContext(DirectionContext);return t||e||"ltr"}var ENTRY_FOCUS="rovingFocusGroup.onEntryFocus",EVENT_OPTIONS={bubbles:!1,cancelable:!0},GROUP_NAME$2="RovingFocusGroup",[Collection$1,useCollection$1,createCollectionScope$1]=createCollection(GROUP_NAME$2),[createRovingFocusGroupContext,createRovingFocusGroupScope]=createContextScope(GROUP_NAME$2,[createCollectionScope$1]),[RovingFocusProvider,useRovingFocusContext]=createRovingFocusGroupContext(GROUP_NAME$2),RovingFocusGroup=reactExports.forwardRef((t,e)=>jsxRuntimeExports.jsx(Collection$1.Provider,{scope:t.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(Collection$1.Slot,{scope:t.__scopeRovingFocusGroup,children:jsxRuntimeExports.jsx(RovingFocusGroupImpl,{...t,ref:e})})}));RovingFocusGroup.displayName=GROUP_NAME$2;var RovingFocusGroupImpl=reactExports.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:o=!1,dir:u,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:f,onEntryFocus:d,preventScrollOnEntryFocus:m=!1,...g}=t,v=reactExports.useRef(null),y=useComposedRefs(e,v),w=useDirection(u),[T,P]=useControllableState({prop:l,defaultProp:c??null,onChange:f,caller:GROUP_NAME$2}),[A,D]=reactExports.useState(!1),k=useCallbackRef$1(d),j=useCollection$1(n),B=reactExports.useRef(!1),[Z,R]=reactExports.useState(0);return reactExports.useEffect(()=>{const G=v.current;if(G)return G.addEventListener(ENTRY_FOCUS,k),()=>G.removeEventListener(ENTRY_FOCUS,k)},[k]),jsxRuntimeExports.jsx(RovingFocusProvider,{scope:n,orientation:i,dir:w,loop:o,currentTabStopId:T,onItemFocus:reactExports.useCallback(G=>P(G),[P]),onItemShiftTab:reactExports.useCallback(()=>D(!0),[]),onFocusableItemAdd:reactExports.useCallback(()=>R(G=>G+1),[]),onFocusableItemRemove:reactExports.useCallback(()=>R(G=>G-1),[]),children:jsxRuntimeExports.jsx(Primitive$1.div,{tabIndex:A||Z===0?-1:0,"data-orientation":i,...g,ref:y,style:{outline:"none",...t.style},onMouseDown:composeEventHandlers(t.onMouseDown,()=>{B.current=!0}),onFocus:composeEventHandlers(t.onFocus,G=>{const F=!B.current;if(G.target===G.currentTarget&&F&&!A){const K=new CustomEvent(ENTRY_FOCUS,EVENT_OPTIONS);if(G.currentTarget.dispatchEvent(K),!K.defaultPrevented){const Q=j().filter(de=>de.focusable),ie=Q.find(de=>de.active),te=Q.find(de=>de.id===T),le=[ie,te,...Q].filter(Boolean).map(de=>de.ref.current);focusFirst$1(le,m)}}B.current=!1}),onBlur:composeEventHandlers(t.onBlur,()=>D(!1))})})}),ITEM_NAME$2="RovingFocusGroupItem",RovingFocusGroupItem=reactExports.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:o=!1,tabStopId:u,children:l,...c}=t,f=useId(),d=u||f,m=useRovingFocusContext(ITEM_NAME$2,n),g=m.currentTabStopId===d,v=useCollection$1(n),{onFocusableItemAdd:y,onFocusableItemRemove:w,currentTabStopId:T}=m;return reactExports.useEffect(()=>{if(i)return y(),()=>w()},[i,y,w]),jsxRuntimeExports.jsx(Collection$1.ItemSlot,{scope:n,id:d,focusable:i,active:o,children:jsxRuntimeExports.jsx(Primitive$1.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...c,ref:e,onMouseDown:composeEventHandlers(t.onMouseDown,P=>{i?m.onItemFocus(d):P.preventDefault()}),onFocus:composeEventHandlers(t.onFocus,()=>m.onItemFocus(d)),onKeyDown:composeEventHandlers(t.onKeyDown,P=>{if(P.key==="Tab"&&P.shiftKey){m.onItemShiftTab();return}if(P.target!==P.currentTarget)return;const A=getFocusIntent(P,m.orientation,m.dir);if(A!==void 0){if(P.metaKey||P.ctrlKey||P.altKey||P.shiftKey)return;P.preventDefault();let k=v().filter(j=>j.focusable).map(j=>j.ref.current);if(A==="last")k.reverse();else if(A==="prev"||A==="next"){A==="prev"&&k.reverse();const j=k.indexOf(P.currentTarget);k=m.loop?wrapArray$1(k,j+1):k.slice(j+1)}setTimeout(()=>focusFirst$1(k))}}),children:typeof l=="function"?l({isCurrentTabStop:g,hasTabStop:T!=null}):l})})});RovingFocusGroupItem.displayName=ITEM_NAME$2;var MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function getDirectionAwareKey(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function getFocusIntent(t,e,n){const i=getDirectionAwareKey(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return MAP_KEY_TO_FOCUS_INTENT[i]}function focusFirst$1(t,e=!1){const n=document.activeElement;for(const i of t)if(i===n||(i.focus({preventScroll:e}),document.activeElement!==n))return}function wrapArray$1(t,e){return t.map((n,i)=>t[(e+i)%t.length])}var Root$3=RovingFocusGroup,Item=RovingFocusGroupItem;function createSlot(t){const e=createSlotClone(t),n=reactExports.forwardRef((i,o)=>{const{children:u,...l}=i,c=reactExports.Children.toArray(u),f=c.find(isSlottable);if(f){const d=f.props.children,m=c.map(g=>g===f?reactExports.Children.count(d)>1?reactExports.Children.only(null):reactExports.isValidElement(d)?d.props.children:null:g);return jsxRuntimeExports.jsx(e,{...l,ref:o,children:reactExports.isValidElement(d)?reactExports.cloneElement(d,void 0,m):null})}return jsxRuntimeExports.jsx(e,{...l,ref:o,children:u})});return n.displayName=`${t}.Slot`,n}function createSlotClone(t){const e=reactExports.forwardRef((n,i)=>{const{children:o,...u}=n;if(reactExports.isValidElement(o)){const l=getElementRef(o),c=mergeProps(u,o.props);return o.type!==reactExports.Fragment&&(c.ref=i?composeRefs(i,l):l),reactExports.cloneElement(o,c)}return reactExports.Children.count(o)>1?reactExports.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var SLOTTABLE_IDENTIFIER=Symbol("radix.slottable");function isSlottable(t){return reactExports.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===SLOTTABLE_IDENTIFIER}function mergeProps(t,e){const n={...e};for(const i in e){const o=t[i],u=e[i];/^on[A-Z]/.test(i)?o&&u?n[i]=(...c)=>{const f=u(...c);return o(...c),f}:o&&(n[i]=o):i==="style"?n[i]={...o,...u}:i==="className"&&(n[i]=[o,u].filter(Boolean).join(" "))}return{...t,...n}}function getElementRef(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var SELECTION_KEYS=["Enter"," "],FIRST_KEYS=["ArrowDown","PageUp","Home"],LAST_KEYS=["ArrowUp","PageDown","End"],FIRST_LAST_KEYS=[...FIRST_KEYS,...LAST_KEYS],SUB_OPEN_KEYS={ltr:[...SELECTION_KEYS,"ArrowRight"],rtl:[...SELECTION_KEYS,"ArrowLeft"]},SUB_CLOSE_KEYS={ltr:["ArrowLeft"],rtl:["ArrowRight"]},MENU_NAME="Menu",[Collection,useCollection,createCollectionScope]=createCollection(MENU_NAME),[createMenuContext,createMenuScope]=createContextScope(MENU_NAME,[createCollectionScope,createPopperScope,createRovingFocusGroupScope]),usePopperScope$1=createPopperScope(),useRovingFocusGroupScope=createRovingFocusGroupScope(),[MenuProvider,useMenuContext]=createMenuContext(MENU_NAME),[MenuRootProvider,useMenuRootContext]=createMenuContext(MENU_NAME),Menu$6=t=>{const{__scopeMenu:e,open:n=!1,children:i,dir:o,onOpenChange:u,modal:l=!0}=t,c=usePopperScope$1(e),[f,d]=reactExports.useState(null),m=reactExports.useRef(!1),g=useCallbackRef$1(u),v=useDirection(o);return reactExports.useEffect(()=>{const y=()=>{m.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>m.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),jsxRuntimeExports.jsx(Root2$3,{...c,children:jsxRuntimeExports.jsx(MenuProvider,{scope:e,open:n,onOpenChange:g,content:f,onContentChange:d,children:jsxRuntimeExports.jsx(MenuRootProvider,{scope:e,onClose:reactExports.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:m,dir:v,modal:l,children:i})})})};Menu$6.displayName=MENU_NAME;var ANCHOR_NAME="MenuAnchor",MenuAnchor=reactExports.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t,o=usePopperScope$1(n);return jsxRuntimeExports.jsx(Anchor,{...o,...i,ref:e})});MenuAnchor.displayName=ANCHOR_NAME;var PORTAL_NAME$2="MenuPortal",[PortalProvider$1,usePortalContext$1]=createMenuContext(PORTAL_NAME$2,{forceMount:void 0}),MenuPortal=t=>{const{__scopeMenu:e,forceMount:n,children:i,container:o}=t,u=useMenuContext(PORTAL_NAME$2,e);return jsxRuntimeExports.jsx(PortalProvider$1,{scope:e,forceMount:n,children:jsxRuntimeExports.jsx(Presence,{present:n||u.open,children:jsxRuntimeExports.jsx(Portal$5,{asChild:!0,container:o,children:i})})})};MenuPortal.displayName=PORTAL_NAME$2;var CONTENT_NAME$3="MenuContent",[MenuContentProvider,useMenuContentContext]=createMenuContext(CONTENT_NAME$3),MenuContent=reactExports.forwardRef((t,e)=>{const n=usePortalContext$1(CONTENT_NAME$3,t.__scopeMenu),{forceMount:i=n.forceMount,...o}=t,u=useMenuContext(CONTENT_NAME$3,t.__scopeMenu),l=useMenuRootContext(CONTENT_NAME$3,t.__scopeMenu);return jsxRuntimeExports.jsx(Collection.Provider,{scope:t.__scopeMenu,children:jsxRuntimeExports.jsx(Presence,{present:i||u.open,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:t.__scopeMenu,children:l.modal?jsxRuntimeExports.jsx(MenuRootContentModal,{...o,ref:e}):jsxRuntimeExports.jsx(MenuRootContentNonModal,{...o,ref:e})})})})}),MenuRootContentModal=reactExports.forwardRef((t,e)=>{const n=useMenuContext(CONTENT_NAME$3,t.__scopeMenu),i=reactExports.useRef(null),o=useComposedRefs(e,i);return reactExports.useEffect(()=>{const u=i.current;if(u)return hideOthers(u)},[]),jsxRuntimeExports.jsx(MenuContentImpl,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:composeEventHandlers(t.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),MenuRootContentNonModal=reactExports.forwardRef((t,e)=>{const n=useMenuContext(CONTENT_NAME$3,t.__scopeMenu);return jsxRuntimeExports.jsx(MenuContentImpl,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Slot=createSlot("MenuContent.ScrollLock"),MenuContentImpl=reactExports.forwardRef((t,e)=>{const{__scopeMenu:n,loop:i=!1,trapFocus:o,onOpenAutoFocus:u,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:f,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:v,onDismiss:y,disableOutsideScroll:w,...T}=t,P=useMenuContext(CONTENT_NAME$3,n),A=useMenuRootContext(CONTENT_NAME$3,n),D=usePopperScope$1(n),k=useRovingFocusGroupScope(n),j=useCollection(n),[B,Z]=reactExports.useState(null),R=reactExports.useRef(null),G=useComposedRefs(e,R,P.onContentChange),F=reactExports.useRef(0),K=reactExports.useRef(""),Q=reactExports.useRef(0),ie=reactExports.useRef(null),te=reactExports.useRef("right"),oe=reactExports.useRef(0),le=w?ReactRemoveScroll:reactExports.Fragment,de=w?{as:Slot,allowPinchZoom:!0}:void 0,ge=we=>{const Me=K.current+we,xe=j().filter(Xe=>!Xe.disabled),Re=document.activeElement,Se=xe.find(Xe=>Xe.ref.current===Re)?.textValue,Ge=xe.map(Xe=>Xe.textValue),Qe=getNextMatch(Ge,Me,Se),Je=xe.find(Xe=>Xe.textValue===Qe)?.ref.current;(function Xe(gt){K.current=gt,window.clearTimeout(F.current),gt!==""&&(F.current=window.setTimeout(()=>Xe(""),1e3))})(Me),Je&&setTimeout(()=>Je.focus())};reactExports.useEffect(()=>()=>window.clearTimeout(F.current),[]),useFocusGuards();const _e=reactExports.useCallback(we=>te.current===ie.current?.side&&isPointerInGraceArea(we,ie.current?.area),[]);return jsxRuntimeExports.jsx(MenuContentProvider,{scope:n,searchRef:K,onItemEnter:reactExports.useCallback(we=>{_e(we)&&we.preventDefault()},[_e]),onItemLeave:reactExports.useCallback(we=>{_e(we)||(R.current?.focus(),Z(null))},[_e]),onTriggerLeave:reactExports.useCallback(we=>{_e(we)&&we.preventDefault()},[_e]),pointerGraceTimerRef:Q,onPointerGraceIntentChange:reactExports.useCallback(we=>{ie.current=we},[]),children:jsxRuntimeExports.jsx(le,{...de,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:o,onMountAutoFocus:composeEventHandlers(u,we=>{we.preventDefault(),R.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:v,onDismiss:y,children:jsxRuntimeExports.jsx(Root$3,{asChild:!0,...k,dir:A.dir,orientation:"vertical",loop:i,currentTabStopId:B,onCurrentTabStopIdChange:Z,onEntryFocus:composeEventHandlers(f,we=>{A.isUsingKeyboardRef.current||we.preventDefault()}),preventScrollOnEntryFocus:!0,children:jsxRuntimeExports.jsx(Content,{role:"menu","aria-orientation":"vertical","data-state":getOpenState(P.open),"data-radix-menu-content":"",dir:A.dir,...D,...T,ref:G,style:{outline:"none",...T.style},onKeyDown:composeEventHandlers(T.onKeyDown,we=>{const xe=we.target.closest("[data-radix-menu-content]")===we.currentTarget,Re=we.ctrlKey||we.altKey||we.metaKey,Se=we.key.length===1;xe&&(we.key==="Tab"&&we.preventDefault(),!Re&&Se&&ge(we.key));const Ge=R.current;if(we.target!==Ge||!FIRST_LAST_KEYS.includes(we.key))return;we.preventDefault();const Je=j().filter(Xe=>!Xe.disabled).map(Xe=>Xe.ref.current);LAST_KEYS.includes(we.key)&&Je.reverse(),focusFirst(Je)}),onBlur:composeEventHandlers(t.onBlur,we=>{we.currentTarget.contains(we.target)||(window.clearTimeout(F.current),K.current="")}),onPointerMove:composeEventHandlers(t.onPointerMove,whenMouse(we=>{const Me=we.target,xe=oe.current!==we.clientX;if(we.currentTarget.contains(Me)&&xe){const Re=we.clientX>oe.current?"right":"left";te.current=Re,oe.current=we.clientX}}))})})})})})})});MenuContent.displayName=CONTENT_NAME$3;var GROUP_NAME$1="MenuGroup",MenuGroup=reactExports.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t;return jsxRuntimeExports.jsx(Primitive$1.div,{role:"group",...i,ref:e})});MenuGroup.displayName=GROUP_NAME$1;var LABEL_NAME$1="MenuLabel",MenuLabel=reactExports.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t;return jsxRuntimeExports.jsx(Primitive$1.div,{...i,ref:e})});MenuLabel.displayName=LABEL_NAME$1;var ITEM_NAME$1="MenuItem",ITEM_SELECT="menu.itemSelect",MenuItem=reactExports.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:i,...o}=t,u=reactExports.useRef(null),l=useMenuRootContext(ITEM_NAME$1,t.__scopeMenu),c=useMenuContentContext(ITEM_NAME$1,t.__scopeMenu),f=useComposedRefs(e,u),d=reactExports.useRef(!1),m=()=>{const g=u.current;if(!n&&g){const v=new CustomEvent(ITEM_SELECT,{bubbles:!0,cancelable:!0});g.addEventListener(ITEM_SELECT,y=>i?.(y),{once:!0}),dispatchDiscreteCustomEvent(g,v),v.defaultPrevented?d.current=!1:l.onClose()}};return jsxRuntimeExports.jsx(MenuItemImpl,{...o,ref:f,disabled:n,onClick:composeEventHandlers(t.onClick,m),onPointerDown:g=>{t.onPointerDown?.(g),d.current=!0},onPointerUp:composeEventHandlers(t.onPointerUp,g=>{d.current||g.currentTarget?.click()}),onKeyDown:composeEventHandlers(t.onKeyDown,g=>{const v=c.searchRef.current!=="";n||v&&g.key===" "||SELECTION_KEYS.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});MenuItem.displayName=ITEM_NAME$1;var MenuItemImpl=reactExports.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:i=!1,textValue:o,...u}=t,l=useMenuContentContext(ITEM_NAME$1,n),c=useRovingFocusGroupScope(n),f=reactExports.useRef(null),d=useComposedRefs(e,f),[m,g]=reactExports.useState(!1),[v,y]=reactExports.useState("");return reactExports.useEffect(()=>{const w=f.current;w&&y((w.textContent??"").trim())},[u.children]),jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:n,disabled:i,textValue:o??v,children:jsxRuntimeExports.jsx(Item,{asChild:!0,...c,focusable:!i,children:jsxRuntimeExports.jsx(Primitive$1.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...u,ref:d,onPointerMove:composeEventHandlers(t.onPointerMove,whenMouse(w=>{i?l.onItemLeave(w):(l.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:composeEventHandlers(t.onPointerLeave,whenMouse(w=>l.onItemLeave(w))),onFocus:composeEventHandlers(t.onFocus,()=>g(!0)),onBlur:composeEventHandlers(t.onBlur,()=>g(!1))})})})}),CHECKBOX_ITEM_NAME$1="MenuCheckboxItem",MenuCheckboxItem=reactExports.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:i,...o}=t;return jsxRuntimeExports.jsx(ItemIndicatorProvider,{scope:t.__scopeMenu,checked:n,children:jsxRuntimeExports.jsx(MenuItem,{role:"menuitemcheckbox","aria-checked":isIndeterminate(n)?"mixed":n,...o,ref:e,"data-state":getCheckedState(n),onSelect:composeEventHandlers(o.onSelect,()=>i?.(isIndeterminate(n)?!0:!n),{checkForDefaultPrevented:!1})})})});MenuCheckboxItem.displayName=CHECKBOX_ITEM_NAME$1;var RADIO_GROUP_NAME$1="MenuRadioGroup",[RadioGroupProvider,useRadioGroupContext]=createMenuContext(RADIO_GROUP_NAME$1,{value:void 0,onValueChange:()=>{}}),MenuRadioGroup=reactExports.forwardRef((t,e)=>{const{value:n,onValueChange:i,...o}=t,u=useCallbackRef$1(i);return jsxRuntimeExports.jsx(RadioGroupProvider,{scope:t.__scopeMenu,value:n,onValueChange:u,children:jsxRuntimeExports.jsx(MenuGroup,{...o,ref:e})})});MenuRadioGroup.displayName=RADIO_GROUP_NAME$1;var RADIO_ITEM_NAME$1="MenuRadioItem",MenuRadioItem=reactExports.forwardRef((t,e)=>{const{value:n,...i}=t,o=useRadioGroupContext(RADIO_ITEM_NAME$1,t.__scopeMenu),u=n===o.value;return jsxRuntimeExports.jsx(ItemIndicatorProvider,{scope:t.__scopeMenu,checked:u,children:jsxRuntimeExports.jsx(MenuItem,{role:"menuitemradio","aria-checked":u,...i,ref:e,"data-state":getCheckedState(u),onSelect:composeEventHandlers(i.onSelect,()=>o.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});MenuRadioItem.displayName=RADIO_ITEM_NAME$1;var ITEM_INDICATOR_NAME="MenuItemIndicator",[ItemIndicatorProvider,useItemIndicatorContext]=createMenuContext(ITEM_INDICATOR_NAME,{checked:!1}),MenuItemIndicator=reactExports.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:i,...o}=t,u=useItemIndicatorContext(ITEM_INDICATOR_NAME,n);return jsxRuntimeExports.jsx(Presence,{present:i||isIndeterminate(u.checked)||u.checked===!0,children:jsxRuntimeExports.jsx(Primitive$1.span,{...o,ref:e,"data-state":getCheckedState(u.checked)})})});MenuItemIndicator.displayName=ITEM_INDICATOR_NAME;var SEPARATOR_NAME$1="MenuSeparator",MenuSeparator=reactExports.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t;return jsxRuntimeExports.jsx(Primitive$1.div,{role:"separator","aria-orientation":"horizontal",...i,ref:e})});MenuSeparator.displayName=SEPARATOR_NAME$1;var ARROW_NAME$2="MenuArrow",MenuArrow=reactExports.forwardRef((t,e)=>{const{__scopeMenu:n,...i}=t,o=usePopperScope$1(n);return jsxRuntimeExports.jsx(Arrow,{...o,...i,ref:e})});MenuArrow.displayName=ARROW_NAME$2;var SUB_NAME="MenuSub",[MenuSubProvider,useMenuSubContext]=createMenuContext(SUB_NAME),MenuSub=t=>{const{__scopeMenu:e,children:n,open:i=!1,onOpenChange:o}=t,u=useMenuContext(SUB_NAME,e),l=usePopperScope$1(e),[c,f]=reactExports.useState(null),[d,m]=reactExports.useState(null),g=useCallbackRef$1(o);return reactExports.useEffect(()=>(u.open===!1&&g(!1),()=>g(!1)),[u.open,g]),jsxRuntimeExports.jsx(Root2$3,{...l,children:jsxRuntimeExports.jsx(MenuProvider,{scope:e,open:i,onOpenChange:g,content:d,onContentChange:m,children:jsxRuntimeExports.jsx(MenuSubProvider,{scope:e,contentId:useId(),triggerId:useId(),trigger:c,onTriggerChange:f,children:n})})})};MenuSub.displayName=SUB_NAME;var SUB_TRIGGER_NAME$1="MenuSubTrigger",MenuSubTrigger=reactExports.forwardRef((t,e)=>{const n=useMenuContext(SUB_TRIGGER_NAME$1,t.__scopeMenu),i=useMenuRootContext(SUB_TRIGGER_NAME$1,t.__scopeMenu),o=useMenuSubContext(SUB_TRIGGER_NAME$1,t.__scopeMenu),u=useMenuContentContext(SUB_TRIGGER_NAME$1,t.__scopeMenu),l=reactExports.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:f}=u,d={__scopeMenu:t.__scopeMenu},m=reactExports.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return reactExports.useEffect(()=>m,[m]),reactExports.useEffect(()=>{const g=c.current;return()=>{window.clearTimeout(g),f(null)}},[c,f]),jsxRuntimeExports.jsx(MenuAnchor,{asChild:!0,...d,children:jsxRuntimeExports.jsx(MenuItemImpl,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":getOpenState(n.open),...t,ref:composeRefs(e,o.onTriggerChange),onClick:g=>{t.onClick?.(g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:composeEventHandlers(t.onPointerMove,whenMouse(g=>{u.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!n.open&&!l.current&&(u.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:composeEventHandlers(t.onPointerLeave,whenMouse(g=>{m();const v=n.content?.getBoundingClientRect();if(v){const y=n.content?.dataset.side,w=y==="right",T=w?-5:5,P=v[w?"left":"right"],A=v[w?"right":"left"];u.onPointerGraceIntentChange({area:[{x:g.clientX+T,y:g.clientY},{x:P,y:v.top},{x:A,y:v.top},{x:A,y:v.bottom},{x:P,y:v.bottom}],side:y}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>u.onPointerGraceIntentChange(null),300)}else{if(u.onTriggerLeave(g),g.defaultPrevented)return;u.onPointerGraceIntentChange(null)}})),onKeyDown:composeEventHandlers(t.onKeyDown,g=>{const v=u.searchRef.current!=="";t.disabled||v&&g.key===" "||SUB_OPEN_KEYS[i.dir].includes(g.key)&&(n.onOpenChange(!0),n.content?.focus(),g.preventDefault())})})})});MenuSubTrigger.displayName=SUB_TRIGGER_NAME$1;var SUB_CONTENT_NAME$1="MenuSubContent",MenuSubContent=reactExports.forwardRef((t,e)=>{const n=usePortalContext$1(CONTENT_NAME$3,t.__scopeMenu),{forceMount:i=n.forceMount,...o}=t,u=useMenuContext(CONTENT_NAME$3,t.__scopeMenu),l=useMenuRootContext(CONTENT_NAME$3,t.__scopeMenu),c=useMenuSubContext(SUB_CONTENT_NAME$1,t.__scopeMenu),f=reactExports.useRef(null),d=useComposedRefs(e,f);return jsxRuntimeExports.jsx(Collection.Provider,{scope:t.__scopeMenu,children:jsxRuntimeExports.jsx(Presence,{present:i||u.open,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:t.__scopeMenu,children:jsxRuntimeExports.jsx(MenuContentImpl,{id:c.contentId,"aria-labelledby":c.triggerId,...o,ref:d,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{l.isUsingKeyboardRef.current&&f.current?.focus(),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:composeEventHandlers(t.onFocusOutside,m=>{m.target!==c.trigger&&u.onOpenChange(!1)}),onEscapeKeyDown:composeEventHandlers(t.onEscapeKeyDown,m=>{l.onClose(),m.preventDefault()}),onKeyDown:composeEventHandlers(t.onKeyDown,m=>{const g=m.currentTarget.contains(m.target),v=SUB_CLOSE_KEYS[l.dir].includes(m.key);g&&v&&(u.onOpenChange(!1),c.trigger?.focus(),m.preventDefault())})})})})})});MenuSubContent.displayName=SUB_CONTENT_NAME$1;function getOpenState(t){return t?"open":"closed"}function isIndeterminate(t){return t==="indeterminate"}function getCheckedState(t){return isIndeterminate(t)?"indeterminate":t?"checked":"unchecked"}function focusFirst(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function wrapArray(t,e){return t.map((n,i)=>t[(e+i)%t.length])}function getNextMatch(t,e,n){const o=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,u=n?t.indexOf(n):-1;let l=wrapArray(t,Math.max(u,0));o.length===1&&(l=l.filter(d=>d!==n));const f=l.find(d=>d.toLowerCase().startsWith(o.toLowerCase()));return f!==n?f:void 0}function isPointInPolygon(t,e){const{x:n,y:i}=t;let o=!1;for(let u=0,l=e.length-1;u<e.length;l=u++){const c=e[u],f=e[l],d=c.x,m=c.y,g=f.x,v=f.y;m>i!=v>i&&n<(g-d)*(i-m)/(v-m)+d&&(o=!o)}return o}function isPointerInGraceArea(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return isPointInPolygon(n,e)}function whenMouse(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Root3=Menu$6,Anchor2=MenuAnchor,Portal$1=MenuPortal,Content2$2=MenuContent,Group=MenuGroup,Label=MenuLabel,Item2$1=MenuItem,CheckboxItem=MenuCheckboxItem,RadioGroup=MenuRadioGroup,RadioItem=MenuRadioItem,ItemIndicator=MenuItemIndicator,Separator$2=MenuSeparator,Arrow2$1=MenuArrow,Sub=MenuSub,SubTrigger=MenuSubTrigger,SubContent=MenuSubContent,DROPDOWN_MENU_NAME="DropdownMenu",[createDropdownMenuContext]=createContextScope(DROPDOWN_MENU_NAME,[createMenuScope]),useMenuScope=createMenuScope(),[DropdownMenuProvider,useDropdownMenuContext]=createDropdownMenuContext(DROPDOWN_MENU_NAME),DropdownMenu$1=t=>{const{__scopeDropdownMenu:e,children:n,dir:i,open:o,defaultOpen:u,onOpenChange:l,modal:c=!0}=t,f=useMenuScope(e),d=reactExports.useRef(null),[m,g]=useControllableState({prop:o,defaultProp:u??!1,onChange:l,caller:DROPDOWN_MENU_NAME});return jsxRuntimeExports.jsx(DropdownMenuProvider,{scope:e,triggerId:useId(),triggerRef:d,contentId:useId(),open:m,onOpenChange:g,onOpenToggle:reactExports.useCallback(()=>g(v=>!v),[g]),modal:c,children:jsxRuntimeExports.jsx(Root3,{...f,open:m,onOpenChange:g,dir:i,modal:c,children:n})})};DropdownMenu$1.displayName=DROPDOWN_MENU_NAME;var TRIGGER_NAME$2="DropdownMenuTrigger",DropdownMenuTrigger$1=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:i=!1,...o}=t,u=useDropdownMenuContext(TRIGGER_NAME$2,n),l=useMenuScope(n);return jsxRuntimeExports.jsx(Anchor2,{asChild:!0,...l,children:jsxRuntimeExports.jsx(Primitive$1.button,{type:"button",id:u.triggerId,"aria-haspopup":"menu","aria-expanded":u.open,"aria-controls":u.open?u.contentId:void 0,"data-state":u.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...o,ref:composeRefs(e,u.triggerRef),onPointerDown:composeEventHandlers(t.onPointerDown,c=>{!i&&c.button===0&&c.ctrlKey===!1&&(u.onOpenToggle(),u.open||c.preventDefault())}),onKeyDown:composeEventHandlers(t.onKeyDown,c=>{i||(["Enter"," "].includes(c.key)&&u.onOpenToggle(),c.key==="ArrowDown"&&u.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});DropdownMenuTrigger$1.displayName=TRIGGER_NAME$2;var PORTAL_NAME$1="DropdownMenuPortal",DropdownMenuPortal=t=>{const{__scopeDropdownMenu:e,...n}=t,i=useMenuScope(e);return jsxRuntimeExports.jsx(Portal$1,{...i,...n})};DropdownMenuPortal.displayName=PORTAL_NAME$1;var CONTENT_NAME$2="DropdownMenuContent",DropdownMenuContent$1=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,o=useDropdownMenuContext(CONTENT_NAME$2,n),u=useMenuScope(n),l=reactExports.useRef(!1);return jsxRuntimeExports.jsx(Content2$2,{id:o.contentId,"aria-labelledby":o.triggerId,...u,...i,ref:e,onCloseAutoFocus:composeEventHandlers(t.onCloseAutoFocus,c=>{l.current||o.triggerRef.current?.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:composeEventHandlers(t.onInteractOutside,c=>{const f=c.detail.originalEvent,d=f.button===0&&f.ctrlKey===!0,m=f.button===2||d;(!o.modal||m)&&(l.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DropdownMenuContent$1.displayName=CONTENT_NAME$2;var GROUP_NAME="DropdownMenuGroup",DropdownMenuGroup=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,o=useMenuScope(n);return jsxRuntimeExports.jsx(Group,{...o,...i,ref:e})});DropdownMenuGroup.displayName=GROUP_NAME;var LABEL_NAME="DropdownMenuLabel",DropdownMenuLabel$1=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,o=useMenuScope(n);return jsxRuntimeExports.jsx(Label,{...o,...i,ref:e})});DropdownMenuLabel$1.displayName=LABEL_NAME;var ITEM_NAME="DropdownMenuItem",DropdownMenuItem$1=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,o=useMenuScope(n);return jsxRuntimeExports.jsx(Item2$1,{...o,...i,ref:e})});DropdownMenuItem$1.displayName=ITEM_NAME;var CHECKBOX_ITEM_NAME="DropdownMenuCheckboxItem",DropdownMenuCheckboxItem=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,o=useMenuScope(n);return jsxRuntimeExports.jsx(CheckboxItem,{...o,...i,ref:e})});DropdownMenuCheckboxItem.displayName=CHECKBOX_ITEM_NAME;var RADIO_GROUP_NAME="DropdownMenuRadioGroup",DropdownMenuRadioGroup=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,o=useMenuScope(n);return jsxRuntimeExports.jsx(RadioGroup,{...o,...i,ref:e})});DropdownMenuRadioGroup.displayName=RADIO_GROUP_NAME;var RADIO_ITEM_NAME="DropdownMenuRadioItem",DropdownMenuRadioItem=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,o=useMenuScope(n);return jsxRuntimeExports.jsx(RadioItem,{...o,...i,ref:e})});DropdownMenuRadioItem.displayName=RADIO_ITEM_NAME;var INDICATOR_NAME="DropdownMenuItemIndicator",DropdownMenuItemIndicator=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,o=useMenuScope(n);return jsxRuntimeExports.jsx(ItemIndicator,{...o,...i,ref:e})});DropdownMenuItemIndicator.displayName=INDICATOR_NAME;var SEPARATOR_NAME="DropdownMenuSeparator",DropdownMenuSeparator$1=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,o=useMenuScope(n);return jsxRuntimeExports.jsx(Separator$2,{...o,...i,ref:e})});DropdownMenuSeparator$1.displayName=SEPARATOR_NAME;var ARROW_NAME$1="DropdownMenuArrow",DropdownMenuArrow=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,o=useMenuScope(n);return jsxRuntimeExports.jsx(Arrow2$1,{...o,...i,ref:e})});DropdownMenuArrow.displayName=ARROW_NAME$1;var DropdownMenuSub$1=t=>{const{__scopeDropdownMenu:e,children:n,open:i,onOpenChange:o,defaultOpen:u}=t,l=useMenuScope(e),[c,f]=useControllableState({prop:i,defaultProp:u??!1,onChange:o,caller:"DropdownMenuSub"});return jsxRuntimeExports.jsx(Sub,{...l,open:c,onOpenChange:f,children:n})},SUB_TRIGGER_NAME="DropdownMenuSubTrigger",DropdownMenuSubTrigger$1=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,o=useMenuScope(n);return jsxRuntimeExports.jsx(SubTrigger,{...o,...i,ref:e})});DropdownMenuSubTrigger$1.displayName=SUB_TRIGGER_NAME;var SUB_CONTENT_NAME="DropdownMenuSubContent",DropdownMenuSubContent$1=reactExports.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...i}=t,o=useMenuScope(n);return jsxRuntimeExports.jsx(SubContent,{...o,...i,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DropdownMenuSubContent$1.displayName=SUB_CONTENT_NAME;var Root2$1=DropdownMenu$1,Trigger$1=DropdownMenuTrigger$1,Portal2=DropdownMenuPortal,Content2$1=DropdownMenuContent$1,Label2=DropdownMenuLabel$1,Item2=DropdownMenuItem$1,Separator2=DropdownMenuSeparator$1,Sub2=DropdownMenuSub$1,SubTrigger2=DropdownMenuSubTrigger$1,SubContent2=DropdownMenuSubContent$1;function DropdownMenu({...t}){return jsxRuntimeExports.jsx(Root2$1,{"data-slot":"dropdown-menu",...t})}function DropdownMenuTrigger({...t}){return jsxRuntimeExports.jsx(Trigger$1,{"data-slot":"dropdown-menu-trigger",...t})}function DropdownMenuContent({className:t,sideOffset:e=4,...n}){return jsxRuntimeExports.jsx(Portal2,{children:jsxRuntimeExports.jsx(Content2$1,{"data-slot":"dropdown-menu-content",sideOffset:e,className:cn$2("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-sm border p-1 shadow-md",t),...n})})}function DropdownMenuItem({className:t,inset:e,variant:n="default",...i}){return jsxRuntimeExports.jsx(Item2,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":n,className:cn$2("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4","cursor-pointer",t),...i})}function DropdownMenuLabel({className:t,inset:e,...n}){return jsxRuntimeExports.jsx(Label2,{"data-slot":"dropdown-menu-label","data-inset":e,className:cn$2("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...n})}function DropdownMenuSeparator({className:t,...e}){return jsxRuntimeExports.jsx(Separator2,{"data-slot":"dropdown-menu-separator",className:cn$2("-mx-1 my-1 h-px bg-border",t),...e})}function DropdownMenuSub({...t}){return jsxRuntimeExports.jsx(Sub2,{"data-slot":"dropdown-menu-sub",...t})}function DropdownMenuSubTrigger({className:t,inset:e,children:n,...i}){return jsxRuntimeExports.jsxs(SubTrigger2,{"data-slot":"dropdown-menu-sub-trigger","data-inset":e,className:cn$2("focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8",t),...i,children:[n,jsxRuntimeExports.jsx(ChevronRight,{className:"ml-auto size-4"})]})}function DropdownMenuSubContent({className:t,...e}){return jsxRuntimeExports.jsx(SubContent2,{"data-slot":"dropdown-menu-sub-content",className:cn$2("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-sm border p-1 shadow-lg",t),...e})}var COLLAPSIBLE_NAME="Collapsible",[createCollapsibleContext]=createContextScope(COLLAPSIBLE_NAME),[CollapsibleProvider,useCollapsibleContext]=createCollapsibleContext(COLLAPSIBLE_NAME),Collapsible$1=reactExports.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:i,defaultOpen:o,disabled:u,onOpenChange:l,...c}=t,[f,d]=useControllableState({prop:i,defaultProp:o??!1,onChange:l,caller:COLLAPSIBLE_NAME});return jsxRuntimeExports.jsx(CollapsibleProvider,{scope:n,disabled:u,contentId:useId(),open:f,onOpenToggle:reactExports.useCallback(()=>d(m=>!m),[d]),children:jsxRuntimeExports.jsx(Primitive$1.div,{"data-state":getState(f),"data-disabled":u?"":void 0,...c,ref:e})})});Collapsible$1.displayName=COLLAPSIBLE_NAME;var TRIGGER_NAME$1="CollapsibleTrigger",CollapsibleTrigger$1=reactExports.forwardRef((t,e)=>{const{__scopeCollapsible:n,...i}=t,o=useCollapsibleContext(TRIGGER_NAME$1,n);return jsxRuntimeExports.jsx(Primitive$1.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":getState(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...i,ref:e,onClick:composeEventHandlers(t.onClick,o.onOpenToggle)})});CollapsibleTrigger$1.displayName=TRIGGER_NAME$1;var CONTENT_NAME$1="CollapsibleContent",CollapsibleContent$1=reactExports.forwardRef((t,e)=>{const{forceMount:n,...i}=t,o=useCollapsibleContext(CONTENT_NAME$1,t.__scopeCollapsible);return jsxRuntimeExports.jsx(Presence,{present:n||o.open,children:({present:u})=>jsxRuntimeExports.jsx(CollapsibleContentImpl,{...i,ref:e,present:u})})});CollapsibleContent$1.displayName=CONTENT_NAME$1;var CollapsibleContentImpl=reactExports.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:i,children:o,...u}=t,l=useCollapsibleContext(CONTENT_NAME$1,n),[c,f]=reactExports.useState(i),d=reactExports.useRef(null),m=useComposedRefs(e,d),g=reactExports.useRef(0),v=g.current,y=reactExports.useRef(0),w=y.current,T=l.open||c,P=reactExports.useRef(T),A=reactExports.useRef(void 0);return reactExports.useEffect(()=>{const D=requestAnimationFrame(()=>P.current=!1);return()=>cancelAnimationFrame(D)},[]),useLayoutEffect2(()=>{const D=d.current;if(D){A.current=A.current||{transitionDuration:D.style.transitionDuration,animationName:D.style.animationName},D.style.transitionDuration="0s",D.style.animationName="none";const k=D.getBoundingClientRect();g.current=k.height,y.current=k.width,P.current||(D.style.transitionDuration=A.current.transitionDuration,D.style.animationName=A.current.animationName),f(i)}},[l.open,i]),jsxRuntimeExports.jsx(Primitive$1.div,{"data-state":getState(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!T,...u,ref:m,style:{"--radix-collapsible-content-height":v?`${v}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...t.style},children:T&&o})});function getState(t){return t?"open":"closed"}var Root$2=Collapsible$1;function Collapsible({...t}){return jsxRuntimeExports.jsx(Root$2,{"data-slot":"collapsible",...t})}function CollapsibleTrigger({...t}){return jsxRuntimeExports.jsx(CollapsibleTrigger$1,{"data-slot":"collapsible-trigger",...t})}function CollapsibleContent({...t}){return jsxRuntimeExports.jsx(CollapsibleContent$1,{"data-slot":"collapsible-content",...t})}var NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Primitive=NODES.reduce((t,e)=>{const n=createSlot$5(`Primitive.${e}`),i=reactExports.forwardRef((o,u)=>{const{asChild:l,...c}=o,f=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),jsxRuntimeExports.jsx(f,{...c,ref:u})});return i.displayName=`Primitive.${e}`,{...t,[e]:i}},{}),NAME="Separator",DEFAULT_ORIENTATION="horizontal",ORIENTATIONS=["horizontal","vertical"],Separator$1=reactExports.forwardRef((t,e)=>{const{decorative:n,orientation:i=DEFAULT_ORIENTATION,...o}=t,u=isValidOrientation(i)?i:DEFAULT_ORIENTATION,c=n?{role:"none"}:{"aria-orientation":u==="vertical"?u:void 0,role:"separator"};return jsxRuntimeExports.jsx(Primitive.div,{"data-orientation":u,...c,...o,ref:e})});Separator$1.displayName=NAME;function isValidOrientation(t){return ORIENTATIONS.includes(t)}var Root$1=Separator$1;function Separator({className:t,orientation:e="horizontal",decorative:n=!0,...i}){return jsxRuntimeExports.jsx(Root$1,{"data-slot":"separator",decorative:n,orientation:e,className:cn$2("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...i})}function Breadcrumb({...t}){return jsxRuntimeExports.jsx("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...t})}function BreadcrumbList({className:t,...e}){return jsxRuntimeExports.jsx("ol",{"data-slot":"breadcrumb-list",className:cn$2("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",t),...e})}function BreadcrumbItem({className:t,...e}){return jsxRuntimeExports.jsx("li",{"data-slot":"breadcrumb-item",className:cn$2("inline-flex items-center gap-1.5",t),...e})}function BreadcrumbLink({asChild:t,className:e,...n}){const i=t?Slot$3:"a";return jsxRuntimeExports.jsx(i,{"data-slot":"breadcrumb-link",className:cn$2("hover:text-foreground transition-colors",e),...n})}function BreadcrumbPage({className:t,...e}){return jsxRuntimeExports.jsx("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:cn$2("text-foreground font-normal",t),...e})}function BreadcrumbSeparator({children:t,className:e,...n}){return jsxRuntimeExports.jsx("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:cn$2("[&>svg]:size-3.5",e),...n,children:t??jsxRuntimeExports.jsx(ChevronRight,{})})}function Sheet({...t}){return jsxRuntimeExports.jsx(Root$6,{"data-slot":"sheet",...t})}function SheetTrigger({...t}){return jsxRuntimeExports.jsx(Trigger$4,{"data-slot":"sheet-trigger",...t})}function SheetPortal({...t}){return jsxRuntimeExports.jsx(Portal$4,{"data-slot":"sheet-portal",...t})}function SheetOverlay({className:t,...e}){return jsxRuntimeExports.jsx(Overlay,{"data-slot":"sheet-overlay",className:cn$2("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function SheetContent({className:t,children:e,side:n="right",...i}){return jsxRuntimeExports.jsxs(SheetPortal,{children:[jsxRuntimeExports.jsx(SheetOverlay,{}),jsxRuntimeExports.jsxs(Content$1,{"data-slot":"sheet-content",className:cn$2("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...i,children:[e,jsxRuntimeExports.jsxs(Close,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[jsxRuntimeExports.jsx(X,{className:"size-4"}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function SheetHeader({className:t,...e}){return jsxRuntimeExports.jsx("div",{"data-slot":"sheet-header",className:cn$2("flex flex-col gap-1.5 p-4",t),...e})}function SheetTitle({className:t,...e}){return jsxRuntimeExports.jsx(Title$6,{"data-slot":"sheet-title",className:cn$2("text-foreground font-semibold",t),...e})}function SheetDescription({className:t,...e}){return jsxRuntimeExports.jsx(Description,{"data-slot":"sheet-description",className:cn$2("text-muted-foreground text-sm",t),...e})}function __insertCSS(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const getAsset=t=>{switch(t){case"success":return SuccessIcon;case"info":return InfoIcon;case"warning":return WarningIcon;case"error":return ErrorIcon;default:return null}},bars=Array(12).fill(0),Loader=({visible:t,className:e})=>React.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},React.createElement("div",{className:"sonner-spinner"},bars.map((n,i)=>React.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),SuccessIcon=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),WarningIcon=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},React.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),InfoIcon=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ErrorIcon=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),CloseIcon=React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),React.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),useIsDocumentHidden=()=>{const[t,e]=React.useState(document.hidden);return React.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let toastsCounter=1;class Observer{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:i,...o}=e,u=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:toastsCounter++,l=this.toasts.find(f=>f.id===u),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(u)&&this.dismissedToasts.delete(u),l?this.toasts=this.toasts.map(f=>f.id===u?(this.publish({...f,...e,id:u,title:i}),{...f,...e,id:u,dismissible:c,title:i}):f):this.addToast({title:i,...o,dismissible:c,id:u}),u},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(i=>i({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let i;n.loading!==void 0&&(i=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let u=i!==void 0,l;const c=o.then(async d=>{if(l=["resolve",d],React.isValidElement(d))u=!1,this.create({id:i,type:"default",message:d});else if(isHttpResponse(d)&&!d.ok){u=!1;const g=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,v=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description,w=typeof g=="object"&&!React.isValidElement(g)?g:{message:g};this.create({id:i,type:"error",description:v,...w})}else if(d instanceof Error){u=!1;const g=typeof n.error=="function"?await n.error(d):n.error,v=typeof n.description=="function"?await n.description(d):n.description,w=typeof g=="object"&&!React.isValidElement(g)?g:{message:g};this.create({id:i,type:"error",description:v,...w})}else if(n.success!==void 0){u=!1;const g=typeof n.success=="function"?await n.success(d):n.success,v=typeof n.description=="function"?await n.description(d):n.description,w=typeof g=="object"&&!React.isValidElement(g)?g:{message:g};this.create({id:i,type:"success",description:v,...w})}}).catch(async d=>{if(l=["reject",d],n.error!==void 0){u=!1;const m=typeof n.error=="function"?await n.error(d):n.error,g=typeof n.description=="function"?await n.description(d):n.description,y=typeof m=="object"&&!React.isValidElement(m)?m:{message:m};this.create({id:i,type:"error",description:g,...y})}}).finally(()=>{u&&(this.dismiss(i),i=void 0),n.finally==null||n.finally.call(n)}),f=()=>new Promise((d,m)=>c.then(()=>l[0]==="reject"?m(l[1]):d(l[1])).catch(m));return typeof i!="string"&&typeof i!="number"?{unwrap:f}:Object.assign(i,{unwrap:f})},this.custom=(e,n)=>{const i=n?.id||toastsCounter++;return this.create({jsx:e(i),id:i,...n}),i},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ToastState=new Observer,toastFunction=(t,e)=>{const n=e?.id||toastsCounter++;return ToastState.addToast({title:t,...e,id:n}),n},isHttpResponse=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",basicToast=toastFunction,getHistory=()=>ToastState.toasts,getToasts=()=>ToastState.getActiveToasts(),toast=Object.assign(basicToast,{success:ToastState.success,info:ToastState.info,warning:ToastState.warning,error:ToastState.error,custom:ToastState.custom,message:ToastState.message,promise:ToastState.promise,dismiss:ToastState.dismiss,loading:ToastState.loading},{getHistory,getToasts});__insertCSS("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function isAction(t){return t.label!==void 0}const VISIBLE_TOASTS_AMOUNT=3,VIEWPORT_OFFSET="24px",MOBILE_VIEWPORT_OFFSET="16px",TOAST_LIFETIME=4e3,TOAST_WIDTH=356,GAP=14,SWIPE_THRESHOLD=45,TIME_BEFORE_UNMOUNT=200;function cn$1(...t){return t.filter(Boolean).join(" ")}function getDefaultSwipeDirections(t){const[e,n]=t.split("-"),i=[];return e&&i.push(e),n&&i.push(n),i}const Toast=t=>{var e,n,i,o,u,l,c,f,d;const{invert:m,toast:g,unstyled:v,interacting:y,setHeights:w,visibleToasts:T,heights:P,index:A,toasts:D,expanded:k,removeToast:j,defaultRichColors:B,closeButton:Z,style:R,cancelButtonStyle:G,actionButtonStyle:F,className:K="",descriptionClassName:Q="",duration:ie,position:te,gap:oe,expandByDefault:le,classNames:de,icons:ge,closeButtonAriaLabel:_e="Close toast"}=t,[we,Me]=React.useState(null),[xe,Re]=React.useState(null),[Se,Ge]=React.useState(!1),[Qe,Je]=React.useState(!1),[Xe,gt]=React.useState(!1),[Ct,ar]=React.useState(!1),[De,Oe]=React.useState(!1),[Be,he]=React.useState(0),[be,Ce]=React.useState(0),Le=React.useRef(g.duration||ie||TOAST_LIFETIME),Ue=React.useRef(null),We=React.useRef(null),ot=A===0,Rt=A+1<=T,Et=g.type,yt=g.dismissible!==!1,Nt=g.className||"",St=g.descriptionClassName||"",kt=React.useMemo(()=>P.findIndex(Ht=>Ht.toastId===g.id)||0,[P,g.id]),Pe=React.useMemo(()=>{var Ht;return(Ht=g.closeButton)!=null?Ht:Z},[g.closeButton,Z]),ve=React.useMemo(()=>g.duration||ie||TOAST_LIFETIME,[g.duration,ie]),ut=React.useRef(0),wt=React.useRef(0),Tt=React.useRef(0),Vt=React.useRef(null),[Gt,Qt]=te.split("-"),qt=React.useMemo(()=>P.reduce((Ht,dr,ir)=>ir>=kt?Ht:Ht+dr.height,0),[P,kt]),ht=useIsDocumentHidden(),jt=g.invert||m,tr=Et==="loading";wt.current=React.useMemo(()=>kt*oe+qt,[kt,qt]),React.useEffect(()=>{Le.current=ve},[ve]),React.useEffect(()=>{Ge(!0)},[]),React.useEffect(()=>{const Ht=We.current;if(Ht){const dr=Ht.getBoundingClientRect().height;return Ce(dr),w(ir=>[{toastId:g.id,height:dr,position:g.position},...ir]),()=>w(ir=>ir.filter(Pr=>Pr.toastId!==g.id))}},[w,g.id]),React.useLayoutEffect(()=>{if(!Se)return;const Ht=We.current,dr=Ht.style.height;Ht.style.height="auto";const ir=Ht.getBoundingClientRect().height;Ht.style.height=dr,Ce(ir),w(Pr=>Pr.find(lr=>lr.toastId===g.id)?Pr.map(lr=>lr.toastId===g.id?{...lr,height:ir}:lr):[{toastId:g.id,height:ir,position:g.position},...Pr])},[Se,g.title,g.description,w,g.id,g.jsx,g.action,g.cancel]);const It=React.useCallback(()=>{Je(!0),he(wt.current),w(Ht=>Ht.filter(dr=>dr.toastId!==g.id)),setTimeout(()=>{j(g)},TIME_BEFORE_UNMOUNT)},[g,j,w,wt]);React.useEffect(()=>{if(g.promise&&Et==="loading"||g.duration===1/0||g.type==="loading")return;let Ht;return k||y||ht?(()=>{if(Tt.current<ut.current){const Pr=new Date().getTime()-ut.current;Le.current=Le.current-Pr}Tt.current=new Date().getTime()})():Le.current!==1/0&&(ut.current=new Date().getTime(),Ht=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),It()},Le.current)),()=>clearTimeout(Ht)},[k,y,g,Et,ht,It]),React.useEffect(()=>{g.delete&&(It(),g.onDismiss==null||g.onDismiss.call(g,g))},[It,g.delete]);function Ar(){var Ht;if(ge?.loading){var dr;return React.createElement("div",{className:cn$1(de?.loader,g==null||(dr=g.classNames)==null?void 0:dr.loader,"sonner-loader"),"data-visible":Et==="loading"},ge.loading)}return React.createElement(Loader,{className:cn$1(de?.loader,g==null||(Ht=g.classNames)==null?void 0:Ht.loader),visible:Et==="loading"})}const cr=g.icon||ge?.[Et]||getAsset(Et);var yr,Wr;return React.createElement("li",{tabIndex:0,ref:We,className:cn$1(K,Nt,de?.toast,g==null||(e=g.classNames)==null?void 0:e.toast,de?.default,de?.[Et],g==null||(n=g.classNames)==null?void 0:n[Et]),"data-sonner-toast":"","data-rich-colors":(yr=g.richColors)!=null?yr:B,"data-styled":!(g.jsx||g.unstyled||v),"data-mounted":Se,"data-promise":!!g.promise,"data-swiped":De,"data-removed":Qe,"data-visible":Rt,"data-y-position":Gt,"data-x-position":Qt,"data-index":A,"data-front":ot,"data-swiping":Xe,"data-dismissible":yt,"data-type":Et,"data-invert":jt,"data-swipe-out":Ct,"data-swipe-direction":xe,"data-expanded":!!(k||le&&Se),"data-testid":g.testId,style:{"--index":A,"--toasts-before":A,"--z-index":D.length-A,"--offset":`${Qe?Be:wt.current}px`,"--initial-height":le?"auto":`${be}px`,...R,...g.style},onDragEnd:()=>{gt(!1),Me(null),Vt.current=null},onPointerDown:Ht=>{Ht.button!==2&&(tr||!yt||(Ue.current=new Date,he(wt.current),Ht.target.setPointerCapture(Ht.pointerId),Ht.target.tagName!=="BUTTON"&&(gt(!0),Vt.current={x:Ht.clientX,y:Ht.clientY})))},onPointerUp:()=>{var Ht,dr,ir;if(Ct||!yt)return;Vt.current=null;const Pr=Number(((Ht=We.current)==null?void 0:Ht.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Cn=Number(((dr=We.current)==null?void 0:dr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),lr=new Date().getTime()-((ir=Ue.current)==null?void 0:ir.getTime()),wn=we==="x"?Pr:Cn,pn=Math.abs(wn)/lr;if(Math.abs(wn)>=SWIPE_THRESHOLD||pn>.11){he(wt.current),g.onDismiss==null||g.onDismiss.call(g,g),Re(we==="x"?Pr>0?"right":"left":Cn>0?"down":"up"),It(),ar(!0);return}else{var $e,qe;($e=We.current)==null||$e.style.setProperty("--swipe-amount-x","0px"),(qe=We.current)==null||qe.style.setProperty("--swipe-amount-y","0px")}Oe(!1),gt(!1),Me(null)},onPointerMove:Ht=>{var dr,ir,Pr;if(!Vt.current||!yt||((dr=window.getSelection())==null?void 0:dr.toString().length)>0)return;const lr=Ht.clientY-Vt.current.y,wn=Ht.clientX-Vt.current.x;var pn;const $e=(pn=t.swipeDirections)!=null?pn:getDefaultSwipeDirections(te);!we&&(Math.abs(wn)>1||Math.abs(lr)>1)&&Me(Math.abs(wn)>Math.abs(lr)?"x":"y");let qe={x:0,y:0};const Ze=_t=>1/(1.5+Math.abs(_t)/20);if(we==="y"){if($e.includes("top")||$e.includes("bottom"))if($e.includes("top")&&lr<0||$e.includes("bottom")&&lr>0)qe.y=lr;else{const _t=lr*Ze(lr);qe.y=Math.abs(_t)<Math.abs(lr)?_t:lr}}else if(we==="x"&&($e.includes("left")||$e.includes("right")))if($e.includes("left")&&wn<0||$e.includes("right")&&wn>0)qe.x=wn;else{const _t=wn*Ze(wn);qe.x=Math.abs(_t)<Math.abs(wn)?_t:wn}(Math.abs(qe.x)>0||Math.abs(qe.y)>0)&&Oe(!0),(ir=We.current)==null||ir.style.setProperty("--swipe-amount-x",`${qe.x}px`),(Pr=We.current)==null||Pr.style.setProperty("--swipe-amount-y",`${qe.y}px`)}},Pe&&!g.jsx&&Et!=="loading"?React.createElement("button",{"aria-label":_e,"data-disabled":tr,"data-close-button":!0,onClick:tr||!yt?()=>{}:()=>{It(),g.onDismiss==null||g.onDismiss.call(g,g)},className:cn$1(de?.closeButton,g==null||(i=g.classNames)==null?void 0:i.closeButton)},(Wr=ge?.close)!=null?Wr:CloseIcon):null,(Et||g.icon||g.promise)&&g.icon!==null&&(ge?.[Et]!==null||g.icon)?React.createElement("div",{"data-icon":"",className:cn$1(de?.icon,g==null||(o=g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Ar():null,g.type!=="loading"?cr:null):null,React.createElement("div",{"data-content":"",className:cn$1(de?.content,g==null||(u=g.classNames)==null?void 0:u.content)},React.createElement("div",{"data-title":"",className:cn$1(de?.title,g==null||(l=g.classNames)==null?void 0:l.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?React.createElement("div",{"data-description":"",className:cn$1(Q,St,de?.description,g==null||(c=g.classNames)==null?void 0:c.description)},typeof g.description=="function"?g.description():g.description):null),React.isValidElement(g.cancel)?g.cancel:g.cancel&&isAction(g.cancel)?React.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||G,onClick:Ht=>{isAction(g.cancel)&&yt&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Ht),It())},className:cn$1(de?.cancelButton,g==null||(f=g.classNames)==null?void 0:f.cancelButton)},g.cancel.label):null,React.isValidElement(g.action)?g.action:g.action&&isAction(g.action)?React.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||F,onClick:Ht=>{isAction(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Ht),!Ht.defaultPrevented&&It())},className:cn$1(de?.actionButton,g==null||(d=g.classNames)==null?void 0:d.actionButton)},g.action.label):null)};function getDocumentDirection(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function assignOffset(t,e){const n={};return[t,e].forEach((i,o)=>{const u=o===1,l=u?"--mobile-offset":"--offset",c=u?MOBILE_VIEWPORT_OFFSET:VIEWPORT_OFFSET;function f(d){["top","right","bottom","left"].forEach(m=>{n[`${l}-${m}`]=typeof d=="number"?`${d}px`:d})}typeof i=="number"||typeof i=="string"?f(i):typeof i=="object"?["top","right","bottom","left"].forEach(d=>{i[d]===void 0?n[`${l}-${d}`]=c:n[`${l}-${d}`]=typeof i[d]=="number"?`${i[d]}px`:i[d]}):f(c)}),n}const Toaster$1=React.forwardRef(function(e,n){const{id:i,invert:o,position:u="bottom-right",hotkey:l=["altKey","KeyT"],expand:c,closeButton:f,className:d,offset:m,mobileOffset:g,theme:v="light",richColors:y,duration:w,style:T,visibleToasts:P=VISIBLE_TOASTS_AMOUNT,toastOptions:A,dir:D=getDocumentDirection(),gap:k=GAP,icons:j,containerAriaLabel:B="Notifications"}=e,[Z,R]=React.useState([]),G=React.useMemo(()=>i?Z.filter(Se=>Se.toasterId===i):Z.filter(Se=>!Se.toasterId),[Z,i]),F=React.useMemo(()=>Array.from(new Set([u].concat(G.filter(Se=>Se.position).map(Se=>Se.position)))),[G,u]),[K,Q]=React.useState([]),[ie,te]=React.useState(!1),[oe,le]=React.useState(!1),[de,ge]=React.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),_e=React.useRef(null),we=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),Me=React.useRef(null),xe=React.useRef(!1),Re=React.useCallback(Se=>{R(Ge=>{var Qe;return(Qe=Ge.find(Je=>Je.id===Se.id))!=null&&Qe.delete||ToastState.dismiss(Se.id),Ge.filter(({id:Je})=>Je!==Se.id)})},[]);return React.useEffect(()=>ToastState.subscribe(Se=>{if(Se.dismiss){requestAnimationFrame(()=>{R(Ge=>Ge.map(Qe=>Qe.id===Se.id?{...Qe,delete:!0}:Qe))});return}setTimeout(()=>{ReactDOM.flushSync(()=>{R(Ge=>{const Qe=Ge.findIndex(Je=>Je.id===Se.id);return Qe!==-1?[...Ge.slice(0,Qe),{...Ge[Qe],...Se},...Ge.slice(Qe+1)]:[Se,...Ge]})})})}),[Z]),React.useEffect(()=>{if(v!=="system"){ge(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ge("dark"):ge("light")),typeof window>"u")return;const Se=window.matchMedia("(prefers-color-scheme: dark)");try{Se.addEventListener("change",({matches:Ge})=>{ge(Ge?"dark":"light")})}catch{Se.addListener(({matches:Qe})=>{try{ge(Qe?"dark":"light")}catch(Je){console.error(Je)}})}},[v]),React.useEffect(()=>{Z.length<=1&&te(!1)},[Z]),React.useEffect(()=>{const Se=Ge=>{var Qe;if(l.every(gt=>Ge[gt]||Ge.code===gt)){var Xe;te(!0),(Xe=_e.current)==null||Xe.focus()}Ge.code==="Escape"&&(document.activeElement===_e.current||(Qe=_e.current)!=null&&Qe.contains(document.activeElement))&&te(!1)};return document.addEventListener("keydown",Se),()=>document.removeEventListener("keydown",Se)},[l]),React.useEffect(()=>{if(_e.current)return()=>{Me.current&&(Me.current.focus({preventScroll:!0}),Me.current=null,xe.current=!1)}},[_e.current]),React.createElement("section",{ref:n,"aria-label":`${B} ${we}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},F.map((Se,Ge)=>{var Qe;const[Je,Xe]=Se.split("-");return G.length?React.createElement("ol",{key:Se,dir:D==="auto"?getDocumentDirection():D,tabIndex:-1,ref:_e,className:d,"data-sonner-toaster":!0,"data-sonner-theme":de,"data-y-position":Je,"data-x-position":Xe,style:{"--front-toast-height":`${((Qe=K[0])==null?void 0:Qe.height)||0}px`,"--width":`${TOAST_WIDTH}px`,"--gap":`${k}px`,...T,...assignOffset(m,g)},onBlur:gt=>{xe.current&&!gt.currentTarget.contains(gt.relatedTarget)&&(xe.current=!1,Me.current&&(Me.current.focus({preventScroll:!0}),Me.current=null))},onFocus:gt=>{gt.target instanceof HTMLElement&&gt.target.dataset.dismissible==="false"||xe.current||(xe.current=!0,Me.current=gt.relatedTarget)},onMouseEnter:()=>te(!0),onMouseMove:()=>te(!0),onMouseLeave:()=>{oe||te(!1)},onDragEnd:()=>te(!1),onPointerDown:gt=>{gt.target instanceof HTMLElement&&gt.target.dataset.dismissible==="false"||le(!0)},onPointerUp:()=>le(!1)},G.filter(gt=>!gt.position&&Ge===0||gt.position===Se).map((gt,Ct)=>{var ar,De;return React.createElement(Toast,{key:gt.id,icons:j,index:Ct,toast:gt,defaultRichColors:y,duration:(ar=A?.duration)!=null?ar:w,className:A?.className,descriptionClassName:A?.descriptionClassName,invert:o,visibleToasts:P,closeButton:(De=A?.closeButton)!=null?De:f,interacting:oe,position:Se,style:A?.style,unstyled:A?.unstyled,classNames:A?.classNames,cancelButtonStyle:A?.cancelButtonStyle,actionButtonStyle:A?.actionButtonStyle,closeButtonAriaLabel:A?.closeButtonAriaLabel,removeToast:Re,toasts:G.filter(Oe=>Oe.position==gt.position),heights:K.filter(Oe=>Oe.position==gt.position),setHeights:Q,expandByDefault:c,gap:k,expanded:ie,swipeDirections:e.swipeDirections})})):null}))}),Toaster=({...t})=>{const{theme:e="system"}=z();return jsxRuntimeExports.jsx(Toaster$1,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})};var classnames={exports:{}};var hasRequiredClassnames;function requireClassnames(){return hasRequiredClassnames||(hasRequiredClassnames=1,(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var u="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(u=o(u,i(c)))}return u}function i(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return n.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var l="";for(var c in u)e.call(u,c)&&u[c]&&(l=o(l,c));return l}function o(u,l){return l?u?u+" "+l:u+l:u}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(classnames)),classnames.exports}var classnamesExports=requireClassnames();const classNames=getDefaultExportFromCjs(classnamesExports);function openDetails(t){t&&(t.nodeName==="DETAILS"&&(t.open=!0),openDetails(t.parentElement))}function scrollToElement(t,{htmlId:e=t?.id,scrollBehavior:n="smooth",historyState:i="replace",focusTarget:o=!0}={}){t&&(openDetails(t),t.scrollIntoView({behavior:n}),i==="push"?history.pushState(void 0,"",`#${e}`):i==="replace"&&history.replaceState(void 0,"",`#${e}`),o&&(t.tabIndex===-1&&(t.tabIndex=-1),t.focus({preventScroll:!0})))}function HashLink({id:t,kind:e,title:n=`Link to this ${e}`,children:i="",canSelectText:o=!1,hover:u,className:l="font-normal",hideInPopup:c,scrollBehavior:f,historyState:d,focusTarget:m,noWidth:g}){const{inCrossRef:v}=useXRefState();if(v||!t)return c?null:jsxRuntimeExports.jsx("span",{className:classNames("select-none",l),children:i});const y=w=>{w.preventDefault();const T=document.getElementById(t);scrollToElement(T,{scrollBehavior:f,historyState:d,focusTarget:m})};return jsxRuntimeExports.jsx("a",{className:classNames("no-underline text-inherit hover:text-inherit",{"inline-block w-0 px-0 translate-x-[10px]":g===!0},l,{"select-none":!o,"transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70":u===!0,"[@media(hover:hover)]:transition-opacity [@media(hover:hover)]:opacity-0 [@media(hover:hover)]:focus:opacity-100 [@media(hover:hover)]:group-hover:opacity-70":u==="desktop","hover:underline":!u}),onClick:y,href:`#${t}`,title:n,"aria-label":n,children:i})}function ArrowRightCircleIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m12.75 15 3-3m0 0-3-3m3 3h-7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ForwardRef$A=reactExports.forwardRef(ArrowRightCircleIcon);function ArrowTopRightOnSquareIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"}))}const ForwardRef$z=reactExports.forwardRef(ArrowTopRightOnSquareIcon);function CheckCircleIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ForwardRef$y=reactExports.forwardRef(CheckCircleIcon);function CheckIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const ForwardRef$x=reactExports.forwardRef(CheckIcon);function DocumentDuplicateIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const ForwardRef$w=reactExports.forwardRef(DocumentDuplicateIcon);function DocumentIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const ForwardRef$v=reactExports.forwardRef(DocumentIcon);function ExclamationCircleIcon$1({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const ForwardRef$u=reactExports.forwardRef(ExclamationCircleIcon$1);function ExclamationTriangleIcon$1({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const ForwardRef$t=reactExports.forwardRef(ExclamationTriangleIcon$1);function InformationCircleIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const ForwardRef$s=reactExports.forwardRef(InformationCircleIcon);function LightBulbIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}const ForwardRef$r=reactExports.forwardRef(LightBulbIcon);function LinkIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))}const ForwardRef$q=reactExports.forwardRef(LinkIcon);function MegaphoneIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 0 0 1.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 0 1 0 3.46"}))}const ForwardRef$p=reactExports.forwardRef(MegaphoneIcon);function PencilSquareIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const ForwardRef$o=reactExports.forwardRef(PencilSquareIcon);function PlusCircleIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ForwardRef$n=reactExports.forwardRef(PlusCircleIcon);function CopyIcon({text:t,className:e}){const[n,i]=reactExports.useState(!1),o=()=>{n||navigator.clipboard.writeText(t).then(()=>{i(!0),setTimeout(()=>i(!1),3e3)})};return jsxRuntimeExports.jsx("button",{title:n?"Copied!!":"Copy to Clipboard",className:classNames("inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2","transition-color duration-200 ease-in-out",{"text-blue-400 hover:text-blue-500":!n,"text-green-500 hover:text-green-500":n},e),onClick:o,"aria-pressed":n?"true":"false","aria-label":"Copy code to clipboard",children:n?jsxRuntimeExports.jsx(ForwardRef$x,{width:24,height:24,className:"text-success"}):jsxRuntimeExports.jsx(ForwardRef$w,{width:24,height:24})})}var originalBodyUserSelect,HOVERCARD_NAME="HoverCard",[createHoverCardContext]=createContextScope(HOVERCARD_NAME,[createPopperScope]),usePopperScope=createPopperScope(),[HoverCardProvider,useHoverCardContext]=createHoverCardContext(HOVERCARD_NAME),HoverCard=t=>{const{__scopeHoverCard:e,children:n,open:i,defaultOpen:o,onOpenChange:u,openDelay:l=700,closeDelay:c=300}=t,f=usePopperScope(e),d=reactExports.useRef(0),m=reactExports.useRef(0),g=reactExports.useRef(!1),v=reactExports.useRef(!1),[y,w]=useControllableState({prop:i,defaultProp:o??!1,onChange:u,caller:HOVERCARD_NAME}),T=reactExports.useCallback(()=>{clearTimeout(m.current),d.current=window.setTimeout(()=>w(!0),l)},[l,w]),P=reactExports.useCallback(()=>{clearTimeout(d.current),!g.current&&!v.current&&(m.current=window.setTimeout(()=>w(!1),c))},[c,w]),A=reactExports.useCallback(()=>w(!1),[w]);return reactExports.useEffect(()=>()=>{clearTimeout(d.current),clearTimeout(m.current)},[]),jsxRuntimeExports.jsx(HoverCardProvider,{scope:e,open:y,onOpenChange:w,onOpen:T,onClose:P,onDismiss:A,hasSelectionRef:g,isPointerDownOnContentRef:v,children:jsxRuntimeExports.jsx(Root2$3,{...f,children:n})})};HoverCard.displayName=HOVERCARD_NAME;var TRIGGER_NAME="HoverCardTrigger",HoverCardTrigger=reactExports.forwardRef((t,e)=>{const{__scopeHoverCard:n,...i}=t,o=useHoverCardContext(TRIGGER_NAME,n),u=usePopperScope(n);return jsxRuntimeExports.jsx(Anchor,{asChild:!0,...u,children:jsxRuntimeExports.jsx(Primitive$1.a,{"data-state":o.open?"open":"closed",...i,ref:e,onPointerEnter:composeEventHandlers(t.onPointerEnter,excludeTouch(o.onOpen)),onPointerLeave:composeEventHandlers(t.onPointerLeave,excludeTouch(o.onClose)),onFocus:composeEventHandlers(t.onFocus,o.onOpen),onBlur:composeEventHandlers(t.onBlur,o.onClose),onTouchStart:composeEventHandlers(t.onTouchStart,l=>l.preventDefault())})})});HoverCardTrigger.displayName=TRIGGER_NAME;var PORTAL_NAME="HoverCardPortal",[PortalProvider,usePortalContext]=createHoverCardContext(PORTAL_NAME,{forceMount:void 0}),HoverCardPortal=t=>{const{__scopeHoverCard:e,forceMount:n,children:i,container:o}=t,u=useHoverCardContext(PORTAL_NAME,e);return jsxRuntimeExports.jsx(PortalProvider,{scope:e,forceMount:n,children:jsxRuntimeExports.jsx(Presence,{present:n||u.open,children:jsxRuntimeExports.jsx(Portal$5,{asChild:!0,container:o,children:i})})})};HoverCardPortal.displayName=PORTAL_NAME;var CONTENT_NAME="HoverCardContent",HoverCardContent=reactExports.forwardRef((t,e)=>{const n=usePortalContext(CONTENT_NAME,t.__scopeHoverCard),{forceMount:i=n.forceMount,...o}=t,u=useHoverCardContext(CONTENT_NAME,t.__scopeHoverCard);return jsxRuntimeExports.jsx(Presence,{present:i||u.open,children:jsxRuntimeExports.jsx(HoverCardContentImpl,{"data-state":u.open?"open":"closed",...o,onPointerEnter:composeEventHandlers(t.onPointerEnter,excludeTouch(u.onOpen)),onPointerLeave:composeEventHandlers(t.onPointerLeave,excludeTouch(u.onClose)),ref:e})})});HoverCardContent.displayName=CONTENT_NAME;var HoverCardContentImpl=reactExports.forwardRef((t,e)=>{const{__scopeHoverCard:n,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:u,onInteractOutside:l,...c}=t,f=useHoverCardContext(CONTENT_NAME,n),d=usePopperScope(n),m=reactExports.useRef(null),g=useComposedRefs(e,m),[v,y]=reactExports.useState(!1);return reactExports.useEffect(()=>{if(v){const w=document.body;return originalBodyUserSelect=w.style.userSelect||w.style.webkitUserSelect,w.style.userSelect="none",w.style.webkitUserSelect="none",()=>{w.style.userSelect=originalBodyUserSelect,w.style.webkitUserSelect=originalBodyUserSelect}}},[v]),reactExports.useEffect(()=>{if(m.current){const w=()=>{y(!1),f.isPointerDownOnContentRef.current=!1,setTimeout(()=>{document.getSelection()?.toString()!==""&&(f.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",w),()=>{document.removeEventListener("pointerup",w),f.hasSelectionRef.current=!1,f.isPointerDownOnContentRef.current=!1}}},[f.isPointerDownOnContentRef,f.hasSelectionRef]),reactExports.useEffect(()=>{m.current&&getTabbableNodes(m.current).forEach(T=>T.setAttribute("tabindex","-1"))}),jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:l,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:composeEventHandlers(u,w=>{w.preventDefault()}),onDismiss:f.onDismiss,children:jsxRuntimeExports.jsx(Content,{...d,...c,onPointerDown:composeEventHandlers(c.onPointerDown,w=>{w.currentTarget.contains(w.target)&&y(!0),f.hasSelectionRef.current=!1,f.isPointerDownOnContentRef.current=!0}),ref:g,style:{...c.style,userSelect:v?"text":void 0,WebkitUserSelect:v?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),ARROW_NAME="HoverCardArrow",HoverCardArrow=reactExports.forwardRef((t,e)=>{const{__scopeHoverCard:n,...i}=t,o=usePopperScope(n);return jsxRuntimeExports.jsx(Arrow,{...o,...i,ref:e})});HoverCardArrow.displayName=ARROW_NAME;function excludeTouch(t){return e=>e.pointerType==="touch"?void 0:t()}function getTabbableNodes(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)e.push(n.currentNode);return e}var Root2=HoverCard,Trigger=HoverCardTrigger,Portal=HoverCardPortal,Content2=HoverCardContent,Arrow2=HoverCardArrow;function HoverPopover({children:t,openDelay:e=400,card:n,side:i,arrowClass:o="fill-white"}){const[u,l]=reactExports.useState(!1);return jsxRuntimeExports.jsxs(Root2,{openDelay:e,children:[jsxRuntimeExports.jsx(Trigger,{asChild:!0,onMouseEnter:()=>l(!0),children:t}),jsxRuntimeExports.jsx(Portal,{children:jsxRuntimeExports.jsxs(Content2,{className:"exclude-from-outline hover-card-content",sideOffset:5,side:i,children:[typeof n=="function"?u&&n({load:u}):n,jsxRuntimeExports.jsx(Arrow2,{className:o})]})})]})}function Tooltip({title:t,children:e,className:n}){return jsxRuntimeExports.jsx(HoverPopover,{side:"top",card:jsxRuntimeExports.jsx("div",{className:classNames("p-1 text-xs text-white bg-blue-900 dark:bg-white dark:text-black",n),children:t}),arrowClass:"fill-blue-900 dark:fill-white",children:e})}function LinkCard$1({url:t,title:e,internal:n=!1,loading:i=!1,description:o,thumbnail:u,className:l="w-[300px] sm:max-w-[500px] bg-white rounded shadow-md"}){const c=useLinkProvider(),f=useBaseurl(),d=withBaseurl(t,f);return jsxRuntimeExports.jsxs("div",{className:classNames("hover-card-content rounded overflow-hidden",l,{"animate-pulse":i}),children:[!i&&u&&jsxRuntimeExports.jsx("img",{src:u,className:"w-full h-[150px] object-cover object-top object-left m-0"}),i&&jsxRuntimeExports.jsx("div",{className:"animate-pulse bg-slate-100 dark:bg-slate-800 w-full h-[150px]"}),n&&jsxRuntimeExports.jsx(c,{to:d,className:"block px-3 mt-3 text-sm font-semibold text-inherit hover:text-inherit",prefetch:"intent",children:e}),!n&&jsxRuntimeExports.jsxs("a",{href:d,className:"block px-3 mt-3 text-sm font-semibold text-inherit hover:text-inherit",target:"_blank",rel:"noreferrer",children:[jsxRuntimeExports.jsx(ForwardRef$z,{width:"1rem",height:"1rem",className:"float-right"}),e]}),!i&&o&&jsxRuntimeExports.jsx("div",{className:"p-3 prose text-sm max-h-[300px] overflow-hidden",children:o})]})}const handle$a=zwitch("operator",{unknown:unknownOperator$4,invalid:exists$4,handlers:{"=":exact$4,"^=":begins$4,"$=":ends$4,"*=":containsString$4,"~=":containsArray$4}});function attribute$5(t,e){let n=-1;for(;++n<t.attrs.length;)if(!handle$a(t.attrs[n],e))return!1;return!0}function exists$4(t,e){return e[t.name]!==null&&e[t.name]!==void 0}function exact$4(t,e){return exists$4(t,e)&&String(e[t.name])===t.value}function containsArray$4(t,e){const n=e[t.name];return n==null?!1:Array.isArray(n)&&n.includes(t.value)?!0:String(n)===t.value}function begins$4(t,e){const n=e[t.name];return!!(t.value&&typeof n=="string"&&n.slice(0,t.value.length)===t.value)}function ends$4(t,e){const n=e[t.name];return!!(t.value&&typeof n=="string"&&n.slice(-t.value.length)===t.value)}function containsString$4(t,e){const n=e[t.name];return!!(t.value&&typeof n=="string"&&n.includes(t.value))}function unknownOperator$4(t){throw new Error("Unknown operator `"+t.operator+"`")}function name$4(t,e){return t.tagName==="*"||t.tagName===e.type}function parent$5(t){return Array.isArray(t.children)}const nthCheck$5=nthCheck$8.default||nthCheck$8,handle$9=zwitch("name",{unknown:unknownPseudo$5,invalid:invalidPseudo$5,handlers:{any:matches$5,blank:empty$g,empty:empty$g,"first-child":firstChild$5,"first-of-type":firstOfType$5,has:has$8,"last-child":lastChild$5,"last-of-type":lastOfType$5,matches:matches$5,not:not$5,"nth-child":nthChild$5,"nth-last-child":nthLastChild$5,"nth-of-type":nthOfType$5,"nth-last-of-type":nthLastOfType$5,"only-child":onlyChild$5,"only-of-type":onlyOfType$5,root:root$9,scope:scope$5}});pseudo$5.needsIndex=["any","first-child","first-of-type","last-child","last-of-type","matches","not","nth-child","nth-last-child","nth-of-type","nth-last-of-type","only-child","only-of-type"];function pseudo$5(t,e,n,i,o){const u=t.pseudos;let l=-1;for(;++l<u.length;)if(!handle$9(u[l],e,n,i,o))return!1;return!0}function empty$g(t,e){return parent$5(e)?e.children.length===0:!("value"in e)}function firstChild$5(t,e,n,i,o){return assertDeep$5(o,t),o.nodeIndex===0}function firstOfType$5(t,e,n,i,o){return assertDeep$5(o,t),o.typeIndex===0}function has$8(t,e,n,i,o){const u={type:"root",children:parent$5(e)?e.children:[]},l={...o,found:!1,shallow:!1,one:!0,scopeNodes:[e],results:[],rootQuery:queryToSelectors$4(t.value)};return walk$5(l,u),l.results.length>0}function lastChild$5(t,e,n,i,o){return assertDeep$5(o,t),typeof o.nodeCount=="number"&&o.nodeIndex===o.nodeCount-1}function lastOfType$5(t,e,n,i,o){return assertDeep$5(o,t),typeof o.typeCount=="number"&&o.typeIndex===o.typeCount-1}function matches$5(t,e,n,i,o){const u={...o,found:!1,shallow:!1,one:!0,scopeNodes:[e],results:[],rootQuery:queryToSelectors$4(t.value)};return walk$5(u,e),u.results[0]===e}function not$5(t,e,n,i,o){return!matches$5(t,e,n,i,o)}function nthChild$5(t,e,n,i,o){const u=getCachedNthCheck$5(t);return assertDeep$5(o,t),typeof o.nodeIndex=="number"&&u(o.nodeIndex)}function nthLastChild$5(t,e,n,i,o){const u=getCachedNthCheck$5(t);return assertDeep$5(o,t),typeof o.nodeCount=="number"&&typeof o.nodeIndex=="number"&&u(o.nodeCount-o.nodeIndex-1)}function nthLastOfType$5(t,e,n,i,o){const u=getCachedNthCheck$5(t);return assertDeep$5(o,t),typeof o.typeIndex=="number"&&typeof o.typeCount=="number"&&u(o.typeCount-1-o.typeIndex)}function nthOfType$5(t,e,n,i,o){const u=getCachedNthCheck$5(t);return assertDeep$5(o,t),typeof o.typeIndex=="number"&&u(o.typeIndex)}function onlyChild$5(t,e,n,i,o){return assertDeep$5(o,t),o.nodeCount===1}function onlyOfType$5(t,e,n,i,o){return assertDeep$5(o,t),o.typeCount===1}function root$9(t,e,n,i){return e&&!i}function scope$5(t,e,n,i,o){return e&&o.scopeNodes.includes(e)}function invalidPseudo$5(){throw new Error("Invalid pseudo-selector")}function unknownPseudo$5(t){throw t.name?new Error("Unknown pseudo-selector `"+t.name+"`"):new Error("Unexpected pseudo-element or empty pseudo-class")}function assertDeep$5(t,e){if(t.shallow)throw new Error("Cannot use `:"+e.name+"` without parent")}function getCachedNthCheck$5(t){let e=t._cachedFn;return e||(e=nthCheck$5(t.value),t._cachedFn=e),e}function test$5(t,e,n,i,o){if(t.id)throw new Error("Invalid selector: id");if(t.classNames)throw new Error("Invalid selector: class");return!!(e&&(!t.tagName||name$4(t,e))&&(!t.attrs||attribute$5(t,e))&&(!t.pseudos||pseudo$5(t,e,n,i,o)))}const empty$f=[];function queryToSelectors$4(t){return t===null?{type:"selectors",selectors:[]}:t.type==="ruleSet"?{type:"selectors",selectors:[t]}:t}function walk$5(t,e){e&&one$8(t,[],e,void 0,void 0)}function one$8(t,e,n,i,o){let u={directChild:void 0,descendant:void 0,adjacentSibling:void 0,generalSibling:void 0};return u=applySelectors$5(t,combine$5(e,t.rootQuery.selectors),n,i,o),parent$5(n)&&!t.shallow&&!(t.one&&t.found)&&all$a(t,u,n),u}function all$a(t,e,n){const i=combine$5(e.descendant,e.directChild);let o,u=-1;const l={count:0,types:new Map},c={count:0,types:new Map};for(;++u<n.children.length;)count$5(l,n.children[u]);for(u=-1;++u<n.children.length;){const d=n.children[u].type.toUpperCase();t.nodeIndex=c.count,t.typeIndex=c.types.get(d)||0,t.nodeCount=l.count,t.typeCount=l.types.get(d);const m=combine$5(i,o),g=one$8(t,m,n.children[u],u,n);if(o=combine$5(g.generalSibling,g.adjacentSibling),t.one&&t.found)break;count$5(c,n.children[u])}}function applySelectors$5(t,e,n,i,o){const u={directChild:void 0,descendant:void 0,adjacentSibling:void 0,generalSibling:void 0};let l=-1;for(;++l<e.length;){const c=e[l];if(t.one&&t.found)break;if(t.shallow&&c.rule.rule)throw new Error("Expected selector without nesting");if(test$5(c.rule,n,i,o,t)){const f=c.rule.rule;if(f){const d={type:"ruleSet",rule:f},m=f.nestingOperator==="+"?"adjacentSibling":f.nestingOperator==="~"?"generalSibling":f.nestingOperator===">"?"directChild":"descendant";add$5(u,m,d)}else t.found=!0,t.results.includes(n)||t.results.push(n)}c.rule.nestingOperator===null?add$5(u,"descendant",c):c.rule.nestingOperator==="~"&&add$5(u,"generalSibling",c)}return u}function combine$5(t,e){return t&&e&&t.length>0&&e.length>0?[...t,...e]:t&&t.length>0?t:e&&e.length>0?e:empty$f}function add$5(t,e,n){const i=t[e];i?i.push(n):t[e]=[n]}function count$5(t,e){const n=e.type.toUpperCase(),i=(t.types.get(n)||0)+1;t.count++,t.types.set(n,i)}var lib$e={},parserContext$4={},utils$4={},hasRequiredUtils$4;function requireUtils$4(){return hasRequiredUtils$4||(hasRequiredUtils$4=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(l){return l>="a"&&l<="z"||l>="A"&&l<="Z"||l==="-"||l==="_"}t.isIdentStart=e;function n(l){return l>="a"&&l<="z"||l>="A"&&l<="Z"||l>="0"&&l<="9"||l==="-"||l==="_"}t.isIdent=n;function i(l){return l>="a"&&l<="f"||l>="A"&&l<="F"||l>="0"&&l<="9"}t.isHex=i;function o(l){for(var c=l.length,f="",d=0;d<c;){var m=l.charAt(d);if(t.identSpecialChars[m])f+="\\"+m;else if(m==="_"||m==="-"||m>="A"&&m<="Z"||m>="a"&&m<="z"||d!==0&&m>="0"&&m<="9")f+=m;else{var g=m.charCodeAt(0);if((g&63488)===55296){var v=l.charCodeAt(d++);if((g&64512)!==55296||(v&64512)!==56320)throw Error("UCS-2(decode): illegal sequence");g=((g&1023)<<10)+(v&1023)+65536}f+="\\"+g.toString(16)+" "}d++}return f}t.escapeIdentifier=o;function u(l){for(var c=l.length,f="",d=0,m;d<c;){var g=l.charAt(d);g==='"'?g='\\"':g==="\\"?g="\\\\":(m=t.strReplacementsRev[g])!==void 0&&(g=m),f+=g,d++}return'"'+f+'"'}t.escapeStr=u,t.identSpecialChars={"!":!0,'"':!0,"#":!0,$:!0,"%":!0,"&":!0,"'":!0,"(":!0,")":!0,"*":!0,"+":!0,",":!0,".":!0,"/":!0,";":!0,"<":!0,"=":!0,">":!0,"?":!0,"@":!0,"[":!0,"\\":!0,"]":!0,"^":!0,"`":!0,"{":!0,"|":!0,"}":!0,"~":!0},t.strReplacementsRev={"\n":"\\n","\r":"\\r","	":"\\t","\f":"\\f","\v":"\\v"},t.singleQuoteEscapeChars={n:`
`,r:"\r",t:"	",f:"\f","\\":"\\","'":"'"},t.doubleQuotesEscapeChars={n:`
`,r:"\r",t:"	",f:"\f","\\":"\\",'"':'"'}})(utils$4)),utils$4}var hasRequiredParserContext$4;function requireParserContext$4(){if(hasRequiredParserContext$4)return parserContext$4;hasRequiredParserContext$4=1,Object.defineProperty(parserContext$4,"__esModule",{value:!0});var t=requireUtils$4();function e(n,i,o,u,l,c){var f=n.length,d="";function m(A,D){var k="";for(i++,d=n.charAt(i);i<f;){if(d===A)return i++,k;if(d==="\\"){i++,d=n.charAt(i);var j=void 0;if(d===A)k+=A;else if((j=D[d])!==void 0)k+=j;else if(t.isHex(d)){var B=d;for(i++,d=n.charAt(i);t.isHex(d);)B+=d,i++,d=n.charAt(i);d===" "&&(i++,d=n.charAt(i)),k+=String.fromCharCode(parseInt(B,16));continue}else k+=d}else k+=d;i++,d=n.charAt(i)}return k}function g(){var A="";for(d=n.charAt(i);i<f;){if(t.isIdent(d))A+=d;else if(d==="\\"){if(i++,i>=f)throw Error("Expected symbol but end of file reached.");if(d=n.charAt(i),t.identSpecialChars[d])A+=d;else if(t.isHex(d)){var D=d;for(i++,d=n.charAt(i);t.isHex(d);)D+=d,i++,d=n.charAt(i);d===" "&&(i++,d=n.charAt(i)),A+=String.fromCharCode(parseInt(D,16));continue}else A+=d}else return A;i++,d=n.charAt(i)}return A}function v(){d=n.charAt(i);for(var A=!1;d===" "||d==="	"||d===`
`||d==="\r"||d==="\f";)A=!0,i++,d=n.charAt(i);return A}function y(){var A=w();if(i<f)throw Error('Rule expected but "'+n.charAt(i)+'" found.');return A}function w(){var A=T();if(!A)return null;var D=A;for(d=n.charAt(i);d===",";){if(i++,v(),D.type!=="selectors"&&(D={type:"selectors",selectors:[A]}),A=T(),!A)throw Error('Rule expected after ",".');D.selectors.push(A)}return D}function T(){v();var A={type:"ruleSet"},D=P();if(!D)return null;for(var k=A;D&&(D.type="rule",k.rule=D,k=D,v(),d=n.charAt(i),!(i>=f||d===","||d===")"));)if(l[d]){var j=d;if(i++,v(),D=P(),!D)throw Error('Rule expected after "'+j+'".');D.nestingOperator=j}else D=P(),D&&(D.nestingOperator=null);return A}function P(){for(var A=null;i<f;)if(d=n.charAt(i),d==="*")i++,(A=A||{}).tagName="*";else if(t.isIdentStart(d)||d==="\\")(A=A||{}).tagName=g();else if(d===".")i++,A=A||{},(A.classNames=A.classNames||[]).push(g());else if(d==="#")i++,(A=A||{}).id=g();else if(d==="["){i++,v();var D={name:g()};if(v(),d==="]")i++;else{var k="";if(u[d]&&(k=d,i++,d=n.charAt(i)),i>=f)throw Error('Expected "=" but end of file reached.');if(d!=="=")throw Error('Expected "=" but "'+d+'" found.');D.operator=k+"=",i++,v();var j="";if(D.valueType="string",d==='"')j=m('"',t.doubleQuotesEscapeChars);else if(d==="'")j=m("'",t.singleQuoteEscapeChars);else if(c&&d==="$")i++,j=g(),D.valueType="substitute";else{for(;i<f&&d!=="]";)j+=d,i++,d=n.charAt(i);j=j.trim()}if(v(),i>=f)throw Error('Expected "]" but end of file reached.');if(d!=="]")throw Error('Expected "]" but "'+d+'" found.');i++,D.value=j}A=A||{},(A.attrs=A.attrs||[]).push(D)}else if(d===":"){i++;var B=g(),Z={name:B};if(d==="("){i++;var R="";if(v(),o[B]==="selector")Z.valueType="selector",R=w();else{if(Z.valueType=o[B]||"string",d==='"')R=m('"',t.doubleQuotesEscapeChars);else if(d==="'")R=m("'",t.singleQuoteEscapeChars);else if(c&&d==="$")i++,R=g(),Z.valueType="substitute";else{for(;i<f&&d!==")";)R+=d,i++,d=n.charAt(i);R=R.trim()}v()}if(i>=f)throw Error('Expected ")" but end of file reached.');if(d!==")")throw Error('Expected ")" but "'+d+'" found.');i++,Z.value=R}A=A||{},(A.pseudos=A.pseudos||[]).push(Z)}else break;return A}return y()}return parserContext$4.parseCssSelector=e,parserContext$4}var render$4={},hasRequiredRender$4;function requireRender$4(){if(hasRequiredRender$4)return render$4;hasRequiredRender$4=1,Object.defineProperty(render$4,"__esModule",{value:!0});var t=requireUtils$4();function e(n){var i="";switch(n.type){case"ruleSet":for(var o=n.rule,u=[];o;)o.nestingOperator&&u.push(o.nestingOperator),u.push(e(o)),o=o.rule;i=u.join(" ");break;case"selectors":i=n.selectors.map(e).join(", ");break;case"rule":n.tagName&&(n.tagName==="*"?i="*":i=t.escapeIdentifier(n.tagName)),n.id&&(i+="#"+t.escapeIdentifier(n.id)),n.classNames&&(i+=n.classNames.map(function(l){return"."+t.escapeIdentifier(l)}).join("")),n.attrs&&(i+=n.attrs.map(function(l){return"operator"in l?l.valueType==="substitute"?"["+t.escapeIdentifier(l.name)+l.operator+"$"+l.value+"]":"["+t.escapeIdentifier(l.name)+l.operator+t.escapeStr(l.value)+"]":"["+t.escapeIdentifier(l.name)+"]"}).join("")),n.pseudos&&(i+=n.pseudos.map(function(l){return l.valueType?l.valueType==="selector"?":"+t.escapeIdentifier(l.name)+"("+e(l.value)+")":l.valueType==="substitute"?":"+t.escapeIdentifier(l.name)+"($"+l.value+")":l.valueType==="numeric"?":"+t.escapeIdentifier(l.name)+"("+l.value+")":":"+t.escapeIdentifier(l.name)+"("+t.escapeIdentifier(l.value)+")":":"+t.escapeIdentifier(l.name)}).join(""));break;default:throw Error('Unknown entity type: "'+n.type+'".')}return i}return render$4.renderEntity=e,render$4}var hasRequiredLib$e;function requireLib$e(){if(hasRequiredLib$e)return lib$e;hasRequiredLib$e=1,Object.defineProperty(lib$e,"__esModule",{value:!0});var t=requireParserContext$4(),e=requireRender$4(),n=(function(){function i(){this.pseudos={},this.attrEqualityMods={},this.ruleNestingOperators={},this.substitutesEnabled=!1}return i.prototype.registerSelectorPseudos=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];this.pseudos[f]="selector"}return this},i.prototype.unregisterSelectorPseudos=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];delete this.pseudos[f]}return this},i.prototype.registerNumericPseudos=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];this.pseudos[f]="numeric"}return this},i.prototype.unregisterNumericPseudos=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];delete this.pseudos[f]}return this},i.prototype.registerNestingOperators=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];this.ruleNestingOperators[f]=!0}return this},i.prototype.unregisterNestingOperators=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];delete this.ruleNestingOperators[f]}return this},i.prototype.registerAttrEqualityMods=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];this.attrEqualityMods[f]=!0}return this},i.prototype.unregisterAttrEqualityMods=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];delete this.attrEqualityMods[f]}return this},i.prototype.enableSubstitutes=function(){return this.substitutesEnabled=!0,this},i.prototype.disableSubstitutes=function(){return this.substitutesEnabled=!1,this},i.prototype.parse=function(o){return t.parseCssSelector(o,0,this.pseudos,this.attrEqualityMods,this.ruleNestingOperators,this.substitutesEnabled)},i.prototype.render=function(o){return e.renderEntity(o).trim()},i})();return lib$e.CssSelectorParser=n,lib$e}var libExports$8=requireLib$e();const parser$5=new libExports$8.CssSelectorParser;parser$5.registerAttrEqualityMods("~","^","$","*");parser$5.registerSelectorPseudos("any","matches","not","has");parser$5.registerNestingOperators(">","+","~");function parse$9(t){if(typeof t!="string")throw new TypeError("Expected `string` as selector, not `"+t+"`");return parser$5.parse(t)}function matches$4(t,e){const n=createState$6(t,e);return n.one=!0,n.shallow=!0,walk$5(n,e||void 0),n.results.length>0}function select$4(t,e){const n=createState$6(t,e);return n.one=!0,walk$5(n,e||void 0),n.results[0]||null}function selectAll$3(t,e){const n=createState$6(t,e);return walk$5(n,e||void 0),n.results}function createState$6(t,e){return{rootQuery:queryToSelectors$4(parse$9(t)),results:[],scopeNodes:e?parent$5(e)&&(e.type==="RootNode"||e.type==="root")?e.children:[e]:[],one:!1,shallow:!1,found:!1,typeIndex:void 0,nodeIndex:void 0,typeCount:void 0,nodeCount:void 0}}function DefaultComponent({node:t,className:e}){return t.children?jsxRuntimeExports.jsx("div",{className:e,children:jsxRuntimeExports.jsx(MyST,{ast:t.children})}):jsxRuntimeExports.jsx("span",{className:e,children:t.value})}function selectRenderer(t,e){var n,i,o;const u=(n=t[e.type])!==null&&n!==void 0?n:t.DefaultComponent,l=(i=Object.entries(u??{}).reverse().find(([c])=>c!=="base"&&matches$4(c,e)))===null||i===void 0?void 0:i[1];return(o=l??u?.base)!==null&&o!==void 0?o:DefaultComponent}function MyST({ast:t,className:e}){const n=useNodeRenderers();if(!t)return null;if(!Array.isArray(t)){const i=selectRenderer(n,t);return jsxRuntimeExports.jsx(i,{node:t,className:e},t.key)}return t.length===0?null:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:t?.map(i=>{const o=selectRenderer(n,i);return jsxRuntimeExports.jsx(o,{node:i,className:e},i.key)})})}const BASIC_RENDERERS={text({node:t}){var e;if(!(!((e=t.value)===null||e===void 0)&&e.includes("")))return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:t.value});const n=t.value.split("");return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:n.map((i,o)=>jsxRuntimeExports.jsxs(React.Fragment,{children:[i,o<n.length-1&&jsxRuntimeExports.jsx("wbr",{})]},o))})},span({node:t,className:e}){return jsxRuntimeExports.jsx("span",{className:classNames(t.class,e),style:t.style,id:t.html_id,children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})},div({node:t,className:e}){return jsxRuntimeExports.jsx("div",{className:classNames(t.class,e),style:t.style,id:t.html_id,children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})},delete({node:t,className:e}){return jsxRuntimeExports.jsx("del",{className:e,children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})},strong({node:t,className:e}){return jsxRuntimeExports.jsx("strong",{className:e,children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})},emphasis({node:t,className:e}){return jsxRuntimeExports.jsx("em",{className:e,children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})},underline({node:t,className:e}){return jsxRuntimeExports.jsx("span",{style:{textDecoration:"underline"},className:e,children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})},smallcaps({node:t,className:e}){return jsxRuntimeExports.jsx("span",{style:{fontVariant:"small-caps"},className:e,children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})},link({node:t,className:e}){return jsxRuntimeExports.jsx("a",{target:"_blank",href:t.url,className:classNames(t.class,e),rel:"noreferrer",children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})},paragraph({node:t,className:e}){return jsxRuntimeExports.jsx("p",{id:t.html_id,className:e,children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})},algorithmLine({node:t,className:e}){var n;const i={paddingLeft:`${((n=t.indent)!==null&&n!==void 0?n:0)+2}rem`};return jsxRuntimeExports.jsx("p",{className:classNames("line",e),style:i,"data-line-number":t.enumerator,children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})},break({className:t}){return jsxRuntimeExports.jsx("br",{className:t})},inlineMath({node:t,className:e}){return jsxRuntimeExports.jsx("code",{className:e,children:t.value})},math({node:t,className:e}){return jsxRuntimeExports.jsx("code",{className:e,children:t.value})},list({node:t,className:e}){return t.ordered?jsxRuntimeExports.jsx("ol",{start:t.start||void 0,id:t.html_id,className:e,children:jsxRuntimeExports.jsx(MyST,{ast:t.children})}):jsxRuntimeExports.jsx("ul",{id:t.html_id,className:e,children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})},listItem({node:t,className:e}){return t.checked==null?jsxRuntimeExports.jsx("li",{className:e,children:jsxRuntimeExports.jsx(MyST,{ast:t.children})}):jsxRuntimeExports.jsxs("li",{className:classNames("task-list-item",e),children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"task-list-item-checkbox",defaultChecked:t.checked}),jsxRuntimeExports.jsx(MyST,{ast:t.children})]})},container({node:t,className:e}){const n=`fig-${t.kind}`;return jsxRuntimeExports.jsx("figure",{id:t.html_id||t.identifier||t.key,className:classNames({[n]:!!t.kind,subcontainer:t.subcontainer},t.class,e),children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})},caption({node:t,className:e}){return jsxRuntimeExports.jsx("figcaption",{className:classNames("group",e),children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})},legend({node:t,className:e}){return jsxRuntimeExports.jsx("figcaption",{className:classNames("text-sm",e),children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})},blockquote({node:t,className:e}){return jsxRuntimeExports.jsx("blockquote",{id:t.html_id,className:e,children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})},thematicBreak(){return jsxRuntimeExports.jsx("hr",{className:"py-2 my-5 translate-y-2"})},captionNumber({node:t,className:e}){const n=t.html_id||t.identifier||t.key;return jsxRuntimeExports.jsx(HashLink,{id:n,kind:t.kind,className:classNames("mr-1 font-semibold text-inherit hover:text-inherit hover:font-semibold",e),children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})},table({node:t,className:e}){return jsxRuntimeExports.jsx("table",{className:classNames(t.class,e),style:t.style,children:jsxRuntimeExports.jsx("tbody",{children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})})},tableRow({node:t,className:e}){return jsxRuntimeExports.jsx("tr",{className:classNames(t.class,e),style:t.style,children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})},tableCell({node:t,className:e}){const n=u=>u===1?void 0:u,i={rowSpan:n(t.rowspan),colSpan:n(t.colspan)},o={"text-left":t.align==="left","text-right":t.align==="right","text-center":t.align==="center"};return t.header?jsxRuntimeExports.jsx("th",Object.assign({className:classNames(t.class,o,e),style:t.style},i,{children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})):jsxRuntimeExports.jsx("td",Object.assign({className:classNames(t.class,o,e),style:t.style},i,{children:jsxRuntimeExports.jsx(MyST,{ast:t.children})}))},subscript({node:t,className:e}){return jsxRuntimeExports.jsx("sub",{className:e,children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})},superscript({node:t,className:e}){return jsxRuntimeExports.jsx("sup",{className:e,children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})},abbreviation({node:t,className:e}){return jsxRuntimeExports.jsx(Tooltip,{title:t.title,className:classNames(e),children:jsxRuntimeExports.jsx("abbr",{"aria-label":t.title,className:"border-b border-dotted cursor-help",children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})})},mystComment(){return null},comment(){return null},definitionList({node:t,className:e}){return jsxRuntimeExports.jsx("dl",{className:classNames("my-5",e),id:t.html_id||t.identifier||t.key,children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})},definitionTerm({node:t,className:e}){var n,i;const o=new Set(["text","emphasis"]),u=(i=(n=t.children)===null||n===void 0?void 0:n.reduce((l,c)=>l&&o.has(c.type),!0))!==null&&i!==void 0?i:!1;return jsxRuntimeExports.jsx("dt",{id:t.html_id||t.identifier||t.key,className:e,children:u?jsxRuntimeExports.jsx("strong",{children:jsxRuntimeExports.jsx(MyST,{ast:t.children})}):jsxRuntimeExports.jsx(MyST,{ast:t.children})})},definitionDescription({node:t,className:e}){return jsxRuntimeExports.jsx("dd",{className:e,children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})},keyboard({node:t,className:e}){return jsxRuntimeExports.jsx("kbd",{className:e,children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})},include({node:t,className:e}){return jsxRuntimeExports.jsx(MyST,{ast:t.children,className:e})},glossary({node:t,className:e}){return jsxRuntimeExports.jsx("div",{id:t.html_id||t.identifier||t.key,className:classNames(t.class,e),children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})},root({node:t,className:e}){return jsxRuntimeExports.jsx(MyST,{ast:t.children,className:e})}};function BoltIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{fillRule:"evenodd",d:"M14.615 1.595a.75.75 0 0 1 .359.852L12.982 9.75h7.268a.75.75 0 0 1 .548 1.262l-10.5 11.25a.75.75 0 0 1-1.272-.71l1.992-7.302H3.75a.75.75 0 0 1-.548-1.262l10.5-11.25a.75.75 0 0 1 .913-.143Z",clipRule:"evenodd"}))}const ForwardRef$m=reactExports.forwardRef(BoltIcon);function ChevronRightIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}))}const ForwardRef$l=reactExports.forwardRef(ChevronRightIcon);function ExclamationCircleIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const ForwardRef$k=reactExports.forwardRef(ExclamationCircleIcon);function ExclamationTriangleIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const ForwardRef$j=reactExports.forwardRef(ExclamationTriangleIcon);function XCircleIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const ForwardRef$i=reactExports.forwardRef(XCircleIcon);var AdmonitionKind$1;(function(t){t.admonition="admonition",t.attention="attention",t.caution="caution",t.danger="danger",t.error="error",t.important="important",t.hint="hint",t.note="note",t.seealso="seealso",t.tip="tip",t.warning="warning"})(AdmonitionKind$1||(AdmonitionKind$1={}));function getClasses$3(t){var e;const n=(e=t?.split(" ").map(i=>i.trim().toLowerCase()).filter(i=>!!i))!==null&&e!==void 0?e:[];return[...new Set(n)]}function getFirstKind$1({kind:t,classes:e=[]}){return t===AdmonitionKind$1.note||e.includes("note")?{kind:AdmonitionKind$1.note,color:"blue"}:t===AdmonitionKind$1.important||e.includes("important")?{kind:AdmonitionKind$1.important,color:"blue"}:t===AdmonitionKind$1.hint||e.includes("hint")?{kind:AdmonitionKind$1.hint,color:"green"}:t===AdmonitionKind$1.seealso||e.includes("seealso")?{kind:AdmonitionKind$1.seealso,color:"green"}:t===AdmonitionKind$1.tip||e.includes("tip")?{kind:AdmonitionKind$1.tip,color:"green"}:t===AdmonitionKind$1.attention||e.includes("attention")?{kind:AdmonitionKind$1.attention,color:"yellow"}:t===AdmonitionKind$1.warning||e.includes("warning")?{kind:AdmonitionKind$1.warning,color:"yellow"}:t===AdmonitionKind$1.caution||e.includes("caution")?{kind:AdmonitionKind$1.caution,color:"yellow"}:t===AdmonitionKind$1.danger||e.includes("danger")?{kind:AdmonitionKind$1.danger,color:"red"}:t===AdmonitionKind$1.error||e.includes("error")?{kind:AdmonitionKind$1.error,color:"red"}:{kind:AdmonitionKind$1.note,color:"blue"}}const iconClass$3="myst-admonition-header-icon inline-block pl-2 mr-2 self-center flex-none";function AdmonitionIcon({kind:t,className:e}){const i={width:"2rem",height:"2rem",className:classNames(iconClass$3,e)};return t===AdmonitionKind$1.note?jsxRuntimeExports.jsx(ForwardRef$s,Object.assign({},i)):t===AdmonitionKind$1.caution?jsxRuntimeExports.jsx(ForwardRef$u,Object.assign({},i)):t===AdmonitionKind$1.warning?jsxRuntimeExports.jsx(ForwardRef$j,Object.assign({},i)):t===AdmonitionKind$1.danger?jsxRuntimeExports.jsx(ForwardRef$k,Object.assign({},i)):t===AdmonitionKind$1.error?jsxRuntimeExports.jsx(ForwardRef$i,Object.assign({},i)):t===AdmonitionKind$1.attention?jsxRuntimeExports.jsx(ForwardRef$p,Object.assign({},i)):t===AdmonitionKind$1.tip?jsxRuntimeExports.jsx(ForwardRef$o,Object.assign({},i)):t===AdmonitionKind$1.hint?jsxRuntimeExports.jsx(ForwardRef$r,Object.assign({},i)):t===AdmonitionKind$1.important?jsxRuntimeExports.jsx(ForwardRef$m,Object.assign({},i)):t===AdmonitionKind$1.seealso?jsxRuntimeExports.jsx(ForwardRef$A,Object.assign({},i)):jsxRuntimeExports.jsx(ForwardRef$s,Object.assign({},i))}const AdmonitionTitle=({node:t,className:e})=>jsxRuntimeExports.jsx(MyST,{ast:t.children,className:e}),WrapperElement$2=({dropdown:t,className:e,children:n,open:i})=>t?jsxRuntimeExports.jsx("details",{className:e,open:i,children:n}):jsxRuntimeExports.jsx("aside",{className:e,children:n}),HeaderElement$2=({dropdown:t,className:e,children:n})=>t?jsxRuntimeExports.jsx("summary",{className:e,children:n}):jsxRuntimeExports.jsx("div",{className:e,children:n});function Admonition({title:t,kind:e,color:n,simple:i,dropdown:o,children:u,hideIcon:l,className:c,open:f}){return jsxRuntimeExports.jsxs(WrapperElement$2,{dropdown:o,open:f,className:classNames(`myst-admonition myst-admonition-${e} my-5 shadow-md dark:shadow-2xl dark:shadow-neutral-900`,"bg-gray-50/10 dark:bg-stone-800","overflow-hidden",{"myst-admonition-default rounded border-l-4":!i,"myst-admonition-simple border-l-2":i,"border-blue-500":!n||n==="blue","border-green-600":n==="green","border-amber-600":n==="yellow","border-red-600":n==="red"},c),children:[t&&jsxRuntimeExports.jsxs(HeaderElement$2,{dropdown:o,className:classNames("myst-admonition-header m-0 font-medium py-1 flex min-w-0",{"text-lg":!i,"text-md":i,"bg-gray-100 dark:bg-stone-700":i,"text-blue-600 bg-blue-50 dark:bg-slate-900":!i&&(!n||n==="blue"),"text-green-600 bg-green-50 dark:bg-slate-900":!i&&n==="green","text-amber-600 bg-amber-50 dark:bg-slate-900":!i&&n==="yellow","text-red-600 bg-red-50 dark:bg-slate-900":!i&&n==="red","cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]":o}),children:[!l&&jsxRuntimeExports.jsx(AdmonitionIcon,{kind:e??AdmonitionKind$1.note,className:classNames({"text-blue-600":!n||n==="blue","text-green-600":n==="green","text-amber-600":n==="yellow","text-red-600":n==="red"})}),jsxRuntimeExports.jsx("div",{className:classNames("myst-admonition-header-text text-neutral-900 dark:text-white grow self-center overflow-hidden break-words",{"ml-4":l}),children:t}),o&&jsxRuntimeExports.jsx("div",{className:"self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200",children:jsxRuntimeExports.jsx(ForwardRef$l,{width:"2rem",height:"2rem",className:classNames(iconClass$3,"transition-transform details-toggle")})})]}),jsxRuntimeExports.jsx("div",{className:classNames("myst-admonition-body px-4",{"py-1":!i,"details-body":o}),children:u})]})}const AdmonitionRenderer$1=({node:t,className:e})=>{const[n,...i]=t.children,o=getClasses$3(t.class),{kind:u,color:l}=getFirstKind$1({kind:t.kind,classes:o}),c=o.includes("dropdown"),f=o.includes("simple"),d=t.icon===!1,m=t.open===!0,g=n?.type==="admonitionTitle";return jsxRuntimeExports.jsx(Admonition,{title:g?jsxRuntimeExports.jsx(MyST,{ast:[n]}):void 0,kind:u,color:l,dropdown:c,open:m,simple:f,hideIcon:d,className:classNames(o,e),children:g?jsxRuntimeExports.jsx(MyST,{ast:i}):jsxRuntimeExports.jsx(MyST,{ast:t.children})})},ADMONITION_RENDERERS$1={admonition:AdmonitionRenderer$1,admonitionTitle:AdmonitionTitle},iconClass$2="myst-dropdown-header-icon inline-block pl-2 mr-2 -translate-y-[1px]",SummaryTitle=({node:t,className:e})=>jsxRuntimeExports.jsx(MyST,{ast:t.children,className:e});function Details({title:t,children:e,open:n,className:i}){return jsxRuntimeExports.jsxs("details",{className:classNames("myst-dropdown rounded-md my-5 shadow dark:shadow-2xl dark:shadow-neutral-900 overflow-hidden","bg-gray-50 dark:bg-stone-800",i),open:n,children:[jsxRuntimeExports.jsx("summary",{className:classNames("myst-dropdown-header m-0 text-lg font-medium py-1 min-h-[2em] pl-3","cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]","bg-gray-100 dark:bg-slate-900"),children:jsxRuntimeExports.jsxs("span",{className:"myst-dropdown-header-title text-neutral-900 dark:text-white",children:[jsxRuntimeExports.jsx("span",{className:"block float-right text-sm font-thin text-neutral-700 dark:text-neutral-200",children:jsxRuntimeExports.jsx(ForwardRef$l,{width:"1.5rem",height:"1.5rem",className:classNames(iconClass$2,"details-toggle","transition-transform")})}),t]})}),jsxRuntimeExports.jsx("div",{className:"myst-dropdown-body px-4 py-1 details-body",children:e})]})}const DetailsRenderer=({node:t,className:e})=>{const[n,...i]=t.children;return jsxRuntimeExports.jsx(Details,{title:jsxRuntimeExports.jsx(MyST,{ast:[n]}),open:t.open,className:classNames(t.class,e),children:jsxRuntimeExports.jsx(MyST,{ast:i})})},DROPDOWN_RENDERERS={details:DetailsRenderer,summary:SummaryTitle};function Block({node:t,className:e}){var n,i,o;const u=classNames(e,t.class,{[(n=t.data)===null||n===void 0?void 0:n.class]:typeof((i=t.data)===null||i===void 0?void 0:i.class)=="string"});if(t.visibility==="remove")return null;const l=(o=t.html_id)!==null&&o!==void 0?o:t.identifier,c=u||l?jsxRuntimeExports.jsx("div",{id:l,className:u,children:jsxRuntimeExports.jsx(MyST,{ast:t.children})}):jsxRuntimeExports.jsx(MyST,{ast:t.children});return t.visibility==="hide"?jsxRuntimeExports.jsx(Details,{title:"Block",children:c}):c}const BLOCK_RENDERERS={block:Block},Header=({node:t,className:e})=>jsxRuntimeExports.jsx("header",{className:classNames("myst-card-header py-1 pl-3 m-0 border-b border-gray-100 bg-gray-50 dark:bg-slate-900 dark:border-gray-800",e),children:jsxRuntimeExports.jsx(MyST,{ast:t.children})}),Footer=({node:t,className:e})=>jsxRuntimeExports.jsx("footer",{className:classNames("myst-card-footer py-1 pl-3 m-0 border-t border-gray-100 bg-gray-50 dark:bg-slate-900 dark:border-gray-800",e),children:jsxRuntimeExports.jsx(MyST,{ast:t.children})}),CardTitle=({node:t,className:e})=>jsxRuntimeExports.jsx("div",{className:classNames("myst-card-title pt-3 font-bold group-hover:underline",e),children:jsxRuntimeExports.jsx(MyST,{ast:t.children})});function getParts(t){var e,n;const i={};if(!Array.isArray(t))return i;const o=[...t];return((e=o[0])===null||e===void 0?void 0:e.type)==="header"&&(i.header=o.splice(0,1)),((n=o[o.length-1])===null||n===void 0?void 0:n.type)==="footer"&&(i.footer=o.splice(-1,1)),i.body=o,i}function ExternalOrInternalLink({to:t,className:e,isStatic:n,prefetch:i="intent",children:o}){const u=useLinkProvider(),l=useBaseurl();return t.startsWith("http")||n?jsxRuntimeExports.jsx("a",{href:t,className:e,target:"_blank",rel:"noopener noreferrer",children:o}):jsxRuntimeExports.jsx(u,{to:withBaseurl(t,l),className:e,prefetch:i,children:o})}const CardRenderer=({node:t,className:e})=>{const n=getParts(t.children),i=t.url,o=t.static||!1,u=!!i,l="myst-card my-5 rounded shadow dark:shadow-neutral-800 overflow-hidden border border-gray-100 dark:border-gray-800 flex flex-col";return u?jsxRuntimeExports.jsxs(ExternalOrInternalLink,{to:i,isStatic:o,className:classNames(l,"text-inherit hover:text-inherit","block font-normal no-underline hover:no-underline cursor-pointer group","hover:border-blue-500 dark:hover:border-blue-400",e),children:[jsxRuntimeExports.jsx(MyST,{ast:n.header}),jsxRuntimeExports.jsx("div",{className:"myst-card-body flex-grow px-4 py-2",children:jsxRuntimeExports.jsx(MyST,{ast:n.body})}),jsxRuntimeExports.jsx(MyST,{ast:n.footer})]}):jsxRuntimeExports.jsxs("div",{className:classNames(l,e),children:[jsxRuntimeExports.jsx(MyST,{ast:n.header}),jsxRuntimeExports.jsx("div",{className:"myst-card-body flex-grow px-4 py-2",children:jsxRuntimeExports.jsx(MyST,{ast:n.body})}),jsxRuntimeExports.jsx(MyST,{ast:n.footer})]})},CARD_RENDERERS={card:CardRenderer,cardTitle:CardTitle,header:Header,footer:Footer},gridClassNames={main:["grid-cols-1","grid-cols-2","grid-cols-3","grid-cols-4","grid-cols-5","grid-cols-6","grid-cols-7","grid-cols-8","grid-cols-9","grid-cols-10","grid-cols-11","grid-cols-12"],md:["md:grid-cols-1","md:grid-cols-2","md:grid-cols-3","md:grid-cols-4","md:grid-cols-5","md:grid-cols-6","md:grid-cols-7","md:grid-cols-8","md:grid-cols-9","md:grid-cols-10","md:grid-cols-11","md:grid-cols-12"],lg:["lg:grid-cols-1","lg:grid-cols-2","lg:grid-cols-3","lg:grid-cols-4","lg:grid-cols-5","lg:grid-cols-6","lg:grid-cols-7","lg:grid-cols-8","lg:grid-cols-9","lg:grid-cols-10","lg:grid-cols-11","lg:grid-cols-12"],xl:["xl:grid-cols-1","xl:grid-cols-2","xl:grid-cols-3","xl:grid-cols-4","xl:grid-cols-5","xl:grid-cols-6","xl:grid-cols-7","xl:grid-cols-8","xl:grid-cols-9","xl:grid-cols-10","xl:grid-cols-11","xl:grid-cols-12"]},DEFAULT_NUM_COLUMNS=3;function getColumnClassName(t,e){var n;const i=Number(e);return!e||Number.isNaN(i)?getColumnClassName(t,DEFAULT_NUM_COLUMNS):(n=t[i-1])!==null&&n!==void 0?n:t[DEFAULT_NUM_COLUMNS]}function gridColumnClasses(t){return!t||t.length<=1?getColumnClassName(gridClassNames.main,t?.[0]):t.length!==4?getColumnClassName(gridClassNames.main,t[0]):[getColumnClassName(gridClassNames.main,t[0]),getColumnClassName(gridClassNames.md,t[1]),getColumnClassName(gridClassNames.lg,t[2]),getColumnClassName(gridClassNames.xl,t[3])].join(" ")}function Grid({columns:t,children:e,className:n}){const i=gridColumnClasses(t);return jsxRuntimeExports.jsx("div",{className:classNames("myst-grid grid my-5",i,"gap-4",n),children:e})}const GridRenderer=({node:t,className:e})=>jsxRuntimeExports.jsx(Grid,{columns:t.columns,className:classNames(e,t.class),children:jsxRuntimeExports.jsx(MyST,{ast:t.children})}),GRID_RENDERERS={grid:GridRenderer};function InlineError$1({value:t,message:e,className:n}){return jsxRuntimeExports.jsxs("span",{className:classNames("text-yellow-600",n),title:e||t,children:[jsxRuntimeExports.jsx(ForwardRef$u,{width:"1rem",height:"1rem",className:"inline mr-1"}),t]})}function useNumberedReferences$1(){var t;const e=useSiteManifest();return!!(!((t=e?.options)===null||t===void 0)&&t.numbered_references)}function CiteChild$1({html:t}){return jsxRuntimeExports.jsx("div",{className:"hover-document article w-[500px] sm:max-w-[500px] p-3",dangerouslySetInnerHTML:{__html:t||""}})}const CiteGroup$1=({node:t,className:e})=>{var n,i;const o=(i=(n=t.children)===null||n===void 0?void 0:n.every(u=>u.type==="cite"))!==null&&i!==void 0?i:!1;return jsxRuntimeExports.jsx("span",{className:classNames({"cite-group":o,"xref-group":!o,narrative:t.kind==="narrative",parenthetical:t.kind==="parenthetical"},e),children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})},Cite$1=({label:t,error:e,children:n,className:i})=>{var o,u;const l=useReferences();if(!t)return jsxRuntimeExports.jsx(InlineError$1,{value:"cite (no label)",message:"Citation Has No Label",className:i});const{html:c,doi:f,url:d}=(u=(o=l?.cite)===null||o===void 0?void 0:o.data[t])!==null&&u!==void 0?u:{};if(e)return jsxRuntimeExports.jsx(InlineError$1,{value:t,message:"Citation Not Found",className:i});const m=f?doi.buildUrl(f):d,g=(i??"").split(" ").includes("button");return jsxRuntimeExports.jsx(HoverPopover,{openDelay:300,card:jsxRuntimeExports.jsx(CiteChild$1,{html:c}),children:jsxRuntimeExports.jsxs("cite",{className:i,children:[m&&jsxRuntimeExports.jsx("a",{href:m,target:"_blank",rel:"noreferrer",className:classNames({"hover-link":!g}),children:n}),!m&&jsxRuntimeExports.jsx("span",{className:"hover-link",children:n})]})})},CiteRenderer$1=({node:t,className:e})=>{const n=useNumberedReferences$1();return jsxRuntimeExports.jsx(Cite$1,{label:t.label,error:t.error,className:classNames(e,t.class),children:n&&t.kind==="parenthetical"?t.enumerator:jsxRuntimeExports.jsx(MyST,{ast:t.children})})},CITE_RENDERERS$1={citeGroup:CiteGroup$1,cite:CiteRenderer$1};function FootnoteDefinition({identifier:t}){var e,n;const i=useReferences(),o=(n=(e=i?.footnotes)===null||e===void 0?void 0:e[t])!==null&&n!==void 0?n:select$4(`footnoteDefinition[identifier=${t}]`,i?.article);return jsxRuntimeExports.jsx(XRefProvider,{children:jsxRuntimeExports.jsx("div",{className:"hover-document article w-[500px] sm:max-w-[500px] px-3 text-sm",children:jsxRuntimeExports.jsx(MyST,{ast:o?.children})})})}const FootnoteReference=({node:t,className:e})=>{var n,i;return jsxRuntimeExports.jsx(HoverPopover,{openDelay:0,card:jsxRuntimeExports.jsx(FootnoteDefinition,{identifier:t.identifier}),children:jsxRuntimeExports.jsx("span",{id:`fnref-${t.key}`,className:e,children:jsxRuntimeExports.jsx("sup",{className:"hover-link",children:jsxRuntimeExports.jsxs(HashLink,{id:`fn-${t.identifier}`,title:"Link to Footnote",scrollBehavior:"instant",canSelectText:!0,children:["[",(i=(n=t.enumerator)!==null&&n!==void 0?n:t.number)!==null&&i!==void 0?i:t.identifier,"]"]})})})})},FOOTNOTE_RENDERERS={footnoteReference:FootnoteReference,footnoteDefinition:()=>null};function _objectWithoutPropertiesLoose(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function _objectWithoutProperties(t,e){if(t==null)return{};var n,i,o=_objectWithoutPropertiesLoose(t,e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(i=0;i<u.length;i++)n=u[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function _arrayLikeToArray(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _iterableToArray(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _unsupportedIterableToArray(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _typeof$1(t){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(t)}function toPrimitive(t,e){if(_typeof$1(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(_typeof$1(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function toPropertyKey(t){var e=toPrimitive(t,"string");return _typeof$1(e)=="symbol"?e:e+""}function _defineProperty(t,e,n){return(e=toPropertyKey(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_extends.apply(null,arguments)}function ownKeys$1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$1(Object(n),!0).forEach(function(i){_defineProperty(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function powerSetPermutations(t){var e=t.length;if(e===0||e===1)return t;if(e===2)return[t[0],t[1],"".concat(t[0],".").concat(t[1]),"".concat(t[1],".").concat(t[0])];if(e===3)return[t[0],t[1],t[2],"".concat(t[0],".").concat(t[1]),"".concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[0]),"".concat(t[1],".").concat(t[2]),"".concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[1],".").concat(t[0])];if(e>=4)return[t[0],t[1],t[2],t[3],"".concat(t[0],".").concat(t[1]),"".concat(t[0],".").concat(t[2]),"".concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[0]),"".concat(t[1],".").concat(t[2]),"".concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[1]),"".concat(t[2],".").concat(t[3]),"".concat(t[3],".").concat(t[0]),"".concat(t[3],".").concat(t[1]),"".concat(t[3],".").concat(t[2]),"".concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[1],".").concat(t[3]),"".concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[2],".").concat(t[3]),"".concat(t[0],".").concat(t[3],".").concat(t[1]),"".concat(t[0],".").concat(t[3],".").concat(t[2]),"".concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[1],".").concat(t[2],".").concat(t[3]),"".concat(t[1],".").concat(t[3],".").concat(t[0]),"".concat(t[1],".").concat(t[3],".").concat(t[2]),"".concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[0],".").concat(t[3]),"".concat(t[2],".").concat(t[1],".").concat(t[0]),"".concat(t[2],".").concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[3],".").concat(t[0]),"".concat(t[2],".").concat(t[3],".").concat(t[1]),"".concat(t[3],".").concat(t[0],".").concat(t[1]),"".concat(t[3],".").concat(t[0],".").concat(t[2]),"".concat(t[3],".").concat(t[1],".").concat(t[0]),"".concat(t[3],".").concat(t[1],".").concat(t[2]),"".concat(t[3],".").concat(t[2],".").concat(t[0]),"".concat(t[3],".").concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[1],".").concat(t[2],".").concat(t[3]),"".concat(t[0],".").concat(t[1],".").concat(t[3],".").concat(t[2]),"".concat(t[0],".").concat(t[2],".").concat(t[1],".").concat(t[3]),"".concat(t[0],".").concat(t[2],".").concat(t[3],".").concat(t[1]),"".concat(t[0],".").concat(t[3],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[3],".").concat(t[2],".").concat(t[1]),"".concat(t[1],".").concat(t[0],".").concat(t[2],".").concat(t[3]),"".concat(t[1],".").concat(t[0],".").concat(t[3],".").concat(t[2]),"".concat(t[1],".").concat(t[2],".").concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[2],".").concat(t[3],".").concat(t[0]),"".concat(t[1],".").concat(t[3],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[3],".").concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[0],".").concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[0],".").concat(t[3],".").concat(t[1]),"".concat(t[2],".").concat(t[1],".").concat(t[0],".").concat(t[3]),"".concat(t[2],".").concat(t[1],".").concat(t[3],".").concat(t[0]),"".concat(t[2],".").concat(t[3],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[3],".").concat(t[1],".").concat(t[0]),"".concat(t[3],".").concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[3],".").concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[3],".").concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[3],".").concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[3],".").concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[3],".").concat(t[2],".").concat(t[1],".").concat(t[0])]}var classNameCombinations={};function getClassNameCombinations(t){if(t.length===0||t.length===1)return t;var e=t.join(".");return classNameCombinations[e]||(classNameCombinations[e]=powerSetPermutations(t)),classNameCombinations[e]}function createStyleObject(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=t.filter(function(u){return u!=="token"}),o=getClassNameCombinations(i);return o.reduce(function(u,l){return _objectSpread$1(_objectSpread$1({},u),n[l])},e)}function createClassNameString(t){return t.join(" ")}function createChildren(t,e){var n=0;return function(i){return n+=1,i.map(function(o,u){return createElement({node:o,stylesheet:t,useInlineStyles:e,key:"code-segment-".concat(n,"-").concat(u)})})}}function createElement(t){var e=t.node,n=t.stylesheet,i=t.style,o=i===void 0?{}:i,u=t.useInlineStyles,l=t.key,c=e.properties,f=e.type,d=e.tagName,m=e.value;if(f==="text")return m;if(d){var g=createChildren(n,u),v;if(!u)v=_objectSpread$1(_objectSpread$1({},c),{},{className:createClassNameString(c.className)});else{var y=Object.keys(n).reduce(function(A,D){return D.split(".").forEach(function(k){A.includes(k)||A.push(k)}),A},[]),w=c.className&&c.className.includes("token")?["token"]:[],T=c.className&&w.concat(c.className.filter(function(A){return!y.includes(A)}));v=_objectSpread$1(_objectSpread$1({},c),{},{className:createClassNameString(T)||void 0,style:createStyleObject(c.className,Object.assign({},c.style,o),n)})}var P=g(e.children);return React.createElement(d,_extends({key:l},v),P)}}const checkForListedLanguage=(function(t,e){var n=t.listLanguages();return n.indexOf(e)!==-1});var _excluded=["language","children","style","customStyle","codeTagProps","useInlineStyles","showLineNumbers","showInlineLineNumbers","startingLineNumber","lineNumberContainerStyle","lineNumberStyle","wrapLines","wrapLongLines","lineProps","renderer","PreTag","CodeTag","code","astGenerator"];function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(i){_defineProperty(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}var newLineRegex=/\n/g;function getNewLines(t){return t.match(newLineRegex)}function getAllLineNumbers(t){var e=t.lines,n=t.startingLineNumber,i=t.style;return e.map(function(o,u){var l=u+n;return React.createElement("span",{key:"line-".concat(u),className:"react-syntax-highlighter-line-number",style:typeof i=="function"?i(l):i},"".concat(l,`
`))})}function AllLineNumbers(t){var e=t.codeString,n=t.codeStyle,i=t.containerStyle,o=i===void 0?{float:"left",paddingRight:"10px"}:i,u=t.numberStyle,l=u===void 0?{}:u,c=t.startingLineNumber;return React.createElement("code",{style:Object.assign({},n,o)},getAllLineNumbers({lines:e.replace(/\n$/,"").split(`
`),style:l,startingLineNumber:c}))}function getEmWidthOfNumber(t){return"".concat(t.toString().length,".25em")}function getInlineLineNumber(t,e){return{type:"element",tagName:"span",properties:{key:"line-number--".concat(t),className:["comment","linenumber","react-syntax-highlighter-line-number"],style:e},children:[{type:"text",value:t}]}}function assembleLineNumberStyles(t,e,n){var i={display:"inline-block",minWidth:getEmWidthOfNumber(n),paddingRight:"1em",textAlign:"right",userSelect:"none"},o=typeof t=="function"?t(e):t,u=_objectSpread(_objectSpread({},i),o);return u}function createLineElement(t){var e=t.children,n=t.lineNumber,i=t.lineNumberStyle,o=t.largestLineNumber,u=t.showInlineLineNumbers,l=t.lineProps,c=l===void 0?{}:l,f=t.className,d=f===void 0?[]:f,m=t.showLineNumbers,g=t.wrapLongLines,v=typeof c=="function"?c(n):c;if(v.className=d,n&&u){var y=assembleLineNumberStyles(i,n,o);e.unshift(getInlineLineNumber(n,y))}return g&m&&(v.style=_objectSpread(_objectSpread({},v.style),{},{display:"flex"})),{type:"element",tagName:"span",properties:v,children:e}}function flattenCodeTree(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],i=0;i<t.length;i++){var o=t[i];if(o.type==="text")n.push(createLineElement({children:[o],className:_toConsumableArray(new Set(e))}));else if(o.children){var u=e.concat(o.properties.className);flattenCodeTree(o.children,u).forEach(function(l){return n.push(l)})}}return n}function processLines(t,e,n,i,o,u,l,c,f){var d,m=flattenCodeTree(t.value),g=[],v=-1,y=0;function w(B,Z){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return createLineElement({children:B,lineNumber:Z,lineNumberStyle:c,largestLineNumber:l,showInlineLineNumbers:o,lineProps:n,className:R,showLineNumbers:i,wrapLongLines:f})}function T(B,Z){if(i&&Z&&o){var R=assembleLineNumberStyles(c,Z,l);B.unshift(getInlineLineNumber(Z,R))}return B}function P(B,Z){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return e||R.length>0?w(B,Z,R):T(B,Z)}for(var A=function(){var Z=m[y],R=Z.children[0].value,G=getNewLines(R);if(G){var F=R.split(`
`);F.forEach(function(K,Q){var ie=i&&g.length+u,te={type:"text",value:"".concat(K,`
`)};if(Q===0){var oe=m.slice(v+1,y).concat(createLineElement({children:[te],className:Z.properties.className})),le=P(oe,ie);g.push(le)}else if(Q===F.length-1){var de=m[y+1]&&m[y+1].children&&m[y+1].children[0],ge={type:"text",value:"".concat(K)};if(de){var _e=createLineElement({children:[ge],className:Z.properties.className});m.splice(y+1,0,_e)}else{var we=[ge],Me=P(we,ie,Z.properties.className);g.push(Me)}}else{var xe=[te],Re=P(xe,ie,Z.properties.className);g.push(Re)}}),v=y}y++};y<m.length;)A();if(v!==m.length-1){var D=m.slice(v+1,m.length);if(D&&D.length){var k=i&&g.length+u,j=P(D,k);g.push(j)}}return e?g:(d=[]).concat.apply(d,g)}function defaultRenderer(t){var e=t.rows,n=t.stylesheet,i=t.useInlineStyles;return e.map(function(o,u){return createElement({node:o,stylesheet:n,useInlineStyles:i,key:"code-segement".concat(u)})})}function isHighlightJs(t){return t&&typeof t.highlightAuto<"u"}function getCodeTree(t){var e=t.astGenerator,n=t.language,i=t.code,o=t.defaultCodeValue;if(isHighlightJs(e)){var u=checkForListedLanguage(e,n);return n==="text"?{value:o,language:"text"}:u?e.highlight(n,i):e.highlightAuto(i)}try{return n&&n!=="text"?{value:e.highlight(i,n)}:{value:o}}catch{return{value:o}}}function highlight(t,e){return function(i){var o=i.language,u=i.children,l=i.style,c=l===void 0?e:l,f=i.customStyle,d=f===void 0?{}:f,m=i.codeTagProps,g=m===void 0?{className:o?"language-".concat(o):void 0,style:_objectSpread(_objectSpread({},c['code[class*="language-"]']),c['code[class*="language-'.concat(o,'"]')])}:m,v=i.useInlineStyles,y=v===void 0?!0:v,w=i.showLineNumbers,T=w===void 0?!1:w,P=i.showInlineLineNumbers,A=P===void 0?!0:P,D=i.startingLineNumber,k=D===void 0?1:D,j=i.lineNumberContainerStyle,B=i.lineNumberStyle,Z=B===void 0?{}:B,R=i.wrapLines,G=i.wrapLongLines,F=G===void 0?!1:G,K=i.lineProps,Q=K===void 0?{}:K,ie=i.renderer,te=i.PreTag,oe=te===void 0?"pre":te,le=i.CodeTag,de=le===void 0?"code":le,ge=i.code,_e=ge===void 0?(Array.isArray(u)?u[0]:u)||"":ge,we=i.astGenerator,Me=_objectWithoutProperties(i,_excluded);we=we||t;var xe=T?React.createElement(AllLineNumbers,{containerStyle:j,codeStyle:g.style||{},numberStyle:Z,startingLineNumber:k,codeString:_e}):null,Re=c.hljs||c['pre[class*="language-"]']||{backgroundColor:"#fff"},Se=isHighlightJs(we)?"hljs":"prismjs",Ge=y?Object.assign({},Me,{style:Object.assign({},Re,d)}):Object.assign({},Me,{className:Me.className?"".concat(Se," ").concat(Me.className):Se,style:Object.assign({},d)});if(F?g.style=_objectSpread(_objectSpread({},g.style),{},{whiteSpace:"pre-wrap"}):g.style=_objectSpread(_objectSpread({},g.style),{},{whiteSpace:"pre"}),!we)return React.createElement(oe,Ge,xe,React.createElement(de,g,_e));(R===void 0&&ie||F)&&(R=!0),ie=ie||defaultRenderer;var Qe=[{type:"text",value:_e}],Je=getCodeTree({astGenerator:we,language:o,code:_e,defaultCodeValue:Qe});Je.language===null&&(Je.value=Qe);var Xe=Je.value.length+k,gt=processLines(Je,R,Q,T,A,k,Xe,Z,F);return React.createElement(oe,Ge,React.createElement(de,g,!A&&xe,ie({rows:gt,stylesheet:c,useInlineStyles:y})))}}const scriptRel="modulepreload",assetsURL=function(t){return"/"+t},seen={},__vitePreload=function(e,n,i){let o=Promise.resolve();if(n&&n.length>0){let f=function(d){return Promise.all(d.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");o=f(n.map(d=>{if(d=assetsURL(d),d in seen)return;seen[d]=!0;const m=d.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":scriptRel,m||(v.as="script"),v.crossOrigin="",v.href=d,c&&v.setAttribute("nonce",c),document.head.appendChild(v),m)return new Promise((y,w)=>{v.addEventListener("load",y),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${d}`)))})}))}function u(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return o.then(l=>{for(const c of l||[])c.status==="rejected"&&u(c.reason);return e().catch(u)})};function asyncGeneratorStep(t,e,n,i,o,u,l){try{var c=t[u](l),f=c.value}catch(d){return void n(d)}c.done?e(f):Promise.resolve(f).then(i,o)}function _asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise(function(i,o){var u=t.apply(e,n);function l(f){asyncGeneratorStep(u,i,o,l,c,"next",f)}function c(f){asyncGeneratorStep(u,i,o,l,c,"throw",f)}l(void 0)})}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,toPropertyKey(i.key),i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_setPrototypeOf(t,e)}function _inherits(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _assertThisInitialized(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _possibleConstructorReturn(t,e){if(e&&(_typeof$1(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(t)}var regeneratorRuntime$1={exports:{}},OverloadYield={exports:{}},hasRequiredOverloadYield;function requireOverloadYield(){return hasRequiredOverloadYield||(hasRequiredOverloadYield=1,(function(t){function e(n,i){this.v=n,this.k=i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(OverloadYield)),OverloadYield.exports}var regenerator$1={exports:{}},regeneratorDefine={exports:{}},hasRequiredRegeneratorDefine;function requireRegeneratorDefine(){return hasRequiredRegeneratorDefine||(hasRequiredRegeneratorDefine=1,(function(t){function e(n,i,o,u){var l=Object.defineProperty;try{l({},"",{})}catch{l=0}t.exports=e=function(f,d,m,g){function v(y,w){e(f,y,function(T){return this._invoke(y,w,T)})}d?l?l(f,d,{value:m,enumerable:!g,configurable:!g,writable:!g}):f[d]=m:(v("next",0),v("throw",1),v("return",2))},t.exports.__esModule=!0,t.exports.default=t.exports,e(n,i,o,u)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(regeneratorDefine)),regeneratorDefine.exports}var hasRequiredRegenerator$1;function requireRegenerator$1(){return hasRequiredRegenerator$1||(hasRequiredRegenerator$1=1,(function(t){var e=requireRegeneratorDefine();function n(){var i,o,u=typeof Symbol=="function"?Symbol:{},l=u.iterator||"@@iterator",c=u.toStringTag||"@@toStringTag";function f(P,A,D,k){var j=A&&A.prototype instanceof m?A:m,B=Object.create(j.prototype);return e(B,"_invoke",(function(Z,R,G){var F,K,Q,ie=0,te=G||[],oe=!1,le={p:0,n:0,v:i,a:de,f:de.bind(i,4),d:function(_e,we){return F=_e,K=0,Q=i,le.n=we,d}};function de(ge,_e){for(K=ge,Q=_e,o=0;!oe&&ie&&!we&&o<te.length;o++){var we,Me=te[o],xe=le.p,Re=Me[2];ge>3?(we=Re===_e)&&(Q=Me[(K=Me[4])?5:(K=3,3)],Me[4]=Me[5]=i):Me[0]<=xe&&((we=ge<2&&xe<Me[1])?(K=0,le.v=_e,le.n=Me[1]):xe<Re&&(we=ge<3||Me[0]>_e||_e>Re)&&(Me[4]=ge,Me[5]=_e,le.n=Re,K=0))}if(we||ge>1)return d;throw oe=!0,_e}return function(ge,_e,we){if(ie>1)throw TypeError("Generator is already running");for(oe&&_e===1&&de(_e,we),K=_e,Q=we;(o=K<2?i:Q)||!oe;){F||(K?K<3?(K>1&&(le.n=-1),de(K,Q)):le.n=Q:le.v=Q);try{if(ie=2,F){if(K||(ge="next"),o=F[ge]){if(!(o=o.call(F,Q)))throw TypeError("iterator result is not an object");if(!o.done)return o;Q=o.value,K<2&&(K=0)}else K===1&&(o=F.return)&&o.call(F),K<2&&(Q=TypeError("The iterator does not provide a '"+ge+"' method"),K=1);F=i}else if((o=(oe=le.n<0)?Q:Z.call(R,le))!==d)break}catch(Me){F=i,K=1,Q=Me}finally{ie=1}}return{value:o,done:oe}}})(P,D,k),!0),B}var d={};function m(){}function g(){}function v(){}o=Object.getPrototypeOf;var y=[][l]?o(o([][l]())):(e(o={},l,function(){return this}),o),w=v.prototype=m.prototype=Object.create(y);function T(P){return Object.setPrototypeOf?Object.setPrototypeOf(P,v):(P.__proto__=v,e(P,c,"GeneratorFunction")),P.prototype=Object.create(w),P}return g.prototype=v,e(w,"constructor",v),e(v,"constructor",g),g.displayName="GeneratorFunction",e(v,c,"GeneratorFunction"),e(w),e(w,c,"Generator"),e(w,l,function(){return this}),e(w,"toString",function(){return"[object Generator]"}),(t.exports=n=function(){return{w:f,m:T}},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(regenerator$1)),regenerator$1.exports}var regeneratorAsync={exports:{}},regeneratorAsyncGen={exports:{}},regeneratorAsyncIterator={exports:{}},hasRequiredRegeneratorAsyncIterator;function requireRegeneratorAsyncIterator(){return hasRequiredRegeneratorAsyncIterator||(hasRequiredRegeneratorAsyncIterator=1,(function(t){var e=requireOverloadYield(),n=requireRegeneratorDefine();function i(o,u){function l(f,d,m,g){try{var v=o[f](d),y=v.value;return y instanceof e?u.resolve(y.v).then(function(w){l("next",w,m,g)},function(w){l("throw",w,m,g)}):u.resolve(y).then(function(w){v.value=w,m(v)},function(w){return l("throw",w,m,g)})}catch(w){g(w)}}var c;this.next||(n(i.prototype),n(i.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),n(this,"_invoke",function(f,d,m){function g(){return new u(function(v,y){l(f,m,v,y)})}return c=c?c.then(g,g):g()},!0)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports})(regeneratorAsyncIterator)),regeneratorAsyncIterator.exports}var hasRequiredRegeneratorAsyncGen;function requireRegeneratorAsyncGen(){return hasRequiredRegeneratorAsyncGen||(hasRequiredRegeneratorAsyncGen=1,(function(t){var e=requireRegenerator$1(),n=requireRegeneratorAsyncIterator();function i(o,u,l,c,f){return new n(e().w(o,u,l,c),f||Promise)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports})(regeneratorAsyncGen)),regeneratorAsyncGen.exports}var hasRequiredRegeneratorAsync;function requireRegeneratorAsync(){return hasRequiredRegeneratorAsync||(hasRequiredRegeneratorAsync=1,(function(t){var e=requireRegeneratorAsyncGen();function n(i,o,u,l,c){var f=e(i,o,u,l,c);return f.next().then(function(d){return d.done?d.value:f.next()})}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(regeneratorAsync)),regeneratorAsync.exports}var regeneratorKeys={exports:{}},hasRequiredRegeneratorKeys;function requireRegeneratorKeys(){return hasRequiredRegeneratorKeys||(hasRequiredRegeneratorKeys=1,(function(t){function e(n){var i=Object(n),o=[];for(var u in i)o.unshift(u);return function l(){for(;o.length;)if((u=o.pop())in i)return l.value=u,l.done=!1,l;return l.done=!0,l}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(regeneratorKeys)),regeneratorKeys.exports}var regeneratorValues={exports:{}},_typeof={exports:{}},hasRequired_typeof;function require_typeof(){return hasRequired_typeof||(hasRequired_typeof=1,(function(t){function e(n){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(_typeof)),_typeof.exports}var hasRequiredRegeneratorValues;function requireRegeneratorValues(){return hasRequiredRegeneratorValues||(hasRequiredRegeneratorValues=1,(function(t){var e=require_typeof().default;function n(i){if(i!=null){var o=i[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],u=0;if(o)return o.call(i);if(typeof i.next=="function")return i;if(!isNaN(i.length))return{next:function(){return i&&u>=i.length&&(i=void 0),{value:i&&i[u++],done:!i}}}}throw new TypeError(e(i)+" is not iterable")}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(regeneratorValues)),regeneratorValues.exports}var hasRequiredRegeneratorRuntime;function requireRegeneratorRuntime(){return hasRequiredRegeneratorRuntime||(hasRequiredRegeneratorRuntime=1,(function(t){var e=requireOverloadYield(),n=requireRegenerator$1(),i=requireRegeneratorAsync(),o=requireRegeneratorAsyncGen(),u=requireRegeneratorAsyncIterator(),l=requireRegeneratorKeys(),c=requireRegeneratorValues();function f(){var d=n(),m=d.m(f),g=(Object.getPrototypeOf?Object.getPrototypeOf(m):m.__proto__).constructor;function v(T){var P=typeof T=="function"&&T.constructor;return!!P&&(P===g||(P.displayName||P.name)==="GeneratorFunction")}var y={throw:1,return:2,break:3,continue:3};function w(T){var P,A;return function(D){P||(P={stop:function(){return A(D.a,2)},catch:function(){return D.v},abrupt:function(j,B){return A(D.a,y[j],B)},delegateYield:function(j,B,Z){return P.resultName=B,A(D.d,c(j),Z)},finish:function(j){return A(D.f,j)}},A=function(j,B,Z){D.p=P.prev,D.n=P.next;try{return j(B,Z)}finally{P.next=D.n}}),P.resultName&&(P[P.resultName]=D.v,P.resultName=void 0),P.sent=D.v,P.next=D.n;try{return T.call(this,P)}finally{D.p=P.prev,D.n=P.next}}}return(t.exports=f=function(){return{wrap:function(A,D,k,j){return d.w(w(A),D,k,j&&j.reverse())},isGeneratorFunction:v,mark:d.m,awrap:function(A,D){return new e(A,D)},AsyncIterator:u,async:function(A,D,k,j,B){return(v(D)?o:i)(w(A),D,k,j,B)},keys:l,values:c}},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=f,t.exports.__esModule=!0,t.exports.default=t.exports})(regeneratorRuntime$1)),regeneratorRuntime$1.exports}var regenerator,hasRequiredRegenerator;function requireRegenerator(){if(hasRequiredRegenerator)return regenerator;hasRequiredRegenerator=1;var t=requireRegeneratorRuntime()();regenerator=t;try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}return regenerator}var regeneratorExports=requireRegenerator();const _regeneratorRuntime=getDefaultExportFromCjs(regeneratorExports);function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var i=_getPrototypeOf(t),o;if(e){var u=_getPrototypeOf(this).constructor;o=Reflect.construct(i,arguments,u)}else o=i.apply(this,arguments);return _possibleConstructorReturn(this,o)}}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}const createAsyncLoadingHighlighter=(function(t){var e=t.loader,n=t.isLanguageRegistered,i=t.registerLanguage,o=t.languageLoaders,u=t.noAsyncLoadingLanguages,l=(function(c){_inherits(d,c);var f=_createSuper(d);function d(){return _classCallCheck(this,d),f.apply(this,arguments)}return _createClass(d,[{key:"componentDidUpdate",value:function(){!d.isRegistered(this.props.language)&&o&&this.loadLanguage()}},{key:"componentDidMount",value:function(){var g=this;d.astGeneratorPromise||d.loadAstGenerator(),d.astGenerator||d.astGeneratorPromise.then(function(){g.forceUpdate()}),!d.isRegistered(this.props.language)&&o&&this.loadLanguage()}},{key:"loadLanguage",value:function(){var g=this,v=this.props.language;v!=="text"&&d.loadLanguage(v).then(function(){return g.forceUpdate()}).catch(function(){})}},{key:"normalizeLanguage",value:function(g){return d.isSupportedLanguage(g)?g:"text"}},{key:"render",value:function(){return React.createElement(d.highlightInstance,_extends({},this.props,{language:this.normalizeLanguage(this.props.language),astGenerator:d.astGenerator}))}}],[{key:"preload",value:function(){return d.loadAstGenerator()}},{key:"loadLanguage",value:(function(){var m=_asyncToGenerator(_regeneratorRuntime.mark(function v(y){var w;return _regeneratorRuntime.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(w=o[y],typeof w!="function"){P.next=5;break}return P.abrupt("return",w(d.registerLanguage));case 5:throw new Error("Language ".concat(y," not supported"));case 6:case"end":return P.stop()}},v)}));function g(v){return m.apply(this,arguments)}return g})()},{key:"isSupportedLanguage",value:function(g){return d.isRegistered(g)||typeof o[g]=="function"}},{key:"loadAstGenerator",value:function(){return d.astGeneratorPromise=e().then(function(g){d.astGenerator=g,i&&d.languages.forEach(function(v,y){return i(g,y,v)})}),d.astGeneratorPromise}}]),d})(React.PureComponent);return _defineProperty(l,"astGenerator",null),_defineProperty(l,"highlightInstance",highlight(null,{})),_defineProperty(l,"astGeneratorPromise",null),_defineProperty(l,"languages",new Map),_defineProperty(l,"supportedLanguages",t.supportedLanguages||Object.keys(o||{})),_defineProperty(l,"isRegistered",function(c){if(u)return!0;if(!i)throw new Error("Current syntax highlighter doesn't support registration of languages");return l.astGenerator?n(l.astGenerator,c):l.languages.has(c)}),_defineProperty(l,"registerLanguage",function(c,f){if(!i)throw new Error("Current syntax highlighter doesn't support registration of languages");if(l.astGenerator)return i(l.astGenerator,c,f);l.languages.set(c,f)}),l}),createLanguageAsyncLoader=(function(t,e){return(function(){var n=_asyncToGenerator(_regeneratorRuntime.mark(function i(o){var u;return _regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,e();case 2:u=c.sent,o(t,u.default||u);case 4:case"end":return c.stop()}},i)}));return function(i){return n.apply(this,arguments)}})()}),languageLoaders={oneC:createLanguageAsyncLoader("oneC",function(){return __vitePreload(()=>import("./1c-CFTKyH-h.js").then(t=>t._),[])}),abnf:createLanguageAsyncLoader("abnf",function(){return __vitePreload(()=>import("./abnf-C2dipEDh.js").then(t=>t.a),[])}),accesslog:createLanguageAsyncLoader("accesslog",function(){return __vitePreload(()=>import("./accesslog-5I1B-tYc.js").then(t=>t.a),[])}),actionscript:createLanguageAsyncLoader("actionscript",function(){return __vitePreload(()=>import("./actionscript-sYdHxOJy.js").then(t=>t.a),[])}),ada:createLanguageAsyncLoader("ada",function(){return __vitePreload(()=>import("./ada-BmLu-Kg1.js").then(t=>t.a),[])}),angelscript:createLanguageAsyncLoader("angelscript",function(){return __vitePreload(()=>import("./angelscript-ceoYwNxL.js").then(t=>t.a),[])}),apache:createLanguageAsyncLoader("apache",function(){return __vitePreload(()=>import("./apache-DRVs3fdO.js").then(t=>t.a),[])}),applescript:createLanguageAsyncLoader("applescript",function(){return __vitePreload(()=>import("./applescript-CiSh2cN9.js").then(t=>t.a),[])}),arcade:createLanguageAsyncLoader("arcade",function(){return __vitePreload(()=>import("./arcade-wku5MURS.js").then(t=>t.a),[])}),arduino:createLanguageAsyncLoader("arduino",function(){return __vitePreload(()=>import("./arduino-CYo36fLC.js").then(t=>t.a),[])}),armasm:createLanguageAsyncLoader("armasm",function(){return __vitePreload(()=>import("./armasm-CTCvlxRT.js").then(t=>t.a),[])}),asciidoc:createLanguageAsyncLoader("asciidoc",function(){return __vitePreload(()=>import("./asciidoc-CvKQoElT.js").then(t=>t.a),[])}),aspectj:createLanguageAsyncLoader("aspectj",function(){return __vitePreload(()=>import("./aspectj-TC-Ab16Q.js").then(t=>t.a),[])}),autohotkey:createLanguageAsyncLoader("autohotkey",function(){return __vitePreload(()=>import("./autohotkey-D6sFobJ8.js").then(t=>t.a),[])}),autoit:createLanguageAsyncLoader("autoit",function(){return __vitePreload(()=>import("./autoit-D9Hp3lEi.js").then(t=>t.a),[])}),avrasm:createLanguageAsyncLoader("avrasm",function(){return __vitePreload(()=>import("./avrasm-BzZXXtZc.js").then(t=>t.a),[])}),awk:createLanguageAsyncLoader("awk",function(){return __vitePreload(()=>import("./awk-DhH64UoM.js").then(t=>t.a),[])}),axapta:createLanguageAsyncLoader("axapta",function(){return __vitePreload(()=>import("./axapta-stmjZHgu.js").then(t=>t.a),[])}),bash:createLanguageAsyncLoader("bash",function(){return __vitePreload(()=>import("./bash-DvoyyMj4.js").then(t=>t.b),[])}),basic:createLanguageAsyncLoader("basic",function(){return __vitePreload(()=>import("./basic-kGrqU-ti.js").then(t=>t.b),[])}),bnf:createLanguageAsyncLoader("bnf",function(){return __vitePreload(()=>import("./bnf-JWtg-LSK.js").then(t=>t.b),[])}),brainfuck:createLanguageAsyncLoader("brainfuck",function(){return __vitePreload(()=>import("./brainfuck-gkHAqwme.js").then(t=>t.b),[])}),cLike:createLanguageAsyncLoader("cLike",function(){return __vitePreload(()=>import("./c-like-DdnfYh8i.js").then(t=>t.c),[])}),c:createLanguageAsyncLoader("c",function(){return __vitePreload(()=>import("./c-WJ0fjweh.js").then(t=>t.c),[])}),cal:createLanguageAsyncLoader("cal",function(){return __vitePreload(()=>import("./cal-uEhsrrG5.js").then(t=>t.c),[])}),capnproto:createLanguageAsyncLoader("capnproto",function(){return __vitePreload(()=>import("./capnproto-tRQ5WosH.js").then(t=>t.c),[])}),ceylon:createLanguageAsyncLoader("ceylon",function(){return __vitePreload(()=>import("./ceylon-BOg-8-xB.js").then(t=>t.c),[])}),clean:createLanguageAsyncLoader("clean",function(){return __vitePreload(()=>import("./clean-DMIdL81b.js").then(t=>t.c),[])}),clojureRepl:createLanguageAsyncLoader("clojureRepl",function(){return __vitePreload(()=>import("./clojure-repl-DbmJg3wL.js").then(t=>t.c),[])}),clojure:createLanguageAsyncLoader("clojure",function(){return __vitePreload(()=>import("./clojure-CW2wXuOK.js").then(t=>t.c),[])}),cmake:createLanguageAsyncLoader("cmake",function(){return __vitePreload(()=>import("./cmake-DV_W2iFM.js").then(t=>t.c),[])}),coffeescript:createLanguageAsyncLoader("coffeescript",function(){return __vitePreload(()=>import("./coffeescript-DRTnE2sp.js").then(t=>t.c),[])}),coq:createLanguageAsyncLoader("coq",function(){return __vitePreload(()=>import("./coq-DN4l2gMc.js").then(t=>t.c),[])}),cos:createLanguageAsyncLoader("cos",function(){return __vitePreload(()=>import("./cos-DZFHMHmY.js").then(t=>t.c),[])}),cpp:createLanguageAsyncLoader("cpp",function(){return __vitePreload(()=>import("./cpp-Bw3W0OD5.js").then(t=>t.c),[])}),crmsh:createLanguageAsyncLoader("crmsh",function(){return __vitePreload(()=>import("./crmsh-CaOMhnqI.js").then(t=>t.c),[])}),crystal:createLanguageAsyncLoader("crystal",function(){return __vitePreload(()=>import("./crystal-C_-9ToEo.js").then(t=>t.c),[])}),csharp:createLanguageAsyncLoader("csharp",function(){return __vitePreload(()=>import("./csharp-De6Dg2xK.js").then(t=>t.c),[])}),csp:createLanguageAsyncLoader("csp",function(){return __vitePreload(()=>import("./csp-dNbgDCqi.js").then(t=>t.c),[])}),css:createLanguageAsyncLoader("css",function(){return __vitePreload(()=>import("./css-CdMJRs4l.js").then(t=>t.c),[])}),d:createLanguageAsyncLoader("d",function(){return __vitePreload(()=>import("./d-CqeURxZV.js").then(t=>t.d),[])}),dart:createLanguageAsyncLoader("dart",function(){return __vitePreload(()=>import("./dart-BjDAifEc.js").then(t=>t.d),[])}),delphi:createLanguageAsyncLoader("delphi",function(){return __vitePreload(()=>import("./delphi-Bmf57u5q.js").then(t=>t.d),[])}),diff:createLanguageAsyncLoader("diff",function(){return __vitePreload(()=>import("./diff-YxIO2PJK.js").then(t=>t.d),[])}),django:createLanguageAsyncLoader("django",function(){return __vitePreload(()=>import("./django-CGNCGJNU.js").then(t=>t.d),[])}),dns:createLanguageAsyncLoader("dns",function(){return __vitePreload(()=>import("./dns-C7QKzcz-.js").then(t=>t.d),[])}),dockerfile:createLanguageAsyncLoader("dockerfile",function(){return __vitePreload(()=>import("./dockerfile-BMWKX6sv.js").then(t=>t.d),[])}),dos:createLanguageAsyncLoader("dos",function(){return __vitePreload(()=>import("./dos-BBSeTqYN.js").then(t=>t.d),[])}),dsconfig:createLanguageAsyncLoader("dsconfig",function(){return __vitePreload(()=>import("./dsconfig-Bnjk123-.js").then(t=>t.d),[])}),dts:createLanguageAsyncLoader("dts",function(){return __vitePreload(()=>import("./dts-CYGO8iLm.js").then(t=>t.d),[])}),dust:createLanguageAsyncLoader("dust",function(){return __vitePreload(()=>import("./dust-VPLrSIqO.js").then(t=>t.d),[])}),ebnf:createLanguageAsyncLoader("ebnf",function(){return __vitePreload(()=>import("./ebnf-D-OnIiK0.js").then(t=>t.e),[])}),elixir:createLanguageAsyncLoader("elixir",function(){return __vitePreload(()=>import("./elixir-Cw78CKbV.js").then(t=>t.e),[])}),elm:createLanguageAsyncLoader("elm",function(){return __vitePreload(()=>import("./elm-D4GF6Dkc.js").then(t=>t.e),[])}),erb:createLanguageAsyncLoader("erb",function(){return __vitePreload(()=>import("./erb-DM0Z3qgA.js").then(t=>t.e),[])}),erlangRepl:createLanguageAsyncLoader("erlangRepl",function(){return __vitePreload(()=>import("./erlang-repl-BgwYiX7T.js").then(t=>t.e),[])}),erlang:createLanguageAsyncLoader("erlang",function(){return __vitePreload(()=>import("./erlang-BpicFlEF.js").then(t=>t.e),[])}),excel:createLanguageAsyncLoader("excel",function(){return __vitePreload(()=>import("./excel-BQal_l5M.js").then(t=>t.e),[])}),fix:createLanguageAsyncLoader("fix",function(){return __vitePreload(()=>import("./fix-IBbFWUTV.js").then(t=>t.f),[])}),flix:createLanguageAsyncLoader("flix",function(){return __vitePreload(()=>import("./flix-BuZ-qVih.js").then(t=>t.f),[])}),fortran:createLanguageAsyncLoader("fortran",function(){return __vitePreload(()=>import("./fortran-CtLIrXKq.js").then(t=>t.f),[])}),fsharp:createLanguageAsyncLoader("fsharp",function(){return __vitePreload(()=>import("./fsharp-BQM8vlHb.js").then(t=>t.f),[])}),gams:createLanguageAsyncLoader("gams",function(){return __vitePreload(()=>import("./gams-CQCvQbYu.js").then(t=>t.g),[])}),gauss:createLanguageAsyncLoader("gauss",function(){return __vitePreload(()=>import("./gauss-Cwt38BcT.js").then(t=>t.g),[])}),gcode:createLanguageAsyncLoader("gcode",function(){return __vitePreload(()=>import("./gcode-BIGoccT7.js").then(t=>t.g),[])}),gherkin:createLanguageAsyncLoader("gherkin",function(){return __vitePreload(()=>import("./gherkin-EdnKu1iv.js").then(t=>t.g),[])}),glsl:createLanguageAsyncLoader("glsl",function(){return __vitePreload(()=>import("./glsl-DkvwDLoG.js").then(t=>t.g),[])}),gml:createLanguageAsyncLoader("gml",function(){return __vitePreload(()=>import("./gml-gDrOIs4B.js").then(t=>t.g),[])}),go:createLanguageAsyncLoader("go",function(){return __vitePreload(()=>import("./go-ENjVaC77.js").then(t=>t.g),[])}),golo:createLanguageAsyncLoader("golo",function(){return __vitePreload(()=>import("./golo-Cw646DCi.js").then(t=>t.g),[])}),gradle:createLanguageAsyncLoader("gradle",function(){return __vitePreload(()=>import("./gradle-DMK-19EL.js").then(t=>t.g),[])}),groovy:createLanguageAsyncLoader("groovy",function(){return __vitePreload(()=>import("./groovy-C6p-dVbm.js").then(t=>t.g),[])}),haml:createLanguageAsyncLoader("haml",function(){return __vitePreload(()=>import("./haml-CeZlcZQ8.js").then(t=>t.h),[])}),handlebars:createLanguageAsyncLoader("handlebars",function(){return __vitePreload(()=>import("./handlebars-JeXclsML.js").then(t=>t.h),[])}),haskell:createLanguageAsyncLoader("haskell",function(){return __vitePreload(()=>import("./haskell-DDJaQKtJ.js").then(t=>t.h),[])}),haxe:createLanguageAsyncLoader("haxe",function(){return __vitePreload(()=>import("./haxe-EGiRUB3y.js").then(t=>t.h),[])}),hsp:createLanguageAsyncLoader("hsp",function(){return __vitePreload(()=>import("./hsp-DVUPFLyu.js").then(t=>t.h),[])}),htmlbars:createLanguageAsyncLoader("htmlbars",function(){return __vitePreload(()=>import("./htmlbars-BNRWCbuw.js").then(t=>t.h),[])}),http:createLanguageAsyncLoader("http",function(){return __vitePreload(()=>import("./http-e1_huPga.js").then(t=>t.h),[])}),hy:createLanguageAsyncLoader("hy",function(){return __vitePreload(()=>import("./hy-DwEQl-C3.js").then(t=>t.h),[])}),inform7:createLanguageAsyncLoader("inform7",function(){return __vitePreload(()=>import("./inform7-wjcwpZT9.js").then(t=>t.i),[])}),ini:createLanguageAsyncLoader("ini",function(){return __vitePreload(()=>import("./ini-DCjrjHqA.js").then(t=>t.i),[])}),irpf90:createLanguageAsyncLoader("irpf90",function(){return __vitePreload(()=>import("./irpf90-C808bEKA.js").then(t=>t.i),[])}),isbl:createLanguageAsyncLoader("isbl",function(){return __vitePreload(()=>import("./isbl-NwBIISxJ.js").then(t=>t.i),[])}),java:createLanguageAsyncLoader("java",function(){return __vitePreload(()=>import("./java-ClIC15ZG.js").then(t=>t.j),[])}),javascript:createLanguageAsyncLoader("javascript",function(){return __vitePreload(()=>import("./javascript-D_evX-DB.js").then(t=>t.j),[])}),jbossCli:createLanguageAsyncLoader("jbossCli",function(){return __vitePreload(()=>import("./jboss-cli-nMJS3etv.js").then(t=>t.j),[])}),json:createLanguageAsyncLoader("json",function(){return __vitePreload(()=>import("./json-Dqwx49ED.js").then(t=>t.j),[])}),juliaRepl:createLanguageAsyncLoader("juliaRepl",function(){return __vitePreload(()=>import("./julia-repl-BAsvP1ig.js").then(t=>t.j),[])}),julia:createLanguageAsyncLoader("julia",function(){return __vitePreload(()=>import("./julia-DOjs_vN5.js").then(t=>t.j),[])}),kotlin:createLanguageAsyncLoader("kotlin",function(){return __vitePreload(()=>import("./kotlin-DX3Yu49B.js").then(t=>t.k),[])}),lasso:createLanguageAsyncLoader("lasso",function(){return __vitePreload(()=>import("./lasso-Ddegs-8J.js").then(t=>t.l),[])}),latex:createLanguageAsyncLoader("latex",function(){return __vitePreload(()=>import("./latex-_8yFXpoV.js").then(t=>t.l),[])}),ldif:createLanguageAsyncLoader("ldif",function(){return __vitePreload(()=>import("./ldif-BpSH1bcn.js").then(t=>t.l),[])}),leaf:createLanguageAsyncLoader("leaf",function(){return __vitePreload(()=>import("./leaf-9vdJOeKv.js").then(t=>t.l),[])}),less:createLanguageAsyncLoader("less",function(){return __vitePreload(()=>import("./less-BsNMBQmT.js").then(t=>t.l),[])}),lisp:createLanguageAsyncLoader("lisp",function(){return __vitePreload(()=>import("./lisp-CijP8usX.js").then(t=>t.l),[])}),livecodeserver:createLanguageAsyncLoader("livecodeserver",function(){return __vitePreload(()=>import("./livecodeserver-UNUsIH8s.js").then(t=>t.l),[])}),livescript:createLanguageAsyncLoader("livescript",function(){return __vitePreload(()=>import("./livescript-CHLrqbhW.js").then(t=>t.l),[])}),llvm:createLanguageAsyncLoader("llvm",function(){return __vitePreload(()=>import("./llvm-DDLOILp9.js").then(t=>t.l),[])}),lsl:createLanguageAsyncLoader("lsl",function(){return __vitePreload(()=>import("./lsl-CmD3AMqd.js").then(t=>t.l),[])}),lua:createLanguageAsyncLoader("lua",function(){return __vitePreload(()=>import("./lua-CmYbBruC.js").then(t=>t.l),[])}),makefile:createLanguageAsyncLoader("makefile",function(){return __vitePreload(()=>import("./makefile-DBIt-ptA.js").then(t=>t.m),[])}),markdown:createLanguageAsyncLoader("markdown",function(){return __vitePreload(()=>import("./markdown-DjzC6y_o.js").then(t=>t.m),[])}),mathematica:createLanguageAsyncLoader("mathematica",function(){return __vitePreload(()=>import("./mathematica-DLcY01xt.js").then(t=>t.m),[])}),matlab:createLanguageAsyncLoader("matlab",function(){return __vitePreload(()=>import("./matlab-DPD-2JXt.js").then(t=>t.m),[])}),maxima:createLanguageAsyncLoader("maxima",function(){return __vitePreload(()=>import("./maxima-Bj7qyTvU.js").then(t=>t.m),[])}),mel:createLanguageAsyncLoader("mel",function(){return __vitePreload(()=>import("./mel-C7bVEb0c.js").then(t=>t.m),[])}),mercury:createLanguageAsyncLoader("mercury",function(){return __vitePreload(()=>import("./mercury-COoKuNJp.js").then(t=>t.m),[])}),mipsasm:createLanguageAsyncLoader("mipsasm",function(){return __vitePreload(()=>import("./mipsasm-q8ErIQXM.js").then(t=>t.m),[])}),mizar:createLanguageAsyncLoader("mizar",function(){return __vitePreload(()=>import("./mizar-DGEl_TK3.js").then(t=>t.m),[])}),mojolicious:createLanguageAsyncLoader("mojolicious",function(){return __vitePreload(()=>import("./mojolicious-CuU53ikx.js").then(t=>t.m),[])}),monkey:createLanguageAsyncLoader("monkey",function(){return __vitePreload(()=>import("./monkey-CoVfGcrS.js").then(t=>t.m),[])}),moonscript:createLanguageAsyncLoader("moonscript",function(){return __vitePreload(()=>import("./moonscript-bwNvVmIK.js").then(t=>t.m),[])}),n1ql:createLanguageAsyncLoader("n1ql",function(){return __vitePreload(()=>import("./n1ql-DsrOdMVL.js").then(t=>t.n),[])}),nginx:createLanguageAsyncLoader("nginx",function(){return __vitePreload(()=>import("./nginx-CXMl4RG4.js").then(t=>t.n),[])}),nim:createLanguageAsyncLoader("nim",function(){return __vitePreload(()=>import("./nim-f18Q3uSe.js").then(t=>t.n),[])}),nix:createLanguageAsyncLoader("nix",function(){return __vitePreload(()=>import("./nix-Chzh6_xD.js").then(t=>t.n),[])}),nodeRepl:createLanguageAsyncLoader("nodeRepl",function(){return __vitePreload(()=>import("./node-repl-B7M7sm6U.js").then(t=>t.n),[])}),nsis:createLanguageAsyncLoader("nsis",function(){return __vitePreload(()=>import("./nsis-Dx9vomX-.js").then(t=>t.n),[])}),objectivec:createLanguageAsyncLoader("objectivec",function(){return __vitePreload(()=>import("./objectivec-D5YRImgP.js").then(t=>t.o),[])}),ocaml:createLanguageAsyncLoader("ocaml",function(){return __vitePreload(()=>import("./ocaml-BM6K8iPv.js").then(t=>t.o),[])}),openscad:createLanguageAsyncLoader("openscad",function(){return __vitePreload(()=>import("./openscad-DeWFOq3E.js").then(t=>t.o),[])}),oxygene:createLanguageAsyncLoader("oxygene",function(){return __vitePreload(()=>import("./oxygene-B1ABCz17.js").then(t=>t.o),[])}),parser3:createLanguageAsyncLoader("parser3",function(){return __vitePreload(()=>import("./parser3-BC1QcBNG.js").then(t=>t.p),[])}),perl:createLanguageAsyncLoader("perl",function(){return __vitePreload(()=>import("./perl-HS5L9evP.js").then(t=>t.p),[])}),pf:createLanguageAsyncLoader("pf",function(){return __vitePreload(()=>import("./pf-CleGXYsN.js").then(t=>t.p),[])}),pgsql:createLanguageAsyncLoader("pgsql",function(){return __vitePreload(()=>import("./pgsql-CMMrSwWA.js").then(t=>t.p),[])}),phpTemplate:createLanguageAsyncLoader("phpTemplate",function(){return __vitePreload(()=>import("./php-template-BPDJqbRF.js").then(t=>t.p),[])}),php:createLanguageAsyncLoader("php",function(){return __vitePreload(()=>import("./php-DrICowIl.js").then(t=>t.p),[])}),plaintext:createLanguageAsyncLoader("plaintext",function(){return __vitePreload(()=>import("./plaintext-CgZgMvfy.js").then(t=>t.p),[])}),pony:createLanguageAsyncLoader("pony",function(){return __vitePreload(()=>import("./pony-6Pqg4KmK.js").then(t=>t.p),[])}),powershell:createLanguageAsyncLoader("powershell",function(){return __vitePreload(()=>import("./powershell-CZD0RKxA.js").then(t=>t.p),[])}),processing:createLanguageAsyncLoader("processing",function(){return __vitePreload(()=>import("./processing-DrHAUXCs.js").then(t=>t.p),[])}),profile:createLanguageAsyncLoader("profile",function(){return __vitePreload(()=>import("./profile-YQ99OpgB.js").then(t=>t.p),[])}),prolog:createLanguageAsyncLoader("prolog",function(){return __vitePreload(()=>import("./prolog-DGWANEmd.js").then(t=>t.p),[])}),properties:createLanguageAsyncLoader("properties",function(){return __vitePreload(()=>import("./properties-DV9qhcAM.js").then(t=>t.p),[])}),protobuf:createLanguageAsyncLoader("protobuf",function(){return __vitePreload(()=>import("./protobuf-BHgM54R3.js").then(t=>t.p),[])}),puppet:createLanguageAsyncLoader("puppet",function(){return __vitePreload(()=>import("./puppet-DhTixOG9.js").then(t=>t.p),[])}),purebasic:createLanguageAsyncLoader("purebasic",function(){return __vitePreload(()=>import("./purebasic-BABBM0nf.js").then(t=>t.p),[])}),pythonRepl:createLanguageAsyncLoader("pythonRepl",function(){return __vitePreload(()=>import("./python-repl-BFztkZ2Y.js").then(t=>t.p),[])}),python:createLanguageAsyncLoader("python",function(){return __vitePreload(()=>import("./python-BcTmRPyu.js").then(t=>t.p),[])}),q:createLanguageAsyncLoader("q",function(){return __vitePreload(()=>import("./q-D9Nftdev.js").then(t=>t.q),[])}),qml:createLanguageAsyncLoader("qml",function(){return __vitePreload(()=>import("./qml-C_O97MQw.js").then(t=>t.q),[])}),r:createLanguageAsyncLoader("r",function(){return __vitePreload(()=>import("./r-DS0X2GdW.js").then(t=>t.r),[])}),reasonml:createLanguageAsyncLoader("reasonml",function(){return __vitePreload(()=>import("./reasonml-K8UsHOg2.js").then(t=>t.r),[])}),rib:createLanguageAsyncLoader("rib",function(){return __vitePreload(()=>import("./rib-B8f1822I.js").then(t=>t.r),[])}),roboconf:createLanguageAsyncLoader("roboconf",function(){return __vitePreload(()=>import("./roboconf-CY4Wa7Nv.js").then(t=>t.r),[])}),routeros:createLanguageAsyncLoader("routeros",function(){return __vitePreload(()=>import("./routeros-CE5yPTIn.js").then(t=>t.r),[])}),rsl:createLanguageAsyncLoader("rsl",function(){return __vitePreload(()=>import("./rsl-Ddyjqq5w.js").then(t=>t.r),[])}),ruby:createLanguageAsyncLoader("ruby",function(){return __vitePreload(()=>import("./ruby-mRYZCnjo.js").then(t=>t.r),[])}),ruleslanguage:createLanguageAsyncLoader("ruleslanguage",function(){return __vitePreload(()=>import("./ruleslanguage-BjppSO9b.js").then(t=>t.r),[])}),rust:createLanguageAsyncLoader("rust",function(){return __vitePreload(()=>import("./rust-BDE6DqbB.js").then(t=>t.r),[])}),sas:createLanguageAsyncLoader("sas",function(){return __vitePreload(()=>import("./sas-DM7Loqd1.js").then(t=>t.s),[])}),scala:createLanguageAsyncLoader("scala",function(){return __vitePreload(()=>import("./scala-djYl23BS.js").then(t=>t.s),[])}),scheme:createLanguageAsyncLoader("scheme",function(){return __vitePreload(()=>import("./scheme-e6kPHcMT.js").then(t=>t.s),[])}),scilab:createLanguageAsyncLoader("scilab",function(){return __vitePreload(()=>import("./scilab-diMK1m1y.js").then(t=>t.s),[])}),scss:createLanguageAsyncLoader("scss",function(){return __vitePreload(()=>import("./scss-z0Wm4aMK.js").then(t=>t.s),[])}),shell:createLanguageAsyncLoader("shell",function(){return __vitePreload(()=>import("./shell-DUriQ5I4.js").then(t=>t.s),[])}),smali:createLanguageAsyncLoader("smali",function(){return __vitePreload(()=>import("./smali-BgLytnMy.js").then(t=>t.s),[])}),smalltalk:createLanguageAsyncLoader("smalltalk",function(){return __vitePreload(()=>import("./smalltalk-CapLqqc-.js").then(t=>t.s),[])}),sml:createLanguageAsyncLoader("sml",function(){return __vitePreload(()=>import("./sml-Ch_4keU6.js").then(t=>t.s),[])}),sqf:createLanguageAsyncLoader("sqf",function(){return __vitePreload(()=>import("./sqf-6KQsZzvj.js").then(t=>t.s),[])}),sql:createLanguageAsyncLoader("sql",function(){return __vitePreload(()=>import("./sql-C41DcJlA.js").then(t=>t.s),[])}),sqlMore:createLanguageAsyncLoader("sqlMore",function(){return __vitePreload(()=>import("./sql_more-CQbT6lWM.js").then(t=>t.s),[])}),stan:createLanguageAsyncLoader("stan",function(){return __vitePreload(()=>import("./stan-BJRwnsQk.js").then(t=>t.s),[])}),stata:createLanguageAsyncLoader("stata",function(){return __vitePreload(()=>import("./stata-nCxUZxG7.js").then(t=>t.s),[])}),step21:createLanguageAsyncLoader("step21",function(){return __vitePreload(()=>import("./step21-GEqcA6BM.js").then(t=>t.s),[])}),stylus:createLanguageAsyncLoader("stylus",function(){return __vitePreload(()=>import("./stylus-BWP18mYQ.js").then(t=>t.s),[])}),subunit:createLanguageAsyncLoader("subunit",function(){return __vitePreload(()=>import("./subunit-BwdGLIzT.js").then(t=>t.s),[])}),swift:createLanguageAsyncLoader("swift",function(){return __vitePreload(()=>import("./swift-U1xZ4LF3.js").then(t=>t.s),[])}),taggerscript:createLanguageAsyncLoader("taggerscript",function(){return __vitePreload(()=>import("./taggerscript-D4o7FyY9.js").then(t=>t.t),[])}),tap:createLanguageAsyncLoader("tap",function(){return __vitePreload(()=>import("./tap-ROH_EJVv.js").then(t=>t.t),[])}),tcl:createLanguageAsyncLoader("tcl",function(){return __vitePreload(()=>import("./tcl-CB_cNx7O.js").then(t=>t.t),[])}),thrift:createLanguageAsyncLoader("thrift",function(){return __vitePreload(()=>import("./thrift-C4k4B139.js").then(t=>t.t),[])}),tp:createLanguageAsyncLoader("tp",function(){return __vitePreload(()=>import("./tp-CJP3AOAL.js").then(t=>t.t),[])}),twig:createLanguageAsyncLoader("twig",function(){return __vitePreload(()=>import("./twig-CBV5PNXJ.js").then(t=>t.t),[])}),typescript:createLanguageAsyncLoader("typescript",function(){return __vitePreload(()=>import("./typescript-Dgu8r0c0.js").then(t=>t.t),[])}),vala:createLanguageAsyncLoader("vala",function(){return __vitePreload(()=>import("./vala-BV8HpVFj.js").then(t=>t.v),[])}),vbnet:createLanguageAsyncLoader("vbnet",function(){return __vitePreload(()=>import("./vbnet-BEQD-wYv.js").then(t=>t.v),[])}),vbscriptHtml:createLanguageAsyncLoader("vbscriptHtml",function(){return __vitePreload(()=>import("./vbscript-html-DS-l68bK.js").then(t=>t.v),[])}),vbscript:createLanguageAsyncLoader("vbscript",function(){return __vitePreload(()=>import("./vbscript-B8fIK3zw.js").then(t=>t.v),[])}),verilog:createLanguageAsyncLoader("verilog",function(){return __vitePreload(()=>import("./verilog-BjAQSdPP.js").then(t=>t.v),[])}),vhdl:createLanguageAsyncLoader("vhdl",function(){return __vitePreload(()=>import("./vhdl-CHJaKcYE.js").then(t=>t.v),[])}),vim:createLanguageAsyncLoader("vim",function(){return __vitePreload(()=>import("./vim-Bqc5vDha.js").then(t=>t.v),[])}),x86asm:createLanguageAsyncLoader("x86asm",function(){return __vitePreload(()=>import("./x86asm-B7nquxUl.js").then(t=>t.x),[])}),xl:createLanguageAsyncLoader("xl",function(){return __vitePreload(()=>import("./xl-bcWqzAVq.js").then(t=>t.x),[])}),xml:createLanguageAsyncLoader("xml",function(){return __vitePreload(()=>import("./xml-DkHkJC0j.js").then(t=>t.x),[])}),xquery:createLanguageAsyncLoader("xquery",function(){return __vitePreload(()=>import("./xquery-BkLrQeoR.js").then(t=>t.x),[])}),yaml:createLanguageAsyncLoader("yaml",function(){return __vitePreload(()=>import("./yaml-Dww-367N.js").then(t=>t.y),[])}),zephir:createLanguageAsyncLoader("zephir",function(){return __vitePreload(()=>import("./zephir-LwWuoA-F.js").then(t=>t.z),[])})},SyntaxHighlighter=createAsyncLoadingHighlighter({loader:function(){return __vitePreload(()=>import("./core-W0-0J9l0.js").then(e=>e.c),[]).then(function(e){return e.default||e})},isLanguageRegistered:function(e,n){return!!checkForListedLanguage(e,n)},languageLoaders,registerLanguage:function(e,n,i){return e.registerLanguage(n,i)}});function normalizeLanguage(t){return t==="html"?"xml":t}function CodeBlock(t){const{value:e,lang:n,identifier:i,emphasizeLines:o,showLineNumbers:u,className:l,showCopy:c=!0,startingLineNumber:f=1,filename:d,shadow:m,background:g,border:v}=t,y=reactExports.useMemo(()=>{const w=new Set(o);return{language:normalizeLanguage(n),startingLineNumber:f,showLineNumbers:u,useInlineStyles:!0,wrapLines:!0,lineNumberContainerStyle:{display:"inline-block",float:"left",minWidth:"1.25em",paddingRight:"1em",textAlign:"right",userSelect:"none",borderLeft:"4px solid transparent"},lineProps:T=>typeof T=="boolean"?{}:w.has(T)?{"data-line-number":`${T}`,"data-highlight":"true"}:{"data-line-number":`${T}`},customStyle:{backgroundColor:"unset"}}},[o]);return jsxRuntimeExports.jsxs("div",{id:i,className:classNames("relative myst-code group not-prose",l,{"my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900":m,"bg-stone-200/10":g,"border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800":v}),children:[d&&jsxRuntimeExports.jsxs("div",{className:"flex flex-row pl-2 bg-white border-b dark:bg-slate-600 dark:border-slate-300",children:[jsxRuntimeExports.jsx(ForwardRef$v,{width:"16px",height:"16px",className:"inline-block flex-none self-center text-gray-500 myst-code-filename-icon dark:text-gray-100"}),jsxRuntimeExports.jsx("div",{className:"self-center p-2 text-sm leading-3 myst-code-filename-title prose text-slate-600 dark:text-white",children:d})]}),jsxRuntimeExports.jsx(SyntaxHighlighter,Object.assign({},y,{className:"block overflow-auto p-3 myst-code-body hljs",children:e})),c&&jsxRuntimeExports.jsx(CopyIcon,{text:e,className:classNames("absolute right-1 myst-code-copy-icon",{"top-[32px]":d,"top-1":!d})})]})}const code$1=({node:t,className:e})=>{const n=jsxRuntimeExports.jsx(CodeBlock,{identifier:t.html_id,"data-mdast-node-type":t.type,"data-mdast-node-id":t.key,value:t.value||"",lang:t.lang,filename:t.filename,emphasizeLines:t.emphasizeLines,showLineNumbers:t.showLineNumbers,startingLineNumber:t.startingLineNumber,shadow:!0,border:t.executable,background:!t.executable,className:classNames({hidden:t.visibility==="remove"},t.class,e)});return t.visibility==="hide"?jsxRuntimeExports.jsx(Details,{title:"Source",children:n}):n};function isColor(t){if(!t||t.length>9||!new Set([4,7,9]).has(t.length))return;const e=/^#([0-9A-Fa-f]{3,8})$/.exec(t);return e?e[1]:void 0}const inlineCode$1=({node:t,className:e})=>isColor(t.value)?jsxRuntimeExports.jsxs("code",{className:classNames("px-1 rounded bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-100",e),children:[t.value,jsxRuntimeExports.jsx("span",{style:{backgroundColor:t.value},className:"inline-block w-[10px] h-[10px] rounded-full ml-1"})]}):t.children&&t.children.length>0?jsxRuntimeExports.jsx("code",{className:e,children:jsxRuntimeExports.jsx(MyST,{ast:t.children})}):jsxRuntimeExports.jsx("code",{className:e,children:t.value}),CODE_RENDERERS={code:code$1,inlineCode:inlineCode$1},mathRenderer=({node:t,className:e})=>{if(t.type==="math"){if(t.error||!t.html)return jsxRuntimeExports.jsxs("pre",{title:t.message,className:e,children:[jsxRuntimeExports.jsxs("span",{className:"text-red-500",children:[jsxRuntimeExports.jsx(ForwardRef$u,{width:"1rem",height:"1rem",className:"inline mr-1"}),t.message,`

`]}),t.value]});const n=t.html_id||t.identifier||t.key;return jsxRuntimeExports.jsxs("div",{id:n,className:classNames("flex my-5 group",e),children:[jsxRuntimeExports.jsx("div",{dangerouslySetInnerHTML:{__html:t.html},className:"flex-grow overflow-x-auto overflow-y-hidden"}),t.enumerator&&jsxRuntimeExports.jsx("div",{className:"relative self-center flex-none pl-2 m-0 text-right select-none",children:jsxRuntimeExports.jsxs(HashLink,{id:n,kind:"Equation",className:"text-inherit hover:text-inherit",children:["(",t.enumerator,")"]})})]})}return t.error||!t.html?jsxRuntimeExports.jsx(InlineError$1,{value:t.value,message:t.message,className:e}):jsxRuntimeExports.jsx("span",{dangerouslySetInnerHTML:{__html:t.html},className:e})},MATH_RENDERERS={math:mathRenderer,inlineMath:mathRenderer},RVar=({node:t,className:e})=>reactExports.createElement("r-var",{name:t.name,value:t.value,":value":t.valueFunction,format:t.format,className:e}),RDisplay=({node:t,className:e})=>reactExports.createElement("r-display",{name:t.name,value:t.value,":value":t.valueFunction,format:t.format,className:e}),RDynamic=({node:t,className:e})=>reactExports.createElement("r-dynamic",{name:t.name,value:t.value,":value":t.valueFunction,max:t.max,":max":t.maxFunction,min:t.min,":min":t.minFunction,step:t.step,":step":t.stepFunction,":change":t.changeFunction,format:t.format,className:e}),RRange=({node:t,className:e})=>reactExports.createElement("r-range",{name:t.name,value:t.value,":value":t.valueFunction,max:t.max,":max":t.maxFunction,min:t.min,":min":t.minFunction,step:t.step,":step":t.stepFunction,":change":t.changeFunction,className:e}),REACTIVE_RENDERERS={"r:var":RVar,"r:display":RDisplay,"r:dynamic":RDynamic,"r:range":RRange};function getStyleValue$2(t){if(!(typeof t=="number"&&Number.isNaN(t))){if(typeof t=="string"){if(t.endsWith("%"))return getStyleValue$2(Number(t.replace("%","")));if(t.endsWith("px")){const e=getStyleValue$2(Number(t.replace("px","")));return e?e/750:70}else if(!Number.isNaN(Number(t)))return Number(t);console.log(`Unknown width ${t} in getImageWidth`);return}return t}}const IFrame=({node:t,className:e})=>{const n=getStyleValue$2(t.width)||70;return jsxRuntimeExports.jsx("div",{id:t.label||void 0,style:{textAlign:t.align||"center"},className:classNames("leading-[0]",t.class,e),children:jsxRuntimeExports.jsx("div",{className:"relative inline-block",style:{paddingBottom:"60%",width:`min(max(${n}%, 500px), 100%)`},children:jsxRuntimeExports.jsx("iframe",{width:"100%",height:"100%",src:t.src,title:t.title,allowFullScreen:!0,allow:"autoplay",style:{width:"100%",height:"100%",position:"absolute",top:0,left:0,border:"none"}})})})},IFRAME_RENDERERS={iframe:IFrame};function getStyleValue$1(t){if(!(typeof t=="number"&&Number.isNaN(t))){if(typeof t=="string"){if(t.endsWith("%"))return t;if(t.endsWith("px"))return Number(t.replace("px",""));if(!Number.isNaN(Number(t)))return Number(t);console.log(`Unknown width ${t} in getImageWidth`);return}return t}}function alignToMargin$1(t){switch(t){case"left":return{marginRight:"auto"};case"right":return{marginLeft:"auto"};case"center":return{marginLeft:"auto",marginRight:"auto"};default:return{}}}function Video$1({className:t,id:e,src:n,urlSource:i,align:o="center",width:u,height:l}){return jsxRuntimeExports.jsx("video",{className:t,id:e,style:Object.assign({width:getStyleValue$1(u),height:getStyleValue$1(l)},alignToMargin$1(o)),src:n,"data-canonical-url":i,autoPlay:!0,muted:!0,"webkit-playsinline":"true",playsInline:!0,loop:!0})}function Picture$1({className:t,id:e,src:n,srcOptimized:i,urlSource:o,align:u="center",alt:l,width:c,height:f}){if(n.endsWith(".mp4")||o?.endsWith(".mp4"))return jsxRuntimeExports.jsx(Video$1,{className:t,id:e,width:c,height:f,align:u,src:n,urlSource:o});const d=jsxRuntimeExports.jsx("img",{id:e,style:Object.assign({width:getStyleValue$1(c),height:getStyleValue$1(f)},alignToMargin$1(u)),src:n,alt:l,"data-canonical-url":o,className:i?void 0:t});return i?jsxRuntimeExports.jsxs("picture",{className:t,children:[jsxRuntimeExports.jsx("source",{srcSet:i,type:"image/webp"}),d]}):d}const Image$2=({node:t,className:e})=>jsxRuntimeExports.jsx(Picture$1,{className:classNames(t.class,e),id:t.html_id||t.identifier||t.key,src:t.url,srcOptimized:t.urlOptimized,alt:t.alt||t.title,width:t.width||void 0,height:t.height||void 0,align:t.align,urlSource:t.urlSource||t.sourceUrl}),IMAGE_RENDERERS$1={image:Image$2};var shim={exports:{}},useSyncExternalStoreShim_production={};var hasRequiredUseSyncExternalStoreShim_production;function requireUseSyncExternalStoreShim_production(){if(hasRequiredUseSyncExternalStoreShim_production)return useSyncExternalStoreShim_production;hasRequiredUseSyncExternalStoreShim_production=1;var t=requireReact();function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,o=t.useEffect,u=t.useLayoutEffect,l=t.useDebugValue;function c(g,v){var y=v(),w=i({inst:{value:y,getSnapshot:v}}),T=w[0].inst,P=w[1];return u(function(){T.value=y,T.getSnapshot=v,f(T)&&P({inst:T})},[g,y,v]),o(function(){return f(T)&&P({inst:T}),g(function(){f(T)&&P({inst:T})})},[g]),l(y),y}function f(g){var v=g.getSnapshot;g=g.value;try{var y=v();return!n(g,y)}catch{return!0}}function d(g,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:c;return useSyncExternalStoreShim_production.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,useSyncExternalStoreShim_production}var hasRequiredShim;function requireShim(){return hasRequiredShim||(hasRequiredShim=1,shim.exports=requireUseSyncExternalStoreShim_production()),shim.exports}var shimExports=requireShim();const FOCUS_EVENT=0,RECONNECT_EVENT=1,MUTATE_EVENT=2,ERROR_REVALIDATE_EVENT=3;var has$7=Object.prototype.hasOwnProperty;function dequal(t,e){var n,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((i=t.length)===e.length)for(;i--&&dequal(t[i],e[i]););return i===-1}if(!n||typeof t=="object"){i=0;for(n in t)if(has$7.call(t,n)&&++i&&!has$7.call(e,n)||!(n in e)||!dequal(t[n],e[n]))return!1;return Object.keys(e).length===i}}return t!==t&&e!==e}const SWRGlobalState=new WeakMap,noop$1=()=>{},UNDEFINED=noop$1(),OBJECT$1=Object,isUndefined$1=t=>t===UNDEFINED,isFunction$1=t=>typeof t=="function",mergeObjects=(t,e)=>({...t,...e}),isPromiseLike=t=>isFunction$1(t.then),EMPTY_CACHE={},INITIAL_CACHE={},STR_UNDEFINED="undefined",isWindowDefined=typeof window!=STR_UNDEFINED,isDocumentDefined=typeof document!=STR_UNDEFINED,isLegacyDeno=isWindowDefined&&"Deno"in window,hasRequestAnimationFrame=()=>isWindowDefined&&typeof window.requestAnimationFrame!=STR_UNDEFINED,createCacheHelper=(t,e)=>{const n=SWRGlobalState.get(t);return[()=>!isUndefined$1(e)&&t.get(e)||EMPTY_CACHE,i=>{if(!isUndefined$1(e)){const o=t.get(e);e in INITIAL_CACHE||(INITIAL_CACHE[e]=o),n[5](e,mergeObjects(o,i),o||EMPTY_CACHE)}},n[6],()=>!isUndefined$1(e)&&e in INITIAL_CACHE?INITIAL_CACHE[e]:!isUndefined$1(e)&&t.get(e)||EMPTY_CACHE]};let online=!0;const isOnline=()=>online,[onWindowEvent,offWindowEvent]=isWindowDefined&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[noop$1,noop$1],isVisible=()=>{const t=isDocumentDefined&&document.visibilityState;return isUndefined$1(t)||t!=="hidden"},initFocus=t=>(isDocumentDefined&&document.addEventListener("visibilitychange",t),onWindowEvent("focus",t),()=>{isDocumentDefined&&document.removeEventListener("visibilitychange",t),offWindowEvent("focus",t)}),initReconnect=t=>{const e=()=>{online=!0,t()},n=()=>{online=!1};return onWindowEvent("online",e),onWindowEvent("offline",n),()=>{offWindowEvent("online",e),offWindowEvent("offline",n)}},preset={isOnline,isVisible},defaultConfigOptions={initFocus,initReconnect},IS_REACT_LEGACY=!React.useId,IS_SERVER=!isWindowDefined||isLegacyDeno,rAF=t=>hasRequestAnimationFrame()?window.requestAnimationFrame(t):setTimeout(t,1),useIsomorphicLayoutEffect=IS_SERVER?reactExports.useEffect:reactExports.useLayoutEffect,navigatorConnection=typeof navigator<"u"&&navigator.connection,slowConnection=!IS_SERVER&&navigatorConnection&&(["slow-2g","2g"].includes(navigatorConnection.effectiveType)||navigatorConnection.saveData),table$1=new WeakMap,getTypeName=t=>OBJECT$1.prototype.toString.call(t),isObjectTypeName=(t,e)=>t===`[object ${e}]`;let counter=0;const stableHash=t=>{const e=typeof t,n=getTypeName(t),i=isObjectTypeName(n,"Date"),o=isObjectTypeName(n,"RegExp"),u=isObjectTypeName(n,"Object");let l,c;if(OBJECT$1(t)===t&&!i&&!o){if(l=table$1.get(t),l)return l;if(l=++counter+"~",table$1.set(t,l),Array.isArray(t)){for(l="@",c=0;c<t.length;c++)l+=stableHash(t[c])+",";table$1.set(t,l)}if(u){l="#";const f=OBJECT$1.keys(t).sort();for(;!isUndefined$1(c=f.pop());)isUndefined$1(t[c])||(l+=c+":"+stableHash(t[c])+",");table$1.set(t,l)}}else l=i?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return l},serialize$2=t=>{if(isFunction$1(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?stableHash(t):"",[t,e]};let __timestamp=0;const getTimestamp=()=>++__timestamp;async function internalMutate(...t){const[e,n,i,o]=t,u=mergeObjects({populateCache:!0,throwOnError:!0},typeof o=="boolean"?{revalidate:o}:o||{});let l=u.populateCache;const c=u.rollbackOnError;let f=u.optimisticData;const d=v=>typeof c=="function"?c(v):c!==!1,m=u.throwOnError;if(isFunction$1(n)){const v=n,y=[],w=e.keys();for(const T of w)!/^\$(inf|sub)\$/.test(T)&&v(e.get(T)._k)&&y.push(T);return Promise.all(y.map(g))}return g(n);async function g(v){const[y]=serialize$2(v);if(!y)return;const[w,T]=createCacheHelper(e,y),[P,A,D,k]=SWRGlobalState.get(e),j=()=>{const oe=P[y];return(isFunction$1(u.revalidate)?u.revalidate(w().data,v):u.revalidate!==!1)&&(delete D[y],delete k[y],oe&&oe[0])?oe[0](MUTATE_EVENT).then(()=>w().data):w().data};if(t.length<3)return j();let B=i,Z,R=!1;const G=getTimestamp();A[y]=[G,0];const F=!isUndefined$1(f),K=w(),Q=K.data,ie=K._c,te=isUndefined$1(ie)?Q:ie;if(F&&(f=isFunction$1(f)?f(te,Q):f,T({data:f,_c:te})),isFunction$1(B))try{B=B(te)}catch(oe){Z=oe,R=!0}if(B&&isPromiseLike(B))if(B=await B.catch(oe=>{Z=oe,R=!0}),G!==A[y][0]){if(R)throw Z;return B}else R&&F&&d(Z)&&(l=!0,T({data:te,_c:UNDEFINED}));if(l&&!R)if(isFunction$1(l)){const oe=l(B,te);T({data:oe,error:UNDEFINED,_c:UNDEFINED})}else T({data:B,error:UNDEFINED,_c:UNDEFINED});if(A[y][1]=getTimestamp(),Promise.resolve(j()).then(()=>{T({_c:UNDEFINED})}),R){if(m)throw Z;return}return B}}const revalidateAllKeys=(t,e)=>{for(const n in t)t[n][0]&&t[n][0](e)},initCache=(t,e)=>{if(!SWRGlobalState.has(t)){const n=mergeObjects(defaultConfigOptions,e),i=Object.create(null),o=internalMutate.bind(UNDEFINED,t);let u=noop$1;const l=Object.create(null),c=(m,g)=>{const v=l[m]||[];return l[m]=v,v.push(g),()=>v.splice(v.indexOf(g),1)},f=(m,g,v)=>{t.set(m,g);const y=l[m];if(y)for(const w of y)w(g,v)},d=()=>{if(!SWRGlobalState.has(t)&&(SWRGlobalState.set(t,[i,Object.create(null),Object.create(null),Object.create(null),o,f,c]),!IS_SERVER)){const m=n.initFocus(setTimeout.bind(UNDEFINED,revalidateAllKeys.bind(UNDEFINED,i,FOCUS_EVENT))),g=n.initReconnect(setTimeout.bind(UNDEFINED,revalidateAllKeys.bind(UNDEFINED,i,RECONNECT_EVENT)));u=()=>{m&&m(),g&&g(),SWRGlobalState.delete(t)}}};return d(),[t,o,d,u]}return[t,SWRGlobalState.get(t)[4]]},onErrorRetry=(t,e,n,i,o)=>{const u=n.errorRetryCount,l=o.retryCount,c=~~((Math.random()+.5)*(1<<(l<8?l:8)))*n.errorRetryInterval;!isUndefined$1(u)&&l>u||setTimeout(i,c,o)},compare=dequal,[cache,mutate]=initCache(new Map),defaultConfig=mergeObjects({onLoadingSlow:noop$1,onSuccess:noop$1,onError:noop$1,onErrorRetry,onDiscarded:noop$1,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:slowConnection?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:slowConnection?5e3:3e3,compare,isPaused:()=>!1,cache,mutate,fallback:{}},preset),mergeConfigs=(t,e)=>{const n=mergeObjects(t,e);if(e){const{use:i,fallback:o}=t,{use:u,fallback:l}=e;i&&u&&(n.use=i.concat(u)),o&&l&&(n.fallback=mergeObjects(o,l))}return n},SWRConfigContext=reactExports.createContext({}),INFINITE_PREFIX="$inf$",enableDevtools=isWindowDefined&&window.__SWR_DEVTOOLS_USE__,use$1=enableDevtools?window.__SWR_DEVTOOLS_USE__:[],setupDevTools=()=>{enableDevtools&&(window.__SWR_DEVTOOLS_REACT__=React)},normalize$2=t=>isFunction$1(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],useSWRConfig=()=>{const t=reactExports.useContext(SWRConfigContext);return reactExports.useMemo(()=>mergeObjects(defaultConfig,t),[t])},middleware=t=>(e,n,i)=>t(e,n&&((...u)=>{const[l]=serialize$2(e),[,,,c]=SWRGlobalState.get(cache);if(l.startsWith(INFINITE_PREFIX))return n(...u);const f=c[l];return isUndefined$1(f)?n(...u):(delete c[l],f)}),i),BUILT_IN_MIDDLEWARE=use$1.concat(middleware),withArgs=t=>function(...n){const i=useSWRConfig(),[o,u,l]=normalize$2(n),c=mergeConfigs(i,l);let f=t;const{use:d}=c,m=(d||[]).concat(BUILT_IN_MIDDLEWARE);for(let g=m.length;g--;)f=m[g](f);return f(o,u||c.fetcher||null,c)},subscribeCallback=(t,e,n)=>{const i=e[t]||(e[t]=[]);return i.push(n),()=>{const o=i.indexOf(n);o>=0&&(i[o]=i[i.length-1],i.pop())}},withMiddleware=(t,e)=>(...n)=>{const[i,o,u]=normalize$2(n),l=(u.use||[]).concat(e);return t(i,o,{...u,use:l})};setupDevTools();const use=React.use||(t=>{switch(t.status){case"pending":throw t;case"fulfilled":return t.value;case"rejected":throw t.reason;default:throw t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t}}),WITH_DEDUPE={dedupe:!0},resolvedUndef=Promise.resolve(UNDEFINED),useSWRHandler=(t,e,n)=>{const{cache:i,compare:o,suspense:u,fallbackData:l,revalidateOnMount:c,revalidateIfStale:f,refreshInterval:d,refreshWhenHidden:m,refreshWhenOffline:g,keepPreviousData:v,strictServerPrefetchWarning:y}=n,[w,T,P,A]=SWRGlobalState.get(i),[D,k]=serialize$2(t),j=reactExports.useRef(!1),B=reactExports.useRef(!1),Z=reactExports.useRef(D),R=reactExports.useRef(e),G=reactExports.useRef(n),F=()=>G.current,K=()=>F().isVisible()&&F().isOnline(),[Q,ie,te,oe]=createCacheHelper(i,D),le=reactExports.useRef({}).current,de=isUndefined$1(l)?isUndefined$1(n.fallback)?UNDEFINED:n.fallback[D]:l,ge=(Ce,Le)=>{for(const Ue in le){const We=Ue;if(We==="data"){if(!o(Ce[We],Le[We])&&(!isUndefined$1(Ce[We])||!o(Je,Le[We])))return!1}else if(Le[We]!==Ce[We])return!1}return!0},_e=reactExports.useMemo(()=>{const Ce=!D||!e?!1:isUndefined$1(c)?F().isPaused()||u?!1:f!==!1:c,Le=yt=>{const Nt=mergeObjects(yt);return delete Nt._k,Ce?{isValidating:!0,isLoading:!0,...Nt}:Nt},Ue=Q(),We=oe(),ot=Le(Ue),Rt=Ue===We?ot:Le(We);let Et=ot;return[()=>{const yt=Le(Q());return ge(yt,Et)?(Et.data=yt.data,Et.isLoading=yt.isLoading,Et.isValidating=yt.isValidating,Et.error=yt.error,Et):(Et=yt,yt)},()=>Rt]},[i,D]),we=shimExports.useSyncExternalStore(reactExports.useCallback(Ce=>te(D,(Le,Ue)=>{ge(Ue,Le)||Ce()}),[i,D]),_e[0],_e[1]),Me=!j.current,xe=w[D]&&w[D].length>0,Re=we.data,Se=isUndefined$1(Re)?de&&isPromiseLike(de)?use(de):de:Re,Ge=we.error,Qe=reactExports.useRef(Se),Je=v?isUndefined$1(Re)?isUndefined$1(Qe.current)?Se:Qe.current:Re:Se,Xe=D&&isUndefined$1(Se),gt=!IS_SERVER&&shimExports.useSyncExternalStore(()=>noop$1,()=>!1,()=>!0);y&&gt&&!u&&Xe&&console.warn(`Missing pre-initiated data for serialized key "${D}" during server-side rendering. Data fethcing should be initiated on the server and provided to SWR via fallback data. You can set "strictServerPrefetchWarning: false" to disable this warning.`);const Ct=xe&&!isUndefined$1(Ge)?!1:Me&&!isUndefined$1(c)?c:F().isPaused()?!1:u?isUndefined$1(Se)?!1:f:isUndefined$1(Se)||f,ar=!!(D&&e&&Me&&Ct),De=isUndefined$1(we.isValidating)?ar:we.isValidating,Oe=isUndefined$1(we.isLoading)?ar:we.isLoading,Be=reactExports.useCallback(async Ce=>{const Le=R.current;if(!D||!Le||B.current||F().isPaused())return!1;let Ue,We,ot=!0;const Rt=Ce||{},Et=!P[D]||!Rt.dedupe,yt=()=>IS_REACT_LEGACY?!B.current&&D===Z.current&&j.current:D===Z.current,Nt={isValidating:!1,isLoading:!1},St=()=>{ie(Nt)},kt=()=>{const ve=P[D];ve&&ve[1]===We&&delete P[D]},Pe={isValidating:!0};isUndefined$1(Q().data)&&(Pe.isLoading=!0);try{if(Et&&(ie(Pe),n.loadingTimeout&&isUndefined$1(Q().data)&&setTimeout(()=>{ot&&yt()&&F().onLoadingSlow(D,n)},n.loadingTimeout),P[D]=[Le(k),getTimestamp()]),[Ue,We]=P[D],Ue=await Ue,Et&&setTimeout(kt,n.dedupingInterval),!P[D]||P[D][1]!==We)return Et&&yt()&&F().onDiscarded(D),!1;Nt.error=UNDEFINED;const ve=T[D];if(!isUndefined$1(ve)&&(We<=ve[0]||We<=ve[1]||ve[1]===0))return St(),Et&&yt()&&F().onDiscarded(D),!1;const ut=Q().data;Nt.data=o(ut,Ue)?ut:Ue,Et&&yt()&&F().onSuccess(Ue,D,n)}catch(ve){kt();const ut=F(),{shouldRetryOnError:wt}=ut;ut.isPaused()||(Nt.error=ve,Et&&yt()&&(ut.onError(ve,D,ut),(wt===!0||isFunction$1(wt)&&wt(ve))&&(!F().revalidateOnFocus||!F().revalidateOnReconnect||K())&&ut.onErrorRetry(ve,D,ut,Tt=>{const Vt=w[D];Vt&&Vt[0]&&Vt[0](ERROR_REVALIDATE_EVENT,Tt)},{retryCount:(Rt.retryCount||0)+1,dedupe:!0})))}return ot=!1,St(),!0},[D,i]),he=reactExports.useCallback((...Ce)=>internalMutate(i,Z.current,...Ce),[]);if(useIsomorphicLayoutEffect(()=>{R.current=e,G.current=n,isUndefined$1(Re)||(Qe.current=Re)}),useIsomorphicLayoutEffect(()=>{if(!D)return;const Ce=Be.bind(UNDEFINED,WITH_DEDUPE);let Le=0;F().revalidateOnFocus&&(Le=Date.now()+F().focusThrottleInterval);const We=subscribeCallback(D,w,(ot,Rt={})=>{if(ot==FOCUS_EVENT){const Et=Date.now();F().revalidateOnFocus&&Et>Le&&K()&&(Le=Et+F().focusThrottleInterval,Ce())}else if(ot==RECONNECT_EVENT)F().revalidateOnReconnect&&K()&&Ce();else{if(ot==MUTATE_EVENT)return Be();if(ot==ERROR_REVALIDATE_EVENT)return Be(Rt)}});return B.current=!1,Z.current=D,j.current=!0,ie({_k:k}),Ct&&(P[D]||(isUndefined$1(Se)||IS_SERVER?Ce():rAF(Ce))),()=>{B.current=!0,We()}},[D]),useIsomorphicLayoutEffect(()=>{let Ce;function Le(){const We=isFunction$1(d)?d(Q().data):d;We&&Ce!==-1&&(Ce=setTimeout(Ue,We))}function Ue(){!Q().error&&(m||F().isVisible())&&(g||F().isOnline())?Be(WITH_DEDUPE).then(Le):Le()}return Le(),()=>{Ce&&(clearTimeout(Ce),Ce=-1)}},[d,m,g,D]),reactExports.useDebugValue(Je),u){if(!IS_REACT_LEGACY&&IS_SERVER&&Xe)throw new Error("Fallback data is required when using Suspense in SSR.");Xe&&(R.current=e,G.current=n,B.current=!1);const Ce=A[D],Le=!isUndefined$1(Ce)&&Xe?he(Ce):resolvedUndef;if(use(Le),!isUndefined$1(Ge)&&Xe)throw Ge;const Ue=Xe?Be(WITH_DEDUPE):resolvedUndef;!isUndefined$1(Je)&&Xe&&(Ue.status="fulfilled",Ue.value=!0),use(Ue)}return{mutate:he,get data(){return le.data=!0,Je},get error(){return le.error=!0,Ge},get isValidating(){return le.isValidating=!0,De},get isLoading(){return le.isLoading=!0,Oe}}},useSWR=withArgs(useSWRHandler),WikiTextMark=()=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",id:"svg3400",viewBox:"0 0 500 85",className:"h-4",children:jsxRuntimeExports.jsxs("g",{transform:"translate(-357.71336,-784.65111)",children:[jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"m 412.98736,806.72288 c 0,0 -1.468,-2.984 -1.968,-3.976 -3.336,-6.612 -3.264,-6.964 -6.636,-7.408 -0.944,-0.124 -1.432,-0.244 -1.432,-0.712 v -2.092 l 0.284,-0.204 c 6.092,-0.008 19.648,-0.008 19.648,-0.008 l 0.52,0.172 v 2.084 c 0,0.476 -0.34,0.72 -1.032,0.72 l -1.424,0.204 c -3.6,0.28 -3.012,1.752 -0.62,6.516 l 22.708,46.46 0.776,0.212 20.16,-47.844 c 0.7,-1.928 0.592,-3.296 -0.308,-4.1 -0.904,-0.784 -1.54,-1.248 -3.876,-1.344 l -1.892,-0.096 c -0.232,0 -0.452,-0.084 -0.664,-0.24 -0.208,-0.148 -0.316,-0.344 -0.316,-0.58 v -1.992 l 0.288,-0.204 c 5.68,0 22.776,0 22.776,0 l 0.232,0.204 v 1.992 c 0,0.54 -0.308,0.812 -0.916,0.812 -2.984,0.132 -5.196,0.78 -6.628,1.936 -1.436,1.164 -2.556,2.768 -3.36,4.852 0,0 -18.54,42.436 -24.884,56.54 -2.428,4.624 -4.816,4.2 -6.916,-0.132 -4.436,-9.136 -16.928,-36.852 -16.928,-36.852 l -7.592,-14.92 z"}),jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"m 449.37136,792.29888 c 0,0 -12.812,-0.04 -18.516,0 l -0.284,0.204 v 1.984 c 0,0.244 0.104,0.436 0.312,0.584 0.212,0.156 0.428,0.236 0.66,0.236 l 0.916,0.1 c 2.332,0.096 3.404,0.708 3.724,1.092 0.556,0.68 0.832,1.416 -0.516,4.356 l -23.92,47.708 -0.628,-0.164 c 0,0 -17.132,-36.124 -22.092,-48.208 -0.516,-1.252 -0.748,-2.18 -0.748,-2.752 0,-1.228 1.108,-1.892 3.324,-1.984 l 2.584,-0.108 c 0.684,0 1.032,-0.264 1.032,-0.812 v -1.984 l -0.232,-0.204 c 0,0 -20.52,-0.024 -24.76,0 l -0.232,0.204 v 2.084 c 0,0.376 0.476,0.608 1.432,0.712 2.604,0.14 4.316,0.556 5.14,1.248 0.82,0.7 1.688,2.468 2.84,5.224 6.228,14.96 19.46,41.656 25.904,56.86 1.856,4.152 4.188,4.796 7.02,-0.128 4.904,-9.096 18.2,-36.872 18.2,-36.872 l 10.472,-19.584 c 1.22,-2.068 2.396,-3.912 2.992,-4.772 1.092,-1.572 1.704,-1.868 4.688,-2.008 0.608,0 0.916,-0.272 0.916,-0.82 v -1.984 l -0.228,-0.212 z"}),jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"m 488.32736,854.23088 c 0,2.288 1.04,3.64 4.368,3.952 l 2.184,0.212 c 0.312,0 0.624,0.204 0.624,0.62 v 2.184 l -0.104,0.212 c 0,0 -7.904,-0.212 -11.128,-0.212 -2.912,0 -11.024,0.212 -11.024,0.212 l -0.208,-0.212 v -2.184 c 0,-0.416 0.312,-0.62 0.728,-0.62 l 2.08,-0.212 c 3.432,-0.312 4.472,-1.976 4.472,-3.952 v -34.632 c 0,-2.284 -1.252,-2.916 -4.472,-3.22 l -2.08,-0.216 c -0.416,0 -0.728,-0.096 -0.728,-0.416 v -2.396 l 0.104,-0.208 c 0,0 8.216,0.208 11.44,0.208 2.808,0 10.816,-0.208 10.816,-0.208 l 0.104,0.208 v 2.288 c 0,0.312 -0.208,0.52 -0.624,0.52 l -2.184,0.212 c -3.224,0.308 -4.368,1.144 -4.368,3.228 v 34.632 z"}),jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"m 519.01936,854.23088 c 0,2.288 1.352,3.432 4.368,3.952 l 1.144,0.212 c 0.312,0.1 0.624,0.204 0.624,0.62 v 2.184 l -0.104,0.212 c 0,0 -6.552,-0.212 -9.672,-0.212 -2.912,0 -11.44,0.212 -11.44,0.212 l -0.208,-0.212 v -2.184 c 0,-0.416 0.312,-0.62 0.728,-0.62 l 2.08,-0.212 c 3.12,-0.312 4.472,-1.976 4.472,-3.952 v -34.632 c 0,-2.284 -1.144,-2.916 -4.472,-3.22 l -2.08,-0.216 c -0.416,0 -0.728,-0.096 -0.728,-0.416 v -2.396 l 0.104,-0.208 c 0,0 8.528,0.208 11.752,0.208 2.916,0 9.464,-0.208 9.464,-0.208 l 0.104,0.208 v 2.288 c 0,0.312 -0.208,0.416 -0.624,0.52 l -1.144,0.212 c -3.224,0.62 -4.368,1.144 -4.368,3.228 v 15.704 c 3.432,0 5.408,-1.764 9.984,-6.656 4.16,-4.58 7.384,-8.42 7.384,-10.4 0,-0.836 -0.936,-1.768 -3.016,-2.084 -0.416,-0.1 -0.624,-0.208 -0.624,-0.52 v -2.396 l 0.104,-0.1 c 0,0 8.424,0.208 11.44,0.208 2.704,0 7.28,-0.208 7.28,-0.208 l 0.312,0.1 v 2.396 c 0,0.312 -0.312,0.52 -0.832,0.52 -4.056,0.312 -6.864,0.52 -10.608,4.784 l -8.944,10.292 c -1.768,1.876 -2.392,3.016 -2.392,3.852 0,0.624 0.416,1.14 0.936,1.764 l 15.704,18.928 c 1.248,1.452 3.744,2.08 5.824,2.492 l 0.52,0.1 c 0.312,0.104 0.728,0.312 0.728,0.624 v 2.184 l -0.312,0.104 c 0,0 -5.512,-0.104 -8.424,-0.104 -2.6,0 -6.344,0.104 -6.344,0.104 l -0.104,-0.104 v -1.248 c 0,-1.356 -0.104,-2.492 -1.56,-4.156 l -11.544,-14.356 c -1.56,-2.084 -3.224,-2.596 -5.512,-2.596 v 15.404 l 0,0 z"}),jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"m 575.08736,854.23088 c 0,2.288 1.04,3.64 4.368,3.952 l 2.184,0.212 c 0.312,0 0.624,0.204 0.624,0.62 v 2.184 l -0.104,0.212 c 0,0 -7.904,-0.212 -11.128,-0.212 -2.912,0 -11.024,0.212 -11.024,0.212 l -0.208,-0.212 v -2.184 c 0,-0.416 0.312,-0.62 0.728,-0.62 l 2.08,-0.212 c 3.432,-0.312 4.472,-1.976 4.472,-3.952 v -34.632 c 0,-2.284 -1.248,-2.916 -4.472,-3.22 l -2.08,-0.216 c -0.416,0 -0.728,-0.096 -0.728,-0.416 v -2.396 l 0.104,-0.208 c 0,0 8.216,0.208 11.44,0.208 2.808,0 10.816,-0.208 10.816,-0.208 l 0.104,0.208 v 2.288 c 0,0.312 -0.208,0.52 -0.624,0.52 l -2.184,0.212 c -3.224,0.308 -4.368,1.144 -4.368,3.228 v 34.632 z"}),jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"m 597.55936,819.80288 c 0,-3.224 -1.352,-3.328 -6.24,-3.64 -0.624,0 -0.728,-0.308 -0.728,-0.52 v -2.392 l 0.208,-0.104 c 1.56,0 7.696,0.208 10.712,0.208 2.912,0 7.072,-0.208 10.92,-0.208 14.76,0 17.464,7.276 17.464,12.692 0,6.244 -3.016,16.016 -17.776,16.016 -2.6,0 -4.68,-0.212 -6.556,-1.04 v 13.928 c 0,2.288 1.248,2.812 4.58,3.328 l 2.084,0.312 c 0.416,0.104 0.728,0.212 0.728,0.624 v 2.184 l -0.1,0.208 c 0,0 -8.32,-0.208 -11.544,-0.208 -2.912,0 -10.712,0.208 -10.712,0.208 l -0.104,-0.208 v -2.184 c 0,-0.416 0.208,-0.52 0.624,-0.624 l 2.184,-0.312 c 3.224,-0.416 4.264,-1.352 4.264,-3.328 l -0.008,-34.94 0,0 z m 8.008,18.1 c 2.08,0.836 4.68,0.936 6.76,0.936 6.244,0 9.248,-3.752 9.248,-11.752 0,-8.944 -4.056,-10.92 -9.768,-10.92 -4.996,0 -6.244,0.936 -6.244,3.64 l 0.004,18.096 0,0 z"}),jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"m 647.80736,861.19888 c -3.12,0 -10.292,0.212 -10.292,0.212 l -0.108,-0.212 v -2.288 c 0,-0.204 0.108,-0.516 0.624,-0.516 l 2.396,-0.212 c 3.228,-0.312 4.164,-2.392 4.164,-4.468 v -34.32 c 0,-2.4 -1.252,-2.812 -4.164,-3.016 l -2.396,-0.216 c -0.624,-0.096 -0.624,-0.308 -0.624,-0.416 v -2.396 l 0.108,-0.208 c 0,0 8.108,0.208 11.228,0.208 h 15.288 c 3.12,0 10.508,-0.208 10.508,-0.208 l 0.212,0.208 c 0.1,4.472 0.828,8.536 1.56,12.484 l -2.596,0.416 c -1.14,-3.852 -3.116,-9.36 -9.772,-9.36 h -8.32 c -1.976,0 -3.016,0.728 -3.016,2.492 v 15.084 h 7.796 c 2.916,0 3.64,-1.248 4.06,-3.328 l 0.62,-2.184 c 0,-0.312 0.212,-0.524 0.624,-0.524 h 1.764 c 0.212,0 0.212,0.108 0.212,0.312 -0.212,2.288 -0.624,5.204 -0.624,7.7 0,2.596 0.416,4.784 0.624,7.176 l -0.212,0.212 h -1.764 c -0.516,0 -0.732,-0.212 -0.732,-0.524 l -0.52,-2.284 c -0.416,-2.084 -1.352,-3.228 -4.064,-3.228 h -7.792 v 15.916 c 0,1.972 1.136,3.948 3.016,3.948 h 9.88 c 5.304,0 8.22,-3.328 9.464,-8.74 l 2.596,0.312 -2.084,11.956 -0.208,0.208 c 0,0 -6.136,-0.208 -9.256,-0.208 l -18.2,0.012 0,0 z"}),jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"m 686.91936,858.39488 2.392,-0.212 c 3.124,-0.312 4.164,-1.248 4.164,-4.468 v -34.32 c 0,-2.712 -0.736,-2.712 -4.164,-3.016 l -2.28,-0.216 c -0.416,0 -0.736,-0.208 -0.736,-0.52 v -2.288 l 0.1,-0.208 c 0,0 9.156,0.208 11.032,0.208 1.968,0 11.024,-0.208 13.728,-0.208 17.368,0 25.9,10.816 25.9,24.648 0,18.204 -12.9,23.604 -24.44,23.604 -8.32,0 -11.956,-0.208 -15.18,-0.208 -3.124,0 -11.028,0.208 -11.028,0.208 l -0.104,-0.208 v -2.184 c -0.008,-0.3 0.204,-0.612 0.616,-0.612 z m 23.196,0 c 11.436,0 17.892,-4.26 17.892,-18.828 0,-10.812 -2.396,-23.404 -19.868,-23.404 -4.056,0 -6.656,0.624 -6.656,3.232 v 34.32 c 0,2.904 0.724,4.68 8.632,4.68 z"}),jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"m 761.60736,854.23088 c 0,2.288 1.04,3.64 4.368,3.952 l 2.184,0.212 c 0.312,0 0.624,0.204 0.624,0.62 v 2.184 l -0.104,0.212 c 0,0 -7.904,-0.212 -11.124,-0.212 -2.916,0 -11.024,0.212 -11.024,0.212 l -0.212,-0.212 v -2.184 c 0,-0.416 0.312,-0.62 0.728,-0.62 l 2.084,-0.212 c 3.428,-0.312 4.472,-1.976 4.472,-3.952 v -34.632 c 0,-2.284 -1.252,-2.916 -4.472,-3.22 l -2.084,-0.216 c -0.416,0 -0.728,-0.096 -0.728,-0.416 v -2.396 l 0.104,-0.208 c 0,0 8.216,0.208 11.432,0.208 2.808,0 10.82,-0.208 10.82,-0.208 l 0.1,0.208 v 2.288 c 0,0.312 -0.212,0.52 -0.624,0.52 l -2.184,0.212 c -3.224,0.308 -4.368,1.144 -4.368,3.228 l 0.008,34.632 0,0 z"}),jsxRuntimeExports.jsx("path",{fill:"currentColor",d:"m 793.64736,858.18288 3.016,0.212 c 0.416,0 0.832,0.312 0.832,0.828 v 1.976 l -0.208,0.212 c 0,0 -11.336,-0.212 -13.832,-0.212 -2.708,0 -9.364,0.212 -9.364,0.212 l -0.212,-0.212 v -1.976 c 0,-0.516 0.312,-0.828 0.836,-0.828 4.58,-0.312 7.172,-1.148 10.084,-7.804 l 23.084,-54.084 c 1.14,-2.704 1.976,-3.748 3.54,-3.748 1.452,0 1.976,1.044 2.804,3.124 l 21.32,56.368 c 1.46,4.06 3.54,5.616 7.7,6.032 l 1.144,0.1 c 0.52,0 1.04,0.312 1.04,0.836 v 1.972 l -0.312,0.208 c 0,0 -8.008,-0.208 -12.064,-0.208 -3.64,0 -13.836,0.208 -13.836,0.208 l -0.1,-0.208 v -1.972 c 0,-0.524 0.208,-0.836 0.736,-0.836 l 2.912,-0.208 c 3.948,-0.308 5.412,-1.564 4.368,-4.472 l -6.344,-17.58 h -21.632 c -2.496,0 -3.12,0.416 -3.636,1.764 l -6.036,15.084 c -1.04,2.608 0.312,4.9 4.16,5.212 z m 25.48,-26.424 -10.088,-27.764 h -0.208 l -10.4,26.416 c -0.416,1.044 0.308,1.352 2.596,1.352 h 18.1 z"})]})}),fetcher$6=(...t)=>fetch(...t).then(e=>{if(e.status===200)return e.json();throw new Error(`Content returned with status ${e.status}.`)}),ENGLISH_WIKIPEDIA="https://en.wikipedia.org/";function createWikiUrl(t,e){return`${ENGLISH_WIKIPEDIA}wiki/${t}`}function createWikiApiUrl(t,e){return`${e||ENGLISH_WIKIPEDIA}api/rest_v1/page/summary/${t}`}function WikiChild({page:t,wiki:e,load:n}){var i,o;const{data:u,error:l}=useSWR(n?createWikiApiUrl(t,e):null,fetcher$6),{thumbnail:c,extract:f,content_urls:d}=u??{},m=(o=(i=d?.desktop)===null||i===void 0?void 0:i.page)!==null&&o!==void 0?o:createWikiUrl(t),g=c?.source;return l?jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsxs("a",{href:m,className:"block text-inherit hover:text-inherit",target:"_blank",rel:"noreferrer",children:[jsxRuntimeExports.jsx(ForwardRef$z,{width:"1rem",height:"1rem",className:"float-right"}),jsxRuntimeExports.jsx(WikiTextMark,{})]}),jsxRuntimeExports.jsxs("div",{className:"mt-2",children:['Error loading "',t,'" from wikipedia.']})]}):jsxRuntimeExports.jsx(LinkCard$1,{loading:!u,url:m,title:jsxRuntimeExports.jsx(WikiTextMark,{}),thumbnail:g,description:f})}function WikiLink({children:t,page:e,url:n,wiki:i,className:o}){return jsxRuntimeExports.jsx(HoverPopover,{card:({load:u})=>jsxRuntimeExports.jsx(WikiChild,{wiki:i,page:e,load:u}),children:jsxRuntimeExports.jsx("a",{href:n,className:classNames("italic",o),target:"_blank",rel:"noreferrer",children:t})})}const fetcher$5=(...t)=>fetch(...t).then(e=>{if(e.status===200)return e.json();throw new Error(`Content returned with status ${e.status}.`)});function RRIDChild({rrid:t}){var e,n,i,o,u,l,c;const{data:f,error:d}=useSWR(`https://scicrunch.org/resolver/${t}.json`,fetcher$5);if(!f&&!d)return jsxRuntimeExports.jsx("div",{className:"hover-document article w-[500px] sm:max-w-[500px] animate-pulse",children:"Loading..."});const m=(n=(e=f?.hits)===null||e===void 0?void 0:e.hits)===null||n===void 0?void 0:n[0];if(d||!m)return jsxRuntimeExports.jsxs("div",{className:"hover-document article w-[500px] sm:max-w-[500px]",children:["Error loading ",t,"."]});const{name:g,curie:v,description:y,supercategory:w,keywords:T,types:P}=(o=(i=m?._source)===null||i===void 0?void 0:i.item)!==null&&o!==void 0?o:{},A=(u=w?.[0])===null||u===void 0?void 0:u.name,D=(l=P?.map(({name:j})=>j))!==null&&l!==void 0?l:[],k=(c=T?.map(({keyword:j})=>j))!==null&&c!==void 0?c:[];return jsxRuntimeExports.jsxs("div",{className:"hover-document article w-[500px] sm:max-w-[500px] p-3",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm font-light",children:["RRID: ",A]}),jsxRuntimeExports.jsxs("div",{className:"mb-4 text-xl font-bold",children:[g," ",jsxRuntimeExports.jsx("code",{children:v})]}),jsxRuntimeExports.jsx("p",{className:"text-md",children:y}),D.length>0&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"my-2 text-xs font-thin",children:"Categories"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap ml-1",children:D?.map(j=>jsxRuntimeExports.jsx("span",{className:"inline-flex items-center px-3 py-1 ml-1 text-xs uppercase border rounded-full",children:j}))})]}),k.length>0&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"my-2 text-xs font-thin",children:"Tags"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap ml-1",children:k?.map(j=>jsxRuntimeExports.jsx("span",{className:"inline-flex items-center px-3 py-1 ml-1 text-xs uppercase border rounded-full",children:j}))})]})]})}function RRIDLink({rrid:t,className:e}){return jsxRuntimeExports.jsx(HoverPopover,{card:jsxRuntimeExports.jsx(RRIDChild,{rrid:t}),children:jsxRuntimeExports.jsxs("a",{href:`https://scicrunch.org/resolver/${t}`,target:"_blank",rel:"noopener noreferrer",className:e,children:["RRID: ",jsxRuntimeExports.jsx("cite",{className:"italic",children:t})]})})}function BlueskyIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{d:"M5.9 4.2C8.4 6 11 9.8 12 11.8c1-2 3.6-5.8 6.1-7.7 1.8-1.3 4.7-2.4 4.7.9 0 .7-.4 5.5-.6 6.3-.8 2.8-3.6 3.5-6.1 3 4.4.7 5.5 3.2 3.1 5.7-4.6 4.7-6.6-1.2-7.1-2.7-.1-.1-.1-.3-.1-.2 0-.1 0 0-.1.3-.5 1.5-2.5 7.4-7.1 2.7-2.4-2.5-1.3-4.9 3.1-5.7-2.5.4-5.3-.3-6.1-3-.2-.8-.6-5.7-.6-6.3 0-3.3 2.9-2.3 4.7-.9z"}))}const ForwardRef$h=reactExports.forwardRef(BlueskyIcon);function CcByIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{d:"M12 2.2c2.7 0 5 .9 6.9 2.8 1.9 1.9 2.8 4.2 2.8 6.9s-.9 5-2.8 6.8c-2 1.9-4.3 2.9-7 2.9-2.6 0-4.9-1-6.9-2.9-1.8-1.7-2.8-4-2.8-6.7s1-5 2.9-6.9C7 3.2 9.3 2.2 12 2.2zM12 4c-2.2 0-4.1.8-5.6 2.3C4.8 8 4 9.9 4 12c0 2.2.8 4 2.4 5.6C8 19.2 9.8 20 12 20c2.2 0 4.1-.8 5.7-2.4 1.5-1.5 2.3-3.3 2.3-5.6 0-2.2-.8-4.1-2.3-5.7C16.1 4.8 14.2 4 12 4zm2.6 5.6v4h-1.1v4.7h-3v-4.7H9.4v-4c0-.2.1-.3.2-.4.1-.2.2-.2.4-.2h4c.2 0 .3.1.4.2.2.1.2.2.2.4zm-4-2.5c0-.9.5-1.4 1.4-1.4s1.4.5 1.4 1.4c0 .9-.5 1.4-1.4 1.4s-1.4-.5-1.4-1.4z"}))}const ForwardRef$g=reactExports.forwardRef(CcByIcon);function CcNcIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{d:"M12 2.2c2.7 0 5 .9 6.9 2.8 1.9 1.9 2.8 4.2 2.8 6.9s-.9 5-2.8 6.8c-2 1.9-4.3 2.9-7 2.9-2.6 0-4.9-1-6.9-2.9-1.9-1.9-2.9-4.2-2.9-6.9s1-5 2.9-6.9c2-1.7 4.3-2.7 7-2.7zM4.4 9.4C4.2 10.2 4 11 4 12c0 2.2.8 4 2.4 5.6C8 19.2 9.8 20 12 20c2.2 0 4.1-.8 5.7-2.4.6-.5 1-1.1 1.3-1.7l-3.7-1.6c-.1.6-.4 1.1-.9 1.5-.5.4-1.1.6-1.8.7V18h-1.1v-1.5c-1.1 0-2.1-.4-3-1.2l1.3-1.4c.6.6 1.4.9 2.2.9.3 0 .6-.1.9-.2.2-.2.4-.4.4-.7 0-.2-.1-.4-.3-.6l-.9-.4-1.1-.6-1.5-.7-5.1-2.2zM12 4c-2.2 0-4.1.8-5.6 2.3-.4.4-.7.9-1.1 1.3L9 9.3c.2-.5.5-.9 1-1.2.5-.3 1-.5 1.6-.5V6.1h1.1v1.5c.9 0 1.7.3 2.4.9l-1.3 1.3c-.5-.4-1.1-.6-1.7-.6-.3 0-.6.1-.8.2-.2.1-.3.3-.3.6 0 .1 0 .2.1.2l1.2.6.9.4 1.6.7 5 2.2c.2-.7.2-1.4.2-2.1 0-2.2-.8-4.1-2.3-5.7C16.1 4.8 14.2 4 12 4z"}))}const ForwardRef$f=reactExports.forwardRef(CcNcIcon);function CcNdIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{d:"M12 2.2c2.7 0 5 .9 6.9 2.8 1.9 1.9 2.8 4.2 2.8 6.9s-.9 5-2.8 6.9c-2 1.9-4.3 2.9-7 2.9-2.6 0-4.9-1-6.9-2.9C3.2 17 2.2 14.7 2.2 12s1-5 2.9-6.9C7 3.2 9.3 2.2 12 2.2zM12 4c-2.2 0-4.1.8-5.6 2.4C4.8 8 4 9.9 4 12c0 2.2.8 4 2.4 5.6C8 19.2 9.8 20 12 20c2.2 0 4.1-.8 5.7-2.4 1.5-1.5 2.3-3.3 2.3-5.6 0-2.2-.8-4.1-2.3-5.6C16.1 4.8 14.2 4 12 4zm3.7 5.7v1.7H8.6V9.7h7.1zm0 3.1v1.7H8.6v-1.7h7.1z"}))}const ForwardRef$e=reactExports.forwardRef(CcNdIcon);function CcSaIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{d:"M12 2.2c2.7 0 5 .9 6.9 2.8 1.9 1.9 2.8 4.2 2.8 6.9s-.9 5-2.8 6.9c-2 1.9-4.3 2.9-7 2.9-2.6 0-4.9-1-6.9-2.9C3.2 17 2.2 14.7 2.2 12s1-5 2.9-6.9C7 3.2 9.3 2.2 12 2.2zM12 4c-2.2 0-4.1.8-5.6 2.4C4.8 8 4 9.9 4 12c0 2.2.8 4 2.4 5.6C8 19.2 9.8 20 12 20c2.2 0 4.1-.8 5.7-2.4 1.5-1.5 2.3-3.3 2.3-5.6 0-2.2-.8-4.1-2.3-5.6C16.1 4.8 14.2 4 12 4zm-4.3 6.6c.2-1.2.7-2.1 1.4-2.8.8-.7 1.7-1 2.8-1 1.5 0 2.8.5 3.7 1.5.9 1 1.4 2.3 1.4 3.8s-.5 2.7-1.4 3.7c-.9 1-2.2 1.5-3.7 1.5-1.1 0-2.1-.3-2.9-1-.8-.7-1.3-1.6-1.4-2.8h2.5c.1 1.2.8 1.8 2.1 1.8.7 0 1.2-.3 1.7-.9.4-.6.6-1.4.6-2.4s-.2-1.8-.6-2.4c-.4-.5-.9-.8-1.7-.8-1.3 0-2 .6-2.2 1.7h.7l-1.9 1.9-1.9-1.9.8.1z"}))}const ForwardRef$d=reactExports.forwardRef(CcSaIcon);function CcZeroIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{d:"M12 6.4c-3.2 0-4 3-4 5.6 0 2.6.8 5.6 4 5.6s4-3 4-5.6c0-2.6-.8-5.6-4-5.6zm0 2.1h.4c.2.2.3.5.1.9l-2.1 3.9c-.1-.5-.1-1-.1-1.4 0-1 0-3.4 1.7-3.4zm1.6 1.8c.1.6.1 1.2.1 1.7 0 1.1-.1 3.5-1.7 3.5h-.4-.1-.1c-.4-.2-.6-.4-.3-.9l2.5-4.3z"}),reactExports.createElement("path",{d:"M12 2.2c-2.7 0-5 .9-6.8 2.8-1 1-1.7 2.1-2.2 3.3-.5 1.2-.8 2.4-.8 3.7 0 1.3.2 2.5.7 3.7.5 1.2 1.2 2.2 2.1 3.2.9.9 2 1.6 3.2 2.1 1.2.5 2.4.7 3.7.7 1.3 0 2.5-.3 3.7-.8 1.2-.5 2.3-1.2 3.2-2.2.9-.9 1.6-1.9 2.1-3.1.5-1.2.7-2.4.7-3.8 0-1.3-.2-2.6-.7-3.7-.3-1-1-2.1-1.9-3-2-1.9-4.3-2.9-7-2.9zM12 4c2.2 0 4.1.8 5.7 2.3.7.8 1.3 1.7 1.7 2.6.4 1 .6 2 .6 3.1 0 2.2-.8 4.1-2.3 5.6-.8.8-1.7 1.4-2.7 1.8-1 .4-2 .6-3 .6-1.1 0-2.1-.2-3-.6-1-.4-1.8-1-2.6-1.7C5.6 16.9 5 16 4.6 15c-.4-1-.6-2-.6-3 0-1.1.2-2.1.6-3 .4-1 1-1.9 1.8-2.6C7.9 4.8 9.8 4 12 4z"}))}const ForwardRef$c=reactExports.forwardRef(CcZeroIcon);function CcIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{d:"M12 2.2c2.7 0 5 1 7 2.9.9.9 1.6 2 2.1 3.1.5 1.2.7 2.4.7 3.8 0 1.3-.2 2.6-.7 3.8-.5 1.2-1.2 2.2-2.1 3.1-1 .9-2 1.7-3.2 2.2-1.2.5-2.5.7-3.7.7s-2.6-.3-3.8-.8c-1.2-.5-2.2-1.2-3.2-2.1s-1.6-2-2.1-3.2-.8-2.4-.8-3.7c0-1.3.2-2.5.7-3.7S4.2 6 5.1 5.1C7 3.2 9.3 2.2 12 2.2zM12 4c-2.2 0-4.1.8-5.6 2.3C5.6 7.1 5 8 4.6 9c-.4 1-.6 2-.6 3s.2 2.1.6 3c.4 1 1 1.8 1.8 2.6S8 19 9 19.4c1 .4 2 .6 3 .6s2.1-.2 3-.6c1-.4 1.9-1 2.7-1.8 1.5-1.5 2.3-3.3 2.3-5.6 0-1.1-.2-2.1-.6-3.1-.4-1-1-1.8-1.7-2.6C16.1 4.8 14.2 4 12 4zm-.1 6.4l-1.3.7c-.1-.3-.3-.5-.5-.6-.2-.1-.4-.2-.6-.2-.9 0-1.3.6-1.3 1.7 0 .5.1.9.3 1.3.2.3.5.5 1 .5.6 0 1-.3 1.2-.8l1.2.6c-.3.5-.6.9-1.1 1.1-.5.3-1 .4-1.5.4-.9 0-1.6-.3-2.1-.8-.5-.6-.8-1.3-.8-2.3 0-.9.3-1.7.8-2.2.6-.6 1.3-.8 2.1-.8 1.2 0 2.1.4 2.6 1.4zm5.6 0l-1.3.7c-.1-.3-.3-.5-.5-.6-.2-.1-.4-.2-.6-.2-.9 0-1.3.6-1.3 1.7 0 .5.1.9.3 1.3.2.3.5.5 1 .5.6 0 1-.3 1.2-.8l1.2.6c-.3.5-.6.9-1.1 1.1-.4.2-.9.3-1.4.3-.9 0-1.6-.3-2.1-.8s-.8-1.3-.8-2.2c0-.9.3-1.7.8-2.2.5-.5 1.2-.8 2-.8 1.2 0 2.1.4 2.6 1.4z"}))}const ForwardRef$b=reactExports.forwardRef(CcIcon);function CurvenoteIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{d:"M21.8 17.3c0 2.5-1.9 4.4-4.4 4.4-2.4 0-4.4-1.9-4.4-4.4s1.9-4.4 4.4-4.4c2.3 0 4.4 2.1 4.4 4.4zM2.2 12.9H11v8.8c-4.8 0-8.8-3.9-8.8-8.8zm2.7-8.1C6.5 3.2 8.8 2.2 11 2.2V11H2.2c0-2.3 1-4.5 2.7-6.2zm14.2 3.6C17.5 10 15.2 11 13 11V2.2h8.8c0 2.3-1 4.6-2.7 6.2z"}))}const ForwardRef$a=reactExports.forwardRef(CurvenoteIcon);function EmailIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{d:"M21.8 18c0 1.1-.9 2-1.9 2H4.2c-1.1 0-1.9-.9-1.9-2V9.9c0-.5.3-.7.8-.4l7.8 4.7c.7.4 1.7.4 2.4 0L21 9.5c.4-.2.8-.1.8.4V18z"}),reactExports.createElement("path",{d:"M21.8 6c0-1.1-.9-2-1.9-2H4.2c-1.1 0-2 .9-2 2v.4c0 .5.3 1.1.8 1.3l8.5 5.1c.2.1.7.1.9 0l8.6-5c.4-.3.8-.9.8-1.3-.1-.1-.1-.5 0-.5z"}))}const ForwardRef$9=reactExports.forwardRef(EmailIcon);function GithubIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{d:"M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"}))}const ForwardRef$8=reactExports.forwardRef(GithubIcon);function LinkedinIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{d:"M6.8 8.5H2.9c-.2 0-.3.2-.3.3v12.6c0 .2.2.3.3.3h3.9c.2 0 .3-.2.3-.3V8.8c0-.2-.1-.3-.3-.3zm-2-6.3c-1.4 0-2.6 1.2-2.6 2.6s1.2 2.6 2.6 2.6 2.6-1.2 2.6-2.6-1.2-2.6-2.6-2.6zm11.9 6c-1.6 0-2.7.7-3.4 1.4v-.8c0-.2-.2-.3-.3-.3H9.2c-.2 0-.3.2-.3.3v12.6c0 .2.2.3.3.3h3.9c.2 0 .3-.2.3-.3v-6.3c0-2.1.6-2.9 2-2.9 1.6 0 1.7 1.3 1.7 3v6.1c0 .2.2.3.3.3h3.9c.2 0 .3-.2.3-.3v-6.9c.1-3.1-.5-6.2-4.9-6.2z"}))}const ForwardRef$7=reactExports.forwardRef(LinkedinIcon);function OpenAccessIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{d:"M17.1 12.6h-2V7.5c0-1.7-1.4-3.1-3-3.1-.8 0-1.6.3-2.2.9-.6.5-.9 1.3-.9 2.2v.7H7v-.7c0-1.4.5-2.7 1.5-3.7s2.2-1.5 3.6-1.5 2.6.5 3.6 1.5 1.5 2.3 1.5 3.7v5.1z"}),reactExports.createElement("path",{d:"M12 21.8c-.8 0-1.6-.2-2.3-.5-.7-.3-1.4-.8-1.9-1.3-.6-.6-1-1.2-1.3-2-.3-.8-.5-1.6-.5-2.4s.2-1.6.5-2.4c.3-.7.7-1.4 1.3-2s1.2-1 1.9-1.3c.7-.3 1.5-.5 2.3-.5.8 0 1.6.2 2.3.5.7.3 1.4.8 1.9 1.3.6.6 1 1.2 1.3 2 .3.8.5 1.6.5 2.4s-.2 1.6-.5 2.4c-.3.7-.7 1.4-1.3 2-.6.6-1.2 1-1.9 1.3-.7.3-1.5.5-2.3.5zm0-10.3c-2.2 0-4 1.8-4 4.1s1.8 4.1 4 4.1 4-1.8 4-4.1-1.8-4.1-4-4.1z"}),reactExports.createElement("circle",{cx:12,cy:15.6,r:1.7}))}const ForwardRef$6=reactExports.forwardRef(OpenAccessIcon);function OrcidIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{d:"M21.8 12c0 5.4-4.4 9.8-9.8 9.8S2.2 17.4 2.2 12 6.6 2.2 12 2.2s9.8 4.4 9.8 9.8zM8.2 5.8c-.4 0-.8.3-.8.8s.3.8.8.8.8-.4.8-.8-.3-.8-.8-.8zm2.3 9.6h1.2v-6h1.8c2.3 0 3.3 1.4 3.3 3s-1.5 3-3.3 3h-3v1.1H9V8.3H7.7v8.2h5.9c3.3 0 4.5-2.2 4.5-4.1s-1.2-4.1-4.3-4.1h-3.2l-.1 7.1z"}))}const ForwardRef$5=reactExports.forwardRef(OrcidIcon);function OsiIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{d:"M13.2 15.6c1.4-.5 2.1-1.6 2.1-3.3S13.8 8.9 12 8.9c-1.9 0-3.3 1.6-3.3 3.3 0 1.8.8 3 2.2 3.4l-2.3 5.9c-3.1-.8-6.3-4.6-6.3-9.3 0-5.5 4.3-10 9.7-10s9.8 4.5 9.8 10c0 4.7-3.1 8.5-6.3 9.3l-2.3-5.9z"}))}const ForwardRef$4=reactExports.forwardRef(OsiIcon);function RorIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{d:"M10 4.2L8.3 6.8 6.6 4.2H10zM17.1 4.2l-1.7 2.6-1.7-2.6h3.4zM6.6 19.8l1.7-2.6 1.7 2.6H6.6zM13.7 19.8l1.7-2.6 1.7 2.6h-3.4zM20.8 12.5c.6-.1 1.1-.4 1.4-.8.3-.4.5-.9.5-1.5 0-.5-.1-.9-.3-1.2-.2-.3-.4-.6-.7-.8-.3-.2-.6-.3-1-.4-.4-.1-.8-.1-1.2-.1h-3.3v2.6c0-.1-.1-.2-.1-.2-.2-.6-.6-1-1-1.4-.4-.4-.9-.7-1.5-.9-.6-.2-1.2-.3-1.9-.3s-1.3.1-1.9.3c-.5.1-1 .4-1.4.8-.3.4-.6.8-.9 1.3 0-.3-.1-.6-.2-.9-.2-.4-.4-.6-.7-.8-.3-.2-.6-.3-1-.4s-.8-.2-1.3-.2H1v8.5h1.9v-3.4h.9l1.8 3.4h2.3l-2.2-3.6c.6-.1 1.1-.4 1.4-.8v-.1.2c0 .7.1 1.3.3 1.8.2.6.6 1 1 1.4.4.4.9.7 1.5.9.6.2 1.2.3 1.9.3s1.3-.1 1.9-.3c.6-.2 1.1-.5 1.5-.9.4-.4.7-.9 1-1.4 0-.1.1-.2.1-.2V16H18v-3.4h.9l1.8 3.4H23l-2.2-3.5zM5.4 10.7c-.1.2-.2.3-.3.3-.2.1-.3.1-.5.1H2.9V9.2h1.7c.2 0 .3.1.5.1.1.1.3.2.3.3.1.1.1.3.1.5.1.3 0 .5-.1.6zm8.8 2.3c-.1.3-.3.6-.5.9-.2.2-.5.4-.8.6-.3.1-.7.2-1.1.2-.4 0-.8-.1-1.1-.2-.3-.1-.6-.3-.8-.6-.2-.2-.4-.5-.5-.9-.1-.3-.2-.7-.2-1.1 0-.4.1-.8.2-1.1s.3-.6.5-.9c.2-.2.5-.4.8-.6.3-.1.7-.2 1.1-.2.4 0 .8.1 1.1.2.3.1.6.3.8.6.2.2.4.5.5.9.1.3.2.7.2 1.1 0 .4 0 .7-.2 1.1zm6.4-2.3c-.1.1-.2.2-.4.3-.2.1-.3.1-.5.1H18V9.2h1.7c.2 0 .3.1.5.1.1.1.3.2.3.3.1.1.1.3.1.5.1.3.1.5 0 .6z"}))}const ForwardRef$3=reactExports.forwardRef(RorIcon);function TwitterIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{d:"M22.7 5.4c-.8.3-1.7.6-2.5.7.9-.5 1.6-1.4 1.9-2.4-.9.5-1.8.9-2.8 1.1-1.7-1.8-4.4-1.9-6.2-.2-1.1 1.1-1.6 2.7-1.3 4.2-3.5-.3-6.8-1.9-9-4.7-.4.7-.6 1.5-.6 2.2 0 1.5.7 2.8 1.9 3.6-.7 0-1.4-.2-2-.5v.1c0 2.1 1.5 3.9 3.5 4.3-.6.2-1.3.2-2 .1.6 1.8 2.2 3 4.1 3-1.6 1.2-3.5 1.9-5.4 1.9-.3 0-.7 0-1-.1 2 1.3 4.3 2 6.7 2 8.1 0 12.5-6.7 12.5-12.5v-.6c.8-.6 1.6-1.3 2.2-2.2"}))}const ForwardRef$2=reactExports.forwardRef(TwitterIcon);function WebsiteIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{d:"M11.9 21.6c-5.3 0-9.7-4.3-9.7-9.7 0-5.3 4.3-9.7 9.7-9.7h.1c2.6 0 5 1 6.8 2.8 1.8 1.8 2.8 4.2 2.8 6.8 0 2.6-1 5-2.8 6.9-1.8 1.9-4.2 2.9-6.9 2.9.1 0 .1 0 0 0zm0-18.2c-4.7 0-8.5 3.9-8.4 8.5 0 4.7 3.8 8.4 8.5 8.4 2.3 0 4.4-.9 6-2.5 1.6-1.6 2.5-3.7 2.5-6s-.9-4.4-2.5-6c-1.6-1.5-3.8-2.4-6.1-2.4zM11 21.2c-.5-.4-1-.9-1.4-1.4-.8-1-1.5-2.1-2-3.2-.8.3-1.7.8-2.4 1.3l-.5-.7c.8-.6 1.7-1.1 2.6-1.4-.4-1.1-.6-2.2-.6-3.4H2.9v-.8h3.8v-.5c.1-1.1.3-2.1.6-3-.9-.4-1.8-.9-2.6-1.5l.5-.6c.8.6 1.6 1 2.5 1.3C8.3 5.6 9.5 4 11 2.7l.5.6C10.1 4.5 9.1 6 8.4 7.6c1 .3 2.1.5 3.1.5V2.8h.8v5.3c1.1 0 2.1-.2 3.1-.5-.4-1-1-2-1.8-2.9-.4-.5-.9-.9-1.3-1.3l.5-.6c.5.4 1 .9 1.4 1.4.8 1 1.5 2 1.9 3.2 1-.4 1.9-.9 2.6-1.4l.5.7c-.8.6-1.7 1.1-2.7 1.4.4 1.1.6 2.2.6 3.4H21v.8h-3.8v.6c-.1.9-.3 1.9-.6 2.8.9.4 1.8.8 2.6 1.4l-.5.7c-.8-.5-1.6-1-2.4-1.3-.7 1.8-1.9 3.4-3.4 4.7l-.5-.6c1.4-1.2 2.5-2.7 3.1-4.3-1-.3-2.1-.5-3.2-.6V21h-.8v-5.3c-1.1 0-2.1.2-3.2.6.4 1.1 1 2.1 1.8 3 .4.5.9.9 1.3 1.3l-.4.6zm-3.5-8.9c0 1.1.2 2.1.5 3.1 1.1-.4 2.3-.6 3.4-.6v-2.5H7.5zm4.9 2.5c1.2 0 2.3.2 3.4.6.3-.8.4-1.7.5-2.5v-.6h-4v2.5zm0-3.3h4c0-1.1-.2-2.1-.6-3.1-1.1.4-2.3.6-3.4.6v2.5zm-4.9 0h4V9c-1.2 0-2.3-.2-3.4-.6-.3.8-.5 1.7-.5 2.6 0 .2 0 .3-.1.5z"}))}const ForwardRef$1=reactExports.forwardRef(WebsiteIcon);function XIcon({title:t,titleId:e,...n},i){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":e},n),t?reactExports.createElement("title",{id:e},t):null,reactExports.createElement("path",{d:"M10.9 2.1c-3.5.4-6.6 2.7-8 5.9-.9 2.1-1.1 4.5-.4 6.7.8 2.8 2.9 5.1 5.6 6.3 2.1.9 4.5 1.1 6.7.4 3.3-1 6-3.7 6.8-7.1 1.3-5.3-2-10.8-7.3-12.1-1.2-.1-2.2-.2-3.4-.1zm.2 6.2c.8 1.1 1.6 2.1 1.6 2.1s.9-.9 1.9-2.1l1.9-2.1h1.1l-.2.2c-.1.1-1 1.1-1.9 2.1-.9 1-1.8 2-2 2.2l-.4.3 2.5 3.3c1.4 1.8 2.5 3.3 2.5 3.4 0 0-.8.1-1.8.1h-1.8l-1.7-2.3c-1.2-1.6-1.7-2.2-1.8-2.2 0 0-1 1-2.1 2.3l-2 2.2h-1s1.1-1.2 2.3-2.6c1.3-1.4 2.3-2.5 2.4-2.6 0 0-1-1.5-2.3-3.2C7 7.7 5.9 6.3 5.9 6.2h3.6l1.6 2.1z"}),reactExports.createElement("path",{d:"M7.5 7.1s1.7 2.3 3.7 5l3.6 4.9h.8c.5 0 .8 0 .8-.1 0 0-1.7-2.3-3.7-5L9.1 7h-.8c-.7 0-.8 0-.8.1z"}))}const ForwardRef=reactExports.forwardRef(XIcon),fetcher$4=(...t)=>fetch(...t).then(e=>{if(e.status===200)return e.json();throw new Error(`Content returned with status ${e.status}.`)});function RORChild({ror:t}){var e,n,i,o;const{data:u,error:l}=useSWR(`https://api.ror.org/organizations/${t}`,fetcher$4);if(!u&&!l)return jsxRuntimeExports.jsx("div",{className:"hover-document article w-[500px] sm:max-w-[500px] animate-pulse",children:"Loading..."});if(l)return jsxRuntimeExports.jsxs("div",{className:"hover-document article w-[500px] sm:max-w-[500px]",children:["Error loading ",t,"."]});const c=(e=u?.country)===null||e===void 0?void 0:e.country_name,f=(n=u?.links.map(g=>({url:g})))!==null&&n!==void 0?n:[],d=u.wikipedia_url?[{text:"Wikipedia",url:u.wikipedia_url}]:[],m=[...f,...d];return jsxRuntimeExports.jsxs("div",{className:"hover-document article w-[500px] sm:max-w-[500px] p-3",children:[jsxRuntimeExports.jsxs("p",{className:"flex items-stretch gap-2 text-sm font-light",children:[jsxRuntimeExports.jsx(ForwardRef$3,{width:"1.25rem",height:"1.25rem",className:"self-center inline-block"}),jsxRuntimeExports.jsx("a",{href:`https://ror.org/${t}`,className:"self-center",target:"_blank",rel:"noopener noreferrer",children:jsxRuntimeExports.jsx("code",{children:t})})]}),jsxRuntimeExports.jsx("div",{className:"mb-4 text-xl font-bold",children:u.name}),jsxRuntimeExports.jsxs("dl",{className:"mb-4 text-sm",children:[jsxRuntimeExports.jsx("dt",{children:"Country"}),jsxRuntimeExports.jsx("dd",{children:c}),m.length>0&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("dt",{children:"Links"}),m.map(({url:g,text:v})=>jsxRuntimeExports.jsx("dd",{children:jsxRuntimeExports.jsx("a",{href:g,children:v||g})}))]}),((i=u.acronyms)===null||i===void 0?void 0:i.length)>0&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("dt",{children:"Acronyms"}),u.acronyms.map(g=>jsxRuntimeExports.jsx("dd",{children:g}))]}),((o=u.labels)===null||o===void 0?void 0:o.length)>0&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("dt",{children:"Labels"}),u.labels.map(({label:g,iso639:v})=>jsxRuntimeExports.jsxs("dd",{children:[g,v?` (${v})`:null]}))]})]})]})}function RORLink({node:t,ror:e,className:n}){return jsxRuntimeExports.jsx(HoverPopover,{card:jsxRuntimeExports.jsx(RORChild,{ror:e}),children:jsxRuntimeExports.jsx("a",{href:`https://ror.org/${e}`,target:"_blank",rel:"noopener noreferrer",className:n,children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})})}const fetcher$3=(...t)=>fetch(...t).then(e=>{if(e.status===200)return e.text();throw new Error(`Content returned with status ${e.status}.`)}),jsonFetcher=(...t)=>fetch(...t).then(e=>{if(e.status===200)return e.json();throw new Error(`Content returned with status ${e.status}.`)});function extToLanguage(t){var e;return(e={ts:"typescript",js:"javascript",py:"python",md:"markdown",yml:"yaml"}[t??""])!==null&&e!==void 0?e:t}function useLoadWhenOpen(t,e,n){const[i,o]=reactExports.useState(),{data:u,error:l}=useSWR(t?e:null,n);return reactExports.useEffect(()=>{o(i||u)},[i,e,u]),{data:i,error:l}}function GithubFilePreview({url:t,raw:e,org:n,repo:i,file:o,from:u,to:l,open:c,className:f}){const{data:d,error:m}=useLoadWhenOpen(c,e,fetcher$3);let g=d;if(m)return jsxRuntimeExports.jsxs("div",{className:"hover-document article w-[500px] sm:max-w-[500px]",children:[jsxRuntimeExports.jsx("a",{href:t,className:classNames("block text-inherit hover:text-inherit",f),target:"_blank",rel:"noreferrer",children:jsxRuntimeExports.jsx(ForwardRef$z,{width:"1rem",height:"1rem",className:"float-right"})}),jsxRuntimeExports.jsxs("div",{className:"mt-2",children:['Error loading "',o,'" from GitHub.']})]});const v=extToLanguage(o?.split(".").pop());let y=1,w=[];const T=5;g&&u&&l?(y=u,g=g?.split(`
`).slice(u-1,l).join(`
`)):g&&u?(y=u+1-T,w=[u],g=g?.split(`
`).slice(Math.max(0,u-T),u+T).join(`
`)):g=g?.split(`
`).slice(0,10).join(`
`);const P=g?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(CodeBlock,{value:g,lang:v,filename:o,showLineNumbers:!0,startingLineNumber:y,emphasizeLines:w,showCopy:!1})}):null;return jsxRuntimeExports.jsx(LinkCard$1,{loading:!g,url:t,title:`GitHub - ${n}/${i}`,description:P,className:"hover-document article max-w-[80vw]"})}function useWhiteTextColor(t){const e=t.charAt(0)==="#"?t.substring(1,7):t,n=parseInt(e.substring(0,2),16),i=parseInt(e.substring(2,4),16),o=parseInt(e.substring(4,6),16);return n*.299+i*.587+o*.114<=186}function GithubIssuePreview({url:t,org:e,repo:n,issue_number:i,open:o,className:u}){var l,c;const{data:f,error:d}=useLoadWhenOpen(o,`https://api.github.com/repos/${e}/${n}/issues/${i}`,jsonFetcher);if(!f&&!d)return jsxRuntimeExports.jsx("div",{className:"hover-document article w-[500px] sm:max-w-[500px] animate-pulse",children:"Loading..."});const m=f;if(d)return jsxRuntimeExports.jsxs("div",{className:"hover-document article",children:[jsxRuntimeExports.jsx("a",{href:t,className:classNames("block text-inherit hover:text-inherit",u),target:"_blank",rel:"noreferrer",children:jsxRuntimeExports.jsx(ForwardRef$z,{className:"float-right w-4 h-4"})}),jsxRuntimeExports.jsx("div",{className:"mt-2",children:"Error loading from GitHub."})]});const g=new Date(m.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return jsxRuntimeExports.jsxs("div",{className:"hover-document article w-[400px] sm:max-w-[400px] p-3",children:[jsxRuntimeExports.jsxs("div",{className:"text-xs font-light",children:[e,"/",n]}),jsxRuntimeExports.jsxs("div",{className:"my-2 text-lg font-bold dark:text-white",children:[m.state==="open"&&jsxRuntimeExports.jsx(ForwardRef$n,{width:"1.5rem",height:"1.5rem",className:"inline-block mr-2 text-green-700 -translate-y-px dark:text-green-500"}),m.state==="closed"&&jsxRuntimeExports.jsx(ForwardRef$y,{width:"1.5rem",height:"1.5rem",className:"inline-block mr-2 text-purple-700 -translate-y-px dark:text-purple-500"}),m.title]}),jsxRuntimeExports.jsxs("div",{className:"text-xs font-light",children:["#",i," opened on ",g," by"," ",jsxRuntimeExports.jsxs("span",{className:"font-normal",children:["@",m.user.login]})]}),jsxRuntimeExports.jsx("p",{className:"text-md max-h-[4rem] overflow-hidden",children:m.body}),((l=m.labels)===null||l===void 0?void 0:l.length)>0&&jsxRuntimeExports.jsx("div",{className:"flex flex-wrap",children:(c=m.labels)===null||c===void 0?void 0:c.map(v=>jsxRuntimeExports.jsx("span",{className:classNames("mr-1 text-xs inline-flex items-center px-2 py-0.5 rounded-full",{"text-white":useWhiteTextColor(v.color)}),style:{backgroundColor:`#${v.color}`},children:v.name},v.id))})]})}function GithubLink({kind:t,children:e,url:n,org:i,repo:o,raw:u,file:l,from:c,to:f,issue_number:d,className:m}){return jsxRuntimeExports.jsx(HoverPopover,{card:({load:g})=>{if(t==="file")return jsxRuntimeExports.jsx(GithubFilePreview,{url:n,raw:u,file:l,from:c,to:f,open:g,org:i,repo:o,className:m});if(t==="issue")return jsxRuntimeExports.jsx(GithubIssuePreview,{url:n,open:g,org:i,issue_number:d,repo:o,className:m})},children:jsxRuntimeExports.jsx("a",{href:n,className:classNames("italic",m),target:"_blank",rel:"noreferrer",children:e})})}function getPageInfo(t,e){var n;if(!t)return;const[i,o]=e.replace(/^\//,"").split("/"),u=(n=t.projects)===null||n===void 0?void 0:n.find(l=>l.slug===i||!l.slug&&!o);if(u)return u.pages.find(l=>l.slug===(o||i))}function InternalLink({url:t,children:e,className:n}){const i=useLinkProvider(),o=useSiteManifest(),u=getPageInfo(o,t),l=useBaseurl(),c=!u||!u.description&&!u.thumbnail;return!u||c?jsxRuntimeExports.jsx(i,{to:withBaseurl(t,l),prefetch:"intent",className:n,children:e}):jsxRuntimeExports.jsx(HoverPopover,{card:jsxRuntimeExports.jsx(LinkCard$1,{internal:!0,url:t,title:u.title,description:u.description,thumbnail:u.thumbnailOptimized||u.thumbnail}),children:jsxRuntimeExports.jsx(i,{to:withBaseurl(t,l),prefetch:"intent",className:n,children:e})})}const WikiLinkRenderer=({node:t,className:e})=>{var n,i;return jsxRuntimeExports.jsx(WikiLink,{url:t.url,page:(n=t.data)===null||n===void 0?void 0:n.page,wiki:(i=t.data)===null||i===void 0?void 0:i.wiki,className:classNames(t.class,e),children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})},GithubLinkRenderer=({node:t,className:e})=>{var n,i,o,u,l,c,f,d;return jsxRuntimeExports.jsx(GithubLink,{kind:(n=t.data)===null||n===void 0?void 0:n.kind,url:t.url,org:(i=t.data)===null||i===void 0?void 0:i.org,repo:(o=t.data)===null||o===void 0?void 0:o.repo,raw:(u=t.data)===null||u===void 0?void 0:u.raw,file:(l=t.data)===null||l===void 0?void 0:l.file,from:(c=t.data)===null||c===void 0?void 0:c.from,to:(f=t.data)===null||f===void 0?void 0:f.to,issue_number:(d=t.data)===null||d===void 0?void 0:d.issue_number,className:classNames(t.class,e),children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})},RRIDLinkRenderer=({node:t,className:e})=>{var n;return jsxRuntimeExports.jsx(RRIDLink,{rrid:(n=t.data)===null||n===void 0?void 0:n.rrid,className:classNames(t.class,e)})},RORLinkRenderer=({node:t,className:e})=>{var n;return jsxRuntimeExports.jsx(RORLink,{node:t,ror:(n=t.data)===null||n===void 0?void 0:n.ror,className:classNames(t.class,e)})},SimpleLink=({node:t,className:e})=>{var n;return((n=t.internal)!==null&&n!==void 0?n:!1)?jsxRuntimeExports.jsx(InternalLink,{url:t.url,className:classNames(t.class,e),children:jsxRuntimeExports.jsx(MyST,{ast:t.children})}):jsxRuntimeExports.jsx("a",{target:"_blank",rel:"noreferrer",href:t.url,className:classNames(t.class,e),children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})},linkBlock=({node:t,className:e})=>{var n;const i="self-center transition-transform flex-none ml-3",o="flex-1 p-4 my-5 block border font-normal hover:border-blue-500 dark:hover:border-blue-400 no-underline hover:text-blue-600 dark:hover:text-blue-400 text-gray-600 dark:text-gray-100 border-gray-200 dark:border-gray-500 rounded shadow-sm hover:shadow-lg dark:shadow-neutral-700",u=(n=t.internal)!==null&&n!==void 0?n:!1,l=jsxRuntimeExports.jsxs("div",{className:"flex h-full align-middle",children:[jsxRuntimeExports.jsxs("div",{className:"flex-grow",children:[t.title,jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})]}),u&&jsxRuntimeExports.jsx(ForwardRef$q,{width:"1.5rem",height:"1.5rem",className:i}),!u&&jsxRuntimeExports.jsx(ForwardRef$z,{width:"1.5rem",height:"1.5rem",className:i})]});return u?jsxRuntimeExports.jsx("a",{href:t.url,className:classNames(o,e),children:l}):jsxRuntimeExports.jsx("a",{className:classNames(o,e),target:"_blank",rel:"noopener noreferrer",href:t.url,children:l})},LINK_RENDERERS$1={link:{base:SimpleLink,"link[protocol=github]":GithubLinkRenderer,"link[protocol=wiki]":WikiLinkRenderer,"link[protocol=rrid]":RRIDLinkRenderer,"link[protocol=ror]":RORLinkRenderer,"link[kind=github]":GithubLinkRenderer,"link[kind=wiki]":WikiLinkRenderer,"link[kind=rrid]":RRIDLinkRenderer,"link[kind=ror]":RORLinkRenderer},linkBlock},Heading=({node:t,className:e})=>{const{enumerator:n,depth:i,key:o,identifier:u,html_id:l}=t,c=l||u||o,f=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[n&&jsxRuntimeExports.jsx("span",{className:"mr-3 select-none",children:n}),jsxRuntimeExports.jsx("span",{className:"heading-text",children:jsxRuntimeExports.jsx(MyST,{ast:t.children})}),jsxRuntimeExports.jsx(HashLink,{id:c,kind:"Section",className:"font-normal",hover:!0,hideInPopup:!0,noWidth:!0})]});return reactExports.createElement(`h${i}`,{id:c,className:classNames("relative group",e)},f)},HEADING_RENDERERS={heading:Heading},handle$8=zwitch("operator",{unknown:unknownOperator$3,invalid:exists$3,handlers:{"=":exact$3,"^=":begins$3,"$=":ends$3,"*=":containsString$3,"~=":containsArray$3}});function attribute$4(t,e){let n=-1;for(;++n<t.attrs.length;)if(!handle$8(t.attrs[n],e))return!1;return!0}function exists$3(t,e){return e[t.name]!==null&&e[t.name]!==void 0}function exact$3(t,e){return exists$3(t,e)&&String(e[t.name])===t.value}function containsArray$3(t,e){const n=e[t.name];return n==null?!1:Array.isArray(n)&&n.includes(t.value)?!0:String(n)===t.value}function begins$3(t,e){const n=e[t.name];return!!(t.value&&typeof n=="string"&&n.slice(0,t.value.length)===t.value)}function ends$3(t,e){const n=e[t.name];return!!(t.value&&typeof n=="string"&&n.slice(-t.value.length)===t.value)}function containsString$3(t,e){const n=e[t.name];return!!(t.value&&typeof n=="string"&&n.includes(t.value))}function unknownOperator$3(t){throw new Error("Unknown operator `"+t.operator+"`")}function name$3(t,e){return t.tagName==="*"||t.tagName===e.type}function parent$4(t){return Array.isArray(t.children)}const nthCheck$4=nthCheck$8.default||nthCheck$8,handle$7=zwitch("name",{unknown:unknownPseudo$4,invalid:invalidPseudo$4,handlers:{any:matches$3,blank:empty$e,empty:empty$e,"first-child":firstChild$4,"first-of-type":firstOfType$4,has:has$6,"last-child":lastChild$4,"last-of-type":lastOfType$4,matches:matches$3,not:not$4,"nth-child":nthChild$4,"nth-last-child":nthLastChild$4,"nth-of-type":nthOfType$4,"nth-last-of-type":nthLastOfType$4,"only-child":onlyChild$4,"only-of-type":onlyOfType$4,root:root$8,scope:scope$4}});pseudo$4.needsIndex=["any","first-child","first-of-type","last-child","last-of-type","matches","not","nth-child","nth-last-child","nth-of-type","nth-last-of-type","only-child","only-of-type"];function pseudo$4(t,e,n,i,o){const u=t.pseudos;let l=-1;for(;++l<u.length;)if(!handle$7(u[l],e,n,i,o))return!1;return!0}function empty$e(t,e){return parent$4(e)?e.children.length===0:!("value"in e)}function firstChild$4(t,e,n,i,o){return assertDeep$4(o,t),o.nodeIndex===0}function firstOfType$4(t,e,n,i,o){return assertDeep$4(o,t),o.typeIndex===0}function has$6(t,e,n,i,o){const u={type:"root",children:parent$4(e)?e.children:[]},l={...o,found:!1,shallow:!1,one:!0,scopeNodes:[e],results:[],rootQuery:queryToSelectors$3(t.value)};return walk$4(l,u),l.results.length>0}function lastChild$4(t,e,n,i,o){return assertDeep$4(o,t),typeof o.nodeCount=="number"&&o.nodeIndex===o.nodeCount-1}function lastOfType$4(t,e,n,i,o){return assertDeep$4(o,t),typeof o.typeCount=="number"&&o.typeIndex===o.typeCount-1}function matches$3(t,e,n,i,o){const u={...o,found:!1,shallow:!1,one:!0,scopeNodes:[e],results:[],rootQuery:queryToSelectors$3(t.value)};return walk$4(u,e),u.results[0]===e}function not$4(t,e,n,i,o){return!matches$3(t,e,n,i,o)}function nthChild$4(t,e,n,i,o){const u=getCachedNthCheck$4(t);return assertDeep$4(o,t),typeof o.nodeIndex=="number"&&u(o.nodeIndex)}function nthLastChild$4(t,e,n,i,o){const u=getCachedNthCheck$4(t);return assertDeep$4(o,t),typeof o.nodeCount=="number"&&typeof o.nodeIndex=="number"&&u(o.nodeCount-o.nodeIndex-1)}function nthLastOfType$4(t,e,n,i,o){const u=getCachedNthCheck$4(t);return assertDeep$4(o,t),typeof o.typeIndex=="number"&&typeof o.typeCount=="number"&&u(o.typeCount-1-o.typeIndex)}function nthOfType$4(t,e,n,i,o){const u=getCachedNthCheck$4(t);return assertDeep$4(o,t),typeof o.typeIndex=="number"&&u(o.typeIndex)}function onlyChild$4(t,e,n,i,o){return assertDeep$4(o,t),o.nodeCount===1}function onlyOfType$4(t,e,n,i,o){return assertDeep$4(o,t),o.typeCount===1}function root$8(t,e,n,i){return e&&!i}function scope$4(t,e,n,i,o){return e&&o.scopeNodes.includes(e)}function invalidPseudo$4(){throw new Error("Invalid pseudo-selector")}function unknownPseudo$4(t){throw t.name?new Error("Unknown pseudo-selector `"+t.name+"`"):new Error("Unexpected pseudo-element or empty pseudo-class")}function assertDeep$4(t,e){if(t.shallow)throw new Error("Cannot use `:"+e.name+"` without parent")}function getCachedNthCheck$4(t){let e=t._cachedFn;return e||(e=nthCheck$4(t.value),t._cachedFn=e),e}function test$4(t,e,n,i,o){if(t.id)throw new Error("Invalid selector: id");if(t.classNames)throw new Error("Invalid selector: class");return!!(e&&(!t.tagName||name$3(t,e))&&(!t.attrs||attribute$4(t,e))&&(!t.pseudos||pseudo$4(t,e,n,i,o)))}const empty$d=[];function queryToSelectors$3(t){return t===null?{type:"selectors",selectors:[]}:t.type==="ruleSet"?{type:"selectors",selectors:[t]}:t}function walk$4(t,e){e&&one$7(t,[],e,void 0,void 0)}function one$7(t,e,n,i,o){let u={directChild:void 0,descendant:void 0,adjacentSibling:void 0,generalSibling:void 0};return u=applySelectors$4(t,combine$4(e,t.rootQuery.selectors),n,i,o),parent$4(n)&&!t.shallow&&!(t.one&&t.found)&&all$9(t,u,n),u}function all$9(t,e,n){const i=combine$4(e.descendant,e.directChild);let o,u=-1;const l={count:0,types:new Map},c={count:0,types:new Map};for(;++u<n.children.length;)count$4(l,n.children[u]);for(u=-1;++u<n.children.length;){const d=n.children[u].type.toUpperCase();t.nodeIndex=c.count,t.typeIndex=c.types.get(d)||0,t.nodeCount=l.count,t.typeCount=l.types.get(d);const m=combine$4(i,o),g=one$7(t,m,n.children[u],u,n);if(o=combine$4(g.generalSibling,g.adjacentSibling),t.one&&t.found)break;count$4(c,n.children[u])}}function applySelectors$4(t,e,n,i,o){const u={directChild:void 0,descendant:void 0,adjacentSibling:void 0,generalSibling:void 0};let l=-1;for(;++l<e.length;){const c=e[l];if(t.one&&t.found)break;if(t.shallow&&c.rule.rule)throw new Error("Expected selector without nesting");if(test$4(c.rule,n,i,o,t)){const f=c.rule.rule;if(f){const d={type:"ruleSet",rule:f},m=f.nestingOperator==="+"?"adjacentSibling":f.nestingOperator==="~"?"generalSibling":f.nestingOperator===">"?"directChild":"descendant";add$4(u,m,d)}else t.found=!0,t.results.includes(n)||t.results.push(n)}c.rule.nestingOperator===null?add$4(u,"descendant",c):c.rule.nestingOperator==="~"&&add$4(u,"generalSibling",c)}return u}function combine$4(t,e){return t&&e&&t.length>0&&e.length>0?[...t,...e]:t&&t.length>0?t:e&&e.length>0?e:empty$d}function add$4(t,e,n){const i=t[e];i?i.push(n):t[e]=[n]}function count$4(t,e){const n=e.type.toUpperCase(),i=(t.types.get(n)||0)+1;t.count++,t.types.set(n,i)}var lib$d={},parserContext$3={},utils$3={},hasRequiredUtils$3;function requireUtils$3(){return hasRequiredUtils$3||(hasRequiredUtils$3=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(l){return l>="a"&&l<="z"||l>="A"&&l<="Z"||l==="-"||l==="_"}t.isIdentStart=e;function n(l){return l>="a"&&l<="z"||l>="A"&&l<="Z"||l>="0"&&l<="9"||l==="-"||l==="_"}t.isIdent=n;function i(l){return l>="a"&&l<="f"||l>="A"&&l<="F"||l>="0"&&l<="9"}t.isHex=i;function o(l){for(var c=l.length,f="",d=0;d<c;){var m=l.charAt(d);if(t.identSpecialChars[m])f+="\\"+m;else if(m==="_"||m==="-"||m>="A"&&m<="Z"||m>="a"&&m<="z"||d!==0&&m>="0"&&m<="9")f+=m;else{var g=m.charCodeAt(0);if((g&63488)===55296){var v=l.charCodeAt(d++);if((g&64512)!==55296||(v&64512)!==56320)throw Error("UCS-2(decode): illegal sequence");g=((g&1023)<<10)+(v&1023)+65536}f+="\\"+g.toString(16)+" "}d++}return f}t.escapeIdentifier=o;function u(l){for(var c=l.length,f="",d=0,m;d<c;){var g=l.charAt(d);g==='"'?g='\\"':g==="\\"?g="\\\\":(m=t.strReplacementsRev[g])!==void 0&&(g=m),f+=g,d++}return'"'+f+'"'}t.escapeStr=u,t.identSpecialChars={"!":!0,'"':!0,"#":!0,$:!0,"%":!0,"&":!0,"'":!0,"(":!0,")":!0,"*":!0,"+":!0,",":!0,".":!0,"/":!0,";":!0,"<":!0,"=":!0,">":!0,"?":!0,"@":!0,"[":!0,"\\":!0,"]":!0,"^":!0,"`":!0,"{":!0,"|":!0,"}":!0,"~":!0},t.strReplacementsRev={"\n":"\\n","\r":"\\r","	":"\\t","\f":"\\f","\v":"\\v"},t.singleQuoteEscapeChars={n:`
`,r:"\r",t:"	",f:"\f","\\":"\\","'":"'"},t.doubleQuotesEscapeChars={n:`
`,r:"\r",t:"	",f:"\f","\\":"\\",'"':'"'}})(utils$3)),utils$3}var hasRequiredParserContext$3;function requireParserContext$3(){if(hasRequiredParserContext$3)return parserContext$3;hasRequiredParserContext$3=1,Object.defineProperty(parserContext$3,"__esModule",{value:!0});var t=requireUtils$3();function e(n,i,o,u,l,c){var f=n.length,d="";function m(A,D){var k="";for(i++,d=n.charAt(i);i<f;){if(d===A)return i++,k;if(d==="\\"){i++,d=n.charAt(i);var j=void 0;if(d===A)k+=A;else if((j=D[d])!==void 0)k+=j;else if(t.isHex(d)){var B=d;for(i++,d=n.charAt(i);t.isHex(d);)B+=d,i++,d=n.charAt(i);d===" "&&(i++,d=n.charAt(i)),k+=String.fromCharCode(parseInt(B,16));continue}else k+=d}else k+=d;i++,d=n.charAt(i)}return k}function g(){var A="";for(d=n.charAt(i);i<f;){if(t.isIdent(d))A+=d;else if(d==="\\"){if(i++,i>=f)throw Error("Expected symbol but end of file reached.");if(d=n.charAt(i),t.identSpecialChars[d])A+=d;else if(t.isHex(d)){var D=d;for(i++,d=n.charAt(i);t.isHex(d);)D+=d,i++,d=n.charAt(i);d===" "&&(i++,d=n.charAt(i)),A+=String.fromCharCode(parseInt(D,16));continue}else A+=d}else return A;i++,d=n.charAt(i)}return A}function v(){d=n.charAt(i);for(var A=!1;d===" "||d==="	"||d===`
`||d==="\r"||d==="\f";)A=!0,i++,d=n.charAt(i);return A}function y(){var A=w();if(i<f)throw Error('Rule expected but "'+n.charAt(i)+'" found.');return A}function w(){var A=T();if(!A)return null;var D=A;for(d=n.charAt(i);d===",";){if(i++,v(),D.type!=="selectors"&&(D={type:"selectors",selectors:[A]}),A=T(),!A)throw Error('Rule expected after ",".');D.selectors.push(A)}return D}function T(){v();var A={type:"ruleSet"},D=P();if(!D)return null;for(var k=A;D&&(D.type="rule",k.rule=D,k=D,v(),d=n.charAt(i),!(i>=f||d===","||d===")"));)if(l[d]){var j=d;if(i++,v(),D=P(),!D)throw Error('Rule expected after "'+j+'".');D.nestingOperator=j}else D=P(),D&&(D.nestingOperator=null);return A}function P(){for(var A=null;i<f;)if(d=n.charAt(i),d==="*")i++,(A=A||{}).tagName="*";else if(t.isIdentStart(d)||d==="\\")(A=A||{}).tagName=g();else if(d===".")i++,A=A||{},(A.classNames=A.classNames||[]).push(g());else if(d==="#")i++,(A=A||{}).id=g();else if(d==="["){i++,v();var D={name:g()};if(v(),d==="]")i++;else{var k="";if(u[d]&&(k=d,i++,d=n.charAt(i)),i>=f)throw Error('Expected "=" but end of file reached.');if(d!=="=")throw Error('Expected "=" but "'+d+'" found.');D.operator=k+"=",i++,v();var j="";if(D.valueType="string",d==='"')j=m('"',t.doubleQuotesEscapeChars);else if(d==="'")j=m("'",t.singleQuoteEscapeChars);else if(c&&d==="$")i++,j=g(),D.valueType="substitute";else{for(;i<f&&d!=="]";)j+=d,i++,d=n.charAt(i);j=j.trim()}if(v(),i>=f)throw Error('Expected "]" but end of file reached.');if(d!=="]")throw Error('Expected "]" but "'+d+'" found.');i++,D.value=j}A=A||{},(A.attrs=A.attrs||[]).push(D)}else if(d===":"){i++;var B=g(),Z={name:B};if(d==="("){i++;var R="";if(v(),o[B]==="selector")Z.valueType="selector",R=w();else{if(Z.valueType=o[B]||"string",d==='"')R=m('"',t.doubleQuotesEscapeChars);else if(d==="'")R=m("'",t.singleQuoteEscapeChars);else if(c&&d==="$")i++,R=g(),Z.valueType="substitute";else{for(;i<f&&d!==")";)R+=d,i++,d=n.charAt(i);R=R.trim()}v()}if(i>=f)throw Error('Expected ")" but end of file reached.');if(d!==")")throw Error('Expected ")" but "'+d+'" found.');i++,Z.value=R}A=A||{},(A.pseudos=A.pseudos||[]).push(Z)}else break;return A}return y()}return parserContext$3.parseCssSelector=e,parserContext$3}var render$3={},hasRequiredRender$3;function requireRender$3(){if(hasRequiredRender$3)return render$3;hasRequiredRender$3=1,Object.defineProperty(render$3,"__esModule",{value:!0});var t=requireUtils$3();function e(n){var i="";switch(n.type){case"ruleSet":for(var o=n.rule,u=[];o;)o.nestingOperator&&u.push(o.nestingOperator),u.push(e(o)),o=o.rule;i=u.join(" ");break;case"selectors":i=n.selectors.map(e).join(", ");break;case"rule":n.tagName&&(n.tagName==="*"?i="*":i=t.escapeIdentifier(n.tagName)),n.id&&(i+="#"+t.escapeIdentifier(n.id)),n.classNames&&(i+=n.classNames.map(function(l){return"."+t.escapeIdentifier(l)}).join("")),n.attrs&&(i+=n.attrs.map(function(l){return"operator"in l?l.valueType==="substitute"?"["+t.escapeIdentifier(l.name)+l.operator+"$"+l.value+"]":"["+t.escapeIdentifier(l.name)+l.operator+t.escapeStr(l.value)+"]":"["+t.escapeIdentifier(l.name)+"]"}).join("")),n.pseudos&&(i+=n.pseudos.map(function(l){return l.valueType?l.valueType==="selector"?":"+t.escapeIdentifier(l.name)+"("+e(l.value)+")":l.valueType==="substitute"?":"+t.escapeIdentifier(l.name)+"($"+l.value+")":l.valueType==="numeric"?":"+t.escapeIdentifier(l.name)+"("+l.value+")":":"+t.escapeIdentifier(l.name)+"("+t.escapeIdentifier(l.value)+")":":"+t.escapeIdentifier(l.name)}).join(""));break;default:throw Error('Unknown entity type: "'+n.type+'".')}return i}return render$3.renderEntity=e,render$3}var hasRequiredLib$d;function requireLib$d(){if(hasRequiredLib$d)return lib$d;hasRequiredLib$d=1,Object.defineProperty(lib$d,"__esModule",{value:!0});var t=requireParserContext$3(),e=requireRender$3(),n=(function(){function i(){this.pseudos={},this.attrEqualityMods={},this.ruleNestingOperators={},this.substitutesEnabled=!1}return i.prototype.registerSelectorPseudos=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];this.pseudos[f]="selector"}return this},i.prototype.unregisterSelectorPseudos=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];delete this.pseudos[f]}return this},i.prototype.registerNumericPseudos=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];this.pseudos[f]="numeric"}return this},i.prototype.unregisterNumericPseudos=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];delete this.pseudos[f]}return this},i.prototype.registerNestingOperators=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];this.ruleNestingOperators[f]=!0}return this},i.prototype.unregisterNestingOperators=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];delete this.ruleNestingOperators[f]}return this},i.prototype.registerAttrEqualityMods=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];this.attrEqualityMods[f]=!0}return this},i.prototype.unregisterAttrEqualityMods=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];delete this.attrEqualityMods[f]}return this},i.prototype.enableSubstitutes=function(){return this.substitutesEnabled=!0,this},i.prototype.disableSubstitutes=function(){return this.substitutesEnabled=!1,this},i.prototype.parse=function(o){return t.parseCssSelector(o,0,this.pseudos,this.attrEqualityMods,this.ruleNestingOperators,this.substitutesEnabled)},i.prototype.render=function(o){return e.renderEntity(o).trim()},i})();return lib$d.CssSelectorParser=n,lib$d}var libExports$7=requireLib$d();const parser$4=new libExports$7.CssSelectorParser;parser$4.registerAttrEqualityMods("~","^","$","*");parser$4.registerSelectorPseudos("any","matches","not","has");parser$4.registerNestingOperators(">","+","~");function parse$8(t){if(typeof t!="string")throw new TypeError("Expected `string` as selector, not `"+t+"`");return parser$4.parse(t)}function selectAll$2(t,e){const n=createState$5(t,e);return walk$4(n,e||void 0),n.results}function createState$5(t,e){return{rootQuery:queryToSelectors$3(parse$8(t)),results:[],scopeNodes:e?parent$4(e)&&(e.type==="RootNode"||e.type==="root")?e.children:[e]:[],one:!1,shallow:!1,found:!1,typeIndex:void 0,nodeIndex:void 0,typeCount:void 0,nodeCount:void 0}}const VERSION$3=1,DATE$3=new Date(Date.parse("2025-02-07")),DESCRIPTION$2="\nFootnotes have dropped backwards compatibility with `number`,\ninstead using `enumerator` on both the `FootnoteReference` and `FootnoteDefinition` nodes.\n\nPrevious versions of the AST had both of these defined.\nThe `enumerator` property is used in all other numberings of figures, sections, equations, etc.\n";function maybeParseInt(t){if(t===void 0)return;const e=Number.parseInt(t,10);if(String(e)===t)return e}function upgrade$2(t){const{version:e,mdast:n}=t;if(!(e===0||e===null))throw new Error("Version must be 0");return selectAll$2("footnoteDefinition,footnoteReference",n).forEach(o=>{o.number!==void 0&&o.enumerator==null&&(o.enumerator=String(o.number)),delete o.number}),t}function downgrade$2(t){const{version:e,mdast:n}=t;if(e!==VERSION$3)throw new Error(`Version must be ${VERSION$3}`);return selectAll$2("footnoteDefinition,footnoteReference",n).forEach(o=>{const u=maybeParseInt(o.enumerator);u!==void 0&&(o.number=u),o.number!==void 0&&o.enumerator==null&&(o.enumerator=String(o.number)),delete o.enumerator}),t}const v1=Object.freeze(Object.defineProperty({__proto__:null,DATE:DATE$3,DESCRIPTION:DESCRIPTION$2,VERSION:VERSION$3,downgrade:downgrade$2,upgrade:upgrade$2},Symbol.toStringTag,{value:"Module"})),VERSION$2=2,DATE$2=new Date(Date.parse("2025-03-05")),DESCRIPTION$1="\nBlocks could previously define class on `block.data?.class`, this has been explicitly moved to `block.class`.\n";function upgrade$1(t){const{version:e,mdast:n}=t;if(e!==1)throw new Error("Version must be 1");return selectAll$2("block",n).forEach(o=>{typeof o.data?.class=="string"&&(o.class=`${o.class??""} ${o.data.class}`.trim(),delete o.data.class,Object.keys(o.data).length===0&&delete o.data)}),t}function downgrade$1(t){const{version:e}=t;if(e!==VERSION$2)throw new Error(`Version must be ${VERSION$2}`);return t}const v2=Object.freeze(Object.defineProperty({__proto__:null,DATE:DATE$2,DESCRIPTION:DESCRIPTION$1,VERSION:VERSION$2,downgrade:downgrade$1,upgrade:upgrade$1},Symbol.toStringTag,{value:"Module"})),VERSION$1=3,DATE$1=new Date(Date.parse("2025-12-03")),DESCRIPTION='\n`Output` nodes previously could not represent AST trees for each output. \nNow, the `Outputs` node has `Output` children with a 1:1 correspondence to `IOutput` bundles.\n\nExisting identifiers for the `Output` / `Outputs` nodes are not modified, as these are considered "content".\n';function upgrade(t){const{version:e,mdast:n}=t;if(e!==2)throw new Error("Version must be 2");return selectAll$2("output",n).forEach(o=>{const u=o.data?.length??0,l=o.children??[],c=l.filter(m=>!!m.placeholder),f=u===1?l.filter(m=>!m.placeholder):[],d=(o.data??[]).map(m=>{const g={type:"output",jupyter_data:m,children:f.slice()};return f.length=0,g});d.push(...c),o.data!==void 0&&delete o.data,o.type="outputs",o.children=d}),t}function downgrade(t){const{version:e,mdast:n}=t;if(e!==VERSION$1)throw new Error(`Version must be ${VERSION$1}`);return selectAll$2("outputs",n).forEach(o=>{const u=o.children.filter(d=>d.type==="output").map(d=>d.jupyter_data).filter(d=>!!d),c=o.children.filter(d=>!d.placeholder).map(d=>d.children??[]).flat(),f=o.children.filter(d=>!!d.placeholder);c.push(...f),o.data=u,o.type="output",o.children=c}),t}const v3=Object.freeze(Object.defineProperty({__proto__:null,DATE:DATE$1,DESCRIPTION,VERSION:VERSION$1,downgrade,upgrade},Symbol.toStringTag,{value:"Module"})),MIGRATIONS=[v1,v2,v3];async function migrate(t,e){e?.to===void 0&&e?.log?.warn("Calling migrate with no version is deprecated and will be removed in future.");const n=e?.to??MIGRATIONS.length;let i=t.version||0;if(i===n)return e?.log?.debug(`Already at version ${n}. No migration needed.`),t;for(;i<n;){if(i>=MIGRATIONS.length)throw new Error(`No migration available to go from version ${i} to ${i+1}`);const o=MIGRATIONS[i];e?.log?.debug(`Upgrading from v${i} to v${i+1}...`),await o.upgrade(t),i++,t.version=i}for(;i>n;){if(i-1>=MIGRATIONS.length)throw new Error(`No migration available to go from version ${i} down to ${i-1}`);const o=MIGRATIONS[i-1];e?.log?.debug(`Downgrading from v${i} to v${i-1}...`),await o.downgrade(t),i--,t.version=i}return t}var __awaiter$1=function(t,e,n,i){function o(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function c(m){try{d(i.next(m))}catch(g){l(g)}}function f(m){try{d(i.throw(m))}catch(g){l(g)}}function d(m){m.done?u(m.value):o(m.value).then(c,f)}d((i=i.apply(t,e||[])).next())})};const fetcher$2=(...t)=>fetch(...t).then(e=>__awaiter$1(void 0,void 0,void 0,function*(){var n;if(e.status===200){let i=yield e.json();try{i=yield migrate(Object.assign({version:(n=i.version)!==null&&n!==void 0?n:0},i),{to:MYST_SPEC_VERSION})}catch(o){console.error(`Error migrating content for ${t[0]} (aborted):`,o)}return i}throw new Error(`Content returned with status ${e.status}.`)}));function XrefChildren({load:t,identifier:e}){const n=useSelectNodes({load:t,identifier:e});return n?n.loading?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:"Loading..."}):n.error?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:"Error loading remote page."}):!n.nodes||n.nodes.length===0?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(InlineError$1,{value:e||"No Label",message:"Cross Reference Not Found"})}):jsxRuntimeExports.jsx(MyST,{ast:n?.nodes}):null}function createRemoteBaseUrl(t,e){return e&&t?.startsWith(e)?t:`${e||""}${t||""}`}function createExternalUrl({url:t,remoteBaseUrl:e,dataUrl:n,baseurl:i}){return e||n?.startsWith("http")?n?createRemoteBaseUrl(n,e):(console.error("Expected external URL to provide a dataUrl"),null):n?withBaseurl(n,i):`${withBaseurl(t,i)}.json`}function useFetchMdast({remote:t,url:e,remoteBaseUrl:n,dataUrl:i}){const o=useBaseurl(),u=createExternalUrl({url:e,remoteBaseUrl:n,dataUrl:i,baseurl:o});return useSWR(t?u:null,fetcher$2)}function useSelectNodes({load:t,identifier:e}){var n;const i=useReferences(),o=useFrontmatter(),{remote:u,url:l,remoteBaseUrl:c,dataUrl:f}=useXRefState();if(!t)return;const{data:d,error:m}=useFetchMdast({remote:u,url:l,remoteBaseUrl:c,dataUrl:f}),g=d?d.mdast:i?.article,v=d?(n=d.frontmatter)===null||n===void 0?void 0:n.parts:o?.parts;let y=[],w;return[{mdast:g},...Object.values(v??{})].forEach(({mdast:T})=>{if(!T||y.length>0)return;const P=selectMdastNodes(T,e,3);y=P.nodes,w=P.htmlId}),{htmlId:w,nodes:y,loading:u&&!d,error:u&&m}}function CrossReferenceHover({url:t,dataUrl:e,remote:n,remoteBaseUrl:i,children:o,identifier:u,className:l,htmlId:c=""}){var f;const d=useLinkProvider(),m=useBaseurl(),g=useXRefState(),v=i??g.remoteBaseUrl,y=!!v||g.remote||n,w=g.remote?t??g.url:t,T=g.remote?e??g.dataUrl:e,P=!!v||((f=w?.startsWith("http"))!==null&&f!==void 0?f:!1),A=k=>{if(k.preventDefault(),!c)return;const j=document.getElementById(c);scrollToElement(j,{htmlId:c})},D=(l??"").split(" ").includes("button");return jsxRuntimeExports.jsx(HoverPopover,{card:({load:k})=>jsxRuntimeExports.jsx(XRefProvider,{remote:y,remoteBaseUrl:v,url:w,dataUrl:T,children:jsxRuntimeExports.jsxs("div",{className:"hover-document article w-[500px] sm:max-w-[500px] overflow-auto",children:[v&&jsxRuntimeExports.jsxs("div",{className:"px-3 py-1 w-full text-xs bg-gray-50 border-b",children:[jsxRuntimeExports.jsx("strong",{className:"text-gray-700",children:"Source: "}),jsxRuntimeExports.jsx("a",{className:classNames("text-gray-700",l),href:`${createRemoteBaseUrl(w,v)}${c?`#${c}`:""}`,target:"_blank",children:v})]}),jsxRuntimeExports.jsx("div",{className:"px-3",children:jsxRuntimeExports.jsx(XrefChildren,{load:k,identifier:u})})]})}),children:jsxRuntimeExports.jsxs("span",{children:[y&&P&&jsxRuntimeExports.jsx("a",{href:`${createRemoteBaseUrl(w,v)}${c?`#${c}`:""}`,target:"_blank",className:classNames({"hover-link":!D},l),children:o}),y&&!P&&jsxRuntimeExports.jsx(d,{to:`${withBaseurl(w,m)}${c?`#${c}`:""}`,prefetch:"intent",className:classNames({"hover-link":!D},l),children:o}),!y&&jsxRuntimeExports.jsx("a",{href:`#${c}`,onClick:A,className:classNames({"hover-link":!D},l),children:o})]})})}const CrossReferenceNode=({node:t,className:e})=>{if(!t.children)return jsxRuntimeExports.jsx(InlineError$1,{value:t.label||t.identifier||"No Label",message:"Cross Reference Not Found",className:e});const{remote:n,url:i,dataUrl:o,remoteBaseUrl:u,identifier:l,html_id:c,class:f}=t;return jsxRuntimeExports.jsxs(CrossReferenceHover,{identifier:l,htmlId:c,remote:n,url:i,dataUrl:o,remoteBaseUrl:u,className:classNames(f,e),children:[t.prefix&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[t.prefix," "]}),jsxRuntimeExports.jsx(MyST,{ast:t.children}),t.suffix||null]})},CROSS_REFERENCE_RENDERERS={crossReference:CrossReferenceNode},TabSetContext=reactExports.createContext(void 0);function TabSetStateProvider({active:t,children:e}){return jsxRuntimeExports.jsx(TabSetContext.Provider,{value:t,children:e})}function TabSet({tabs:t,children:e,className:n}){var i,o,u,l;const[c,f]=(i=useTabSet())!==null&&i!==void 0?i:[],[d,m]=reactExports.useState((u=(o=t.find(v=>v.selected))===null||o===void 0?void 0:o.id)!==null&&u!==void 0?u:(l=t?.[0])===null||l===void 0?void 0:l.id),g=v=>{m(v.id),v.sync&&(f||console.error("TabStateProvider is not defined, synced tabs will not work."),f?.(v.sync))};return reactExports.useEffect(()=>{if(!c)return;const v=t.find(y=>y.sync===c);v&&m(v?.id)},[t,c,m]),jsxRuntimeExports.jsx(TabSetStateProvider,{active:d,children:jsxRuntimeExports.jsxs("div",{className:classNames("myst-tab-set my-5",n),children:[jsxRuntimeExports.jsx("div",{className:"myst-tab-set-row flex flex-row flex-wrap overflow-x-auto border-b border-b-gray-100",children:t.map(v=>jsxRuntimeExports.jsx("div",{className:classNames("myst-tab-item-header flex-none px-3 py-1 font-semibold cursor-pointer",{"myst-tab-item-header-active text-blue-600 border-b-2 border-b-blue-600 dark:border-b-white dark:text-white":d===v.id,"myst-tab-item-header-inactive text-gray-500 dark:text-gray-300 hover:text-gray-700 dark:hover:text-gray-100":d!==v.id}),onClick:()=>g(v),children:v.title},v.id))}),jsxRuntimeExports.jsx("div",{className:"myst-tab-item-body flex shadow",children:jsxRuntimeExports.jsx("div",{className:"myst-tab-item-text w-full px-6",children:e})})]})})}function TabItem({id:t,children:e,className:n}){const o=reactExports.useContext(TabSetContext)===t;return jsxRuntimeExports.jsx("div",{className:classNames({hidden:!o},n),children:e})}const TabSetRenderer=({node:t,className:e})=>{const n=selectAll$3("tabItem",t).map(i=>({title:i.title,id:i.key,sync:i.sync}));return jsxRuntimeExports.jsx(TabSet,{tabs:n,className:e,children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})},TabItemRenderer=({node:t,className:e})=>jsxRuntimeExports.jsx(TabItem,{id:t.key,className:e,children:jsxRuntimeExports.jsx(MyST,{ast:t.children})}),TAB_RENDERERS={tabSet:TabSetRenderer,tabItem:TabItemRenderer};function parseFormula(t){return[...t??""].reduce((e,n)=>{const i=e.pop(),o=n==="+"?"":n==="-"?"":n,u=o.match(/[0-9]/),l=i?.match(/[0-9]/);return u?l?[...e,`${i??""}${o}`]:[...e,i,o].filter(c=>!!c):l?[...e,i,o].filter(c=>!!c):[...e,`${i??""}${o}`]},[])}const ChemicalFormula=({node:t,className:e})=>{const n=parseFormula(t.value);return jsxRuntimeExports.jsx("span",{className:classNames("text-inherit",e),"aria-roledescription":"Chemical Formula",children:n.map((i,o)=>i.match(/[0-9]/)?jsxRuntimeExports.jsx("sub",{children:i},o):jsxRuntimeExports.jsx("span",{children:i},o))})},CHEM_RENDERERS={chemicalFormula:ChemicalFormula},SIUnits=({node:t,className:e})=>{var n;const i=t.number==null?"":" ",o=`${(n=t.number)!==null&&n!==void 0?n:""}${i}${t.alt}`;return jsxRuntimeExports.jsx("span",{title:o,className:e,children:t.value})},SI_RENDERERS={si:SIUnits},EXT_RENDERERS=Object.assign(Object.assign({},CHEM_RENDERERS),SI_RENDERERS),InlineExpression=({node:t,className:e})=>{var n,i,o;return t.result?((n=t.result)===null||n===void 0?void 0:n.status)!=="ok"?jsxRuntimeExports.jsx(InlineError$1,{value:`${(i=t.result)===null||i===void 0?void 0:i.ename}: ${(o=t.result)===null||o===void 0?void 0:o.evalue}`,className:e}):jsxRuntimeExports.jsx(Tooltip,{title:jsxRuntimeExports.jsx("code",{children:t.value}),children:jsxRuntimeExports.jsx("span",{className:classNames("border-b border-dotted cursor-help",e),children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})}):jsxRuntimeExports.jsx(InlineError$1,{value:`Unexecuted inline expression for: ${t.value}`,className:e})},INLINE_EXPRESSION_RENDERERS={inlineExpression:InlineExpression};var ProofKind;(function(t){t.proof="proof",t.axiom="axiom",t.lemma="lemma",t.definition="definition",t.criterion="criterion",t.remark="remark",t.conjecture="conjecture",t.corollary="corollary",t.algorithm="algorithm",t.example="example",t.property="property",t.observation="observation",t.proposition="proposition",t.assumption="assumption",t.theorem="theorem"})(ProofKind||(ProofKind={}));function getClasses$2(t){var e;const n=(e=t?.split(" ").map(i=>i.trim().toLowerCase()).filter(i=>!!i))!==null&&e!==void 0?e:[];return[...new Set(n)]}function capitalize(t){return t?t.slice(0,1).toUpperCase()+t.slice(1):""}function getColor$1({kind:t}){switch(t){case ProofKind.proof:case ProofKind.algorithm:return{color:"gray"};case ProofKind.lemma:case ProofKind.conjecture:case ProofKind.theorem:return{color:"purple"};case ProofKind.observation:case ProofKind.assumption:case ProofKind.axiom:return{color:"yellow"};case ProofKind.criterion:case ProofKind.corollary:case ProofKind.property:return{color:"orange"};case ProofKind.example:return{color:"green"};case ProofKind.remark:return{color:"red"};case ProofKind.definition:case ProofKind.proposition:default:return{color:"blue"}}}const WrapperElement$1=({id:t,dropdown:e,className:n,children:i})=>e?jsxRuntimeExports.jsx("details",{id:t,className:n,children:i}):jsxRuntimeExports.jsx("aside",{id:t,className:n,children:i}),HeaderElement$1=({dropdown:t,className:e,children:n})=>t?jsxRuntimeExports.jsx("summary",{className:e,children:n}):jsxRuntimeExports.jsx("div",{className:e,children:n}),iconClass$1="inline-block pl-2 mr-2 self-center flex-none";function Proof({title:t,kind:e,color:n,dropdown:i,children:o,identifier:u,enumerator:l,className:c}){return jsxRuntimeExports.jsxs(WrapperElement$1,{id:u,dropdown:i,className:classNames("myst-proof my-5 shadow dark:bg-stone-800 overflow-hidden","dark:border-l-4 border-slate-400",{"dark:border-gray-500/60":!n||n==="gray","dark:border-blue-500/60":n==="blue","dark:border-green-500/60":n==="green","dark:border-amber-500/70":n==="yellow","dark:border-orange-500/60":n==="orange","dark:border-red-500/60":n==="red","dark:border-purple-500/60":n==="purple"},c),children:[jsxRuntimeExports.jsxs(HeaderElement$1,{dropdown:i,className:classNames("myst-proof-header m-0 font-medium py-2 flex min-w-0","text-md","border-y dark:border-y-0",{"bg-gray-50/80 dark:bg-slate-900":!n||n==="gray","bg-blue-50/80 dark:bg-slate-900":n==="blue","bg-green-50/80 dark:bg-slate-900":n==="green","bg-amber-50/80 dark:bg-slate-900":n==="yellow","bg-orange-50/80 dark:bg-slate-900":n==="orange","bg-red-50/80 dark:bg-slate-900":n==="red","bg-purple-50/80 dark:bg-slate-900":n==="purple","cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]":i}),children:[jsxRuntimeExports.jsxs("div",{className:classNames("myst-proof-title text-neutral-900 dark:text-white grow self-center overflow-hidden break-words","ml-4"),children:[jsxRuntimeExports.jsxs(HashLink,{id:u,kind:capitalize(e),children:[capitalize(e)," ",l]})," ",t&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["(",t,")"]})]}),i&&jsxRuntimeExports.jsx("div",{className:"self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200",children:jsxRuntimeExports.jsx(ForwardRef$l,{width:"1.5rem",height:"1.5rem",className:classNames(iconClass$1,"transition-transform details-toggle")})})]}),jsxRuntimeExports.jsx("div",{className:classNames("myst-proof-body px-4",{"details-body":i}),children:o})]})}const ProofRenderer=({node:t,className:e})=>{const[n,...i]=t.children,o=getClasses$2(t.class),{color:u}=getColor$1({kind:t.kind}),l=o.includes("dropdown"),c=n?.type==="admonitionTitle";return jsxRuntimeExports.jsx(Proof,{identifier:t.html_id,title:c?jsxRuntimeExports.jsx(MyST,{ast:[n]}):void 0,kind:t.kind,enumerator:t.enumerator,color:u,dropdown:l,className:e,children:c?jsxRuntimeExports.jsx(MyST,{ast:i}):jsxRuntimeExports.jsx(MyST,{ast:t.children})})},PROOF_RENDERERS={proof:ProofRenderer};function getClasses$1(t){var e;const n=(e=t?.split(" ").map(i=>i.trim().toLowerCase()).filter(i=>!!i))!==null&&e!==void 0?e:[];return[...new Set(n)]}function getColor({classes:t=[]},e="blue"){return t.includes("gray")?{color:"gray"}:t.includes("purple")?{color:"purple"}:t.includes("yellow")?{color:"yellow"}:t.includes("orange")?{color:"orange"}:t.includes("green")?{color:"green"}:t.includes("red")?{color:"red"}:t.includes("blue")?{color:"blue"}:{color:e}}const WrapperElement=({id:t,dropdown:e,className:n,children:i})=>e?jsxRuntimeExports.jsx("details",{id:t,className:n,children:i}):jsxRuntimeExports.jsx("aside",{id:t,className:n,children:i}),HeaderElement=({dropdown:t,className:e,children:n})=>t?jsxRuntimeExports.jsx("summary",{className:e,children:n}):jsxRuntimeExports.jsx("div",{className:e,children:n}),iconClass="inline-block pl-2 mr-2 self-center flex-none";function Callout({title:t,color:e,dropdown:n,children:i,identifier:o,className:u,Icon:l}){return jsxRuntimeExports.jsxs(WrapperElement,{id:o,dropdown:n,className:classNames("myst-exercise my-5 shadow dark:bg-stone-800 overflow-hidden","dark:border-l-4 border-slate-400",{"dark:border-gray-500/60":!e||e==="gray","dark:border-blue-500/60":e==="blue","dark:border-green-500/60":e==="green","dark:border-amber-500/70":e==="yellow","dark:border-orange-500/60":e==="orange","dark:border-red-500/60":e==="red","dark:border-purple-500/60":e==="purple"},u),children:[jsxRuntimeExports.jsxs(HeaderElement,{dropdown:n,className:classNames("myst-exercise-header m-0 font-medium py-2 flex min-w-0","text-md","border-y dark:border-y-0",{"bg-gray-50/80 dark:bg-slate-900":!e||e==="gray","bg-blue-50/80 dark:bg-slate-900":e==="blue","bg-green-50/80 dark:bg-slate-900":e==="green","bg-amber-50/80 dark:bg-slate-900":e==="yellow","bg-orange-50/80 dark:bg-slate-900":e==="orange","bg-red-50/80 dark:bg-slate-900":e==="red","bg-purple-50/80 dark:bg-slate-900":e==="purple","cursor-pointer hover:shadow-[inset_0_0_0px_30px_#00000003] dark:hover:shadow-[inset_0_0_0px_30px_#FFFFFF03]":n}),children:[l&&jsxRuntimeExports.jsx(l,{width:"2rem",height:"2rem",className:classNames("myst-exercise-header-icon inline-block pl-2 mr-2 self-center flex-none",classNames({"text-gray-600":!e||e==="gray","text-blue-600":e==="blue","text-green-600":e==="green","text-amber-600":e==="yellow","text-orange-600":e==="orange","text-red-600":e==="red","text-purple-600":e==="purple"}))}),jsxRuntimeExports.jsx("div",{className:classNames("myst-exercise-title text-neutral-900 dark:text-white grow self-center overflow-hidden break-words",{"ml-4":!l},"group"),children:t}),n&&jsxRuntimeExports.jsx("div",{className:"self-center flex-none text-sm font-thin text-neutral-700 dark:text-neutral-200",children:jsxRuntimeExports.jsx(ForwardRef$l,{width:"1.5rem",height:"1.5rem",className:classNames(iconClass,"transition-transform details-toggle")})})]}),jsxRuntimeExports.jsx("div",{className:classNames("myst-exercise-body px-4",{"details-body":n}),children:i})]})}const ExerciseRenderer=({node:t,className:e})=>{var n,i,o;if(t.hidden)return null;const[u,...l]=(n=t.children)!==null&&n!==void 0?n:[],c=getClasses$1(t.class),{color:f}=getColor({classes:c}),d=c.includes("dropdown"),m=((o=(i=t.children)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.type)==="admonitionTitle",g=t.html_id,v=t.enumerator,y=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(HashLink,{id:g,kind:"Exercise",children:[t.gate==="start"&&"Start of ",t.gate==="end"&&"End of ","Exercise",v!=null&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[" ",v]})]}),m&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[" ","(",jsxRuntimeExports.jsx(MyST,{ast:[u]}),")"]})]});return jsxRuntimeExports.jsx(Callout,{identifier:g,title:y,color:f,dropdown:d,className:e,children:m?jsxRuntimeExports.jsx(MyST,{ast:l}):jsxRuntimeExports.jsx(MyST,{ast:t.children})})},SolutionRenderer=({node:t,className:e})=>{var n,i,o;if(t.hidden)return null;const[u,...l]=(n=t.children)!==null&&n!==void 0?n:[],c=getClasses$1(t.class),{color:f}=getColor({classes:c},"gray"),d=c.includes("dropdown"),m=((o=(i=t.children)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.type)==="admonitionTitle",g=t.html_id,v=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[t.gate==="start"&&"Start of ",t.gate==="end"&&"End of ",jsxRuntimeExports.jsx(MyST,{ast:[u]}),jsxRuntimeExports.jsx(HashLink,{id:g,kind:"Solution",hover:!0,hideInPopup:!0,children:" #"})]});return jsxRuntimeExports.jsx(Callout,{identifier:g,title:m?v:void 0,color:f,dropdown:d,className:e,children:m?jsxRuntimeExports.jsx(MyST,{ast:l}):jsxRuntimeExports.jsx(MyST,{ast:t.children})})},EXERCISE_RENDERERS={exercise:ExerciseRenderer,solution:SolutionRenderer};function getAsideClass(t){return t==="topic"?{container:"myst-aside myst-aside-${kind} my-5 shadow dark:bg-stone-800 overflow-hidden dark:border-l-4 border-slate-400",title:"myst-aside-title m-0 font-medium py-2 px-4 flex min-w-0 text-md border-y dark:border-y-0 bg-gray-50/80 dark:bg-slate-900",body:"myst-aside-body px-4"}:{container:"myst-aside myst-aside-${kind} text-sm lg:h-0 col-margin-right",title:"myst-aside-title text-base font-semibold",body:"myst-aside-body"}}const AsideRenderer=({node:t,className:e})=>{const[n,...i]=t.children,o=getAsideClass(t.kind);return n.type!=="admonitionTitle"?jsxRuntimeExports.jsx("aside",{className:classNames(o.container,t.class,e),children:jsxRuntimeExports.jsx(MyST,{ast:t.children})}):jsxRuntimeExports.jsxs("aside",{className:classNames(o.container,t.class,e),children:[jsxRuntimeExports.jsx("div",{className:o.title,children:jsxRuntimeExports.jsx(MyST,{ast:n})}),jsxRuntimeExports.jsx("div",{className:o.body,children:jsxRuntimeExports.jsx(MyST,{ast:i})})]})},ASIDE_RENDERERS={aside:AsideRenderer},UnknownDirective=({node:t,className:e})=>{const n=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("code",{children:t.name})," - Unknown Directive"]});return jsxRuntimeExports.jsx(Callout,{title:n,color:"red",dropdown:!0,Icon:ForwardRef$t,className:e,children:jsxRuntimeExports.jsx("pre",{children:t.value})})},UNKNOWN_MYST_RENDERERS={mystDirective:UnknownDirective},DEFAULT_RENDERERS=mergeRenderers([BASIC_RENDERERS,UNKNOWN_MYST_RENDERERS,BLOCK_RENDERERS,IMAGE_RENDERERS$1,LINK_RENDERERS$1,CODE_RENDERERS,MATH_RENDERERS,CITE_RENDERERS$1,TAB_RENDERERS,IFRAME_RENDERERS,FOOTNOTE_RENDERERS,ADMONITION_RENDERERS$1,REACTIVE_RENDERERS,HEADING_RENDERERS,CROSS_REFERENCE_RENDERERS,DROPDOWN_RENDERERS,CARD_RENDERERS,GRID_RENDERERS,INLINE_EXPRESSION_RENDERERS,EXT_RENDERERS,PROOF_RENDERERS,EXERCISE_RENDERERS,ASIDE_RENDERERS],!0);var emptyMulticharIndex={},emptyRegularIndex={};function extendIndex(t,e){for(var n=e,i=0;i<t.length;i++){var o=i===t.length-1,u=t.charAt(i),l=n[u]||(n[u]={chars:{}});o&&(l.self=t),n=l.chars}}function createMulticharIndex(t){if(t.length===0)return emptyMulticharIndex;for(var e={},n=0,i=t;n<i.length;n++){var o=i[n];extendIndex(o,e)}return e}function createRegularIndex(t){if(t.length===0)return emptyRegularIndex;for(var e={},n=0,i=t;n<i.length;n++){var o=i[n];e[o]=!0}return e}var emptyPseudoSignatures={},defaultPseudoSignature={type:"String",optional:!0};function calculatePseudoSignature(t){var e={type:"NoArgument",optional:!1};function n(l){if(e.type&&e.type!==l&&e.type!=="NoArgument")throw new Error('Conflicting pseudo-class argument type: "'.concat(e.type,'" vs "').concat(l,'".'));e.type=l}for(var i=0,o=t;i<o.length;i++){var u=o[i];u==="NoArgument"&&(e.optional=!0),u==="Formula"&&n("Formula"),u==="FormulaOfSelector"&&(n("Formula"),e.ofSelector=!0),u==="String"&&n("String"),u==="Selector"&&n("Selector")}return e}function inverseCategories(t){for(var e={},n=0,i=Object.keys(t);n<i.length;n++){var o=i[n],u=t[o];if(u)for(var l=0,c=u;l<c.length;l++){var f=c[l];(e[f]||(e[f]=[])).push(o)}}return e}function calculatePseudoSignatures(t){for(var e=inverseCategories(t),n={},i=0,o=Object.keys(e);i<o.length;i++){var u=o[i],l=e[u];l&&(n[u]=calculatePseudoSignature(l))}return n}var __assign$2=function(){return __assign$2=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},__assign$2.apply(this,arguments)},emptyXmlOptions={},defaultXmlOptions={wildcard:!0};function getXmlOptions(t){return t?typeof t=="boolean"?defaultXmlOptions:t:emptyXmlOptions}function withMigration(t,e){return function(n,i){return e(t(n),t(i))}}function withNoNegative(t){return function(e,n){var i=t(e,n);if(!i)throw new Error("Syntax definition cannot be null or undefined.");return i}}function withPositive(t,e){return function(n,i){return i===!0?t:e(n===!0?t:n,i)}}function mergeSection(t){return function(e,n){if(!n||!e)return n;if(typeof n!="object"||n===null)throw new Error("Unexpected syntax definition extension type: ".concat(n,"."));for(var i=__assign$2({},e),o=0,u=Object.entries(n);o<u.length;o++){var l=u[o],c=l[0],f=l[1];if(c!=="latest"){var d=t[c];i[c]=d(e[c],f)}}return i}}function replaceValueIfSpecified(t,e){return e!==void 0?e:t}function concatArray(t,e){return e?t?t.concat(e):e:t}function mergeDefinitions(t,e){if(!e)return t;if(!t)return e;for(var n=__assign$2({},t),i=0,o=Object.entries(e);i<o.length;i++){var u=o[i],l=u[0],c=u[1];if(!c){delete n[l];continue}var f=t[l];if(!f){n[l]=c;continue}n[l]=f.concat(c)}return n}var extendSyntaxDefinition=withNoNegative(mergeSection({baseSyntax:replaceValueIfSpecified,modules:concatArray,tag:withPositive(defaultXmlOptions,mergeSection({wildcard:replaceValueIfSpecified})),ids:replaceValueIfSpecified,classNames:replaceValueIfSpecified,nestingSelector:replaceValueIfSpecified,namespace:withPositive(defaultXmlOptions,mergeSection({wildcard:replaceValueIfSpecified})),combinators:concatArray,attributes:mergeSection({operators:concatArray,caseSensitivityModifiers:concatArray,unknownCaseSensitivityModifiers:replaceValueIfSpecified}),pseudoClasses:mergeSection({unknown:replaceValueIfSpecified,definitions:mergeDefinitions}),pseudoElements:mergeSection({unknown:replaceValueIfSpecified,notation:replaceValueIfSpecified,definitions:withMigration(function(t){return Array.isArray(t)?{NoArgument:t}:t},mergeDefinitions)})})),css1SyntaxDefinition={tag:{},ids:!0,classNames:!0,combinators:[],pseudoElements:{unknown:"reject",notation:"singleColon",definitions:["first-letter","first-line"]},pseudoClasses:{unknown:"reject",definitions:{NoArgument:["link","visited","active"]}}},css2SyntaxDefinition=extendSyntaxDefinition(css1SyntaxDefinition,{tag:{wildcard:!0},combinators:[">","+"],attributes:{unknownCaseSensitivityModifiers:"reject",operators:["=","~=","|="]},pseudoElements:{definitions:["before","after"]},pseudoClasses:{unknown:"reject",definitions:{NoArgument:["hover","focus","first-child"],String:["lang"]}}}),selectors3SyntaxDefinition=extendSyntaxDefinition(css2SyntaxDefinition,{namespace:{wildcard:!0},combinators:["~"],attributes:{operators:["^=","$=","*="]},pseudoElements:{notation:"both"},pseudoClasses:{definitions:{NoArgument:["root","last-child","first-of-type","last-of-type","only-child","only-of-type","empty","target","enabled","disabled","checked","indeterminate"],Formula:["nth-child","nth-last-child","nth-of-type","nth-last-of-type"],Selector:["not"]}}}),selectors4SyntaxDefinition=extendSyntaxDefinition(selectors3SyntaxDefinition,{combinators:["||"],attributes:{caseSensitivityModifiers:["i","I","s","S"]},pseudoClasses:{definitions:{NoArgument:["any-link","local-link","target-within","scope","current","past","future","focus-within","focus-visible","read-write","read-only","placeholder-shown","default","valid","invalid","in-range","out-of-range","required","optional","blank","user-invalid","playing","paused","autofill","modal","fullscreen","picture-in-picture","defined","loading","popover-open"],Formula:["nth-col","nth-last-col"],String:["dir"],FormulaOfSelector:["nth-child","nth-last-child"],Selector:["current","is","where","has","state"]}},pseudoElements:{definitions:{NoArgument:["marker"]}}}),cssModules={"css-position-1":{latest:!1,pseudoClasses:{definitions:{NoArgument:["static","relative","absolute"]}}},"css-position-2":{latest:!1,pseudoClasses:{definitions:{NoArgument:["static","relative","absolute","fixed"]}}},"css-position-3":{latest:!1,pseudoClasses:{definitions:{NoArgument:["sticky","fixed","absolute","relative","static"]}}},"css-position-4":{latest:!0,pseudoClasses:{definitions:{NoArgument:["sticky","fixed","absolute","relative","static","initial"]}}},"css-scoping-1":{latest:!0,pseudoClasses:{definitions:{NoArgument:["host","host-context"],Selector:["host","host-context"]}},pseudoElements:{definitions:{Selector:["slotted"]}}},"css-pseudo-4":{latest:!0,pseudoElements:{definitions:{NoArgument:["marker","selection","target-text","search-text","spelling-error","grammar-error","backdrop","file-selector-button","prefix","postfix","placeholder","details-content"],String:["highlight"]}}},"css-shadow-parts-1":{latest:!0,pseudoElements:{definitions:{String:["part"]}}},"css-nesting-1":{latest:!0,nestingSelector:!0}},latestSyntaxDefinition=__assign$2(__assign$2({},selectors4SyntaxDefinition),{modules:Object.entries(cssModules).filter(function(t){var e=t[1].latest;return e}).map(function(t){var e=t[0];return e})}),progressiveSyntaxDefinition=extendSyntaxDefinition(latestSyntaxDefinition,{pseudoElements:{unknown:"accept"},pseudoClasses:{unknown:"accept"},attributes:{unknownCaseSensitivityModifiers:"accept"}}),cssSyntaxDefinitions={css1:css1SyntaxDefinition,css2:css2SyntaxDefinition,css3:selectors3SyntaxDefinition,"selectors-3":selectors3SyntaxDefinition,"selectors-4":selectors4SyntaxDefinition,latest:latestSyntaxDefinition,progressive:progressiveSyntaxDefinition};function buildPseudoLocationIndex(){for(var t={pseudoClasses:{},pseudoElements:{}},e=["css1","css2","css3","selectors-3","selectors-4"],n=0,i=e;n<i.length;n++){var o=i[n],u=cssSyntaxDefinitions[o];if(u.pseudoClasses&&typeof u.pseudoClasses=="object"){var l=u.pseudoClasses.definitions;if(l)for(var c=0,f=Object.entries(l);c<f.length;c++)for(var d=f[c],m=d[1],g=0,v=m;g<v.length;g++){var y=v[g];t.pseudoClasses[y]||(t.pseudoClasses[y]=[]),t.pseudoClasses[y].includes(o)||t.pseudoClasses[y].push(o)}}if(u.pseudoElements&&typeof u.pseudoElements=="object"){var l=u.pseudoElements.definitions;if(l)if(Array.isArray(l))for(var w=0,T=l;w<T.length;w++){var P=T[w];t.pseudoElements[P]||(t.pseudoElements[P]=[]),t.pseudoElements[P].includes(o)||t.pseudoElements[P].push(o)}else for(var A=0,D=Object.values(l);A<D.length;A++)for(var m=D[A],k=0,j=m;k<j.length;k++){var B=j[k];t.pseudoElements[B]||(t.pseudoElements[B]=[]),t.pseudoElements[B].includes(o)||t.pseudoElements[B].push(o)}}}for(var Z=0,R=Object.entries(cssModules);Z<R.length;Z++){var G=R[Z],F=G[0],K=G[1];if(K.pseudoClasses&&typeof K.pseudoClasses=="object"){var l=K.pseudoClasses.definitions;if(l)for(var Q=0,ie=Object.values(l);Q<ie.length;Q++)for(var m=ie[Q],te=0,oe=m;te<oe.length;te++){var le=oe[te];t.pseudoClasses[le]||(t.pseudoClasses[le]=[]),t.pseudoClasses[le].includes(F)||t.pseudoClasses[le].push(F)}}if(K.pseudoElements&&typeof K.pseudoElements=="object"){var l=K.pseudoElements.definitions;if(l)if(Array.isArray(l))for(var de=0,ge=l;de<ge.length;de++){var _e=ge[de];t.pseudoElements[_e]||(t.pseudoElements[_e]=[]),t.pseudoElements[_e].includes(F)||t.pseudoElements[_e].push(F)}else for(var we=0,Me=Object.values(l);we<Me.length;we++)for(var m=Me[we],xe=0,Re=m;xe<Re.length;xe++){var Se=Re[xe];t.pseudoElements[Se]||(t.pseudoElements[Se]=[]),t.pseudoElements[Se].includes(F)||t.pseudoElements[Se].push(F)}}}return t}var pseudoLocationIndex=buildPseudoLocationIndex();function isIdentStart(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"||t==="-"||t==="_"||t==="\\"||t>=""}function isIdent(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||t==="-"||t==="_"||t>=""}function isHex(t){return t>="a"&&t<="f"||t>="A"&&t<="F"||t>="0"&&t<="9"}var whitespaceChars={" ":!0,"	":!0,"\n":!0,"\r":!0,"\f":!0},quoteChars={'"':!0,"'":!0},digitsChars={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0},maxHexLength=6,errorPrefix="css-selector-parser parse error: ";function createParser(t){t===void 0&&(t={});var e=t.syntax,n=e===void 0?"latest":e,i=t.substitutes,o=t.strict,u=o===void 0?!0:o,l=t.modules,c=typeof n=="object"?n:cssSyntaxDefinitions[n];if(c.baseSyntax&&(c=extendSyntaxDefinition(cssSyntaxDefinitions[c.baseSyntax],c)),c.modules&&c.modules.length>0)for(var f=0,d=c.modules;f<d.length;f++){var m=d[f],g=cssModules[m];g&&(c=extendSyntaxDefinition(g,c))}if(l&&l.length>0)for(var v=0,y=l;v<y.length;v++){var w=y[v],g=cssModules[w];g&&(c=extendSyntaxDefinition(g,c))}var T=c.tag?[!0,!!getXmlOptions(c.tag).wildcard]:[!1,!1],P=T[0],A=T[1],D=!!c.ids,k=!!c.classNames,j=!!c.nestingSelector,B=!!c.namespace,Z=c.namespace&&(c.namespace===!0||c.namespace.wildcard===!0);if(B&&!P)throw new Error("".concat(errorPrefix,"Namespaces cannot be enabled while tags are disabled."));var R=!!i,G=c.combinators?createMulticharIndex(c.combinators):emptyMulticharIndex,F=c.attributes?[!0,c.attributes.operators?createMulticharIndex(c.attributes.operators):emptyMulticharIndex,c.attributes.caseSensitivityModifiers?createRegularIndex(c.attributes.caseSensitivityModifiers):emptyRegularIndex,c.attributes.unknownCaseSensitivityModifiers==="accept"]:[!1,emptyMulticharIndex,emptyRegularIndex,!1],K=F[0],Q=F[1],ie=F[2],te=F[3],oe=te||Object.keys(ie).length>0,le=c.pseudoClasses?[!0,c.pseudoClasses.definitions?calculatePseudoSignatures(c.pseudoClasses.definitions):emptyPseudoSignatures,c.pseudoClasses.unknown==="accept"]:[!1,emptyPseudoSignatures,!1],de=le[0],ge=le[1],_e=le[2],we=c.pseudoElements?[!0,c.pseudoElements.notation==="singleColon"||c.pseudoElements.notation==="both",!c.pseudoElements.notation||c.pseudoElements.notation==="doubleColon"||c.pseudoElements.notation==="both",c.pseudoElements.definitions?calculatePseudoSignatures(Array.isArray(c.pseudoElements.definitions)?{NoArgument:c.pseudoElements.definitions}:c.pseudoElements.definitions):emptyPseudoSignatures,c.pseudoElements.unknown==="accept"]:[!1,!1,!1,emptyPseudoSignatures,!1],Me=we[0],xe=we[1],Re=we[2],Se=we[3],Ge=we[4],Qe="",Je=Qe.length,Xe=0,gt="",Ct=function(ht){return gt===ht},ar=function(){return Ct("*")||isIdentStart(gt)},De=function(ht){Xe=ht,gt=Qe.charAt(Xe)},Oe=function(){Xe++,gt=Qe.charAt(Xe)},Be=function(){var ht=gt;return Xe++,gt=Qe.charAt(Xe),ht};function he(ht){var jt=Math.min(Je-1,Xe),tr=new Error("".concat(errorPrefix).concat(ht," Pos: ").concat(jt,"."));throw tr.position=jt,tr.name="ParserError",tr}function be(ht,jt){if(!ht)return he(jt)}var Ce=function(){be(Xe<Je,"Unexpected end of input.")},Le=function(){return Xe>=Je},Ue=function(ht){be(Xe<Je,'Expected "'.concat(ht,'" but end of input reached.')),be(gt===ht,'Expected "'.concat(ht,'" but "').concat(gt,'" found.')),Xe++,gt=Qe.charAt(Xe)};function We(ht){var jt=ot(ht,Xe);if(jt)return Xe+=jt.length,gt=Qe.charAt(Xe),jt}function ot(ht,jt){var tr=Qe.charAt(jt),It=ht[tr];if(It){var Ar=ot(It.chars,jt+1);if(Ar)return Ar;if(It.self)return It.self}}function Rt(){for(var ht=Be(),jt=1;isHex(gt)&&jt<maxHexLength;)ht+=Be(),jt++;return St(),String.fromCharCode(parseInt(ht,16))}function Et(ht){var jt="";for(Ue(ht);Xe<Je;){if(Ct(ht))return Oe(),jt;Ct("\\")?(Oe(),Ct(ht)?(jt+=ht,Oe()):gt===`
`||gt==="\f"?Oe():gt==="\r"?(Oe(),Ct(`
`)&&Oe()):isHex(gt)?jt+=Rt():(jt+=gt,Oe())):(jt+=gt,Oe())}return jt}function yt(){if(!isIdentStart(gt))return null;for(var ht="";Ct("-");)ht+=gt,Oe();for(ht==="-"&&!isIdent(gt)&&!Ct("\\")&&he("Identifiers cannot consist of a single hyphen."),u&&ht.length>=2&&he("Identifiers cannot start with two hyphens with strict mode on."),digitsChars[gt]&&he("Identifiers cannot start with hyphens followed by digits.");Xe<Je;)if(isIdent(gt))ht+=Be();else if(Ct("\\"))Oe(),Ce(),isHex(gt)?ht+=Rt():ht+=Be();else break;return ht}function Nt(){for(var ht="";Xe<Je&&!Ct(")");)if(Ct("\\")){if(Oe(),Le()&&!u)return(ht+"\\").trim();Ce(),isHex(gt)?ht+=Rt():ht+=Be()}else ht+=Be();return ht.trim()}function St(){if(gt===" "||gt==="	"||gt==="\f"||gt===`
`){Oe();return}gt==="\r"&&Oe(),gt===`
`&&Oe()}function kt(){for(;whitespaceChars[gt];)Oe()}function Pe(ht){ht===void 0&&(ht=!1),kt();for(var jt=[qt(ht)];Ct(",");)Oe(),kt(),jt.push(qt(ht));return{type:"Selector",rules:jt}}function ve(){Ue("["),kt();var ht;if(Ct("|")){be(B,"Namespaces are not enabled."),Oe();var jt=yt();be(jt,"Expected attribute name."),ht={type:"Attribute",name:jt,namespace:{type:"NoNamespace"}}}else if(Ct("*")){be(B,"Namespaces are not enabled."),be(Z,"Wildcard namespace is not enabled."),Oe(),Ue("|");var tr=yt();be(tr,"Expected attribute name."),ht={type:"Attribute",name:tr,namespace:{type:"WildcardNamespace"}}}else{var It=yt();if(be(It,"Expected attribute name."),ht={type:"Attribute",name:It},Ct("|")){var Ar=Xe;if(Oe(),isIdentStart(gt)){be(B,"Namespaces are not enabled.");var cr=yt();be(cr,"Expected attribute name."),ht={type:"Attribute",name:cr,namespace:{type:"NamespaceName",name:It}}}else De(Ar)}}if(be(ht.name,"Expected attribute name."),kt(),Le()&&!u)return ht;if(Ct("]"))Oe();else{if(ht.operator=We(Q),be(ht.operator,"Expected a valid attribute selector operator."),kt(),Ce(),quoteChars[gt])ht.value={type:"String",value:Et(gt)};else if(R&&Ct("$")){Oe();var yr=yt();be(yr,"Expected substitute name."),ht.value={type:"Substitution",name:yr}}else{var Wr=yt();be(Wr,"Expected attribute value."),ht.value={type:"String",value:Wr}}if(kt(),Le()&&!u)return ht;if(!Ct("]")){var Ht=yt();if(be(Ht,"Expected end of attribute selector."),ht.caseSensitivityModifier=Ht,be(oe,"Attribute case sensitivity modifiers are not enabled."),be(te||ie[ht.caseSensitivityModifier],"Unknown attribute case sensitivity modifier."),kt(),Le()&&!u)return ht}Ue("]")}return ht}function ut(){for(var ht="";digitsChars[gt];)ht+=Be();return be(ht!=="","Formula parse error."),parseInt(ht)}var wt=function(){return Ct("-")||Ct("+")||digitsChars[gt]};function Tt(){if(Ct("e")||Ct("o")){var ht=yt();if(ht==="even")return kt(),[2,0];if(ht==="odd")return kt(),[2,1]}var jt=null,tr=1;if(Ct("-")&&(Oe(),tr=-1),wt()&&(Ct("+")&&Oe(),jt=ut(),!Ct("\\")&&!Ct("n")))return[0,jt*tr];jt===null&&(jt=1),jt*=tr;var It;if(Ct("\\")?(Oe(),isHex(gt)?It=Rt():It=Be()):It=Be(),be(It==="n",'Formula parse error: expected "n".'),kt(),Ct("+")||Ct("-")){var Ar=Ct("+")?1:-1;return Oe(),kt(),[jt,Ar*ut()]}else return[jt,0]}function Vt(ht,jt,tr){var It;if(Ct("(")){if(Oe(),kt(),R&&Ct("$")){Oe();var Ar=yt();be(Ar,"Expected substitute name."),It={type:"Substitution",name:Ar}}else if(tr.type==="String")It={type:"String",value:Nt()},be(It.value,"Expected ".concat(jt," argument value."));else if(tr.type==="Selector")It=Pe(!0);else if(tr.type==="Formula"){var cr=Tt(),yr=cr[0],Wr=cr[1];if(It={type:"Formula",a:yr,b:Wr},tr.ofSelector&&(kt(),Ct("o")||Ct("\\"))){var Ht=yt();be(Ht==="of","Formula of selector parse error."),kt(),It={type:"FormulaOfSelector",a:yr,b:Wr,selector:qt()}}}else return he("Invalid ".concat(jt," signature."));if(kt(),Le()&&!u)return It;Ue(")")}else be(tr.optional,"Argument is required for ".concat(jt,' "').concat(ht,'".'));return It}function Gt(){if(Ct("*"))return be(A,"Wildcard tag name is not enabled."),Oe(),{type:"WildcardTag"};if(isIdentStart(gt)){be(P,"Tag names are not enabled.");var ht=yt();return be(ht,"Expected tag name."),{type:"TagName",name:ht}}else return he("Expected tag name.")}function Qt(){if(Ct("*")){var ht=Xe;if(Oe(),!Ct("|")||(Oe(),!ar()))return De(ht),Gt();be(B,"Namespaces are not enabled."),be(Z,"Wildcard namespace is not enabled.");var jt=Gt();return jt.namespace={type:"WildcardNamespace"},jt}else if(Ct("|")){be(B,"Namespaces are not enabled."),Oe();var jt=Gt();return jt.namespace={type:"NoNamespace"},jt}else if(isIdentStart(gt)){var tr=yt();if(be(tr,"Expected tag name."),!Ct("|"))return be(P,"Tag names are not enabled."),{type:"TagName",name:tr};var ht=Xe;if(Oe(),!ar())return De(ht),{type:"TagName",name:tr};be(B,"Namespaces are not enabled.");var jt=Gt();return jt.namespace={type:"NamespaceName",name:tr},jt}else return he("Expected tag name.")}function qt(ht){var jt,tr;ht===void 0&&(ht=!1);var It={type:"Rule",items:[]};if(ht){var Ar=We(G);Ar&&(It.combinator=Ar,kt())}for(;Xe<Je;)if(ar())be(It.items.length===0,"Unexpected tag/namespace start."),It.items.push(Qt());else if(Ct("|")){var cr=Xe;if(Oe(),ar())be(It.items.length===0,"Unexpected tag/namespace start."),De(cr),It.items.push(Qt());else{De(cr);break}}else if(Ct(".")){be(k,"Class names are not enabled."),Oe();var yr=yt();be(yr,"Expected class name."),It.items.push({type:"ClassName",name:yr})}else if(Ct("#")){be(D,"IDs are not enabled."),Oe();var Wr=yt();be(Wr,"Expected ID name."),It.items.push({type:"Id",name:Wr})}else if(Ct("&"))be(j,"Nesting selector is not enabled."),Oe(),It.items.push({type:"NestingSelector"});else if(Ct("["))be(K,"Attributes are not enabled."),It.items.push(ve());else if(Ct(":")){var Ht=!1,dr=!1;Oe(),Ct(":")&&(be(Me,"Pseudo elements are not enabled."),be(Re,"Pseudo elements double colon notation is not enabled."),Ht=!0,Oe());var ir=yt();if(be(Ht||ir,"Expected pseudo-class name."),be(!Ht||ir,"Expected pseudo-element name."),be(ir,"Expected pseudo-class name."),!(!Ht||Ge||Object.prototype.hasOwnProperty.call(Se,ir))){var Pr=pseudoLocationIndex.pseudoElements[ir],Cn='Unknown pseudo-element "'.concat(ir,'"');Pr&&Pr.length>0&&(Cn+=". It is defined in: ".concat(Pr.join(", "))),he(Cn+".")}if(dr=Me&&(Ht||!Ht&&xe&&Object.prototype.hasOwnProperty.call(Se,ir)),dr){var lr=(jt=Se[ir])!==null&&jt!==void 0?jt:Ge&&defaultPseudoSignature,wn={type:"PseudoElement",name:ir},pn=Vt(ir,"pseudo-element",lr);pn&&(be(pn.type!=="Formula"&&pn.type!=="FormulaOfSelector","Pseudo-elements cannot have formula argument."),wn.argument=pn),It.items.push(wn)}else{be(de,"Pseudo-classes are not enabled.");var lr=(tr=ge[ir])!==null&&tr!==void 0?tr:_e&&defaultPseudoSignature;if(!lr){var Pr=pseudoLocationIndex.pseudoClasses[ir],Cn='Unknown pseudo-class: "'.concat(ir,'"');Pr&&Pr.length>0&&(Cn+=". It is defined in: ".concat(Pr.join(", "))),he(Cn+".")}var pn=Vt(ir,"pseudo-class",lr),$e={type:"PseudoClass",name:ir};pn&&($e.argument=pn),It.items.push($e)}}else break;if(It.items.length===0)return Le()?he("Expected rule but end of input reached."):he('Expected rule but "'.concat(gt,'" found.'));if(kt(),!Le()&&!Ct(",")&&!Ct(")")){var Ar=We(G);kt(),It.nestedRule=qt(),It.nestedRule.combinator=Ar}return It}return function(ht){if(typeof ht!="string")throw new Error("".concat(errorPrefix,"Expected string input."));return Qe=ht,Je=Qe.length,Xe=0,gt=Qe.charAt(0),Pe()}}const cssSelectorParse=createParser({syntax:"selectors-4"});function parse$7(t){if(typeof t!="string")throw new TypeError("Expected `string` as selector, not `"+t+"`");return cssSelectorParse(t)}function ok$1(){}function parent$3(t){return Array.isArray(t.children)}function attribute$3(t,e){const n=e[t.name];if(!t.value)return n!=null;t.value.type;let i=t.value.value,o=n==null?void 0:String(n);if(t.caseSensitivityModifier==="i"&&(i=i.toLowerCase(),o&&(o=o.toLowerCase())),n!==void 0)switch(t.operator){case"=":return typeof o=="string"&&i===o;case"$=":return typeof n=="string"&&n.slice(-i.length)===i;case"*=":return typeof n=="string"&&n.includes(i);case"^=":return typeof n=="string"&&i===n.slice(0,i.length);case"~=":return Array.isArray(n)&&n.includes(i)||o===i}return!1}const nthCheck$3=nthCheck$8.default||nthCheck$8,pseudo$3=zwitch("name",{unknown:unknownPseudo$3,invalid:invalidPseudo$3,handlers:{is,blank:empty$c,empty:empty$c,"first-child":firstChild$3,"first-of-type":firstOfType$3,has:has$5,"last-child":lastChild$3,"last-of-type":lastOfType$3,not:not$3,"nth-child":nthChild$3,"nth-last-child":nthLastChild$3,"nth-of-type":nthOfType$3,"nth-last-of-type":nthLastOfType$3,"only-child":onlyChild$3,"only-of-type":onlyOfType$3,root:root$7,scope:scope$3}});function empty$c(t,e){return parent$3(e)?e.children.length===0:!("value"in e)}function firstChild$3(t,e,n,i,o){return assertDeep$3(o,t),o.nodeIndex===0}function firstOfType$3(t,e,n,i,o){return assertDeep$3(o,t),o.typeIndex===0}function has$5(t,e,n,i,o){const u=t.argument;!u||u.type;const l={type:"root",children:parent$3(e)?e.children:[]},c={...o,found:!1,shallow:!1,one:!0,scopeNodes:[e],results:[],rootQuery:u};return walk$3(c,l),c.results.length>0}function lastChild$3(t,e,n,i,o){return assertDeep$3(o,t),typeof o.nodeCount=="number"&&o.nodeIndex===o.nodeCount-1}function lastOfType$3(t,e,n,i,o){return assertDeep$3(o,t),typeof o.typeCount=="number"&&o.typeIndex===o.typeCount-1}function is(t,e,n,i,o){const u=t.argument;!u||u.type;const l={...o,found:!1,shallow:!1,one:!0,scopeNodes:[e],results:[],rootQuery:u};return walk$3(l,e),l.results[0]===e}function not$3(t,e,n,i,o){return!is(t,e,n,i,o)}function nthChild$3(t,e,n,i,o){const u=getCachedNthCheck$3(t);return assertDeep$3(o,t),typeof o.nodeIndex=="number"&&u(o.nodeIndex)}function nthLastChild$3(t,e,n,i,o){const u=getCachedNthCheck$3(t);return assertDeep$3(o,t),typeof o.nodeCount=="number"&&typeof o.nodeIndex=="number"&&u(o.nodeCount-o.nodeIndex-1)}function nthLastOfType$3(t,e,n,i,o){const u=getCachedNthCheck$3(t);return assertDeep$3(o,t),typeof o.typeIndex=="number"&&typeof o.typeCount=="number"&&u(o.typeCount-1-o.typeIndex)}function nthOfType$3(t,e,n,i,o){const u=getCachedNthCheck$3(t);return assertDeep$3(o,t),typeof o.typeIndex=="number"&&u(o.typeIndex)}function onlyChild$3(t,e,n,i,o){return assertDeep$3(o,t),o.nodeCount===1}function onlyOfType$3(t,e,n,i,o){return assertDeep$3(o,t),o.typeCount===1}function root$7(t,e,n,i){return e&&!i}function scope$3(t,e,n,i,o){return e&&o.scopeNodes.includes(e)}function invalidPseudo$3(){throw new Error("Invalid pseudo-selector")}function unknownPseudo$3(t){throw new Error("Unknown pseudo-selector `"+t.name+"`")}function assertDeep$3(t,e){if(t.shallow)throw new Error("Cannot use `:"+e.name+"` without parent")}function getCachedNthCheck$3(t){let e=t._cachedFn;if(!e){const n=t.argument;if(n.type!=="Formula")throw new Error("Expected `nth` formula, such as `even` or `2n+1` (`of` is not yet supported)");e=nthCheck$3(n.a+"n+"+n.b),t._cachedFn=e}return e}function test$3(t,e,n,i,o){for(const u of t.items)if(u.type==="Attribute"){if(!attribute$3(u,e))return!1}else{if(u.type==="Id")throw new Error("Invalid selector: id");if(u.type==="ClassName")throw new Error("Invalid selector: class");if(u.type==="PseudoClass"){if(!pseudo$3(u,e,n,i,o))return!1}else{if(u.type==="PseudoElement")throw new Error("Invalid selector: `::"+u.name+"`");if(u.type==="TagName"&&u.name!==e.type)return!1}}return!0}const empty$b=[];function walk$3(t,e){e&&one$6(t,[],e,void 0,void 0,e)}function one$6(t,e,n,i,o,u){let l={directChild:void 0,descendant:void 0,adjacentSibling:void 0,generalSibling:void 0},c=t.rootQuery.rules;return o&&o!==u&&(c=t.rootQuery.rules.filter(f=>f.combinator===void 0||f.combinator===">"&&o===u)),l=applySelectors$3(t,combine$3(e,c),n,i,o),parent$3(n)&&!t.shallow&&!(t.one&&t.found)&&all$8(t,l,n,u),l}function all$8(t,e,n,i){const o=combine$3(e.descendant,e.directChild);let u,l=-1;const c={count:0,types:new Map},f={count:0,types:new Map};for(;++l<n.children.length;)count$3(c,n.children[l]);for(l=-1;++l<n.children.length;){const m=n.children[l].type.toUpperCase();t.nodeIndex=f.count,t.typeIndex=f.types.get(m)||0,t.nodeCount=c.count,t.typeCount=c.types.get(m);const g=combine$3(o,u),v=one$6(t,g,n.children[l],l,n,i);if(u=combine$3(v.generalSibling,v.adjacentSibling),t.one&&t.found)break;count$3(f,n.children[l])}}function applySelectors$3(t,e,n,i,o){const u={directChild:void 0,descendant:void 0,adjacentSibling:void 0,generalSibling:void 0};let l=-1;for(;++l<e.length;){const c=e[l];if(t.one&&t.found)break;if(t.shallow&&c.nestedRule)throw new Error("Expected selector without nesting");if(test$3(c,n,i,o,t)){const f=c.nestedRule;if(f){const d=f.combinator==="+"?"adjacentSibling":f.combinator==="~"?"generalSibling":f.combinator===">"?"directChild":"descendant";add$3(u,d,f)}else t.found=!0,t.results.includes(n)||t.results.push(n)}c.combinator===void 0?add$3(u,"descendant",c):c.combinator==="~"&&add$3(u,"generalSibling",c)}return u}function combine$3(t,e){return t&&e&&t.length>0&&e.length>0?[...t,...e]:t&&t.length>0?t:e&&e.length>0?e:empty$b}function add$3(t,e,n){const i=t[e];i?i.push(n):t[e]=[n]}function count$3(t,e){const n=e.type.toUpperCase(),i=(t.types.get(n)||0)+1;t.count++,t.types.set(n,i)}function select$3(t,e){const n=createState$4(t,e);return n.one=!0,walk$3(n,e||void 0),n.results[0]}function selectAll$1(t,e){const n=createState$4(t,e);return walk$3(n,e||void 0),n.results}function createState$4(t,e){return{rootQuery:parse$7(t),results:[],scopeNodes:e?parent$3(e)&&(e.type==="RootNode"||e.type==="root")?e.children:[e]:[],one:!1,shallow:!1,found:!1,typeIndex:void 0,nodeIndex:void 0,typeCount:void 0,nodeCount:void 0}}function Abstract({content:t,title:e="Abstract",id:n="abstract",className:i}){if(!t)return null;const o=select$3("block",t)?.children||t;return jsxRuntimeExports.jsxs("div",{className:i,children:[jsxRuntimeExports.jsxs("h2",{id:n,className:"mb-1 text-sm font-semibold group",children:[e,jsxRuntimeExports.jsx(HashLink,{id:n,title:`Link to ${e}`,hover:!0,className:"ml-2"})]}),jsxRuntimeExports.jsx("div",{className:"mt-0 mb-3 text-base font-normal leading-relaxed text-justify text-muted-foreground",children:jsxRuntimeExports.jsx(MyST,{ast:o,className:"col-body first:mt-0"})})]})}function getYear(t){if(!t)return null;const e=t?new Date(t):null;return e&&!isNaN(e.getTime())?e.getUTCFullYear():null}async function triggerDirectDownload(t,e){const i=await(await fetch(t)).blob();return triggerBlobDownload(i,e)}async function triggerBlobDownload(t,e){if(window.navigator&&window.navigator.msSaveOrOpenBlob)return window.navigator.msSaveOrOpenBlob(t);const n=URL.createObjectURL(t),i=document.createElement("a");return i.href=n,e&&(i.download=e),i.style.display="none",i.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),setTimeout(()=>{URL.revokeObjectURL(n),i.remove()},100),!0}function getFormatDisplayName(t){switch(t.toLowerCase()){case"md":return"Markdown";case"pdf":return"PDF";case"docx":return"Microsoft Word";case"xml":case"jats":case"jats xml":return"JATS XML";case"meca":return"MECA";case"bibtex":return"BibTeX";case"ipynb":return"Jupyter Notebook";case"mp3":return"MP3";case"tex":return"LaTeX";case"html":return"HTML";default:return t.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")}}function useDownloads(){const t=useProjectManifest(),e=useSiteManifest(),n=useFrontmatter(),i=e?.actions?.filter(o=>o.title==="pdf"||o.title==="paper"||o.title==="omex")??[];return{projectExports:t?.exports??[],projectDownloads:[...t?.downloads??[],...i??[]],articleExports:n?.exports??[],articleDownloads:n?.downloads??[]}}async function handleDownload(t){toast.success(jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Download starting... ",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("code",{children:t.filename})]})),await triggerDirectDownload(t.url,t.filename).catch(e=>{console.error("Download failed:",e),toast.error("Download failed. Please try again.")})}const formatIconMap={pdf:FileText,xml:FileCode,jats:FileCode,meca:FileArchive,omex:FileArchive,tex:ScrollText,typst:ScrollText,mp3:FileVolume};function getIconForFormat(t){const e=t.toLowerCase();for(const[n,i]of Object.entries(formatIconMap))if(e.includes(n))return i;return File$1}function formatFromUrl(t){try{const i=new URL(t).pathname.split(".").pop()?.toLowerCase();return i&&i.length<=6?i:void 0}catch{return}}function renderDownloadItems(t){return t.map((e,n)=>{const i=e.format||formatFromUrl(e.url)||"unknown",o=e.title||getFormatDisplayName(i),u=getIconForFormat(i);return jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>handleDownload(e),children:[React.createElement(u,{className:"mr-2 h-4 w-4"}),o]},n)})}function ArticleDownloadItems(){const{projectDownloads:t,articleDownloads:e}=useDownloads(),n=t.length>0,i=e.length>0;return!n&&!i?null:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[n&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[renderDownloadItems(t),i&&jsxRuntimeExports.jsx(DropdownMenuSeparator,{})]}),i&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(DropdownMenuLabel,{children:"Page Downloads"}),renderDownloadItems(e)]})]})}function ArticleExportItems(){const{projectExports:t,articleExports:e}=useDownloads(),n=useShowCitation(),i=t.length>0,o=e.length>0;return!i&&!o?null:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[(i||n)&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[renderDownloadItems(t),n&&jsxRuntimeExports.jsx(BibTeXCitationMenuItem,{}),o&&jsxRuntimeExports.jsx(DropdownMenuSeparator,{})]}),o&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(DropdownMenuLabel,{children:"Page Exports"}),renderDownloadItems(e)]})]})}function generateBibTeX(t){const e=getYear(t.date);let n="unknown";if(t.authors&&t.authors.length>0){const u=t.authors[0];n=`${(u.nameParsed?.family??(u.name?u.name.split(" ").pop()??"unknown":"unknown")).toLowerCase()}${e??""}`}let i="";return t.authors&&t.authors.length>0&&(i=t.authors.map(u=>{const l=u.nameParsed?.family??(u.name?u.name.split(" ").pop()??"":""),c=u.nameParsed?.given??(u.name?u.name.split(" ").slice(0,-1).join(" "):"");return c?`${l}, ${c}`:l}).join(" and ")),`@article{${n},
  author = {${i}},
  title = {${t.title||""}},
  journal = {${t.venue?.title||""}},
  year = {${e??""}},
  doi = {${t.doi||""}},
  url = {${t.doi?doi.buildUrl(t.doi):""}}
}`}function useShowCitation(){const t=useProjectManifest();return!!doi.buildUrl(t?.doi)}function handleDownloadBibTeX(t){const e=generateBibTeX(t),n=new Blob([e],{type:"text/plain"}),i="citation.bib";toast.success(jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Download starting... ",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("code",{children:i})]})),triggerBlobDownload(n,i)}function BibTeXCitationMenuItem(){const t=useProjectManifest();return!useShowCitation()||!t?null:jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>handleDownloadBibTeX(t),children:[jsxRuntimeExports.jsx(FileHeart,{className:"mr-2 h-4 w-4"}),"BibTeX Citation"]})}function Citation({className:t,children:e}){const n=useProjectManifest(),i=doi.buildUrl(n?.doi);return i?jsxRuntimeExports.jsxs(Dialog,{children:[jsxRuntimeExports.jsx(DialogTrigger,{asChild:!0,children:jsxRuntimeExports.jsx("div",{className:cn$2("cursor-pointer",t),children:e})}),jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsx(DialogTitle,{className:"mb-2 text-2xl font-semibold",children:"Cite Article"})}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("p",{className:"p-3 text-sm rounded text-muted-foreground bg-muted",children:[n?.authors?.map((o,u,l)=>{const c=o.nameParsed?o.nameParsed?.family??"":o.name,d=(o.nameParsed?.given??"").split(/\s+/).filter(Boolean).map(g=>g[0]?.toUpperCase()+".").join(" ");let m="";return l.length>1&&(u===l.length-1?m=" & ":u>0&&(m=", ")),`${u===0?"":m}${c}${d?", "+d:""}`}).join("")," ","(",getYear(n?.date),"). ",n?.title,".",n?.venue?.title?` ${n.venue.title},`:"",n?.doi&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[" ",jsxRuntimeExports.jsx("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"underline",children:i})]})]})})}),jsxRuntimeExports.jsxs("div",{className:"mb-4 prose prose-sm dark:prose-invert",children:[jsxRuntimeExports.jsxs("div",{className:"mb-4 flex gap-2 justify-end",children:[i&&jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>{navigator.clipboard.writeText(i),toast.success(jsxRuntimeExports.jsxs("div",{children:["DOI copied to clipboard: ",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("a",{href:i,children:i})]}))},className:"gap-2",children:[jsxRuntimeExports.jsx(Copy,{className:"w-4 h-4"}),"Copy DOI"]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:()=>{n&&handleDownloadBibTeX(n)},className:"gap-2",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"}),"Download BibTeX"]})]}),i&&jsxRuntimeExports.jsxs("div",{className:"mb-2",children:[jsxRuntimeExports.jsx("div",{className:"font-medium",children:"DOI"}),jsxRuntimeExports.jsx("a",{href:i,className:"break-all",target:"_blank",rel:"noopener noreferrer",children:i})]})]})]})]}):null}const SHARE_OPTIONS=[{name:"Bluesky",Icon:ForwardRef$h,getUrl:(t,e)=>`https://bsky.app/intent/compose?text=${encodeURIComponent(e+" "+t)}`},{name:"Linkedin",Icon:ForwardRef$7,getUrl:(t,e)=>`https://www.linkedin.com/shareArticle?url=${encodeURIComponent(t)}&title=${encodeURIComponent(e)}`},{name:"",Icon:ForwardRef,getUrl:(t,e)=>`https://twitter.com/intent/tweet?text=${encodeURIComponent(e)}&url=${encodeURIComponent(t)}`},{name:"Email",Icon:ForwardRef$9,getUrl:(t,e)=>`mailto:?subject=${encodeURIComponent(e)}&body=${encodeURIComponent(t)}`}];function ArticleActionsShare({url:t,title:e}){const[n,i]=reactExports.useState(t||"");return reactExports.useEffect(()=>{t||i(window.location.href)},[t]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:SHARE_OPTIONS.map(({name:o,Icon:u,getUrl:l})=>jsxRuntimeExports.jsx(DropdownMenuItem,{asChild:!0,children:jsxRuntimeExports.jsxs("a",{href:l(n,e),target:"_blank",rel:"noopener noreferrer","aria-label":`Share on ${o}`,children:[jsxRuntimeExports.jsx(u,{className:"mr-2 h-4 w-4"}),o]})},o))})}function ArticleActionsDropdown({children:t}){const e=useProjectManifest(),n=useFrontmatter(),{projectDownloads:i,articleDownloads:o,projectExports:u,articleExports:l}=useDownloads(),{theme:c,setTheme:f}=z(),d=[...i,...o],m=d.length>0,g=u.length>0||l.length>0,v=d.length===1&&(d[0]?.format?.toLowerCase()==="pdf"||d[0]?.url?.toLowerCase().endsWith(".pdf")),y=v?d[0]:null,w=async()=>{y&&(toast.success(jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Download starting... ",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("code",{children:y.filename})]})),await triggerDirectDownload(y.url,y.filename).catch(A=>{console.error("Download failed:",A),toast.error("Download failed. Please try again.")}))},T=doi.buildUrl(e?.doi),P=()=>{T&&(navigator.clipboard.writeText(T),toast.success(jsxRuntimeExports.jsxs("div",{children:["DOI copied to clipboard: ",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("a",{href:T,children:T})]})))};return jsxRuntimeExports.jsxs(DropdownMenu,{children:[jsxRuntimeExports.jsx(DropdownMenuTrigger,{asChild:!0,children:t}),jsxRuntimeExports.jsxs(DropdownMenuContent,{className:"w-56",align:"end",children:[jsxRuntimeExports.jsx(DropdownMenuLabel,{children:"Article Actions"}),jsxRuntimeExports.jsx(DropdownMenuSeparator,{}),v&&y?jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:w,children:[jsxRuntimeExports.jsx(FileText,{className:"mr-2 w-4 h-4"}),"Download PDF"]}):m&&jsxRuntimeExports.jsxs(DropdownMenuSub,{children:[jsxRuntimeExports.jsxs(DropdownMenuSubTrigger,{children:[jsxRuntimeExports.jsx(Download,{className:"mr-4 w-4 h-4"}),"Download"]}),jsxRuntimeExports.jsx(DropdownMenuSubContent,{children:jsxRuntimeExports.jsx(ArticleDownloadItems,{})})]}),g&&jsxRuntimeExports.jsxs(DropdownMenuSub,{children:[jsxRuntimeExports.jsxs(DropdownMenuSubTrigger,{children:[jsxRuntimeExports.jsx(FolderCode,{className:"mr-4 w-4 h-4"}),"Exports"]}),jsxRuntimeExports.jsx(DropdownMenuSubContent,{children:jsxRuntimeExports.jsx(ArticleExportItems,{})})]}),jsxRuntimeExports.jsx(Citation,{children:jsxRuntimeExports.jsxs(DropdownMenuItem,{onSelect:A=>A.preventDefault(),children:[jsxRuntimeExports.jsx(Quote,{className:"mr-2 w-4 h-4"}),"Cite Article"]})}),jsxRuntimeExports.jsxs(DropdownMenuSub,{children:[jsxRuntimeExports.jsxs(DropdownMenuSubTrigger,{children:[jsxRuntimeExports.jsx(Share,{className:"mr-4 w-4 h-4"}),"Share"]}),jsxRuntimeExports.jsx(DropdownMenuSubContent,{children:jsxRuntimeExports.jsx(ArticleActionsShare,{title:n?.title||""})})]}),e?.github&&jsxRuntimeExports.jsx(DropdownMenuItem,{asChild:!0,children:jsxRuntimeExports.jsxs("a",{href:e.github,target:"_blank",rel:"noopener noreferrer",children:[jsxRuntimeExports.jsx(Blocks,{className:"mr-2 w-4 h-4"}),"GitHub Repository"]})}),T&&jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:P,children:[jsxRuntimeExports.jsx(Copy,{className:"mr-2 w-4 h-4"}),"Copy DOI"]}),jsxRuntimeExports.jsx(DropdownMenuSeparator,{}),n?.edit_url&&jsxRuntimeExports.jsx(DropdownMenuItem,{asChild:!0,children:jsxRuntimeExports.jsxs("a",{href:n?.edit_url,target:"_blank",rel:"noopener noreferrer",children:[jsxRuntimeExports.jsx(Pencil,{className:"mr-2 w-4 h-4"}),n?.edit_url?.includes("github.com")?"Edit in GitHub":n?.edit_url?.includes("gitlab")?"Edit in GitLab":"Edit source"]})}),jsxRuntimeExports.jsxs(DropdownMenuSub,{children:[jsxRuntimeExports.jsxs(DropdownMenuSubTrigger,{children:[c==="dark"?jsxRuntimeExports.jsx(Sun,{className:"mr-2 w-4 h-4"}):jsxRuntimeExports.jsx(Moon,{className:"mr-2 w-4 h-4"}),"Theme"]}),jsxRuntimeExports.jsxs(DropdownMenuSubContent,{children:[jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>f("light"),children:[jsxRuntimeExports.jsx(Sun,{className:"mr-2 w-4 h-4"}),"Light"]}),jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>f("dark"),children:[jsxRuntimeExports.jsx(Moon,{className:"mr-2 w-4 h-4"}),"Dark"]}),jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>f("system"),children:[jsxRuntimeExports.jsx(Monitor,{className:"mr-2 w-4 h-4"}),"System"]})]})]})]})]})}function cn(...t){return twMerge(clsx(t))}const SEARCH_ATTRIBUTES_ORDERED=["hierarchy.lvl1","hierarchy.lvl2","hierarchy.lvl3","hierarchy.lvl4","hierarchy.lvl5","hierarchy.lvl6","content"],SPACE_OR_PUNCTUATION$1=/[\n\r\p{Z}\p{P}]+/gu;function extractField(t,e){return e.split(".").reduce((n,i)=>n&&n[i],t)}const POSITIONAL_SEARCH_ATTRIBUTES=["content"],TYPE_WEIGHTS=new Map([["lvl1",90],["lvl2",80],["lvl3",70],["lvl4",60],["lvl5",50],["lvl6",40],["content",0]]);function cmp(t,e){return t<e?-1:t>e?1:0}function buildRegExpToken(t){return new RegExp(`(?:(?:${SPACE_OR_PUNCTUATION$1.source})|^)${t}(?:(?:${SPACE_OR_PUNCTUATION$1.source})|$)`,`${SPACE_OR_PUNCTUATION$1.flags}i`)}function queryPairProximity(t,e,n,i){let o=i;for(const[u,l]of Object.entries(e.matches)){const c=buildRegExpToken(u);for(const f of l){const d=extractField(t,f);for(const[m,g]of Object.entries(n.matches)){const v=buildRegExpToken(m);for(const y of g){if(f!==y)continue;const w=d.matchAll(c),T=d.matchAll(v);for(const P of w)for(const A of T){const[D,k]=P.index<A.index?[P.index,A.index]:[A.index,P.index],j=Array.from(d.slice(D,k).matchAll(SPACE_OR_PUNCTUATION$1)).length;if(j===1)return 1;j<o&&(o=j)}}}}}return o}function wordsProximity(t,e){const{queries:n}=t;let i=0;for(let o=0;o<n.length-1;o++){const u=n[o],l=n[o+1];i+=queryPairProximity(t,u,l,e)}return Math.min(i,e)}function matchedAttributePosition(t){const e=new Map;t.queries.forEach(o=>{Object.entries(o.matches).forEach(([u,l])=>{l.forEach(c=>{let f=e.get(c);f||(f=[],e.set(c,f)),f.push(u)})})});const n=SEARCH_ATTRIBUTES_ORDERED.find(o=>e.has(o));let i;if(POSITIONAL_SEARCH_ATTRIBUTES.includes(n)){const o=e.get(n),u=extractField(t,n),l=o.flatMap(c=>Array.from(u.matchAll(buildRegExpToken(c)))).map(c=>c.index);i=Math.min(...l)}else i=void 0;return{attribute:n,position:i}}function matchedExactWords(t){const e=t.queries.flatMap(i=>Object.entries(i.matches).flatMap(([o,u])=>{const l=buildRegExpToken(o);return u.flatMap(c=>{const f=extractField(t,c);return Array.from(f.matchAll(l)).map(d=>d?i.term:void 0)})}).filter(o=>o));return new Set(e).size}function numberOfTypos(t){return t.queries.map(e=>Object.keys(e.matches).filter(i=>i!==e.term).length).reduce((e,n)=>e+n)}function rankSearchResult(t){return{...t,ranking:{typos:numberOfTypos(t),...matchedAttributePosition(t),proximity:wordsProximity(t,8),exact:matchedExactWords(t),level:TYPE_WEIGHTS.get(t.type),appearance:t.position}}}function cmpRankedSearchResults(t,e){const n=t.ranking,i=e.ranking;if(n.typos!==i.typos)return cmp(n.typos,i.typos);if(n.attribute!==i.attribute){const o=SEARCH_ATTRIBUTES_ORDERED.findIndex(l=>l===n.attribute),u=SEARCH_ATTRIBUTES_ORDERED.findIndex(l=>l===i.attribute);return cmp(o,u)}return n.position!=null&&i.position!=null&&n.position!==i.position?cmp(n.position,i.position):n.proximity!==i.proximity?cmp(n.proximity,i.proximity):n.exact!==i.exact?cmp(i.exact,n.exact):n.level!==i.level?cmp(i.level,n.level):n.appearance!==i.appearance?cmp(n.appearance,i.appearance):0}function rankResults(t){return t.map(rankSearchResult).sort(cmpRankedSearchResults)}function matchAll(t,e){const n=[];let i;for(;i=e.exec(t);)n.push(i);return n}function MarkedText({text:t,matches:e,limit:n,className:i}){const o=matchAll(t,SPACE_OR_PUNCTUATION$1),u=[];let l=0;for(const y of o)u.push(t.slice(l,y.index)),u.push(y[0]),l=y.index+y[0].length;u.push(t.slice(l));const c=e.join("|"),f=new RegExp(`^(${c})`,"i"),d=y=>f.test(y)?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("mark",{className:"text-blue-600 bg-inherit dark:text-blue-400 group-aria-selected:text-white group-aria-selected:underline",children:y})}):y;let m,g;const v=n!==void 0;if(!v)m=0,g=u.length;else{m=u.findIndex(w=>f.test(w));let y=0;for(g=m+1;g<u.length-1&&y+u[g].length<=n;g++)y+=u[g].length}if(u.length===0)return jsxRuntimeExports.jsxs("span",{className:i,children:[...u]});{const y=d(u[m]),T=u.slice(m+1,g).map(P=>d(P));return jsxRuntimeExports.jsxs("span",{className:cn(i,{"before:content-['..._']":v,"after:content-['_...']":v},"truncate","w-full"),children:[y,...T]})}}function isMac(){if(!(typeof window>"u"))return/mac/i.test(window.navigator.userAgentData?.platform??window.navigator.userAgent)}function SearchResultItem({result:t,closeSearch:e,charLimit:n}){const{hierarchy:i,type:o,url:u,queries:l}=t,c=useBaseurl(),f=useLinkProvider(),d=t.type==="content"?t.content:i[o],m=reactExports.useMemo(()=>l.flatMap(y=>Object.keys(y.matches)),[l]),g=jsxRuntimeExports.jsx(MarkedText,{text:d,matches:m,limit:o==="content"?n:void 0,className:"text-sm"});let v;if(t.type==="lvl1")v=void 0;else{const y=t.hierarchy.lvl1;v=jsxRuntimeExports.jsx(MarkedText,{text:y,matches:m,className:"text-xs"})}return jsxRuntimeExports.jsx(f,{className:"block px-4 py-2 text-gray-700 dark:text-white group-aria-selected:bg-blue-600 group-aria-selected:text-white dark:shadow-none dark:bg-stone-800",to:withBaseurl(u,c),onClick:e,children:jsxRuntimeExports.jsx("div",{className:"flex flex-row h-11",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center truncate grow",children:[g,v]})})})}function SearchResults({searchResults:t,searchListID:e,searchLabelID:n,charLimit:i,className:o,selectedIndex:u,onHoverSelect:l,closeSearch:c}){const f=reactExports.useRef([]),d=reactExports.useCallback(v=>{if(!v)return;const y=parseInt(v.dataset.index);f.current[y]=v},[f]),m=reactExports.useMemo(()=>{const v=f.current[u];return v?v.id:""},[u,f]);reactExports.useEffect(()=>{f.current[u]?.scrollIntoView({block:"nearest"})},[u]);const g=reactExports.useCallback(v=>{const y=parseInt(v.currentTarget.dataset.index);l(y)},[l]);return jsxRuntimeExports.jsx("div",{className:"overflow-y-auto mt-4 max-h-[60vh]",children:t.length?jsxRuntimeExports.jsx("ul",{role:"listbox",id:e,"aria-label":"Search results","aria-labelledby":n,"aria-orientation":"vertical","aria-activedescendant":m,className:cn("flex overflow-hidden flex-col rounded-sm border",o),children:t.map((v,y)=>jsxRuntimeExports.jsx("li",{ref:d,"data-index":y,role:"option","aria-selected":u===y,className:"border-b border-gray-200 group dark:border-gray-700 last:border-b-0",onMouseMove:g,children:jsxRuntimeExports.jsx(SearchResultItem,{result:v,closeSearch:c,charLimit:i})},v.id))}):jsxRuntimeExports.jsx("span",{children:"No results found."})})}function useSearch(t=!0){const e=useBaseurl(),[n,i]=reactExports.useState(!0),o=reactExports.useCallback(async g=>{const v=await fetch(g);if(!v.ok)throw new Error("Failed to fetch search index");return v.json()},[]),u=withBaseurl("/myst.search.json",e),{data:l,error:c,isLoading:f}=useSWR(t?u:null,o,{revalidateOnFocus:!1,revalidateOnReconnect:!1,dedupingInterval:6e4}),d=useSearchFactory();return{search:reactExports.useMemo(()=>{if(!l||!d||c){c&&i(!1);return}else{if(l?.version&&l?.records)return d(l);i(!1);return}},[d,l,c,i]),enabled:n&&!f,loading:f}}function SearchForm({debounceTime:t,searchResults:e,setSearchResults:n,searchInputID:i,searchListID:o,searchLabelID:u,selectedIndex:l,setSelectedIndex:c,closeSearch:f,loading:d,shouldLoad:m}){const[g,v]=reactExports.useState(""),{search:y,enabled:w}=useSearch(m);reactExports.useEffect(()=>{const j=setTimeout(()=>{g!=null&&y&&y(g).then(B=>{n(B&&rankResults(B).filter((Z,R,G)=>Z.url!==G[R-1]?.url))})},t);return()=>clearTimeout(j)},[y,g,t]);const T=reactExports.useCallback(j=>{v(j.target.value)},[]),P=useNavigateProvider(),A=useBaseurl(),D=reactExports.useCallback(j=>{if(!(j.ctrlKey||j.altKey||j.shiftKey)&&e)if(j.key==="Enter"){j.preventDefault();const B=e[l]?.url;B&&(P(withBaseurl(B,A)),f?.())}else(j.key==="ArrowUp"||j.key==="ArrowDown")&&(j.preventDefault(),j.key==="ArrowUp"?c(l>0?l-1:0):c(l<e.length-1?l+1:e.length-1))},[e,l]),k=reactExports.useCallback(j=>{j.preventDefault()},[]);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("form",{onSubmit:k,children:jsxRuntimeExports.jsxs("div",{className:"flex relative w-full h-10 flow-row",children:[jsxRuntimeExports.jsx("label",{id:o,htmlFor:i,children:jsxRuntimeExports.jsx(Search,{className:"absolute text-gray-400 inset-y-0 start-0 h-10 w-10 p-2.5 aspect-square flex items-center pointer-events-none"})}),jsxRuntimeExports.jsx("input",{autoComplete:"off",spellCheck:"false",disabled:!w,autoCapitalize:"false",className:cn("block grow p-2 placeholder-gray-400 ps-10","border border-gray-300 dark:border-gray-600","bg-gray-50 rounded-sm dark:bg-gray-700","focus:ring-blue-500 dark:focus:ring-blue-500","focus:border-blue-500 dark:focus:border-blue-500","dark:placeholder-gray-400",{"border-red-500":!w&&!d}),id:i,"aria-labelledby":u,"aria-controls":o,placeholder:"Search",type:"search",required:!0,onChange:T,onKeyDown:D})]})}),!w&&!d&&jsxRuntimeExports.jsx("div",{className:"mx-2 mt-4 text-sm text-gray-500",children:"Search is not enabled for this site."})]})}function SearchDialog({debounceTime:t=500,charLimit:e=64,children:n}){const[i,o]=reactExports.useState(!1),[u,l]=reactExports.useState(),[c,f]=reactExports.useState(0),{loading:d}=useSearch(i);reactExports.useEffect(()=>{i||(l(void 0),f(0))},[i]);const m=reactExports.useCallback(v=>{v.key==="k"&&(isMac()?v.metaKey:v.ctrlKey)&&(o(!0),v.preventDefault())},[]);reactExports.useEffect(()=>(document.addEventListener("keydown",m),()=>{document.removeEventListener("keydown",m)}),[m]);const g=reactExports.useCallback(()=>o(!1),[o]);return jsxRuntimeExports.jsxs(Dialog,{open:i,onOpenChange:o,children:[jsxRuntimeExports.jsx(DialogTrigger,{asChild:!0,children:jsxRuntimeExports.jsx("div",{className:"cursor-pointer",children:n})}),jsxRuntimeExports.jsxs(DialogPortal,{children:[jsxRuntimeExports.jsx(DialogOverlay,{}),jsxRuntimeExports.jsx(DialogContent,{className:"fixed top-4 sm:top-[10vh] left-1/2 -translate-x-1/2 w-[90vw] max-w-screen-sm max-h-[calc(100vh-2rem)] sm:max-h-[70vh] overflow-hidden translate-y-0 p-0",showCloseButton:!1,children:jsxRuntimeExports.jsxs("div",{className:"flex overflow-hidden relative flex-col gap-0 p-4",children:[jsxRuntimeExports.jsx(DialogTitle,{className:"sr-only",children:"Search Website"}),jsxRuntimeExports.jsx(DialogDescription,{className:"sr-only",children:"Search articles and their contents using fuzzy-search and prefix-matching"}),jsxRuntimeExports.jsx("div",{className:"shrink-0",children:jsxRuntimeExports.jsx(SearchForm,{searchListID:"search-list",searchLabelID:"search-label",searchInputID:"search-input",debounceTime:t,searchResults:u,setSearchResults:l,selectedIndex:c,setSelectedIndex:f,closeSearch:g,loading:d,shouldLoad:i})}),u&&jsxRuntimeExports.jsx("div",{className:"overflow-hidden flex-1",children:jsxRuntimeExports.jsx(SearchResults,{searchListID:"search-list",searchLabelID:"search-label",className:"overflow-y-auto h-full",searchResults:u,selectedIndex:c,onHoverSelect:f,closeSearch:g,charLimit:e})})]})})]})]})}const createStoreImpl=t=>{let e;const n=new Set,i=(d,m)=>{const g=typeof d=="function"?d(e):d;if(!Object.is(g,e)){const v=e;e=m??(typeof g!="object"||g===null)?g:Object.assign({},e,g),n.forEach(y=>y(e,v))}},o=()=>e,c={setState:i,getState:o,getInitialState:()=>f,subscribe:d=>(n.add(d),()=>n.delete(d))},f=e=t(i,o,c);return c},createStore=(t=>t?createStoreImpl(t):createStoreImpl),identity$2=t=>t;function useStore(t,e=identity$2){const n=React.useSyncExternalStore(t.subscribe,React.useCallback(()=>e(t.getState()),[t,e]),React.useCallback(()=>e(t.getInitialState()),[t,e]));return React.useDebugValue(n),n}const createImpl=t=>{const e=createStore(t),n=i=>useStore(e,i);return Object.assign(n,e),n},create$5=(t=>t?createImpl(t):createImpl);function clearNotebookField(t,e){return n=>{const{[e]:i,...o}=n[t];return{[t]:o}}}function clearCellField(t,e,n){return i=>{if(!(e in i[t]))return i;const{[n]:o,...u}=i[t][e];if(Object.keys(u).length===0){const{[e]:l,...c}=i[t];return{[t]:c}}return{[t]:{...i[t],[e]:u}}}}function setNotebookField(t,e,n){return i=>({[t]:{...i[t],[e]:n.reduce((o,u)=>({...o,[u]:u}),{})}})}const useBusyStore=create$5((t,e)=>({execute:{},reset:{},error:{},select:{notebookIsExecuting:n=>{if(!n)return!1;const i=e().execute;return n in i?Object.keys(i[n]).length>0:!1},notebookNumCellsExecuting:n=>{if(!n)return 0;const i=e().execute;return n in i?Object.keys(i[n]).length:0},notebookIsResetting:n=>{if(!n)return!1;const i=e().reset;return n in i?Object.keys(i[n]).length>0:!1},cellIsExecuting:(n,i)=>{if(!n||!i)return!1;const o=e().execute;return n in o?e().execute[n][i]!==void 0:!1}},actions:{setNotebookExecute:(n,i)=>{t(setNotebookField("execute",n,i))},setNotebookReset:(n,i)=>{t(setNotebookField("reset",n,i))},clearNotebookExecute:n=>t(clearNotebookField("execute",n)),setCellExecute:(n,i)=>t(o=>({execute:{...o.execute,[n]:{...o.execute[n],[i]:i}}})),clearCellExecute:(n,i)=>t(clearCellField("execute",n,i)),clearNotebookReset:n=>t(clearNotebookField("reset",n)),clearCellReset:(n,i)=>t(clearCellField("reset",n,i)),clearAll:()=>t({execute:{},reset:{},error:{}}),setError:(n,i)=>t(o=>({error:{...o.error,[n]:i}})),clearError:n=>{const{[n]:i,...o}=e().error;t({error:o})}}}));var dist$2={};const require$$0$3=getAugmentedNamespace(tslib_es6$1);var OutputAreaByRef={},hasRequiredOutputAreaByRef;function requireOutputAreaByRef(){if(hasRequiredOutputAreaByRef)return OutputAreaByRef;hasRequiredOutputAreaByRef=1,Object.defineProperty(OutputAreaByRef,"__esModule",{value:!0}),OutputAreaByRef.OutputAreaByRef=void 0;const t=require$$0$3,e=requireJsxRuntime(),n=t.__importDefault(requireReact());return OutputAreaByRef.OutputAreaByRef=n.default.forwardRef(({busy:i,content:o},u)=>(0,e.jsx)("div",{children:(0,e.jsxs)("div",Object.assign({className:"m-1 hover:delay-15"},{children:[(0,e.jsx)("div",Object.assign({className:"p-1 rounded",ref:u},{children:o||"[Output Area]"})),i&&(0,e.jsx)("div",{children:"Cell is running..."})]}))})),OutputAreaByRef}var ThebeLoaderProvider={},version$2={},hasRequiredVersion;function requireVersion(){if(hasRequiredVersion)return version$2;hasRequiredVersion=1,Object.defineProperty(version$2,"__esModule",{value:!0});const t="0.5.0";return version$2.default=t,version$2}function makeDefaultStorageKey(t,e){const n=new URL(e);return`${t}-${n.origin+n.pathname}`}function makeDefaultBuildSpec(t,e,n){const i=`${e}/build/${n}`,o=`${e}/v2/${n}`;return{build:i,launch:o,storageKey:makeDefaultStorageKey(t,i)}}function makeGitUrls(t){if(!t.binder.repo)throw Error("repo is required for git provider");const{repo:e,binderUrl:n,ref:i}=t.binder,o=encodeURIComponent(e.replace(/(^\/)|(\/?$)/g,"")),u=n?.replace(/(\/?$)/g,""),l=`git/${o}/${i??"HEAD"}`;return makeDefaultBuildSpec(t.savedSessions.storagePrefix,u,l)}function makeGitLabUrl(t){var e,n,i;if(!t.binder.repo)throw Error("repo is required for gitlab provider");const o=(e=t.binder.binderUrl)===null||e===void 0?void 0:e.replace(/(\/?$)/g,""),l=`gl/${encodeURIComponent(((n=t.binder.repo)!==null&&n!==void 0?n:"").replace(/^(https?:\/\/)?gitlab.com\//,"").replace(/(^\/)|(\/?$)/g,""))}/${(i=t.binder.ref)!==null&&i!==void 0?i:"HEAD"}`;return makeDefaultBuildSpec(t.savedSessions.storagePrefix,o,l)}function makeGitHubUrl(t){var e,n;if(!t.binder.repo)throw Error("repo is required for github provider");const i=t.binder.repo.replace(/^(https?:\/\/)?github.com\//,"").replace(/(^\/)|(\/?$)/g,""),o=(e=t.binder.binderUrl)===null||e===void 0?void 0:e.replace(/(\/?$)/g,""),u=`gh/${i}/${(n=t.binder.ref)!==null&&n!==void 0?n:"HEAD"}`;return makeDefaultBuildSpec(t.savedSessions.storagePrefix,o,u)}function makeGistUrl(t){var e,n;if(!t.binder.repo)throw Error("repo is required for gist provider");const i=t.binder.repo.replace(/^(https?:\/\/)?github.com\//,"").replace(/(^\/)|(\/?$)/g,""),o=(e=t.binder.binderUrl)===null||e===void 0?void 0:e.replace(/(\/?$)/g,""),u=`gist/${i}/${(n=t.binder.ref)!==null&&n!==void 0?n:"HEAD"}`;return makeDefaultBuildSpec(t.savedSessions.storagePrefix,o,u)}const GITHUB_SPEC={name:"github",makeUrls:makeGitHubUrl},GITLAB_SPEC={name:"gitlab",makeUrls:makeGitLabUrl},GIT_SPEC={name:"git",makeUrls:makeGitUrls},GIST_SPEC={name:"gist",makeUrls:makeGistUrl},WELL_KNOWN_REPO_PROVIDERS=[GITHUB_SPEC,GITLAB_SPEC,GIT_SPEC,GIST_SPEC];function makeBinderUrls(t,e){var n,i;const o=(n=e.reduce((l,c)=>Object.assign(Object.assign({},l),{[c.name]:c}),{}))!==null&&n!==void 0?n:{},u=(i=t.binder.repoProvider)!==null&&i!==void 0?i:"github";if(!Object.keys(o).includes(u))throw Error(`Unknown provider ${t.binder.repoProvider}`);if(!o[u].makeUrls)throw Error(`No makeUrls function for ${u}`);return o[u].makeUrls(t)}var lib$c={},basemanager={},ArrayExt$4;(function(t){function e(R,G,F=0,K=-1){let Q=R.length;if(Q===0)return-1;F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);let ie;K<F?ie=K+1+(Q-F):ie=K-F+1;for(let te=0;te<ie;++te){let oe=(F+te)%Q;if(R[oe]===G)return oe}return-1}t.firstIndexOf=e;function n(R,G,F=-1,K=0){let Q=R.length;if(Q===0)return-1;F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);let ie;F<K?ie=F+1+(Q-K):ie=F-K+1;for(let te=0;te<ie;++te){let oe=(F-te+Q)%Q;if(R[oe]===G)return oe}return-1}t.lastIndexOf=n;function i(R,G,F=0,K=-1){let Q=R.length;if(Q===0)return-1;F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);let ie;K<F?ie=K+1+(Q-F):ie=K-F+1;for(let te=0;te<ie;++te){let oe=(F+te)%Q;if(G(R[oe],oe))return oe}return-1}t.findFirstIndex=i;function o(R,G,F=-1,K=0){let Q=R.length;if(Q===0)return-1;F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);let ie;F<K?ie=F+1+(Q-K):ie=F-K+1;for(let te=0;te<ie;++te){let oe=(F-te+Q)%Q;if(G(R[oe],oe))return oe}return-1}t.findLastIndex=o;function u(R,G,F=0,K=-1){let Q=i(R,G,F,K);return Q!==-1?R[Q]:void 0}t.findFirstValue=u;function l(R,G,F=-1,K=0){let Q=o(R,G,F,K);return Q!==-1?R[Q]:void 0}t.findLastValue=l;function c(R,G,F,K=0,Q=-1){let ie=R.length;if(ie===0)return 0;K<0?K=Math.max(0,K+ie):K=Math.min(K,ie-1),Q<0?Q=Math.max(0,Q+ie):Q=Math.min(Q,ie-1);let te=K,oe=Q-K+1;for(;oe>0;){let le=oe>>1,de=te+le;F(R[de],G)<0?(te=de+1,oe-=le+1):oe=le}return te}t.lowerBound=c;function f(R,G,F,K=0,Q=-1){let ie=R.length;if(ie===0)return 0;K<0?K=Math.max(0,K+ie):K=Math.min(K,ie-1),Q<0?Q=Math.max(0,Q+ie):Q=Math.min(Q,ie-1);let te=K,oe=Q-K+1;for(;oe>0;){let le=oe>>1,de=te+le;F(R[de],G)>0?oe=le:(te=de+1,oe-=le+1)}return te}t.upperBound=f;function d(R,G,F){if(R===G)return!0;if(R.length!==G.length)return!1;for(let K=0,Q=R.length;K<Q;++K)if(F?!F(R[K],G[K]):R[K]!==G[K])return!1;return!0}t.shallowEqual=d;function m(R,G={}){let{start:F,stop:K,step:Q}=G;if(Q===void 0&&(Q=1),Q===0)throw new Error("Slice `step` cannot be zero.");let ie=R.length;F===void 0?F=Q<0?ie-1:0:F<0?F=Math.max(F+ie,Q<0?-1:0):F>=ie&&(F=Q<0?ie-1:ie),K===void 0?K=Q<0?-1:ie:K<0?K=Math.max(K+ie,Q<0?-1:0):K>=ie&&(K=Q<0?ie-1:ie);let te;Q<0&&K>=F||Q>0&&F>=K?te=0:Q<0?te=Math.floor((K-F+1)/Q+1):te=Math.floor((K-F-1)/Q+1);let oe=[];for(let le=0;le<te;++le)oe[le]=R[F+le*Q];return oe}t.slice=m;function g(R,G,F){let K=R.length;if(K<=1||(G<0?G=Math.max(0,G+K):G=Math.min(G,K-1),F<0?F=Math.max(0,F+K):F=Math.min(F,K-1),G===F))return;let Q=R[G],ie=G<F?1:-1;for(let te=G;te!==F;te+=ie)R[te]=R[te+ie];R[F]=Q}t.move=g;function v(R,G=0,F=-1){let K=R.length;if(!(K<=1))for(G<0?G=Math.max(0,G+K):G=Math.min(G,K-1),F<0?F=Math.max(0,F+K):F=Math.min(F,K-1);G<F;){let Q=R[G],ie=R[F];R[G++]=ie,R[F--]=Q}}t.reverse=v;function y(R,G,F=0,K=-1){let Q=R.length;if(Q<=1||(F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1),F>=K))return;let ie=K-F+1;if(G>0?G=G%ie:G<0&&(G=(G%ie+ie)%ie),G===0)return;let te=F+G;v(R,F,te-1),v(R,te,K),v(R,F,K)}t.rotate=y;function w(R,G,F=0,K=-1){let Q=R.length;if(Q===0)return;F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);let ie;K<F?ie=K+1+(Q-F):ie=K-F+1;for(let te=0;te<ie;++te)R[(F+te)%Q]=G}t.fill=w;function T(R,G,F){let K=R.length;G<0?G=Math.max(0,G+K):G=Math.min(G,K);for(let Q=K;Q>G;--Q)R[Q]=R[Q-1];R[G]=F}t.insert=T;function P(R,G){let F=R.length;if(G<0&&(G+=F),G<0||G>=F)return;let K=R[G];for(let Q=G+1;Q<F;++Q)R[Q-1]=R[Q];return R.length=F-1,K}t.removeAt=P;function A(R,G,F=0,K=-1){let Q=e(R,G,F,K);return Q!==-1&&P(R,Q),Q}t.removeFirstOf=A;function D(R,G,F=-1,K=0){let Q=n(R,G,F,K);return Q!==-1&&P(R,Q),Q}t.removeLastOf=D;function k(R,G,F=0,K=-1){let Q=R.length;if(Q===0)return 0;F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);let ie=0;for(let te=0;te<Q;++te)F<=K&&te>=F&&te<=K&&R[te]===G||K<F&&(te<=K||te>=F)&&R[te]===G?ie++:ie>0&&(R[te-ie]=R[te]);return ie>0&&(R.length=Q-ie),ie}t.removeAllOf=k;function j(R,G,F=0,K=-1){let Q,ie=i(R,G,F,K);return ie!==-1&&(Q=P(R,ie)),{index:ie,value:Q}}t.removeFirstWhere=j;function B(R,G,F=-1,K=0){let Q,ie=o(R,G,F,K);return ie!==-1&&(Q=P(R,ie)),{index:ie,value:Q}}t.removeLastWhere=B;function Z(R,G,F=0,K=-1){let Q=R.length;if(Q===0)return 0;F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);let ie=0;for(let te=0;te<Q;++te)F<=K&&te>=F&&te<=K&&G(R[te],te)||K<F&&(te<=K||te>=F)&&G(R[te],te)?ie++:ie>0&&(R[te-ie]=R[te]);return ie>0&&(R.length=Q-ie),ie}t.removeAllWhere=Z})(ArrayExt$4||(ArrayExt$4={}));function*chain$2(...t){for(const e of t)yield*e}function*empty$a(){}function*enumerate(t,e=0){for(const n of t)yield[e++,n]}function*filter$2(t,e){let n=0;for(const i of t)e(i,n++)&&(yield i)}function find$4(t,e){let n=0;for(const i of t)if(e(i,n++))return i}function findIndex$1(t,e){let n=0;for(const i of t)if(e(i,n++))return n-1;return-1}function min$1(t,e){let n;for(const i of t){if(n===void 0){n=i;continue}e(i,n)<0&&(n=i)}return n}function max$2(t,e){let n;for(const i of t){if(n===void 0){n=i;continue}e(i,n)>0&&(n=i)}return n}function minmax(t,e){let n=!0,i,o;for(const u of t)n?(i=u,o=u,n=!1):e(u,i)<0?i=u:e(u,o)>0&&(o=u);return n?void 0:[i,o]}function toArray$2(t){return Array.from(t)}function toObject(t){const e={};for(const[n,i]of t)e[n]=i;return e}function each$5(t,e){let n=0;for(const i of t)if(e(i,n++)===!1)return}function every$2(t,e){let n=0;for(const i of t)if(e(i,n++)===!1)return!1;return!0}function some$2(t,e){let n=0;for(const i of t)if(e(i,n++))return!0;return!1}function*map$3(t,e){let n=0;for(const i of t)yield e(i,n++)}function*range$2(t,e,n){e===void 0?(e=t,t=0,n=1):n===void 0&&(n=1);const i=Private$14.rangeLength(t,e,n);for(let o=0;o<i;o++)yield t+n*o}var Private$14;(function(t){function e(n,i,o){return o===0?1/0:n>i&&o>0||n<i&&o<0?0:Math.ceil((i-n)/o)}t.rangeLength=e})(Private$14||(Private$14={}));function reduce$2(t,e,n){const i=t[Symbol.iterator]();let o=0,u=i.next();if(u.done&&n===void 0)throw new TypeError("Reduce of empty iterable with no initial value.");if(u.done)return n;let l=i.next();if(l.done&&n===void 0)return u.value;if(l.done)return e(n,u.value,o++);let c;n===void 0?c=e(u.value,l.value,o++):c=e(e(n,u.value,o++),l.value,o++);let f;for(;!(f=i.next()).done;)c=e(c,f.value,o++);return c}function*repeat(t,e){for(;0<e--;)yield t}function*once$2(t){yield t}function*retro$1(t){if(typeof t.retro=="function")yield*t.retro();else for(let e=t.length-1;e>-1;e--)yield t[e]}function topologicSort(t){let e=[],n=new Set,i=new Map;for(const l of t)o(l);for(const[l]of i)u(l);return e;function o(l){let[c,f]=l,d=i.get(f);d?d.push(c):i.set(f,[c])}function u(l){if(n.has(l))return;n.add(l);let c=i.get(l);if(c)for(const f of c)u(f);e.push(l)}}function*stride(t,e){let n=0;for(const i of t)n++%e===0&&(yield i)}var StringExt$4;(function(t){function e(l,c,f=0){let d=new Array(c.length);for(let m=0,g=f,v=c.length;m<v;++m,++g){if(g=l.indexOf(c[m],g),g===-1)return null;d[m]=g}return d}t.findIndices=e;function n(l,c,f=0){let d=e(l,c,f);if(!d)return null;let m=0;for(let g=0,v=d.length;g<v;++g){let y=d[g]-f;m+=y*y}return{score:m,indices:d}}t.matchSumOfSquares=n;function i(l,c,f=0){let d=e(l,c,f);if(!d)return null;let m=0,g=f-1;for(let v=0,y=d.length;v<y;++v){let w=d[v];m+=w-g-1,g=w}return{score:m,indices:d}}t.matchSumOfDeltas=i;function o(l,c,f){let d=[],m=0,g=0,v=c.length;for(;m<v;){let y=c[m],w=c[m];for(;++m<v&&c[m]===w+1;)w++;g<y&&d.push(l.slice(g,y)),y<w+1&&d.push(f(l.slice(y,w+1))),g=w+1}return g<l.length&&d.push(l.slice(g)),d}t.highlight=o;function u(l,c){return l<c?-1:l>c?1:0}t.cmp=u})(StringExt$4||(StringExt$4={}));function*take(t,e){if(e<1)return;const n=t[Symbol.iterator]();let i;for(;0<e--&&!(i=n.next()).done;)yield i.value}function*zip$1(...t){const e=t.map(i=>i[Symbol.iterator]());let n=e.map(i=>i.next());for(;every$2(n,i=>!i.done);n=e.map(i=>i.next()))yield n.map(i=>i.value)}const index_es6$4=Object.freeze(Object.defineProperty({__proto__:null,get ArrayExt(){return ArrayExt$4},get StringExt(){return StringExt$4},chain:chain$2,each:each$5,empty:empty$a,enumerate,every:every$2,filter:filter$2,find:find$4,findIndex:findIndex$1,map:map$3,max:max$2,min:min$1,minmax,once:once$2,range:range$2,reduce:reduce$2,repeat,retro:retro$1,some:some$2,stride,take,toArray:toArray$2,toObject,topologicSort,zip:zip$1},Symbol.toStringTag,{value:"Module"}));var JSONExt$2;(function(t){t.emptyObject=Object.freeze({}),t.emptyArray=Object.freeze([]);function e(m){return m===null||typeof m=="boolean"||typeof m=="number"||typeof m=="string"}t.isPrimitive=e;function n(m){return Array.isArray(m)}t.isArray=n;function i(m){return!e(m)&&!n(m)}t.isObject=i;function o(m,g){if(m===g)return!0;if(e(m)||e(g))return!1;let v=n(m),y=n(g);return v!==y?!1:v&&y?l(m,g):c(m,g)}t.deepEqual=o;function u(m){return e(m)?m:n(m)?f(m):d(m)}t.deepCopy=u;function l(m,g){if(m===g)return!0;if(m.length!==g.length)return!1;for(let v=0,y=m.length;v<y;++v)if(!o(m[v],g[v]))return!1;return!0}function c(m,g){if(m===g)return!0;for(let v in m)if(m[v]!==void 0&&!(v in g))return!1;for(let v in g)if(g[v]!==void 0&&!(v in m))return!1;for(let v in m){let y=m[v],w=g[v];if(!(y===void 0&&w===void 0)&&(y===void 0||w===void 0||!o(y,w)))return!1}return!0}function f(m){let g=new Array(m.length);for(let v=0,y=m.length;v<y;++v)g[v]=u(m[v]);return g}function d(m){let g={};for(let v in m){let y=m[v];y!==void 0&&(g[v]=u(y))}return g}})(JSONExt$2||(JSONExt$2={}));let MimeData$1=class{constructor(){this._types=[],this._values=[]}types(){return this._types.slice()}hasData(e){return this._types.indexOf(e)!==-1}getData(e){let n=this._types.indexOf(e);return n!==-1?this._values[n]:void 0}setData(e,n){this.clearData(e),this._types.push(e),this._values.push(n)}clearData(e){let n=this._types.indexOf(e);n!==-1&&(this._types.splice(n,1),this._values.splice(n,1))}clear(){this._types.length=0,this._values.length=0}};var Private$13;(function(t){class e{constructor(c){var f,d,m,g;this._activated=!1,this._promise=null,this._service=null,this.id=c.id,this.description=(f=c.description)!==null&&f!==void 0?f:"",this.activate=c.activate,this.deactivate=(d=c.deactivate)!==null&&d!==void 0?d:null,this.provides=(m=c.provides)!==null&&m!==void 0?m:null,this.autoStart=(g=c.autoStart)!==null&&g!==void 0?g:!1,this.requires=c.requires?c.requires.slice():[],this.optional=c.optional?c.optional.slice():[]}get activated(){return this._activated}set activated(c){this._activated=c}get service(){return this._service}set service(c){this._service=c}get promise(){return this._promise}set promise(c){this._promise=c}}function n(l){return new e(l)}t.createPluginData=n;function i(l,c,f){const d=[...l.requires,...l.optional],m=v=>{if(v===l.provides)return!0;const y=f.get(v);if(!y)return!1;const w=c.get(y),T=[...w.requires,...w.optional];return T.length===0?!1:(g.push(y),T.some(m)?!0:(g.pop(),!1))};if(!l.provides||d.length===0)return;const g=[l.id];if(d.some(m))throw new ReferenceError(`Cycle detected: ${g.join(" -> ")}.`)}t.ensureNoCycle=i;function o(l,c,f){const d=new Array,m=T=>{const P=c.get(T),A=[...P.requires,...P.optional];d.push(...A.reduce((D,k)=>{const j=f.get(k);return j&&D.push([T,j]),D},[]))};for(const T of c.keys())m(T);const g=d.filter(T=>T[1]===l);let v=0;for(;g.length>v;){const T=g.length,P=new Set(g.map(A=>A[0]));for(const A of P)d.filter(D=>D[1]===A).forEach(D=>{g.includes(D)||g.push(D)});v=T}const y=topologicSort(g),w=y.findIndex(T=>T===l);return w===-1?[l]:y.slice(0,w+1)}t.findDependents=o;function u(l,c){const f=new Set;for(const d of l.keys())l.get(d).autoStart===!0&&f.add(d);if(c.startPlugins)for(const d of c.startPlugins)f.add(d);if(c.ignorePlugins)for(const d of c.ignorePlugins)f.delete(d);return Array.from(f)}t.collectStartupPlugins=u})(Private$13||(Private$13={}));let PromiseDelegate$1=class{constructor(){this.promise=new Promise((e,n)=>{this._resolve=e,this._reject=n})}resolve(e){let n=this._resolve;n(e)}reject(e){let n=this._reject;n(e)}};class Token{constructor(e,n){this.name=e,this.description=n??"",this._tokenStructuralPropertyT=null}}function fallbackRandomValues$2(t){let e=0;for(let n=0,i=t.length;n<i;++n)n%4===0&&(e=Math.random()*4294967295>>>0),t[n]=e&255,e>>>=8}var Random$2;(function(t){t.getRandomValues=(()=>{const e=typeof window<"u"&&(window.crypto||window.msCrypto)||null;return e&&typeof e.getRandomValues=="function"?function(i){return e.getRandomValues(i)}:fallbackRandomValues$2})()})(Random$2||(Random$2={}));function uuid4Factory$2(t){const e=new Uint8Array(16),n=new Array(256);for(let i=0;i<16;++i)n[i]="0"+i.toString(16);for(let i=16;i<256;++i)n[i]=i.toString(16);return function(){return t(e),e[6]=64|e[6]&15,e[8]=128|e[8]&63,n[e[0]]+n[e[1]]+n[e[2]]+n[e[3]]+"-"+n[e[4]]+n[e[5]]+"-"+n[e[6]]+n[e[7]]+"-"+n[e[8]]+n[e[9]]+"-"+n[e[10]]+n[e[11]]+n[e[12]]+n[e[13]]+n[e[14]]+n[e[15]]}}var UUID$2;(function(t){t.uuid4=uuid4Factory$2(Random$2.getRandomValues)})(UUID$2||(UUID$2={}));let Signal$2=class{constructor(e){this.sender=e}connect(e,n){return Private$12.connect(this,e,n)}disconnect(e,n){return Private$12.disconnect(this,e,n)}emit(e){Private$12.emit(this,e)}};(function(t){function e(f,d){Private$12.disconnectBetween(f,d)}t.disconnectBetween=e;function n(f){Private$12.disconnectSender(f)}t.disconnectSender=n;function i(f){Private$12.disconnectReceiver(f)}t.disconnectReceiver=i;function o(f){Private$12.disconnectAll(f)}t.disconnectAll=o;function u(f){Private$12.disconnectAll(f)}t.clearData=u;function l(){return Private$12.exceptionHandler}t.getExceptionHandler=l;function c(f){let d=Private$12.exceptionHandler;return Private$12.exceptionHandler=f,d}t.setExceptionHandler=c})(Signal$2||(Signal$2={}));let Stream$1=class extends Signal$2{constructor(){super(...arguments),this._pending=new PromiseDelegate$1}async*[Symbol.asyncIterator](){let e=this._pending;for(;;)try{const{args:n,next:i}=await e.promise;e=i,yield n}catch{return}}emit(e){const n=this._pending,i=this._pending=new PromiseDelegate$1;n.resolve({args:e,next:i}),super.emit(e)}stop(){this._pending.promise.catch(()=>{}),this._pending.reject("stop"),this._pending=new PromiseDelegate$1}};var Private$12;(function(t){t.exceptionHandler=D=>{console.error(D)};function e(D,k,j){j=j||void 0;let B=f.get(D.sender);if(B||(B=[],f.set(D.sender,B)),v(B,D,k,j))return!1;let Z=j||k,R=d.get(Z);R||(R=[],d.set(Z,R));let G={signal:D,slot:k,thisArg:j};return B.push(G),R.push(G),!0}t.connect=e;function n(D,k,j){j=j||void 0;let B=f.get(D.sender);if(!B||B.length===0)return!1;let Z=v(B,D,k,j);if(!Z)return!1;let R=j||k,G=d.get(R);return Z.signal=null,w(B),w(G),!0}t.disconnect=n;function i(D,k){let j=f.get(D);if(!j||j.length===0)return;let B=d.get(k);if(!(!B||B.length===0)){for(const Z of B)Z.signal&&Z.signal.sender===D&&(Z.signal=null);w(j),w(B)}}t.disconnectBetween=i;function o(D){let k=f.get(D);if(!(!k||k.length===0)){for(const j of k){if(!j.signal)continue;let B=j.thisArg||j.slot;j.signal=null,w(d.get(B))}w(k)}}t.disconnectSender=o;function u(D){let k=d.get(D);if(!(!k||k.length===0)){for(const j of k){if(!j.signal)continue;let B=j.signal.sender;j.signal=null,w(f.get(B))}w(k)}}t.disconnectReceiver=u;function l(D){o(D),u(D)}t.disconnectAll=l;function c(D,k){let j=f.get(D.sender);if(!(!j||j.length===0))for(let B=0,Z=j.length;B<Z;++B){let R=j[B];R.signal===D&&y(R,k)}}t.emit=c;const f=new WeakMap,d=new WeakMap,m=new Set,g=typeof requestAnimationFrame=="function"?requestAnimationFrame:setImmediate;function v(D,k,j,B){return find$4(D,Z=>Z.signal===k&&Z.slot===j&&Z.thisArg===B)}function y(D,k){let{signal:j,slot:B,thisArg:Z}=D;try{B.call(Z,j.sender,k)}catch(R){t.exceptionHandler(R)}}function w(D){m.size===0&&g(T),m.add(D)}function T(){m.forEach(P),m.clear()}function P(D){ArrayExt$4.removeAllWhere(D,A)}function A(D){return D.signal===null}})(Private$12||(Private$12={}));const index_es6$3=Object.freeze(Object.defineProperty({__proto__:null,get Signal(){return Signal$2},Stream:Stream$1},Symbol.toStringTag,{value:"Module"})),require$$0$2=getAugmentedNamespace(index_es6$3);var serverconnection={},lib$b={},activitymonitor={},hasRequiredActivitymonitor;function requireActivitymonitor(){if(hasRequiredActivitymonitor)return activitymonitor;hasRequiredActivitymonitor=1,Object.defineProperty(activitymonitor,"__esModule",{value:!0}),activitymonitor.ActivityMonitor=void 0;const t=require$$0$2;class e{constructor(i){this._timer=-1,this._timeout=-1,this._isDisposed=!1,this._activityStopped=new t.Signal(this),i.signal.connect(this._onSignalFired,this),this._timeout=i.timeout||1e3}get activityStopped(){return this._activityStopped}get timeout(){return this._timeout}set timeout(i){this._timeout=i}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,t.Signal.clearData(this))}_onSignalFired(i,o){clearTimeout(this._timer),this._sender=i,this._args=o,this._timer=setTimeout(()=>{this._activityStopped.emit({sender:this._sender,args:this._args})},this._timeout)}}return activitymonitor.ActivityMonitor=e,activitymonitor}var interfaces$1={},hasRequiredInterfaces$1;function requireInterfaces$1(){return hasRequiredInterfaces$1||(hasRequiredInterfaces$1=1,Object.defineProperty(interfaces$1,"__esModule",{value:!0})),interfaces$1}var lru={},hasRequiredLru;function requireLru(){if(hasRequiredLru)return lru;hasRequiredLru=1,Object.defineProperty(lru,"__esModule",{value:!0}),lru.LruCache=void 0;const t=128;class e{constructor(i={}){this._map=new Map,this._maxSize=i?.maxSize||t}get size(){return this._map.size}clear(){this._map.clear()}get(i){const o=this._map.get(i)||null;return o!=null&&(this._map.delete(i),this._map.set(i,o)),o}set(i,o){this._map.size>=this._maxSize&&this._map.delete(this._map.keys().next().value),this._map.set(i,o)}}return lru.LruCache=e,lru}var markdowncodeblocks={},hasRequiredMarkdowncodeblocks;function requireMarkdowncodeblocks(){if(hasRequiredMarkdowncodeblocks)return markdowncodeblocks;hasRequiredMarkdowncodeblocks=1,Object.defineProperty(markdowncodeblocks,"__esModule",{value:!0}),markdowncodeblocks.MarkdownCodeBlocks=void 0;var t;return(function(e){e.CODE_BLOCK_MARKER="```";const n=[".markdown",".mdown",".mkdn",".md",".mkd",".mdwn",".mdtxt",".mdtext",".text",".txt",".Rmd"];class i{constructor(c){this.startLine=c,this.code="",this.endLine=-1}}e.MarkdownCodeBlock=i;function o(l){return n.indexOf(l)>-1}e.isMarkdown=o;function u(l){if(!l||l==="")return[];const c=l.split(`
`),f=[];let d=null;for(let m=0;m<c.length;m++){const g=c[m],v=g.indexOf(e.CODE_BLOCK_MARKER)===0,y=d!=null;if(!(!v&&!y))if(y)d&&(v?(d.endLine=m-1,f.push(d),d=null):d.code+=g+`
`);else{d=new i(m);const w=g.indexOf(e.CODE_BLOCK_MARKER),T=g.lastIndexOf(e.CODE_BLOCK_MARKER);w!==T&&(d.code=g.substring(w+e.CODE_BLOCK_MARKER.length,T),d.endLine=m,f.push(d),d=null)}}return f}e.findMarkdownCodeBlocks=u})(t||(markdowncodeblocks.MarkdownCodeBlocks=t={})),markdowncodeblocks}var pageconfig={},dist$1={exports:{}};const require$$0$1=getAugmentedNamespace(index_es6$4);var dist=dist$1.exports,hasRequiredDist$1;function requireDist$1(){return hasRequiredDist$1||(hasRequiredDist$1=1,(function(t,e){(function(n,i){i(e,require$$0$1)})(dist,(function(n,i){n.JSONExt=void 0,(function(g){g.emptyObject=Object.freeze({}),g.emptyArray=Object.freeze([]);function v(B){return B===null||typeof B=="boolean"||typeof B=="number"||typeof B=="string"}g.isPrimitive=v;function y(B){return Array.isArray(B)}g.isArray=y;function w(B){return!v(B)&&!y(B)}g.isObject=w;function T(B,Z){if(B===Z)return!0;if(v(B)||v(Z))return!1;let R=y(B),G=y(Z);return R!==G?!1:R&&G?A(B,Z):D(B,Z)}g.deepEqual=T;function P(B){return v(B)?B:y(B)?k(B):j(B)}g.deepCopy=P;function A(B,Z){if(B===Z)return!0;if(B.length!==Z.length)return!1;for(let R=0,G=B.length;R<G;++R)if(!T(B[R],Z[R]))return!1;return!0}function D(B,Z){if(B===Z)return!0;for(let R in B)if(B[R]!==void 0&&!(R in Z))return!1;for(let R in Z)if(Z[R]!==void 0&&!(R in B))return!1;for(let R in B){let G=B[R],F=Z[R];if(!(G===void 0&&F===void 0)&&(G===void 0||F===void 0||!T(G,F)))return!1}return!0}function k(B){let Z=new Array(B.length);for(let R=0,G=B.length;R<G;++R)Z[R]=P(B[R]);return Z}function j(B){let Z={};for(let R in B){let G=B[R];G!==void 0&&(Z[R]=P(G))}return Z}})(n.JSONExt||(n.JSONExt={}));class o{constructor(){this._types=[],this._values=[]}types(){return this._types.slice()}hasData(v){return this._types.indexOf(v)!==-1}getData(v){let y=this._types.indexOf(v);return y!==-1?this._values[y]:void 0}setData(v,y){this.clearData(v),this._types.push(v),this._values.push(y)}clearData(v){let y=this._types.indexOf(v);y!==-1&&(this._types.splice(y,1),this._values.splice(y,1))}clear(){this._types.length=0,this._values.length=0}}class u{constructor(v={}){this._application=null,this._validatePlugin=()=>!0,this._plugins=new Map,this._services=new Map,v.validatePlugin&&(console.info("Plugins may be rejected by the custom validation plugin method."),this._validatePlugin=v.validatePlugin)}get application(){return this._application}set application(v){if(this._application!==null)throw Error("PluginRegistry.application is already set. It cannot be overridden.");this._application=v}get deferredPlugins(){return Array.from(this._plugins).filter(([v,y])=>y.autoStart==="defer").map(([v,y])=>v)}getPluginDescription(v){var y,w;return(w=(y=this._plugins.get(v))===null||y===void 0?void 0:y.description)!==null&&w!==void 0?w:""}hasPlugin(v){return this._plugins.has(v)}isPluginActivated(v){var y,w;return(w=(y=this._plugins.get(v))===null||y===void 0?void 0:y.activated)!==null&&w!==void 0?w:!1}listPlugins(){return Array.from(this._plugins.keys())}registerPlugin(v){if(this._plugins.has(v.id))throw new TypeError(`Plugin '${v.id}' is already registered.`);if(!this._validatePlugin(v))throw new Error(`Plugin '${v.id}' is not valid.`);const y=l.createPluginData(v);l.ensureNoCycle(y,this._plugins,this._services),y.provides&&this._services.set(y.provides,y.id),this._plugins.set(y.id,y)}registerPlugins(v){for(const y of v)this.registerPlugin(y)}deregisterPlugin(v,y){const w=this._plugins.get(v);if(w){if(w.activated&&!y)throw new Error(`Plugin '${v}' is still active.`);this._plugins.delete(v)}}async activatePlugin(v){const y=this._plugins.get(v);if(!y)throw new ReferenceError(`Plugin '${v}' is not registered.`);if(y.activated)return;if(y.promise)return y.promise;const w=y.requires.map(P=>this.resolveRequiredService(P)),T=y.optional.map(P=>this.resolveOptionalService(P));return y.promise=Promise.all([...w,...T]).then(P=>y.activate.apply(void 0,[this.application,...P])).then(P=>{y.service=P,y.activated=!0,y.promise=null}).catch(P=>{throw y.promise=null,P}),y.promise}async activatePlugins(v,y={}){switch(v){case"defer":{const w=this.deferredPlugins.filter(T=>this._plugins.get(T).autoStart).map(T=>this.activatePlugin(T));await Promise.all(w);break}case"startUp":{const T=l.collectStartupPlugins(this._plugins,y).map(async P=>{try{return await this.activatePlugin(P)}catch(A){console.error(`Plugin '${P}' failed to activate.`,A)}});await Promise.all(T);break}}}async deactivatePlugin(v){const y=this._plugins.get(v);if(!y)throw new ReferenceError(`Plugin '${v}' is not registered.`);if(!y.activated)return[];if(!y.deactivate)throw new TypeError(`Plugin '${v}'#deactivate() method missing`);const w=l.findDependents(v,this._plugins,this._services),T=w.map(P=>this._plugins.get(P));for(const P of T)if(!P.deactivate)throw new TypeError(`Plugin ${P.id}#deactivate() method missing (depends on ${v})`);for(const P of T){const A=[...P.requires,...P.optional].map(D=>{const k=this._services.get(D);return k?this._plugins.get(k).service:null});await P.deactivate(this.application,...A),P.service=null,P.activated=!1}return w.pop(),w}async resolveRequiredService(v){const y=this._services.get(v);if(!y)throw new TypeError(`No provider for: ${v.name}.`);const w=this._plugins.get(y);return w.activated||await this.activatePlugin(y),w.service}async resolveOptionalService(v){const y=this._services.get(v);if(!y)return null;const w=this._plugins.get(y);if(!w.activated)try{await this.activatePlugin(y)}catch(T){return console.error(T),null}return w.service}}var l;(function(g){class v{constructor(D){var k,j,B,Z;this._activated=!1,this._promise=null,this._service=null,this.id=D.id,this.description=(k=D.description)!==null&&k!==void 0?k:"",this.activate=D.activate,this.deactivate=(j=D.deactivate)!==null&&j!==void 0?j:null,this.provides=(B=D.provides)!==null&&B!==void 0?B:null,this.autoStart=(Z=D.autoStart)!==null&&Z!==void 0?Z:!1,this.requires=D.requires?D.requires.slice():[],this.optional=D.optional?D.optional.slice():[]}get activated(){return this._activated}set activated(D){this._activated=D}get service(){return this._service}set service(D){this._service=D}get promise(){return this._promise}set promise(D){this._promise=D}}function y(A){return new v(A)}g.createPluginData=y;function w(A,D,k){const j=[...A.requires,...A.optional],B=R=>{if(R===A.provides)return!0;const G=k.get(R);if(!G)return!1;const F=D.get(G),K=[...F.requires,...F.optional];return K.length===0?!1:(Z.push(G),K.some(B)?!0:(Z.pop(),!1))};if(!A.provides||j.length===0)return;const Z=[A.id];if(j.some(B))throw new ReferenceError(`Cycle detected: ${Z.join(" -> ")}.`)}g.ensureNoCycle=w;function T(A,D,k){const j=new Array,B=K=>{const Q=D.get(K),ie=[...Q.requires,...Q.optional];j.push(...ie.reduce((te,oe)=>{const le=k.get(oe);return le&&te.push([K,le]),te},[]))};for(const K of D.keys())B(K);const Z=j.filter(K=>K[1]===A);let R=0;for(;Z.length>R;){const K=Z.length,Q=new Set(Z.map(ie=>ie[0]));for(const ie of Q)j.filter(te=>te[1]===ie).forEach(te=>{Z.includes(te)||Z.push(te)});R=K}const G=i.topologicSort(Z),F=G.findIndex(K=>K===A);return F===-1?[A]:G.slice(0,F+1)}g.findDependents=T;function P(A,D){const k=new Set;for(const j of A.keys())A.get(j).autoStart===!0&&k.add(j);if(D.startPlugins)for(const j of D.startPlugins)k.add(j);if(D.ignorePlugins)for(const j of D.ignorePlugins)k.delete(j);return Array.from(k)}g.collectStartupPlugins=P})(l||(l={}));class c{constructor(){this.promise=new Promise((v,y)=>{this._resolve=v,this._reject=y})}resolve(v){let y=this._resolve;y(v)}reject(v){let y=this._reject;y(v)}}class f{constructor(v,y){this.name=v,this.description=y??"",this._tokenStructuralPropertyT=null}}function d(g){let v=0;for(let y=0,w=g.length;y<w;++y)y%4===0&&(v=Math.random()*4294967295>>>0),g[y]=v&255,v>>>=8}n.Random=void 0,(function(g){g.getRandomValues=(()=>{const v=typeof window<"u"&&(window.crypto||window.msCrypto)||null;return v&&typeof v.getRandomValues=="function"?function(w){return v.getRandomValues(w)}:d})()})(n.Random||(n.Random={}));function m(g){const v=new Uint8Array(16),y=new Array(256);for(let w=0;w<16;++w)y[w]="0"+w.toString(16);for(let w=16;w<256;++w)y[w]=w.toString(16);return function(){return g(v),v[6]=64|v[6]&15,v[8]=128|v[8]&63,y[v[0]]+y[v[1]]+y[v[2]]+y[v[3]]+"-"+y[v[4]]+y[v[5]]+"-"+y[v[6]]+y[v[7]]+"-"+y[v[8]]+y[v[9]]+"-"+y[v[10]]+y[v[11]]+y[v[12]]+y[v[13]]+y[v[14]]+y[v[15]]}}n.UUID=void 0,(function(g){g.uuid4=m(n.Random.getRandomValues)})(n.UUID||(n.UUID={})),n.MimeData=o,n.PluginRegistry=u,n.PromiseDelegate=c,n.Token=f}))})(dist$1,dist$1.exports)),dist$1.exports}var minimist,hasRequiredMinimist;function requireMinimist(){if(hasRequiredMinimist)return minimist;hasRequiredMinimist=1;function t(i,o){var u=i;o.slice(0,-1).forEach(function(c){u=u[c]||{}});var l=o[o.length-1];return l in u}function e(i){return typeof i=="number"||/^0x[0-9a-f]+$/i.test(i)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(i)}function n(i,o){return o==="constructor"&&typeof i[o]=="function"||o==="__proto__"}return minimist=function(i,o){o||(o={});var u={bools:{},strings:{},unknownFn:null};typeof o.unknown=="function"&&(u.unknownFn=o.unknown),typeof o.boolean=="boolean"&&o.boolean?u.allBools=!0:[].concat(o.boolean).filter(Boolean).forEach(function(R){u.bools[R]=!0});var l={};function c(R){return l[R].some(function(G){return u.bools[G]})}Object.keys(o.alias||{}).forEach(function(R){l[R]=[].concat(o.alias[R]),l[R].forEach(function(G){l[G]=[R].concat(l[R].filter(function(F){return G!==F}))})}),[].concat(o.string).filter(Boolean).forEach(function(R){u.strings[R]=!0,l[R]&&[].concat(l[R]).forEach(function(G){u.strings[G]=!0})});var f=o.default||{},d={_:[]};function m(R,G){return u.allBools&&/^--[^=]+$/.test(G)||u.strings[R]||u.bools[R]||l[R]}function g(R,G,F){for(var K=R,Q=0;Q<G.length-1;Q++){var ie=G[Q];if(n(K,ie))return;K[ie]===void 0&&(K[ie]={}),(K[ie]===Object.prototype||K[ie]===Number.prototype||K[ie]===String.prototype)&&(K[ie]={}),K[ie]===Array.prototype&&(K[ie]=[]),K=K[ie]}var te=G[G.length-1];n(K,te)||((K===Object.prototype||K===Number.prototype||K===String.prototype)&&(K={}),K===Array.prototype&&(K=[]),K[te]===void 0||u.bools[te]||typeof K[te]=="boolean"?K[te]=F:Array.isArray(K[te])?K[te].push(F):K[te]=[K[te],F])}function v(R,G,F){if(!(F&&u.unknownFn&&!m(R,F)&&u.unknownFn(F)===!1)){var K=!u.strings[R]&&e(G)?Number(G):G;g(d,R.split("."),K),(l[R]||[]).forEach(function(Q){g(d,Q.split("."),K)})}}Object.keys(u.bools).forEach(function(R){v(R,f[R]===void 0?!1:f[R])});var y=[];i.indexOf("--")!==-1&&(y=i.slice(i.indexOf("--")+1),i=i.slice(0,i.indexOf("--")));for(var w=0;w<i.length;w++){var T=i[w],P,A;if(/^--.+=/.test(T)){var D=T.match(/^--([^=]+)=([\s\S]*)$/);P=D[1];var k=D[2];u.bools[P]&&(k=k!=="false"),v(P,k,T)}else if(/^--no-.+/.test(T))P=T.match(/^--no-(.+)/)[1],v(P,!1,T);else if(/^--.+/.test(T))P=T.match(/^--(.+)/)[1],A=i[w+1],A!==void 0&&!/^(-|--)[^-]/.test(A)&&!u.bools[P]&&!u.allBools&&(!l[P]||!c(P))?(v(P,A,T),w+=1):/^(true|false)$/.test(A)?(v(P,A==="true",T),w+=1):v(P,u.strings[P]?"":!0,T);else if(/^-[^-]+/.test(T)){for(var j=T.slice(1,-1).split(""),B=!1,Z=0;Z<j.length;Z++){if(A=T.slice(Z+2),A==="-"){v(j[Z],A,T);continue}if(/[A-Za-z]/.test(j[Z])&&A[0]==="="){v(j[Z],A.slice(1),T),B=!0;break}if(/[A-Za-z]/.test(j[Z])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(A)){v(j[Z],A,T),B=!0;break}if(j[Z+1]&&j[Z+1].match(/\W/)){v(j[Z],T.slice(Z+2),T),B=!0;break}else v(j[Z],u.strings[j[Z]]?"":!0,T)}P=T.slice(-1)[0],!B&&P!=="-"&&(i[w+1]&&!/^(-|--)[^-]/.test(i[w+1])&&!u.bools[P]&&(!l[P]||!c(P))?(v(P,i[w+1],T),w+=1):i[w+1]&&/^(true|false)$/.test(i[w+1])?(v(P,i[w+1]==="true",T),w+=1):v(P,u.strings[P]?"":!0,T))}else if((!u.unknownFn||u.unknownFn(T)!==!1)&&d._.push(u.strings._||!e(T)?T:Number(T)),o.stopEarly){d._.push.apply(d._,i.slice(w+1));break}}return Object.keys(f).forEach(function(R){t(d,R.split("."))||(g(d,R.split("."),f[R]),(l[R]||[]).forEach(function(G){g(d,G.split("."),f[R])}))}),o["--"]?d["--"]=y.slice():y.forEach(function(R){d._.push(R)}),d},minimist}var url={},pathBrowserify,hasRequiredPathBrowserify;function requirePathBrowserify(){if(hasRequiredPathBrowserify)return pathBrowserify;hasRequiredPathBrowserify=1;function t(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function e(o,u){for(var l="",c=0,f=-1,d=0,m,g=0;g<=o.length;++g){if(g<o.length)m=o.charCodeAt(g);else{if(m===47)break;m=47}if(m===47){if(!(f===g-1||d===1))if(f!==g-1&&d===2){if(l.length<2||c!==2||l.charCodeAt(l.length-1)!==46||l.charCodeAt(l.length-2)!==46){if(l.length>2){var v=l.lastIndexOf("/");if(v!==l.length-1){v===-1?(l="",c=0):(l=l.slice(0,v),c=l.length-1-l.lastIndexOf("/")),f=g,d=0;continue}}else if(l.length===2||l.length===1){l="",c=0,f=g,d=0;continue}}u&&(l.length>0?l+="/..":l="..",c=2)}else l.length>0?l+="/"+o.slice(f+1,g):l=o.slice(f+1,g),c=g-f-1;f=g,d=0}else m===46&&d!==-1?++d:d=-1}return l}function n(o,u){var l=u.dir||u.root,c=u.base||(u.name||"")+(u.ext||"");return l?l===u.root?l+c:l+o+c:c}var i={resolve:function(){for(var u="",l=!1,c,f=arguments.length-1;f>=-1&&!l;f--){var d;f>=0?d=arguments[f]:(c===void 0&&(c=process.cwd()),d=c),t(d),d.length!==0&&(u=d+"/"+u,l=d.charCodeAt(0)===47)}return u=e(u,!l),l?u.length>0?"/"+u:"/":u.length>0?u:"."},normalize:function(u){if(t(u),u.length===0)return".";var l=u.charCodeAt(0)===47,c=u.charCodeAt(u.length-1)===47;return u=e(u,!l),u.length===0&&!l&&(u="."),u.length>0&&c&&(u+="/"),l?"/"+u:u},isAbsolute:function(u){return t(u),u.length>0&&u.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var u,l=0;l<arguments.length;++l){var c=arguments[l];t(c),c.length>0&&(u===void 0?u=c:u+="/"+c)}return u===void 0?".":i.normalize(u)},relative:function(u,l){if(t(u),t(l),u===l||(u=i.resolve(u),l=i.resolve(l),u===l))return"";for(var c=1;c<u.length&&u.charCodeAt(c)===47;++c);for(var f=u.length,d=f-c,m=1;m<l.length&&l.charCodeAt(m)===47;++m);for(var g=l.length,v=g-m,y=d<v?d:v,w=-1,T=0;T<=y;++T){if(T===y){if(v>y){if(l.charCodeAt(m+T)===47)return l.slice(m+T+1);if(T===0)return l.slice(m+T)}else d>y&&(u.charCodeAt(c+T)===47?w=T:T===0&&(w=0));break}var P=u.charCodeAt(c+T),A=l.charCodeAt(m+T);if(P!==A)break;P===47&&(w=T)}var D="";for(T=c+w+1;T<=f;++T)(T===f||u.charCodeAt(T)===47)&&(D.length===0?D+="..":D+="/..");return D.length>0?D+l.slice(m+w):(m+=w,l.charCodeAt(m)===47&&++m,l.slice(m))},_makeLong:function(u){return u},dirname:function(u){if(t(u),u.length===0)return".";for(var l=u.charCodeAt(0),c=l===47,f=-1,d=!0,m=u.length-1;m>=1;--m)if(l=u.charCodeAt(m),l===47){if(!d){f=m;break}}else d=!1;return f===-1?c?"/":".":c&&f===1?"//":u.slice(0,f)},basename:function(u,l){if(l!==void 0&&typeof l!="string")throw new TypeError('"ext" argument must be a string');t(u);var c=0,f=-1,d=!0,m;if(l!==void 0&&l.length>0&&l.length<=u.length){if(l.length===u.length&&l===u)return"";var g=l.length-1,v=-1;for(m=u.length-1;m>=0;--m){var y=u.charCodeAt(m);if(y===47){if(!d){c=m+1;break}}else v===-1&&(d=!1,v=m+1),g>=0&&(y===l.charCodeAt(g)?--g===-1&&(f=m):(g=-1,f=v))}return c===f?f=v:f===-1&&(f=u.length),u.slice(c,f)}else{for(m=u.length-1;m>=0;--m)if(u.charCodeAt(m)===47){if(!d){c=m+1;break}}else f===-1&&(d=!1,f=m+1);return f===-1?"":u.slice(c,f)}},extname:function(u){t(u);for(var l=-1,c=0,f=-1,d=!0,m=0,g=u.length-1;g>=0;--g){var v=u.charCodeAt(g);if(v===47){if(!d){c=g+1;break}continue}f===-1&&(d=!1,f=g+1),v===46?l===-1?l=g:m!==1&&(m=1):l!==-1&&(m=-1)}return l===-1||f===-1||m===0||m===1&&l===f-1&&l===c+1?"":u.slice(l,f)},format:function(u){if(u===null||typeof u!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof u);return n("/",u)},parse:function(u){t(u);var l={root:"",dir:"",base:"",ext:"",name:""};if(u.length===0)return l;var c=u.charCodeAt(0),f=c===47,d;f?(l.root="/",d=1):d=0;for(var m=-1,g=0,v=-1,y=!0,w=u.length-1,T=0;w>=d;--w){if(c=u.charCodeAt(w),c===47){if(!y){g=w+1;break}continue}v===-1&&(y=!1,v=w+1),c===46?m===-1?m=w:T!==1&&(T=1):m!==-1&&(T=-1)}return m===-1||v===-1||T===0||T===1&&m===v-1&&m===g+1?v!==-1&&(g===0&&f?l.base=l.name=u.slice(1,v):l.base=l.name=u.slice(g,v)):(g===0&&f?(l.name=u.slice(1,m),l.base=u.slice(1,v)):(l.name=u.slice(g,m),l.base=u.slice(g,v)),l.ext=u.slice(m,v)),g>0?l.dir=u.slice(0,g-1):f&&(l.dir="/"),l},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,pathBrowserify=i,pathBrowserify}var requiresPort,hasRequiredRequiresPort;function requireRequiresPort(){return hasRequiredRequiresPort||(hasRequiredRequiresPort=1,requiresPort=function(e,n){if(n=n.split(":")[0],e=+e,!e)return!1;switch(n){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0}),requiresPort}var querystringify={},hasRequiredQuerystringify;function requireQuerystringify(){if(hasRequiredQuerystringify)return querystringify;hasRequiredQuerystringify=1;var t=Object.prototype.hasOwnProperty,e;function n(l){try{return decodeURIComponent(l.replace(/\+/g," "))}catch{return null}}function i(l){try{return encodeURIComponent(l)}catch{return null}}function o(l){for(var c=/([^=?#&]+)=?([^&]*)/g,f={},d;d=c.exec(l);){var m=n(d[1]),g=n(d[2]);m===null||g===null||m in f||(f[m]=g)}return f}function u(l,c){c=c||"";var f=[],d,m;typeof c!="string"&&(c="?");for(m in l)if(t.call(l,m)){if(d=l[m],!d&&(d===null||d===e||isNaN(d))&&(d=""),m=i(m),d=i(d),m===null||d===null)continue;f.push(m+"="+d)}return f.length?c+f.join("&"):""}return querystringify.stringify=u,querystringify.parse=o,querystringify}var urlParse,hasRequiredUrlParse;function requireUrlParse(){if(hasRequiredUrlParse)return urlParse;hasRequiredUrlParse=1;var t=requireRequiresPort(),e=requireQuerystringify(),n=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,i=/[\n\r\t]/g,o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,u=/:\d+$/,l=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,c=/^[a-zA-Z]:/;function f(D){return(D||"").toString().replace(n,"")}var d=[["#","hash"],["?","query"],function(k,j){return v(j.protocol)?k.replace(/\\/g,"/"):k},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],m={hash:1,query:1};function g(D){var k;typeof window<"u"?k=window:typeof globalThis<"u"?k=globalThis:typeof self<"u"?k=self:k={};var j=k.location||{};D=D||j;var B={},Z=typeof D,R;if(D.protocol==="blob:")B=new T(unescape(D.pathname),{});else if(Z==="string"){B=new T(D,{});for(R in m)delete B[R]}else if(Z==="object"){for(R in D)R in m||(B[R]=D[R]);B.slashes===void 0&&(B.slashes=o.test(D.href))}return B}function v(D){return D==="file:"||D==="ftp:"||D==="http:"||D==="https:"||D==="ws:"||D==="wss:"}function y(D,k){D=f(D),D=D.replace(i,""),k=k||{};var j=l.exec(D),B=j[1]?j[1].toLowerCase():"",Z=!!j[2],R=!!j[3],G=0,F;return Z?R?(F=j[2]+j[3]+j[4],G=j[2].length+j[3].length):(F=j[2]+j[4],G=j[2].length):R?(F=j[3]+j[4],G=j[3].length):F=j[4],B==="file:"?G>=2&&(F=F.slice(2)):v(B)?F=j[4]:B?Z&&(F=F.slice(2)):G>=2&&v(k.protocol)&&(F=j[4]),{protocol:B,slashes:Z||v(B),slashesCount:G,rest:F}}function w(D,k){if(D==="")return k;for(var j=(k||"/").split("/").slice(0,-1).concat(D.split("/")),B=j.length,Z=j[B-1],R=!1,G=0;B--;)j[B]==="."?j.splice(B,1):j[B]===".."?(j.splice(B,1),G++):G&&(B===0&&(R=!0),j.splice(B,1),G--);return R&&j.unshift(""),(Z==="."||Z==="..")&&j.push(""),j.join("/")}function T(D,k,j){if(D=f(D),D=D.replace(i,""),!(this instanceof T))return new T(D,k,j);var B,Z,R,G,F,K,Q=d.slice(),ie=typeof k,te=this,oe=0;for(ie!=="object"&&ie!=="string"&&(j=k,k=null),j&&typeof j!="function"&&(j=e.parse),k=g(k),Z=y(D||"",k),B=!Z.protocol&&!Z.slashes,te.slashes=Z.slashes||B&&k.slashes,te.protocol=Z.protocol||k.protocol||"",D=Z.rest,(Z.protocol==="file:"&&(Z.slashesCount!==2||c.test(D))||!Z.slashes&&(Z.protocol||Z.slashesCount<2||!v(te.protocol)))&&(Q[3]=[/(.*)/,"pathname"]);oe<Q.length;oe++){if(G=Q[oe],typeof G=="function"){D=G(D,te);continue}R=G[0],K=G[1],R!==R?te[K]=D:typeof R=="string"?(F=R==="@"?D.lastIndexOf(R):D.indexOf(R),~F&&(typeof G[2]=="number"?(te[K]=D.slice(0,F),D=D.slice(F+G[2])):(te[K]=D.slice(F),D=D.slice(0,F)))):(F=R.exec(D))&&(te[K]=F[1],D=D.slice(0,F.index)),te[K]=te[K]||B&&G[3]&&k[K]||"",G[4]&&(te[K]=te[K].toLowerCase())}j&&(te.query=j(te.query)),B&&k.slashes&&te.pathname.charAt(0)!=="/"&&(te.pathname!==""||k.pathname!=="")&&(te.pathname=w(te.pathname,k.pathname)),te.pathname.charAt(0)!=="/"&&v(te.protocol)&&(te.pathname="/"+te.pathname),t(te.port,te.protocol)||(te.host=te.hostname,te.port=""),te.username=te.password="",te.auth&&(F=te.auth.indexOf(":"),~F?(te.username=te.auth.slice(0,F),te.username=encodeURIComponent(decodeURIComponent(te.username)),te.password=te.auth.slice(F+1),te.password=encodeURIComponent(decodeURIComponent(te.password))):te.username=encodeURIComponent(decodeURIComponent(te.auth)),te.auth=te.password?te.username+":"+te.password:te.username),te.origin=te.protocol!=="file:"&&v(te.protocol)&&te.host?te.protocol+"//"+te.host:"null",te.href=te.toString()}function P(D,k,j){var B=this;switch(D){case"query":typeof k=="string"&&k.length&&(k=(j||e.parse)(k)),B[D]=k;break;case"port":B[D]=k,t(k,B.protocol)?k&&(B.host=B.hostname+":"+k):(B.host=B.hostname,B[D]="");break;case"hostname":B[D]=k,B.port&&(k+=":"+B.port),B.host=k;break;case"host":B[D]=k,u.test(k)?(k=k.split(":"),B.port=k.pop(),B.hostname=k.join(":")):(B.hostname=k,B.port="");break;case"protocol":B.protocol=k.toLowerCase(),B.slashes=!j;break;case"pathname":case"hash":if(k){var Z=D==="pathname"?"/":"#";B[D]=k.charAt(0)!==Z?Z+k:k}else B[D]=k;break;case"username":case"password":B[D]=encodeURIComponent(k);break;case"auth":var R=k.indexOf(":");~R?(B.username=k.slice(0,R),B.username=encodeURIComponent(decodeURIComponent(B.username)),B.password=k.slice(R+1),B.password=encodeURIComponent(decodeURIComponent(B.password))):B.username=encodeURIComponent(decodeURIComponent(k))}for(var G=0;G<d.length;G++){var F=d[G];F[4]&&(B[F[1]]=B[F[1]].toLowerCase())}return B.auth=B.password?B.username+":"+B.password:B.username,B.origin=B.protocol!=="file:"&&v(B.protocol)&&B.host?B.protocol+"//"+B.host:"null",B.href=B.toString(),B}function A(D){(!D||typeof D!="function")&&(D=e.stringify);var k,j=this,B=j.host,Z=j.protocol;Z&&Z.charAt(Z.length-1)!==":"&&(Z+=":");var R=Z+(j.protocol&&j.slashes||v(j.protocol)?"//":"");return j.username?(R+=j.username,j.password&&(R+=":"+j.password),R+="@"):j.password?(R+=":"+j.password,R+="@"):j.protocol!=="file:"&&v(j.protocol)&&!B&&j.pathname!=="/"&&(R+="@"),(B[B.length-1]===":"||u.test(j.hostname)&&!j.port)&&(B+=":"),R+=B+j.pathname,k=typeof j.query=="object"?D(j.query):j.query,k&&(R+=k.charAt(0)!=="?"?"?"+k:k),j.hash&&(R+=j.hash),R}return T.prototype={set:P,toString:A},T.extractProtocol=y,T.location=g,T.trimLeft=f,T.qs=e,urlParse=T,urlParse}var hasRequiredUrl;function requireUrl(){if(hasRequiredUrl)return url;hasRequiredUrl=1;var t=url&&url.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(url,"__esModule",{value:!0}),url.URLExt=void 0;const e=requirePathBrowserify(),n=t(requireUrlParse());var i;return(function(o){function u(y){if(typeof document<"u"&&document){const w=document.createElement("a");return w.href=y,w}return(0,n.default)(y)}o.parse=u;function l(y){return(0,n.default)(y).hostname}o.getHostName=l;function c(y){return y&&u(y).toString()}o.normalize=c;function f(...y){let w=(0,n.default)(y[0],{});const T=w.protocol===""&&w.slashes;T&&(w=(0,n.default)(y[0],"https:"+y[0]));const P=`${T?"":w.protocol}${w.slashes?"//":""}${w.auth}${w.auth?"@":""}${w.host}`,A=e.posix.join(`${P&&w.pathname[0]!=="/"?"/":""}${w.pathname}`,...y.slice(1));return`${P}${A==="."?"":A}`}o.join=f;function d(y){return f(...y.split("/").map(encodeURIComponent))}o.encodeParts=d;function m(y){const w=Object.keys(y).filter(T=>T.length>0);return w.length?"?"+w.map(T=>{const P=encodeURIComponent(String(y[T]));return T+(P?"="+P:"")}).join("&"):""}o.objectToQueryString=m;function g(y){return y.replace(/^\?/,"").split("&").reduce((w,T)=>{const[P,A]=T.split("=");return P.length>0&&(w[P]=decodeURIComponent(A||"")),w},{})}o.queryStringToObject=g;function v(y,w=!1){const{protocol:T}=u(y);return(!T||y.toLowerCase().indexOf(T)!==0)&&(w?y.indexOf("//")!==0:y.indexOf("/")!==0)}o.isLocal=v})(i||(url.URLExt=i={})),url}var hasRequiredPageconfig;function requirePageconfig(){if(hasRequiredPageconfig)return pageconfig;hasRequiredPageconfig=1;var define_process_env_default={},__importDefault=pageconfig&&pageconfig.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pageconfig,"__esModule",{value:!0}),pageconfig.PageConfig=void 0;const coreutils_1=requireDist$1(),minimist_1=__importDefault(requireMinimist()),url_1=requireUrl();var PageConfig;return(function(PageConfig){function getOption(name){if(configData)return configData[name]||getBodyData(name);configData=Object.create(null);let found=!1;if(typeof document<"u"&&document){const t=document.getElementById("jupyter-config-data");t&&(configData=JSON.parse(t.textContent||""),found=!0)}if(!found&&typeof process<"u"&&process.argv)try{const cli=(0,minimist_1.default)(process.argv.slice(2)),path=requirePathBrowserify();let fullPath="";"jupyter-config-data"in cli?fullPath=path.resolve(cli["jupyter-config-data"]):"JUPYTER_CONFIG_DATA"in define_process_env_default&&(fullPath=path.resolve(define_process_env_default.JUPYTER_CONFIG_DATA)),fullPath&&(configData=eval("require")(fullPath))}catch(t){console.error(t)}if(!coreutils_1.JSONExt.isObject(configData))configData=Object.create(null);else for(const t in configData)typeof configData[t]!="string"&&(configData[t]=JSON.stringify(configData[t]));return configData[name]||getBodyData(name)}PageConfig.getOption=getOption;function setOption(t,e){const n=getOption(t);return configData[t]=e,n}PageConfig.setOption=setOption;function getBaseUrl(){return url_1.URLExt.normalize(getOption("baseUrl")||"/")}PageConfig.getBaseUrl=getBaseUrl;function getTreeUrl(){return url_1.URLExt.join(getBaseUrl(),getOption("treeUrl"))}PageConfig.getTreeUrl=getTreeUrl;function getShareUrl(){return url_1.URLExt.normalize(getOption("shareUrl")||getBaseUrl())}PageConfig.getShareUrl=getShareUrl;function getTreeShareUrl(){return url_1.URLExt.normalize(url_1.URLExt.join(getShareUrl(),getOption("treeUrl")))}PageConfig.getTreeShareUrl=getTreeShareUrl;function getUrl(t){var e,n,i,o;let u=t.toShare?getShareUrl():getBaseUrl();const l=(e=t.mode)!==null&&e!==void 0?e:getOption("mode"),c=(n=t.workspace)!==null&&n!==void 0?n:getOption("workspace"),f=l==="single-document"?"doc":"lab";u=url_1.URLExt.join(u,f),c!==PageConfig.defaultWorkspace&&(u=url_1.URLExt.join(u,"workspaces",encodeURIComponent((i=getOption("workspace"))!==null&&i!==void 0?i:PageConfig.defaultWorkspace)));const d=(o=t.treePath)!==null&&o!==void 0?o:getOption("treePath");return d&&(u=url_1.URLExt.join(u,"tree",url_1.URLExt.encodeParts(d))),u}PageConfig.getUrl=getUrl,PageConfig.defaultWorkspace="default";function getWsUrl(t){let e=getOption("wsUrl");if(!e){if(t=t?url_1.URLExt.normalize(t):getBaseUrl(),t.indexOf("http")!==0)return"";e="ws"+t.slice(4)}return url_1.URLExt.normalize(e)}PageConfig.getWsUrl=getWsUrl;function getNBConvertURL({path:t,format:e,download:n}){const i=url_1.URLExt.encodeParts(t),o=url_1.URLExt.join(getBaseUrl(),"nbconvert",e,i);return n?o+"?download=true":o}PageConfig.getNBConvertURL=getNBConvertURL;function getToken(){return getOption("token")||getBodyData("jupyterApiToken")}PageConfig.getToken=getToken;function getNotebookVersion(){const t=getOption("notebookVersion");return t===""?[0,0,0]:JSON.parse(t)}PageConfig.getNotebookVersion=getNotebookVersion;let configData=null;function getBodyData(t){if(typeof document>"u"||!document.body)return"";const e=document.body.dataset[t];return typeof e>"u"?"":decodeURIComponent(e)}(function(t){function e(o){try{const u=getOption(o);if(u)return JSON.parse(u)}catch(u){console.warn(`Unable to parse ${o}.`,u)}return[]}t.deferred=e("deferredExtensions"),t.disabled=e("disabledExtensions");function n(o){const u=o.indexOf(":");let l="";return u!==-1&&(l=o.slice(0,u)),t.deferred.some(c=>c===o||l&&c===l)}t.isDeferred=n;function i(o){const u=o.indexOf(":");let l="";return u!==-1&&(l=o.slice(0,u)),t.disabled.some(c=>c===o||l&&c===l)}t.isDisabled=i})(PageConfig.Extension||(PageConfig.Extension={}))})(PageConfig||(pageconfig.PageConfig=PageConfig={})),pageconfig}var path={},hasRequiredPath;function requirePath(){if(hasRequiredPath)return path;hasRequiredPath=1,Object.defineProperty(path,"__esModule",{value:!0}),path.PathExt=void 0;const t=requirePathBrowserify();var e;return(function(n){function i(...y){const w=t.posix.join(...y);return w==="."?"":v(w)}n.join=i;function o(...y){const w=t.posix.join(...y);return w==="."?"":w}n.joinWithLeadingSlash=o;function u(y,w){return t.posix.basename(y,w)}n.basename=u;function l(y){const w=v(t.posix.dirname(y));return w==="."?"":w}n.dirname=l;function c(y){return t.posix.extname(y)}n.extname=c;function f(y){return y===""?"":v(t.posix.normalize(y))}n.normalize=f;function d(...y){return v(t.posix.resolve(...y))}n.resolve=d;function m(y,w){return v(t.posix.relative(y,w))}n.relative=m;function g(y){return y.length>0&&y.indexOf(".")!==0&&(y=`.${y}`),y}n.normalizeExtension=g;function v(y){return y.indexOf("/")===0&&(y=y.slice(1)),y}n.removeSlash=v})(e||(path.PathExt=e={})),path}var signal={},hasRequiredSignal;function requireSignal(){if(hasRequiredSignal)return signal;hasRequiredSignal=1,Object.defineProperty(signal,"__esModule",{value:!0}),signal.signalToPromise=e;const t=requireDist$1();function e(n,i){const o=new t.PromiseDelegate;function u(){n.disconnect(l)}function l(c,f){u(),o.resolve([c,f])}return n.connect(l),(i??0)>0&&setTimeout(()=>{u(),o.reject(`Signal not emitted within ${i} ms.`)},i),o.promise}return signal}var text$1={},hasRequiredText;function requireText(){if(hasRequiredText)return text$1;hasRequiredText=1,Object.defineProperty(text$1,"__esModule",{value:!0}),text$1.Text=void 0;var t;return(function(e){function i(c,f){return c}e.jsIndexToCharIndex=i;function o(c,f){return c}e.charIndexToJsIndex=o;function u(c,f=!1){return c.replace(/^(\w)|[\s-_:]+(\w)/g,function(d,m,g){return g?g.toUpperCase():f?m.toUpperCase():m.toLowerCase()})}e.camelCase=u;function l(c){return(c||"").toLowerCase().split(" ").map(f=>f.charAt(0).toUpperCase()+f.slice(1)).join(" ")}e.titleCase=l})(t||(text$1.Text=t={})),text$1}var time={},hasRequiredTime;function requireTime(){if(hasRequiredTime)return time;hasRequiredTime=1,Object.defineProperty(time,"__esModule",{value:!0}),time.Time=void 0;const t=[{name:"years",milliseconds:365*24*60*60*1e3},{name:"months",milliseconds:720*60*60*1e3},{name:"days",milliseconds:1440*60*1e3},{name:"hours",milliseconds:3600*1e3},{name:"minutes",milliseconds:60*1e3},{name:"seconds",milliseconds:1e3}];var e;return(function(n){function i(u,l="long"){const c=document.documentElement.lang||"en",f=new Intl.RelativeTimeFormat(c,{numeric:"auto",style:l}),d=new Date(u).getTime()-Date.now();for(let m of t){const g=Math.ceil(d/m.milliseconds);if(g!==0)return f.format(g,m.name)}return f.format(0,"seconds")}n.formatHuman=i;function o(u){const l=document.documentElement.lang||"en";return new Intl.DateTimeFormat(l,{dateStyle:"short",timeStyle:"short"}).format(new Date(u))}n.format=o})(e||(time.Time=e={})),time}var pluginregistry={},hasRequiredPluginregistry;function requirePluginregistry(){if(hasRequiredPluginregistry)return pluginregistry;hasRequiredPluginregistry=1,Object.defineProperty(pluginregistry,"__esModule",{value:!0}),pluginregistry.JupyterPluginRegistry=void 0;const t=requireDist$1(),e=5e3;class n extends t.PluginRegistry{constructor(o){var u;super(o),this._pluginData=new Map,this._expectedActivationTime=(u=o?.expectedActivationTime)!==null&&u!==void 0?u:e}registerPlugin(o){return this._pluginData.set(o.id,o),super.registerPlugin(o)}async activatePlugin(o){const u=performance.now();let l=setTimeout(()=>{console.warn(`Plugin ${o} is taking too long to activate.`)},this._expectedActivationTime);try{const c=await super.activatePlugin(o);clearTimeout(l);const d=performance.now()-u;if(d>=this._expectedActivationTime){const m=this._getDependentCount(o);console.warn(`Plugin ${o} (with ${m} dependants) took ${d.toFixed(2)}ms to activate.`)}return c}catch(c){throw clearTimeout(l),console.error(`Error activating plugin: ${o}`,c),c}}_getDependentCount(o){var u;const l=this._pluginData.get(o);if(!l?.provides)return 0;const c=l.provides.name;let f=0;for(const[d,m]of this._pluginData.entries()){if(d===o)continue;!((u=m.requires)===null||u===void 0)&&u.filter(v=>!!v).some(v=>v.name===c)&&f++}return f}}return pluginregistry.JupyterPluginRegistry=n,pluginregistry}var hasRequiredLib$c;function requireLib$c(){return hasRequiredLib$c||(hasRequiredLib$c=1,(function(t){var e=lib$b&&lib$b.__createBinding||(Object.create?(function(i,o,u,l){l===void 0&&(l=u);var c=Object.getOwnPropertyDescriptor(o,u);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[u]}}),Object.defineProperty(i,l,c)}):(function(i,o,u,l){l===void 0&&(l=u),i[l]=o[u]})),n=lib$b&&lib$b.__exportStar||function(i,o){for(var u in i)u!=="default"&&!Object.prototype.hasOwnProperty.call(o,u)&&e(o,i,u)};Object.defineProperty(t,"__esModule",{value:!0}),n(requireActivitymonitor(),t),n(requireInterfaces$1(),t),n(requireLru(),t),n(requireMarkdowncodeblocks(),t),n(requirePageconfig(),t),n(requirePath(),t),n(requireSignal(),t),n(requireText(),t),n(requireTime(),t),n(requireUrl(),t),n(requirePluginregistry(),t)})(lib$b)),lib$b}var serialize$1={},messages={},hasRequiredMessages;function requireMessages(){if(hasRequiredMessages)return messages;hasRequiredMessages=1,Object.defineProperty(messages,"__esModule",{value:!0}),messages.supportedKernelWebSocketProtocols=void 0,messages.createMessage=e,messages.isStreamMsg=n,messages.isDisplayDataMsg=i,messages.isUpdateDisplayDataMsg=o,messages.isExecuteInputMsg=u,messages.isExecuteResultMsg=l,messages.isErrorMsg=c,messages.isStatusMsg=f,messages.isClearOutputMsg=d,messages.isDebugEventMsg=m,messages.isCommOpenMsg=g,messages.isCommCloseMsg=v,messages.isCommMsgMsg=y,messages.isInfoRequestMsg=w,messages.isExecuteReplyMsg=T,messages.isDebugRequestMsg=P,messages.isDebugReplyMsg=A,messages.isInputRequestMsg=D,messages.isInputReplyMsg=k;const t=requireDist$1();function e(B){var Z,R,G,F,K,Q;return{buffers:(Z=B.buffers)!==null&&Z!==void 0?Z:[],channel:B.channel,content:B.content,header:{date:new Date().toISOString(),msg_id:(R=B.msgId)!==null&&R!==void 0?R:t.UUID.uuid4(),msg_type:B.msgType,session:B.session,username:(G=B.username)!==null&&G!==void 0?G:"",subshell_id:(F=B.subshellId)!==null&&F!==void 0?F:null,version:"5.2"},metadata:(K=B.metadata)!==null&&K!==void 0?K:{},parent_header:(Q=B.parentHeader)!==null&&Q!==void 0?Q:{}}}function n(B){return B.header.msg_type==="stream"}function i(B){return B.header.msg_type==="display_data"}function o(B){return B.header.msg_type==="update_display_data"}function u(B){return B.header.msg_type==="execute_input"}function l(B){return B.header.msg_type==="execute_result"}function c(B){return B.header.msg_type==="error"}function f(B){return B.header.msg_type==="status"}function d(B){return B.header.msg_type==="clear_output"}function m(B){return B.header.msg_type==="debug_event"}function g(B){return B.header.msg_type==="comm_open"}function v(B){return B.header.msg_type==="comm_close"}function y(B){return B.header.msg_type==="comm_msg"}function w(B){return B.header.msg_type==="kernel_info_request"}function T(B){return B.header.msg_type==="execute_reply"}function P(B){return B.header.msg_type==="debug_request"}function A(B){return B.header.msg_type==="debug_reply"}function D(B){return B.header.msg_type==="input_request"}function k(B){return B.header.msg_type==="input_reply"}var j;return(function(B){B.v1KernelWebsocketJupyterOrg="v1.kernel.websocket.jupyter.org"})(j||(messages.supportedKernelWebSocketProtocols=j={})),messages}var hasRequiredSerialize;function requireSerialize(){if(hasRequiredSerialize)return serialize$1;hasRequiredSerialize=1;var t=serialize$1&&serialize$1.__createBinding||(Object.create?(function(c,f,d,m){m===void 0&&(m=d);var g=Object.getOwnPropertyDescriptor(f,d);(!g||("get"in g?!f.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return f[d]}}),Object.defineProperty(c,m,g)}):(function(c,f,d,m){m===void 0&&(m=d),c[m]=f[d]})),e=serialize$1&&serialize$1.__setModuleDefault||(Object.create?(function(c,f){Object.defineProperty(c,"default",{enumerable:!0,value:f})}):function(c,f){c.default=f}),n=serialize$1&&serialize$1.__importStar||function(c){if(c&&c.__esModule)return c;var f={};if(c!=null)for(var d in c)d!=="default"&&Object.prototype.hasOwnProperty.call(c,d)&&t(f,c,d);return e(f,c),f};Object.defineProperty(serialize$1,"__esModule",{value:!0}),serialize$1.serialize=o,serialize$1.deserialize=u;const i=n(requireMessages());function o(c,f=""){return f===i.supportedKernelWebSocketProtocols.v1KernelWebsocketJupyterOrg?l.serializeV1KernelWebsocketJupyterOrg(c):l.serializeDefault(c)}function u(c,f=""){return f===i.supportedKernelWebSocketProtocols.v1KernelWebsocketJupyterOrg?l.deserializeV1KernelWebsocketJupyterOrg(c):l.deserializeDefault(c)}var l;return(function(c){function f(w){let T;const P=new DataView(w),A=Number(P.getBigUint64(0,!0));let D=[];for(let K=0;K<A;K++)D.push(Number(P.getBigUint64(8*(K+1),!0)));const k=new TextDecoder("utf8"),j=k.decode(w.slice(D[0],D[1])),B=JSON.parse(k.decode(w.slice(D[1],D[2]))),Z=JSON.parse(k.decode(w.slice(D[2],D[3]))),R=JSON.parse(k.decode(w.slice(D[3],D[4]))),G=JSON.parse(k.decode(w.slice(D[4],D[5])));let F=[];for(let K=5;K<D.length-1;K++)F.push(new DataView(w.slice(D[K],D[K+1])));return T={channel:j,header:B,parent_header:Z,metadata:R,content:G,buffers:F},T}c.deserializeV1KernelWebsocketJupyterOrg=f;function d(w){const T=JSON.stringify(w.header),P=w.parent_header==null?"{}":JSON.stringify(w.parent_header),A=JSON.stringify(w.metadata),D=JSON.stringify(w.content),k=w.buffers!==void 0?w.buffers:[],j=5+k.length+1;let B=[];B.push(8*(1+j)),B.push(w.channel.length+B[B.length-1]);const Z=new TextEncoder,R=Z.encode(w.channel),G=Z.encode(T),F=Z.encode(P),K=Z.encode(A),Q=Z.encode(D),ie=new Uint8Array(R.length+G.length+F.length+K.length+Q.length);ie.set(R),ie.set(G,R.length),ie.set(F,R.length+G.length),ie.set(K,R.length+G.length+F.length),ie.set(Q,R.length+G.length+F.length+K.length);for(let ge of[G.length,F.length,K.length,Q.length])B.push(ge+B[B.length-1]);let te=0;for(let ge of k){let _e=ge.byteLength;B.push(_e+B[B.length-1]),te+=_e}const oe=new Uint8Array(8*(1+j)+ie.byteLength+te),le=new ArrayBuffer(8),de=new DataView(le);de.setBigUint64(0,BigInt(j),!0),oe.set(new Uint8Array(le),0);for(let ge=0;ge<B.length;ge++)de.setBigUint64(0,BigInt(B[ge]),!0),oe.set(new Uint8Array(le),8*(ge+1));oe.set(ie,B[0]);for(let ge=0;ge<k.length;ge++){const _e=k[ge];oe.set(new Uint8Array(ArrayBuffer.isView(_e)?_e.buffer:_e),B[5+ge])}return oe.buffer}c.serializeV1KernelWebsocketJupyterOrg=d;function m(w){let T;return typeof w=="string"?T=JSON.parse(w):T=v(w),T}c.deserializeDefault=m;function g(w){var T;let P;return!((T=w.buffers)===null||T===void 0)&&T.length?P=y(w):P=JSON.stringify(w),P}c.serializeDefault=g;function v(w){const T=new DataView(w),P=T.getUint32(0),A=[];if(P<2)throw new Error("Invalid incoming Kernel Message");for(let j=1;j<=P;j++)A.push(T.getUint32(j*4));const D=new Uint8Array(w.slice(A[0],A[1])),k=JSON.parse(new TextDecoder("utf8").decode(D));k.buffers=[];for(let j=1;j<P;j++){const B=A[j],Z=A[j+1]||w.byteLength;k.buffers.push(new DataView(w.slice(B,Z)))}return k}function y(w){const T=[],P=[],A=new TextEncoder;let D=[];w.buffers!==void 0&&(D=w.buffers,delete w.buffers);const k=A.encode(JSON.stringify(w));P.push(k.buffer);for(let R=0;R<D.length;R++){const G=D[R];P.push(ArrayBuffer.isView(G)?G.buffer:G)}const j=P.length;T.push(4*(j+1));for(let R=0;R+1<P.length;R++)T.push(T[T.length-1]+P[R].byteLength);const B=new Uint8Array(T[T.length-1]+P[P.length-1].byteLength),Z=new DataView(B.buffer);Z.setUint32(0,j);for(let R=0;R<T.length;R++)Z.setUint32(4*(R+1),T[R]);for(let R=0;R<P.length;R++)B.set(new Uint8Array(P[R]),T[R]);return B.buffer}})(l||(l={})),serialize$1}var ws={},hasRequiredWs;function requireWs(){return hasRequiredWs||(hasRequiredWs=1,Object.defineProperty(ws,"__esModule",{value:!0}),ws.default=WebSocket),ws}var hasRequiredServerconnection;function requireServerconnection(){if(hasRequiredServerconnection)return serverconnection;hasRequiredServerconnection=1;var t={};Object.defineProperty(serverconnection,"__esModule",{value:!0}),serverconnection.ServerConnection=void 0;const e=requireLib$c(),n=requireSerialize();let i;typeof window>"u"?i=requireWs():i=WebSocket;var o;(function(l){function c(g){return u.makeSettings(g)}l.makeSettings=c;function f(g,v,y){return u.handleRequest(g,v,y)}l.makeRequest=f;class d extends Error{static async create(v){try{const y=await v.json(),{message:w,traceback:T}=y;return T&&console.error(T),new d(v,w??d._defaultMessage(v),T??"")}catch(y){return console.debug(y),new d(v)}}constructor(v,y=d._defaultMessage(v),w=""){super(y),this.response=v,this.traceback=w}static _defaultMessage(v){return`Invalid response: ${v.status} ${v.statusText}`}}l.ResponseError=d;class m extends TypeError{constructor(v){super(v.message),this.stack=v.stack}}l.NetworkError=m})(o||(serverconnection.ServerConnection=o={}));var u;return(function(l){function c(m={}){var g;const v=e.PageConfig.getBaseUrl(),y=e.PageConfig.getWsUrl(),w=e.URLExt.normalize(m.baseUrl)||v;let T=m.wsUrl;!T&&w===v&&(T=y),!T&&w.indexOf("http")===0&&(T="ws"+w.slice(4)),T=T??y;const P=e.PageConfig.getOption("appendToken").toLowerCase();let A;return P===""?A=typeof window>"u"||typeof process<"u"&&((g=process==null?void 0:t)===null||g===void 0?void 0:g.JEST_WORKER_ID)!==void 0||e.URLExt.getHostName(v)!==e.URLExt.getHostName(T):A=P==="true",{init:{cache:"no-store",credentials:"same-origin"},fetch,Headers,Request,WebSocket:i,token:e.PageConfig.getToken(),appUrl:e.PageConfig.getOption("appUrl"),appendToken:A,serializer:{serialize:n.serialize,deserialize:n.deserialize},...m,baseUrl:w,wsUrl:T}}l.makeSettings=c;function f(m,g,v){var y;if(m.indexOf(v.baseUrl)!==0)throw new Error("Can only be used for notebook server requests");((y=g.cache)!==null&&y!==void 0?y:v.init.cache)==="no-store"&&(m+=(/\?/.test(m)?"&":"?")+new Date().getTime());const T=new v.Request(m,{...v.init,...g});let P=!1;if(v.token&&(P=!0,T.headers.append("Authorization",`token ${v.token}`)),typeof document<"u"){const A=d("_xsrf");A!==void 0&&(P=!0,T.headers.append("X-XSRFToken",A))}return!T.headers.has("Content-Type")&&P&&T.headers.set("Content-Type","application/json"),v.fetch.call(null,T).catch(A=>{throw new o.NetworkError(A)})}l.handleRequest=f;function d(m){let g="";try{g=document.cookie}catch{return}const v=g.match("\\b"+m+"=([^;]*)\\b");return v?.[1]}})(u||(u={})),serverconnection}var hasRequiredBasemanager;function requireBasemanager(){if(hasRequiredBasemanager)return basemanager;hasRequiredBasemanager=1,Object.defineProperty(basemanager,"__esModule",{value:!0}),basemanager.BaseManager=void 0;const t=require$$0$2,e=requireServerconnection();class n{constructor(o){var u;this._isDisposed=!1,this._disposed=new t.Signal(this),this.serverSettings=(u=o.serverSettings)!==null&&u!==void 0?u:e.ServerConnection.makeSettings()}get disposed(){return this._disposed}get isDisposed(){return this._isDisposed}get isActive(){return!0}dispose(){this.isDisposed||(this._isDisposed=!0,this._disposed.emit(void 0),t.Signal.clearData(this))}}return basemanager.BaseManager=n,basemanager}var config={},hasRequiredConfig;function requireConfig(){if(hasRequiredConfig)return config;hasRequiredConfig=1,Object.defineProperty(config,"__esModule",{value:!0}),config.ConfigWithDefaults=config.ConfigSection=config.ConfigSectionManager=void 0;const t=requireLib$c(),e=requireLib$a(),n="api/config";class i{constructor(f){var d;this.serverSettings=(d=f.serverSettings)!==null&&d!==void 0?d:e.ServerConnection.makeSettings()}async create(f){const d=new u({...f,serverSettings:this.serverSettings});return await d.load(),d}}config.ConfigSectionManager=i;var o;(function(c){async function f(g){if(!d){const y=new u(g);return await y.load(),y}return await d.create(g)}c.create=f;let d;function m(g){if(d)throw new Error("ConfigSectionManager already set. If you would like to create a config section, use the `IConfigSectionManager` token in a plugin.");d=g}c._setConfigSectionManager=m})(o||(config.ConfigSection=o={}));class u{constructor(f){var d;this.serverSettings=(d=f.serverSettings)!==null&&d!==void 0?d:e.ServerConnection.makeSettings(),this._name=f.name}get data(){return this._data}async load(){const f=await e.ServerConnection.makeRequest(this._url,{},this.serverSettings);if(f.status!==200)throw await e.ServerConnection.ResponseError.create(f);this._data=await f.json()}async update(f){this._data={...this._data,...f};const d={method:"PATCH",body:JSON.stringify(f)},m=await e.ServerConnection.makeRequest(this._url,d,this.serverSettings);if(m.status!==200)throw await e.ServerConnection.ResponseError.create(m);return this._data=await m.json(),this._data}get _url(){return t.URLExt.join(this.serverSettings.baseUrl,n,encodeURIComponent(this._name))}}class l{constructor(f){var d,m;this._className="",this._section=f.section,this._defaults=(d=f.defaults)!==null&&d!==void 0?d:{},this._className=(m=f.className)!==null&&m!==void 0?m:""}get(f){const d=this._classData();return f in d?d[f]:this._defaults[f]}set(f,d){const m={};if(m[f]=d,this._className){const g={};return g[this._className]=m,this._section.update(g)}else return this._section.update(m)}_classData(){const f=this._section.data;return this._className&&this._className in f?f[this._className]:f}}return config.ConfigWithDefaults=l,config}var connectionstatus={},hasRequiredConnectionstatus;function requireConnectionstatus(){if(hasRequiredConnectionstatus)return connectionstatus;hasRequiredConnectionstatus=1,Object.defineProperty(connectionstatus,"__esModule",{value:!0}),connectionstatus.ConnectionStatus=void 0;class t{constructor(){this.isConnected=!0}}return connectionstatus.ConnectionStatus=t,connectionstatus}var contents={};let DisposableDelegate$2=class{constructor(e){this._fn=e}get isDisposed(){return!this._fn}dispose(){if(!this._fn)return;let e=this._fn;this._fn=null,e()}};class ObservableDisposableDelegate extends DisposableDelegate$2{constructor(){super(...arguments),this._disposed=new Signal$2(this)}get disposed(){return this._disposed}dispose(){this.isDisposed||(super.dispose(),this._disposed.emit(void 0),Signal$2.clearData(this))}}let DisposableSet$2=class{constructor(){this._isDisposed=!1,this._items=new Set}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,this._items.forEach(e=>{e.dispose()}),this._items.clear())}contains(e){return this._items.has(e)}add(e){this._items.add(e)}remove(e){this._items.delete(e)}clear(){this._items.clear()}};(function(t){function e(n){let i=new t;for(const o of n)i.add(o);return i}t.from=e})(DisposableSet$2||(DisposableSet$2={}));let ObservableDisposableSet$2=class extends DisposableSet$2{constructor(){super(...arguments),this._disposed=new Signal$2(this)}get disposed(){return this._disposed}dispose(){this.isDisposed||(super.dispose(),this._disposed.emit(void 0),Signal$2.clearData(this))}};(function(t){function e(n){let i=new t;for(const o of n)i.add(o);return i}t.from=e})(ObservableDisposableSet$2||(ObservableDisposableSet$2={}));const index_es6$2=Object.freeze(Object.defineProperty({__proto__:null,DisposableDelegate:DisposableDelegate$2,get DisposableSet(){return DisposableSet$2},ObservableDisposableDelegate,get ObservableDisposableSet(){return ObservableDisposableSet$2}},Symbol.toStringTag,{value:"Module"})),require$$1$2=getAugmentedNamespace(index_es6$2);var validate$4={},validate$3={},hasRequiredValidate$4;function requireValidate$4(){if(hasRequiredValidate$4)return validate$3;hasRequiredValidate$4=1,Object.defineProperty(validate$3,"__esModule",{value:!0}),validate$3.validateProperty=t;function t(e,n,i,o=[]){if(!e.hasOwnProperty(n))throw Error(`Missing property '${n}'`);const u=e[n];if(i!==void 0){let l=!0;switch(i){case"array":l=Array.isArray(u);break;case"object":l=typeof u<"u";break;default:l=typeof u===i}if(!l)throw new Error(`Property '${n}' is not of type '${i}'`);if(o.length>0){let c=!0;switch(i){case"string":case"number":case"boolean":c=o.includes(u);break;default:c=o.findIndex(f=>f===u)>=0;break}if(!c)throw new Error(`Property '${n}' is not one of the valid values ${JSON.stringify(o)}`)}}}return validate$3}var hasRequiredValidate$3;function requireValidate$3(){if(hasRequiredValidate$3)return validate$4;hasRequiredValidate$3=1,Object.defineProperty(validate$4,"__esModule",{value:!0}),validate$4.validateContentsModel=e,validate$4.validateCheckpointModel=n;const t=requireValidate$4();function e(i){(0,t.validateProperty)(i,"name","string"),(0,t.validateProperty)(i,"path","string"),(0,t.validateProperty)(i,"type","string"),(0,t.validateProperty)(i,"created","string"),(0,t.validateProperty)(i,"last_modified","string"),(0,t.validateProperty)(i,"mimetype","object"),(0,t.validateProperty)(i,"content","object"),(0,t.validateProperty)(i,"format","object")}function n(i){(0,t.validateProperty)(i,"id","string"),(0,t.validateProperty)(i,"last_modified","string")}return validate$4}var hasRequiredContents;function requireContents(){if(hasRequiredContents)return contents;hasRequiredContents=1;var t=contents&&contents.__createBinding||(Object.create?(function(P,A,D,k){k===void 0&&(k=D);var j=Object.getOwnPropertyDescriptor(A,D);(!j||("get"in j?!A.__esModule:j.writable||j.configurable))&&(j={enumerable:!0,get:function(){return A[D]}}),Object.defineProperty(P,k,j)}):(function(P,A,D,k){k===void 0&&(k=D),P[k]=A[D]})),e=contents&&contents.__setModuleDefault||(Object.create?(function(P,A){Object.defineProperty(P,"default",{enumerable:!0,value:A})}):function(P,A){P.default=A}),n=contents&&contents.__importStar||function(P){if(P&&P.__esModule)return P;var A={};if(P!=null)for(var D in P)D!=="default"&&Object.prototype.hasOwnProperty.call(P,D)&&t(A,P,D);return e(A,P),A};Object.defineProperty(contents,"__esModule",{value:!0}),contents.RestContentProvider=contents.ContentProviderRegistry=contents.Drive=contents.ContentsManager=contents.Contents=void 0;const i=requireLib$c(),o=require$$1$2,u=require$$0$2,l=requireLib$a(),c=n(requireValidate$3()),f="api/contents",d="files";var m;(function(P){function A(k){c.validateContentsModel(k)}P.validateContentsModel=A;function D(k){c.validateCheckpointModel(k)}P.validateCheckpointModel=D})(m||(contents.Contents=m={}));class g{constructor(A={}){var D,k;this._isDisposed=!1,this._additionalDrives=new Map,this._fileChanged=new u.Signal(this);const j=this.serverSettings=(D=A.serverSettings)!==null&&D!==void 0?D:l.ServerConnection.makeSettings();this._defaultDrive=(k=A.defaultDrive)!==null&&k!==void 0?k:new v({serverSettings:j}),this._defaultDrive.fileChanged.connect(this._onFileChanged,this)}get defaultDrive(){return this._defaultDrive}get fileChanged(){return this._fileChanged}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,u.Signal.clearData(this))}addDrive(A){this._additionalDrives.set(A.name,A),A.fileChanged.connect(this._onFileChanged,this)}getSharedModelFactory(A,D){var k,j;const[B]=this._driveForPath(A),Z=(k=B.contentProviderRegistry)===null||k===void 0?void 0:k.getProvider(D?.contentProviderId);return Z?.sharedModelFactory?Z.sharedModelFactory:(j=B.sharedModelFactory)!==null&&j!==void 0?j:null}localPath(A){const D=A.split("/"),k=D[0].split(":");return k.length===1||!this._additionalDrives.has(k[0])?i.PathExt.removeSlash(A):i.PathExt.join(k.slice(1).join(":"),...D.slice(1))}normalize(A){const D=A.split(":");return D.length===1?i.PathExt.normalize(A):`${D[0]}:${i.PathExt.normalize(D.slice(1).join(":"))}`}resolvePath(A,D){const k=this.driveName(A),j=this.localPath(A),B=i.PathExt.resolve("/",j,D);return k?`${k}:${B}`:B}driveName(A){const k=A.split("/")[0].split(":");return k.length===1?"":this._additionalDrives.has(k[0])?k[0]:""}get(A,D){const[k,j]=this._driveForPath(A);return k.get(j,D).then(B=>{const Z=[];if(B.type==="directory"&&B.content){for(const R of B.content)Z.push({...R,path:this._toGlobalPath(k,R.path)});return{...B,path:this._toGlobalPath(k,j),content:Z,serverPath:B.path}}else return{...B,path:this._toGlobalPath(k,j),serverPath:B.path}})}getDownloadUrl(A){const[D,k]=this._driveForPath(A);return D.getDownloadUrl(k)}newUntitled(A={}){if(A.path){const D=this.normalize(A.path),[k,j]=this._driveForPath(D);return k.newUntitled({...A,path:j}).then(B=>({...B,path:i.PathExt.join(D,B.name),serverPath:B.path}))}else return this._defaultDrive.newUntitled(A)}delete(A){const[D,k]=this._driveForPath(A);return D.delete(k)}rename(A,D){const[k,j]=this._driveForPath(A),[B,Z]=this._driveForPath(D);if(k!==B)throw Error("ContentsManager: renaming files must occur within a Drive");return k.rename(j,Z).then(R=>({...R,path:this._toGlobalPath(k,Z),serverPath:R.path}))}save(A,D={}){const k=this.normalize(A),[j,B]=this._driveForPath(A);return j.save(B,{...D,path:B}).then(Z=>({...Z,path:k,serverPath:Z.path}))}copy(A,D){const[k,j]=this._driveForPath(A),[B,Z]=this._driveForPath(D);if(k===B)return k.copy(j,Z).then(R=>({...R,path:this._toGlobalPath(k,R.path),serverPath:R.path}));throw Error("Copying files between drives is not currently implemented")}createCheckpoint(A){const[D,k]=this._driveForPath(A);return D.createCheckpoint(k)}listCheckpoints(A){const[D,k]=this._driveForPath(A);return D.listCheckpoints(k)}restoreCheckpoint(A,D){const[k,j]=this._driveForPath(A);return k.restoreCheckpoint(j,D)}deleteCheckpoint(A,D){const[k,j]=this._driveForPath(A);return k.deleteCheckpoint(j,D)}_toGlobalPath(A,D){return A===this._defaultDrive?i.PathExt.removeSlash(D):`${A.name}:${i.PathExt.removeSlash(D)}`}_driveForPath(A){const D=this.driveName(A),k=this.localPath(A);return D?[this._additionalDrives.get(D),k]:[this._defaultDrive,k]}_onFileChanged(A,D){var k,j;if(A===this._defaultDrive)this._fileChanged.emit(D);else{let B=null,Z=null;!((k=D.newValue)===null||k===void 0)&&k.path&&(B={...D.newValue,path:this._toGlobalPath(A,D.newValue.path)}),!((j=D.oldValue)===null||j===void 0)&&j.path&&(Z={...D.oldValue,path:this._toGlobalPath(A,D.oldValue.path)}),this._fileChanged.emit({type:D.type,newValue:B,oldValue:Z})}}}contents.ContentsManager=g;class v{constructor(A={}){var D,k,j;this._isDisposed=!1,this._fileChanged=new u.Signal(this),this.name=(D=A.name)!==null&&D!==void 0?D:"Default",this._apiEndpoint=(k=A.apiEndpoint)!==null&&k!==void 0?k:f,this.serverSettings=(j=A.serverSettings)!==null&&j!==void 0?j:l.ServerConnection.makeSettings(),this._restContentProvider=new T({...A,apiEndpoint:this._apiEndpoint,serverSettings:this.serverSettings}),A.defaultContentProvider?this.contentProviderRegistry=new w({defaultProvider:A.defaultContentProvider}):this.contentProviderRegistry=new w,this.contentProviderRegistry.fileChanged.connect((B,Z)=>{this._fileChanged.emit(Z)})}get fileChanged(){return this._fileChanged}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,u.Signal.clearData(this))}async get(A,D){const k=this.contentProviderRegistry.getProvider(D?.contentProviderId);return k?k.get(A,D):await this._restContentProvider.get(A,D)}getDownloadUrl(A){const D=this.serverSettings.baseUrl;let k=i.URLExt.join(D,d,i.URLExt.encodeParts(A)),j="";try{j=document.cookie}catch{}const B=j.match("\\b_xsrf=([^;]*)\\b");if(B){const Z=new URL(k);Z.searchParams.append("_xsrf",B[1]),k=Z.toString()}return Promise.resolve(k)}async newUntitled(A={}){var D;let k="{}";A&&(A.ext&&(A.ext=y.normalizeExtension(A.ext)),k=JSON.stringify(A));const j=this.serverSettings,B=this._getUrl((D=A.path)!==null&&D!==void 0?D:""),Z={method:"POST",body:k},R=await l.ServerConnection.makeRequest(B,Z,j);if(R.status!==201)throw await l.ServerConnection.ResponseError.create(R);const G=await R.json();return c.validateContentsModel(G),this._fileChanged.emit({type:"new",oldValue:null,newValue:G}),G}async delete(A){const D=this._getUrl(A),k=this.serverSettings,j={method:"DELETE"},B=await l.ServerConnection.makeRequest(D,j,k);if(B.status!==204)throw await l.ServerConnection.ResponseError.create(B);this._fileChanged.emit({type:"delete",oldValue:{path:A},newValue:null})}async rename(A,D){const k=this.serverSettings,j=this._getUrl(A),B={method:"PATCH",body:JSON.stringify({path:D})},Z=await l.ServerConnection.makeRequest(j,B,k);if(Z.status!==200)throw await l.ServerConnection.ResponseError.create(Z);const R=await Z.json();return c.validateContentsModel(R),this._fileChanged.emit({type:"rename",oldValue:{path:A},newValue:R}),R}async save(A,D={}){const k=this.contentProviderRegistry.getProvider(D?.contentProviderId);let j;return k?j=await k.save(A,D):j=await this._restContentProvider.save(A,D),this._fileChanged.emit({type:"save",oldValue:null,newValue:j}),j}async copy(A,D){const k=this.serverSettings,j=this._getUrl(D),B={method:"POST",body:JSON.stringify({copy_from:A})},Z=await l.ServerConnection.makeRequest(j,B,k);if(Z.status!==201)throw await l.ServerConnection.ResponseError.create(Z);const R=await Z.json();return c.validateContentsModel(R),this._fileChanged.emit({type:"new",oldValue:null,newValue:R}),R}async createCheckpoint(A){const D=this._getUrl(A,"checkpoints"),k={method:"POST"},j=await l.ServerConnection.makeRequest(D,k,this.serverSettings);if(j.status!==201)throw await l.ServerConnection.ResponseError.create(j);const B=await j.json();return c.validateCheckpointModel(B),B}async listCheckpoints(A){const D=this._getUrl(A,"checkpoints"),k=await l.ServerConnection.makeRequest(D,{},this.serverSettings);if(k.status!==200)throw await l.ServerConnection.ResponseError.create(k);const j=await k.json();if(!Array.isArray(j))throw new Error("Invalid Checkpoint list");for(let B=0;B<j.length;B++)c.validateCheckpointModel(j[B]);return j}async restoreCheckpoint(A,D){const k=this._getUrl(A,"checkpoints",D),j={method:"POST"},B=await l.ServerConnection.makeRequest(k,j,this.serverSettings);if(B.status!==204)throw await l.ServerConnection.ResponseError.create(B)}async deleteCheckpoint(A,D){const k=this._getUrl(A,"checkpoints",D),j={method:"DELETE"},B=await l.ServerConnection.makeRequest(k,j,this.serverSettings);if(B.status!==204)throw await l.ServerConnection.ResponseError.create(B)}_getUrl(...A){const D=A.map(j=>i.URLExt.encodeParts(j)),k=this.serverSettings.baseUrl;return i.URLExt.join(k,this._apiEndpoint,...D)}}contents.Drive=v;var y;(function(P){function A(D){return D.length>0&&D.indexOf(".")!==0&&(D=`.${D}`),D}P.normalizeExtension=A})(y||(y={}));class w{constructor(A){this._providers=new Map,this._fileChanged=new u.Signal(this),A?.defaultProvider&&this.register("default",A.defaultProvider)}register(A,D){if(this._providers.has(A))throw Error(`Provider with ${A} identifier was already registered on this drive`);this._providers.set(A,D);const k=(j,B)=>{this._fileChanged.emit(B)};return D.fileChanged&&D.fileChanged.connect(k),new o.DisposableDelegate(()=>{D.fileChanged&&D.fileChanged.disconnect(k),this._providers.has(A)&&this._providers.delete(A)})}getProvider(A){if(!A)return null;const D=this._providers.get(A);if(!D)throw Error(`Provider ${A} is not registered`);return D}get fileChanged(){return this._fileChanged}}contents.ContentProviderRegistry=w;class T{constructor(A){this._options=A}async get(A,D){let k=this._getUrl(A);if(D){D.type==="notebook"&&delete D.format;const R=D.content?"1":"0",G=D.hash?"1":"0",F={...D,content:R,hash:G};k+=i.URLExt.objectToQueryString(F)}const j=this._options.serverSettings,B=await l.ServerConnection.makeRequest(k,{},j);if(B.status!==200)throw await l.ServerConnection.ResponseError.create(B);const Z=await B.json();return c.validateContentsModel(Z),Z}async save(A,D={}){const k=this._options.serverSettings,j=this._getUrl(A),Z={method:"PUT",body:new File([JSON.stringify(D)],"data.json",{type:"application/json"})},R=await l.ServerConnection.makeRequest(j,Z,k);if(R.status!==200&&R.status!==201)throw await l.ServerConnection.ResponseError.create(R);const G=await R.json();return c.validateContentsModel(G),G}_getUrl(...A){const D=A.map(j=>i.URLExt.encodeParts(j)),k=this._options.serverSettings.baseUrl;return i.URLExt.join(k,this._options.apiEndpoint,...D)}}return contents.RestContentProvider=T,contents}var event={};class Poll{constructor(e){var n;this._disposed=new Signal$2(this),this._lingered=0,this._tick=new PromiseDelegate$1,this._ticked=new Signal$2(this),this._factory=e.factory,this._linger=(n=e.linger)!==null&&n!==void 0?n:Private$11.DEFAULT_LINGER,this._standby=e.standby||Private$11.DEFAULT_STANDBY,this._state={...Private$11.DEFAULT_STATE,timestamp:new Date().getTime()};const i=e.frequency||{},o=Math.max(i.interval||0,i.max||0,Private$11.DEFAULT_FREQUENCY.max);this.frequency={...Private$11.DEFAULT_FREQUENCY,...i,max:o},this.name=e.name||Private$11.DEFAULT_NAME,(!("auto"in e)||e.auto)&&setTimeout(()=>this.start())}get disposed(){return this._disposed}get frequency(){return this._frequency}set frequency(e){if(this.isDisposed||JSONExt$2.deepEqual(e,this.frequency||{}))return;let{backoff:n,interval:i,max:o}=e;if(i=Math.round(i),o=Math.round(o),typeof n=="number"&&n<1)throw new Error("Poll backoff growth factor must be at least 1");if((i<0||i>o)&&i!==Poll.NEVER)throw new Error("Poll interval must be between 0 and max");if(o>Poll.MAX_INTERVAL&&o!==Poll.NEVER)throw new Error(`Max interval must be less than ${Poll.MAX_INTERVAL}`);this._frequency={backoff:n,interval:i,max:o}}get isDisposed(){return this.state.phase==="disposed"}get standby(){return this._standby}set standby(e){this.isDisposed||this.standby===e||(this._standby=e)}get state(){return this._state}get tick(){return this._tick.promise}get ticked(){return this._ticked}async*[Symbol.asyncIterator](){for(;!this.isDisposed;)yield this.state,await this.tick.catch(()=>{})}dispose(){this.isDisposed||(this._state={...Private$11.DISPOSED_STATE,timestamp:new Date().getTime()},this._tick.promise.catch(e=>{}),this._tick.reject(new Error(`Poll (${this.name}) is disposed.`)),this._disposed.emit(void 0),Signal$2.clearData(this))}refresh(){return this.schedule({cancel:({phase:e})=>e==="refreshed",interval:Poll.IMMEDIATE,phase:"refreshed"})}async schedule(e={}){if(this.isDisposed||e.cancel&&e.cancel(this.state))return;const n=this._tick,i=new PromiseDelegate$1,o={interval:this.frequency.interval,payload:null,phase:"standby",timestamp:new Date().getTime(),...e};if(this._state=o,this._tick=i,clearTimeout(this._timeout),this._ticked.emit(this.state),n.resolve(this),await n.promise,o.interval===Poll.NEVER){this._timeout=void 0;return}const u=()=>{this.isDisposed||this.tick!==i.promise||this._execute()};this._timeout=setTimeout(u,o.interval)}start(){return this.schedule({cancel:({phase:e})=>e!=="constructed"&&e!=="standby"&&e!=="stopped",interval:Poll.IMMEDIATE,phase:"started"})}stop(){return this.schedule({cancel:({phase:e})=>e==="stopped",interval:Poll.NEVER,phase:"stopped"})}get hidden(){return Private$11.hidden}_execute(){let e=typeof this.standby=="function"?this.standby():this.standby;if(e==="never"?e=!1:e==="when-hidden"&&(this.hidden?e=++this._lingered>this._linger:(this._lingered=0,e=!1)),e){this.schedule();return}const n=this.tick;this._factory(this.state).then(i=>{this.isDisposed||this.tick!==n||this.schedule({payload:i,phase:this.state.phase==="rejected"?"reconnected":"resolved"})}).catch(i=>{this.isDisposed||this.tick!==n||this.schedule({interval:Private$11.sleep(this.frequency,this.state),payload:i,phase:"rejected"})})}}(function(t){t.IMMEDIATE=0,t.MAX_INTERVAL=2147483647,t.NEVER=1/0})(Poll||(Poll={}));var Private$11;(function(t){t.DEFAULT_BACKOFF=3,t.DEFAULT_FREQUENCY={backoff:!0,interval:1e3,max:30*1e3},t.DEFAULT_LINGER=1,t.DEFAULT_NAME="unknown",t.DEFAULT_STANDBY="when-hidden",t.DEFAULT_STATE={interval:Poll.NEVER,payload:null,phase:"constructed",timestamp:new Date(0).getTime()},t.DISPOSED_STATE={interval:Poll.NEVER,payload:null,phase:"disposed",timestamp:new Date(0).getTime()};function e(i,o){const{backoff:u,interval:l,max:c}=i;if(l===Poll.NEVER)return l;const f=u===!0?t.DEFAULT_BACKOFF:u===!1?1:u,d=n(l,o.interval*f);return Math.min(c,d)}t.sleep=e,t.hidden=typeof document>"u"?!1:(document.addEventListener("visibilitychange",()=>{t.hidden=document.visibilityState==="hidden"}),document.addEventListener("pagehide",()=>{t.hidden=document.visibilityState==="hidden"}),document.visibilityState==="hidden");function n(i,o){return i=Math.ceil(i),o=Math.floor(o),Math.floor(Math.random()*(o-i+1))+i}})(Private$11||(Private$11={}));class RateLimiter{constructor(e,n=500){this.args=void 0,this.payload=null,this.limit=n,this.poll=new Poll({auto:!1,factory:async()=>{const{args:i}=this;return this.args=void 0,e(...i)},frequency:{backoff:!1,interval:Poll.NEVER,max:Poll.NEVER},standby:"never"}),this.payload=new PromiseDelegate$1,this.poll.ticked.connect((i,o)=>{const{payload:u}=this;if(o.phase==="resolved"){this.payload=new PromiseDelegate$1,u.resolve(o.payload);return}if(o.phase==="rejected"||o.phase==="stopped"){this.payload=new PromiseDelegate$1,u.promise.catch(l=>{}),u.reject(o.payload);return}},this)}get isDisposed(){return this.payload===null}dispose(){this.isDisposed||(this.args=void 0,this.payload=null,this.poll.dispose())}async stop(){return this.poll.stop()}}class Debouncer extends RateLimiter{invoke(...e){return this.args=e,this.poll.schedule({interval:this.limit,phase:"invoked"}),this.payload.promise}}class Throttler extends RateLimiter{constructor(e,n){super(e,typeof n=="number"?n:n&&n.limit),this._trailing=!1,typeof n!="number"&&n&&n.edge==="trailing"&&(this._trailing=!0),this._interval=this._trailing?this.limit:Poll.IMMEDIATE}invoke(...e){const n=this.poll.state.phase!=="invoked";return(n||this._trailing)&&(this.args=e),n&&this.poll.schedule({interval:this._interval,phase:"invoked"}),this.payload.promise}}const index_es6$1=Object.freeze(Object.defineProperty({__proto__:null,Debouncer,get Poll(){return Poll},RateLimiter,Throttler},Symbol.toStringTag,{value:"Module"})),require$$1$1=getAugmentedNamespace(index_es6$1);var hasRequiredEvent;function requireEvent(){if(hasRequiredEvent)return event;hasRequiredEvent=1,Object.defineProperty(event,"__esModule",{value:!0}),event.EventManager=void 0;const t=requireLib$c(),e=require$$1$1,n=require$$0$2,i=requireServerconnection(),o="api/events";class u{constructor(c={}){var f,d;this._socket=null,this.serverSettings=(f=c.serverSettings)!==null&&f!==void 0?f:i.ServerConnection.makeSettings(),this._poll=new e.Poll({factory:()=>this._subscribe(),standby:(d=c.standby)!==null&&d!==void 0?d:"when-hidden"}),this._stream=new n.Stream(this),this._poll.start()}get isDisposed(){return this._poll.isDisposed}get stream(){return this._stream}dispose(){if(this.isDisposed)return;this._poll.dispose();const c=this._socket;c&&(this._socket=null,c.onopen=()=>{},c.onerror=()=>{},c.onmessage=()=>{},c.onclose=()=>{},c.close()),n.Signal.clearData(this),this._stream.stop()}async emit(c){const{serverSettings:f}=this,{baseUrl:d}=f,{makeRequest:m,ResponseError:g}=i.ServerConnection,v=t.URLExt.join(d,o),y={body:JSON.stringify(c),method:"POST"},w=await m(v,y,f);if(w.status!==204)throw new g(w)}_subscribe(){return new Promise((c,f)=>{if(this.isDisposed)return;const{appendToken:d,token:m,WebSocket:g,wsUrl:v}=this.serverSettings;let y=t.URLExt.join(v,o,"subscribe");d&&m!==""&&(y+=`?token=${encodeURIComponent(m)}`);const w=this._socket=new g(y),T=this._stream;w.onclose=()=>f(new Error("EventManager socket closed")),w.onmessage=P=>P.data&&T.emit(JSON.parse(P.data))})}}return event.EventManager=u,event}var kernel$1={},comm={},hasRequiredComm;function requireComm(){if(hasRequiredComm)return comm;hasRequiredComm=1;var t=comm&&comm.__createBinding||(Object.create?(function(f,d,m,g){g===void 0&&(g=m);var v=Object.getOwnPropertyDescriptor(d,m);(!v||("get"in v?!d.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return d[m]}}),Object.defineProperty(f,g,v)}):(function(f,d,m,g){g===void 0&&(g=m),f[g]=d[m]})),e=comm&&comm.__setModuleDefault||(Object.create?(function(f,d){Object.defineProperty(f,"default",{enumerable:!0,value:d})}):function(f,d){f.default=d}),n=comm&&comm.__importStar||function(f){if(f&&f.__esModule)return f;var d={};if(f!=null)for(var m in f)m!=="default"&&Object.prototype.hasOwnProperty.call(f,m)&&t(d,f,m);return e(d,f),d};Object.defineProperty(comm,"__esModule",{value:!0}),comm.CommHandler=comm.CommsOverSubshells=void 0;const i=requireDist$1(),o=require$$1$2,u=n(requireMessages());var l;(function(f){f.Disabled="disabled",f.PerComm="perComm",f.PerCommTarget="perCommTarget"})(l||(comm.CommsOverSubshells=l={}));class c extends o.DisposableDelegate{constructor(d,m,g,v,y){super(v),this._subshellStarted=new i.PromiseDelegate,this._subshellId=null,this._target="",this._id="",this._id=m,this._target=d,this._kernel=g,this._kernel.statusChanged.connect(()=>{this._kernel.status==="restarting"&&this._cleanSubshells()}),this.commsOverSubshells=y??l.PerCommTarget}get commId(){return this._id}get targetName(){return this._target}get subshellId(){return this._subshellId}get subshellStarted(){return this._subshellStarted.promise}get commsOverSubshells(){return this._commsOverSubshells}set commsOverSubshells(d){this._commsOverSubshells=d,this._commsOverSubshells===l.Disabled?this._maybeCloseSubshell():this._maybeStartSubshell()}get onClose(){return this._onClose}set onClose(d){this._onClose=d}get onMsg(){return this._onMsg}set onMsg(d){this._onMsg=d}open(d,m,g=[]){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot open");const v=u.createMessage({msgType:"comm_open",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,subshellId:this._subshellId||this._kernel.subshellId,content:{comm_id:this._id,target_name:this._target,data:d??{}},metadata:m,buffers:g});return this._kernel.sendShellMessage(v,!1,!0)}send(d,m,g=[],v=!0){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot send");const y=u.createMessage({msgType:"comm_msg",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,subshellId:this._subshellId||this._kernel.subshellId,content:{comm_id:this._id,data:d},metadata:m,buffers:g});return this._kernel.sendShellMessage(y,!1,v)}close(d,m,g=[]){if(this.isDisposed||this._kernel.isDisposed)throw new Error("Cannot close");const v=u.createMessage({msgType:"comm_close",channel:"shell",username:this._kernel.username,session:this._kernel.clientId,subshellId:this._subshellId||this._kernel.subshellId,content:{comm_id:this._id,data:d??{}},metadata:m,buffers:g}),y=this._kernel.sendShellMessage(v,!1,!0),w=this._onClose;if(w){const T=u.createMessage({msgType:"comm_close",channel:"iopub",username:this._kernel.username,session:this._kernel.clientId,subshellId:this._subshellId||this._kernel.subshellId,content:{comm_id:this._id,data:d??{}},metadata:m,buffers:g});w(T)}return this.dispose(),y}dispose(){this._maybeCloseSubshell(),super.dispose()}_cleanSubshells(){const d=this._kernel.id;c._commTargetSubShellsId.hasOwnProperty(d)&&delete c._commTargetSubShellsId[d]}async _maybeStartSubshell(){if(await this._kernel.info,!this._kernel.supportsSubshells)return;if(this._commsOverSubshells===l.PerComm){const g=await this._kernel.requestCreateSubshell({}).done;this._subshellId=g.content.subshell_id,this._subshellStarted.resolve();return}const d=this._kernel.id;c._commTargetSubShellsId.hasOwnProperty(d)||(c._commTargetSubShellsId[d]={});const m=c._commTargetSubShellsId[d];m[this._target]?(this._subshellId=await m[this._target],this._subshellStarted.resolve()):(m[this._target]=this._kernel.requestCreateSubshell({}).done.then(g=>(this._subshellId=g.content.subshell_id,this._subshellId)),await m[this._target],this._subshellStarted.resolve())}_maybeCloseSubshell(){if(this._commsOverSubshells!==l.PerComm){this._subshellId=null;return}this._subshellId&&this._kernel.status!=="dead"&&this._kernel.requestDeleteSubshell({subshell_id:this._subshellId},!0),this._subshellId=null}}return comm.CommHandler=c,c._commTargetSubShellsId={},comm}var kernel={},hasRequiredKernel$1;function requireKernel$1(){return hasRequiredKernel$1||(hasRequiredKernel$1=1,Object.defineProperty(kernel,"__esModule",{value:!0})),kernel}var restapi$4={},validate$2={},hasRequiredValidate$2;function requireValidate$2(){if(hasRequiredValidate$2)return validate$2;hasRequiredValidate$2=1,Object.defineProperty(validate$2,"__esModule",{value:!0}),validate$2.validateMessage=o,validate$2.validateModel=l,validate$2.validateModels=c;const t=requireValidate$4(),e=["username","version","session","msg_id","msg_type"],n={stream:{name:"string",text:"string"},display_data:{data:"object",metadata:"object"},execute_input:{code:"string",execution_count:"number"},execute_result:{execution_count:"number",data:"object",metadata:"object"},error:{ename:"string",evalue:"string",traceback:"object"},status:{execution_state:["string",["starting","idle","busy","restarting","dead"]]},clear_output:{wait:"boolean"},comm_open:{comm_id:"string",target_name:"string",data:"object"},comm_msg:{comm_id:"string",data:"object"},comm_close:{comm_id:"string"},shutdown_reply:{restart:"boolean"}};function i(f){for(let d=0;d<e.length;d++)(0,t.validateProperty)(f,e[d],"string")}function o(f){(0,t.validateProperty)(f,"metadata","object"),(0,t.validateProperty)(f,"content","object"),(0,t.validateProperty)(f,"channel","string"),i(f.header),f.channel==="iopub"&&u(f)}function u(f){if(f.channel==="iopub"){const d=n[f.header.msg_type];if(d===void 0)return;const m=Object.keys(d),g=f.content;for(let v=0;v<m.length;v++){let y=d[m[v]];Array.isArray(y)||(y=[y]),(0,t.validateProperty)(g,m[v],...y)}}}function l(f){(0,t.validateProperty)(f,"name","string"),(0,t.validateProperty)(f,"id","string")}function c(f){if(!Array.isArray(f))throw new Error("Invalid kernel list");f.forEach(d=>l(d))}return validate$2}var hasRequiredRestapi$4;function requireRestapi$4(){return hasRequiredRestapi$4||(hasRequiredRestapi$4=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.KernelAPIClient=t.KERNEL_SERVICE_URL=void 0,t.listRunning=o,t.startNew=u,t.restartKernel=l,t.interruptKernel=c,t.shutdownKernel=f,t.getKernelModel=d;const e=requireServerconnection(),n=requireLib$c(),i=requireValidate$2();t.KERNEL_SERVICE_URL="api/kernels";async function o(g=e.ServerConnection.makeSettings()){const v=n.URLExt.join(g.baseUrl,t.KERNEL_SERVICE_URL),y=await e.ServerConnection.makeRequest(v,{},g);if(y.status!==200)throw await e.ServerConnection.ResponseError.create(y);const w=await y.json();return(0,i.validateModels)(w),w}async function u(g={},v=e.ServerConnection.makeSettings()){const y=n.URLExt.join(v.baseUrl,t.KERNEL_SERVICE_URL),w={method:"POST",body:JSON.stringify(g)},T=await e.ServerConnection.makeRequest(y,w,v);if(T.status!==201)throw await e.ServerConnection.ResponseError.create(T);const P=await T.json();return(0,i.validateModel)(P),P}async function l(g,v=e.ServerConnection.makeSettings()){const y=n.URLExt.join(v.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(g),"restart"),w={method:"POST"},T=await e.ServerConnection.makeRequest(y,w,v);if(T.status!==200)throw await e.ServerConnection.ResponseError.create(T);const P=await T.json();(0,i.validateModel)(P)}async function c(g,v=e.ServerConnection.makeSettings()){const y=n.URLExt.join(v.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(g),"interrupt"),w={method:"POST"},T=await e.ServerConnection.makeRequest(y,w,v);if(T.status!==204)throw await e.ServerConnection.ResponseError.create(T)}async function f(g,v=e.ServerConnection.makeSettings()){const y=n.URLExt.join(v.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(g)),w={method:"DELETE"},T=await e.ServerConnection.makeRequest(y,w,v);if(T.status===404){const P=`The kernel "${g}" does not exist on the server`;console.warn(P)}else if(T.status!==204)throw await e.ServerConnection.ResponseError.create(T)}async function d(g,v=e.ServerConnection.makeSettings()){const y=n.URLExt.join(v.baseUrl,t.KERNEL_SERVICE_URL,encodeURIComponent(g)),w=await e.ServerConnection.makeRequest(y,{},v);if(w.status===404)return;if(w.status!==200)throw await e.ServerConnection.ResponseError.create(w);const T=await w.json();return(0,i.validateModel)(T),T}class m{constructor(v={}){var y;this.serverSettings=(y=v.serverSettings)!==null&&y!==void 0?y:e.ServerConnection.makeSettings()}async listRunning(){return o(this.serverSettings)}async getModel(v){return d(v,this.serverSettings)}async startNew(v={}){return u(v,this.serverSettings)}async restart(v){return l(v,this.serverSettings)}async interrupt(v){return c(v,this.serverSettings)}async shutdown(v){return f(v,this.serverSettings)}}t.KernelAPIClient=m})(restapi$4)),restapi$4}var _default$2={},future={},hasRequiredFuture;function requireFuture(){if(hasRequiredFuture)return future;hasRequiredFuture=1;var t=future&&future.__createBinding||(Object.create?(function(m,g,v,y){y===void 0&&(y=v);var w=Object.getOwnPropertyDescriptor(g,v);(!w||("get"in w?!g.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return g[v]}}),Object.defineProperty(m,y,w)}):(function(m,g,v,y){y===void 0&&(y=v),m[y]=g[v]})),e=future&&future.__setModuleDefault||(Object.create?(function(m,g){Object.defineProperty(m,"default",{enumerable:!0,value:g})}):function(m,g){m.default=g}),n=future&&future.__importStar||function(m){if(m&&m.__esModule)return m;var g={};if(m!=null)for(var v in m)v!=="default"&&Object.prototype.hasOwnProperty.call(m,v)&&t(g,m,v);return e(g,m),g};Object.defineProperty(future,"__esModule",{value:!0}),future.KernelShellFutureHandler=future.KernelControlFutureHandler=future.KernelFutureHandler=void 0;const i=requireDist$1(),o=require$$1$2,u=n(requireMessages());class l extends o.DisposableDelegate{constructor(g,v,y,w,T){super(g),this._status=0,this._stdin=d.noOp,this._iopub=d.noOp,this._reply=d.noOp,this._done=new i.PromiseDelegate,this._hooks=new d.HookList,this._disposeOnDone=!0,this._msg=v,y||this._setFlag(d.KernelFutureFlag.GotReply),this._disposeOnDone=w,this._kernel=T}get msg(){return this._msg}get done(){return this._done.promise}get onReply(){return this._reply}set onReply(g){this._reply=g}get onIOPub(){return this._iopub}set onIOPub(g){this._iopub=g}get onStdin(){return this._stdin}set onStdin(g){this._stdin=g}registerMessageHook(g){if(this.isDisposed)throw new Error("Kernel future is disposed");this._hooks.add(g)}removeMessageHook(g){this.isDisposed||this._hooks.remove(g)}sendInputReply(g,v){this._kernel.sendInputReply(g,v)}dispose(){this._stdin=d.noOp,this._iopub=d.noOp,this._reply=d.noOp,this._hooks=null,this._testFlag(d.KernelFutureFlag.IsDone)||(this._done.promise.catch(()=>{}),this._done.reject(new Error(`Canceled future for ${this.msg.header.msg_type} message before replies were done`))),super.dispose()}async handleMsg(g){switch(g.channel){case"control":case"shell":g.channel===this.msg.channel&&g.parent_header.msg_id===this.msg.header.msg_id&&await this._handleReply(g);break;case"stdin":await this._handleStdin(g);break;case"iopub":await this._handleIOPub(g);break}}async _handleReply(g){const v=this._reply;v&&await v(g),this._replyMsg=g,this._setFlag(d.KernelFutureFlag.GotReply),this._testFlag(d.KernelFutureFlag.GotIdle)&&this._handleDone()}async _handleStdin(g){this._kernel.hasPendingInput=!0;const v=this._stdin;v&&await v(g)}async _handleIOPub(g){const v=await this._hooks.process(g),y=this._iopub;v&&y&&await y(g),u.isStatusMsg(g)&&g.content.execution_state==="idle"&&(this._setFlag(d.KernelFutureFlag.GotIdle),this._testFlag(d.KernelFutureFlag.GotReply)&&this._handleDone())}_handleDone(){this._testFlag(d.KernelFutureFlag.IsDone)||(this._setFlag(d.KernelFutureFlag.IsDone),this._done.resolve(this._replyMsg),this._disposeOnDone&&this.dispose())}_testFlag(g){return(this._status&g)!==0}_setFlag(g){this._status|=g}}future.KernelFutureHandler=l;class c extends l{}future.KernelControlFutureHandler=c;class f extends l{}future.KernelShellFutureHandler=f;var d;return(function(m){m.noOp=()=>{};const g=typeof requestAnimationFrame=="function"?requestAnimationFrame:setImmediate;class v{constructor(){this._hooks=[]}add(w){this.remove(w),this._hooks.push(w)}remove(w){const T=this._hooks.indexOf(w);T>=0&&(this._hooks[T]=null,this._scheduleCompact())}async process(w){await this._processing;const T=new i.PromiseDelegate;this._processing=T.promise;let P;for(let A=this._hooks.length-1;A>=0;A--){const D=this._hooks[A];if(D!==null){try{P=await D(w)}catch(k){P=!0,console.error(k)}if(P===!1)return T.resolve(void 0),!1}}return T.resolve(void 0),!0}_scheduleCompact(){this._compactScheduled||(this._compactScheduled=!0,g(()=>{this._processing=this._processing.then(()=>{this._compactScheduled=!1,this._compact()})}))}_compact(){let w=0;for(let T=0,P=this._hooks.length;T<P;T++){const A=this._hooks[T];this._hooks[T]===null?w++:this._hooks[T-w]=A}this._hooks.length-=w}}m.HookList=v,(function(y){y[y.GotReply=1]="GotReply",y[y.GotIdle=2]="GotIdle",y[y.IsDone=4]="IsDone",y[y.DisposeOnDone=8]="DisposeOnDone"})(m.KernelFutureFlag||(m.KernelFutureFlag={}))})(d||(d={})),future}var restapi$3={},validate$1={},hasRequiredValidate$1;function requireValidate$1(){if(hasRequiredValidate$1)return validate$1;hasRequiredValidate$1=1,Object.defineProperty(validate$1,"__esModule",{value:!0}),validate$1.validateSpecModel=e,validate$1.validateSpecModels=n;const t=requireValidate$4();function e(i){const o=i.spec;if(!o)throw new Error("Invalid kernel spec");(0,t.validateProperty)(i,"name","string"),(0,t.validateProperty)(i,"resources","object"),(0,t.validateProperty)(o,"language","string"),(0,t.validateProperty)(o,"display_name","string"),(0,t.validateProperty)(o,"argv","array");let u=null;o.hasOwnProperty("metadata")&&((0,t.validateProperty)(o,"metadata","object"),u=o.metadata);let l=null;return o.hasOwnProperty("env")&&((0,t.validateProperty)(o,"env","object"),l=o.env),{name:i.name,resources:i.resources,language:o.language,display_name:o.display_name,argv:o.argv,metadata:u,env:l}}function n(i){if(!i.hasOwnProperty("kernelspecs"))throw new Error("No kernelspecs found");let o=Object.keys(i.kernelspecs);const u=Object.create(null);let l=i.default;for(let c=0;c<o.length;c++){const f=i.kernelspecs[o[c]];try{u[o[c]]=e(f)}catch{console.warn(`Removing errant kernel spec: ${o[c]}`)}}if(o=Object.keys(u),!o.length)throw new Error("No valid kernelspecs found");return(!l||typeof l!="string"||!(l in u))&&(l=o[0],console.warn(`Default kernel not found, using '${o[0]}'`)),{default:l,kernelspecs:u}}return validate$1}var hasRequiredRestapi$3;function requireRestapi$3(){if(hasRequiredRestapi$3)return restapi$3;hasRequiredRestapi$3=1,Object.defineProperty(restapi$3,"__esModule",{value:!0}),restapi$3.KernelSpecAPIClient=void 0,restapi$3.getSpecs=o;const t=requireServerconnection(),e=requireValidate$1(),n=requireLib$c(),i="api/kernelspecs";async function o(l=t.ServerConnection.makeSettings()){const c=n.URLExt.join(l.baseUrl,i),f=await t.ServerConnection.makeRequest(c,{},l);if(f.status!==200)throw await t.ServerConnection.ResponseError.create(f);const d=await f.json();return(0,e.validateSpecModels)(d)}class u{constructor(c={}){var f;this.serverSettings=(f=c.serverSettings)!==null&&f!==void 0?f:t.ServerConnection.makeSettings()}async get(){return o(this.serverSettings)}}return restapi$3.KernelSpecAPIClient=u,restapi$3}var hasRequired_default$2;function require_default$2(){if(hasRequired_default$2)return _default$2;hasRequired_default$2=1;var t=_default$2&&_default$2.__createBinding||(Object.create?(function(k,j,B,Z){Z===void 0&&(Z=B);var R=Object.getOwnPropertyDescriptor(j,B);(!R||("get"in R?!j.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return j[B]}}),Object.defineProperty(k,Z,R)}):(function(k,j,B,Z){Z===void 0&&(Z=B),k[Z]=j[B]})),e=_default$2&&_default$2.__setModuleDefault||(Object.create?(function(k,j){Object.defineProperty(k,"default",{enumerable:!0,value:j})}):function(k,j){k.default=j}),n=_default$2&&_default$2.__importStar||function(k){if(k&&k.__esModule)return k;var j={};if(k!=null)for(var B in k)B!=="default"&&Object.prototype.hasOwnProperty.call(k,B)&&t(j,k,B);return e(j,k),j};Object.defineProperty(_default$2,"__esModule",{value:!0}),_default$2.KernelConnection=void 0;const i=requireLib$c(),o=requireDist$1(),u=require$$0$2,l=requireLib$a(),c=requireComm(),f=n(requireMessages()),d=requireFuture(),m=n(requireValidate$2()),g=requireRestapi$4(),v=requireRestapi$3(),y=requireLib$c(),w=3e3,T="_RESTARTING_",P="";class A{constructor(j){var B,Z,R,G,F,K,Q,ie;this._createSocket=(te=!0)=>{this._errorIfDisposed(),this._clearSocket(),this._updateConnectionStatus("connecting");const oe=this.serverSettings,le=i.URLExt.join(oe.wsUrl,g.KERNEL_SERVICE_URL,encodeURIComponent(this._id)),de=le.replace(/^((?:\w+:)?\/\/)(?:[^@\/]+@)/,"$1");console.debug(`Starting WebSocket: ${de}`);let ge=i.URLExt.join(le,"channels?session_id="+encodeURIComponent(this._clientId));const _e=oe.token;oe.appendToken&&_e!==""&&(ge=ge+`&token=${encodeURIComponent(_e)}`);const we=te?this._supportedProtocols:[];this._ws=new oe.WebSocket(ge,we),this._ws.binaryType="arraybuffer";let Me=!1;const xe=async Se=>{var Ge,Qe;if(!this._isDisposed){this._reason="",this._model=void 0;try{const Je=await this._kernelAPIClient.getModel(this._id);this._model=Je,Je?.execution_state==="dead"?this._updateStatus("dead"):this._onWSClose(Se)}catch(Je){if(Je instanceof l.ServerConnection.NetworkError||((Ge=Je.response)===null||Ge===void 0?void 0:Ge.status)===503||((Qe=Je.response)===null||Qe===void 0?void 0:Qe.status)===424){const Xe=D.getRandomIntInclusive(10,30)*1e3;setTimeout(xe,Xe,Se)}else this._reason="Kernel died unexpectedly",this._updateStatus("dead")}}},Re=async Se=>{Me||(Me=!0,await xe(Se))};this._ws.onmessage=this._onWSMessage,this._ws.onopen=this._onWSOpen,this._ws.onclose=Re,this._ws.onerror=Re},this._onWSOpen=te=>{if(this._ws.protocol!==""&&!this._supportedProtocols.includes(this._ws.protocol))throw console.log("Server selected unknown kernel wire protocol:",this._ws.protocol),this._updateStatus("dead"),new Error(`Unknown kernel wire protocol:  ${this._ws.protocol}`);this._selectedProtocol=this._ws.protocol,this._ws.onclose=this._onWSClose,this._ws.onerror=this._onWSClose,this._updateConnectionStatus("connected")},this._onWSMessage=te=>{let oe;try{oe=this.serverSettings.serializer.deserialize(te.data,this._ws.protocol),m.validateMessage(oe)}catch(le){throw le.message=`Kernel message validation error: ${le.message}`,le}this._kernelSession=oe.header.session,this._msgChain=this._msgChain.then(()=>this._handleMessage(oe)).catch(le=>{le.message.startsWith("Canceled future for ")&&console.error(le)}),this._anyMessage.emit({msg:oe,direction:"recv"})},this._onWSClose=te=>{this.isDisposed||this._reconnect()},this._id="",this._name="",this._status="unknown",this._connectionStatus="connecting",this._kernelSession="",this._isDisposed=!1,this._ws=null,this._username="",this._reconnectLimit=7,this._reconnectAttempt=0,this._reconnectTimeout=null,this._supportedProtocols=Object.values(f.supportedKernelWebSocketProtocols),this._selectedProtocol="",this._commsOverSubshells=l.CommsOverSubshells.PerCommTarget,this._futures=new Map,this._comms=new Map,this._targetRegistry=Object.create(null),this._info=new o.PromiseDelegate,this._pendingMessages=[],this._statusChanged=new u.Signal(this),this._connectionStatusChanged=new u.Signal(this),this._disposed=new u.Signal(this),this._iopubMessage=new u.Signal(this),this._anyMessage=new u.Signal(this),this._pendingInput=new u.Signal(this),this._unhandledMessage=new u.Signal(this),this._displayIdToParentIds=new Map,this._msgIdToDisplayIds=new Map,this._msgChain=Promise.resolve(),this._hasPendingInput=!1,this._reason="",this._noOp=()=>{},this._supportsSubshells=!1,this._name=j.model.name,this._id=j.model.id,this.serverSettings=(B=j.serverSettings)!==null&&B!==void 0?B:l.ServerConnection.makeSettings(),this._kernelAPIClient=(Z=j.kernelAPIClient)!==null&&Z!==void 0?Z:new g.KernelAPIClient({serverSettings:this.serverSettings}),this._kernelSpecAPIClient=(R=j.kernelSpecAPIClient)!==null&&R!==void 0?R:new v.KernelSpecAPIClient({serverSettings:this.serverSettings}),this._clientId=(G=j.clientId)!==null&&G!==void 0?G:o.UUID.uuid4(),this._username=(F=j.username)!==null&&F!==void 0?F:"",this.handleComms=(K=j.handleComms)!==null&&K!==void 0?K:!0,this._commsOverSubshells=(Q=j.commsOverSubshells)!==null&&Q!==void 0?Q:l.CommsOverSubshells.PerCommTarget,this._subshellId=(ie=j.subshellId)!==null&&ie!==void 0?ie:null,this._createSocket()}get disposed(){return this._disposed}get commsOverSubshells(){return this._commsOverSubshells}set commsOverSubshells(j){this._commsOverSubshells=j;for(const[B,Z]of this._comms)Z.commsOverSubshells=j}get statusChanged(){return this._statusChanged}get connectionStatusChanged(){return this._connectionStatusChanged}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get model(){return this._model||{id:this.id,name:this.name,reason:this._reason}}get anyMessage(){return this._anyMessage}get pendingInput(){return this._pendingInput}get id(){return this._id}get name(){return this._name}get username(){return this._username}get clientId(){return this._clientId}get subshellId(){return this._subshellId}set subshellId(j){this._subshellId=j}get status(){return this._status}get connectionStatus(){return this._connectionStatus}get isDisposed(){return this._isDisposed}get info(){return this._info.promise}get spec(){return this._specPromise?this._specPromise:(this._specPromise=this._kernelSpecAPIClient.get().then(j=>j.kernelspecs[this._name]),this._specPromise)}get supportsSubshells(){return this._supportsSubshells}clone(j={}){return new A({model:this.model,username:this.username,serverSettings:this.serverSettings,handleComms:!1,kernelAPIClient:this._kernelAPIClient,commsOverSubshells:l.CommsOverSubshells.Disabled,...j})}dispose(){if(this.isDisposed)return;const j=()=>{this._isDisposed=!0,this._disposed.emit(),this._updateConnectionStatus("disconnected"),this._clearKernelState(),this._pendingMessages=[],this._clearSocket(),u.Signal.clearData(this)};if(this._subshellId!==null){const B=this.requestDeleteSubshell({subshell_id:this._subshellId},!0);B.onReply=Z=>{j()}}else j()}sendShellMessage(j,B=!1,Z=!0){return this._sendKernelShellControl(d.KernelShellFutureHandler,j,B,Z)}sendControlMessage(j,B=!1,Z=!0){return this._sendKernelShellControl(d.KernelControlFutureHandler,j,B,Z)}_sendKernelShellControl(j,B,Z=!1,R=!0){this._sendMessage(B),this._anyMessage.emit({msg:B,direction:"send"});const G=new j(()=>{const F=B.header.msg_id;this._futures.delete(F);const K=this._msgIdToDisplayIds.get(F);K&&(K.forEach(Q=>{const ie=this._displayIdToParentIds.get(Q);if(ie){const te=ie.indexOf(F);if(te===-1)return;ie.length===1?this._displayIdToParentIds.delete(Q):(ie.splice(te,1),this._displayIdToParentIds.set(Q,ie))}}),this._msgIdToDisplayIds.delete(F))},B,Z,R,this);return this._futures.set(B.header.msg_id,G),G}_sendMessage(j,B=!0){if(this.status==="dead")throw new Error("Kernel is dead");if((this._kernelSession===P||this._kernelSession===T)&&f.isInfoRequestMsg(j))if(this.connectionStatus==="connected"){this._ws.send(this.serverSettings.serializer.serialize(j,this._ws.protocol));return}else throw new Error("Could not send message: status is not connected");if(B&&this._pendingMessages.length>0){this._pendingMessages.push(j);return}if(this.connectionStatus==="connected"&&this._kernelSession!==T)this._ws.send(this.serverSettings.serializer.serialize(j,this._ws.protocol));else if(B)this._pendingMessages.push(j);else throw new Error("Could not send message")}async interrupt(){if(this.hasPendingInput=!1,this.status==="dead")throw new Error("Kernel is dead");return this._kernelAPIClient.interrupt(this.id)}async restart(){if(this.status==="dead")throw new Error("Kernel is dead");this._updateStatus("restarting"),this._clearKernelState(),this._kernelSession=T,await this._kernelAPIClient.restart(this.id),await this.reconnect(),this.hasPendingInput=!1}reconnect(){this._errorIfDisposed();const j=new o.PromiseDelegate,B=(Z,R)=>{R==="connected"?(j.resolve(),this.connectionStatusChanged.disconnect(B,this)):R==="disconnected"&&(j.reject(new Error("Kernel connection disconnected")),this.connectionStatusChanged.disconnect(B,this))};return this.connectionStatusChanged.connect(B,this),this._reconnectAttempt=0,this._reconnect(),j.promise}async shutdown(){this.status!=="dead"&&await this._kernelAPIClient.shutdown(this.id),this.handleShutdown()}handleShutdown(){this._updateStatus("dead"),this.dispose()}async requestKernelInfo(){const j=f.createMessage({msgType:"kernel_info_request",channel:"shell",username:this._username,session:this._clientId,subshellId:this._subshellId,content:{}});let B;try{B=await D.handleShellMessage(this,j)}catch(R){if(this.isDisposed)return;throw R}if(this._errorIfDisposed(),!B)return;if(B.content.status===void 0&&(B.content.status="ok"),B.content.status!=="ok")return this._info.reject("Kernel info reply errored"),B;this._info.resolve(B.content),this._kernelSession=B.header.session;const Z=B.content.supported_features;return this._supportsSubshells=Z!==void 0&&Z.includes("kernel subshells"),B}requestComplete(j){const B=f.createMessage({msgType:"complete_request",channel:"shell",username:this._username,session:this._clientId,subshellId:this._subshellId,content:j});return D.handleShellMessage(this,B)}requestInspect(j){const B=f.createMessage({msgType:"inspect_request",channel:"shell",username:this._username,session:this._clientId,subshellId:this._subshellId,content:j});return D.handleShellMessage(this,B)}requestHistory(j){const B=f.createMessage({msgType:"history_request",channel:"shell",username:this._username,session:this._clientId,subshellId:this._subshellId,content:j});return D.handleShellMessage(this,B)}requestExecute(j,B=!0,Z){const R={silent:!1,store_history:!0,user_expressions:{},allow_stdin:!0,stop_on_error:!1},G=f.createMessage({msgType:"execute_request",channel:"shell",username:this._username,session:this._clientId,subshellId:this._subshellId,content:{...R,...j},metadata:Z});return this.sendShellMessage(G,!0,B)}requestDebug(j,B=!0){const Z=f.createMessage({msgType:"debug_request",channel:"control",username:this._username,session:this._clientId,content:j});return this.sendControlMessage(Z,!0,B)}requestCreateSubshell(j,B=!0){if(!this.supportsSubshells)throw new Error("Kernel subshells are not supported");const Z=f.createMessage({msgType:"create_subshell_request",channel:"control",username:this._username,session:this._clientId,content:j});return this.sendControlMessage(Z,!0,B)}requestDeleteSubshell(j,B=!0){if(!this.supportsSubshells)throw new Error("Kernel subshells are not supported");const Z=f.createMessage({msgType:"delete_subshell_request",channel:"control",username:this._username,session:this._clientId,content:j});return this.sendControlMessage(Z,!0,B)}requestListSubshell(j,B=!0){if(!this.supportsSubshells)throw new Error("Kernel subshells are not supported");const Z=f.createMessage({msgType:"list_subshell_request",channel:"control",username:this._username,session:this._clientId,content:j});return this.sendControlMessage(Z,!0,B)}requestIsComplete(j){const B=f.createMessage({msgType:"is_complete_request",channel:"shell",username:this._username,session:this._clientId,subshellId:this._subshellId,content:j});return D.handleShellMessage(this,B)}requestCommInfo(j){const B=f.createMessage({msgType:"comm_info_request",channel:"shell",username:this._username,session:this._clientId,subshellId:this._subshellId,content:j});return D.handleShellMessage(this,B)}sendInputReply(j,B){const Z=f.createMessage({msgType:"input_reply",channel:"stdin",username:this._username,session:this._clientId,content:j});Z.parent_header=B,this._sendMessage(Z),this._anyMessage.emit({msg:Z,direction:"send"}),this.hasPendingInput=!1}createComm(j,B=o.UUID.uuid4()){if(!this.handleComms)throw new Error("Comms are disabled on this kernel connection");if(this._comms.has(B))throw new Error("Comm is already created");const Z=new c.CommHandler(j,B,this,()=>{this._unregisterComm(B)},this._commsOverSubshells);return this._comms.set(B,Z),Z}hasComm(j){return this._comms.has(j)}registerCommTarget(j,B){this.handleComms&&(this._targetRegistry[j]=B)}removeCommTarget(j,B){this.handleComms&&!this.isDisposed&&this._targetRegistry[j]===B&&delete this._targetRegistry[j]}registerMessageHook(j,B){var Z;const R=(Z=this._futures)===null||Z===void 0?void 0:Z.get(j);R&&R.registerMessageHook(B)}removeMessageHook(j,B){var Z;const R=(Z=this._futures)===null||Z===void 0?void 0:Z.get(j);R&&R.removeMessageHook(B)}removeInputGuard(){this.hasPendingInput=!1}async _handleDisplayId(j,B){var Z,R;const G=B.parent_header.msg_id;let F=this._displayIdToParentIds.get(j);if(F){const Q={header:o.JSONExt.deepCopy(B.header),parent_header:o.JSONExt.deepCopy(B.parent_header),metadata:o.JSONExt.deepCopy(B.metadata),content:o.JSONExt.deepCopy(B.content),channel:B.channel,buffers:B.buffers?B.buffers.slice():[]};Q.header.msg_type="update_display_data",await Promise.all(F.map(async ie=>{const te=this._futures&&this._futures.get(ie);te&&await te.handleMsg(Q)}))}if(B.header.msg_type==="update_display_data")return!0;F=(Z=this._displayIdToParentIds.get(j))!==null&&Z!==void 0?Z:[],F.indexOf(G)===-1&&F.push(G),this._displayIdToParentIds.set(j,F);const K=(R=this._msgIdToDisplayIds.get(G))!==null&&R!==void 0?R:[];return K.indexOf(G)===-1&&K.push(G),this._msgIdToDisplayIds.set(G,K),!1}_clearSocket(){this._ws!==null&&(this._ws.onopen=this._noOp,this._ws.onclose=this._noOp,this._ws.onerror=this._noOp,this._ws.onmessage=this._noOp,this._ws.close(),this._ws=null)}_updateStatus(j){this._status===j||this._status==="dead"||(this._status=j,D.logKernelStatus(this),this._statusChanged.emit(j),j==="dead"&&this.dispose())}_sendPending(){for(;this.connectionStatus==="connected"&&this._kernelSession!==T&&this._pendingMessages.length>0;)this._sendMessage(this._pendingMessages[0],!1),this._pendingMessages.shift()}_clearKernelState(){this._kernelSession="",this._pendingMessages=[],this._futures.forEach(j=>{j.dispose()}),this._comms.forEach(j=>{j.dispose()}),this._msgChain=Promise.resolve(),this._futures=new Map,this._comms=new Map,this._displayIdToParentIds.clear(),this._msgIdToDisplayIds.clear()}_assertCurrentMessage(j){if(this._errorIfDisposed(),j.header.session!==this._kernelSession)throw new Error(`Canceling handling of old message: ${j.header.msg_type}`)}async _handleCommOpen(j){this._assertCurrentMessage(j);const B=j.content,Z=new c.CommHandler(B.target_name,B.comm_id,this,()=>{this._unregisterComm(B.comm_id)},this.commsOverSubshells);this._comms.set(B.comm_id,Z);try{await(await D.loadObject(B.target_name,B.target_module,this._targetRegistry))(Z,j)}catch(R){throw Z.close(),console.error("Exception opening new comm"),R}}async _handleCommClose(j){this._assertCurrentMessage(j);const B=j.content,Z=this._comms.get(B.comm_id);if(!Z){console.error("Comm not found for comm id "+B.comm_id);return}this._unregisterComm(Z.commId);const R=Z.onClose;R&&await R(j),Z.dispose()}async _handleCommMsg(j){this._assertCurrentMessage(j);const B=j.content,Z=this._comms.get(B.comm_id);if(!Z)return;const R=Z.onMsg;R&&await R(j)}_unregisterComm(j){this._comms.delete(j)}_updateConnectionStatus(j){if(this._connectionStatus!==j){if(this._connectionStatus=j,j!=="connecting"&&(this._reconnectAttempt=0,clearTimeout(this._reconnectTimeout)),this.status!=="dead")if(j==="connected"){let B=this._kernelSession===T,Z=this.requestKernelInfo(),R=!1,G=()=>{R||(R=!0,B&&this._kernelSession===T&&(this._kernelSession=""),clearTimeout(F),this._pendingMessages.length>0&&this._sendPending())};Z.then(G);let F=setTimeout(G,w)}else this._updateStatus("unknown");this._connectionStatusChanged.emit(j)}}async _handleMessage(j){var B,Z;let R=!1;if(j.parent_header&&j.channel==="iopub"&&(f.isDisplayDataMsg(j)||f.isUpdateDisplayDataMsg(j)||f.isExecuteResultMsg(j))){const F=((B=j.content.transient)!==null&&B!==void 0?B:{}).display_id;F&&(R=await this._handleDisplayId(F,j),this._assertCurrentMessage(j))}if(!R&&j.parent_header){const G=j.parent_header,F=(Z=this._futures)===null||Z===void 0?void 0:Z.get(G.msg_id);if(F)await F.handleMsg(j),this._assertCurrentMessage(j);else{const K=G.session===this.clientId;j.channel!=="iopub"&&K&&this._unhandledMessage.emit(j)}}if(j.channel==="iopub"){switch(j.header.msg_type){case"status":{const G=y.PageConfig.getOption("untracked_message_types");if(JSON.parse(G||"[]").includes(j.parent_header.msg_type))break;const K=j.content.execution_state;K==="restarting"&&Promise.resolve().then(async()=>{this._updateStatus("autorestarting"),this._clearKernelState(),await this.reconnect()}),this._updateStatus(K);break}case"comm_open":this.handleComms&&await this._handleCommOpen(j);break;case"comm_msg":this.handleComms&&await this._handleCommMsg(j);break;case"comm_close":this.handleComms&&await this._handleCommClose(j);break}this.isDisposed||(this._assertCurrentMessage(j),this._iopubMessage.emit(j))}}_reconnect(){if(this._errorIfDisposed(),clearTimeout(this._reconnectTimeout),this._reconnectAttempt<this._reconnectLimit){this._updateConnectionStatus("connecting");const j=D.getRandomIntInclusive(0,1e3*(Math.pow(2,this._reconnectAttempt)-1));console.warn(`Connection lost, reconnecting in ${Math.floor(j/1e3)} seconds.`);const B=this._selectedProtocol!=="";this._reconnectTimeout=setTimeout(this._createSocket,j,B),this._reconnectAttempt+=1}else this._updateConnectionStatus("disconnected");this._clearSocket()}_errorIfDisposed(){if(this.isDisposed)throw new Error("Kernel connection is disposed")}get hasPendingInput(){return this._hasPendingInput}set hasPendingInput(j){this._hasPendingInput=j,this._pendingInput.emit(j)}}_default$2.KernelConnection=A;var D;return(function(k){function j(G){switch(G.status){case"idle":case"busy":case"unknown":return;default:console.debug(`Kernel: ${G.status} (${G.id})`);break}}k.logKernelStatus=j;async function B(G,F){return G.sendShellMessage(F,!0).done}k.handleShellMessage=B;function Z(G,F,K){return new Promise((Q,ie)=>{if(F){if(typeof requirejs>"u")throw new Error("requirejs not found");requirejs([F],te=>{if(te[G]===void 0){const oe=`Object '${G}' not found in module '${F}'`;ie(new Error(oe))}else Q(te[G])},ie)}else K?.[G]?Q(K[G]):ie(new Error(`Object '${G}' not found in registry`))})}k.loadObject=Z;function R(G,F){return G=Math.ceil(G),F=Math.floor(F),Math.floor(Math.random()*(F-G+1))+G}k.getRandomIntInclusive=R})(D||(D={})),_default$2}var manager$5={},hasRequiredManager$5;function requireManager$5(){if(hasRequiredManager$5)return manager$5;hasRequiredManager$5=1,Object.defineProperty(manager$5,"__esModule",{value:!0}),manager$5.KernelManager=void 0;const t=require$$1$1,e=require$$0$2,n=requireLib$a(),i=requireBasemanager(),o=requireRestapi$4(),u=require_default$2(),l=requireRestapi$3();class c extends i.BaseManager{constructor(d={}){var m,g,v;super(d),this._commsOverSubshells=n.CommsOverSubshells.PerCommTarget,this._isReady=!1,this._kernelConnections=new Set,this._models=new Map,this._runningChanged=new e.Signal(this),this._connectionFailure=new e.Signal(this),this._kernelAPIClient=(m=d.kernelAPIClient)!==null&&m!==void 0?m:new o.KernelAPIClient({serverSettings:this.serverSettings}),this._kernelSpecAPIClient=(g=d.kernelSpecAPIClient)!==null&&g!==void 0?g:new l.KernelSpecAPIClient({serverSettings:this.serverSettings}),this._pollModels=new t.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:10*1e3,backoff:!0,max:300*1e3},name:"@jupyterlab/services:KernelManager#models",standby:(v=d.standby)!==null&&v!==void 0?v:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._models.clear(),this._kernelConnections.forEach(d=>d.dispose()),this._pollModels.dispose(),super.dispose())}connectTo(d){var m;const{id:g}=d.model;let v=(m=d.handleComms)!==null&&m!==void 0?m:!0;if(d.handleComms===void 0){for(const w of this._kernelConnections)if(w.id===g&&w.handleComms){v=!1;break}}d.commsOverSubshells=this._commsOverSubshells;const y=new u.KernelConnection({handleComms:v,...d,serverSettings:this.serverSettings,kernelAPIClient:this._kernelAPIClient,kernelSpecAPIClient:this._kernelSpecAPIClient});return this._onStarted(y),this._models.has(g)||this.refreshRunning().catch(()=>{}),y}running(){return this._models.values()}get runningCount(){return this._models.size}get commsOverSubshells(){return this._commsOverSubshells}set commsOverSubshells(d){this._commsOverSubshells=d;for(const m of this._kernelConnections)m.commsOverSubshells=d}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(d={},m={}){const g=await this._kernelAPIClient.startNew(d);return this.connectTo({...m,model:g})}async shutdown(d){await this._kernelAPIClient.shutdown(d),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all([...this._models.keys()].map(d=>this._kernelAPIClient.shutdown(d))),await this.refreshRunning()}async findById(d){return this._models.has(d)?this._models.get(d):(await this.refreshRunning(),this._models.get(d))}async requestRunning(){var d,m;let g;try{g=await this._kernelAPIClient.listRunning()}catch(v){throw(v instanceof n.ServerConnection.NetworkError||((d=v.response)===null||d===void 0?void 0:d.status)===503||((m=v.response)===null||m===void 0?void 0:m.status)===424)&&this._connectionFailure.emit(v),v}this.isDisposed||this._models.size===g.length&&g.every(v=>{const y=this._models.get(v.id);return y?y.connections===v.connections&&y.execution_state===v.execution_state&&y.last_activity===v.last_activity&&y.name===v.name&&y.reason===v.reason&&y.traceback===v.traceback:!1})||(this._models=new Map(g.map(v=>[v.id,v])),this._kernelConnections.forEach(v=>{this._models.has(v.id)||v.handleShutdown()}),this._runningChanged.emit(g))}_onStarted(d){this._kernelConnections.add(d),d.statusChanged.connect(this._onStatusChanged,this),d.disposed.connect(this._onDisposed,this)}_onDisposed(d){this._kernelConnections.delete(d),this.refreshRunning().catch(()=>{})}_onStatusChanged(d,m){m==="dead"&&this.refreshRunning().catch(()=>{})}}return manager$5.KernelManager=c,(function(f){class d extends f{constructor(){super(...arguments),this._readyPromise=new Promise(()=>{})}get isActive(){return!1}get parentReady(){return super.ready}async startNew(g={},v={}){return Promise.reject(new Error("Not implemented in no-op Kernel Manager"))}connectTo(g){throw new Error("Not implemented in no-op Kernel Manager")}async shutdown(g){return Promise.reject(new Error("Not implemented in no-op Kernel Manager"))}get ready(){return this.parentReady.then(()=>this._readyPromise)}async requestRunning(){return Promise.resolve()}}f.NoopManager=d})(c||(manager$5.KernelManager=c={})),manager$5}var hasRequiredKernel;function requireKernel(){return hasRequiredKernel||(hasRequiredKernel=1,(function(t){var e=kernel$1&&kernel$1.__createBinding||(Object.create?(function(m,g,v,y){y===void 0&&(y=v);var w=Object.getOwnPropertyDescriptor(g,v);(!w||("get"in w?!g.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return g[v]}}),Object.defineProperty(m,y,w)}):(function(m,g,v,y){y===void 0&&(y=v),m[y]=g[v]})),n=kernel$1&&kernel$1.__setModuleDefault||(Object.create?(function(m,g){Object.defineProperty(m,"default",{enumerable:!0,value:g})}):function(m,g){m.default=g}),i=kernel$1&&kernel$1.__importStar||function(m){if(m&&m.__esModule)return m;var g={};if(m!=null)for(var v in m)v!=="default"&&Object.prototype.hasOwnProperty.call(m,v)&&e(g,m,v);return n(g,m),g},o=kernel$1&&kernel$1.__exportStar||function(m,g){for(var v in m)v!=="default"&&!Object.prototype.hasOwnProperty.call(g,v)&&e(g,m,v)};Object.defineProperty(t,"__esModule",{value:!0}),t.CommsOverSubshells=t.KernelConnection=t.KernelAPI=t.KernelMessage=t.Kernel=void 0;const u=requireComm();Object.defineProperty(t,"CommsOverSubshells",{enumerable:!0,get:function(){return u.CommsOverSubshells}});const l=i(requireKernel$1());t.Kernel=l;const c=i(requireMessages());t.KernelMessage=c;const f=i(requireRestapi$4());t.KernelAPI=f;const d=require_default$2();Object.defineProperty(t,"KernelConnection",{enumerable:!0,get:function(){return d.KernelConnection}}),o(requireManager$5(),t)})(kernel$1)),kernel$1}var kernelspec$1={},kernelspec={},hasRequiredKernelspec$1;function requireKernelspec$1(){return hasRequiredKernelspec$1||(hasRequiredKernelspec$1=1,Object.defineProperty(kernelspec,"__esModule",{value:!0})),kernelspec}var manager$4={},hasRequiredManager$4;function requireManager$4(){if(hasRequiredManager$4)return manager$4;hasRequiredManager$4=1,Object.defineProperty(manager$4,"__esModule",{value:!0}),manager$4.KernelSpecManager=void 0;const t=requireDist$1(),e=require$$1$1,n=require$$0$2,i=requireBasemanager(),o=requireRestapi$3();class u extends i.BaseManager{constructor(c={}){var f,d;super(c),this._isReady=!1,this._connectionFailure=new n.Signal(this),this._specs=null,this._specsChanged=new n.Signal(this),this._kernelSpecAPIClient=(f=c.kernelSpecAPIClient)!==null&&f!==void 0?f:new o.KernelSpecAPIClient({serverSettings:this.serverSettings}),this._ready=Promise.all([this.requestSpecs()]).then(m=>{}).catch(m=>{}).then(()=>{this.isDisposed||(this._isReady=!0)}),this._pollSpecs=new e.Poll({auto:!1,factory:()=>this.requestSpecs(),frequency:{interval:61*1e3,backoff:!0,max:300*1e3},name:"@jupyterlab/services:KernelSpecManager#specs",standby:(d=c.standby)!==null&&d!==void 0?d:"when-hidden"}),this.ready.then(()=>{this._pollSpecs.start()})}get isReady(){return this._isReady}get ready(){return this._ready}get specs(){return this._specs}get specsChanged(){return this._specsChanged}get connectionFailure(){return this._connectionFailure}dispose(){this._pollSpecs.dispose(),super.dispose()}async refreshSpecs(){await this._pollSpecs.refresh(),await this._pollSpecs.tick}async requestSpecs(){const c=await this._kernelSpecAPIClient.get();this.isDisposed||t.JSONExt.deepEqual(c,this._specs)||(this._specs=c,this._specsChanged.emit(c))}}return manager$4.KernelSpecManager=u,manager$4}var hasRequiredKernelspec;function requireKernelspec(){return hasRequiredKernelspec||(hasRequiredKernelspec=1,(function(t){var e=kernelspec$1&&kernelspec$1.__createBinding||(Object.create?(function(c,f,d,m){m===void 0&&(m=d);var g=Object.getOwnPropertyDescriptor(f,d);(!g||("get"in g?!f.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return f[d]}}),Object.defineProperty(c,m,g)}):(function(c,f,d,m){m===void 0&&(m=d),c[m]=f[d]})),n=kernelspec$1&&kernelspec$1.__setModuleDefault||(Object.create?(function(c,f){Object.defineProperty(c,"default",{enumerable:!0,value:f})}):function(c,f){c.default=f}),i=kernelspec$1&&kernelspec$1.__importStar||function(c){if(c&&c.__esModule)return c;var f={};if(c!=null)for(var d in c)d!=="default"&&Object.prototype.hasOwnProperty.call(c,d)&&e(f,c,d);return n(f,c),f},o=kernelspec$1&&kernelspec$1.__exportStar||function(c,f){for(var d in c)d!=="default"&&!Object.prototype.hasOwnProperty.call(f,d)&&e(f,c,d)};Object.defineProperty(t,"__esModule",{value:!0}),t.KernelSpecAPI=t.KernelSpec=void 0;const u=i(requireKernelspec$1());t.KernelSpec=u;const l=i(requireRestapi$3());t.KernelSpecAPI=l,o(requireManager$4(),t)})(kernelspec$1)),kernelspec$1}var manager$3={},builder={},hasRequiredBuilder;function requireBuilder(){if(hasRequiredBuilder)return builder;hasRequiredBuilder=1,Object.defineProperty(builder,"__esModule",{value:!0}),builder.BuildManager=void 0;const t=requireLib$c(),e=requireServerconnection(),n="api/build";class i{constructor(u={}){var l;this.serverSettings=(l=u.serverSettings)!==null&&l!==void 0?l:e.ServerConnection.makeSettings()}get isAvailable(){return t.PageConfig.getOption("buildAvailable").toLowerCase()==="true"}get shouldCheck(){return t.PageConfig.getOption("buildCheck").toLowerCase()==="true"}getStatus(){const{_url:u,serverSettings:l}=this;return e.ServerConnection.makeRequest(u,{},l).then(f=>{if(f.status!==200)throw new e.ServerConnection.ResponseError(f);return f.json()}).then(f=>{if(typeof f.status!="string")throw new Error("Invalid data");if(typeof f.message!="string")throw new Error("Invalid data");return f})}build(){const{_url:u,serverSettings:l}=this,c={method:"POST"};return e.ServerConnection.makeRequest(u,c,l).then(d=>{if(d.status===400)throw new e.ServerConnection.ResponseError(d,"Build aborted");if(d.status!==200){const m=`Build failed with ${d.status}.

        If you are experiencing the build failure after installing an extension (or trying to include previously installed extension after updating JupyterLab) please check the extension repository for new installation instructions as many extensions migrated to the prebuilt extensions system which no longer requires rebuilding JupyterLab (but uses a different installation procedure, typically involving a package manager such as 'pip' or 'conda').

        If you specifically intended to install a source extension, please run 'jupyter lab build' on the server for full output.`;throw new e.ServerConnection.ResponseError(d,m)}})}cancel(){const{_url:u,serverSettings:l}=this,c={method:"DELETE"};return e.ServerConnection.makeRequest(u,c,l).then(d=>{if(d.status!==204)throw new e.ServerConnection.ResponseError(d)})}get _url(){const{baseUrl:u,appUrl:l}=this.serverSettings;return t.URLExt.join(u,l,n)}}return builder.BuildManager=i,builder}var nbconvert={},hasRequiredNbconvert;function requireNbconvert(){if(hasRequiredNbconvert)return nbconvert;hasRequiredNbconvert=1,Object.defineProperty(nbconvert,"__esModule",{value:!0}),nbconvert.NbConvertManager=void 0;const t=requireLib$c(),e=requireServerconnection(),n=requireDist$1(),i="api/nbconvert",o="nbconvert";class u{constructor(c={}){var f;this._exportFormats=null,this.serverSettings=(f=c.serverSettings)!==null&&f!==void 0?f:e.ServerConnection.makeSettings()}async fetchExportFormats(){this._requestingFormats=new n.PromiseDelegate,this._exportFormats=null;const c=this.serverSettings.baseUrl,f=t.URLExt.join(c,i),{serverSettings:d}=this,m=await e.ServerConnection.makeRequest(f,{},d);if(m.status!==200)throw await e.ServerConnection.ResponseError.create(m);const g=await m.json(),v={};return Object.keys(g).forEach(function(w){const T=g[w].output_mimetype;v[w]={output_mimetype:T}}),this._exportFormats=v,this._requestingFormats.resolve(v),v}async getExportFormats(c=!0){return this._requestingFormats?this._requestingFormats.promise:c||!this._exportFormats?await this.fetchExportFormats():this._exportFormats}async exportAs(c){const{format:f,path:d}=c,{download:m=!1}=c.exporterOptions||{},g=this.serverSettings.baseUrl,v=t.URLExt.encodeParts(d);let y=t.URLExt.join(g,o,f,v);m&&(y+="?download=true"),window?.open(y,"_blank","noopener")}}return nbconvert.NbConvertManager=u,nbconvert}var session$1={},session={},hasRequiredSession$1;function requireSession$1(){return hasRequiredSession$1||(hasRequiredSession$1=1,Object.defineProperty(session,"__esModule",{value:!0})),session}var restapi$2={},validate={},hasRequiredValidate;function requireValidate(){if(hasRequiredValidate)return validate;hasRequiredValidate=1,Object.defineProperty(validate,"__esModule",{value:!0}),validate.validateModel=n,validate.updateLegacySessionModel=i,validate.validateModels=o;const t=requireValidate$2(),e=requireValidate$4();function n(u){(0,e.validateProperty)(u,"id","string"),(0,e.validateProperty)(u,"type","string"),(0,e.validateProperty)(u,"name","string"),(0,e.validateProperty)(u,"path","string"),(0,e.validateProperty)(u,"kernel","object"),(0,t.validateModel)(u.kernel)}function i(u){u.path===void 0&&u.notebook!==void 0&&(u.path=u.notebook.path,u.type="notebook",u.name="")}function o(u){if(!Array.isArray(u))throw new Error("Invalid session list");u.forEach(l=>n(l))}return validate}var hasRequiredRestapi$2;function requireRestapi$2(){return hasRequiredRestapi$2||(hasRequiredRestapi$2=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SessionAPIClient=t.SESSION_SERVICE_URL=void 0,t.listRunning=o,t.getSessionUrl=u,t.shutdownSession=l,t.getSessionModel=c,t.startSession=f,t.updateSession=d;const e=requireServerconnection(),n=requireLib$c(),i=requireValidate();t.SESSION_SERVICE_URL="api/sessions";async function o(g=e.ServerConnection.makeSettings()){const v=n.URLExt.join(g.baseUrl,t.SESSION_SERVICE_URL),y=await e.ServerConnection.makeRequest(v,{},g);if(y.status!==200)throw await e.ServerConnection.ResponseError.create(y);const w=await y.json();if(!Array.isArray(w))throw new Error("Invalid Session list");return w.forEach(T=>{(0,i.updateLegacySessionModel)(T),(0,i.validateModel)(T)}),w}function u(g,v){const y=n.URLExt.join(g,t.SESSION_SERVICE_URL),w=n.URLExt.join(y,v);if(!w.startsWith(y))throw new Error("Can only be used for services requests");return w}async function l(g,v=e.ServerConnection.makeSettings()){var y;const w=u(v.baseUrl,g),T={method:"DELETE"},P=await e.ServerConnection.makeRequest(w,T,v);if(P.status===404){const D=(y=(await P.json()).message)!==null&&y!==void 0?y:`The session "${g}"" does not exist on the server`;console.warn(D)}else{if(P.status===410)throw new e.ServerConnection.ResponseError(P,"The kernel was deleted but the session was not");if(P.status!==204)throw await e.ServerConnection.ResponseError.create(P)}}async function c(g,v=e.ServerConnection.makeSettings()){const y=u(v.baseUrl,g),w=await e.ServerConnection.makeRequest(y,{},v);if(w.status!==200)throw await e.ServerConnection.ResponseError.create(w);const T=await w.json();return(0,i.updateLegacySessionModel)(T),(0,i.validateModel)(T),T}async function f(g,v=e.ServerConnection.makeSettings()){const y=n.URLExt.join(v.baseUrl,t.SESSION_SERVICE_URL),w={method:"POST",body:JSON.stringify(g)},T=await e.ServerConnection.makeRequest(y,w,v);if(T.status!==201)throw await e.ServerConnection.ResponseError.create(T);const P=await T.json();return(0,i.updateLegacySessionModel)(P),(0,i.validateModel)(P),P}async function d(g,v=e.ServerConnection.makeSettings()){const y=u(v.baseUrl,g.id),w={method:"PATCH",body:JSON.stringify(g)},T=await e.ServerConnection.makeRequest(y,w,v);if(T.status!==200)throw await e.ServerConnection.ResponseError.create(T);const P=await T.json();return(0,i.updateLegacySessionModel)(P),(0,i.validateModel)(P),P}class m{constructor(v){var y;this.serverSettings=(y=v.serverSettings)!==null&&y!==void 0?y:e.ServerConnection.makeSettings()}async listRunning(){return o(this.serverSettings)}async getModel(v){return c(v,this.serverSettings)}async startNew(v){return f(v,this.serverSettings)}async shutdown(v){return l(v,this.serverSettings)}async update(v){return d(v,this.serverSettings)}}t.SessionAPIClient=m})(restapi$2)),restapi$2}var manager$2={},_default$1={},hasRequired_default$1;function require_default$1(){if(hasRequired_default$1)return _default$1;hasRequired_default$1=1,Object.defineProperty(_default$1,"__esModule",{value:!0}),_default$1.SessionConnection=void 0;const t=require$$0$2,e=requireLib$a(),n=requireDist$1(),i=requireRestapi$2();class o{constructor(l){var c,f,d,m,g;this._id="",this._path="",this._name="",this._type="",this._kernel=null,this._isDisposed=!1,this._disposed=new t.Signal(this),this._kernelChanged=new t.Signal(this),this._statusChanged=new t.Signal(this),this._connectionStatusChanged=new t.Signal(this),this._pendingInput=new t.Signal(this),this._iopubMessage=new t.Signal(this),this._unhandledMessage=new t.Signal(this),this._anyMessage=new t.Signal(this),this._propertyChanged=new t.Signal(this),this._id=l.model.id,this._name=l.model.name,this._path=l.model.path,this._type=l.model.type,this._username=(c=l.username)!==null&&c!==void 0?c:"",this._clientId=(f=l.clientId)!==null&&f!==void 0?f:n.UUID.uuid4(),this._connectToKernel=l.connectToKernel,this._kernelConnectionOptions=(d=l.kernelConnectionOptions)!==null&&d!==void 0?d:{},this.serverSettings=(m=l.serverSettings)!==null&&m!==void 0?m:e.ServerConnection.makeSettings(),this._sessionAPIClient=(g=l.sessionAPIClient)!==null&&g!==void 0?g:new i.SessionAPIClient({serverSettings:this.serverSettings}),this.setupKernel(l.model.kernel)}get disposed(){return this._disposed}get kernelChanged(){return this._kernelChanged}get statusChanged(){return this._statusChanged}get connectionStatusChanged(){return this._connectionStatusChanged}get pendingInput(){return this._pendingInput}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get anyMessage(){return this._anyMessage}get propertyChanged(){return this._propertyChanged}get id(){return this._id}get kernel(){return this._kernel}get path(){return this._path}get type(){return this._type}get name(){return this._name}get model(){return{id:this.id,kernel:this.kernel&&{id:this.kernel.id,name:this.kernel.name},path:this._path,type:this._type,name:this._name}}get isDisposed(){return this._isDisposed}update(l){const c=this.model;if(this._path=l.path,this._name=l.name,this._type=l.type,this._kernel===null&&l.kernel!==null||this._kernel!==null&&l.kernel===null||this._kernel!==null&&l.kernel!==null&&this._kernel.id!==l.kernel.id){this._kernel!==null&&this._kernel.dispose();const f=this._kernel||null;this.setupKernel(l.kernel);const d=this._kernel||null;this._kernelChanged.emit({name:"kernel",oldValue:f,newValue:d})}this._handleModelChange(c)}dispose(){if(!this.isDisposed){if(this._isDisposed=!0,this._disposed.emit(),this._kernel){this._kernel.dispose();const l=this._kernel;this._kernel=null;const c=this._kernel;this._kernelChanged.emit({name:"kernel",oldValue:l,newValue:c})}t.Signal.clearData(this)}}async setPath(l){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({path:l})}async setName(l){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({name:l})}async setType(l){if(this.isDisposed)throw new Error("Session is disposed");await this._patch({type:l})}async changeKernel(l){if(this.isDisposed)throw new Error("Session is disposed");return await this._patch({kernel:l}),this.kernel}async shutdown(){if(this.isDisposed)throw new Error("Session is disposed");await this._sessionAPIClient.shutdown(this.id),this.dispose()}setupKernel(l){if(l===null){this._kernel=null;return}const c=this._connectToKernel({...this._kernelConnectionOptions,model:l,username:this._username,clientId:this._clientId,serverSettings:this.serverSettings});this._kernel=c,c.statusChanged.connect(this.onKernelStatus,this),c.connectionStatusChanged.connect(this.onKernelConnectionStatus,this),c.pendingInput.connect(this.onPendingInput,this),c.unhandledMessage.connect(this.onUnhandledMessage,this),c.iopubMessage.connect(this.onIOPubMessage,this),c.anyMessage.connect(this.onAnyMessage,this)}onKernelStatus(l,c){this._statusChanged.emit(c)}onKernelConnectionStatus(l,c){this._connectionStatusChanged.emit(c)}onPendingInput(l,c){this._pendingInput.emit(c)}onIOPubMessage(l,c){this._iopubMessage.emit(c)}onUnhandledMessage(l,c){this._unhandledMessage.emit(c)}onAnyMessage(l,c){this._anyMessage.emit(c)}async _patch(l){const c=await this._sessionAPIClient.update({...l,id:this._id});return this.update(c),c}_handleModelChange(l){l.name!==this._name&&this._propertyChanged.emit("name"),l.type!==this._type&&this._propertyChanged.emit("type"),l.path!==this._path&&this._propertyChanged.emit("path")}}return _default$1.SessionConnection=o,_default$1}var hasRequiredManager$3;function requireManager$3(){if(hasRequiredManager$3)return manager$2;hasRequiredManager$3=1,Object.defineProperty(manager$2,"__esModule",{value:!0}),manager$2.SessionManager=void 0;const t=require$$1$1,e=require$$0$2,n=requireServerconnection(),i=requireBasemanager(),o=require_default$1(),u=requireRestapi$2();class l extends i.BaseManager{constructor(f){var d,m;super(f),this._isReady=!1,this._sessionConnections=new Set,this._models=new Map,this._runningChanged=new e.Signal(this),this._connectionFailure=new e.Signal(this),this._connectToKernel=g=>this._kernelManager.connectTo(g),this._kernelManager=f.kernelManager,this._sessionAPIClient=(d=f.sessionAPIClient)!==null&&d!==void 0?d:new u.SessionAPIClient({serverSettings:f.serverSettings}),this._pollModels=new t.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:10*1e3,backoff:!0,max:300*1e3},name:"@jupyterlab/services:SessionManager#models",standby:(m=f.standby)!==null&&m!==void 0?m:"when-hidden"}),this._ready=(async()=>{await this._pollModels.start(),await this._pollModels.tick,this._kernelManager.isActive&&await this._kernelManager.ready,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){this.isDisposed||(this._models.clear(),this._sessionConnections.forEach(f=>f.dispose()),this._pollModels.dispose(),super.dispose())}connectTo(f){const d=new o.SessionConnection({...f,connectToKernel:this._connectToKernel,serverSettings:this.serverSettings,sessionAPIClient:this._sessionAPIClient});return this._onStarted(d),this._models.has(f.model.id)||this.refreshRunning().catch(()=>{}),d}running(){return this._models.values()}async refreshRunning(){await this._pollModels.refresh(),await this._pollModels.tick}async startNew(f,d={}){const m=await this._sessionAPIClient.startNew(f);return await this.refreshRunning(),this.connectTo({...d,model:m})}async shutdown(f){await this._sessionAPIClient.shutdown(f),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all([...this._models.keys()].map(f=>this._sessionAPIClient.shutdown(f))),await this.refreshRunning()}async stopIfNeeded(f){try{const m=(await this._sessionAPIClient.listRunning()).filter(g=>g.path===f);if(m.length===1){const g=m[0].id;await this.shutdown(g)}}catch{}}async findById(f){return this._models.has(f)?this._models.get(f):(await this.refreshRunning(),this._models.get(f))}async findByPath(f){for(const d of this._models.values())if(d.path===f)return d;await this.refreshRunning();for(const d of this._models.values())if(d.path===f)return d}async requestRunning(){var f,d;let m;try{m=await this._sessionAPIClient.listRunning()}catch(g){throw(g instanceof n.ServerConnection.NetworkError||((f=g.response)===null||f===void 0?void 0:f.status)===503||((d=g.response)===null||d===void 0?void 0:d.status)===424)&&this._connectionFailure.emit(g),g}this.isDisposed||this._models.size===m.length&&m.every(g=>{var v,y,w,T;const P=this._models.get(g.id);return P?((v=P.kernel)===null||v===void 0?void 0:v.id)===((y=g.kernel)===null||y===void 0?void 0:y.id)&&((w=P.kernel)===null||w===void 0?void 0:w.name)===((T=g.kernel)===null||T===void 0?void 0:T.name)&&P.name===g.name&&P.path===g.path&&P.type===g.type:!1})||(this._models=new Map(m.map(g=>[g.id,g])),this._sessionConnections.forEach(g=>{this._models.has(g.id)?g.update(this._models.get(g.id)):g.dispose()}),this._runningChanged.emit(m))}_onStarted(f){this._sessionConnections.add(f),f.disposed.connect(this._onDisposed,this),f.propertyChanged.connect(this._onChanged,this),f.kernelChanged.connect(this._onChanged,this)}_onDisposed(f){this._sessionConnections.delete(f),this.refreshRunning().catch(()=>{})}_onChanged(){this.refreshRunning().catch(()=>{})}}return manager$2.SessionManager=l,(function(c){class f extends c{constructor(){super(...arguments),this._readyPromise=new Promise(()=>{})}get isActive(){return!1}get parentReady(){return super.ready}async startNew(m,g={}){return Promise.reject(new Error("Not implemented in no-op Session Manager"))}connectTo(m){throw Error("Not implemented in no-op Session Manager")}get ready(){return this.parentReady.then(()=>this._readyPromise)}async shutdown(m){return Promise.reject(new Error("Not implemented in no-op Session Manager"))}async requestRunning(){return Promise.resolve()}}c.NoopManager=f})(l||(manager$2.SessionManager=l={})),manager$2}var hasRequiredSession;function requireSession(){return hasRequiredSession||(hasRequiredSession=1,(function(t){var e=session$1&&session$1.__createBinding||(Object.create?(function(c,f,d,m){m===void 0&&(m=d);var g=Object.getOwnPropertyDescriptor(f,d);(!g||("get"in g?!f.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return f[d]}}),Object.defineProperty(c,m,g)}):(function(c,f,d,m){m===void 0&&(m=d),c[m]=f[d]})),n=session$1&&session$1.__setModuleDefault||(Object.create?(function(c,f){Object.defineProperty(c,"default",{enumerable:!0,value:f})}):function(c,f){c.default=f}),i=session$1&&session$1.__importStar||function(c){if(c&&c.__esModule)return c;var f={};if(c!=null)for(var d in c)d!=="default"&&Object.prototype.hasOwnProperty.call(c,d)&&e(f,c,d);return n(f,c),f},o=session$1&&session$1.__exportStar||function(c,f){for(var d in c)d!=="default"&&!Object.prototype.hasOwnProperty.call(f,d)&&e(f,c,d)};Object.defineProperty(t,"__esModule",{value:!0}),t.SessionAPI=t.Session=void 0;const u=i(requireSession$1());t.Session=u;const l=i(requireRestapi$2());t.SessionAPI=l,o(requireManager$3(),t)})(session$1)),session$1}var setting={},lib$a={},dataconnector={},hasRequiredDataconnector;function requireDataconnector(){if(hasRequiredDataconnector)return dataconnector;hasRequiredDataconnector=1,Object.defineProperty(dataconnector,"__esModule",{value:!0}),dataconnector.DataConnector=void 0;class t{async list(n){throw new Error("DataConnector#list method has not been implemented.")}async remove(n){throw new Error("DataConnector#remove method has not been implemented.")}async save(n,i){throw new Error("DataConnector#save method has not been implemented.")}}return dataconnector.DataConnector=t,dataconnector}var interfaces={},hasRequiredInterfaces;function requireInterfaces(){return hasRequiredInterfaces||(hasRequiredInterfaces=1,Object.defineProperty(interfaces,"__esModule",{value:!0})),interfaces}var restorablepool={};let AttachedProperty$2=class{constructor(e){this._pid=Private$10.nextPID(),this.name=e.name,this._create=e.create,this._coerce=e.coerce||null,this._compare=e.compare||null,this._changed=e.changed||null}get(e){let n,i=Private$10.ensureMap(e);return this._pid in i?n=i[this._pid]:n=i[this._pid]=this._createValue(e),n}set(e,n){let i,o=Private$10.ensureMap(e);this._pid in o?i=o[this._pid]:i=o[this._pid]=this._createValue(e);let u=this._coerceValue(e,n);this._maybeNotify(e,i,o[this._pid]=u)}coerce(e){let n,i=Private$10.ensureMap(e);this._pid in i?n=i[this._pid]:n=i[this._pid]=this._createValue(e);let o=this._coerceValue(e,n);this._maybeNotify(e,n,i[this._pid]=o)}_createValue(e){let n=this._create;return n(e)}_coerceValue(e,n){let i=this._coerce;return i?i(e,n):n}_compareValue(e,n){let i=this._compare;return i?i(e,n):e===n}_maybeNotify(e,n,i){let o=this._changed;o&&!this._compareValue(n,i)&&o(e,n,i)}};(function(t){function e(n){Private$10.ownerData.delete(n)}t.clearData=e})(AttachedProperty$2||(AttachedProperty$2={}));var Private$10;(function(t){t.ownerData=new WeakMap,t.nextPID=(()=>{let n=0;return()=>`pid-${`${Math.random()}`.slice(2)}-${n++}`})();function e(n){let i=t.ownerData.get(n);return i||(i=Object.create(null),t.ownerData.set(n,i),i)}t.ensureMap=e})(Private$10||(Private$10={}));const index_es6=Object.freeze(Object.defineProperty({__proto__:null,get AttachedProperty(){return AttachedProperty$2}},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(index_es6);var hasRequiredRestorablepool;function requireRestorablepool(){if(hasRequiredRestorablepool)return restorablepool;hasRequiredRestorablepool=1,Object.defineProperty(restorablepool,"__esModule",{value:!0}),restorablepool.RestorablePool=void 0;const t=requireDist$1(),e=require$$1,n=require$$0$2;class i{constructor(l){this._added=new n.Signal(this),this._current=null,this._currentChanged=new n.Signal(this),this._hasRestored=!1,this._isDisposed=!1,this._objects=new Set,this._restore=null,this._restored=new t.PromiseDelegate,this._updated=new n.Signal(this),this.namespace=l.namespace}get added(){return this._added}get current(){return this._current}set current(l){this._current!==l&&l!==null&&this._objects.has(l)&&(this._current=l,this._currentChanged.emit(this._current))}get currentChanged(){return this._currentChanged}get isDisposed(){return this._isDisposed}get restored(){return this._restored.promise}get size(){return this._objects.size}get updated(){return this._updated}async add(l){var c,f;if(l.isDisposed){const d="A disposed object cannot be added.";throw console.warn(d,l),new Error(d)}if(this._objects.has(l)){const d="This object already exists in the pool.";throw console.warn(d,l),new Error(d)}if(this._objects.add(l),l.disposed.connect(this._onInstanceDisposed,this),!o.injectedProperty.get(l)){if(this._restore){const{connector:d}=this._restore,m=this._restore.name(l);if(m){const g=`${this.namespace}:${m}`,v=(f=(c=this._restore).args)===null||f===void 0?void 0:f.call(c,l);o.nameProperty.set(l,g),await d.save(g,{data:v})}}this._added.emit(l)}}dispose(){this.isDisposed||(this._current=null,this._isDisposed=!0,this._objects.clear(),n.Signal.clearData(this))}find(l){const c=this._objects.values();for(const f of c)if(l(f))return f}forEach(l){this._objects.forEach(l)}filter(l){const c=[];return this.forEach(f=>{l(f)&&c.push(f)}),c}inject(l){return o.injectedProperty.set(l,!0),this.add(l)}has(l){return this._objects.has(l)}async restore(l){if(this._hasRestored)throw new Error("This pool has already been restored.");this._hasRestored=!0;const{command:c,connector:f,registry:d,when:m}=l,g=this.namespace,v=m?[f.list(g)].concat(m):[f.list(g)];this._restore=l;const[y]=await Promise.all(v),w=await Promise.all(y.ids.map(async(T,P)=>{const A=y.values[P],D=A&&A.data;return D===void 0?f.remove(T):d.execute(c,D).catch(()=>f.remove(T))}));return this._restored.resolve(),w}async save(l){var c,f;const d=o.injectedProperty.get(l);if(!this._restore||!this.has(l)||d)return;const{connector:m}=this._restore,g=this._restore.name(l),v=o.nameProperty.get(l),y=g?`${this.namespace}:${g}`:"";if(v&&v!==y&&await m.remove(v),o.nameProperty.set(l,y),y){const w=(f=(c=this._restore).args)===null||f===void 0?void 0:f.call(c,l);await m.save(y,{data:w})}v!==y&&this._updated.emit(l)}_onInstanceDisposed(l){if(this._objects.delete(l),l===this._current&&(this._current=null,this._currentChanged.emit(this._current)),o.injectedProperty.get(l)||!this._restore)return;const{connector:c}=this._restore,f=o.nameProperty.get(l);f&&c.remove(f)}}restorablepool.RestorablePool=i;var o;return(function(u){u.injectedProperty=new e.AttachedProperty({name:"injected",create:()=>!1}),u.nameProperty=new e.AttachedProperty({name:"name",create:()=>""})})(o||(o={})),restorablepool}var statedb={},hasRequiredStatedb;function requireStatedb(){if(hasRequiredStatedb)return statedb;hasRequiredStatedb=1,Object.defineProperty(statedb,"__esModule",{value:!0}),statedb.StateDB=void 0;const t=require$$0$2;class e{constructor(i={}){this._changed=new t.Signal(this);const{connector:o,transform:u}=i;this._connector=o||new e.Connector,u?this._ready=u.then(l=>{const{contents:c,type:f}=l;switch(f){case"cancel":return;case"clear":return this._clear();case"merge":return this._merge(c||{});case"overwrite":return this._overwrite(c||{});default:return}}):this._ready=Promise.resolve(void 0)}get changed(){return this._changed}async clear(){await this._ready,await this._clear()}async fetch(i){return await this._ready,this._fetch(i)}async list(i){return await this._ready,this._list(i)}async remove(i){await this._ready,await this._remove(i),this._changed.emit({id:i,type:"remove"})}async save(i,o){await this._ready,await this._save(i,o),this._changed.emit({id:i,type:"save"})}async toJSON(){await this._ready;const{ids:i,values:o}=await this._list();return o.reduce((u,l,c)=>(u[i[c]]=l,u),{})}async _clear(){await Promise.all((await this._list()).ids.map(i=>this._remove(i)))}async _fetch(i){const o=await this._connector.fetch(i);if(o)return JSON.parse(o).v}async _list(i=""){const{ids:o,values:u}=await this._connector.list(i);return{ids:o,values:u.map(l=>JSON.parse(l).v)}}async _merge(i){await Promise.all(Object.keys(i).map(o=>i[o]&&this._save(o,i[o])))}async _overwrite(i){await this._clear(),await this._merge(i)}async _remove(i){return this._connector.remove(i)}async _save(i,o){return this._connector.save(i,JSON.stringify({v:o}))}}return statedb.StateDB=e,(function(n){class i{constructor(){this._storage={}}async fetch(u){return this._storage[u]}async list(u=""){return Object.keys(this._storage).reduce((l,c)=>((u===""||u===c.split(":")[0])&&(l.ids.push(c),l.values.push(this._storage[c])),l),{ids:[],values:[]})}async remove(u){delete this._storage[u]}async save(u,l){this._storage[u]=l}}n.Connector=i})(e||(statedb.StateDB=e={})),statedb}var tokens$1={},hasRequiredTokens$1;function requireTokens$1(){if(hasRequiredTokens$1)return tokens$1;hasRequiredTokens$1=1,Object.defineProperty(tokens$1,"__esModule",{value:!0}),tokens$1.IStateDB=void 0;const t=requireDist$1();return tokens$1.IStateDB=new t.Token("@jupyterlab/coreutils:IStateDB",`A service for the JupyterLab state database.
  Use this if you want to store data that will persist across page loads.
  See "state database" for more information.`),tokens$1}var hasRequiredLib$b;function requireLib$b(){return hasRequiredLib$b||(hasRequiredLib$b=1,(function(t){var e=lib$a&&lib$a.__createBinding||(Object.create?(function(i,o,u,l){l===void 0&&(l=u);var c=Object.getOwnPropertyDescriptor(o,u);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[u]}}),Object.defineProperty(i,l,c)}):(function(i,o,u,l){l===void 0&&(l=u),i[l]=o[u]})),n=lib$a&&lib$a.__exportStar||function(i,o){for(var u in i)u!=="default"&&!Object.prototype.hasOwnProperty.call(o,u)&&e(o,i,u)};Object.defineProperty(t,"__esModule",{value:!0}),n(requireDataconnector(),t),n(requireInterfaces(),t),n(requireRestorablepool(),t),n(requireStatedb(),t),n(requireTokens$1(),t)})(lib$a)),lib$a}var hasRequiredSetting;function requireSetting(){if(hasRequiredSetting)return setting;hasRequiredSetting=1,Object.defineProperty(setting,"__esModule",{value:!0}),setting.SettingManager=void 0;const t=requireLib$c(),e=requireLib$b(),n=requireServerconnection(),i="api/settings";class o extends e.DataConnector{constructor(c={}){var f;super(),this.serverSettings=(f=c.serverSettings)!==null&&f!==void 0?f:n.ServerConnection.makeSettings()}async fetch(c){if(!c)throw new Error("Plugin `id` parameter is required for settings fetch.");const{serverSettings:f}=this,{baseUrl:d,appUrl:m}=f,{makeRequest:g,ResponseError:v}=n.ServerConnection,y=d+m,w=u.url(y,c),T=await g(w,{},f);if(T.status!==200)throw await v.create(T);return T.json()}async list(c){var f,d,m,g;const{serverSettings:v}=this,{baseUrl:y,appUrl:w}=v,{makeRequest:T,ResponseError:P}=n.ServerConnection,A=y+w,D=u.url(A,"",c==="ids"),k=await T(D,{},v);if(k.status!==200)throw new P(k);const j=await k.json(),B=(d=(f=j?.settings)===null||f===void 0?void 0:f.map(R=>R.id))!==null&&d!==void 0?d:[];let Z=[];return c||(Z=(g=(m=j?.settings)===null||m===void 0?void 0:m.map(R=>(R.data={composite:{},user:{}},R)))!==null&&g!==void 0?g:[]),{ids:B,values:Z}}async save(c,f){const{serverSettings:d}=this,{baseUrl:m,appUrl:g}=d,{makeRequest:v,ResponseError:y}=n.ServerConnection,w=m+g,T=u.url(w,c),P={body:JSON.stringify({raw:f}),method:"PUT"},A=await v(T,P,d);if(A.status!==204)throw new y(A)}}setting.SettingManager=o;var u;return(function(l){function c(f,d,m){const g=m?t.URLExt.objectToQueryString({ids_only:!0}):"",v=t.URLExt.join(f,i),y=t.URLExt.join(v,d);if(!y.startsWith(v))throw new Error("Can only be used for workspaces requests");return`${y}${g}`}l.url=c})(u||(u={})),setting}var terminal$1={},terminal={},restapi$1={},hasRequiredRestapi$1;function requireRestapi$1(){return hasRequiredRestapi$1||(hasRequiredRestapi$1=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalAPIClient=t.TERMINAL_SERVICE_URL=void 0,t.isAvailable=i,t.startNew=o,t.listRunning=u,t.shutdownTerminal=l;const e=requireLib$c(),n=requireServerconnection();t.TERMINAL_SERVICE_URL="api/terminals";function i(){return String(e.PageConfig.getOption("terminalsAvailable")).toLowerCase()==="true"}async function o(d=n.ServerConnection.makeSettings(),m,g){f.errorIfNotAvailable();const v=e.URLExt.join(d.baseUrl,t.TERMINAL_SERVICE_URL),y={method:"POST",body:JSON.stringify({name:m,cwd:g})},w=await n.ServerConnection.makeRequest(v,y,d);if(w.status!==200)throw await n.ServerConnection.ResponseError.create(w);return await w.json()}async function u(d=n.ServerConnection.makeSettings()){f.errorIfNotAvailable();const m=e.URLExt.join(d.baseUrl,t.TERMINAL_SERVICE_URL),g=await n.ServerConnection.makeRequest(m,{},d);if(g.status!==200)throw await n.ServerConnection.ResponseError.create(g);const v=await g.json();if(!Array.isArray(v))throw new Error("Invalid terminal list");return v}async function l(d,m=n.ServerConnection.makeSettings()){var g;f.errorIfNotAvailable();const v=e.URLExt.join(m.baseUrl,t.TERMINAL_SERVICE_URL),y=e.URLExt.join(v,d);if(!y.startsWith(v))throw new Error("Can only be used for terminal requests");const w={method:"DELETE"},T=await n.ServerConnection.makeRequest(y,w,m);if(T.status===404){const A=(g=(await T.json()).message)!==null&&g!==void 0?g:`The terminal session "${d}"" does not exist on the server`;console.warn(A)}else if(T.status!==204)throw await n.ServerConnection.ResponseError.create(T)}class c{constructor(m={}){var g;this.serverSettings=(g=m.serverSettings)!==null&&g!==void 0?g:n.ServerConnection.makeSettings()}get isAvailable(){return i()}async startNew(m={}){const{name:g,cwd:v}=m;return o(this.serverSettings,g,v)}async listRunning(){return u(this.serverSettings)}async shutdown(m){return l(m,this.serverSettings)}}t.TerminalAPIClient=c;var f;(function(d){function m(){if(!i())throw new Error("Terminals Unavailable")}d.errorIfNotAvailable=m})(f||(f={}))})(restapi$1)),restapi$1}var hasRequiredTerminal$1;function requireTerminal$1(){return hasRequiredTerminal$1||(hasRequiredTerminal$1=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isAvailable=void 0;const e=requireRestapi$1();Object.defineProperty(t,"isAvailable",{enumerable:!0,get:function(){return e.isAvailable}})})(terminal)),terminal}var manager$1={},_default={},hasRequired_default;function require_default(){if(hasRequired_default)return _default;hasRequired_default=1,Object.defineProperty(_default,"__esModule",{value:!0}),_default.TerminalConnection=void 0;const t=requireLib$c(),e=requireDist$1(),n=require$$0$2,i=requireLib$a(),o=requireRestapi$1();class u{constructor(f){var d,m;this._createSocket=()=>{this._errorIfDisposed(),this._clearSocket(),this._updateConnectionStatus("connecting");const g=this._name,v=this.serverSettings;let y=t.URLExt.join(v.wsUrl,"terminals","websocket",encodeURIComponent(g));const w=v.token;v.appendToken&&w!==""&&(y=y+`?token=${encodeURIComponent(w)}`),this._ws=new v.WebSocket(y),this._ws.onmessage=this._onWSMessage,this._ws.onclose=this._onWSClose,this._ws.onerror=this._onWSClose},this._onWSMessage=g=>{if(this._isDisposed)return;const v=JSON.parse(g.data);if(v[0]==="disconnect"&&this.dispose(),this._connectionStatus==="connecting"){v[0]==="setup"&&this._updateConnectionStatus("connected");return}this._messageReceived.emit({type:v[0],content:v.slice(1)})},this._onWSClose=g=>{console.warn(`Terminal websocket closed: ${g.code}`),this.isDisposed||this._reconnect()},this._connectionStatus="connecting",this._connectionStatusChanged=new n.Signal(this),this._isDisposed=!1,this._disposed=new n.Signal(this),this._messageReceived=new n.Signal(this),this._reconnectTimeout=null,this._ws=null,this._noOp=()=>{},this._reconnectLimit=7,this._reconnectAttempt=0,this._pendingMessages=[],this._name=f.model.name,this.serverSettings=(d=f.serverSettings)!==null&&d!==void 0?d:i.ServerConnection.makeSettings(),this._terminalAPIClient=(m=f.terminalAPIClient)!==null&&m!==void 0?m:new o.TerminalAPIClient({serverSettings:this.serverSettings}),this._createSocket()}get disposed(){return this._disposed}get messageReceived(){return this._messageReceived}get name(){return this._name}get model(){return{name:this._name}}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,this._disposed.emit(),this._updateConnectionStatus("disconnected"),this._clearSocket(),n.Signal.clearData(this))}send(f){this._sendMessage(f)}_sendMessage(f,d=!0){if(!(this._isDisposed||!f.content))if(this.connectionStatus==="connected"&&this._ws){const m=[f.type,...f.content];this._ws.send(JSON.stringify(m))}else if(d)this._pendingMessages.push(f);else throw new Error(`Could not send message: ${JSON.stringify(f)}`)}_sendPending(){for(;this.connectionStatus==="connected"&&this._pendingMessages.length>0;)this._sendMessage(this._pendingMessages[0],!1),this._pendingMessages.shift()}reconnect(){this._errorIfDisposed();const f=new e.PromiseDelegate,d=(m,g)=>{g==="connected"?(f.resolve(),this.connectionStatusChanged.disconnect(d,this)):g==="disconnected"&&(f.reject(new Error("Terminal connection disconnected")),this.connectionStatusChanged.disconnect(d,this))};return this.connectionStatusChanged.connect(d,this),this._reconnectAttempt=0,this._reconnect(),f.promise}_reconnect(){if(this._errorIfDisposed(),clearTimeout(this._reconnectTimeout),this._reconnectAttempt<this._reconnectLimit){this._updateConnectionStatus("connecting");const f=l.getRandomIntInclusive(0,1e3*(Math.pow(2,this._reconnectAttempt)-1));console.error(`Connection lost, reconnecting in ${Math.floor(f/1e3)} seconds.`),this._reconnectTimeout=setTimeout(this._createSocket,f),this._reconnectAttempt+=1}else this._updateConnectionStatus("disconnected");this._clearSocket()}_clearSocket(){this._ws!==null&&(this._ws.onopen=this._noOp,this._ws.onclose=this._noOp,this._ws.onerror=this._noOp,this._ws.onmessage=this._noOp,this._ws.close(),this._ws=null)}async shutdown(){await this._terminalAPIClient.shutdown(this.name),this.dispose()}clone(){return new u({model:this.model,serverSettings:this.serverSettings,terminalAPIClient:this._terminalAPIClient})}_updateConnectionStatus(f){this._connectionStatus!==f&&(this._connectionStatus=f,f!=="connecting"&&(this._reconnectAttempt=0,clearTimeout(this._reconnectTimeout)),f==="connected"&&this._sendPending(),this._connectionStatusChanged.emit(f))}_errorIfDisposed(){if(this.isDisposed)throw new Error("Terminal connection is disposed")}get connectionStatusChanged(){return this._connectionStatusChanged}get connectionStatus(){return this._connectionStatus}}_default.TerminalConnection=u;var l;return(function(c){function f(d,m){return d=Math.ceil(d),m=Math.floor(m),Math.floor(Math.random()*(m-d+1))+d}c.getRandomIntInclusive=f})(l||(l={})),_default}var hasRequiredManager$2;function requireManager$2(){if(hasRequiredManager$2)return manager$1;hasRequiredManager$2=1,Object.defineProperty(manager$1,"__esModule",{value:!0}),manager$1.TerminalManager=void 0;const t=require$$1$1,e=require$$0$2,n=requireLib$a(),i=requireBasemanager(),o=requireRestapi$1(),u=require_default();class l extends i.BaseManager{constructor(f={}){var d,m;if(super(f),this._isReady=!1,this._names=[],this._terminalConnections=new Set,this._runningChanged=new e.Signal(this),this._connectionFailure=new e.Signal(this),this._terminalAPIClient=(d=f.terminalAPIClient)!==null&&d!==void 0?d:new o.TerminalAPIClient({serverSettings:this.serverSettings}),!this.isAvailable()){this._ready=Promise.reject("Terminals unavailable"),this._ready.catch(v=>{});return}const g=this._pollModels=new t.Poll({auto:!1,factory:()=>this.requestRunning(),frequency:{interval:10*1e3,backoff:!0,max:300*1e3},name:"@jupyterlab/services:TerminalManager#models",standby:(m=f.standby)!==null&&m!==void 0?m:"when-hidden"});this._ready=(async()=>{await g.start(),await g.tick,this._isReady=!0})()}get isReady(){return this._isReady}get ready(){return this._ready}get runningChanged(){return this._runningChanged}get connectionFailure(){return this._connectionFailure}dispose(){var f;this.isDisposed||(this._names.length=0,this._terminalConnections.forEach(d=>d.dispose()),(f=this._pollModels)===null||f===void 0||f.dispose(),super.dispose())}isAvailable(){return this._terminalAPIClient.isAvailable}connectTo(f){const d=new u.TerminalConnection({...f,serverSettings:this.serverSettings,terminalAPIClient:this._terminalAPIClient});return this._onStarted(d),this._names.includes(f.model.name)||this.refreshRunning().catch(()=>{}),d}running(){return this._models[Symbol.iterator]()}async refreshRunning(){this._pollModels&&(await this._pollModels.refresh(),await this._pollModels.tick)}async startNew(f={}){const{name:d,cwd:m}=f,g=await this._terminalAPIClient.startNew({name:d,cwd:m});return await this.refreshRunning(),this.connectTo({model:g})}async shutdown(f){await this._terminalAPIClient.shutdown(f),await this.refreshRunning()}async shutdownAll(){await this.refreshRunning(),await Promise.all(this._names.map(f=>this._terminalAPIClient.shutdown(f))),await this.refreshRunning()}async requestRunning(){var f,d;let m;try{m=await this._terminalAPIClient.listRunning()}catch(v){throw(v instanceof n.ServerConnection.NetworkError||((f=v.response)===null||f===void 0?void 0:f.status)===503||((d=v.response)===null||d===void 0?void 0:d.status)===424)&&this._connectionFailure.emit(v),v}if(this.isDisposed)return;const g=m.map(({name:v})=>v).sort();g!==this._names&&(this._names=g,this._terminalConnections.forEach(v=>{g.includes(v.name)||v.dispose()}),this._runningChanged.emit(this._models))}_onStarted(f){this._terminalConnections.add(f),f.disposed.connect(this._onDisposed,this)}_onDisposed(f){this._terminalConnections.delete(f),this.refreshRunning().catch(()=>{})}get _models(){return this._names.map(f=>({name:f}))}}return manager$1.TerminalManager=l,(function(c){class f extends c{constructor(){super(...arguments),this._readyPromise=new Promise(()=>{})}get isActive(){return!1}get parentReady(){return super.ready}get ready(){return this.parentReady.then(()=>this._readyPromise)}async startNew(m){return Promise.reject(new Error("Not implemented in no-op Terminal Manager"))}connectTo(m){throw Error("Not implemented in no-op Terminal Manager")}async shutdown(m){return Promise.reject(new Error("Not implemented in no-op Terminal Manager"))}async requestRunning(){return Promise.resolve()}}c.NoopManager=f})(l||(manager$1.TerminalManager=l={})),manager$1}var hasRequiredTerminal;function requireTerminal(){return hasRequiredTerminal||(hasRequiredTerminal=1,(function(t){var e=terminal$1&&terminal$1.__createBinding||(Object.create?(function(c,f,d,m){m===void 0&&(m=d);var g=Object.getOwnPropertyDescriptor(f,d);(!g||("get"in g?!f.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return f[d]}}),Object.defineProperty(c,m,g)}):(function(c,f,d,m){m===void 0&&(m=d),c[m]=f[d]})),n=terminal$1&&terminal$1.__setModuleDefault||(Object.create?(function(c,f){Object.defineProperty(c,"default",{enumerable:!0,value:f})}):function(c,f){c.default=f}),i=terminal$1&&terminal$1.__importStar||function(c){if(c&&c.__esModule)return c;var f={};if(c!=null)for(var d in c)d!=="default"&&Object.prototype.hasOwnProperty.call(c,d)&&e(f,c,d);return n(f,c),f},o=terminal$1&&terminal$1.__exportStar||function(c,f){for(var d in c)d!=="default"&&!Object.prototype.hasOwnProperty.call(f,d)&&e(f,c,d)};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalAPI=t.Terminal=void 0;const u=i(requireTerminal$1());t.Terminal=u;const l=i(requireRestapi$1());t.TerminalAPI=l,o(requireManager$2(),t)})(terminal$1)),terminal$1}var user$1={},user={},hasRequiredUser$1;function requireUser$1(){return hasRequiredUser$1||(hasRequiredUser$1=1,Object.defineProperty(user,"__esModule",{value:!0})),user}var restapi={},hasRequiredRestapi;function requireRestapi(){if(hasRequiredRestapi)return restapi;hasRequiredRestapi=1,Object.defineProperty(restapi,"__esModule",{value:!0}),restapi.UserAPIClient=void 0;const t=requireServerconnection(),e=requireLib$c(),n="api/me";class i{constructor(u={}){var l;this.serverSettings=(l=u.serverSettings)!==null&&l!==void 0?l:t.ServerConnection.makeSettings()}async get(){const{baseUrl:u}=this.serverSettings,{makeRequest:l,ResponseError:c}=t.ServerConnection,f=e.URLExt.join(u,n),d=await l(f,{},this.serverSettings);if(d.status!==200)throw await c.create(d);return await d.json()}}return restapi.UserAPIClient=i,restapi}var manager={},hasRequiredManager$1;function requireManager$1(){if(hasRequiredManager$1)return manager;hasRequiredManager$1=1,Object.defineProperty(manager,"__esModule",{value:!0}),manager.UserManager=void 0;const t=requireDist$1(),e=require$$1$1,n=require$$0$2,i=requireBasemanager(),o=requireRestapi(),u="@jupyterlab/services:UserManager#user";class l extends i.BaseManager{constructor(d={}){var m,g;super(d),this._isReady=!1,this._userChanged=new n.Signal(this),this._connectionFailure=new n.Signal(this),this._userApiClient=(m=d.userApiClient)!==null&&m!==void 0?m:new o.UserAPIClient({serverSettings:this.serverSettings}),this._ready=this.requestUser().then(()=>{this.isDisposed||(this._isReady=!0)}).catch(v=>new Promise(()=>{})),this._pollUser=new e.Poll({auto:!1,factory:()=>this.requestUser(),frequency:{interval:61*1e3,backoff:!0,max:300*1e3},name:u,standby:(g=d.standby)!==null&&g!==void 0?g:"when-hidden"}),this.ready.then(()=>{this._pollUser.start()})}get isReady(){return this._isReady}get ready(){return this._ready}get identity(){return this._identity}get permissions(){return this._permissions}get userChanged(){return this._userChanged}get connectionFailure(){return this._connectionFailure}dispose(){this._pollUser.dispose(),super.dispose()}async refreshUser(){await this._pollUser.refresh(),await this._pollUser.tick}async requestUser(){if(this.isDisposed)return;const d={identity:this._identity,permissions:this._permissions},m=await this._userApiClient.get(),g=m.identity,{localStorage:v}=window,y=v.getItem(u);if(y&&(!g.initials||!g.color)){const w=JSON.parse(y);g.initials=g.initials||w.initials||g.name.substring(0,1),g.color=g.color||w.color||c.getRandomColor()}t.JSONExt.deepEqual(m,d)||(this._identity=g,this._permissions=m.permissions,v.setItem(u,JSON.stringify(g)),this._userChanged.emit(m))}}manager.UserManager=l;var c;return(function(f){const d=["var(--jp-collaborator-color1)","var(--jp-collaborator-color2)","var(--jp-collaborator-color3)","var(--jp-collaborator-color4)","var(--jp-collaborator-color5)","var(--jp-collaborator-color6)","var(--jp-collaborator-color7)"];f.getRandomColor=()=>d[Math.floor(Math.random()*d.length)]})(c||(c={})),manager}var hasRequiredUser;function requireUser(){return hasRequiredUser||(hasRequiredUser=1,(function(t){var e=user$1&&user$1.__createBinding||(Object.create?(function(c,f,d,m){m===void 0&&(m=d);var g=Object.getOwnPropertyDescriptor(f,d);(!g||("get"in g?!f.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return f[d]}}),Object.defineProperty(c,m,g)}):(function(c,f,d,m){m===void 0&&(m=d),c[m]=f[d]})),n=user$1&&user$1.__setModuleDefault||(Object.create?(function(c,f){Object.defineProperty(c,"default",{enumerable:!0,value:f})}):function(c,f){c.default=f}),i=user$1&&user$1.__importStar||function(c){if(c&&c.__esModule)return c;var f={};if(c!=null)for(var d in c)d!=="default"&&Object.prototype.hasOwnProperty.call(c,d)&&e(f,c,d);return n(f,c),f},o=user$1&&user$1.__exportStar||function(c,f){for(var d in c)d!=="default"&&!Object.prototype.hasOwnProperty.call(f,d)&&e(f,c,d)};Object.defineProperty(t,"__esModule",{value:!0}),t.UserAPI=t.User=void 0;const u=i(requireUser$1());t.User=u;const l=i(requireRestapi());t.UserAPI=l,o(requireManager$1(),t)})(user$1)),user$1}var workspace={},hasRequiredWorkspace;function requireWorkspace(){if(hasRequiredWorkspace)return workspace;hasRequiredWorkspace=1,Object.defineProperty(workspace,"__esModule",{value:!0}),workspace.WorkspaceManager=void 0;const t=requireLib$c(),e=requireLib$b(),n=requireServerconnection(),i="api/workspaces";class o extends e.DataConnector{constructor(c={}){var f;super(),this.serverSettings=(f=c.serverSettings)!==null&&f!==void 0?f:n.ServerConnection.makeSettings()}async fetch(c){const{serverSettings:f}=this,{baseUrl:d,appUrl:m}=f,{makeRequest:g,ResponseError:v}=n.ServerConnection,y=d+m,w=u.url(y,c),T=await g(w,{},f);if(T.status!==200)throw await v.create(T);return T.json()}async list(){const{serverSettings:c}=this,{baseUrl:f,appUrl:d}=c,{makeRequest:m,ResponseError:g}=n.ServerConnection,v=f+d,y=u.url(v,""),w=await m(y,{},c);if(w.status!==200)throw await g.create(w);return(await w.json()).workspaces}async remove(c){const{serverSettings:f}=this,{baseUrl:d,appUrl:m}=f,{makeRequest:g,ResponseError:v}=n.ServerConnection,y=d+m,w=u.url(y,c),P=await g(w,{method:"DELETE"},f);if(P.status!==204)throw await v.create(P)}async save(c,f){const{serverSettings:d}=this,{baseUrl:m,appUrl:g}=d,{makeRequest:v,ResponseError:y}=n.ServerConnection,w=m+g,T=u.url(w,c),P={body:JSON.stringify(f),method:"PUT"},A=await v(T,P,d);if(A.status!==204)throw await y.create(A)}}workspace.WorkspaceManager=o;var u;return(function(l){function c(f,d){const m=t.URLExt.join(f,i),g=t.URLExt.join(m,d);if(!g.startsWith(m))throw new Error("Can only be used for workspaces requests");return g}l.url=c})(u||(u={})),workspace}var hasRequiredManager;function requireManager(){if(hasRequiredManager)return manager$3;hasRequiredManager=1,Object.defineProperty(manager$3,"__esModule",{value:!0}),manager$3.ServiceManager=void 0;const t=require$$0$2,e=requireBuilder(),n=requireContents(),i=requireEvent(),o=requireKernel(),u=requireKernelspec(),l=requireNbconvert(),c=requireServerconnection(),f=requireSession(),d=requireSetting(),m=requireTerminal(),g=requireUser(),v=requireWorkspace();class y{constructor(T={}){var P,A;this._isDisposed=!1,this._connectionFailure=new t.Signal(this),this._isReady=!1;const D=T.defaultDrive,k=(P=T.serverSettings)!==null&&P!==void 0?P:c.ServerConnection.makeSettings(),j=(A=T.standby)!==null&&A!==void 0?A:"when-hidden",B={defaultDrive:D,serverSettings:k,standby:j};this.serverSettings=k,this.contents=T.contents||new n.ContentsManager(B),this.events=T.events||new i.EventManager(B),this.kernels=T.kernels||new o.KernelManager(B),this.sessions=T.sessions||new f.SessionManager({...B,kernelManager:this.kernels}),this.settings=T.settings||new d.SettingManager(B),this.terminals=T.terminals||new m.TerminalManager(B),this.builder=T.builder||new e.BuildManager(B),this.workspaces=T.workspaces||new v.WorkspaceManager(B),this.nbconvert=T.nbconvert||new l.NbConvertManager(B),this.kernelspecs=T.kernelspecs||new u.KernelSpecManager(B),this.user=T.user||new g.UserManager(B),this.kernelspecs.connectionFailure.connect(this._onConnectionFailure,this),this.sessions.connectionFailure.connect(this._onConnectionFailure,this),this.terminals.connectionFailure.connect(this._onConnectionFailure,this);const Z=[this.sessions.ready,this.kernelspecs.ready];this.terminals.isAvailable()&&Z.push(this.terminals.ready),this._readyPromise=Promise.all(Z).then(()=>{this._isReady=!0})}get connectionFailure(){return this._connectionFailure}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,t.Signal.clearData(this),this.contents.dispose(),this.events.dispose(),this.sessions.dispose(),this.terminals.dispose())}get isReady(){return this._isReady}get ready(){return this._readyPromise}_onConnectionFailure(T,P){this._connectionFailure.emit(P)}}return manager$3.ServiceManager=y,manager$3}var tokens={},hasRequiredTokens;function requireTokens(){if(hasRequiredTokens)return tokens;hasRequiredTokens=1,Object.defineProperty(tokens,"__esModule",{value:!0}),tokens.IWorkspaceManager=tokens.IUserManager=tokens.ITerminalManager=tokens.IServiceManager=tokens.ISettingManager=tokens.ISessionManager=tokens.IServerSettings=tokens.INbConvertManager=tokens.IKernelSpecManager=tokens.IKernelManager=tokens.IEventManager=tokens.IDefaultDrive=tokens.IDefaultContentProvider=tokens.IContentsManager=tokens.IConfigSectionManager=tokens.IConnectionStatus=void 0;const t=requireDist$1();return tokens.IConnectionStatus=new t.Token("@jupyterlab/application:IConnectionStatus","A service providing the application connection status."),tokens.IConfigSectionManager=new t.Token("@jupyterlab/services:IConfigSectionManager","A service providing the config section manager."),tokens.IContentsManager=new t.Token("@jupyterlab/services:IContentsManager","The contents manager token."),tokens.IDefaultContentProvider=new t.Token("@jupyterlab/services:IDefaultContentProvider","The default content provider for the contents manager."),tokens.IDefaultDrive=new t.Token("@jupyterlab/services:IDefaultDrive","The default drive for the contents manager."),tokens.IEventManager=new t.Token("@jupyterlab/services:IEventManager","The event manager token."),tokens.IKernelManager=new t.Token("@jupyterlab/services:IKernelManager","The kernel manager token."),tokens.IKernelSpecManager=new t.Token("@jupyterlab/services:IKernelSpecManager","The kernel spec manager token."),tokens.INbConvertManager=new t.Token("@jupyterlab/services:INbConvertManager","The nbconvert manager token."),tokens.IServerSettings=new t.Token("@jupyterlab/services:IServerSettings","The server settings for the application."),tokens.ISessionManager=new t.Token("@jupyterlab/services:ISessionManager","The session manager token."),tokens.ISettingManager=new t.Token("@jupyterlab/services:ISettingManager","The setting manager token."),tokens.IServiceManager=new t.Token("@jupyterlab/services:IServiceManager","The service manager for the application."),tokens.ITerminalManager=new t.Token("@jupyterlab/services:ITerminalManager","The terminal manager token."),tokens.IUserManager=new t.Token("@jupyterlab/services:IUserManager","The user manager token."),tokens.IWorkspaceManager=new t.Token("@jupyterlab/services:IWorkspaceManager","The workspace manager token."),tokens}var hasRequiredLib$a;function requireLib$a(){return hasRequiredLib$a||(hasRequiredLib$a=1,(function(t){var e=lib$c&&lib$c.__createBinding||(Object.create?(function(i,o,u,l){l===void 0&&(l=u);var c=Object.getOwnPropertyDescriptor(o,u);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[u]}}),Object.defineProperty(i,l,c)}):(function(i,o,u,l){l===void 0&&(l=u),i[l]=o[u]})),n=lib$c&&lib$c.__exportStar||function(i,o){for(var u in i)u!=="default"&&!Object.prototype.hasOwnProperty.call(o,u)&&e(o,i,u)};Object.defineProperty(t,"__esModule",{value:!0}),n(requireBasemanager(),t),n(requireConfig(),t),n(requireConnectionstatus(),t),n(requireContents(),t),n(requireEvent(),t),n(requireKernel(),t),n(requireKernelspec(),t),n(requireManager(),t),n(requireServerconnection(),t),n(requireSession(),t),n(requireSetting(),t),n(requireTerminal(),t),n(requireTokens(),t),n(requireUser(),t),n(requireWorkspace(),t),n(requireNbconvert(),t)})(lib$c)),lib$c}var libExports$6=requireLib$a();function updateLastUsedTimestamp(t){const e=window.localStorage.getItem(t);if(!e)return;const n=JSON.parse(e);window.localStorage.setItem(t,JSON.stringify(Object.assign(Object.assign({},n),{lastUsed:new Date})))}function saveServerInfo(t,e,n){try{const{baseUrl:i,token:o,wsUrl:u}=n;window.localStorage.setItem(t,JSON.stringify({id:e,baseUrl:i,token:o,wsUrl:u,lastUsed:new Date}))}catch(i){console.warn("Couldn't save thebe binder connection info to local storage",i)}}function getExistingServer(t,e){return __awaiter$2(this,void 0,void 0,function*(){if(!t.enabled)return null;const n=window.localStorage.getItem(e);if(n==null)return console.debug("thebe:getExistingServer No session saved in ",e),null;console.debug("thebe:getExistingServer Saved binder session found");const i=JSON.parse(n??""),o=new Date(i.lastUsed);if((new Date().getTime()-o.getTime())/1e3>t.maxAge)return console.debug(`thebe:getExistingServer Not using expired binder session for ${i.baseUrl} from ${o}`),window.localStorage.removeItem(e),null;try{yield libExports$6.KernelAPI.listRunning(libExports$6.ServerConnection.makeSettings(i))}catch(c){return console.debug("thebe:getExistingServer Saved binder connection appears to be invalid, requesting new session",c),window.localStorage.removeItem(e),null}return updateLastUsedTimestamp(e),console.debug(`thebe:getExistingServer Saved binder session is valid and will be reused ${i.baseUrl}`),i})}function clearAllSavedSessions(t="thebe-binder"){const e=[];for(let n=0;n<window.localStorage.length;n++){const i=window.localStorage.key(n);i?.startsWith(t)&&e.push(i)}console.debug(`thebe:clearAllSavedSessions - removing ${e.length} saved sessions`,e.join(",")),e.forEach(n=>window.localStorage.removeItem(n))}function clearSavedSession(t){console.debug(`thebe:clearSavedSession - removing ${t}`),window.localStorage.removeItem(t)}var ServerStatusEvent;(function(t){t.launching="launching",t.ready="server-ready",t.closed="closed",t.unknown="unknown"})(ServerStatusEvent||(ServerStatusEvent={}));var SessionStatusEvent;(function(t){t.starting="starting",t.ready="ready",t.shutdown="shutdown"})(SessionStatusEvent||(SessionStatusEvent={}));var KernelStatusEvent;(function(t){t.starting="starting",t.ready="ready",t.shutdown="shutdown"})(KernelStatusEvent||(KernelStatusEvent={}));var NotebookStatusEvent;(function(t){t.attached="attached",t.detached="detached",t.executing="executing",t.idle="idle"})(NotebookStatusEvent||(NotebookStatusEvent={}));var CellStatusEvent;(function(t){t.attached="attached",t.detached="detached",t.executing="executing",t.idle="idle"})(CellStatusEvent||(CellStatusEvent={}));var EventSubject;(function(t){t.server="server",t.session="session",t.kernel="kernel",t.notebook="notebook",t.cell="cell"})(EventSubject||(EventSubject={}));var ErrorStatusEvent;(function(t){t.warning="warning",t.executeError="execute-error",t.error="error",t.server="server-error",t.session="session-error"})(ErrorStatusEvent||(ErrorStatusEvent={}));function errorToMessage(t){var e;return t.traceback?Array.isArray(t.traceback)?`${t.evalue}
${((e=t.traceback)!==null&&e!==void 0?e:[]).join("")}`:`${t.evalue}
${JSON.stringify(t.traceback)}`:t.evalue}var ThebeEventType;(function(t){t.status="status",t.error="error"})(ThebeEventType||(ThebeEventType={}));class ThebeEvents{constructor(){this.listeners={}}_ensureMap(e){e in this.listeners||(this.listeners[e]=new Map)}trigger(e,n){e in this.listeners&&this.listeners[e].forEach(({unbind:i},o)=>{o(e,n),i&&this.listeners[e].delete(o)})}on(e,n){return this._ensureMap(e),this.listeners[e].set(n,{unbind:!1}),()=>this.off(e,n)}one(e,n){return this._ensureMap(e),this.listeners[e].set(n,{unbind:!0}),()=>this.off(e,n)}off(e,n){e in this.listeners&&this.listeners[e].delete(n)}}var ClipboardExt$1;(function(t){function e(n){const i=document.body,o=u=>{u.preventDefault(),u.stopPropagation(),u.clipboardData.setData("text",n),i.removeEventListener("copy",o,!0)};i.addEventListener("copy",o,!0),document.execCommand("copy")}t.copyText=e})(ClipboardExt$1||(ClipboardExt$1={}));var ElementExt$1;(function(t){function e(u){let l=window.getComputedStyle(u),c=parseFloat(l.borderTopWidth)||0,f=parseFloat(l.borderLeftWidth)||0,d=parseFloat(l.borderRightWidth)||0,m=parseFloat(l.borderBottomWidth)||0,g=parseFloat(l.paddingTop)||0,v=parseFloat(l.paddingLeft)||0,y=parseFloat(l.paddingRight)||0,w=parseFloat(l.paddingBottom)||0,T=f+v+y+d,P=c+g+w+m;return{borderTop:c,borderLeft:f,borderRight:d,borderBottom:m,paddingTop:g,paddingLeft:v,paddingRight:y,paddingBottom:w,horizontalSum:T,verticalSum:P}}t.boxSizing=e;function n(u){let l=window.getComputedStyle(u),c=parseFloat(l.minWidth)||0,f=parseFloat(l.minHeight)||0,d=parseFloat(l.maxWidth)||1/0,m=parseFloat(l.maxHeight)||1/0;return d=Math.max(c,d),m=Math.max(f,m),{minWidth:c,minHeight:f,maxWidth:d,maxHeight:m}}t.sizeLimits=n;function i(u,l,c){let f=u.getBoundingClientRect();return l>=f.left&&l<f.right&&c>=f.top&&c<f.bottom}t.hitTest=i;function o(u,l){let c=u.getBoundingClientRect(),f=l.getBoundingClientRect();if(!(f.top<=c.top&&f.bottom>=c.bottom)){if(f.top<c.top&&f.height<=c.height){u.scrollTop-=c.top-f.top;return}if(f.bottom>c.bottom&&f.height>=c.height){u.scrollTop-=c.top-f.top;return}if(f.top<c.top&&f.height>c.height){u.scrollTop-=c.bottom-f.bottom;return}if(f.bottom>c.bottom&&f.height<c.height){u.scrollTop-=c.bottom-f.bottom;return}}}t.scrollIntoViewIfNeeded=o})(ElementExt$1||(ElementExt$1={}));var Platform$1;(function(t){t.IS_MAC=!!navigator.platform.match(/Mac/i),t.IS_WIN=!!navigator.platform.match(/Win/i),t.IS_IE=/Trident/.test(navigator.userAgent),t.IS_EDGE=/Edge/.test(navigator.userAgent);function e(n){return t.IS_MAC?n.metaKey:n.ctrlKey}t.accelKey=e})(Platform$1||(Platform$1={}));var Selector$1;(function(t){function e(o){if(o in Private$$.specificityCache)return Private$$.specificityCache[o];let u=Private$$.calculateSingle(o);return Private$$.specificityCache[o]=u}t.calculateSpecificity=e;function n(o){if(o in Private$$.validityCache)return Private$$.validityCache[o];let u=!0;try{Private$$.testElem.querySelector(o)}catch{u=!1}return Private$$.validityCache[o]=u}t.isValid=n;function i(o,u){return Private$$.protoMatchFunc.call(o,u)}t.matches=i})(Selector$1||(Selector$1={}));var Private$$;(function(t){t.specificityCache=Object.create(null),t.validityCache=Object.create(null),t.testElem=document.createElement("div"),t.protoMatchFunc=(()=>{let m=Element.prototype;return m.matches||m.matchesSelector||m.mozMatchesSelector||m.msMatchesSelector||m.oMatchesSelector||m.webkitMatchesSelector||function(g){let v=this,y=v.ownerDocument?v.ownerDocument.querySelectorAll(g):[];return Array.prototype.indexOf.call(y,v)!==-1}})();function e(m){m=m.split(",",1)[0];let g=0,v=0,y=0;function w(T){let P=m.match(T);return P===null?!1:(m=m.slice(P[0].length),!0)}for(m=m.replace(d," $1 ");m.length>0;){if(w(n)){g++;continue}if(w(i)){v++;continue}if(w(o)){v++;continue}if(w(l)){y++;continue}if(w(c)){v++;continue}if(w(u)){y++;continue}if(!w(f))return 0}return g=Math.min(g,255),v=Math.min(v,255),y=Math.min(y,255),g<<16|v<<8|y}t.calculateSingle=e;const n=/^#[^\s\+>~#\.\[:]+/,i=/^\.[^\s\+>~#\.\[:]+/,o=/^\[[^\]]+\]/,u=/^[^\s\+>~#\.\[:]+/,l=/^(::[^\s\+>~#\.\[:]+|:first-line|:first-letter|:before|:after)/,c=/^:[^\s\+>~#\.\[:]+/,f=/^[\s\+>~\*]+/,d=/:not\(([^\)]+)\)/g})(Private$$||(Private$$={}));let LinkedList$6=class{constructor(){this._first=null,this._last=null,this._size=0}get isEmpty(){return this._size===0}get size(){return this._size}get length(){return this._size}get first(){return this._first?this._first.value:void 0}get last(){return this._last?this._last.value:void 0}get firstNode(){return this._first}get lastNode(){return this._last}*[Symbol.iterator](){let e=this._first;for(;e;)yield e.value,e=e.next}*retro(){let e=this._last;for(;e;)yield e.value,e=e.prev}*nodes(){let e=this._first;for(;e;)yield e,e=e.next}*retroNodes(){let e=this._last;for(;e;)yield e,e=e.prev}assign(e){this.clear();for(const n of e)this.addLast(n)}push(e){this.addLast(e)}pop(){return this.removeLast()}shift(e){this.addFirst(e)}unshift(){return this.removeFirst()}addFirst(e){let n=new Private$_.LinkedListNode(this,e);return this._first?(n.next=this._first,this._first.prev=n,this._first=n):(this._first=n,this._last=n),this._size++,n}addLast(e){let n=new Private$_.LinkedListNode(this,e);return this._last?(n.prev=this._last,this._last.next=n,this._last=n):(this._first=n,this._last=n),this._size++,n}insertBefore(e,n){if(!n||n===this._first)return this.addFirst(e);if(!(n instanceof Private$_.LinkedListNode)||n.list!==this)throw new Error("Reference node is not owned by the list.");let i=new Private$_.LinkedListNode(this,e),o=n,u=o.prev;return i.next=o,i.prev=u,o.prev=i,u.next=i,this._size++,i}insertAfter(e,n){if(!n||n===this._last)return this.addLast(e);if(!(n instanceof Private$_.LinkedListNode)||n.list!==this)throw new Error("Reference node is not owned by the list.");let i=new Private$_.LinkedListNode(this,e),o=n,u=o.next;return i.next=u,i.prev=o,o.next=i,u.prev=i,this._size++,i}removeFirst(){let e=this._first;if(e)return e===this._last?(this._first=null,this._last=null):(this._first=e.next,this._first.prev=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeLast(){let e=this._last;if(e)return e===this._first?(this._first=null,this._last=null):(this._last=e.prev,this._last.next=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeNode(e){if(!(e instanceof Private$_.LinkedListNode)||e.list!==this)throw new Error("Node is not owned by the list.");let n=e;n===this._first&&n===this._last?(this._first=null,this._last=null):n===this._first?(this._first=n.next,this._first.prev=null):n===this._last?(this._last=n.prev,this._last.next=null):(n.next.prev=n.prev,n.prev.next=n.next),n.list=null,n.next=null,n.prev=null,this._size--}clear(){let e=this._first;for(;e;){let n=e.next;e.list=null,e.prev=null,e.next=null,e=n}this._first=null,this._last=null,this._size=0}};(function(t){function e(n){let i=new t;return i.assign(n),i}t.from=e})(LinkedList$6||(LinkedList$6={}));var Private$_;(function(t){class e{constructor(i,o){this.list=null,this.next=null,this.prev=null,this.list=i,this.value=o}}t.LinkedListNode=e})(Private$_||(Private$_={}));let Message$6=class{constructor(e){this.type=e}get isConflatable(){return!1}conflate(e){return!1}},ConflatableMessage$5=class extends Message$6{get isConflatable(){return!0}conflate(e){return!0}};var MessageLoop$6;(function(t){let e=null;const n=(G=>F=>{let K=!1;return G.then(()=>!K&&F()),()=>{K=!0}})(Promise.resolve());function i(G,F){let K=v.get(G);if(!K||K.length===0){A(G,F);return}every$2(retro$1(K),ie=>ie?P(ie,G,F):!0)&&A(G,F)}t.sendMessage=i;function o(G,F){if(!F.isConflatable){D(G,F);return}some$2(g,Q=>Q.handler!==G||!Q.msg||Q.msg.type!==F.type||!Q.msg.isConflatable?!1:Q.msg.conflate(F))||D(G,F)}t.postMessage=o;function u(G,F){let K=v.get(G);K&&K.indexOf(F)!==-1||(K?K.push(F):v.set(G,[F]))}t.installMessageHook=u;function l(G,F){let K=v.get(G);if(!K)return;let Q=K.indexOf(F);Q!==-1&&(K[Q]=null,j(K))}t.removeMessageHook=l;function c(G){let F=v.get(G);F&&F.length>0&&(ArrayExt$4.fill(F,null),j(F));for(const K of g)K.handler===G&&(K.handler=null,K.msg=null)}t.clearData=c;function f(){T||e===null||(e(),e=null,T=!0,k(),T=!1)}t.flush=f;function d(){return w}t.getExceptionHandler=d;function m(G){let F=w;return w=G,F}t.setExceptionHandler=m;const g=new LinkedList$6,v=new WeakMap,y=new Set;let w=G=>{console.error(G)},T=!1;function P(G,F,K){let Q=!0;try{typeof G=="function"?Q=G(F,K):Q=G.messageHook(F,K)}catch(ie){w(ie)}return Q}function A(G,F){try{G.processMessage(F)}catch(K){w(K)}}function D(G,F){g.addLast({handler:G,msg:F}),e===null&&(e=n(k))}function k(){if(e=null,g.isEmpty)return;let G={handler:null,msg:null};for(g.addLast(G);;){let F=g.removeFirst();if(F===G)return;F.handler&&F.msg&&i(F.handler,F.msg)}}function j(G){y.size===0&&n(B),y.add(G)}function B(){y.forEach(Z),y.clear()}function Z(G){ArrayExt$4.removeAllWhere(G,R)}function R(G){return G===null}})(MessageLoop$6||(MessageLoop$6={}));let Drag$5=class qo{constructor(e){this._onScrollFrame=()=>{if(!this._scrollTarget)return;let{element:n,edge:i,distance:o}=this._scrollTarget,u=Private$Z.SCROLL_EDGE_SIZE-o,l=Math.pow(u/Private$Z.SCROLL_EDGE_SIZE,2),c=Math.max(1,Math.round(l*Private$Z.SCROLL_EDGE_SIZE));switch(i){case"top":n.scrollTop-=c;break;case"left":n.scrollLeft-=c;break;case"right":n.scrollLeft+=c;break;case"bottom":n.scrollTop+=c;break}requestAnimationFrame(this._onScrollFrame)},this._disposed=!1,this._dropAction="none",this._override=null,this._currentTarget=null,this._currentElement=null,this._promise=null,this._scrollTarget=null,this._resolve=null,this.document=e.document||document,this.mimeData=e.mimeData,this.dragImage=e.dragImage||null,this.proposedAction=e.proposedAction||"copy",this.supportedActions=e.supportedActions||"all",this.source=e.source||null}dispose(){if(!this._disposed){if(this._disposed=!0,this._currentTarget){let e=new PointerEvent("pointerup",{bubbles:!0,cancelable:!0,clientX:-1,clientY:-1});Private$Z.dispatchDragLeave(this,this._currentTarget,null,e)}this._finalize("none")}}get isDisposed(){return this._disposed}start(e,n){if(this._disposed)return Promise.resolve("none");if(this._promise)return this._promise;this._addListeners(),this._attachDragImage(e,n),this._promise=new Promise(o=>{this._resolve=o});let i=new PointerEvent("pointermove",{bubbles:!0,cancelable:!0,clientX:e,clientY:n});return document.dispatchEvent(i),this._promise}handleEvent(e){switch(e.type){case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;default:e.preventDefault(),e.stopPropagation();break}}moveDragImage(e,n){if(!this.dragImage)return;let i=this.dragImage.style;i.transform=`translate(${e}px, ${n}px)`}_evtPointerMove(e){e.preventDefault(),e.stopPropagation(),this._updateCurrentTarget(e),this._updateDragScroll(e),this.moveDragImage(e.clientX,e.clientY)}_evtPointerUp(e){if(e.preventDefault(),e.stopPropagation(),e.button!==0)return;if(this._updateCurrentTarget(e),!this._currentTarget){this._finalize("none");return}if(this._dropAction==="none"){Private$Z.dispatchDragLeave(this,this._currentTarget,null,e),this._finalize("none");return}let n=Private$Z.dispatchDrop(this,this._currentTarget,e);this._finalize(n)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&this.dispose()}_addListeners(){document.addEventListener("pointerdown",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("pointerup",this,!0),document.addEventListener("pointerenter",this,!0),document.addEventListener("pointerleave",this,!0),document.addEventListener("pointerover",this,!0),document.addEventListener("pointerout",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("keyup",this,!0),document.addEventListener("keypress",this,!0),document.addEventListener("contextmenu",this,!0)}_removeListeners(){document.removeEventListener("pointerdown",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointerenter",this,!0),document.removeEventListener("pointerleave",this,!0),document.removeEventListener("pointerover",this,!0),document.removeEventListener("pointerout",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("keyup",this,!0),document.removeEventListener("keypress",this,!0),document.removeEventListener("contextmenu",this,!0)}_updateDragScroll(e){let n=Private$Z.findScrollTarget(e);!this._scrollTarget&&!n||(this._scrollTarget||setTimeout(this._onScrollFrame,500),this._scrollTarget=n)}_updateCurrentTarget(e){let n=this._currentTarget,i=this._currentTarget,o=this._currentElement,u=Private$Z.findElementBehindBackdrop(e,this.document);this._currentElement=u,u!==o&&u!==i&&Private$Z.dispatchDragExit(this,i,u,e),u!==o&&u!==i&&(i=Private$Z.dispatchDragEnter(this,u,i,e)),i!==n&&(this._currentTarget=i,Private$Z.dispatchDragLeave(this,n,i,e));let l=Private$Z.dispatchDragOver(this,i,e);this._setDropAction(l)}_attachDragImage(e,n){if(!this.dragImage)return;this.dragImage.classList.add("lm-mod-drag-image");let i=this.dragImage.style;i.pointerEvents="none",i.position="fixed",i.transform=`translate(${e}px, ${n}px)`,(this.document instanceof Document?this.document.body:this.document.firstElementChild).appendChild(this.dragImage)}_detachDragImage(){if(!this.dragImage)return;let e=this.dragImage.parentNode;e&&e.removeChild(this.dragImage)}_setDropAction(e){if(e=Private$Z.validateAction(e,this.supportedActions),!(this._override&&this._dropAction===e))switch(e){case"none":this._dropAction=e,this._override=qo.overrideCursor("no-drop",this.document);break;case"copy":this._dropAction=e,this._override=qo.overrideCursor("copy",this.document);break;case"link":this._dropAction=e,this._override=qo.overrideCursor("alias",this.document);break;case"move":this._dropAction=e,this._override=qo.overrideCursor("move",this.document);break}}_finalize(e){let n=this._resolve;this._removeListeners(),this._detachDragImage(),this._override&&(this._override.dispose(),this._override=null),this.mimeData.clear(),this._disposed=!0,this._dropAction="none",this._currentTarget=null,this._currentElement=null,this._scrollTarget=null,this._promise=null,this._resolve=null,n&&n(e)}};(function(t){class e extends DragEvent{constructor(o,u){super(u.type,{bubbles:!0,cancelable:!0,altKey:o.altKey,button:o.button,clientX:o.clientX,clientY:o.clientY,ctrlKey:o.ctrlKey,detail:0,metaKey:o.metaKey,relatedTarget:u.related,screenX:o.screenX,screenY:o.screenY,shiftKey:o.shiftKey,view:window});const{drag:l}=u;this.dropAction="none",this.mimeData=l.mimeData,this.proposedAction=l.proposedAction,this.supportedActions=l.supportedActions,this.source=l.source}}t.Event=e;function n(i,o=document){return Private$Z.overrideCursor(i,o)}t.overrideCursor=n})(Drag$5||(Drag$5={}));var Private$Z;(function(t){t.SCROLL_EDGE_SIZE=20;function e(j,B){return g[j]&v[B]?j:"none"}t.validateAction=e;function n(j,B=document){if(j){if(i&&j==i.event)return i.element;t.cursorBackdrop.style.zIndex="-1000";const Z=B.elementFromPoint(j.clientX,j.clientY);return t.cursorBackdrop.style.zIndex="",i={event:j,element:Z},Z}else{const Z=t.cursorBackdrop.style.transform;if(o&&Z===o.transform)return o.element;const R=t.cursorBackdrop.getBoundingClientRect();t.cursorBackdrop.style.zIndex="-1000";const G=B.elementFromPoint(R.left+R.width/2,R.top+R.height/2);return t.cursorBackdrop.style.zIndex="",o={transform:Z,element:G},G}}t.findElementBehindBackdrop=n;let i=null,o=null;function u(j){let B=j.clientX,Z=j.clientY,R=n(j);for(;R;R=R.parentElement){if(!R.hasAttribute("data-lm-dragscroll"))continue;let G=0,F=0;R===document.body&&(G=window.pageXOffset,F=window.pageYOffset);let K=R.getBoundingClientRect(),Q=K.top+F,ie=K.left+G,te=ie+K.width,oe=Q+K.height;if(B<ie||B>=te||Z<Q||Z>=oe)continue;let le=B-ie+1,de=Z-Q+1,ge=te-B,_e=oe-Z,we=Math.min(le,de,ge,_e);if(we>t.SCROLL_EDGE_SIZE)continue;let Me;switch(we){case _e:Me="bottom";break;case de:Me="top";break;case ge:Me="right";break;case le:Me="left";break;default:throw"unreachable"}let xe=R.scrollWidth-R.clientWidth,Re=R.scrollHeight-R.clientHeight,Se;switch(Me){case"top":Se=Re>0&&R.scrollTop>0;break;case"left":Se=xe>0&&R.scrollLeft>0;break;case"right":Se=xe>0&&R.scrollLeft<xe;break;case"bottom":Se=Re>0&&R.scrollTop<Re;break;default:throw"unreachable"}if(Se)return{element:R,edge:Me,distance:we}}return null}t.findScrollTarget=u;function l(j,B,Z,R){if(!B)return null;let G=new Drag$5.Event(R,{drag:j,related:Z,type:"lm-dragenter"});if(!B.dispatchEvent(G))return B;const K=j.document instanceof Document?j.document.body:j.document.firstElementChild;return B===K?Z:(G=new Drag$5.Event(R,{drag:j,related:Z,type:"lm-dragenter"}),K.dispatchEvent(G),K)}t.dispatchDragEnter=l;function c(j,B,Z,R){if(!B)return;let G=new Drag$5.Event(R,{drag:j,related:Z,type:"lm-dragexit"});B.dispatchEvent(G)}t.dispatchDragExit=c;function f(j,B,Z,R){if(!B)return;let G=new Drag$5.Event(R,{drag:j,related:Z,type:"lm-dragleave"});B.dispatchEvent(G)}t.dispatchDragLeave=f;function d(j,B,Z){if(!B)return"none";let R=new Drag$5.Event(Z,{drag:j,related:null,type:"lm-dragover"});return B.dispatchEvent(R)?"none":R.dropAction}t.dispatchDragOver=d;function m(j,B,Z){if(!B)return"none";let R=new Drag$5.Event(Z,{drag:j,related:null,type:"lm-drop"});return B.dispatchEvent(R)?"none":R.dropAction}t.dispatchDrop=m;const g={none:0,copy:1,link:2,move:4},v={none:g.none,copy:g.copy,link:g.link,move:g.move,"copy-link":g.copy|g.link,"copy-move":g.copy|g.move,"link-move":g.link|g.move,all:g.copy|g.link|g.move};function y(j,B=document){let Z=++k;const R=B instanceof Document?B.body:B.firstElementChild;return t.cursorBackdrop.isConnected||(t.cursorBackdrop.style.transform="scale(0)",R.appendChild(t.cursorBackdrop),P(),document.addEventListener("pointermove",w,{capture:!0,passive:!0}),t.cursorBackdrop.addEventListener("scroll",T,{capture:!0,passive:!0})),t.cursorBackdrop.style.cursor=j,new DisposableDelegate$2(()=>{Z===k&&t.cursorBackdrop.isConnected&&(document.removeEventListener("pointermove",w,!0),t.cursorBackdrop.removeEventListener("scroll",T,!0),R.removeChild(t.cursorBackdrop))})}t.overrideCursor=y;function w(j){t.cursorBackdrop&&(t.cursorBackdrop.style.transform=`translate(${j.clientX}px, ${j.clientY}px)`)}function T(j){if(!t.cursorBackdrop)return;let B=n();if(!B)return;const Z=B.closest("[data-lm-dragscroll]");Z&&(Z.scrollTop+=t.cursorBackdrop.scrollTop-A,Z.scrollLeft+=t.cursorBackdrop.scrollLeft-A,P())}function P(){t.cursorBackdrop.scrollTop=A,t.cursorBackdrop.scrollLeft=A}const A=500;function D(){const j=document.createElement("div");return j.classList.add("lm-cursor-backdrop"),j}let k=0;t.cursorBackdrop=D()})(Private$Z||(Private$Z={}));function getKeyboardLayout$1(){return Private$Y.keyboardLayout}let KeycodeLayout$1=class Wc{constructor(e,n,i=[]){this.name=e,this._codes=n,this._keys=Wc.extractKeys(n),this._modifierKeys=Wc.convertToKeySet(i)}keys(){return Object.keys(this._keys)}isValidKey(e){return e in this._keys}isModifierKey(e){return e in this._modifierKeys}keyForKeydownEvent(e){return this._codes[e.keyCode]||""}};(function(t){function e(i){let o=Object.create(null);for(let u in i)o[i[u]]=!0;return o}t.extractKeys=e;function n(i){let o=Object(null);for(let u=0,l=i.length;u<l;++u)o[i[u]]=!0;return o}t.convertToKeySet=n})(KeycodeLayout$1||(KeycodeLayout$1={}));const EN_US$1=new KeycodeLayout$1("en-us",{8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",27:"Escape",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"Meta",93:"ContextMenu",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Meta"},["Shift","Ctrl","Alt","Meta"]);var Private$Y;(function(t){t.keyboardLayout=EN_US$1})(Private$Y||(Private$Y={}));let CommandRegistry$1=class Vc{constructor(){this._timerID=0,this._timerModifierID=0,this._replaying=!1,this._keystrokes=[],this._keydownEvents=[],this._keyBindings=[],this._exactKeyMatch=null,this._commands=new Map,this._commandChanged=new Signal$2(this),this._commandExecuted=new Signal$2(this),this._keyBindingChanged=new Signal$2(this),this._holdKeyBindingPromises=new Map}get commandChanged(){return this._commandChanged}get commandExecuted(){return this._commandExecuted}get keyBindingChanged(){return this._keyBindingChanged}get keyBindings(){return this._keyBindings}listCommands(){return Array.from(this._commands.keys())}hasCommand(e){return this._commands.has(e)}addCommand(e,n){if(this._commands.has(e))throw new Error(`Command '${e}' already registered.`);return this._commands.set(e,Private$X.createCommand(n)),this._commandChanged.emit({id:e,type:"added"}),new DisposableDelegate$2(()=>{this._commands.delete(e),this._commandChanged.emit({id:e,type:"removed"})})}notifyCommandChanged(e){if(e!==void 0&&!this._commands.has(e))throw new Error(`Command '${e}' is not registered.`);this._commandChanged.emit({id:e,type:e?"changed":"many-changed"})}describedBy(e,n=JSONExt$2.emptyObject){var i;let o=this._commands.get(e);return Promise.resolve((i=o?.describedBy.call(void 0,n))!==null&&i!==void 0?i:{args:null})}label(e,n=JSONExt$2.emptyObject){var i;let o=this._commands.get(e);return(i=o?.label.call(void 0,n))!==null&&i!==void 0?i:""}mnemonic(e,n=JSONExt$2.emptyObject){let i=this._commands.get(e);return i?i.mnemonic.call(void 0,n):-1}icon(e,n=JSONExt$2.emptyObject){var i;return(i=this._commands.get(e))===null||i===void 0?void 0:i.icon.call(void 0,n)}iconClass(e,n=JSONExt$2.emptyObject){let i=this._commands.get(e);return i?i.iconClass.call(void 0,n):""}iconLabel(e,n=JSONExt$2.emptyObject){let i=this._commands.get(e);return i?i.iconLabel.call(void 0,n):""}caption(e,n=JSONExt$2.emptyObject){let i=this._commands.get(e);return i?i.caption.call(void 0,n):""}usage(e,n=JSONExt$2.emptyObject){let i=this._commands.get(e);return i?i.usage.call(void 0,n):""}className(e,n=JSONExt$2.emptyObject){let i=this._commands.get(e);return i?i.className.call(void 0,n):""}dataset(e,n=JSONExt$2.emptyObject){let i=this._commands.get(e);return i?i.dataset.call(void 0,n):{}}isEnabled(e,n=JSONExt$2.emptyObject){let i=this._commands.get(e);return i?i.isEnabled.call(void 0,n):!1}isToggled(e,n=JSONExt$2.emptyObject){let i=this._commands.get(e);return i?i.isToggled.call(void 0,n):!1}isToggleable(e,n=JSONExt$2.emptyObject){let i=this._commands.get(e);return i?i.isToggleable:!1}isVisible(e,n=JSONExt$2.emptyObject){let i=this._commands.get(e);return i?i.isVisible.call(void 0,n):!1}execute(e,n=JSONExt$2.emptyObject){let i=this._commands.get(e);if(!i)return Promise.reject(new Error(`Command '${e}' not registered.`));let o;try{o=i.execute.call(void 0,n)}catch(l){o=Promise.reject(l)}let u=Promise.resolve(o);return this._commandExecuted.emit({id:e,args:n,result:u}),u}addKeyBinding(e){let n=Private$X.createKeyBinding(e);return this._keyBindings.push(n),this._keyBindingChanged.emit({binding:n,type:"added"}),new DisposableDelegate$2(()=>{ArrayExt$4.removeFirstOf(this._keyBindings,n),this._keyBindingChanged.emit({binding:n,type:"removed"})})}processKeydownEvent(e){if(e.defaultPrevented||this._replaying)return;const n=Vc.keystrokeForKeydownEvent(e);if(!n){this._replayKeydownEvents(),this._clearPendingState();return}if(Vc.isModifierKeyPressed(e)){let{exact:l}=Private$X.matchKeyBinding(this._keyBindings,[n],e);l?(e.preventDefault(),e.stopPropagation(),this._startModifierTimer(l)):this._clearModifierTimer();return}this._keystrokes.push(n);const{exact:i,partial:o}=Private$X.matchKeyBinding(this._keyBindings,this._keystrokes,e),u=o.length!==0;if(!i&&!u){this._replayKeydownEvents(),this._clearPendingState();return}if((i?.preventDefault||o.some(l=>l.preventDefault))&&(e.preventDefault(),e.stopPropagation()),this._keydownEvents.push(e),i&&!u){this._executeKeyBinding(i),this._clearPendingState();return}i&&(this._exactKeyMatch=i),this._startTimer()}holdKeyBindingExecution(e,n){this._holdKeyBindingPromises.set(e,n)}processKeyupEvent(e){this._clearModifierTimer()}_startModifierTimer(e){this._clearModifierTimer(),this._timerModifierID=window.setTimeout(()=>{this._executeKeyBinding(e)},Private$X.modifierkeyTimeOut)}_clearModifierTimer(){this._timerModifierID!==0&&(clearTimeout(this._timerModifierID),this._timerModifierID=0)}_startTimer(){this._clearTimer(),this._timerID=window.setTimeout(()=>{this._onPendingTimeout()},Private$X.CHORD_TIMEOUT)}_clearTimer(){this._timerID!==0&&(clearTimeout(this._timerID),this._timerID=0)}_replayKeydownEvents(){this._keydownEvents.length!==0&&(this._replaying=!0,this._keydownEvents.forEach(Private$X.replayKeyEvent),this._replaying=!1)}async _executeKeyBinding(e){if(this._holdKeyBindingPromises.size!==0){const u=[...this._keydownEvents],l=(await Promise.race([Promise.all(u.map(async c=>{var f;return(f=this._holdKeyBindingPromises.get(c))!==null&&f!==void 0?f:Promise.resolve(!0)})),new Promise(c=>{setTimeout(()=>c([!1]),Private$X.KEYBINDING_HOLD_TIMEOUT)})])).every(Boolean);if(this._holdKeyBindingPromises.clear(),!l)return}let{command:n,args:i}=e,o={_luminoEvent:{type:"keybinding",keys:e.keys},...i};if(!this.hasCommand(n)||!this.isEnabled(n,o)){let u=this.hasCommand(n)?"enabled":"registered",c=`Cannot execute key binding '${e.keys.join(", ")}':`,f=`command '${n}' is not ${u}.`;console.warn(`${c} ${f}`);return}await this.execute(n,o)}_clearPendingState(){this._clearTimer(),this._clearModifierTimer(),this._exactKeyMatch=null,this._keystrokes.length=0,this._keydownEvents.length=0}_onPendingTimeout(){this._timerID=0,this._exactKeyMatch?this._executeKeyBinding(this._exactKeyMatch):this._replayKeydownEvents(),this._clearPendingState()}};(function(t){function e(c){let f="",d=!1,m=!1,g=!1,v=!1;for(let y of c.split(/\s+/))y==="Accel"?Platform$1.IS_MAC?m=!0:g=!0:y==="Alt"?d=!0:y==="Cmd"?m=!0:y==="Ctrl"?g=!0:y==="Shift"?v=!0:y.length>0&&(f=y);return{cmd:m,ctrl:g,alt:d,shift:v,key:f}}t.parseKeystroke=e;function n(c){let f="",d=e(c);return d.ctrl&&(f+="Ctrl "),d.alt&&(f+="Alt "),d.shift&&(f+="Shift "),d.cmd&&Platform$1.IS_MAC&&(f+="Cmd "),d.key?f+d.key:f.trim()}t.normalizeKeystroke=n;function i(c){let f;return Platform$1.IS_WIN?f=c.winKeys||c.keys:Platform$1.IS_MAC?f=c.macKeys||c.keys:f=c.linuxKeys||c.keys,f.map(n)}t.normalizeKeys=i;function o(c){return typeof c=="string"?f(c):c.map(f).join(", ");function f(d){let m=[],g=Platform$1.IS_MAC?" ":"+",v=e(d);return v.ctrl&&m.push("Ctrl"),v.alt&&m.push("Alt"),v.shift&&m.push("Shift"),Platform$1.IS_MAC&&v.cmd&&m.push("Cmd"),m.push(v.key),m.map(Private$X.formatKey).join(g)}}t.formatKeystroke=o;function u(c){let f=getKeyboardLayout$1(),d=f.keyForKeydownEvent(c);return f.isModifierKey(d)}t.isModifierKeyPressed=u;function l(c){let f=getKeyboardLayout$1(),d=f.keyForKeydownEvent(c),m=[];return c.ctrlKey&&m.push("Ctrl"),c.altKey&&m.push("Alt"),c.shiftKey&&m.push("Shift"),c.metaKey&&Platform$1.IS_MAC&&m.push("Cmd"),f.isModifierKey(d)||m.push(d),m.join(" ")}t.keystrokeForKeydownEvent=l})(CommandRegistry$1||(CommandRegistry$1={}));var Private$X;(function(t){t.CHORD_TIMEOUT=1e3,t.KEYBINDING_HOLD_TIMEOUT=1e3,t.modifierkeyTimeOut=500;function e(k){return{execute:k.execute,describedBy:w(typeof k.describedBy=="function"?k.describedBy:{args:null,...k.describedBy},()=>({args:null})),label:w(k.label,f),mnemonic:w(k.mnemonic,d),icon:w(k.icon,y),iconClass:w(k.iconClass,f),iconLabel:w(k.iconLabel,f),caption:w(k.caption,f),usage:w(k.usage,f),className:w(k.className,f),dataset:w(k.dataset,v),isEnabled:k.isEnabled||m,isToggled:k.isToggled||g,isToggleable:k.isToggleable||!!k.isToggled,isVisible:k.isVisible||m}}t.createCommand=e;function n(k){var j;return{keys:CommandRegistry$1.normalizeKeys(k),selector:T(k),command:k.command,args:k.args||JSONExt$2.emptyObject,preventDefault:(j=k.preventDefault)!==null&&j!==void 0?j:!0}}t.createKeyBinding=n;function i(k,j,B){let Z=null,R=[],G=1/0,F=0;for(let K=0,Q=k.length;K<Q;++K){let ie=k[K],te=P(ie.keys,j);if(te===0)continue;if(te===2){A(ie.selector,B)!==-1&&R.push(ie);continue}let oe=A(ie.selector,B);if(oe===-1||oe>G)continue;let le=Selector$1.calculateSpecificity(ie.selector);(!Z||oe<G||le>=F)&&(Z=ie,G=oe,F=le)}return{exact:Z,partial:R}}t.matchKeyBinding=i;function o(k){k.target.dispatchEvent(D(k))}t.replayKeyEvent=o;function u(k){return Platform$1.IS_MAC?l.hasOwnProperty(k)?l[k]:k:c.hasOwnProperty(k)?c[k]:k}t.formatKey=u;const l={Backspace:"",Tab:"",Enter:"",Shift:"",Ctrl:"",Alt:"",Escape:"",PageUp:"",PageDown:"",End:"",Home:"",ArrowLeft:"",ArrowUp:"",ArrowRight:"",ArrowDown:"",Delete:"",Cmd:""},c={Escape:"Esc",PageUp:"Page Up",PageDown:"Page Down",ArrowLeft:"Left",ArrowUp:"Up",ArrowRight:"Right",ArrowDown:"Down",Delete:"Del"},f=()=>"",d=()=>-1,m=()=>!0,g=()=>!1,v=()=>({}),y=()=>{};function w(k,j){return k===void 0?j:typeof k=="function"?k:()=>k}function T(k){if(k.selector.indexOf(",")!==-1)throw new Error(`Selector cannot contain commas: ${k.selector}`);if(!Selector$1.isValid(k.selector))throw new Error(`Invalid selector: ${k.selector}`);return k.selector}function P(k,j){if(k.length<j.length)return 0;for(let B=0,Z=j.length;B<Z;++B)if(k[B]!==j[B])return 0;return k.length>j.length?2:1}function A(k,j){let B=j.target,Z=j.currentTarget;for(let R=0;B!==null;B=B.parentElement,++R){if(B.hasAttribute("data-lm-suppress-shortcuts"))return-1;if(Selector$1.matches(B,k))return R;if(B===Z)return-1}return-1}function D(k){let j=document.createEvent("Event"),B=k.bubbles||!0,Z=k.cancelable||!0;return j.initEvent(k.type||"keydown",B,Z),j.key=k.key||"",j.keyCode=k.keyCode||0,j.which=k.keyCode||0,j.ctrlKey=k.ctrlKey||!1,j.altKey=k.altKey||!1,j.shiftKey=k.shiftKey||!1,j.metaKey=k.metaKey||!1,j.view=k.view||window,j}})(Private$X||(Private$X={}));let VirtualText$1=class{constructor(e){this.type="text",this.content=e}},VirtualElement$1=class{constructor(e,n,i,o){this.type="element",this.tag=e,this.attrs=n,this.children=i,this.renderer=o}};function h$2(t){let e={},n,i=[];for(let u=1,l=arguments.length;u<l;++u){let c=arguments[u];typeof c=="string"?i.push(new VirtualText$1(c)):c instanceof VirtualText$1||c instanceof VirtualElement$1?i.push(c):c instanceof Array?o(i,c):(u===1||u===2)&&c&&typeof c=="object"&&("render"in c?n=c:e=c)}return new VirtualElement$1(t,e,i,n);function o(u,l){for(let c of l)typeof c=="string"?u.push(new VirtualText$1(c)):(c instanceof VirtualText$1||c instanceof VirtualElement$1)&&u.push(c)}}(function(t){t.a=t.bind(void 0,"a"),t.abbr=t.bind(void 0,"abbr"),t.address=t.bind(void 0,"address"),t.area=t.bind(void 0,"area"),t.article=t.bind(void 0,"article"),t.aside=t.bind(void 0,"aside"),t.audio=t.bind(void 0,"audio"),t.b=t.bind(void 0,"b"),t.bdi=t.bind(void 0,"bdi"),t.bdo=t.bind(void 0,"bdo"),t.blockquote=t.bind(void 0,"blockquote"),t.br=t.bind(void 0,"br"),t.button=t.bind(void 0,"button"),t.canvas=t.bind(void 0,"canvas"),t.caption=t.bind(void 0,"caption"),t.cite=t.bind(void 0,"cite"),t.code=t.bind(void 0,"code"),t.col=t.bind(void 0,"col"),t.colgroup=t.bind(void 0,"colgroup"),t.data=t.bind(void 0,"data"),t.datalist=t.bind(void 0,"datalist"),t.dd=t.bind(void 0,"dd"),t.del=t.bind(void 0,"del"),t.dfn=t.bind(void 0,"dfn"),t.div=t.bind(void 0,"div"),t.dl=t.bind(void 0,"dl"),t.dt=t.bind(void 0,"dt"),t.em=t.bind(void 0,"em"),t.embed=t.bind(void 0,"embed"),t.fieldset=t.bind(void 0,"fieldset"),t.figcaption=t.bind(void 0,"figcaption"),t.figure=t.bind(void 0,"figure"),t.footer=t.bind(void 0,"footer"),t.form=t.bind(void 0,"form"),t.h1=t.bind(void 0,"h1"),t.h2=t.bind(void 0,"h2"),t.h3=t.bind(void 0,"h3"),t.h4=t.bind(void 0,"h4"),t.h5=t.bind(void 0,"h5"),t.h6=t.bind(void 0,"h6"),t.header=t.bind(void 0,"header"),t.hr=t.bind(void 0,"hr"),t.i=t.bind(void 0,"i"),t.iframe=t.bind(void 0,"iframe"),t.img=t.bind(void 0,"img"),t.input=t.bind(void 0,"input"),t.ins=t.bind(void 0,"ins"),t.kbd=t.bind(void 0,"kbd"),t.label=t.bind(void 0,"label"),t.legend=t.bind(void 0,"legend"),t.li=t.bind(void 0,"li"),t.main=t.bind(void 0,"main"),t.map=t.bind(void 0,"map"),t.mark=t.bind(void 0,"mark"),t.meter=t.bind(void 0,"meter"),t.nav=t.bind(void 0,"nav"),t.noscript=t.bind(void 0,"noscript"),t.object=t.bind(void 0,"object"),t.ol=t.bind(void 0,"ol"),t.optgroup=t.bind(void 0,"optgroup"),t.option=t.bind(void 0,"option"),t.output=t.bind(void 0,"output"),t.p=t.bind(void 0,"p"),t.param=t.bind(void 0,"param"),t.pre=t.bind(void 0,"pre"),t.progress=t.bind(void 0,"progress"),t.q=t.bind(void 0,"q"),t.rp=t.bind(void 0,"rp"),t.rt=t.bind(void 0,"rt"),t.ruby=t.bind(void 0,"ruby"),t.s=t.bind(void 0,"s"),t.samp=t.bind(void 0,"samp"),t.section=t.bind(void 0,"section"),t.select=t.bind(void 0,"select"),t.small=t.bind(void 0,"small"),t.source=t.bind(void 0,"source"),t.span=t.bind(void 0,"span"),t.strong=t.bind(void 0,"strong"),t.sub=t.bind(void 0,"sub"),t.summary=t.bind(void 0,"summary"),t.sup=t.bind(void 0,"sup"),t.table=t.bind(void 0,"table"),t.tbody=t.bind(void 0,"tbody"),t.td=t.bind(void 0,"td"),t.textarea=t.bind(void 0,"textarea"),t.tfoot=t.bind(void 0,"tfoot"),t.th=t.bind(void 0,"th"),t.thead=t.bind(void 0,"thead"),t.time=t.bind(void 0,"time"),t.title=t.bind(void 0,"title"),t.tr=t.bind(void 0,"tr"),t.track=t.bind(void 0,"track"),t.u=t.bind(void 0,"u"),t.ul=t.bind(void 0,"ul"),t.var_=t.bind(void 0,"var"),t.video=t.bind(void 0,"video"),t.wbr=t.bind(void 0,"wbr")})(h$2||(h$2={}));var VirtualDOM$1;(function(t){function e(i){return Private$W.createDOMNode(i)}t.realize=e;function n(i,o){let u=Private$W.hostMap.get(o)||[],l=Private$W.asContentArray(i);Private$W.hostMap.set(o,l),Private$W.updateContent(o,u,l)}t.render=n})(VirtualDOM$1||(VirtualDOM$1={}));var Private$W;(function(t){t.hostMap=new WeakMap;function e(y){return y?y instanceof Array?y:[y]:[]}t.asContentArray=e;function n(y){let w=arguments[1]||null;const T=arguments[2]||null;if(w)w.insertBefore(n(y),T);else{if(y.type==="text")return document.createTextNode(y.content);if(w=document.createElement(y.tag),l(w,y.attrs),y.renderer)return y.renderer.render(w,{attrs:y.attrs,children:y.children}),w;for(let P=0,A=y.children.length;P<A;++P)n(y.children[P],w)}return w}t.createDOMNode=n;function i(y,w,T){if(w===T)return;let P=v(y,w),A=w.slice(),D=y.firstChild,k=T.length;for(let j=0;j<k;++j){if(j>=A.length){n(T[j],y);continue}let B=A[j],Z=T[j];if(B===Z){D=D.nextSibling;continue}if(B.type==="text"&&Z.type==="text"){D.textContent!==Z.content&&(D.textContent=Z.content),D=D.nextSibling;continue}if(B.type==="text"||Z.type==="text"){ArrayExt$4.insert(A,j,Z),n(Z,y,D);continue}if(!B.renderer!=!Z.renderer){ArrayExt$4.insert(A,j,Z),n(Z,y,D);continue}let R=Z.attrs.key;if(R&&R in P){let F=P[R];F.vNode!==B&&(ArrayExt$4.move(A,A.indexOf(F.vNode,j+1),j),y.insertBefore(F.element,D),B=F.vNode,D=F.element)}if(B===Z){D=D.nextSibling;continue}let G=B.attrs.key;if(G&&G!==R){ArrayExt$4.insert(A,j,Z),n(Z,y,D);continue}if(B.tag!==Z.tag){ArrayExt$4.insert(A,j,Z),n(Z,y,D);continue}c(D,B.attrs,Z.attrs),Z.renderer?Z.renderer.render(D,{attrs:Z.attrs,children:Z.children}):i(D,B.children,Z.children),D=D.nextSibling}o(y,A,k,!0)}t.updateContent=i;function o(y,w,T,P){for(let A=w.length-1;A>=T;--A){const D=w[A],k=P?y.lastChild:y.childNodes[A];D.type==="text"||(D.renderer&&D.renderer.unrender?D.renderer.unrender(k,{attrs:D.attrs,children:D.children}):o(k,D.children,0,!1)),P&&y.removeChild(k)}}const u={key:!0,className:!0,htmlFor:!0,dataset:!0,style:!0};function l(y,w){for(let T in w)T in u||(T.substr(0,2)==="on"?y[T]=w[T]:y.setAttribute(T,w[T]));w.className!==void 0&&y.setAttribute("class",w.className),w.htmlFor!==void 0&&y.setAttribute("for",w.htmlFor),w.dataset&&f(y,w.dataset),w.style&&m(y,w.style)}function c(y,w,T){if(w===T)return;let P;for(P in w)P in u||P in T||(P.substr(0,2)==="on"?y[P]=null:y.removeAttribute(P));for(P in T)P in u||w[P]===T[P]||(P.substr(0,2)==="on"?y[P]=T[P]:y.setAttribute(P,T[P]));w.className!==T.className&&(T.className!==void 0?y.setAttribute("class",T.className):y.removeAttribute("class")),w.htmlFor!==T.htmlFor&&(T.htmlFor!==void 0?y.setAttribute("for",T.htmlFor):y.removeAttribute("for")),w.dataset!==T.dataset&&d(y,w.dataset||{},T.dataset||{}),w.style!==T.style&&g(y,w.style||{},T.style||{})}function f(y,w){for(let T in w)y.setAttribute(`data-${T}`,w[T])}function d(y,w,T){for(let P in w)P in T||y.removeAttribute(`data-${P}`);for(let P in T)w[P]!==T[P]&&y.setAttribute(`data-${P}`,T[P])}function m(y,w){let T=y.style,P;for(P in w)T[P]=w[P]}function g(y,w,T){let P=y.style,A;for(A in w)A in T||(P[A]="");for(A in T)w[A]!==T[A]&&(P[A]=T[A])}function v(y,w){let T=y.firstChild,P=Object.create(null);for(let A of w)A.type==="element"&&A.attrs.key&&(P[A.attrs.key]={vNode:A,element:T}),T=T.nextSibling;return P}})(Private$W||(Private$W={}));let BoxSizer$5=class{constructor(){this.sizeHint=0,this.minSize=0,this.maxSize=1/0,this.stretch=1,this.size=0,this.done=!1}};var BoxEngine$5;(function(t){function e(u,l){let c=u.length;if(c===0)return l;let f=0,d=0,m=0,g=0,v=0;for(let T=0;T<c;++T){let P=u[T],A=P.minSize,D=P.maxSize,k=P.sizeHint;P.done=!1,P.size=Math.max(A,Math.min(k,D)),m+=P.size,f+=A,d+=D,P.stretch>0&&(g+=P.stretch,v++)}if(l===m)return 0;if(l<=f){for(let T=0;T<c;++T){let P=u[T];P.size=P.minSize}return l-f}if(l>=d){for(let T=0;T<c;++T){let P=u[T];P.size=P.maxSize}return l-d}let y=.01,w=c;if(l<m){let T=m-l;for(;v>0&&T>y;){let P=T,A=g;for(let D=0;D<c;++D){let k=u[D];if(k.done||k.stretch===0)continue;let j=k.stretch*P/A;k.size-j<=k.minSize?(T-=k.size-k.minSize,g-=k.stretch,k.size=k.minSize,k.done=!0,w--,v--):(T-=j,k.size-=j)}}for(;w>0&&T>y;){let P=T/w;for(let A=0;A<c;++A){let D=u[A];D.done||(D.size-P<=D.minSize?(T-=D.size-D.minSize,D.size=D.minSize,D.done=!0,w--):(T-=P,D.size-=P))}}}else{let T=l-m;for(;v>0&&T>y;){let P=T,A=g;for(let D=0;D<c;++D){let k=u[D];if(k.done||k.stretch===0)continue;let j=k.stretch*P/A;k.size+j>=k.maxSize?(T-=k.maxSize-k.size,g-=k.stretch,k.size=k.maxSize,k.done=!0,w--,v--):(T-=j,k.size+=j)}}for(;w>0&&T>y;){let P=T/w;for(let A=0;A<c;++A){let D=u[A];D.done||(D.size+P>=D.maxSize?(T-=D.maxSize-D.size,D.size=D.maxSize,D.done=!0,w--):(T-=P,D.size+=P))}}}return 0}t.calc=e;function n(u,l,c){u.length===0||c===0||(c>0?i(u,l,c):o(u,l,-c))}t.adjust=n;function i(u,l,c){let f=0;for(let v=0;v<=l;++v){let y=u[v];f+=y.maxSize-y.size}let d=0;for(let v=l+1,y=u.length;v<y;++v){let w=u[v];d+=w.size-w.minSize}c=Math.min(c,f,d);let m=c;for(let v=l;v>=0&&m>0;--v){let y=u[v],w=y.maxSize-y.size;w>=m?(y.sizeHint=y.size+m,m=0):(y.sizeHint=y.size+w,m-=w)}let g=c;for(let v=l+1,y=u.length;v<y&&g>0;++v){let w=u[v],T=w.size-w.minSize;T>=g?(w.sizeHint=w.size-g,g=0):(w.sizeHint=w.size-T,g-=T)}}function o(u,l,c){let f=0;for(let v=l+1,y=u.length;v<y;++v){let w=u[v];f+=w.maxSize-w.size}let d=0;for(let v=0;v<=l;++v){let y=u[v];d+=y.size-y.minSize}c=Math.min(c,f,d);let m=c;for(let v=l+1,y=u.length;v<y&&m>0;++v){let w=u[v],T=w.maxSize-w.size;T>=m?(w.sizeHint=w.size+m,m=0):(w.sizeHint=w.size+T,m-=T)}let g=c;for(let v=l;v>=0&&g>0;--v){let y=u[v],w=y.size-y.minSize;w>=g?(y.sizeHint=y.size-g,g=0):(y.sizeHint=y.size-w,g-=w)}}})(BoxEngine$5||(BoxEngine$5={}));let Title$5=class{constructor(e){this._label="",this._caption="",this._mnemonic=-1,this._icon=void 0,this._iconClass="",this._iconLabel="",this._className="",this._closable=!1,this._changed=new Signal$2(this),this._isDisposed=!1,this.owner=e.owner,e.label!==void 0&&(this._label=e.label),e.mnemonic!==void 0&&(this._mnemonic=e.mnemonic),e.icon!==void 0&&(this._icon=e.icon),e.iconClass!==void 0&&(this._iconClass=e.iconClass),e.iconLabel!==void 0&&(this._iconLabel=e.iconLabel),e.caption!==void 0&&(this._caption=e.caption),e.className!==void 0&&(this._className=e.className),e.closable!==void 0&&(this._closable=e.closable),this._dataset=e.dataset||{}}get changed(){return this._changed}get label(){return this._label}set label(e){this._label!==e&&(this._label=e,this._changed.emit(void 0))}get mnemonic(){return this._mnemonic}set mnemonic(e){this._mnemonic!==e&&(this._mnemonic=e,this._changed.emit(void 0))}get icon(){return this._icon}set icon(e){this._icon!==e&&(this._icon=e,this._changed.emit(void 0))}get iconClass(){return this._iconClass}set iconClass(e){this._iconClass!==e&&(this._iconClass=e,this._changed.emit(void 0))}get iconLabel(){return this._iconLabel}set iconLabel(e){this._iconLabel!==e&&(this._iconLabel=e,this._changed.emit(void 0))}get caption(){return this._caption}set caption(e){this._caption!==e&&(this._caption=e,this._changed.emit(void 0))}get className(){return this._className}set className(e){this._className!==e&&(this._className=e,this._changed.emit(void 0))}get closable(){return this._closable}set closable(e){this._closable!==e&&(this._closable=e,this._changed.emit(void 0))}get dataset(){return this._dataset}set dataset(e){this._dataset!==e&&(this._dataset=e,this._changed.emit(void 0))}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,Signal$2.clearData(this))}},Widget$5=class Nr{constructor(e={}){this._flags=0,this._layout=null,this._parent=null,this._disposed=new Signal$2(this),this._hiddenMode=Nr.HiddenMode.Display,this.node=Private$j$5.createNode(e),this.addClass("lm-Widget")}dispose(){this.isDisposed||(this.setFlag(Nr.Flag.IsDisposed),this._disposed.emit(void 0),this.parent?this.parent=null:this.isAttached&&Nr.detach(this),this._layout&&(this._layout.dispose(),this._layout=null),this.title.dispose(),Signal$2.clearData(this),MessageLoop$6.clearData(this),AttachedProperty$2.clearData(this))}get disposed(){return this._disposed}get isDisposed(){return this.testFlag(Nr.Flag.IsDisposed)}get isAttached(){return this.testFlag(Nr.Flag.IsAttached)}get isHidden(){return this.testFlag(Nr.Flag.IsHidden)}get isVisible(){let e=this;do{if(e.isHidden||!e.isAttached)return!1;e=e.parent}while(e!=null);return!0}get title(){return Private$j$5.titleProperty.get(this)}get id(){return this.node.id}set id(e){this.node.id=e}get dataset(){return this.node.dataset}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this.isHidden&&this._toggleHidden(!1),e==Nr.HiddenMode.Scale?this.node.style.willChange="transform":this.node.style.willChange="auto",this._hiddenMode=e,this.isHidden&&this._toggleHidden(!0))}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(e&&this.contains(e))throw new Error("Invalid parent widget.");if(this._parent&&!this._parent.isDisposed){let n=new Nr.ChildMessage("child-removed",this);MessageLoop$6.sendMessage(this._parent,n)}if(this._parent=e,this._parent&&!this._parent.isDisposed){let n=new Nr.ChildMessage("child-added",this);MessageLoop$6.sendMessage(this._parent,n)}this.isDisposed||MessageLoop$6.sendMessage(this,Nr.Msg.ParentChanged)}}get layout(){return this._layout}set layout(e){if(this._layout!==e){if(this.testFlag(Nr.Flag.DisallowLayout))throw new Error("Cannot set widget layout.");if(this._layout)throw new Error("Cannot change widget layout.");if(e.parent)throw new Error("Cannot change layout parent.");this._layout=e,e.parent=this}}*children(){this._layout&&(yield*this._layout)}contains(e){for(let n=e;n;n=n._parent)if(n===this)return!0;return!1}hasClass(e){return this.node.classList.contains(e)}addClass(e){this.node.classList.add(e)}removeClass(e){this.node.classList.remove(e)}toggleClass(e,n){return n===!0?(this.node.classList.add(e),!0):n===!1?(this.node.classList.remove(e),!1):this.node.classList.toggle(e)}update(){MessageLoop$6.postMessage(this,Nr.Msg.UpdateRequest)}fit(){MessageLoop$6.postMessage(this,Nr.Msg.FitRequest)}activate(){MessageLoop$6.postMessage(this,Nr.Msg.ActivateRequest)}close(){MessageLoop$6.sendMessage(this,Nr.Msg.CloseRequest)}show(){if(this.testFlag(Nr.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&MessageLoop$6.sendMessage(this,Nr.Msg.BeforeShow),this.clearFlag(Nr.Flag.IsHidden),this._toggleHidden(!1),this.isAttached&&(!this.parent||this.parent.isVisible)&&MessageLoop$6.sendMessage(this,Nr.Msg.AfterShow),this.parent)){let e=new Nr.ChildMessage("child-shown",this);MessageLoop$6.sendMessage(this.parent,e)}}hide(){if(!this.testFlag(Nr.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&MessageLoop$6.sendMessage(this,Nr.Msg.BeforeHide),this.setFlag(Nr.Flag.IsHidden),this._toggleHidden(!0),this.isAttached&&(!this.parent||this.parent.isVisible)&&MessageLoop$6.sendMessage(this,Nr.Msg.AfterHide),this.parent)){let e=new Nr.ChildMessage("child-hidden",this);MessageLoop$6.sendMessage(this.parent,e)}}setHidden(e){e?this.hide():this.show()}testFlag(e){return(this._flags&e)!==0}setFlag(e){this._flags|=e}clearFlag(e){this._flags&=~e}processMessage(e){switch(e.type){case"resize":this.notifyLayout(e),this.onResize(e);break;case"update-request":this.notifyLayout(e),this.onUpdateRequest(e);break;case"fit-request":this.notifyLayout(e),this.onFitRequest(e);break;case"before-show":this.notifyLayout(e),this.onBeforeShow(e);break;case"after-show":this.setFlag(Nr.Flag.IsVisible),this.notifyLayout(e),this.onAfterShow(e);break;case"before-hide":this.notifyLayout(e),this.onBeforeHide(e);break;case"after-hide":this.clearFlag(Nr.Flag.IsVisible),this.notifyLayout(e),this.onAfterHide(e);break;case"before-attach":this.notifyLayout(e),this.onBeforeAttach(e);break;case"after-attach":!this.isHidden&&(!this.parent||this.parent.isVisible)&&this.setFlag(Nr.Flag.IsVisible),this.setFlag(Nr.Flag.IsAttached),this.notifyLayout(e),this.onAfterAttach(e);break;case"before-detach":this.notifyLayout(e),this.onBeforeDetach(e);break;case"after-detach":this.clearFlag(Nr.Flag.IsVisible),this.clearFlag(Nr.Flag.IsAttached),this.notifyLayout(e),this.onAfterDetach(e);break;case"activate-request":this.notifyLayout(e),this.onActivateRequest(e);break;case"close-request":this.notifyLayout(e),this.onCloseRequest(e);break;case"child-added":this.notifyLayout(e),this.onChildAdded(e);break;case"child-removed":this.notifyLayout(e),this.onChildRemoved(e);break;default:this.notifyLayout(e);break}}notifyLayout(e){this._layout&&this._layout.processParentMessage(e)}onCloseRequest(e){this.parent?this.parent=null:this.isAttached&&Nr.detach(this)}onResize(e){}onUpdateRequest(e){}onFitRequest(e){}onActivateRequest(e){}onBeforeShow(e){}onAfterShow(e){}onBeforeHide(e){}onAfterHide(e){}onBeforeAttach(e){}onAfterAttach(e){}onBeforeDetach(e){}onAfterDetach(e){}onChildAdded(e){}onChildRemoved(e){}_toggleHidden(e){if(e)switch(this._hiddenMode){case Nr.HiddenMode.Display:this.addClass("lm-mod-hidden");break;case Nr.HiddenMode.Scale:this.node.style.transform="scale(0)",this.node.setAttribute("aria-hidden","true");break;case Nr.HiddenMode.ContentVisibility:this.node.style.contentVisibility="hidden",this.node.style.zIndex="-1";break}else switch(this._hiddenMode){case Nr.HiddenMode.Display:this.removeClass("lm-mod-hidden");break;case Nr.HiddenMode.Scale:this.node.style.transform="",this.node.removeAttribute("aria-hidden");break;case Nr.HiddenMode.ContentVisibility:this.node.style.contentVisibility="",this.node.style.zIndex="";break}}};(function(t){(function(u){u[u.Display=0]="Display",u[u.Scale=1]="Scale",u[u.ContentVisibility=2]="ContentVisibility"})(t.HiddenMode||(t.HiddenMode={})),(function(u){u[u.IsDisposed=1]="IsDisposed",u[u.IsAttached=2]="IsAttached",u[u.IsHidden=4]="IsHidden",u[u.IsVisible=8]="IsVisible",u[u.DisallowLayout=16]="DisallowLayout"})(t.Flag||(t.Flag={})),(function(u){u.BeforeShow=new Message$6("before-show"),u.AfterShow=new Message$6("after-show"),u.BeforeHide=new Message$6("before-hide"),u.AfterHide=new Message$6("after-hide"),u.BeforeAttach=new Message$6("before-attach"),u.AfterAttach=new Message$6("after-attach"),u.BeforeDetach=new Message$6("before-detach"),u.AfterDetach=new Message$6("after-detach"),u.ParentChanged=new Message$6("parent-changed"),u.UpdateRequest=new ConflatableMessage$5("update-request"),u.FitRequest=new ConflatableMessage$5("fit-request"),u.ActivateRequest=new ConflatableMessage$5("activate-request"),u.CloseRequest=new ConflatableMessage$5("close-request")})(t.Msg||(t.Msg={}));class e extends Message$6{constructor(l,c){super(l),this.child=c}}t.ChildMessage=e;class n extends Message$6{constructor(l,c){super("resize"),this.width=l,this.height=c}}t.ResizeMessage=n,(function(u){u.UnknownSize=new u(-1,-1)})(n=t.ResizeMessage||(t.ResizeMessage={}));function i(u,l,c=null){if(u.parent)throw new Error("Cannot attach a child widget.");if(u.isAttached||u.node.isConnected)throw new Error("Widget is already attached.");if(!l.isConnected)throw new Error("Host is not attached.");MessageLoop$6.sendMessage(u,t.Msg.BeforeAttach),l.insertBefore(u.node,c),MessageLoop$6.sendMessage(u,t.Msg.AfterAttach)}t.attach=i;function o(u){if(u.parent)throw new Error("Cannot detach a child widget.");if(!u.isAttached||!u.node.isConnected)throw new Error("Widget is not attached.");MessageLoop$6.sendMessage(u,t.Msg.BeforeDetach),u.node.parentNode.removeChild(u.node),MessageLoop$6.sendMessage(u,t.Msg.AfterDetach)}t.detach=o})(Widget$5||(Widget$5={}));var Private$j$5;(function(t){t.titleProperty=new AttachedProperty$2({name:"title",create:n=>new Title$5({owner:n})});function e(n){return n.node||document.createElement(n.tag||"div")}t.createNode=e})(Private$j$5||(Private$j$5={}));let Layout$5=class{constructor(e={}){this._disposed=!1,this._parent=null,this._fitPolicy=e.fitPolicy||"set-min-size"}dispose(){this._parent=null,this._disposed=!0,Signal$2.clearData(this),AttachedProperty$2.clearData(this)}get isDisposed(){return this._disposed}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(this._parent)throw new Error("Cannot change parent widget.");if(e.layout!==this)throw new Error("Invalid parent widget.");this._parent=e,this.init()}}get fitPolicy(){return this._fitPolicy}set fitPolicy(e){if(this._fitPolicy!==e&&(this._fitPolicy=e,this._parent)){let n=this._parent.node.style;n.minWidth="",n.minHeight="",n.maxWidth="",n.maxHeight="",this._parent.fit()}}processParentMessage(e){switch(e.type){case"resize":this.onResize(e);break;case"update-request":this.onUpdateRequest(e);break;case"fit-request":this.onFitRequest(e);break;case"before-show":this.onBeforeShow(e);break;case"after-show":this.onAfterShow(e);break;case"before-hide":this.onBeforeHide(e);break;case"after-hide":this.onAfterHide(e);break;case"before-attach":this.onBeforeAttach(e);break;case"after-attach":this.onAfterAttach(e);break;case"before-detach":this.onBeforeDetach(e);break;case"after-detach":this.onAfterDetach(e);break;case"child-removed":this.onChildRemoved(e);break;case"child-shown":this.onChildShown(e);break;case"child-hidden":this.onChildHidden(e);break}}init(){for(const e of this)e.parent=this.parent}onResize(e){for(const n of this)MessageLoop$6.sendMessage(n,Widget$5.ResizeMessage.UnknownSize)}onUpdateRequest(e){for(const n of this)MessageLoop$6.sendMessage(n,Widget$5.ResizeMessage.UnknownSize)}onBeforeAttach(e){for(const n of this)MessageLoop$6.sendMessage(n,e)}onAfterAttach(e){for(const n of this)MessageLoop$6.sendMessage(n,e)}onBeforeDetach(e){for(const n of this)MessageLoop$6.sendMessage(n,e)}onAfterDetach(e){for(const n of this)MessageLoop$6.sendMessage(n,e)}onBeforeShow(e){for(const n of this)n.isHidden||MessageLoop$6.sendMessage(n,e)}onAfterShow(e){for(const n of this)n.isHidden||MessageLoop$6.sendMessage(n,e)}onBeforeHide(e){for(const n of this)n.isHidden||MessageLoop$6.sendMessage(n,e)}onAfterHide(e){for(const n of this)n.isHidden||MessageLoop$6.sendMessage(n,e)}onChildRemoved(e){this.removeWidget(e.child)}onFitRequest(e){}onChildShown(e){}onChildHidden(e){}};(function(t){function e(u){return Private$i$5.horizontalAlignmentProperty.get(u)}t.getHorizontalAlignment=e;function n(u,l){Private$i$5.horizontalAlignmentProperty.set(u,l)}t.setHorizontalAlignment=n;function i(u){return Private$i$5.verticalAlignmentProperty.get(u)}t.getVerticalAlignment=i;function o(u,l){Private$i$5.verticalAlignmentProperty.set(u,l)}t.setVerticalAlignment=o})(Layout$5||(Layout$5={}));let LayoutItem$5=class{constructor(e){this._top=NaN,this._left=NaN,this._width=NaN,this._height=NaN,this._minWidth=0,this._minHeight=0,this._maxWidth=1/0,this._maxHeight=1/0,this._disposed=!1,this.widget=e,this.widget.node.style.position="absolute",this.widget.node.style.contain="strict"}dispose(){if(this._disposed)return;this._disposed=!0;let e=this.widget.node.style;e.position="",e.top="",e.left="",e.width="",e.height="",e.contain=""}get minWidth(){return this._minWidth}get minHeight(){return this._minHeight}get maxWidth(){return this._maxWidth}get maxHeight(){return this._maxHeight}get isDisposed(){return this._disposed}get isHidden(){return this.widget.isHidden}get isVisible(){return this.widget.isVisible}get isAttached(){return this.widget.isAttached}fit(){let e=ElementExt$1.sizeLimits(this.widget.node);this._minWidth=e.minWidth,this._minHeight=e.minHeight,this._maxWidth=e.maxWidth,this._maxHeight=e.maxHeight}update(e,n,i,o){let u=Math.max(this._minWidth,Math.min(i,this._maxWidth)),l=Math.max(this._minHeight,Math.min(o,this._maxHeight));if(u<i)switch(Layout$5.getHorizontalAlignment(this.widget)){case"left":break;case"center":e+=(i-u)/2;break;case"right":e+=i-u;break;default:throw"unreachable"}if(l<o)switch(Layout$5.getVerticalAlignment(this.widget)){case"top":break;case"center":n+=(o-l)/2;break;case"bottom":n+=o-l;break;default:throw"unreachable"}let c=!1,f=this.widget.node.style;if(this._top!==n&&(this._top=n,f.top=`${n}px`),this._left!==e&&(this._left=e,f.left=`${e}px`),this._width!==u&&(c=!0,this._width=u,f.width=`${u}px`),this._height!==l&&(c=!0,this._height=l,f.height=`${l}px`),c){let d=new Widget$5.ResizeMessage(u,l);MessageLoop$6.sendMessage(this.widget,d)}}};var Private$i$5;(function(t){t.horizontalAlignmentProperty=new AttachedProperty$2({name:"horizontalAlignment",create:()=>"center",changed:e}),t.verticalAlignmentProperty=new AttachedProperty$2({name:"verticalAlignment",create:()=>"top",changed:e});function e(n){n.parent&&n.parent.layout&&n.parent.update()}})(Private$i$5||(Private$i$5={}));let PanelLayout$5=class extends Layout$5{constructor(){super(...arguments),this._widgets=[]}dispose(){for(;this._widgets.length>0;)this._widgets.pop().dispose();super.dispose()}get widgets(){return this._widgets}*[Symbol.iterator](){yield*this._widgets}addWidget(e){this.insertWidget(this._widgets.length,e)}insertWidget(e,n){n.parent=this.parent;let i=this._widgets.indexOf(n),o=Math.max(0,Math.min(e,this._widgets.length));if(i===-1){ArrayExt$4.insert(this._widgets,o,n),this.parent&&this.attachWidget(o,n);return}o===this._widgets.length&&o--,i!==o&&(ArrayExt$4.move(this._widgets,i,o),this.parent&&this.moveWidget(i,o,n))}removeWidget(e){this.removeWidgetAt(this._widgets.indexOf(e))}removeWidgetAt(e){let n=ArrayExt$4.removeAt(this._widgets,e);n&&this.parent&&this.detachWidget(e,n)}init(){super.init();let e=0;for(const n of this)this.attachWidget(e++,n)}attachWidget(e,n){let i=this.parent.node.children[e];this.parent.isAttached&&MessageLoop$6.sendMessage(n,Widget$5.Msg.BeforeAttach),this.parent.node.insertBefore(n.node,i),this.parent.isAttached&&MessageLoop$6.sendMessage(n,Widget$5.Msg.AfterAttach)}moveWidget(e,n,i){this.parent.isAttached&&MessageLoop$6.sendMessage(i,Widget$5.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&MessageLoop$6.sendMessage(i,Widget$5.Msg.AfterDetach);let o=this.parent.node.children[n];this.parent.isAttached&&MessageLoop$6.sendMessage(i,Widget$5.Msg.BeforeAttach),this.parent.node.insertBefore(i.node,o),this.parent.isAttached&&MessageLoop$6.sendMessage(i,Widget$5.Msg.AfterAttach)}detachWidget(e,n){this.parent.isAttached&&MessageLoop$6.sendMessage(n,Widget$5.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.isAttached&&MessageLoop$6.sendMessage(n,Widget$5.Msg.AfterDetach)}};var Utils$6;(function(t){function e(n){return Math.max(0,Math.floor(n))}t.clampDimension=e})(Utils$6||(Utils$6={}));var Utils$1$5=Utils$6;let SplitLayout$5=class lp extends PanelLayout$5{constructor(e){super(),this.widgetOffset=0,this._fixed=0,this._spacing=4,this._dirty=!1,this._hasNormedSizes=!1,this._sizers=[],this._items=[],this._handles=[],this._box=null,this._alignment="start",this._orientation="horizontal",this.renderer=e.renderer,e.orientation!==void 0&&(this._orientation=e.orientation),e.alignment!==void 0&&(this._alignment=e.alignment),e.spacing!==void 0&&(this._spacing=Utils$6.clampDimension(e.spacing))}dispose(){for(const e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,this._handles.length=0,super.dispose()}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this.parent&&(this.parent.dataset.orientation=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=Utils$6.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get handles(){return this._handles}absoluteSizes(){return this._sizers.map(e=>e.size)}relativeSizes(){return Private$h$5.normalize(this._sizers.map(e=>e.size))}setRelativeSizes(e,n=!0){let i=this._sizers.length,o=e.slice(0,i);for(;o.length<i;)o.push(0);let u=Private$h$5.normalize(o);for(let l=0;l<i;++l){let c=this._sizers[l];c.sizeHint=u[l],c.size=u[l]}this._hasNormedSizes=!0,n&&this.parent&&this.parent.update()}moveHandle(e,n){let i=this._handles[e];if(!i||i.classList.contains("lm-mod-hidden"))return;let o;if(this._orientation==="horizontal"?o=n-i.offsetLeft:o=n-i.offsetTop,o!==0){for(let u of this._sizers)u.size>0&&(u.sizeHint=u.size);BoxEngine$5.adjust(this._sizers,e,o),this.parent&&this.parent.update()}}init(){this.parent.dataset.orientation=this.orientation,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,n){let i=new LayoutItem$5(n),o=Private$h$5.createHandle(this.renderer),u=Private$h$5.averageSize(this._sizers),l=Private$h$5.createSizer(u);ArrayExt$4.insert(this._items,e,i),ArrayExt$4.insert(this._sizers,e,l),ArrayExt$4.insert(this._handles,e,o),this.parent.isAttached&&MessageLoop$6.sendMessage(n,Widget$5.Msg.BeforeAttach),this.parent.node.appendChild(n.node),this.parent.node.appendChild(o),this.parent.isAttached&&MessageLoop$6.sendMessage(n,Widget$5.Msg.AfterAttach),this.parent.fit()}moveWidget(e,n,i){ArrayExt$4.move(this._items,e,n),ArrayExt$4.move(this._sizers,e,n),ArrayExt$4.move(this._handles,e,n),this.parent.fit()}detachWidget(e,n){let i=ArrayExt$4.removeAt(this._items,e),o=ArrayExt$4.removeAt(this._handles,e);ArrayExt$4.removeAt(this._sizers,e),this.parent.isAttached&&MessageLoop$6.sendMessage(n,Widget$5.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.node.removeChild(o),this.parent.isAttached&&MessageLoop$6.sendMessage(n,Widget$5.Msg.AfterDetach),i.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}updateItemPosition(e,n,i,o,u,l,c){const f=this._items[e];if(f.isHidden)return;let d=this._handles[e].style;n?(i+=this.widgetOffset,f.update(i,o,c,u),i+=c,d.top=`${o}px`,d.left=`${i}px`,d.width=`${this._spacing}px`,d.height=`${u}px`):(o+=this.widgetOffset,f.update(i,o,l,c),o+=c,d.top=`${o}px`,d.left=`${i}px`,d.width=`${l}px`,d.height=`${this._spacing}px`)}_fit(){let e=0,n=-1;for(let f=0,d=this._items.length;f<d;++f)this._items[f].isHidden?this._handles[f].classList.add("lm-mod-hidden"):(this._handles[f].classList.remove("lm-mod-hidden"),n=f,e++);n!==-1&&this._handles[n].classList.add("lm-mod-hidden"),this._fixed=this._spacing*Math.max(0,e-1)+this.widgetOffset*this._items.length;let i=this._orientation==="horizontal",o=i?this._fixed:0,u=i?0:this._fixed;for(let f=0,d=this._items.length;f<d;++f){let m=this._items[f],g=this._sizers[f];if(g.size>0&&(g.sizeHint=g.size),m.isHidden){g.minSize=0,g.maxSize=0;continue}m.fit(),g.stretch=lp.getStretch(m.widget),i?(g.minSize=m.minWidth,g.maxSize=m.maxWidth,o+=m.minWidth,u=Math.max(u,m.minHeight)):(g.minSize=m.minHeight,g.maxSize=m.maxHeight,u+=m.minHeight,o=Math.max(o,m.minWidth))}let l=this._box=ElementExt$1.boxSizing(this.parent.node);o+=l.horizontalSum,u+=l.verticalSum;let c=this.parent.node.style;c.minWidth=`${o}px`,c.minHeight=`${u}px`,this._dirty=!0,this.parent.parent&&MessageLoop$6.sendMessage(this.parent.parent,Widget$5.Msg.FitRequest),this._dirty&&MessageLoop$6.sendMessage(this.parent,Widget$5.Msg.UpdateRequest)}_update(e,n){this._dirty=!1;let i=0;for(let g=0,v=this._items.length;g<v;++g)i+=+!this._items[g].isHidden;if(i===0&&this.widgetOffset===0)return;e<0&&(e=this.parent.node.offsetWidth),n<0&&(n=this.parent.node.offsetHeight),this._box||(this._box=ElementExt$1.boxSizing(this.parent.node));let o=this._box.paddingTop,u=this._box.paddingLeft,l=e-this._box.horizontalSum,c=n-this._box.verticalSum,f=0,d=0,m=this._orientation==="horizontal";if(i>0){let g;if(m?g=Math.max(0,l-this._fixed):g=Math.max(0,c-this._fixed),this._hasNormedSizes){for(let y of this._sizers)y.sizeHint*=g;this._hasNormedSizes=!1}let v=BoxEngine$5.calc(this._sizers,g);if(v>0)switch(this._alignment){case"start":break;case"center":f=0,d=v/2;break;case"end":f=0,d=v;break;case"justify":f=v/i,d=0;break;default:throw"unreachable"}}for(let g=0,v=this._items.length;g<v;++g){const w=this._items[g].isHidden?0:this._sizers[g].size+f;this.updateItemPosition(g,m,m?u+d:u,m?o:o+d,c,l,w);const T=this.widgetOffset+(this._handles[g].classList.contains("lm-mod-hidden")?0:this._spacing);m?u+=w+T:o+=w+T}}};(function(t){function e(i){return Private$h$5.stretchProperty.get(i)}t.getStretch=e;function n(i,o){Private$h$5.stretchProperty.set(i,o)}t.setStretch=n})(SplitLayout$5||(SplitLayout$5={}));var Private$h$5;(function(t){t.stretchProperty=new AttachedProperty$2({name:"stretch",create:()=>0,coerce:(l,c)=>Math.max(0,Math.floor(c)),changed:u});function e(l){let c=new BoxSizer$5;return c.sizeHint=Math.floor(l),c}t.createSizer=e;function n(l){let c=l.createHandle();return c.style.position="absolute",c.style.contain="style",c}t.createHandle=n;function i(l){return l.reduce((c,f)=>c+f.size,0)/l.length||0}t.averageSize=i;function o(l){let c=l.length;if(c===0)return[];let f=l.reduce((d,m)=>d+Math.abs(m),0);return f===0?l.map(d=>1/c):l.map(d=>d/f)}t.normalize=o;function u(l){l.parent&&l.parent.layout instanceof SplitLayout$5&&l.parent.fit()}})(Private$h$5||(Private$h$5={}));let AccordionLayout$5=class extends SplitLayout$5{constructor(e){super({...e,orientation:e.orientation||"vertical"}),this._titles=[],this.titleSpace=e.titleSpace||22}get titleSpace(){return this.widgetOffset}set titleSpace(e){e=Utils$1$5.clampDimension(e),this.widgetOffset!==e&&(this.widgetOffset=e,this.parent&&this.parent.fit())}get titles(){return this._titles}dispose(){this.isDisposed||(this._titles.length=0,super.dispose())}updateTitle(e,n){const i=this._titles[e],o=i.classList.contains("lm-mod-expanded"),u=Private$g$5.createTitle(this.renderer,n.title,o);this._titles[e]=u,this.parent.node.replaceChild(u,i)}insertWidget(e,n){n.id||(n.id=`id-${UUID$2.uuid4()}`),super.insertWidget(e,n)}attachWidget(e,n){const i=Private$g$5.createTitle(this.renderer,n.title);ArrayExt$4.insert(this._titles,e,i),this.parent.node.appendChild(i),n.node.setAttribute("role","region"),n.node.setAttribute("aria-labelledby",i.id),super.attachWidget(e,n)}moveWidget(e,n,i){ArrayExt$4.move(this._titles,e,n),super.moveWidget(e,n,i)}detachWidget(e,n){const i=ArrayExt$4.removeAt(this._titles,e);this.parent.node.removeChild(i),super.detachWidget(e,n)}updateItemPosition(e,n,i,o,u,l,c){const f=this._titles[e].style;f.top=`${o}px`,f.left=`${i}px`,f.height=`${this.widgetOffset}px`,n?f.width=`${u}px`:f.width=`${l}px`,super.updateItemPosition(e,n,i,o,u,l,c)}};var Private$g$5;(function(t){function e(n,i,o=!0){const u=n.createSectionTitle(i);return u.style.position="absolute",u.style.contain="strict",u.setAttribute("aria-label",`${i.label} Section`),u.setAttribute("aria-expanded",o?"true":"false"),u.setAttribute("aria-controls",i.owner.id),o&&u.classList.add("lm-mod-expanded"),u}t.createTitle=e})(Private$g$5||(Private$g$5={}));let Panel$5=class extends Widget$5{constructor(e={}){super(),this.addClass("lm-Panel"),this.layout=Private$f$5.createLayout(e)}get widgets(){return this.layout.widgets}addWidget(e){this.layout.addWidget(e)}insertWidget(e,n){this.layout.insertWidget(e,n)}};var Private$f$5;(function(t){function e(n){return n.layout||new PanelLayout$5}t.createLayout=e})(Private$f$5||(Private$f$5={}));let SplitPanel$5=class extends Panel$5{constructor(e={}){super({layout:Private$e$5.createLayout(e)}),this._handleMoved=new Signal$2(this),this._pressData=null,this.addClass("lm-SplitPanel")}dispose(){this._releaseMouse(),super.dispose()}get orientation(){return this.layout.orientation}set orientation(e){this.layout.orientation=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get renderer(){return this.layout.renderer}get handleMoved(){return this._handleMoved}get handles(){return this.layout.handles}relativeSizes(){return this.layout.relativeSizes()}setRelativeSizes(e,n=!0){this.layout.setRelativeSizes(e,n)}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){e.child.addClass("lm-SplitPanel-child"),this._releaseMouse()}onChildRemoved(e){e.child.removeClass("lm-SplitPanel-child"),this._releaseMouse()}_evtKeyDown(e){this._pressData&&(e.preventDefault(),e.stopPropagation()),e.keyCode===27&&this._releaseMouse()}_evtPointerDown(e){if(e.button!==0)return;let n=this.layout,i=ArrayExt$4.findFirstIndex(n.handles,d=>d.contains(e.target));if(i===-1)return;e.preventDefault(),e.stopPropagation(),document.addEventListener("pointerup",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0);let o,u=n.handles[i],l=u.getBoundingClientRect();n.orientation==="horizontal"?o=e.clientX-l.left:o=e.clientY-l.top;let c=window.getComputedStyle(u),f=Drag$5.overrideCursor(c.cursor);this._pressData={index:i,delta:o,override:f}}_evtPointerMove(e){e.preventDefault(),e.stopPropagation();let n,i=this.layout,o=this.node.getBoundingClientRect();i.orientation==="horizontal"?n=e.clientX-o.left-this._pressData.delta:n=e.clientY-o.top-this._pressData.delta,i.moveHandle(this._pressData.index,n)}_evtPointerUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse())}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._handleMoved.emit(),document.removeEventListener("keydown",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("contextmenu",this,!0))}};(function(t){class e{createHandle(){let u=document.createElement("div");return u.className="lm-SplitPanel-handle",u}}t.Renderer=e,t.defaultRenderer=new e;function n(o){return SplitLayout$5.getStretch(o)}t.getStretch=n;function i(o,u){SplitLayout$5.setStretch(o,u)}t.setStretch=i})(SplitPanel$5||(SplitPanel$5={}));var Private$e$5;(function(t){function e(n){return n.layout||new SplitLayout$5({renderer:n.renderer||SplitPanel$5.defaultRenderer,orientation:n.orientation,alignment:n.alignment,spacing:n.spacing})}t.createLayout=e})(Private$e$5||(Private$e$5={}));let AccordionPanel$5=class extends SplitPanel$5{constructor(e={}){super({...e,layout:Private$d$5.createLayout(e)}),this._widgetSizesCache=new WeakMap,this._expansionToggled=new Signal$2(this),this.addClass("lm-AccordionPanel")}get renderer(){return this.layout.renderer}get titleSpace(){return this.layout.titleSpace}set titleSpace(e){this.layout.titleSpace=e}get titles(){return this.layout.titles}get expansionToggled(){return this._expansionToggled}addWidget(e){super.addWidget(e),e.title.changed.connect(this._onTitleChanged,this)}collapse(e){const n=this.layout.widgets[e];n&&!n.isHidden&&this._toggleExpansion(e)}expand(e){const n=this.layout.widgets[e];n&&n.isHidden&&this._toggleExpansion(e)}insertWidget(e,n){super.insertWidget(e,n),n.title.changed.connect(this._onTitleChanged,this)}handleEvent(e){switch(super.handleEvent(e),e.type){case"click":this._evtClick(e);break;case"keydown":this._eventKeyDown(e);break}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),super.onBeforeAttach(e)}onAfterDetach(e){super.onAfterDetach(e),this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this)}_onTitleChanged(e){const n=ArrayExt$4.findFirstIndex(this.widgets,i=>i.contains(e.owner));n>=0&&(this.layout.updateTitle(n,e.owner),this.update())}_computeWidgetSize(e){const n=this.layout,i=n.widgets[e];if(!i)return;const o=i.isHidden,u=n.absoluteSizes(),l=(o?-1:1)*this.spacing,c=u.reduce((d,m)=>d+m);let f=[...u];if(o){const d=this._widgetSizesCache.get(i);if(!d)return;f[e]+=d;const m=f.map(g=>g-d>0).lastIndexOf(!0);m===-1?f.forEach((g,v)=>{v!==e&&(f[v]-=u[v]/c*(d-l))}):f[m]-=d-l}else{const d=u[e];this._widgetSizesCache.set(i,d),f[e]=0;const m=f.map(g=>g>0).lastIndexOf(!0);if(m===-1)return;f[m]=u[m]+d+l}return f.map(d=>d/(c+l))}_evtClick(e){const n=e.target;if(n){const i=ArrayExt$4.findFirstIndex(this.titles,o=>o.contains(n));i>=0&&(e.preventDefault(),e.stopPropagation(),this._toggleExpansion(i))}}_eventKeyDown(e){if(e.defaultPrevented)return;const n=e.target;let i=!1;if(n){const o=ArrayExt$4.findFirstIndex(this.titles,u=>u.contains(n));if(o>=0){const u=e.keyCode.toString();if(e.key.match(/Space|Enter/)||u.match(/13|32/))n.click(),i=!0;else if(this.orientation==="horizontal"?e.key.match(/ArrowLeft|ArrowRight/)||u.match(/37|39/):e.key.match(/ArrowUp|ArrowDown/)||u.match(/38|40/)){const l=e.key.match(/ArrowLeft|ArrowUp/)||u.match(/37|38/)?-1:1,c=this.titles.length,f=(o+c+l)%c;this.titles[f].focus(),i=!0}else e.key==="End"||u==="35"?(this.titles[this.titles.length-1].focus(),i=!0):(e.key==="Home"||u==="36")&&(this.titles[0].focus(),i=!0)}i&&e.preventDefault()}}_toggleExpansion(e){const n=this.titles[e],i=this.layout.widgets[e],o=this._computeWidgetSize(e);o&&this.setRelativeSizes(o,!1),i.isHidden?(n.classList.add("lm-mod-expanded"),n.setAttribute("aria-expanded","true"),i.show()):(n.classList.remove("lm-mod-expanded"),n.setAttribute("aria-expanded","false"),i.hide()),this._expansionToggled.emit(e)}};(function(t){class e extends SplitPanel$5.Renderer{constructor(){super(),this.titleClassName="lm-AccordionPanel-title",this._titleID=0,this._titleKeys=new WeakMap,this._uuid=++e._nInstance}createCollapseIcon(i){return document.createElement("span")}createSectionTitle(i){const o=document.createElement("h3");o.setAttribute("tabindex","0"),o.id=this.createTitleKey(i),o.className=this.titleClassName;for(const c in i.dataset)o.dataset[c]=i.dataset[c];const u=o.appendChild(this.createCollapseIcon(i));u.className="lm-AccordionPanel-titleCollapser";const l=o.appendChild(document.createElement("span"));return l.className="lm-AccordionPanel-titleLabel",l.textContent=i.label,l.title=i.caption||i.label,o}createTitleKey(i){let o=this._titleKeys.get(i);return o===void 0&&(o=`title-key-${this._uuid}-${this._titleID++}`,this._titleKeys.set(i,o)),o}}e._nInstance=0,t.Renderer=e,t.defaultRenderer=new e})(AccordionPanel$5||(AccordionPanel$5={}));var Private$d$5;(function(t){function e(n){return n.layout||new AccordionLayout$5({renderer:n.renderer||AccordionPanel$5.defaultRenderer,orientation:n.orientation,alignment:n.alignment,spacing:n.spacing,titleSpace:n.titleSpace})}t.createLayout=e})(Private$d$5||(Private$d$5={}));let BoxLayout$5=class Gc extends PanelLayout$5{constructor(e={}){super(),this._fixed=0,this._spacing=4,this._dirty=!1,this._sizers=[],this._items=[],this._box=null,this._alignment="start",this._direction="top-to-bottom",e.direction!==void 0&&(this._direction=e.direction),e.alignment!==void 0&&(this._alignment=e.alignment),e.spacing!==void 0&&(this._spacing=Utils$1$5.clampDimension(e.spacing))}dispose(){for(const e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,super.dispose()}get direction(){return this._direction}set direction(e){this._direction!==e&&(this._direction=e,this.parent&&(this.parent.dataset.direction=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=Utils$1$5.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}init(){this.parent.dataset.direction=this.direction,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,n){ArrayExt$4.insert(this._items,e,new LayoutItem$5(n)),ArrayExt$4.insert(this._sizers,e,new BoxSizer$5),this.parent.isAttached&&MessageLoop$6.sendMessage(n,Widget$5.Msg.BeforeAttach),this.parent.node.appendChild(n.node),this.parent.isAttached&&MessageLoop$6.sendMessage(n,Widget$5.Msg.AfterAttach),this.parent.fit()}moveWidget(e,n,i){ArrayExt$4.move(this._items,e,n),ArrayExt$4.move(this._sizers,e,n),this.parent.update()}detachWidget(e,n){let i=ArrayExt$4.removeAt(this._items,e);ArrayExt$4.removeAt(this._sizers,e),this.parent.isAttached&&MessageLoop$6.sendMessage(n,Widget$5.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.isAttached&&MessageLoop$6.sendMessage(n,Widget$5.Msg.AfterDetach),i.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0;for(let c=0,f=this._items.length;c<f;++c)e+=+!this._items[c].isHidden;this._fixed=this._spacing*Math.max(0,e-1);let n=Private$c$5.isHorizontal(this._direction),i=n?this._fixed:0,o=n?0:this._fixed;for(let c=0,f=this._items.length;c<f;++c){let d=this._items[c],m=this._sizers[c];if(d.isHidden){m.minSize=0,m.maxSize=0;continue}d.fit(),m.sizeHint=Gc.getSizeBasis(d.widget),m.stretch=Gc.getStretch(d.widget),n?(m.minSize=d.minWidth,m.maxSize=d.maxWidth,i+=d.minWidth,o=Math.max(o,d.minHeight)):(m.minSize=d.minHeight,m.maxSize=d.maxHeight,o+=d.minHeight,i=Math.max(i,d.minWidth))}let u=this._box=ElementExt$1.boxSizing(this.parent.node);i+=u.horizontalSum,o+=u.verticalSum;let l=this.parent.node.style;l.minWidth=`${i}px`,l.minHeight=`${o}px`,this._dirty=!0,this.parent.parent&&MessageLoop$6.sendMessage(this.parent.parent,Widget$5.Msg.FitRequest),this._dirty&&MessageLoop$6.sendMessage(this.parent,Widget$5.Msg.UpdateRequest)}_update(e,n){this._dirty=!1;let i=0;for(let g=0,v=this._items.length;g<v;++g)i+=+!this._items[g].isHidden;if(i===0)return;e<0&&(e=this.parent.node.offsetWidth),n<0&&(n=this.parent.node.offsetHeight),this._box||(this._box=ElementExt$1.boxSizing(this.parent.node));let o=this._box.paddingTop,u=this._box.paddingLeft,l=e-this._box.horizontalSum,c=n-this._box.verticalSum,f;switch(this._direction){case"left-to-right":f=BoxEngine$5.calc(this._sizers,Math.max(0,l-this._fixed));break;case"top-to-bottom":f=BoxEngine$5.calc(this._sizers,Math.max(0,c-this._fixed));break;case"right-to-left":f=BoxEngine$5.calc(this._sizers,Math.max(0,l-this._fixed)),u+=l;break;case"bottom-to-top":f=BoxEngine$5.calc(this._sizers,Math.max(0,c-this._fixed)),o+=c;break;default:throw"unreachable"}let d=0,m=0;if(f>0)switch(this._alignment){case"start":break;case"center":d=0,m=f/2;break;case"end":d=0,m=f;break;case"justify":d=f/i,m=0;break;default:throw"unreachable"}for(let g=0,v=this._items.length;g<v;++g){let y=this._items[g];if(y.isHidden)continue;let w=this._sizers[g].size;switch(this._direction){case"left-to-right":y.update(u+m,o,w+d,c),u+=w+d+this._spacing;break;case"top-to-bottom":y.update(u,o+m,l,w+d),o+=w+d+this._spacing;break;case"right-to-left":y.update(u-m-w-d,o,w+d,c),u-=w+d+this._spacing;break;case"bottom-to-top":y.update(u,o-m-w-d,l,w+d),o-=w+d+this._spacing;break;default:throw"unreachable"}}}};(function(t){function e(u){return Private$c$5.stretchProperty.get(u)}t.getStretch=e;function n(u,l){Private$c$5.stretchProperty.set(u,l)}t.setStretch=n;function i(u){return Private$c$5.sizeBasisProperty.get(u)}t.getSizeBasis=i;function o(u,l){Private$c$5.sizeBasisProperty.set(u,l)}t.setSizeBasis=o})(BoxLayout$5||(BoxLayout$5={}));var Private$c$5;(function(t){t.stretchProperty=new AttachedProperty$2({name:"stretch",create:()=>0,coerce:(o,u)=>Math.max(0,Math.floor(u)),changed:i}),t.sizeBasisProperty=new AttachedProperty$2({name:"sizeBasis",create:()=>0,coerce:(o,u)=>Math.max(0,Math.floor(u)),changed:i});function e(o){return o==="left-to-right"||o==="right-to-left"}t.isHorizontal=e;function n(o){return Math.max(0,Math.floor(o))}t.clampSpacing=n;function i(o){o.parent&&o.parent.layout instanceof BoxLayout$5&&o.parent.fit()}})(Private$c$5||(Private$c$5={}));let BoxPanel$5=class extends Panel$5{constructor(e={}){super({layout:Private$b$5.createLayout(e)}),this.addClass("lm-BoxPanel")}get direction(){return this.layout.direction}set direction(e){this.layout.direction=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}onChildAdded(e){e.child.addClass("lm-BoxPanel-child")}onChildRemoved(e){e.child.removeClass("lm-BoxPanel-child")}};(function(t){function e(u){return BoxLayout$5.getStretch(u)}t.getStretch=e;function n(u,l){BoxLayout$5.setStretch(u,l)}t.setStretch=n;function i(u){return BoxLayout$5.getSizeBasis(u)}t.getSizeBasis=i;function o(u,l){BoxLayout$5.setSizeBasis(u,l)}t.setSizeBasis=o})(BoxPanel$5||(BoxPanel$5={}));var Private$b$5;(function(t){function e(n){return n.layout||new BoxLayout$5(n)}t.createLayout=e})(Private$b$5||(Private$b$5={}));let CommandPalette$5=class cp extends Widget$5{constructor(e){super({node:Private$a$5.createNode()}),this._activeIndex=-1,this._items=[],this._results=null,this.addClass("lm-CommandPalette"),this.setFlag(Widget$5.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||cp.defaultRenderer,this.commands.commandChanged.connect(this._onGenericChange,this),this.commands.keyBindingChanged.connect(this._onGenericChange,this)}dispose(){this._items.length=0,this._results=null,super.dispose()}get searchNode(){return this.node.getElementsByClassName("lm-CommandPalette-search")[0]}get inputNode(){return this.node.getElementsByClassName("lm-CommandPalette-input")[0]}get contentNode(){return this.node.getElementsByClassName("lm-CommandPalette-content")[0]}get items(){return this._items}addItem(e){let n=Private$a$5.createItem(this.commands,e);return this._items.push(n),this.refresh(),n}addItems(e){const n=e.map(i=>Private$a$5.createItem(this.commands,i));return n.forEach(i=>this._items.push(i)),this.refresh(),n}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){ArrayExt$4.removeAt(this._items,e)&&this.refresh()}clearItems(){this._items.length!==0&&(this._items.length=0,this.refresh())}refresh(){if(this._results=null,this.inputNode.value!==""){let e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="inherit"}else{let e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="none"}this.update()}handleEvent(e){switch(e.type){case"click":this._evtClick(e);break;case"keydown":this._evtKeyDown(e);break;case"input":this.refresh();break;case"focus":case"blur":this._toggleFocused();break}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),this.node.addEventListener("input",this),this.node.addEventListener("focus",this,!0),this.node.addEventListener("blur",this,!0)}onAfterDetach(e){this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this),this.node.removeEventListener("input",this),this.node.removeEventListener("focus",this,!0),this.node.removeEventListener("blur",this,!0)}onAfterShow(e){this.update(),super.onAfterShow(e)}onActivateRequest(e){if(this.isAttached){let n=this.inputNode;n.focus(),n.select()}}onUpdateRequest(e){if(!this.isVisible){VirtualDOM$1.render(null,this.contentNode);return}let n=this.inputNode.value,i=this.contentNode,o=this._results;if(o||(o=this._results=Private$a$5.search(this._items,n),this._activeIndex=n?ArrayExt$4.findFirstIndex(o,Private$a$5.canActivate):-1),!n&&o.length===0){VirtualDOM$1.render(null,i);return}if(n&&o.length===0){let f=this.renderer.renderEmptyMessage({query:n});VirtualDOM$1.render(f,i);return}let u=this.renderer,l=this._activeIndex,c=new Array(o.length);for(let f=0,d=o.length;f<d;++f){let m=o[f];if(m.type==="header"){let g=m.indices,v=m.category;c[f]=u.renderHeader({category:v,indices:g})}else{let g=m.item,v=m.indices,y=f===l;c[f]=u.renderItem({item:g,indices:v,active:y})}}if(VirtualDOM$1.render(c,i),l<0||l>=o.length)i.scrollTop=0;else{let f=i.children[l];ElementExt$1.scrollIntoViewIfNeeded(i,f)}}_evtClick(e){if(e.button!==0)return;if(e.target.classList.contains("lm-close-icon")){this.inputNode.value="",this.refresh();return}let n=ArrayExt$4.findFirstIndex(this.contentNode.children,i=>i.contains(e.target));n!==-1&&(e.preventDefault(),e.stopPropagation(),this._execute(n))}_evtKeyDown(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey))switch(e.keyCode){case 13:e.preventDefault(),e.stopPropagation(),this._execute(this._activeIndex);break;case 38:e.preventDefault(),e.stopPropagation(),this._activatePreviousItem();break;case 40:e.preventDefault(),e.stopPropagation(),this._activateNextItem();break}}_activateNextItem(){if(!this._results||this._results.length===0)return;let e=this._activeIndex,n=this._results.length,i=e<n-1?e+1:0,o=i===0?n-1:i-1;this._activeIndex=ArrayExt$4.findFirstIndex(this._results,Private$a$5.canActivate,i,o),this.update()}_activatePreviousItem(){if(!this._results||this._results.length===0)return;let e=this._activeIndex,n=this._results.length,i=e<=0?n-1:e-1,o=i===n-1?0:i+1;this._activeIndex=ArrayExt$4.findLastIndex(this._results,Private$a$5.canActivate,i,o),this.update()}_execute(e){if(!this._results)return;let n=this._results[e];if(n){if(n.type==="header"){let i=this.inputNode;i.value=`${n.category.toLowerCase()} `,i.focus(),this.refresh();return}n.item.isEnabled&&(this.commands.execute(n.item.command,n.item.args),this.inputNode.value="",this.refresh())}}_toggleFocused(){let e=document.activeElement===this.inputNode;this.toggleClass("lm-mod-focused",e)}_onGenericChange(){this.refresh()}};(function(t){class e{renderHeader(i){let o=this.formatHeader(i);return h$2.li({className:"lm-CommandPalette-header"},o)}renderItem(i){let o=this.createItemClass(i),u=this.createItemDataset(i);return i.item.isToggleable?h$2.li({className:o,dataset:u,role:"menuitemcheckbox","aria-checked":`${i.item.isToggled}`},this.renderItemIcon(i),this.renderItemContent(i),this.renderItemShortcut(i)):h$2.li({className:o,dataset:u,role:"menuitem"},this.renderItemIcon(i),this.renderItemContent(i),this.renderItemShortcut(i))}renderEmptyMessage(i){let o=this.formatEmptyMessage(i);return h$2.li({className:"lm-CommandPalette-emptyMessage"},o)}renderItemIcon(i){let o=this.createIconClass(i);return h$2.div({className:o},i.item.icon,i.item.iconLabel)}renderItemContent(i){return h$2.div({className:"lm-CommandPalette-itemContent"},this.renderItemLabel(i),this.renderItemCaption(i))}renderItemLabel(i){let o=this.formatItemLabel(i);return h$2.div({className:"lm-CommandPalette-itemLabel"},o)}renderItemCaption(i){let o=this.formatItemCaption(i);return h$2.div({className:"lm-CommandPalette-itemCaption"},o)}renderItemShortcut(i){let o=this.formatItemShortcut(i);return h$2.div({className:"lm-CommandPalette-itemShortcut"},o)}createItemClass(i){let o="lm-CommandPalette-item";i.item.isEnabled||(o+=" lm-mod-disabled"),i.item.isToggled&&(o+=" lm-mod-toggled"),i.active&&(o+=" lm-mod-active");let u=i.item.className;return u&&(o+=` ${u}`),o}createItemDataset(i){return{...i.item.dataset,command:i.item.command}}createIconClass(i){let o="lm-CommandPalette-itemIcon",u=i.item.iconClass;return u?`${o} ${u}`:o}formatHeader(i){return!i.indices||i.indices.length===0?i.category:StringExt$4.highlight(i.category,i.indices,h$2.mark)}formatEmptyMessage(i){return`No commands found that match '${i.query}'`}formatItemShortcut(i){let o=i.item.keyBinding;return o?CommandRegistry$1.formatKeystroke(o.keys):null}formatItemLabel(i){return!i.indices||i.indices.length===0?i.item.label:StringExt$4.highlight(i.item.label,i.indices,h$2.mark)}formatItemCaption(i){return i.item.caption}}t.Renderer=e,t.defaultRenderer=new e})(CommandPalette$5||(CommandPalette$5={}));var Private$a$5;(function(t){function e(){let v=document.createElement("div"),y=document.createElement("div"),w=document.createElement("div"),T=document.createElement("input"),P=document.createElement("ul"),A=document.createElement("button");return y.className="lm-CommandPalette-search",w.className="lm-CommandPalette-wrapper",T.className="lm-CommandPalette-input",A.className="lm-close-icon",P.className="lm-CommandPalette-content",P.setAttribute("role","menu"),T.spellcheck=!1,w.appendChild(T),w.appendChild(A),y.appendChild(w),v.appendChild(y),v.appendChild(P),v}t.createNode=e;function n(v,y){return new g(v,y)}t.createItem=n;function i(v,y){let w=c(v,y);return w.sort(d),m(w)}t.search=i;function o(v){return v.type==="item"&&v.item.isEnabled}t.canActivate=o;function u(v){return v.trim().replace(/\s+/g," ")}function l(v){return v.replace(/\s+/g,"").toLowerCase()}function c(v,y){y=l(y);let w=[];for(let T=0,P=v.length;T<P;++T){let A=v[T];if(!A.isVisible)continue;if(!y){w.push({matchType:3,categoryIndices:null,labelIndices:null,score:0,item:A});continue}let D=f(A,y);D&&(A.isEnabled||(D.score+=1e3),w.push(D))}return w}function f(v,y){let w=v.category.toLowerCase(),T=v.label.toLowerCase(),P=`${w} ${T}`,A=1/0,D=null,k=/\b\w/g;for(;;){let G=k.exec(P);if(!G)break;let F=StringExt$4.matchSumOfDeltas(P,y,G.index);if(!F)break;F.score<=A&&(A=F.score,D=F.indices)}if(!D||A===1/0)return null;let j=w.length+1,B=ArrayExt$4.lowerBound(D,j,(G,F)=>G-F),Z=D.slice(0,B),R=D.slice(B);for(let G=0,F=R.length;G<F;++G)R[G]-=j;return Z.length===0?{matchType:0,categoryIndices:null,labelIndices:R,score:A,item:v}:R.length===0?{matchType:1,categoryIndices:Z,labelIndices:null,score:A,item:v}:{matchType:2,categoryIndices:Z,labelIndices:R,score:A,item:v}}function d(v,y){let w=v.matchType-y.matchType;if(w!==0)return w;let T=v.score-y.score;if(T!==0)return T;let P=0,A=0;switch(v.matchType){case 0:P=v.labelIndices[0],A=y.labelIndices[0];break;case 1:case 2:P=v.categoryIndices[0],A=y.categoryIndices[0];break}if(P!==A)return P-A;let D=v.item.category.localeCompare(y.item.category);if(D!==0)return D;let k=v.item.rank,j=y.item.rank;return k!==j?k<j?-1:1:v.item.label.localeCompare(y.item.label)}function m(v){let y=[];for(let w=0,T=v.length;w<T;++w){let{item:P,categoryIndices:A,labelIndices:D}=v[w],k=P.category;(w===0||k!==v[w-1].item.category)&&y.push({type:"header",category:k,indices:A}),y.push({type:"item",item:P,indices:D})}return y}class g{constructor(y,w){this._commands=y,this.category=u(w.category),this.command=w.command,this.args=w.args||JSONExt$2.emptyObject,this.rank=w.rank!==void 0?w.rank:1/0}get label(){return this._commands.label(this.command,this.args)}get icon(){return this._commands.icon(this.command,this.args)}get iconClass(){return this._commands.iconClass(this.command,this.args)}get iconLabel(){return this._commands.iconLabel(this.command,this.args)}get caption(){return this._commands.caption(this.command,this.args)}get className(){return this._commands.className(this.command,this.args)}get dataset(){return this._commands.dataset(this.command,this.args)}get isEnabled(){return this._commands.isEnabled(this.command,this.args)}get isToggled(){return this._commands.isToggled(this.command,this.args)}get isToggleable(){return this._commands.isToggleable(this.command,this.args)}get isVisible(){return this._commands.isVisible(this.command,this.args)}get keyBinding(){let{command:y,args:w}=this;return ArrayExt$4.findLastValue(this._commands.keyBindings,T=>T.command===y&&JSONExt$2.deepEqual(T.args,w))||null}}})(Private$a$5||(Private$a$5={}));let Menu$5=class Kc extends Widget$5{constructor(e){super({node:Private$9$5.createNode()}),this._childIndex=-1,this._activeIndex=-1,this._openTimerID=0,this._closeTimerID=0,this._items=[],this._childMenu=null,this._parentMenu=null,this._aboutToClose=new Signal$2(this),this._menuRequested=new Signal$2(this),this.addClass("lm-Menu"),this.setFlag(Widget$5.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||Kc.defaultRenderer}dispose(){this.close(),this._items.length=0,super.dispose()}get aboutToClose(){return this._aboutToClose}get menuRequested(){return this._menuRequested}get parentMenu(){return this._parentMenu}get childMenu(){return this._childMenu}get rootMenu(){let e=this;for(;e._parentMenu;)e=e._parentMenu;return e}get leafMenu(){let e=this;for(;e._childMenu;)e=e._childMenu;return e}get contentNode(){return this.node.getElementsByClassName("lm-Menu-content")[0]}get activeItem(){return this._items[this._activeIndex]||null}set activeItem(e){this.activeIndex=e?this._items.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._items.length)&&(e=-1),e!==-1&&!Private$9$5.canActivate(this._items[e])&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this._activeIndex>=0&&this.contentNode.childNodes[this._activeIndex]&&this.contentNode.childNodes[this._activeIndex].focus(),this.update())}get items(){return this._items}activateNextItem(){let e=this._items.length,n=this._activeIndex,i=n<e-1?n+1:0,o=i===0?e-1:i-1;this.activeIndex=ArrayExt$4.findFirstIndex(this._items,Private$9$5.canActivate,i,o)}activatePreviousItem(){let e=this._items.length,n=this._activeIndex,i=n<=0?e-1:n-1,o=i===e-1?0:i+1;this.activeIndex=ArrayExt$4.findLastIndex(this._items,Private$9$5.canActivate,i,o)}triggerActiveItem(){if(!this.isAttached)return;let e=this.activeItem;if(!e)return;if(this._cancelOpenTimer(),this._cancelCloseTimer(),e.type==="submenu"){this._openChildMenu(!0);return}this.rootMenu.close();let{command:n,args:i}=e;this.commands.isEnabled(n,i)?this.commands.execute(n,i):console.log(`Command '${n}' is disabled.`)}addItem(e){return this.insertItem(this._items.length,e)}insertItem(e,n){this.isAttached&&this.close(),this.activeIndex=-1;let i=Math.max(0,Math.min(e,this._items.length)),o=Private$9$5.createItem(this,n);return ArrayExt$4.insert(this._items,i,o),this.update(),o}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){this.isAttached&&this.close(),this.activeIndex=-1,ArrayExt$4.removeAt(this._items,e)&&this.update()}clearItems(){this.isAttached&&this.close(),this.activeIndex=-1,this._items.length!==0&&(this._items.length=0,this.update())}open(e,n,i={}){var o,u,l;if(this.isAttached)return;let c=i.forceX||!1,f=i.forceY||!1;const d=(o=i.host)!==null&&o!==void 0?o:null,m=(u=i.ref)!==null&&u!==void 0?u:null,g=(l=i.horizontalAlignment)!==null&&l!==void 0?l:document.documentElement.dir==="rtl"?"right":"left";Private$9$5.openRootMenu(this,e,n,c,f,g,d,m),this.activate()}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mouseup":this._evtMouseUp(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseenter":this._evtMouseEnter(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"mousedown":this._evtMouseDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mouseup",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseenter",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this),document.addEventListener("mousedown",this,!0)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mouseup",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseenter",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),document.removeEventListener("mousedown",this,!0)}onActivateRequest(e){this.isAttached&&this.node.focus()}onUpdateRequest(e){let n=this._items,i=this.renderer,o=this._activeIndex,u=Private$9$5.computeCollapsed(n),l=new Array(n.length);for(let c=0,f=n.length;c<f;++c){let d=n[c],m=c===o,g=u[c];l[c]=i.renderItem({item:d,active:m,collapsed:g,onfocus:()=>{this.activeIndex=c}})}VirtualDOM$1.render(l,this.contentNode)}onCloseRequest(e){this._cancelOpenTimer(),this._cancelCloseTimer(),this.activeIndex=-1;let n=this._childMenu;n&&(this._childIndex=-1,this._childMenu=null,n._parentMenu=null,n.close());let i=this._parentMenu;i&&(this._parentMenu=null,i._childIndex=-1,i._childMenu=null,i.activate()),this.isAttached&&this._aboutToClose.emit(void 0),super.onCloseRequest(e)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation();let n=e.keyCode;if(n===13){this.triggerActiveItem();return}if(n===27){this.close();return}if(n===37){this._parentMenu?this.close():this._menuRequested.emit("previous");return}if(n===38){this.activatePreviousItem();return}if(n===39){let l=this.activeItem;l&&l.type==="submenu"?this.triggerActiveItem():this.rootMenu._menuRequested.emit("next");return}if(n===40){this.activateNextItem();return}let i=getKeyboardLayout$1().keyForKeydownEvent(e);if(!i)return;let o=this._activeIndex+1,u=Private$9$5.findMnemonic(this._items,i,o);u.index!==-1&&!u.multiple?(this.activeIndex=u.index,this.triggerActiveItem()):u.index!==-1?this.activeIndex=u.index:u.auto!==-1&&(this.activeIndex=u.auto)}_evtMouseUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this.triggerActiveItem())}_evtMouseMove(e){let n=ArrayExt$4.findFirstIndex(this.contentNode.children,o=>ElementExt$1.hitTest(o,e.clientX,e.clientY));if(n===this._activeIndex)return;if(this.activeIndex=n,n=this.activeIndex,n===this._childIndex){this._cancelOpenTimer(),this._cancelCloseTimer();return}this._childIndex!==-1&&this._startCloseTimer(),this._cancelOpenTimer();let i=this.activeItem;!i||i.type!=="submenu"||!i.submenu||this._startOpenTimer()}_evtMouseEnter(e){for(let n=this._parentMenu;n;n=n._parentMenu)n._cancelOpenTimer(),n._cancelCloseTimer(),n.activeIndex=n._childIndex}_evtMouseLeave(e){if(this._cancelOpenTimer(),!this._childMenu){this.activeIndex=-1;return}let{clientX:n,clientY:i}=e;if(ElementExt$1.hitTest(this._childMenu.node,n,i)){this._cancelCloseTimer();return}this.activeIndex=-1,this._startCloseTimer()}_evtMouseDown(e){this._parentMenu||(Private$9$5.hitTestMenus(this,e.clientX,e.clientY)?(e.preventDefault(),e.stopPropagation()):this.close())}_openChildMenu(e=!1){let n=this.activeItem;if(!n||n.type!=="submenu"||!n.submenu){this._closeChildMenu();return}let i=n.submenu;if(i===this._childMenu)return;Kc.saveWindowData(),this._closeChildMenu(),this._childMenu=i,this._childIndex=this._activeIndex,i._parentMenu=this,MessageLoop$6.sendMessage(this,Widget$5.Msg.UpdateRequest);let o=this.contentNode.children[this._activeIndex];Private$9$5.openSubmenu(i,o),e&&(i.activeIndex=-1,i.activateNextItem()),i.activate()}_closeChildMenu(){this._childMenu&&this._childMenu.close()}_startOpenTimer(){this._openTimerID===0&&(this._openTimerID=window.setTimeout(()=>{this._openTimerID=0,this._openChildMenu()},Private$9$5.TIMER_DELAY))}_startCloseTimer(){this._closeTimerID===0&&(this._closeTimerID=window.setTimeout(()=>{this._closeTimerID=0,this._closeChildMenu()},Private$9$5.TIMER_DELAY))}_cancelOpenTimer(){this._openTimerID!==0&&(clearTimeout(this._openTimerID),this._openTimerID=0)}_cancelCloseTimer(){this._closeTimerID!==0&&(clearTimeout(this._closeTimerID),this._closeTimerID=0)}static saveWindowData(){Private$9$5.saveWindowData()}};(function(t){class e{renderItem(i){let o=this.createItemClass(i),u=this.createItemDataset(i),l=this.createItemARIA(i);return h$2.li({className:o,dataset:u,tabindex:"0",onfocus:i.onfocus,...l},this.renderIcon(i),this.renderLabel(i),this.renderShortcut(i),this.renderSubmenu(i))}renderIcon(i){let o=this.createIconClass(i);return h$2.div({className:o},i.item.icon,i.item.iconLabel)}renderLabel(i){let o=this.formatLabel(i);return h$2.div({className:"lm-Menu-itemLabel"},o)}renderShortcut(i){let o=this.formatShortcut(i);return h$2.div({className:"lm-Menu-itemShortcut"},o)}renderSubmenu(i){return h$2.div({className:"lm-Menu-itemSubmenuIcon"})}createItemClass(i){let o="lm-Menu-item";i.item.isEnabled||(o+=" lm-mod-disabled"),i.item.isToggled&&(o+=" lm-mod-toggled"),i.item.isVisible||(o+=" lm-mod-hidden"),i.active&&(o+=" lm-mod-active"),i.collapsed&&(o+=" lm-mod-collapsed");let u=i.item.className;return u&&(o+=` ${u}`),o}createItemDataset(i){let o,{type:u,command:l,dataset:c}=i.item;return u==="command"?o={...c,type:u,command:l}:o={...c,type:u},o}createIconClass(i){let o="lm-Menu-itemIcon",u=i.item.iconClass;return u?`${o} ${u}`:o}createItemARIA(i){let o={};switch(i.item.type){case"separator":o.role="presentation";break;case"submenu":o["aria-haspopup"]="true",i.item.isEnabled||(o["aria-disabled"]="true");break;default:i.item.isEnabled||(o["aria-disabled"]="true"),i.item.isToggled?(o.role="menuitemcheckbox",o["aria-checked"]="true"):o.role="menuitem"}return o}formatLabel(i){let{label:o,mnemonic:u}=i.item;if(u<0||u>=o.length)return o;let l=o.slice(0,u),c=o.slice(u+1),f=o[u],d=h$2.span({className:"lm-Menu-itemMnemonic"},f);return[l,d,c]}formatShortcut(i){let o=i.item.keyBinding;return o?CommandRegistry$1.formatKeystroke(o.keys):null}}t.Renderer=e,t.defaultRenderer=new e})(Menu$5||(Menu$5={}));var Private$9$5;(function(t){t.TIMER_DELAY=300,t.SUBMENU_OVERLAP=3;let e=null,n=0;function i(){return n>0?(n--,e):m()}function o(){e=m(),n++}t.saveWindowData=o;function u(){let T=document.createElement("div"),P=document.createElement("ul");return P.className="lm-Menu-content",T.appendChild(P),P.setAttribute("role","menu"),T.tabIndex=0,T}t.createNode=u;function l(T){return T.type!=="separator"&&T.isEnabled&&T.isVisible}t.canActivate=l;function c(T,P){return new w(T.commands,P)}t.createItem=c;function f(T,P,A){for(let D=T;D;D=D.childMenu)if(ElementExt$1.hitTest(D.node,P,A))return!0;return!1}t.hitTestMenus=f;function d(T){let P=new Array(T.length);ArrayExt$4.fill(P,!1);let A=0,D=T.length;for(;A<D;++A){let B=T[A];if(B.isVisible){if(B.type!=="separator")break;P[A]=!0}}let k=D-1;for(;k>=0;--k){let B=T[k];if(B.isVisible){if(B.type!=="separator")break;P[k]=!0}}let j=!1;for(;++A<k;){let B=T[A];B.isVisible&&(B.type!=="separator"?j=!1:j?P[A]=!0:j=!0)}return P}t.computeCollapsed=d;function m(){return{pageXOffset:window.pageXOffset,pageYOffset:window.pageYOffset,clientWidth:document.documentElement.clientWidth,clientHeight:document.documentElement.clientHeight}}function g(T,P,A,D,k,j,B,Z){const R=i();let G=R.pageXOffset,F=R.pageYOffset,K=R.clientWidth,Q=R.clientHeight;MessageLoop$6.sendMessage(T,Widget$5.Msg.UpdateRequest);let ie=Q-(k?A:0),te=T.node,oe=te.style;oe.opacity="0",oe.maxHeight=`${ie}px`,Widget$5.attach(T,B||document.body,Z);let{width:le,height:de}=te.getBoundingClientRect();j==="right"&&(P-=le),!D&&P+le>G+K&&(P=G+K-le),!k&&A+de>F+Q&&(A>F+Q?A=F+Q-de:A=A-de),oe.transform=`translate(${Math.max(0,P)}px, ${Math.max(0,A)}px`,oe.opacity="1"}t.openRootMenu=g;function v(T,P){const A=i();let D=A.pageXOffset,k=A.pageYOffset,j=A.clientWidth,B=A.clientHeight;MessageLoop$6.sendMessage(T,Widget$5.Msg.UpdateRequest);let Z=B,R=T.node,G=R.style;G.opacity="0",G.maxHeight=`${Z}px`,Widget$5.attach(T,document.body);let{width:F,height:K}=R.getBoundingClientRect(),Q=ElementExt$1.boxSizing(T.node),ie=P.getBoundingClientRect(),te=ie.right-t.SUBMENU_OVERLAP;te+F>D+j&&(te=ie.left+t.SUBMENU_OVERLAP-F);let oe=ie.top-Q.borderTop-Q.paddingTop;oe+K>k+B&&(oe=ie.bottom+Q.borderBottom+Q.paddingBottom-K),G.transform=`translate(${Math.max(0,te)}px, ${Math.max(0,oe)}px`,G.opacity="1"}t.openSubmenu=v;function y(T,P,A){let D=-1,k=-1,j=!1,B=P.toUpperCase();for(let Z=0,R=T.length;Z<R;++Z){let G=(Z+A)%R,F=T[G];if(!l(F))continue;let K=F.label;if(K.length===0)continue;let Q=F.mnemonic;if(Q>=0&&Q<K.length){K[Q].toUpperCase()===B&&(D===-1?D=G:j=!0);continue}k===-1&&K[0].toUpperCase()===B&&(k=G)}return{index:D,multiple:j,auto:k}}t.findMnemonic=y;class w{constructor(P,A){this._commands=P,this.type=A.type||"command",this.command=A.command||"",this.args=A.args||JSONExt$2.emptyObject,this.submenu=A.submenu||null}get label(){return this.type==="command"?this._commands.label(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.label:""}get mnemonic(){return this.type==="command"?this._commands.mnemonic(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.mnemonic:-1}get icon(){if(this.type==="command")return this._commands.icon(this.command,this.args);if(this.type==="submenu"&&this.submenu)return this.submenu.title.icon}get iconClass(){return this.type==="command"?this._commands.iconClass(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconClass:""}get iconLabel(){return this.type==="command"?this._commands.iconLabel(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconLabel:""}get caption(){return this.type==="command"?this._commands.caption(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.caption:""}get className(){return this.type==="command"?this._commands.className(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.className:""}get dataset(){return this.type==="command"?this._commands.dataset(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.dataset:{}}get isEnabled(){return this.type==="command"?this._commands.isEnabled(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0}get isToggled(){return this.type==="command"?this._commands.isToggled(this.command,this.args):!1}get isVisible(){return this.type==="command"?this._commands.isVisible(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0}get keyBinding(){if(this.type==="command"){let{command:P,args:A}=this;return ArrayExt$4.findLastValue(this._commands.keyBindings,D=>D.command===P&&JSONExt$2.deepEqual(D.args,A))||null}return null}}})(Private$9$5||(Private$9$5={}));var Private$8$5;(function(t){function e(l,c){let f=i(l.selector),d=l.rank!==void 0?l.rank:1/0;return{...l,selector:f,rank:d,id:c}}t.createItem=e;function n(l,c,f,d){let m=c.target;if(!m)return null;let g=c.currentTarget;if(!g||!g.contains(m)&&(m=document.elementFromPoint(c.clientX,c.clientY),!m||!g.contains(m)))return null;let v=[],y=l.slice();for(;m!==null;){let w=[];for(let T=0,P=y.length;T<P;++T){let A=y[T];A&&Selector$1.matches(m,A.selector)&&(w.push(A),y[T]=null)}if(w.length!==0&&(f&&w.sort(d?u:o),v.push(...w)),m===g)break;m=m.parentElement}return f||v.sort(d?u:o),v}t.matchItems=n;function i(l){if(l.indexOf(",")!==-1)throw new Error(`Selector cannot contain commas: ${l}`);if(!Selector$1.isValid(l))throw new Error(`Invalid selector: ${l}`);return l}function o(l,c){let f=l.rank,d=c.rank;return f!==d?f<d?-1:1:l.id-c.id}function u(l,c){let f=Selector$1.calculateSpecificity(l.selector),d=Selector$1.calculateSpecificity(c.selector);return f!==d?d-f:o(l,c)}})(Private$8$5||(Private$8$5={}));const ARROW_KEYS$4=["ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Home","End"];let TabBar$5=class dp extends Widget$5{constructor(e={}){super({node:Private$7$5.createNode()}),this._currentIndex=-1,this._titles=[],this._titlesEditable=!1,this._previousTitle=null,this._dragData=null,this._addButtonEnabled=!1,this._tabMoved=new Signal$2(this),this._currentChanged=new Signal$2(this),this._addRequested=new Signal$2(this),this._tabCloseRequested=new Signal$2(this),this._tabDetachRequested=new Signal$2(this),this._tabActivateRequested=new Signal$2(this),this.addClass("lm-TabBar"),this.contentNode.setAttribute("role","tablist"),this.setFlag(Widget$5.Flag.DisallowLayout),this._document=e.document||document,this.tabsMovable=e.tabsMovable||!1,this.titlesEditable=e.titlesEditable||!1,this.allowDeselect=e.allowDeselect||!1,this.addButtonEnabled=e.addButtonEnabled||!1,this.insertBehavior=e.insertBehavior||"select-tab-if-needed",this.name=e.name||"",this.orientation=e.orientation||"horizontal",this.removeBehavior=e.removeBehavior||"select-tab-after",this.renderer=e.renderer||dp.defaultRenderer}dispose(){this._releaseMouse(),this._titles.length=0,this._previousTitle=null,super.dispose()}get currentChanged(){return this._currentChanged}get tabMoved(){return this._tabMoved}get tabActivateRequested(){return this._tabActivateRequested}get addRequested(){return this._addRequested}get tabCloseRequested(){return this._tabCloseRequested}get tabDetachRequested(){return this._tabDetachRequested}get document(){return this._document}get titlesEditable(){return this._titlesEditable}set titlesEditable(e){this._titlesEditable=e}get currentTitle(){return this._titles[this._currentIndex]||null}set currentTitle(e){this.currentIndex=e?this._titles.indexOf(e):-1}get currentIndex(){return this._currentIndex}set currentIndex(e){if((e<0||e>=this._titles.length)&&(e=-1),this._currentIndex===e)return;let n=this._currentIndex,i=this._titles[n]||null,o=e,u=this._titles[o]||null;this._currentIndex=o,this._previousTitle=i,this.update(),this._currentChanged.emit({previousIndex:n,previousTitle:i,currentIndex:o,currentTitle:u})}get name(){return this._name}set name(e){this._name=e,e?this.contentNode.setAttribute("aria-label",e):this.contentNode.removeAttribute("aria-label")}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._releaseMouse(),this._orientation=e,this.dataset.orientation=e,this.contentNode.setAttribute("aria-orientation",e))}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled!==e&&(this._addButtonEnabled=e,e?this.addButtonNode.classList.remove("lm-mod-hidden"):this.addButtonNode.classList.add("lm-mod-hidden"))}get titles(){return this._titles}get contentNode(){return this.node.getElementsByClassName("lm-TabBar-content")[0]}get addButtonNode(){return this.node.getElementsByClassName("lm-TabBar-addButton")[0]}addTab(e){return this.insertTab(this._titles.length,e)}insertTab(e,n){this._releaseMouse();let i=Private$7$5.asTitle(n),o=this._titles.indexOf(i),u=Math.max(0,Math.min(e,this._titles.length));return o===-1?(ArrayExt$4.insert(this._titles,u,i),i.changed.connect(this._onTitleChanged,this),this.update(),this._adjustCurrentForInsert(u,i),i):(u===this._titles.length&&u--,o===u||(ArrayExt$4.move(this._titles,o,u),this.update(),this._adjustCurrentForMove(o,u)),i)}removeTab(e){this.removeTabAt(this._titles.indexOf(e))}removeTabAt(e){this._releaseMouse();let n=ArrayExt$4.removeAt(this._titles,e);n&&(n.changed.disconnect(this._onTitleChanged,this),n===this._previousTitle&&(this._previousTitle=null),this.update(),this._adjustCurrentForRemove(e,n))}clearTabs(){if(this._titles.length===0)return;this._releaseMouse();for(let i of this._titles)i.changed.disconnect(this._onTitleChanged,this);let e=this.currentIndex,n=this.currentTitle;this._currentIndex=-1,this._previousTitle=null,this._titles.length=0,this.update(),e!==-1&&this._currentChanged.emit({previousIndex:e,previousTitle:n,currentIndex:-1,currentTitle:null})}releaseMouse(){this._releaseMouse()}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"dblclick":this._evtDblClick(e);break;case"keydown":e.eventPhase===Event.CAPTURING_PHASE?this._evtKeyDownCapturing(e):this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this),this.node.addEventListener("dblclick",this),this.node.addEventListener("keydown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this.node.removeEventListener("dblclick",this),this.node.removeEventListener("keydown",this),this._releaseMouse()}onUpdateRequest(e){var n;let i=this._titles,o=this.renderer,u=this.currentTitle,l=new Array(i.length);const c=(n=this._getCurrentTabindex())!==null&&n!==void 0?n:this._currentIndex>-1?this._currentIndex:0;for(let f=0,d=i.length;f<d;++f){let m=i[f],g=m===u,v=g?d:d-f-1,y=c===f?0:-1;l[f]=o.renderTab({title:m,current:g,zIndex:v,tabIndex:y})}VirtualDOM$1.render(l,this.contentNode)}_getCurrentTabindex(){let e=null;const n=this.contentNode.querySelector('li[tabindex="0"]');return n?e=[...this.contentNode.children].indexOf(n):this._addButtonEnabled&&this.addButtonNode.getAttribute("tabindex")==="0"&&(e=-1),e}_evtDblClick(e){if(!this.titlesEditable)return;let n=this.contentNode.children,i=ArrayExt$4.findFirstIndex(n,l=>ElementExt$1.hitTest(l,e.clientX,e.clientY));if(i===-1)return;let o=this.titles[i],u=n[i].querySelector(".lm-TabBar-tabLabel");if(u&&u.contains(e.target)){let l=o.label||"",c=u.innerHTML;u.innerHTML="";let f=document.createElement("input");f.classList.add("lm-TabBar-tabInput"),f.value=l,u.appendChild(f);let d=()=>{f.removeEventListener("blur",d),u.innerHTML=c,this.node.addEventListener("keydown",this)};f.addEventListener("dblclick",m=>m.stopPropagation()),f.addEventListener("blur",d),f.addEventListener("keydown",m=>{m.key==="Enter"?(f.value!==""&&(o.label=o.caption=f.value),d()):m.key==="Escape"&&d()}),this.node.removeEventListener("keydown",this),f.select(),f.focus(),u.children.length>0&&u.children[0].focus()}}_evtKeyDownCapturing(e){e.eventPhase===Event.CAPTURING_PHASE&&(e.preventDefault(),e.stopPropagation(),e.key==="Escape"&&this._releaseMouse())}_evtKeyDown(e){var n,i,o;if(!(e.key==="Tab"||e.eventPhase===Event.CAPTURING_PHASE)){if(e.key==="Enter"||e.key==="Spacebar"||e.key===" "){const u=document.activeElement;if(this.addButtonEnabled&&this.addButtonNode.contains(u))e.preventDefault(),e.stopPropagation(),this._addRequested.emit();else{const l=ArrayExt$4.findFirstIndex(this.contentNode.children,c=>c.contains(u));l>=0&&(e.preventDefault(),e.stopPropagation(),this.currentIndex=l)}}else if(ARROW_KEYS$4.includes(e.key)){const u=[...this.contentNode.children];if(this.addButtonEnabled&&u.push(this.addButtonNode),u.length<=1)return;e.preventDefault(),e.stopPropagation();let l=u.indexOf(document.activeElement);l===-1&&(l=this._currentIndex);let c;e.key==="ArrowRight"&&this._orientation==="horizontal"||e.key==="ArrowDown"&&this._orientation==="vertical"?c=(n=u[l+1])!==null&&n!==void 0?n:u[0]:e.key==="ArrowLeft"&&this._orientation==="horizontal"||e.key==="ArrowUp"&&this._orientation==="vertical"?c=(i=u[l-1])!==null&&i!==void 0?i:u[u.length-1]:e.key==="Home"?c=u[0]:e.key==="End"&&(c=u[u.length-1]),c&&((o=u[l])===null||o===void 0||o.setAttribute("tabindex","-1"),c?.setAttribute("tabindex","0"),c.focus())}}}_evtPointerDown(e){if(e.button!==0&&e.button!==1||this._dragData||e.target.classList.contains("lm-TabBar-tabInput"))return;let n=this.addButtonEnabled&&this.addButtonNode.contains(e.target),i=this.contentNode.children,o=ArrayExt$4.findFirstIndex(i,l=>ElementExt$1.hitTest(l,e.clientX,e.clientY));if(o===-1&&!n||(e.preventDefault(),e.stopPropagation(),this._dragData={tab:i[o],index:o,pressX:e.clientX,pressY:e.clientY,tabPos:-1,tabSize:-1,tabPressPos:-1,targetIndex:-1,tabLayout:null,contentRect:null,override:null,dragActive:!1,dragAborted:!1,detachRequested:!1},this.document.addEventListener("pointerup",this,!0),e.button===1||n))return;let u=i[o].querySelector(this.renderer.closeIconSelector);u&&u.contains(e.target)||(this.tabsMovable&&(this.document.addEventListener("pointermove",this,!0),this.document.addEventListener("keydown",this,!0),this.document.addEventListener("contextmenu",this,!0)),this.allowDeselect&&this.currentIndex===o?this.currentIndex=-1:this.currentIndex=o,this.currentIndex!==-1&&this._tabActivateRequested.emit({index:this.currentIndex,title:this.currentTitle}))}_evtPointerMove(e){let n=this._dragData;if(!n)return;e.preventDefault(),e.stopPropagation();let i=this.contentNode.children;if(!(!n.dragActive&&!Private$7$5.dragExceeded(n,e))){if(!n.dragActive){let o=n.tab.getBoundingClientRect();this._orientation==="horizontal"?(n.tabPos=n.tab.offsetLeft,n.tabSize=o.width,n.tabPressPos=n.pressX-o.left):(n.tabPos=n.tab.offsetTop,n.tabSize=o.height,n.tabPressPos=n.pressY-o.top),n.tabPressOffset={x:n.pressX-o.left,y:n.pressY-o.top},n.tabLayout=Private$7$5.snapTabLayout(i,this._orientation),n.contentRect=this.contentNode.getBoundingClientRect(),n.override=Drag$5.overrideCursor("default"),n.tab.classList.add("lm-mod-dragging"),this.addClass("lm-mod-dragging"),n.dragActive=!0}if(!n.detachRequested&&Private$7$5.detachExceeded(n,e)){n.detachRequested=!0;let o=n.index,u=e.clientX,l=e.clientY,c=i[o],f=this._titles[o];if(this._tabDetachRequested.emit({index:o,title:f,tab:c,clientX:u,clientY:l,offset:n.tabPressOffset}),n.dragAborted)return}Private$7$5.layoutTabs(i,n,e,this._orientation)}}_evtPointerUp(e){if(e.button!==0&&e.button!==1)return;const n=this._dragData;if(!n)return;if(e.preventDefault(),e.stopPropagation(),this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),!n.dragActive){if(this._dragData=null,this.addButtonEnabled&&this.addButtonNode.contains(e.target)){this._addRequested.emit(void 0);return}let u=this.contentNode.children,l=ArrayExt$4.findFirstIndex(u,d=>ElementExt$1.hitTest(d,e.clientX,e.clientY));if(l!==n.index)return;let c=this._titles[l];if(!c.closable)return;if(e.button===1){this._tabCloseRequested.emit({index:l,title:c});return}let f=u[l].querySelector(this.renderer.closeIconSelector);if(f&&f.contains(e.target)){this._tabCloseRequested.emit({index:l,title:c});return}return}if(e.button!==0)return;Private$7$5.finalizeTabPosition(n,this._orientation),n.tab.classList.remove("lm-mod-dragging");let i=Private$7$5.parseTransitionDuration(n.tab);setTimeout(()=>{if(n.dragAborted)return;this._dragData=null,Private$7$5.resetTabPositions(this.contentNode.children,this._orientation),n.override.dispose(),this.removeClass("lm-mod-dragging");let o=n.index,u=n.targetIndex;u===-1||o===u||(ArrayExt$4.move(this._titles,o,u),this._adjustCurrentForMove(o,u),this._tabMoved.emit({fromIndex:o,toIndex:u,title:this._titles[u]}),MessageLoop$6.sendMessage(this,Widget$5.Msg.UpdateRequest))},i)}_releaseMouse(){let e=this._dragData;e&&(this._dragData=null,this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),e.dragAborted=!0,e.dragActive&&(Private$7$5.resetTabPositions(this.contentNode.children,this._orientation),e.override.dispose(),e.tab.classList.remove("lm-mod-dragging"),this.removeClass("lm-mod-dragging")))}_adjustCurrentForInsert(e,n){let i=this.currentTitle,o=this._currentIndex,u=this.insertBehavior;if(u==="select-tab"||u==="select-tab-if-needed"&&o===-1){this._currentIndex=e,this._previousTitle=i,this._currentChanged.emit({previousIndex:o,previousTitle:i,currentIndex:e,currentTitle:n});return}o>=e&&this._currentIndex++}_adjustCurrentForMove(e,n){this._currentIndex===e?this._currentIndex=n:this._currentIndex<e&&this._currentIndex>=n?this._currentIndex++:this._currentIndex>e&&this._currentIndex<=n&&this._currentIndex--}_adjustCurrentForRemove(e,n){let i=this._currentIndex,o=this.removeBehavior;if(i!==e){i>e&&this._currentIndex--;return}if(this._titles.length===0){this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:n,currentIndex:-1,currentTitle:null});return}if(o==="select-tab-after"){this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:n,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(o==="select-tab-before"){this._currentIndex=Math.max(0,e-1),this._currentChanged.emit({previousIndex:e,previousTitle:n,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(o==="select-previous-tab"){this._previousTitle?(this._currentIndex=this._titles.indexOf(this._previousTitle),this._previousTitle=null):this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:n,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:n,currentIndex:-1,currentTitle:null})}_onTitleChanged(e){this.update()}};(function(t){class e{constructor(){this.closeIconSelector=".lm-TabBar-tabCloseIcon",this._tabID=0,this._tabKeys=new WeakMap,this._uuid=++e._nInstance}renderTab(i){let o=i.title.caption,u=this.createTabKey(i),l=u,c=this.createTabStyle(i),f=this.createTabClass(i),d=this.createTabDataset(i),m=this.createTabARIA(i);return i.title.closable?h$2.li({id:l,key:u,className:f,title:o,style:c,dataset:d,...m},this.renderIcon(i),this.renderLabel(i),this.renderCloseIcon(i)):h$2.li({id:l,key:u,className:f,title:o,style:c,dataset:d,...m},this.renderIcon(i),this.renderLabel(i))}renderIcon(i){const{title:o}=i;let u=this.createIconClass(i);return h$2.div({className:u},o.icon,o.iconLabel)}renderLabel(i){return h$2.div({className:"lm-TabBar-tabLabel"},i.title.label)}renderCloseIcon(i){return h$2.div({className:"lm-TabBar-tabCloseIcon"})}createTabKey(i){let o=this._tabKeys.get(i.title);return o===void 0&&(o=`tab-key-${this._uuid}-${this._tabID++}`,this._tabKeys.set(i.title,o)),o}createTabStyle(i){return{zIndex:`${i.zIndex}`}}createTabClass(i){let o="lm-TabBar-tab";return i.title.className&&(o+=` ${i.title.className}`),i.title.closable&&(o+=" lm-mod-closable"),i.current&&(o+=" lm-mod-current"),o}createTabDataset(i){return i.title.dataset}createTabARIA(i){var o;return{role:"tab","aria-selected":i.current.toString(),tabindex:`${(o=i.tabIndex)!==null&&o!==void 0?o:"-1"}`}}createIconClass(i){let o="lm-TabBar-tabIcon",u=i.title.iconClass;return u?`${o} ${u}`:o}}e._nInstance=0,t.Renderer=e,t.defaultRenderer=new e,t.addButtonSelector=".lm-TabBar-addButton"})(TabBar$5||(TabBar$5={}));var Private$7$5;(function(t){t.DRAG_THRESHOLD=5,t.DETACH_THRESHOLD=20;function e(){let m=document.createElement("div"),g=document.createElement("ul");g.setAttribute("role","tablist"),g.className="lm-TabBar-content",m.appendChild(g);let v=document.createElement("div");return v.className="lm-TabBar-addButton lm-mod-hidden",v.setAttribute("tabindex","-1"),v.setAttribute("role","button"),m.appendChild(v),m}t.createNode=e;function n(m){return m instanceof Title$5?m:new Title$5(m)}t.asTitle=n;function i(m){let g=window.getComputedStyle(m);return 1e3*(parseFloat(g.transitionDuration)||0)}t.parseTransitionDuration=i;function o(m,g){let v=new Array(m.length);for(let y=0,w=m.length;y<w;++y){let T=m[y],P=window.getComputedStyle(T);g==="horizontal"?v[y]={pos:T.offsetLeft,size:T.offsetWidth,margin:parseFloat(P.marginLeft)||0}:v[y]={pos:T.offsetTop,size:T.offsetHeight,margin:parseFloat(P.marginTop)||0}}return v}t.snapTabLayout=o;function u(m,g){let v=Math.abs(g.clientX-m.pressX),y=Math.abs(g.clientY-m.pressY);return v>=t.DRAG_THRESHOLD||y>=t.DRAG_THRESHOLD}t.dragExceeded=u;function l(m,g){let v=m.contentRect;return g.clientX<v.left-t.DETACH_THRESHOLD||g.clientX>=v.right+t.DETACH_THRESHOLD||g.clientY<v.top-t.DETACH_THRESHOLD||g.clientY>=v.bottom+t.DETACH_THRESHOLD}t.detachExceeded=l;function c(m,g,v,y){let w,T,P,A;y==="horizontal"?(w=g.pressX,T=v.clientX-g.contentRect.left,P=v.clientX,A=g.contentRect.width):(w=g.pressY,T=v.clientY-g.contentRect.top,P=v.clientY,A=g.contentRect.height);let D=g.index,k=T-g.tabPressPos,j=k+g.tabSize;for(let B=0,Z=m.length;B<Z;++B){let R,G=g.tabLayout[B],F=G.pos+(G.size>>1);if(B<g.index&&k<F)R=`${g.tabSize+g.tabLayout[B+1].margin}px`,D=Math.min(D,B);else if(B>g.index&&j>F)R=`${-g.tabSize-G.margin}px`,D=Math.max(D,B);else if(B===g.index){let K=P-w,Q=A-(g.tabPos+g.tabSize);R=`${Math.max(-g.tabPos,Math.min(K,Q))}px`}else R="";y==="horizontal"?m[B].style.left=R:m[B].style.top=R}g.targetIndex=D}t.layoutTabs=c;function f(m,g){let v;g==="horizontal"?v=m.contentRect.width:v=m.contentRect.height;let y;if(m.targetIndex===m.index)y=0;else if(m.targetIndex>m.index){let P=m.tabLayout[m.targetIndex];y=P.pos+P.size-m.tabSize-m.tabPos}else y=m.tabLayout[m.targetIndex].pos-m.tabPos;let w=v-(m.tabPos+m.tabSize),T=Math.max(-m.tabPos,Math.min(y,w));g==="horizontal"?m.tab.style.left=`${T}px`:m.tab.style.top=`${T}px`}t.finalizeTabPosition=f;function d(m,g){for(const v of m)g==="horizontal"?v.style.left="":v.style.top=""}t.resetTabPositions=d})(Private$7$5||(Private$7$5={}));let DockLayout$5=class extends Layout$5{constructor(e){super(),this._spacing=4,this._dirty=!1,this._root=null,this._box=null,this._items=new Map,this.renderer=e.renderer,e.spacing!==void 0&&(this._spacing=Utils$1$5.clampDimension(e.spacing)),this._document=e.document||document,this._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:Widget$5.HiddenMode.Display}dispose(){let e=this[Symbol.iterator]();this._items.forEach(n=>{n.dispose()}),this._box=null,this._root=null,this._items.clear();for(const n of e)n.dispose();super.dispose()}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){if(this._hiddenMode!==e){this._hiddenMode=e;for(const n of this.tabBars())if(n.titles.length>1)for(const i of n.titles)i.owner.hiddenMode=this._hiddenMode}}get spacing(){return this._spacing}set spacing(e){e=Utils$1$5.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get isEmpty(){return this._root===null}[Symbol.iterator](){return this._root?this._root.iterAllWidgets():empty$a()}widgets(){return this._root?this._root.iterUserWidgets():empty$a()}selectedWidgets(){return this._root?this._root.iterSelectedWidgets():empty$a()}tabBars(){return this._root?this._root.iterTabBars():empty$a()}handles(){return this._root?this._root.iterHandles():empty$a()}moveHandle(e,n,i){let o=e.classList.contains("lm-mod-hidden");if(!this._root||o)return;let u=this._root.findSplitNode(e);if(!u)return;let l;u.node.orientation==="horizontal"?l=n-e.offsetLeft:l=i-e.offsetTop,l!==0&&(u.node.holdSizes(),BoxEngine$5.adjust(u.node.sizers,u.index,l),this.parent&&this.parent.update())}saveLayout(){return this._root?(this._root.holdAllSizes(),{main:this._root.createConfig()}):{main:null}}restoreLayout(e){let n=new Set,i;e.main?i=Private$6$5.normalizeAreaConfig(e.main,n):i=null;let o=this.widgets(),u=this.tabBars(),l=this.handles();this._root=null;for(const c of o)n.has(c)||(c.parent=null);for(const c of u)c.dispose();for(const c of l)c.parentNode&&c.parentNode.removeChild(c);for(const c of n)c.parent=this.parent;i?this._root=Private$6$5.realizeAreaConfig(i,{createTabBar:c=>this._createTabBar(),createHandle:()=>this._createHandle()},this._document):this._root=null,this.parent&&(n.forEach(c=>{this.attachWidget(c)}),this.parent.fit())}addWidget(e,n={}){let i=n.ref||null,o=n.mode||"tab-after",u=null;if(this._root&&i&&(u=this._root.findTabNode(i)),i&&!u)throw new Error("Reference widget is not in the layout.");switch(e.parent=this.parent,o){case"tab-after":this._insertTab(e,i,u,!0);break;case"tab-before":this._insertTab(e,i,u,!1);break;case"split-top":this._insertSplit(e,i,u,"vertical",!1);break;case"split-left":this._insertSplit(e,i,u,"horizontal",!1);break;case"split-right":this._insertSplit(e,i,u,"horizontal",!0);break;case"split-bottom":this._insertSplit(e,i,u,"vertical",!0);break;case"merge-top":this._insertSplit(e,i,u,"vertical",!1,!0);break;case"merge-left":this._insertSplit(e,i,u,"horizontal",!1,!0);break;case"merge-right":this._insertSplit(e,i,u,"horizontal",!0,!0);break;case"merge-bottom":this._insertSplit(e,i,u,"vertical",!0,!0);break}this.parent&&(this.attachWidget(e),this.parent.fit())}removeWidget(e){this._removeWidget(e),this.parent&&(this.detachWidget(e),this.parent.fit())}hitTestTabAreas(e,n){if(!this._root||!this.parent||!this.parent.isVisible)return null;this._box||(this._box=ElementExt$1.boxSizing(this.parent.node));let i=this.parent.node.getBoundingClientRect(),o=e-i.left-this._box.borderLeft,u=n-i.top-this._box.borderTop,l=this._root.hitTestTabNodes(o,u);if(!l)return null;let{tabBar:c,top:f,left:d,width:m,height:g}=l,v=this._box.borderLeft+this._box.borderRight,y=this._box.borderTop+this._box.borderBottom,w=i.width-v-(d+m),T=i.height-y-(f+g);return{tabBar:c,x:o,y:u,top:f,left:d,right:w,bottom:T,width:m,height:g}}init(){super.init();for(const e of this)this.attachWidget(e);for(const e of this.handles())this.parent.node.appendChild(e);this.parent.fit()}attachWidget(e){this.parent.node!==e.node.parentNode&&(this._items.set(e,new LayoutItem$5(e)),this.parent.isAttached&&MessageLoop$6.sendMessage(e,Widget$5.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&MessageLoop$6.sendMessage(e,Widget$5.Msg.AfterAttach))}detachWidget(e){if(this.parent.node!==e.node.parentNode)return;this.parent.isAttached&&MessageLoop$6.sendMessage(e,Widget$5.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&MessageLoop$6.sendMessage(e,Widget$5.Msg.AfterDetach);let n=this._items.get(e);n&&(this._items.delete(e),n.dispose())}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_removeWidget(e){if(!this._root)return;let n=this._root.findTabNode(e);if(!n)return;if(Private$6$5.removeAria(e),n.tabBar.titles.length>1){if(n.tabBar.removeTab(e.title),this._hiddenMode===Widget$5.HiddenMode.Scale&&n.tabBar.titles.length==1){const v=n.tabBar.titles[0].owner;v.hiddenMode=Widget$5.HiddenMode.Display}return}if(n.tabBar.dispose(),this._root===n){this._root=null;return}this._root.holdAllSizes();let i=n.parent;n.parent=null;let o=ArrayExt$4.removeFirstOf(i.children,n),u=ArrayExt$4.removeAt(i.handles,o);if(ArrayExt$4.removeAt(i.sizers,o),u.parentNode&&u.parentNode.removeChild(u),i.children.length>1){i.syncHandles();return}let l=i.parent;i.parent=null;let c=i.children[0],f=i.handles[0];if(i.children.length=0,i.handles.length=0,i.sizers.length=0,f.parentNode&&f.parentNode.removeChild(f),this._root===i){c.parent=null,this._root=c;return}let d=l,m=d.children.indexOf(i);if(c instanceof Private$6$5.TabLayoutNode){c.parent=d,d.children[m]=c;return}let g=ArrayExt$4.removeAt(d.handles,m);ArrayExt$4.removeAt(d.children,m),ArrayExt$4.removeAt(d.sizers,m),g.parentNode&&g.parentNode.removeChild(g);for(let v=0,y=c.children.length;v<y;++v){let w=c.children[v],T=c.handles[v],P=c.sizers[v];ArrayExt$4.insert(d.children,m+v,w),ArrayExt$4.insert(d.handles,m+v,T),ArrayExt$4.insert(d.sizers,m+v,P),w.parent=d}c.children.length=0,c.handles.length=0,c.sizers.length=0,c.parent=null,d.syncHandles()}_createTabNode(e){let n=new Private$6$5.TabLayoutNode(this._createTabBar());return n.tabBar.addTab(e.title),Private$6$5.addAria(e,n.tabBar),n}_insertTab(e,n,i,o){if(e===n)return;if(!this._root){let l=new Private$6$5.TabLayoutNode(this._createTabBar());l.tabBar.addTab(e.title),this._root=l,Private$6$5.addAria(e,l.tabBar);return}i||(i=this._root.findFirstTabNode()),i.tabBar.titles.indexOf(e.title)===-1&&(this._removeWidget(e),e.hide());let u;if(n?u=i.tabBar.titles.indexOf(n.title):u=i.tabBar.currentIndex,this._hiddenMode===Widget$5.HiddenMode.Scale)if(i.tabBar.titles.length===0)e.hiddenMode=Widget$5.HiddenMode.Display;else if(i.tabBar.titles.length==1){const l=i.tabBar.titles[0].owner;l.hiddenMode=Widget$5.HiddenMode.Scale}else e.hiddenMode=Widget$5.HiddenMode.Scale;else e.hiddenMode=this._hiddenMode;i.tabBar.insertTab(u+(o?1:0),e.title),Private$6$5.addAria(e,i.tabBar)}_insertSplit(e,n,i,o,u,l=!1){if(e===n&&i&&i.tabBar.titles.length===1)return;if(this._removeWidget(e),!this._root){this._root=this._createTabNode(e);return}if(!i||!i.parent){let v=this._splitRoot(o),y=u?v.children.length:0;v.normalizeSizes();let w=Private$6$5.createSizer(i?1:Private$6$5.GOLDEN_RATIO),T=this._createTabNode(e);ArrayExt$4.insert(v.children,y,T),ArrayExt$4.insert(v.sizers,y,w),ArrayExt$4.insert(v.handles,y,this._createHandle()),T.parent=v,v.normalizeSizes(),v.syncHandles();return}let c=i.parent;if(c.orientation===o){let v=c.children.indexOf(i);if(l){let P=v+(u?1:-1),A=c.children[P];if(A instanceof Private$6$5.TabLayoutNode){this._insertTab(e,null,A,!0),++A.tabBar.currentIndex;return}}c.normalizeSizes();let y=c.sizers[v].sizeHint/=2,w=v+(u?1:0),T=this._createTabNode(e);ArrayExt$4.insert(c.children,w,T),ArrayExt$4.insert(c.sizers,w,Private$6$5.createSizer(y)),ArrayExt$4.insert(c.handles,w,this._createHandle()),T.parent=c,c.syncHandles();return}let f=ArrayExt$4.removeFirstOf(c.children,i),d=new Private$6$5.SplitLayoutNode(o);d.normalized=!0,d.children.push(i),d.sizers.push(Private$6$5.createSizer(.5)),d.handles.push(this._createHandle()),i.parent=d;let m=u?1:0,g=this._createTabNode(e);ArrayExt$4.insert(d.children,m,g),ArrayExt$4.insert(d.sizers,m,Private$6$5.createSizer(.5)),ArrayExt$4.insert(d.handles,m,this._createHandle()),g.parent=d,d.syncHandles(),ArrayExt$4.insert(c.children,f,d),d.parent=c}_splitRoot(e){let n=this._root;if(n instanceof Private$6$5.SplitLayoutNode&&n.orientation===e)return n;let i=this._root=new Private$6$5.SplitLayoutNode(e);return n&&(i.children.push(n),i.sizers.push(Private$6$5.createSizer(0)),i.handles.push(this._createHandle()),n.parent=i),i}_fit(){let e=0,n=0;if(this._root){let u=this._root.fit(this._spacing,this._items);e=u.minWidth,n=u.minHeight}let i=this._box=ElementExt$1.boxSizing(this.parent.node);e+=i.horizontalSum,n+=i.verticalSum;let o=this.parent.node.style;o.minWidth=`${e}px`,o.minHeight=`${n}px`,this._dirty=!0,this.parent.parent&&MessageLoop$6.sendMessage(this.parent.parent,Widget$5.Msg.FitRequest),this._dirty&&MessageLoop$6.sendMessage(this.parent,Widget$5.Msg.UpdateRequest)}_update(e,n){if(this._dirty=!1,!this._root)return;e<0&&(e=this.parent.node.offsetWidth),n<0&&(n=this.parent.node.offsetHeight),this._box||(this._box=ElementExt$1.boxSizing(this.parent.node));let i=this._box.paddingTop,o=this._box.paddingLeft,u=e-this._box.horizontalSum,l=n-this._box.verticalSum;this._root.update(i,o,u,l,this._spacing,this._items)}_createTabBar(){let e=this.renderer.createTabBar(this._document);return e.orientation="horizontal",this.parent&&this.attachWidget(e),e}_createHandle(){let e=this.renderer.createHandle(),n=e.style;return n.position="absolute",n.contain="strict",n.top="0",n.left="0",n.width="0",n.height="0",this.parent&&this.parent.node.appendChild(e),e}};var Private$6$5;(function(t){t.GOLDEN_RATIO=.618;function e(v){let y=new BoxSizer$5;return y.sizeHint=v,y.size=v,y}t.createSizer=e;function n(v,y){let w;return v.type==="tab-area"?w=f(v,y):w=d(v,y),w}t.normalizeAreaConfig=n;function i(v,y,w){let T;return v.type==="tab-area"?T=m(v,y,w):T=g(v,y,w),T}t.realizeAreaConfig=i;class o{constructor(y){this.parent=null,this._top=0,this._left=0,this._width=0,this._height=0;let w=new BoxSizer$5,T=new BoxSizer$5;w.stretch=0,T.stretch=1,this.tabBar=y,this.sizers=[w,T]}get top(){return this._top}get left(){return this._left}get width(){return this._width}get height(){return this._height}*iterAllWidgets(){yield this.tabBar,yield*this.iterUserWidgets()}*iterUserWidgets(){for(const y of this.tabBar.titles)yield y.owner}*iterSelectedWidgets(){let y=this.tabBar.currentTitle;y&&(yield y.owner)}*iterTabBars(){yield this.tabBar}*iterHandles(){}findTabNode(y){return this.tabBar.titles.indexOf(y.title)!==-1?this:null}findSplitNode(y){return null}findFirstTabNode(){return this}hitTestTabNodes(y,w){return y<this._left||y>=this._left+this._width||w<this._top||w>=this._top+this._height?null:this}createConfig(){let y=this.tabBar.titles.map(T=>T.owner),w=this.tabBar.currentIndex;return{type:"tab-area",widgets:y,currentIndex:w}}holdAllSizes(){}fit(y,w){let T=0,P=0,A=1/0,D=1/0,k=w.get(this.tabBar),j=this.tabBar.currentTitle,B=j?w.get(j.owner):void 0,[Z,R]=this.sizers;return k&&k.fit(),B&&B.fit(),k&&!k.isHidden?(T=Math.max(T,k.minWidth),P+=k.minHeight,Z.minSize=k.minHeight,Z.maxSize=k.maxHeight):(Z.minSize=0,Z.maxSize=0),B&&!B.isHidden?(T=Math.max(T,B.minWidth),P+=B.minHeight,R.minSize=B.minHeight,R.maxSize=1/0):(R.minSize=0,R.maxSize=1/0),{minWidth:T,minHeight:P,maxWidth:A,maxHeight:D}}update(y,w,T,P,A,D){this._top=w,this._left=y,this._width=T,this._height=P;let k=D.get(this.tabBar),j=this.tabBar.currentTitle,B=j?D.get(j.owner):void 0;if(BoxEngine$5.calc(this.sizers,P),k&&!k.isHidden){let Z=this.sizers[0].size;k.update(y,w,T,Z),w+=Z}if(B&&!B.isHidden){let Z=this.sizers[1].size;B.update(y,w,T,Z)}}}t.TabLayoutNode=o;class u{constructor(y){this.parent=null,this.normalized=!1,this.children=[],this.sizers=[],this.handles=[],this.orientation=y}*iterAllWidgets(){for(const y of this.children)yield*y.iterAllWidgets()}*iterUserWidgets(){for(const y of this.children)yield*y.iterUserWidgets()}*iterSelectedWidgets(){for(const y of this.children)yield*y.iterSelectedWidgets()}*iterTabBars(){for(const y of this.children)yield*y.iterTabBars()}*iterHandles(){yield*this.handles;for(const y of this.children)yield*y.iterHandles()}findTabNode(y){for(let w=0,T=this.children.length;w<T;++w){let P=this.children[w].findTabNode(y);if(P)return P}return null}findSplitNode(y){let w=this.handles.indexOf(y);if(w!==-1)return{index:w,node:this};for(let T=0,P=this.children.length;T<P;++T){let A=this.children[T].findSplitNode(y);if(A)return A}return null}findFirstTabNode(){return this.children.length===0?null:this.children[0].findFirstTabNode()}hitTestTabNodes(y,w){for(let T=0,P=this.children.length;T<P;++T){let A=this.children[T].hitTestTabNodes(y,w);if(A)return A}return null}createConfig(){let y=this.orientation,w=this.createNormalizedSizes(),T=this.children.map(P=>P.createConfig());return{type:"split-area",orientation:y,children:T,sizes:w}}syncHandles(){this.handles.forEach((y,w)=>{y.setAttribute("data-orientation",this.orientation),w===this.handles.length-1?y.classList.add("lm-mod-hidden"):y.classList.remove("lm-mod-hidden")})}holdSizes(){for(const y of this.sizers)y.sizeHint=y.size}holdAllSizes(){for(const y of this.children)y.holdAllSizes();this.holdSizes()}normalizeSizes(){let y=this.sizers.length;if(y===0)return;this.holdSizes();let w=this.sizers.reduce((T,P)=>T+P.sizeHint,0);if(w===0)for(const T of this.sizers)T.size=T.sizeHint=1/y;else for(const T of this.sizers)T.size=T.sizeHint/=w;this.normalized=!0}createNormalizedSizes(){let y=this.sizers.length;if(y===0)return[];let w=this.sizers.map(P=>P.size),T=w.reduce((P,A)=>P+A,0);if(T===0)for(let P=w.length-1;P>-1;P--)w[P]=1/y;else for(let P=w.length-1;P>-1;P--)w[P]/=T;return w}fit(y,w){let T=this.orientation==="horizontal",P=Math.max(0,this.children.length-1)*y,A=T?P:0,D=T?0:P,k=1/0,j=1/0;for(let B=0,Z=this.children.length;B<Z;++B){let R=this.children[B].fit(y,w);T?(D=Math.max(D,R.minHeight),A+=R.minWidth,this.sizers[B].minSize=R.minWidth):(A=Math.max(A,R.minWidth),D+=R.minHeight,this.sizers[B].minSize=R.minHeight)}return{minWidth:A,minHeight:D,maxWidth:k,maxHeight:j}}update(y,w,T,P,A,D){let k=this.orientation==="horizontal",j=Math.max(0,this.children.length-1)*A,B=Math.max(0,(k?T:P)-j);if(this.normalized){for(const Z of this.sizers)Z.sizeHint*=B;this.normalized=!1}BoxEngine$5.calc(this.sizers,B);for(let Z=0,R=this.children.length;Z<R;++Z){let G=this.children[Z],F=this.sizers[Z].size,K=this.handles[Z].style;k?(G.update(y,w,F,P,A,D),y+=F,K.top=`${w}px`,K.left=`${y}px`,K.width=`${A}px`,K.height=`${P}px`,y+=A):(G.update(y,w,T,F,A,D),w+=F,K.top=`${w}px`,K.left=`${y}px`,K.width=`${T}px`,K.height=`${A}px`,w+=A)}}}t.SplitLayoutNode=u;function l(v,y){v.node.setAttribute("role","tabpanel");let w=y.renderer;if(w instanceof TabBar$5.Renderer){let T=w.createTabKey({title:v.title,current:!1,zIndex:0});v.node.setAttribute("aria-labelledby",T)}}t.addAria=l;function c(v){v.node.removeAttribute("role"),v.node.removeAttribute("aria-labelledby")}t.removeAria=c;function f(v,y){if(v.widgets.length===0)return null;let w=[];for(const P of v.widgets)y.has(P)||(y.add(P),w.push(P));if(w.length===0)return null;let T=v.currentIndex;return T!==-1&&(T<0||T>=w.length)&&(T=0),{type:"tab-area",widgets:w,currentIndex:T}}function d(v,y){let w=v.orientation,T=[],P=[];for(let A=0,D=v.children.length;A<D;++A){let k=n(v.children[A],y);k&&(k.type==="tab-area"||k.orientation!==w?(T.push(k),P.push(Math.abs(v.sizes[A]||0))):(T.push(...k.children),P.push(...k.sizes)))}return T.length===0?null:T.length===1?T[0]:{type:"split-area",orientation:w,children:T,sizes:P}}function m(v,y,w){let T=y.createTabBar(w);for(const P of v.widgets)P.hide(),T.addTab(P.title),t.addAria(P,T);return T.currentIndex=v.currentIndex,new o(T)}function g(v,y,w){let T=new u(v.orientation);return v.children.forEach((P,A)=>{let D=i(P,y,w),k=e(v.sizes[A]),j=y.createHandle();T.children.push(D),T.handles.push(j),T.sizers.push(k),D.parent=T}),T.syncHandles(),T.normalizeSizes(),T}})(Private$6$5||(Private$6$5={}));let DockPanel$5=class Yc extends Widget$5{constructor(e={}){super(),this._drag=null,this._tabsMovable=!0,this._tabsConstrained=!1,this._addButtonEnabled=!1,this._pressData=null,this._layoutModified=new Signal$2(this),this._addRequested=new Signal$2(this),this.addClass("lm-DockPanel"),this._document=e.document||document,this._mode=e.mode||"multiple-document",this._renderer=e.renderer||Yc.defaultRenderer,this._edges=e.edges||Private$5$5.DEFAULT_EDGES,e.tabsMovable!==void 0&&(this._tabsMovable=e.tabsMovable),e.tabsConstrained!==void 0&&(this._tabsConstrained=e.tabsConstrained),e.addButtonEnabled!==void 0&&(this._addButtonEnabled=e.addButtonEnabled),this.dataset.mode=this._mode;let n={createTabBar:()=>this._createTabBar(),createHandle:()=>this._createHandle()};this.layout=new DockLayout$5({document:this._document,renderer:n,spacing:e.spacing,hiddenMode:e.hiddenMode}),this.overlay=e.overlay||new Yc.Overlay,this.node.appendChild(this.overlay.node)}dispose(){this._releaseMouse(),this.overlay.hide(0),this._drag&&this._drag.dispose(),super.dispose()}get hiddenMode(){return this.layout.hiddenMode}set hiddenMode(e){this.layout.hiddenMode=e}get layoutModified(){return this._layoutModified}get addRequested(){return this._addRequested}get renderer(){return this.layout.renderer}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get mode(){return this._mode}set mode(e){if(this._mode===e)return;this._mode=e,this.dataset.mode=e;let n=this.layout;switch(e){case"multiple-document":for(const i of n.tabBars())i.show();break;case"single-document":n.restoreLayout(Private$5$5.createSingleDocumentConfig(this));break;default:throw"unreachable"}MessageLoop$6.postMessage(this,Private$5$5.LayoutModified)}get tabsMovable(){return this._tabsMovable}set tabsMovable(e){this._tabsMovable=e;for(const n of this.tabBars())n.tabsMovable=e}get tabsConstrained(){return this._tabsConstrained}set tabsConstrained(e){this._tabsConstrained=e}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled=e;for(const n of this.tabBars())n.addButtonEnabled=e}get isEmpty(){return this.layout.isEmpty}*widgets(){yield*this.layout.widgets()}*selectedWidgets(){yield*this.layout.selectedWidgets()}*tabBars(){yield*this.layout.tabBars()}*handles(){yield*this.layout.handles()}selectWidget(e){let n=find$4(this.tabBars(),i=>i.titles.indexOf(e.title)!==-1);if(!n)throw new Error("Widget is not contained in the dock panel.");n.currentTitle=e.title}activateWidget(e){this.selectWidget(e),e.activate()}saveLayout(){return this.layout.saveLayout()}restoreLayout(e){this._mode="multiple-document",this.layout.restoreLayout(e),(Platform$1.IS_EDGE||Platform$1.IS_IE)&&MessageLoop$6.flush(),MessageLoop$6.postMessage(this,Private$5$5.LayoutModified)}addWidget(e,n={}){this._mode==="single-document"?this.layout.addWidget(e):this.layout.addWidget(e,n),MessageLoop$6.postMessage(this,Private$5$5.LayoutModified)}processMessage(e){e.type==="layout-modified"?this._layoutModified.emit(void 0):super.processMessage(e)}handleEvent(e){switch(e.type){case"lm-dragenter":this._evtDragEnter(e);break;case"lm-dragleave":this._evtDragLeave(e);break;case"lm-dragover":this._evtDragOver(e);break;case"lm-drop":this._evtDrop(e);break;case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("lm-dragenter",this),this.node.addEventListener("lm-dragleave",this),this.node.addEventListener("lm-dragover",this),this.node.addEventListener("lm-drop",this),this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("lm-dragenter",this),this.node.removeEventListener("lm-dragleave",this),this.node.removeEventListener("lm-dragover",this),this.node.removeEventListener("lm-drop",this),this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){Private$5$5.isGeneratedTabBarProperty.get(e.child)||e.child.addClass("lm-DockPanel-widget")}onChildRemoved(e){Private$5$5.isGeneratedTabBarProperty.get(e.child)||(e.child.removeClass("lm-DockPanel-widget"),MessageLoop$6.postMessage(this,Private$5$5.LayoutModified))}_evtDragEnter(e){e.mimeData.hasData("application/vnd.lumino.widget-factory")&&(e.preventDefault(),e.stopPropagation())}_evtDragLeave(e){e.preventDefault(),!(this._tabsConstrained&&e.source!==this)&&(e.stopPropagation(),this.overlay.hide(1))}_evtDragOver(e){e.preventDefault(),this._tabsConstrained&&e.source!==this||this._showOverlay(e.clientX,e.clientY)==="invalid"?e.dropAction="none":(e.stopPropagation(),e.dropAction=e.proposedAction)}_evtDrop(e){if(e.preventDefault(),this.overlay.hide(0),e.proposedAction==="none"){e.dropAction="none";return}let{clientX:n,clientY:i}=e,{zone:o,target:u}=Private$5$5.findDropTarget(this,n,i,this._edges);if(this._tabsConstrained&&e.source!==this||o==="invalid"){e.dropAction="none";return}let c=e.mimeData.getData("application/vnd.lumino.widget-factory");if(typeof c!="function"){e.dropAction="none";return}let f=c();if(!(f instanceof Widget$5)){e.dropAction="none";return}if(f.contains(this)){e.dropAction="none";return}let d=u?Private$5$5.getDropRef(u.tabBar):null;switch(o){case"root-all":this.addWidget(f);break;case"root-top":this.addWidget(f,{mode:"split-top"});break;case"root-left":this.addWidget(f,{mode:"split-left"});break;case"root-right":this.addWidget(f,{mode:"split-right"});break;case"root-bottom":this.addWidget(f,{mode:"split-bottom"});break;case"widget-all":this.addWidget(f,{mode:"tab-after",ref:d});break;case"widget-top":this.addWidget(f,{mode:"split-top",ref:d});break;case"widget-left":this.addWidget(f,{mode:"split-left",ref:d});break;case"widget-right":this.addWidget(f,{mode:"split-right",ref:d});break;case"widget-bottom":this.addWidget(f,{mode:"split-bottom",ref:d});break;case"widget-tab":this.addWidget(f,{mode:"tab-after",ref:d});break;default:throw"unreachable"}e.dropAction=e.proposedAction,e.stopPropagation(),this.activateWidget(f)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&(this._releaseMouse(),MessageLoop$6.postMessage(this,Private$5$5.LayoutModified))}_evtPointerDown(e){if(e.button!==0)return;let n=this.layout,i=e.target,o=find$4(n.handles(),m=>m.contains(i));if(!o)return;e.preventDefault(),e.stopPropagation(),this._document.addEventListener("keydown",this,!0),this._document.addEventListener("pointerup",this,!0),this._document.addEventListener("pointermove",this,!0),this._document.addEventListener("contextmenu",this,!0);let u=o.getBoundingClientRect(),l=e.clientX-u.left,c=e.clientY-u.top,f=window.getComputedStyle(o),d=Drag$5.overrideCursor(f.cursor,this._document);this._pressData={handle:o,deltaX:l,deltaY:c,override:d}}_evtPointerMove(e){if(!this._pressData)return;e.preventDefault(),e.stopPropagation();let n=this.node.getBoundingClientRect(),i=e.clientX-n.left-this._pressData.deltaX,o=e.clientY-n.top-this._pressData.deltaY;this.layout.moveHandle(this._pressData.handle,i,o)}_evtPointerUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse(),MessageLoop$6.postMessage(this,Private$5$5.LayoutModified))}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._document.removeEventListener("keydown",this,!0),this._document.removeEventListener("pointerup",this,!0),this._document.removeEventListener("pointermove",this,!0),this._document.removeEventListener("contextmenu",this,!0))}_showOverlay(e,n){let{zone:i,target:o}=Private$5$5.findDropTarget(this,e,n,this._edges);if(i==="invalid")return this.overlay.hide(100),i;let u,l,c,f,d=ElementExt$1.boxSizing(this.node),m=this.node.getBoundingClientRect();switch(i){case"root-all":u=d.paddingTop,l=d.paddingLeft,c=d.paddingRight,f=d.paddingBottom;break;case"root-top":u=d.paddingTop,l=d.paddingLeft,c=d.paddingRight,f=m.height*Private$5$5.GOLDEN_RATIO;break;case"root-left":u=d.paddingTop,l=d.paddingLeft,c=m.width*Private$5$5.GOLDEN_RATIO,f=d.paddingBottom;break;case"root-right":u=d.paddingTop,l=m.width*Private$5$5.GOLDEN_RATIO,c=d.paddingRight,f=d.paddingBottom;break;case"root-bottom":u=m.height*Private$5$5.GOLDEN_RATIO,l=d.paddingLeft,c=d.paddingRight,f=d.paddingBottom;break;case"widget-all":u=o.top,l=o.left,c=o.right,f=o.bottom;break;case"widget-top":u=o.top,l=o.left,c=o.right,f=o.bottom+o.height/2;break;case"widget-left":u=o.top,l=o.left,c=o.right+o.width/2,f=o.bottom;break;case"widget-right":u=o.top,l=o.left+o.width/2,c=o.right,f=o.bottom;break;case"widget-bottom":u=o.top+o.height/2,l=o.left,c=o.right,f=o.bottom;break;case"widget-tab":{const g=o.tabBar.node.getBoundingClientRect().height;u=o.top,l=o.left,c=o.right,f=o.bottom+o.height-g;break}default:throw"unreachable"}return this.overlay.show({top:u,left:l,right:c,bottom:f}),i}_createTabBar(){let e=this._renderer.createTabBar(this._document);return Private$5$5.isGeneratedTabBarProperty.set(e,!0),this._mode==="single-document"&&e.hide(),e.tabsMovable=this._tabsMovable,e.allowDeselect=!1,e.addButtonEnabled=this._addButtonEnabled,e.removeBehavior="select-previous-tab",e.insertBehavior="select-tab-if-needed",e.tabMoved.connect(this._onTabMoved,this),e.currentChanged.connect(this._onCurrentChanged,this),e.tabCloseRequested.connect(this._onTabCloseRequested,this),e.tabDetachRequested.connect(this._onTabDetachRequested,this),e.tabActivateRequested.connect(this._onTabActivateRequested,this),e.addRequested.connect(this._onTabAddRequested,this),e}_createHandle(){return this._renderer.createHandle()}_onTabMoved(){MessageLoop$6.postMessage(this,Private$5$5.LayoutModified)}_onCurrentChanged(e,n){let{previousTitle:i,currentTitle:o}=n;i&&i.owner.hide(),o&&o.owner.show(),(Platform$1.IS_EDGE||Platform$1.IS_IE)&&MessageLoop$6.flush(),MessageLoop$6.postMessage(this,Private$5$5.LayoutModified)}_onTabAddRequested(e){this._addRequested.emit(e)}_onTabActivateRequested(e,n){n.title.owner.activate()}_onTabCloseRequested(e,n){n.title.owner.close()}_onTabDetachRequested(e,n){if(this._drag)return;e.releaseMouse();let{title:i,tab:o,clientX:u,clientY:l,offset:c}=n,f=new MimeData$1,d=()=>i.owner;f.setData("application/vnd.lumino.widget-factory",d);let m=o.cloneNode(!0);c&&(m.style.top=`-${c.y}px`,m.style.left=`-${c.x}px`),this._drag=new Drag$5({document:this._document,mimeData:f,dragImage:m,proposedAction:"move",supportedActions:"move",source:this}),o.classList.add("lm-mod-hidden");let g=()=>{this._drag=null,o.classList.remove("lm-mod-hidden")};this._drag.start(u,l).then(g)}};(function(t){class e{constructor(){this._timer=-1,this._hidden=!0,this.node=document.createElement("div"),this.node.classList.add("lm-DockPanel-overlay"),this.node.classList.add("lm-mod-hidden"),this.node.style.position="absolute",this.node.style.contain="strict"}show(o){let u=this.node.style;u.top=`${o.top}px`,u.left=`${o.left}px`,u.right=`${o.right}px`,u.bottom=`${o.bottom}px`,clearTimeout(this._timer),this._timer=-1,this._hidden&&(this._hidden=!1,this.node.classList.remove("lm-mod-hidden"))}hide(o){if(!this._hidden){if(o<=0){clearTimeout(this._timer),this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden");return}this._timer===-1&&(this._timer=window.setTimeout(()=>{this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden")},o))}}}t.Overlay=e;class n{createTabBar(o){let u=new TabBar$5({document:o});return u.addClass("lm-DockPanel-tabBar"),u}createHandle(){let o=document.createElement("div");return o.className="lm-DockPanel-handle",o}}t.Renderer=n,t.defaultRenderer=new n})(DockPanel$5||(DockPanel$5={}));var Private$5$5;(function(t){t.GOLDEN_RATIO=.618,t.DEFAULT_EDGES={top:12,right:40,bottom:40,left:40},t.LayoutModified=new ConflatableMessage$5("layout-modified"),t.isGeneratedTabBarProperty=new AttachedProperty$2({name:"isGeneratedTabBar",create:()=>!1});function e(o){if(o.isEmpty)return{main:null};let u=Array.from(o.widgets()),l=o.selectedWidgets().next().value,c=l?u.indexOf(l):-1;return{main:{type:"tab-area",widgets:u,currentIndex:c}}}t.createSingleDocumentConfig=e;function n(o,u,l,c){if(!ElementExt$1.hitTest(o.node,u,l))return{zone:"invalid",target:null};let f=o.layout;if(f.isEmpty)return{zone:"root-all",target:null};if(o.mode==="multiple-document"){let k=o.node.getBoundingClientRect(),j=u-k.left+1,B=l-k.top+1,Z=k.right-u,R=k.bottom-l;switch(Math.min(B,Z,R,j)){case B:if(B<c.top)return{zone:"root-top",target:null};break;case Z:if(Z<c.right)return{zone:"root-right",target:null};break;case R:if(R<c.bottom)return{zone:"root-bottom",target:null};break;case j:if(j<c.left)return{zone:"root-left",target:null};break;default:throw"unreachable"}}let d=f.hitTestTabAreas(u,l);if(!d)return{zone:"invalid",target:null};if(o.mode==="single-document")return{zone:"widget-all",target:d};let m=d.x-d.left+1,g=d.y-d.top+1,v=d.left+d.width-d.x,y=d.top+d.height-d.y;const w=d.tabBar.node.getBoundingClientRect().height;if(g<w)return{zone:"widget-tab",target:d};let T=Math.round(d.width/3),P=Math.round(d.height/3);if(m>T&&v>T&&g>P&&y>P)return{zone:"widget-all",target:d};m/=T,g/=P,v/=T,y/=P;let A=Math.min(m,g,v,y),D;switch(A){case m:D="widget-left";break;case g:D="widget-top";break;case v:D="widget-right";break;case y:D="widget-bottom";break;default:throw"unreachable"}return{zone:D,target:d}}t.findDropTarget=n;function i(o){return o.titles.length===0?null:o.currentTitle?o.currentTitle.owner:o.titles[o.titles.length-1].owner}t.getDropRef=i})(Private$5$5||(Private$5$5={}));let GridLayout$5=class Ku extends Layout$5{constructor(e={}){super(e),this._dirty=!1,this._rowSpacing=4,this._columnSpacing=4,this._items=[],this._rowStarts=[],this._columnStarts=[],this._rowSizers=[new BoxSizer$5],this._columnSizers=[new BoxSizer$5],this._box=null,e.rowCount!==void 0&&Private$4$5.reallocSizers(this._rowSizers,e.rowCount),e.columnCount!==void 0&&Private$4$5.reallocSizers(this._columnSizers,e.columnCount),e.rowSpacing!==void 0&&(this._rowSpacing=Private$4$5.clampValue(e.rowSpacing)),e.columnSpacing!==void 0&&(this._columnSpacing=Private$4$5.clampValue(e.columnSpacing))}dispose(){for(const e of this._items){let n=e.widget;e.dispose(),n.dispose()}this._box=null,this._items.length=0,this._rowStarts.length=0,this._rowSizers.length=0,this._columnStarts.length=0,this._columnSizers.length=0,super.dispose()}get rowCount(){return this._rowSizers.length}set rowCount(e){e!==this.rowCount&&(Private$4$5.reallocSizers(this._rowSizers,e),this.parent&&this.parent.fit())}get columnCount(){return this._columnSizers.length}set columnCount(e){e!==this.columnCount&&(Private$4$5.reallocSizers(this._columnSizers,e),this.parent&&this.parent.fit())}get rowSpacing(){return this._rowSpacing}set rowSpacing(e){e=Private$4$5.clampValue(e),this._rowSpacing!==e&&(this._rowSpacing=e,this.parent&&this.parent.fit())}get columnSpacing(){return this._columnSpacing}set columnSpacing(e){e=Private$4$5.clampValue(e),this._columnSpacing!==e&&(this._columnSpacing=e,this.parent&&this.parent.fit())}rowStretch(e){let n=this._rowSizers[e];return n?n.stretch:-1}setRowStretch(e,n){let i=this._rowSizers[e];i&&(n=Private$4$5.clampValue(n),i.stretch!==n&&(i.stretch=n,this.parent&&this.parent.update()))}columnStretch(e){let n=this._columnSizers[e];return n?n.stretch:-1}setColumnStretch(e,n){let i=this._columnSizers[e];i&&(n=Private$4$5.clampValue(n),i.stretch!==n&&(i.stretch=n,this.parent&&this.parent.update()))}*[Symbol.iterator](){for(const e of this._items)yield e.widget}addWidget(e){ArrayExt$4.findFirstIndex(this._items,i=>i.widget===e)===-1&&(this._items.push(new LayoutItem$5(e)),this.parent&&this.attachWidget(e))}removeWidget(e){let n=ArrayExt$4.findFirstIndex(this._items,o=>o.widget===e);if(n===-1)return;let i=ArrayExt$4.removeAt(this._items,n);this.parent&&this.detachWidget(e),i.dispose()}init(){super.init();for(const e of this)this.attachWidget(e)}attachWidget(e){this.parent.isAttached&&MessageLoop$6.sendMessage(e,Widget$5.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&MessageLoop$6.sendMessage(e,Widget$5.Msg.AfterAttach),this.parent.fit()}detachWidget(e){this.parent.isAttached&&MessageLoop$6.sendMessage(e,Widget$5.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&MessageLoop$6.sendMessage(e,Widget$5.Msg.AfterDetach),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){for(let f=0,d=this.rowCount;f<d;++f)this._rowSizers[f].minSize=0;for(let f=0,d=this.columnCount;f<d;++f)this._columnSizers[f].minSize=0;let e=this._items.filter(f=>!f.isHidden);for(let f=0,d=e.length;f<d;++f)e[f].fit();let n=this.rowCount-1,i=this.columnCount-1;e.sort(Private$4$5.rowSpanCmp);for(let f=0,d=e.length;f<d;++f){let m=e[f],g=Ku.getCellConfig(m.widget),v=Math.min(g.row,n),y=Math.min(g.row+g.rowSpan-1,n);Private$4$5.distributeMin(this._rowSizers,v,y,m.minHeight)}e.sort(Private$4$5.columnSpanCmp);for(let f=0,d=e.length;f<d;++f){let m=e[f],g=Ku.getCellConfig(m.widget),v=Math.min(g.column,i),y=Math.min(g.column+g.columnSpan-1,i);Private$4$5.distributeMin(this._columnSizers,v,y,m.minWidth)}if(this.fitPolicy==="set-no-constraint"){MessageLoop$6.sendMessage(this.parent,Widget$5.Msg.UpdateRequest);return}let o=n*this._rowSpacing,u=i*this._columnSpacing;for(let f=0,d=this.rowCount;f<d;++f)o+=this._rowSizers[f].minSize;for(let f=0,d=this.columnCount;f<d;++f)u+=this._columnSizers[f].minSize;let l=this._box=ElementExt$1.boxSizing(this.parent.node);u+=l.horizontalSum,o+=l.verticalSum;let c=this.parent.node.style;c.minWidth=`${u}px`,c.minHeight=`${o}px`,this._dirty=!0,this.parent.parent&&MessageLoop$6.sendMessage(this.parent.parent,Widget$5.Msg.FitRequest),this._dirty&&MessageLoop$6.sendMessage(this.parent,Widget$5.Msg.UpdateRequest)}_update(e,n){this._dirty=!1,e<0&&(e=this.parent.node.offsetWidth),n<0&&(n=this.parent.node.offsetHeight),this._box||(this._box=ElementExt$1.boxSizing(this.parent.node));let i=this._box.paddingTop,o=this._box.paddingLeft,u=e-this._box.horizontalSum,l=n-this._box.verticalSum,c=this.rowCount-1,f=this.columnCount-1,d=c*this._rowSpacing,m=f*this._columnSpacing;BoxEngine$5.calc(this._rowSizers,Math.max(0,l-d)),BoxEngine$5.calc(this._columnSizers,Math.max(0,u-m));for(let g=0,v=i,y=this.rowCount;g<y;++g)this._rowStarts[g]=v,v+=this._rowSizers[g].size+this._rowSpacing;for(let g=0,v=o,y=this.columnCount;g<y;++g)this._columnStarts[g]=v,v+=this._columnSizers[g].size+this._columnSpacing;for(let g=0,v=this._items.length;g<v;++g){let y=this._items[g];if(y.isHidden)continue;let w=Ku.getCellConfig(y.widget),T=Math.min(w.row,c),P=Math.min(w.column,f),A=Math.min(w.row+w.rowSpan-1,c),D=Math.min(w.column+w.columnSpan-1,f),k=this._columnStarts[P],j=this._rowStarts[T],B=this._columnStarts[D]+this._columnSizers[D].size-k,Z=this._rowStarts[A]+this._rowSizers[A].size-j;y.update(k,j,B,Z)}}};(function(t){function e(i){return Private$4$5.cellConfigProperty.get(i)}t.getCellConfig=e;function n(i,o){Private$4$5.cellConfigProperty.set(i,Private$4$5.normalizeConfig(o))}t.setCellConfig=n})(GridLayout$5||(GridLayout$5={}));var Private$4$5;(function(t){t.cellConfigProperty=new AttachedProperty$2({name:"cellConfig",create:()=>({row:0,column:0,rowSpan:1,columnSpan:1}),changed:c});function e(f){let d=Math.max(0,Math.floor(f.row||0)),m=Math.max(0,Math.floor(f.column||0)),g=Math.max(1,Math.floor(f.rowSpan||0)),v=Math.max(1,Math.floor(f.columnSpan||0));return{row:d,column:m,rowSpan:g,columnSpan:v}}t.normalizeConfig=e;function n(f){return Math.max(0,Math.floor(f))}t.clampValue=n;function i(f,d){let m=t.cellConfigProperty.get(f.widget),g=t.cellConfigProperty.get(d.widget);return m.rowSpan-g.rowSpan}t.rowSpanCmp=i;function o(f,d){let m=t.cellConfigProperty.get(f.widget),g=t.cellConfigProperty.get(d.widget);return m.columnSpan-g.columnSpan}t.columnSpanCmp=o;function u(f,d){for(d=Math.max(1,Math.floor(d));f.length<d;)f.push(new BoxSizer$5);f.length>d&&(f.length=d)}t.reallocSizers=u;function l(f,d,m,g){if(m<d)return;if(d===m){let w=f[d];w.minSize=Math.max(w.minSize,g);return}let v=0;for(let w=d;w<=m;++w)v+=f[w].minSize;if(v>=g)return;let y=(g-v)/(m-d+1);for(let w=d;w<=m;++w)f[w].minSize+=y}t.distributeMin=l;function c(f){f.parent&&f.parent.layout instanceof GridLayout$5&&f.parent.fit()}})(Private$4$5||(Private$4$5={}));let MenuBar$5=class hp extends Widget$5{constructor(e={}){super({node:Private$3$5.createNode()}),this._activeIndex=-1,this._tabFocusIndex=0,this._menus=[],this._childMenu=null,this._overflowMenu=null,this._menuItemSizes=[],this._overflowIndex=-1,this.addClass("lm-MenuBar"),this.setFlag(Widget$5.Flag.DisallowLayout),this.renderer=e.renderer||hp.defaultRenderer,this._forceItemsPosition=e.forceItemsPosition||{forceX:!0,forceY:!0},this._overflowMenuOptions=e.overflowMenuOptions||{isVisible:!0}}dispose(){this._closeChildMenu(),this._menus.length=0,super.dispose()}get childMenu(){return this._childMenu}get overflowIndex(){return this._overflowIndex}get overflowMenu(){return this._overflowMenu}get contentNode(){return this.node.getElementsByClassName("lm-MenuBar-content")[0]}get activeMenu(){return this._menus[this._activeIndex]||null}set activeMenu(e){this.activeIndex=e?this._menus.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._menus.length)&&(e=-1),e>-1&&this._menus[e].items.length===0&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this.update())}get menus(){return this._menus}openActiveMenu(){this._activeIndex!==-1&&(this._openChildMenu(),this._childMenu&&(this._childMenu.activeIndex=-1,this._childMenu.activateNextItem()))}addMenu(e,n=!0){this.insertMenu(this._menus.length,e,n)}insertMenu(e,n,i=!0){this._closeChildMenu();let o=this._menus.indexOf(n),u=Math.max(0,Math.min(e,this._menus.length));if(o===-1){ArrayExt$4.insert(this._menus,u,n),n.addClass("lm-MenuBar-menu"),n.aboutToClose.connect(this._onMenuAboutToClose,this),n.menuRequested.connect(this._onMenuMenuRequested,this),n.title.changed.connect(this._onTitleChanged,this),i&&this.update();return}u===this._menus.length&&u--,o!==u&&(ArrayExt$4.move(this._menus,o,u),i&&this.update())}removeMenu(e,n=!0){this.removeMenuAt(this._menus.indexOf(e),n)}removeMenuAt(e,n=!0){this._closeChildMenu();let i=ArrayExt$4.removeAt(this._menus,e);i&&(i.aboutToClose.disconnect(this._onMenuAboutToClose,this),i.menuRequested.disconnect(this._onMenuMenuRequested,this),i.title.changed.disconnect(this._onTitleChanged,this),i.removeClass("lm-MenuBar-menu"),n&&this.update())}clearMenus(){if(this._menus.length!==0){this._closeChildMenu();for(let e of this._menus)e.aboutToClose.disconnect(this._onMenuAboutToClose,this),e.menuRequested.disconnect(this._onMenuMenuRequested,this),e.title.changed.disconnect(this._onTitleChanged,this),e.removeClass("lm-MenuBar-menu");this._menus.length=0,this.update()}}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":case"mouseleave":this._evtMouseMove(e);break;case"focusout":this._evtFocusOut(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("focusout",this),this.node.addEventListener("contextmenu",this)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("focusout",this),this.node.removeEventListener("contextmenu",this),this._closeChildMenu()}onActivateRequest(e){this.isAttached&&this._focusItemAt(0)}onResize(e){this.update(),super.onResize(e)}onUpdateRequest(e){var n;let i=this._menus,o=this.renderer,u=this._activeIndex,l=this._tabFocusIndex>=0&&this._tabFocusIndex<i.length?this._tabFocusIndex:0,c=this._overflowIndex>-1?this._overflowIndex:i.length,f=0,d=!1;c=this._overflowMenu!==null?c-1:c;let m=new Array(c);for(let g=0;g<c;++g)m[g]=o.renderItem({title:i[g].title,active:g===u,tabbable:g===l,disabled:i[g].items.length===0,onfocus:()=>{this._tabFocusIndex=g,this.activeIndex=g}}),f+=this._menuItemSizes[g],i[g].title.label===this._overflowMenuOptions.title&&(d=!0,c--);if(this._overflowMenuOptions.isVisible){if(this._overflowIndex>-1&&!d){if(this._overflowMenu===null){const g=(n=this._overflowMenuOptions.title)!==null&&n!==void 0?n:"...";this._overflowMenu=new Menu$5({commands:new CommandRegistry$1}),this._overflowMenu.title.label=g,this._overflowMenu.title.mnemonic=0,this.addMenu(this._overflowMenu,!1)}for(let g=i.length-2;g>=c;g--){const v=this.menus[g];v.title.mnemonic=0,this._overflowMenu.insertItem(0,{type:"submenu",submenu:v}),this.removeMenu(v,!1)}m[c]=o.renderItem({title:this._overflowMenu.title,active:c===u&&i[c].items.length!==0,tabbable:c===l,disabled:i[c].items.length===0,onfocus:()=>{this._tabFocusIndex=c,this.activeIndex=c}}),c++}else if(this._overflowMenu!==null){let g=this._overflowMenu.items,v=this.node.offsetWidth,y=this._overflowMenu.items.length;for(let w=0;w<y;++w){let T=i.length-1-w;if(v-f>this._menuItemSizes[T]){let P=g[0].submenu;this._overflowMenu.removeItemAt(0),this.insertMenu(c,P,!1),m[c]=o.renderItem({title:P.title,active:!1,tabbable:c===l,disabled:i[c].items.length===0,onfocus:()=>{this._tabFocusIndex=c,this.activeIndex=c}}),c++}}this._overflowMenu.items.length===0&&(this.removeMenu(this._overflowMenu,!1),m.pop(),this._overflowMenu=null,this._overflowIndex=-1)}}VirtualDOM$1.render(m,this.contentNode),this._updateOverflowIndex()}_updateOverflowIndex(){if(!this._overflowMenuOptions.isVisible)return;const e=this.contentNode.childNodes;let n=this.node.offsetWidth,i=0,o=-1,u=e.length;if(this._menuItemSizes.length==0)for(let l=0;l<u;l++){let c=e[l];i+=c.offsetWidth,this._menuItemSizes.push(c.offsetWidth),i>n&&o===-1&&(o=l)}else for(let l=0;l<this._menuItemSizes.length;l++)if(i+=this._menuItemSizes[l],i>n){o=l;break}this._overflowIndex=o}_evtKeyDown(e){let n=e.keyCode;if(n===9){this.activeIndex=-1;return}if(e.preventDefault(),e.stopPropagation(),n===13||n===32||n===38||n===40){if(this.activeIndex=this._tabFocusIndex,this.activeIndex!==this._tabFocusIndex)return;this.openActiveMenu();return}if(n===27){this._closeChildMenu(),this._focusItemAt(this.activeIndex);return}if(n===37||n===39){let l=n===37?-1:1,c=this._tabFocusIndex+l,f=this._menus.length;for(let d=0;d<f;d++){let m=(f+c+l*d)%f;if(this._menus[m].items.length){this._focusItemAt(m);return}}return}let i=getKeyboardLayout$1().keyForKeydownEvent(e);if(!i)return;let o=this._activeIndex+1,u=Private$3$5.findMnemonic(this._menus,i,o);u.index!==-1&&!u.multiple?(this.activeIndex=u.index,this.openActiveMenu()):u.index!==-1?(this.activeIndex=u.index,this._focusItemAt(this.activeIndex)):u.auto!==-1&&(this.activeIndex=u.auto,this._focusItemAt(this.activeIndex))}_evtMouseDown(e){if(!ElementExt$1.hitTest(this.node,e.clientX,e.clientY))return;e.stopPropagation(),e.stopImmediatePropagation();let n=ArrayExt$4.findFirstIndex(this.contentNode.children,i=>ElementExt$1.hitTest(i,e.clientX,e.clientY));if(n===-1){this._closeChildMenu();return}if(e.button===0)if(this._childMenu)this._closeChildMenu(),this.activeIndex=n;else{e.preventDefault();const i=this._positionForMenu(n);Menu$5.saveWindowData(),this.activeIndex=n,this._openChildMenu(i)}}_evtMouseMove(e){let n=ArrayExt$4.findFirstIndex(this.contentNode.children,o=>ElementExt$1.hitTest(o,e.clientX,e.clientY));if(n===this._activeIndex||n===-1&&this._childMenu)return;const i=n>=0&&this._childMenu?this._positionForMenu(n):null;Menu$5.saveWindowData(),this.activeIndex=n,i&&this._openChildMenu(i)}_positionForMenu(e){let n=this.contentNode.children[e],{left:i,bottom:o}=n.getBoundingClientRect();return{top:o,left:i}}_evtFocusOut(e){!this._childMenu&&!this.node.contains(e.relatedTarget)&&(this.activeIndex=-1)}_focusItemAt(e){const n=this.contentNode.childNodes[e];n&&n.focus()}_openChildMenu(e={}){let n=this.activeMenu;if(!n){this._closeChildMenu();return}let i=this._childMenu;if(i===n)return;this._childMenu=n,i?i.close():document.addEventListener("mousedown",this,!0),this._tabFocusIndex=this.activeIndex,MessageLoop$6.sendMessage(this,Widget$5.Msg.UpdateRequest);let{left:o,top:u}=e;(typeof o>"u"||typeof u>"u")&&({left:o,top:u}=this._positionForMenu(this._activeIndex)),i||this.addClass("lm-mod-active"),n.items.length>0&&n.open(o,u,this._forceItemsPosition)}_closeChildMenu(){if(!this._childMenu)return;this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0);let e=this._childMenu;this._childMenu=null,e.close(),this.activeIndex=-1}_onMenuAboutToClose(e){e===this._childMenu&&(this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0),this._childMenu=null,this.activeIndex=-1)}_onMenuMenuRequested(e,n){if(e!==this._childMenu)return;let i=this._activeIndex,o=this._menus.length;switch(n){case"next":this.activeIndex=i===o-1?0:i+1;break;case"previous":this.activeIndex=i===0?o-1:i-1;break}this.openActiveMenu()}_onTitleChanged(){this.update()}};(function(t){class e{renderItem(i){let o=this.createItemClass(i),u=this.createItemDataset(i),l=this.createItemARIA(i);return h$2.li({className:o,dataset:u,...i.disabled?{}:{tabindex:i.tabbable?"0":"-1"},onfocus:i.onfocus,...l},this.renderIcon(i),this.renderLabel(i))}renderIcon(i){let o=this.createIconClass(i);return h$2.div({className:o},i.title.icon,i.title.iconLabel)}renderLabel(i){let o=this.formatLabel(i);return h$2.div({className:"lm-MenuBar-itemLabel"},o)}createItemClass(i){let o="lm-MenuBar-item";return i.title.className&&(o+=` ${i.title.className}`),i.active&&!i.disabled&&(o+=" lm-mod-active"),o}createItemDataset(i){return i.title.dataset}createItemARIA(i){return{role:"menuitem","aria-haspopup":"true","aria-disabled":i.disabled?"true":"false"}}createIconClass(i){let o="lm-MenuBar-itemIcon",u=i.title.iconClass;return u?`${o} ${u}`:o}formatLabel(i){let{label:o,mnemonic:u}=i.title;if(u<0||u>=o.length)return o;let l=o.slice(0,u),c=o.slice(u+1),f=o[u],d=h$2.span({className:"lm-MenuBar-itemMnemonic"},f);return[l,d,c]}}t.Renderer=e,t.defaultRenderer=new e})(MenuBar$5||(MenuBar$5={}));var Private$3$5;(function(t){function e(){let i=document.createElement("div"),o=document.createElement("ul");return o.className="lm-MenuBar-content",i.appendChild(o),o.setAttribute("role","menubar"),i}t.createNode=e;function n(i,o,u){let l=-1,c=-1,f=!1,d=o.toUpperCase();for(let m=0,g=i.length;m<g;++m){let v=(m+u)%g,y=i[v].title;if(y.label.length===0)continue;let w=y.mnemonic;if(w>=0&&w<y.label.length){y.label[w].toUpperCase()===d&&(l===-1?l=v:f=!0);continue}c===-1&&y.label[0].toUpperCase()===d&&(c=v)}return{index:l,multiple:f,auto:c}}t.findMnemonic=n})(Private$3$5||(Private$3$5={}));var Private$2$5;(function(t){function e(){let i=document.createElement("div"),o=document.createElement("div"),u=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div");return o.className="lm-ScrollBar-button",u.className="lm-ScrollBar-button",o.dataset.action="decrement",u.dataset.action="increment",l.className="lm-ScrollBar-track",c.className="lm-ScrollBar-thumb",l.appendChild(c),i.appendChild(o),i.appendChild(l),i.appendChild(u),i}t.createNode=e;function n(i,o){return i.thumbNode.contains(o)?"thumb":i.trackNode.contains(o)?"track":i.decrementNode.contains(o)?"decrement":i.incrementNode.contains(o)?"increment":null}t.findPart=n})(Private$2$5||(Private$2$5={}));let StackedLayout$5=class extends PanelLayout$5{constructor(e={}){super(e),this._dirty=!1,this._items=[],this._box=null,this._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:Widget$5.HiddenMode.Display}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this._hiddenMode=e,this.widgets.length>1&&this.widgets.forEach(n=>{n.hiddenMode=this._hiddenMode}))}dispose(){for(const e of this._items)e.dispose();this._box=null,this._items.length=0,super.dispose()}attachWidget(e,n){this._hiddenMode===Widget$5.HiddenMode.Scale&&this._items.length>0?(this._items.length===1&&(this.widgets[0].hiddenMode=Widget$5.HiddenMode.Scale),n.hiddenMode=Widget$5.HiddenMode.Scale):n.hiddenMode=Widget$5.HiddenMode.Display,ArrayExt$4.insert(this._items,e,new LayoutItem$5(n)),this.parent.isAttached&&MessageLoop$6.sendMessage(n,Widget$5.Msg.BeforeAttach),this.parent.node.appendChild(n.node),this.parent.isAttached&&MessageLoop$6.sendMessage(n,Widget$5.Msg.AfterAttach),this.parent.fit()}moveWidget(e,n,i){ArrayExt$4.move(this._items,e,n),this.parent.update()}detachWidget(e,n){let i=ArrayExt$4.removeAt(this._items,e);this.parent.isAttached&&MessageLoop$6.sendMessage(n,Widget$5.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.isAttached&&MessageLoop$6.sendMessage(n,Widget$5.Msg.AfterDetach),i.widget.node.style.zIndex="",this._hiddenMode===Widget$5.HiddenMode.Scale&&(n.hiddenMode=Widget$5.HiddenMode.Display,this._items.length===1&&(this._items[0].widget.hiddenMode=Widget$5.HiddenMode.Display)),i.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0,n=0;for(let u=0,l=this._items.length;u<l;++u){let c=this._items[u];c.isHidden||(c.fit(),e=Math.max(e,c.minWidth),n=Math.max(n,c.minHeight))}let i=this._box=ElementExt$1.boxSizing(this.parent.node);e+=i.horizontalSum,n+=i.verticalSum;let o=this.parent.node.style;o.minWidth=`${e}px`,o.minHeight=`${n}px`,this._dirty=!0,this.parent.parent&&MessageLoop$6.sendMessage(this.parent.parent,Widget$5.Msg.FitRequest),this._dirty&&MessageLoop$6.sendMessage(this.parent,Widget$5.Msg.UpdateRequest)}_update(e,n){this._dirty=!1;let i=0;for(let f=0,d=this._items.length;f<d;++f)i+=+!this._items[f].isHidden;if(i===0)return;e<0&&(e=this.parent.node.offsetWidth),n<0&&(n=this.parent.node.offsetHeight),this._box||(this._box=ElementExt$1.boxSizing(this.parent.node));let o=this._box.paddingTop,u=this._box.paddingLeft,l=e-this._box.horizontalSum,c=n-this._box.verticalSum;for(let f=0,d=this._items.length;f<d;++f){let m=this._items[f];m.isHidden||(m.widget.node.style.zIndex=`${f}`,m.update(u,o,l,c))}}};var Private$1$6;(function(t){function e(n){return n.layout||new StackedLayout$5}t.createLayout=e})(Private$1$6||(Private$1$6={}));var Private$V;(function(t){function e(u){return i[u]}t.orientationFromPlacement=e;function n(u){return o[u]}t.directionFromPlacement=n;const i={top:"horizontal",left:"vertical",right:"vertical",bottom:"horizontal"},o={top:"top-to-bottom",left:"left-to-right",right:"right-to-left",bottom:"bottom-to-top"}})(Private$V||(Private$V={}));var libExports$5=requireLib$c(),libExports$4=requireLib$b();const DEFAULT_LANGUAGE_CODE="en";function normalizeDomain(t){return t.replace("-","_")}class Gettext{constructor(e){e=e||{},this._defaults={domain:"messages",locale:document.documentElement.getAttribute("lang")||DEFAULT_LANGUAGE_CODE,pluralFunc:function(n){return{nplurals:2,plural:n!=1?1:0}},contextDelimiter:"",stringsPrefix:""},this._locale=(e.locale||this._defaults.locale).replace("_","-"),this._domain=normalizeDomain(e.domain||this._defaults.domain),this._contextDelimiter=e.contextDelimiter||this._defaults.contextDelimiter,this._stringsPrefix=e.stringsPrefix||this._defaults.stringsPrefix,this._pluralFuncs={},this._dictionary={},this._pluralForms={},e.messages&&(this._dictionary[this._domain]={},this._dictionary[this._domain][this._locale]=e.messages),e.pluralForms&&(this._pluralForms[this._locale]=e.pluralForms)}setContextDelimiter(e){this._contextDelimiter=e}getContextDelimiter(){return this._contextDelimiter}setLocale(e){this._locale=e.replace("_","-")}getLocale(){return this._locale}setDomain(e){this._domain=normalizeDomain(e)}getDomain(){return this._domain}setStringsPrefix(e){this._stringsPrefix=e}getStringsPrefix(){return this._stringsPrefix}static strfmt(e,...n){return e.replace(/%%/g,"%% ").replace(/%(\d+)/g,function(i,o){return n[o-1]}).replace(/%% /g,"%")}loadJSON(e,n){if(!e[""]||!e[""].language||!e[""].pluralForms)throw new Error(`Wrong jsonData, it must have an empty key ("") with "language" and "pluralForms" information: ${e}`);n=normalizeDomain(n);let i=e[""],o=JSON.parse(JSON.stringify(e));delete o[""],this.setMessages(n||this._defaults.domain,i.language,o,i.pluralForms)}__(e,...n){return this.gettext(e,...n)}_n(e,n,i,...o){return this.ngettext(e,n,i,...o)}_p(e,n,...i){return this.pgettext(e,n,...i)}_np(e,n,i,o,...u){return this.npgettext(e,n,i,o,...u)}gettext(e,...n){return this.dcnpgettext("","",e,"",0,...n)}ngettext(e,n,i,...o){return this.dcnpgettext("","",e,n,i,...o)}pgettext(e,n,...i){return this.dcnpgettext("",e,n,"",0,...i)}npgettext(e,n,i,o,...u){return this.dcnpgettext("",e,n,i,o,...u)}dcnpgettext(e,n,i,o,u,...l){e=normalizeDomain(e)||this._domain;let c,f=n?n+this._contextDelimiter+i:i,d={pluralForm:!1},m=!1,g=this._locale,v=this.expandLocale(this._locale);for(let w in v)if(g=v[w],m=this._dictionary[e]&&this._dictionary[e][g]&&this._dictionary[e][g][f],o?m=m&&this._dictionary[e][g][f].length>1:m=m&&this._dictionary[e][g][f].length==1,m){d.locale=g;break}if(m?c=this._dictionary[e][g][f]:(c=[i],d.pluralFunc=this._defaults.pluralFunc),!o)return this.t(c,u,d,...l);d.pluralForm=!0;let y=m?c:[i,o];return this.t(y,u,d,...l)}expandLocale(e){let n=[e],i=e.lastIndexOf("-");for(;i>0;)e=e.slice(0,i),n.push(e),i=e.lastIndexOf("-");return n}getPluralFunc(e){if(!new RegExp("^\\s*nplurals\\s*=\\s*[0-9]+\\s*;\\s*plural\\s*=\\s*(?:\\s|[-\\?\\|&=!<>+*/%:;n0-9_()])+").test(e))throw new Error(Gettext.strfmt('The plural form "%1" is not valid',e));return new Function("n","let plural, nplurals; "+e+" return { nplurals: nplurals, plural: (plural === true ? 1 : (plural ? plural : 0)) };")}removeContext(e){return e.indexOf(this._contextDelimiter)!==-1?e.split(this._contextDelimiter)[1]:e}t(e,n,i,...o){if(!i.pluralForm)return this._stringsPrefix+Gettext.strfmt(this.removeContext(e[0]),...o);let u;return i.pluralFunc?u=i.pluralFunc(n):this._pluralFuncs[i.locale||""]?u=this._pluralFuncs[i.locale||""](n):(this._pluralFuncs[i.locale||""]=this.getPluralFunc(this._pluralForms[i.locale||""]),u=this._pluralFuncs[i.locale||""](n)),(typeof!u.plural>"u"||u.plural>u.nplurals||e.length<=u.plural)&&(u.plural=0),this._stringsPrefix+Gettext.strfmt(this.removeContext(e[u.plural]),...[n].concat(o))}setMessages(e,n,i,o){e=normalizeDomain(e),o&&(this._pluralForms[n]=o),this._dictionary[e]||(this._dictionary[e]={}),this._dictionary[e][n]=i}}class NullTranslator{constructor(e){this.languageCode=DEFAULT_LANGUAGE_CODE,this._languageBundle=e}load(e){return this._languageBundle}}class NullLanguageBundle{__(e,...n){return this.gettext(e,...n)}_n(e,n,i,...o){return this.ngettext(e,n,i,...o)}_p(e,n,...i){return this.pgettext(e,n,...i)}_np(e,n,i,o,...u){return this.npgettext(e,n,i,o,...u)}gettext(e,...n){return Gettext.strfmt(e,...n)}ngettext(e,n,i,...o){return Gettext.strfmt(i==1?e:n,...[i].concat(o))}pgettext(e,n,...i){return Gettext.strfmt(n,...i)}npgettext(e,n,i,o,...u){return this.ngettext(n,i,o,...u)}dcnpgettext(e,n,i,o,u,...l){return this.ngettext(i,o,u,...l)}}const nullTranslator=new NullTranslator(new NullLanguageBundle);var _listCacheClear,hasRequired_listCacheClear;function require_listCacheClear(){if(hasRequired_listCacheClear)return _listCacheClear;hasRequired_listCacheClear=1;function t(){this.__data__=[],this.size=0}return _listCacheClear=t,_listCacheClear}var eq_1$1,hasRequiredEq$1;function requireEq$1(){if(hasRequiredEq$1)return eq_1$1;hasRequiredEq$1=1;function t(e,n){return e===n||e!==e&&n!==n}return eq_1$1=t,eq_1$1}var _assocIndexOf,hasRequired_assocIndexOf;function require_assocIndexOf(){if(hasRequired_assocIndexOf)return _assocIndexOf;hasRequired_assocIndexOf=1;var t=requireEq$1();function e(n,i){for(var o=n.length;o--;)if(t(n[o][0],i))return o;return-1}return _assocIndexOf=e,_assocIndexOf}var _listCacheDelete,hasRequired_listCacheDelete;function require_listCacheDelete(){if(hasRequired_listCacheDelete)return _listCacheDelete;hasRequired_listCacheDelete=1;var t=require_assocIndexOf(),e=Array.prototype,n=e.splice;function i(o){var u=this.__data__,l=t(u,o);if(l<0)return!1;var c=u.length-1;return l==c?u.pop():n.call(u,l,1),--this.size,!0}return _listCacheDelete=i,_listCacheDelete}var _listCacheGet,hasRequired_listCacheGet;function require_listCacheGet(){if(hasRequired_listCacheGet)return _listCacheGet;hasRequired_listCacheGet=1;var t=require_assocIndexOf();function e(n){var i=this.__data__,o=t(i,n);return o<0?void 0:i[o][1]}return _listCacheGet=e,_listCacheGet}var _listCacheHas,hasRequired_listCacheHas;function require_listCacheHas(){if(hasRequired_listCacheHas)return _listCacheHas;hasRequired_listCacheHas=1;var t=require_assocIndexOf();function e(n){return t(this.__data__,n)>-1}return _listCacheHas=e,_listCacheHas}var _listCacheSet,hasRequired_listCacheSet;function require_listCacheSet(){if(hasRequired_listCacheSet)return _listCacheSet;hasRequired_listCacheSet=1;var t=require_assocIndexOf();function e(n,i){var o=this.__data__,u=t(o,n);return u<0?(++this.size,o.push([n,i])):o[u][1]=i,this}return _listCacheSet=e,_listCacheSet}var _ListCache,hasRequired_ListCache;function require_ListCache(){if(hasRequired_ListCache)return _ListCache;hasRequired_ListCache=1;var t=require_listCacheClear(),e=require_listCacheDelete(),n=require_listCacheGet(),i=require_listCacheHas(),o=require_listCacheSet();function u(l){var c=-1,f=l==null?0:l.length;for(this.clear();++c<f;){var d=l[c];this.set(d[0],d[1])}}return u.prototype.clear=t,u.prototype.delete=e,u.prototype.get=n,u.prototype.has=i,u.prototype.set=o,_ListCache=u,_ListCache}var _stackClear,hasRequired_stackClear;function require_stackClear(){if(hasRequired_stackClear)return _stackClear;hasRequired_stackClear=1;var t=require_ListCache();function e(){this.__data__=new t,this.size=0}return _stackClear=e,_stackClear}var _stackDelete,hasRequired_stackDelete;function require_stackDelete(){if(hasRequired_stackDelete)return _stackDelete;hasRequired_stackDelete=1;function t(e){var n=this.__data__,i=n.delete(e);return this.size=n.size,i}return _stackDelete=t,_stackDelete}var _stackGet,hasRequired_stackGet;function require_stackGet(){if(hasRequired_stackGet)return _stackGet;hasRequired_stackGet=1;function t(e){return this.__data__.get(e)}return _stackGet=t,_stackGet}var _stackHas,hasRequired_stackHas;function require_stackHas(){if(hasRequired_stackHas)return _stackHas;hasRequired_stackHas=1;function t(e){return this.__data__.has(e)}return _stackHas=t,_stackHas}var _freeGlobal,hasRequired_freeGlobal;function require_freeGlobal(){if(hasRequired_freeGlobal)return _freeGlobal;hasRequired_freeGlobal=1;var t=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis;return _freeGlobal=t,_freeGlobal}var _root,hasRequired_root;function require_root(){if(hasRequired_root)return _root;hasRequired_root=1;var t=require_freeGlobal(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return _root=n,_root}var _Symbol,hasRequired_Symbol;function require_Symbol(){if(hasRequired_Symbol)return _Symbol;hasRequired_Symbol=1;var t=require_root(),e=t.Symbol;return _Symbol=e,_Symbol}var _getRawTag,hasRequired_getRawTag;function require_getRawTag(){if(hasRequired_getRawTag)return _getRawTag;hasRequired_getRawTag=1;var t=require_Symbol(),e=Object.prototype,n=e.hasOwnProperty,i=e.toString,o=t?t.toStringTag:void 0;function u(l){var c=n.call(l,o),f=l[o];try{l[o]=void 0;var d=!0}catch{}var m=i.call(l);return d&&(c?l[o]=f:delete l[o]),m}return _getRawTag=u,_getRawTag}var _objectToString,hasRequired_objectToString;function require_objectToString(){if(hasRequired_objectToString)return _objectToString;hasRequired_objectToString=1;var t=Object.prototype,e=t.toString;function n(i){return e.call(i)}return _objectToString=n,_objectToString}var _baseGetTag,hasRequired_baseGetTag;function require_baseGetTag(){if(hasRequired_baseGetTag)return _baseGetTag;hasRequired_baseGetTag=1;var t=require_Symbol(),e=require_getRawTag(),n=require_objectToString(),i="[object Null]",o="[object Undefined]",u=t?t.toStringTag:void 0;function l(c){return c==null?c===void 0?o:i:u&&u in Object(c)?e(c):n(c)}return _baseGetTag=l,_baseGetTag}var isObject_1,hasRequiredIsObject;function requireIsObject(){if(hasRequiredIsObject)return isObject_1;hasRequiredIsObject=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return isObject_1=t,isObject_1}var isFunction_1,hasRequiredIsFunction;function requireIsFunction(){if(hasRequiredIsFunction)return isFunction_1;hasRequiredIsFunction=1;var t=require_baseGetTag(),e=requireIsObject(),n="[object AsyncFunction]",i="[object Function]",o="[object GeneratorFunction]",u="[object Proxy]";function l(c){if(!e(c))return!1;var f=t(c);return f==i||f==o||f==n||f==u}return isFunction_1=l,isFunction_1}var _coreJsData,hasRequired_coreJsData;function require_coreJsData(){if(hasRequired_coreJsData)return _coreJsData;hasRequired_coreJsData=1;var t=require_root(),e=t["__core-js_shared__"];return _coreJsData=e,_coreJsData}var _isMasked,hasRequired_isMasked;function require_isMasked(){if(hasRequired_isMasked)return _isMasked;hasRequired_isMasked=1;var t=require_coreJsData(),e=(function(){var i=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""})();function n(i){return!!e&&e in i}return _isMasked=n,_isMasked}var _toSource,hasRequired_toSource;function require_toSource(){if(hasRequired_toSource)return _toSource;hasRequired_toSource=1;var t=Function.prototype,e=t.toString;function n(i){if(i!=null){try{return e.call(i)}catch{}try{return i+""}catch{}}return""}return _toSource=n,_toSource}var _baseIsNative,hasRequired_baseIsNative;function require_baseIsNative(){if(hasRequired_baseIsNative)return _baseIsNative;hasRequired_baseIsNative=1;var t=requireIsFunction(),e=require_isMasked(),n=requireIsObject(),i=require_toSource(),o=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,f=l.toString,d=c.hasOwnProperty,m=RegExp("^"+f.call(d).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(v){if(!n(v)||e(v))return!1;var y=t(v)?m:u;return y.test(i(v))}return _baseIsNative=g,_baseIsNative}var _getValue,hasRequired_getValue;function require_getValue(){if(hasRequired_getValue)return _getValue;hasRequired_getValue=1;function t(e,n){return e?.[n]}return _getValue=t,_getValue}var _getNative,hasRequired_getNative;function require_getNative(){if(hasRequired_getNative)return _getNative;hasRequired_getNative=1;var t=require_baseIsNative(),e=require_getValue();function n(i,o){var u=e(i,o);return t(u)?u:void 0}return _getNative=n,_getNative}var _Map,hasRequired_Map;function require_Map(){if(hasRequired_Map)return _Map;hasRequired_Map=1;var t=require_getNative(),e=require_root(),n=t(e,"Map");return _Map=n,_Map}var _nativeCreate,hasRequired_nativeCreate;function require_nativeCreate(){if(hasRequired_nativeCreate)return _nativeCreate;hasRequired_nativeCreate=1;var t=require_getNative(),e=t(Object,"create");return _nativeCreate=e,_nativeCreate}var _hashClear,hasRequired_hashClear;function require_hashClear(){if(hasRequired_hashClear)return _hashClear;hasRequired_hashClear=1;var t=require_nativeCreate();function e(){this.__data__=t?t(null):{},this.size=0}return _hashClear=e,_hashClear}var _hashDelete,hasRequired_hashDelete;function require_hashDelete(){if(hasRequired_hashDelete)return _hashDelete;hasRequired_hashDelete=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return _hashDelete=t,_hashDelete}var _hashGet,hasRequired_hashGet;function require_hashGet(){if(hasRequired_hashGet)return _hashGet;hasRequired_hashGet=1;var t=require_nativeCreate(),e="__lodash_hash_undefined__",n=Object.prototype,i=n.hasOwnProperty;function o(u){var l=this.__data__;if(t){var c=l[u];return c===e?void 0:c}return i.call(l,u)?l[u]:void 0}return _hashGet=o,_hashGet}var _hashHas,hasRequired_hashHas;function require_hashHas(){if(hasRequired_hashHas)return _hashHas;hasRequired_hashHas=1;var t=require_nativeCreate(),e=Object.prototype,n=e.hasOwnProperty;function i(o){var u=this.__data__;return t?u[o]!==void 0:n.call(u,o)}return _hashHas=i,_hashHas}var _hashSet,hasRequired_hashSet;function require_hashSet(){if(hasRequired_hashSet)return _hashSet;hasRequired_hashSet=1;var t=require_nativeCreate(),e="__lodash_hash_undefined__";function n(i,o){var u=this.__data__;return this.size+=this.has(i)?0:1,u[i]=t&&o===void 0?e:o,this}return _hashSet=n,_hashSet}var _Hash,hasRequired_Hash;function require_Hash(){if(hasRequired_Hash)return _Hash;hasRequired_Hash=1;var t=require_hashClear(),e=require_hashDelete(),n=require_hashGet(),i=require_hashHas(),o=require_hashSet();function u(l){var c=-1,f=l==null?0:l.length;for(this.clear();++c<f;){var d=l[c];this.set(d[0],d[1])}}return u.prototype.clear=t,u.prototype.delete=e,u.prototype.get=n,u.prototype.has=i,u.prototype.set=o,_Hash=u,_Hash}var _mapCacheClear,hasRequired_mapCacheClear;function require_mapCacheClear(){if(hasRequired_mapCacheClear)return _mapCacheClear;hasRequired_mapCacheClear=1;var t=require_Hash(),e=require_ListCache(),n=require_Map();function i(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return _mapCacheClear=i,_mapCacheClear}var _isKeyable,hasRequired_isKeyable;function require_isKeyable(){if(hasRequired_isKeyable)return _isKeyable;hasRequired_isKeyable=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return _isKeyable=t,_isKeyable}var _getMapData,hasRequired_getMapData;function require_getMapData(){if(hasRequired_getMapData)return _getMapData;hasRequired_getMapData=1;var t=require_isKeyable();function e(n,i){var o=n.__data__;return t(i)?o[typeof i=="string"?"string":"hash"]:o.map}return _getMapData=e,_getMapData}var _mapCacheDelete,hasRequired_mapCacheDelete;function require_mapCacheDelete(){if(hasRequired_mapCacheDelete)return _mapCacheDelete;hasRequired_mapCacheDelete=1;var t=require_getMapData();function e(n){var i=t(this,n).delete(n);return this.size-=i?1:0,i}return _mapCacheDelete=e,_mapCacheDelete}var _mapCacheGet,hasRequired_mapCacheGet;function require_mapCacheGet(){if(hasRequired_mapCacheGet)return _mapCacheGet;hasRequired_mapCacheGet=1;var t=require_getMapData();function e(n){return t(this,n).get(n)}return _mapCacheGet=e,_mapCacheGet}var _mapCacheHas,hasRequired_mapCacheHas;function require_mapCacheHas(){if(hasRequired_mapCacheHas)return _mapCacheHas;hasRequired_mapCacheHas=1;var t=require_getMapData();function e(n){return t(this,n).has(n)}return _mapCacheHas=e,_mapCacheHas}var _mapCacheSet,hasRequired_mapCacheSet;function require_mapCacheSet(){if(hasRequired_mapCacheSet)return _mapCacheSet;hasRequired_mapCacheSet=1;var t=require_getMapData();function e(n,i){var o=t(this,n),u=o.size;return o.set(n,i),this.size+=o.size==u?0:1,this}return _mapCacheSet=e,_mapCacheSet}var _MapCache,hasRequired_MapCache;function require_MapCache(){if(hasRequired_MapCache)return _MapCache;hasRequired_MapCache=1;var t=require_mapCacheClear(),e=require_mapCacheDelete(),n=require_mapCacheGet(),i=require_mapCacheHas(),o=require_mapCacheSet();function u(l){var c=-1,f=l==null?0:l.length;for(this.clear();++c<f;){var d=l[c];this.set(d[0],d[1])}}return u.prototype.clear=t,u.prototype.delete=e,u.prototype.get=n,u.prototype.has=i,u.prototype.set=o,_MapCache=u,_MapCache}var _stackSet,hasRequired_stackSet;function require_stackSet(){if(hasRequired_stackSet)return _stackSet;hasRequired_stackSet=1;var t=require_ListCache(),e=require_Map(),n=require_MapCache(),i=200;function o(u,l){var c=this.__data__;if(c instanceof t){var f=c.__data__;if(!e||f.length<i-1)return f.push([u,l]),this.size=++c.size,this;c=this.__data__=new n(f)}return c.set(u,l),this.size=c.size,this}return _stackSet=o,_stackSet}var _Stack,hasRequired_Stack;function require_Stack(){if(hasRequired_Stack)return _Stack;hasRequired_Stack=1;var t=require_ListCache(),e=require_stackClear(),n=require_stackDelete(),i=require_stackGet(),o=require_stackHas(),u=require_stackSet();function l(c){var f=this.__data__=new t(c);this.size=f.size}return l.prototype.clear=e,l.prototype.delete=n,l.prototype.get=i,l.prototype.has=o,l.prototype.set=u,_Stack=l,_Stack}var _baseTimes,hasRequired_baseTimes;function require_baseTimes(){if(hasRequired_baseTimes)return _baseTimes;hasRequired_baseTimes=1;function t(e,n){for(var i=-1,o=Array(e);++i<e;)o[i]=n(i);return o}return _baseTimes=t,_baseTimes}var isObjectLike_1,hasRequiredIsObjectLike;function requireIsObjectLike(){if(hasRequiredIsObjectLike)return isObjectLike_1;hasRequiredIsObjectLike=1;function t(e){return e!=null&&typeof e=="object"}return isObjectLike_1=t,isObjectLike_1}var _baseIsArguments,hasRequired_baseIsArguments;function require_baseIsArguments(){if(hasRequired_baseIsArguments)return _baseIsArguments;hasRequired_baseIsArguments=1;var t=require_baseGetTag(),e=requireIsObjectLike(),n="[object Arguments]";function i(o){return e(o)&&t(o)==n}return _baseIsArguments=i,_baseIsArguments}var isArguments_1,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments_1;hasRequiredIsArguments=1;var t=require_baseIsArguments(),e=requireIsObjectLike(),n=Object.prototype,i=n.hasOwnProperty,o=n.propertyIsEnumerable,u=t((function(){return arguments})())?t:function(l){return e(l)&&i.call(l,"callee")&&!o.call(l,"callee")};return isArguments_1=u,isArguments_1}var isArray_1,hasRequiredIsArray;function requireIsArray(){if(hasRequiredIsArray)return isArray_1;hasRequiredIsArray=1;var t=Array.isArray;return isArray_1=t,isArray_1}var isBuffer={exports:{}},stubFalse_1,hasRequiredStubFalse;function requireStubFalse(){if(hasRequiredStubFalse)return stubFalse_1;hasRequiredStubFalse=1;function t(){return!1}return stubFalse_1=t,stubFalse_1}isBuffer.exports;var hasRequiredIsBuffer;function requireIsBuffer(){return hasRequiredIsBuffer||(hasRequiredIsBuffer=1,(function(t,e){var n=require_root(),i=requireStubFalse(),o=e&&!e.nodeType&&e,u=o&&!0&&t&&!t.nodeType&&t,l=u&&u.exports===o,c=l?n.Buffer:void 0,f=c?c.isBuffer:void 0,d=f||i;t.exports=d})(isBuffer,isBuffer.exports)),isBuffer.exports}var _isIndex,hasRequired_isIndex;function require_isIndex(){if(hasRequired_isIndex)return _isIndex;hasRequired_isIndex=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(i,o){var u=typeof i;return o=o??t,!!o&&(u=="number"||u!="symbol"&&e.test(i))&&i>-1&&i%1==0&&i<o}return _isIndex=n,_isIndex}var isLength_1,hasRequiredIsLength;function requireIsLength(){if(hasRequiredIsLength)return isLength_1;hasRequiredIsLength=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return isLength_1=e,isLength_1}var _baseIsTypedArray,hasRequired_baseIsTypedArray;function require_baseIsTypedArray(){if(hasRequired_baseIsTypedArray)return _baseIsTypedArray;hasRequired_baseIsTypedArray=1;var t=require_baseGetTag(),e=requireIsLength(),n=requireIsObjectLike(),i="[object Arguments]",o="[object Array]",u="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Function]",d="[object Map]",m="[object Number]",g="[object Object]",v="[object RegExp]",y="[object Set]",w="[object String]",T="[object WeakMap]",P="[object ArrayBuffer]",A="[object DataView]",D="[object Float32Array]",k="[object Float64Array]",j="[object Int8Array]",B="[object Int16Array]",Z="[object Int32Array]",R="[object Uint8Array]",G="[object Uint8ClampedArray]",F="[object Uint16Array]",K="[object Uint32Array]",Q={};Q[D]=Q[k]=Q[j]=Q[B]=Q[Z]=Q[R]=Q[G]=Q[F]=Q[K]=!0,Q[i]=Q[o]=Q[P]=Q[u]=Q[A]=Q[l]=Q[c]=Q[f]=Q[d]=Q[m]=Q[g]=Q[v]=Q[y]=Q[w]=Q[T]=!1;function ie(te){return n(te)&&e(te.length)&&!!Q[t(te)]}return _baseIsTypedArray=ie,_baseIsTypedArray}var _baseUnary,hasRequired_baseUnary;function require_baseUnary(){if(hasRequired_baseUnary)return _baseUnary;hasRequired_baseUnary=1;function t(e){return function(n){return e(n)}}return _baseUnary=t,_baseUnary}var _nodeUtil={exports:{}};_nodeUtil.exports;var hasRequired_nodeUtil;function require_nodeUtil(){return hasRequired_nodeUtil||(hasRequired_nodeUtil=1,(function(t,e){var n=require_freeGlobal(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,u=o&&o.exports===i,l=u&&n.process,c=(function(){try{var f=o&&o.require&&o.require("util").types;return f||l&&l.binding&&l.binding("util")}catch{}})();t.exports=c})(_nodeUtil,_nodeUtil.exports)),_nodeUtil.exports}var isTypedArray_1,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray_1;hasRequiredIsTypedArray=1;var t=require_baseIsTypedArray(),e=require_baseUnary(),n=require_nodeUtil(),i=n&&n.isTypedArray,o=i?e(i):t;return isTypedArray_1=o,isTypedArray_1}var _arrayLikeKeys,hasRequired_arrayLikeKeys;function require_arrayLikeKeys(){if(hasRequired_arrayLikeKeys)return _arrayLikeKeys;hasRequired_arrayLikeKeys=1;var t=require_baseTimes(),e=requireIsArguments(),n=requireIsArray(),i=requireIsBuffer(),o=require_isIndex(),u=requireIsTypedArray(),l=Object.prototype,c=l.hasOwnProperty;function f(d,m){var g=n(d),v=!g&&e(d),y=!g&&!v&&i(d),w=!g&&!v&&!y&&u(d),T=g||v||y||w,P=T?t(d.length,String):[],A=P.length;for(var D in d)(m||c.call(d,D))&&!(T&&(D=="length"||y&&(D=="offset"||D=="parent")||w&&(D=="buffer"||D=="byteLength"||D=="byteOffset")||o(D,A)))&&P.push(D);return P}return _arrayLikeKeys=f,_arrayLikeKeys}var _isPrototype,hasRequired_isPrototype;function require_isPrototype(){if(hasRequired_isPrototype)return _isPrototype;hasRequired_isPrototype=1;var t=Object.prototype;function e(n){var i=n&&n.constructor,o=typeof i=="function"&&i.prototype||t;return n===o}return _isPrototype=e,_isPrototype}var _overArg,hasRequired_overArg;function require_overArg(){if(hasRequired_overArg)return _overArg;hasRequired_overArg=1;function t(e,n){return function(i){return e(n(i))}}return _overArg=t,_overArg}var _nativeKeys,hasRequired_nativeKeys;function require_nativeKeys(){if(hasRequired_nativeKeys)return _nativeKeys;hasRequired_nativeKeys=1;var t=require_overArg(),e=t(Object.keys,Object);return _nativeKeys=e,_nativeKeys}var _baseKeys,hasRequired_baseKeys;function require_baseKeys(){if(hasRequired_baseKeys)return _baseKeys;hasRequired_baseKeys=1;var t=require_isPrototype(),e=require_nativeKeys(),n=Object.prototype,i=n.hasOwnProperty;function o(u){if(!t(u))return e(u);var l=[];for(var c in Object(u))i.call(u,c)&&c!="constructor"&&l.push(c);return l}return _baseKeys=o,_baseKeys}var isArrayLike_1,hasRequiredIsArrayLike;function requireIsArrayLike(){if(hasRequiredIsArrayLike)return isArrayLike_1;hasRequiredIsArrayLike=1;var t=requireIsFunction(),e=requireIsLength();function n(i){return i!=null&&e(i.length)&&!t(i)}return isArrayLike_1=n,isArrayLike_1}var keys_1,hasRequiredKeys;function requireKeys(){if(hasRequiredKeys)return keys_1;hasRequiredKeys=1;var t=require_arrayLikeKeys(),e=require_baseKeys(),n=requireIsArrayLike();function i(o){return n(o)?t(o):e(o)}return keys_1=i,keys_1}var _arrayFilter,hasRequired_arrayFilter;function require_arrayFilter(){if(hasRequired_arrayFilter)return _arrayFilter;hasRequired_arrayFilter=1;function t(e,n){for(var i=-1,o=e==null?0:e.length,u=0,l=[];++i<o;){var c=e[i];n(c,i,e)&&(l[u++]=c)}return l}return _arrayFilter=t,_arrayFilter}var stubArray_1,hasRequiredStubArray;function requireStubArray(){if(hasRequiredStubArray)return stubArray_1;hasRequiredStubArray=1;function t(){return[]}return stubArray_1=t,stubArray_1}var _getSymbols,hasRequired_getSymbols;function require_getSymbols(){if(hasRequired_getSymbols)return _getSymbols;hasRequired_getSymbols=1;var t=require_arrayFilter(),e=requireStubArray(),n=Object.prototype,i=n.propertyIsEnumerable,o=Object.getOwnPropertySymbols,u=o?function(l){return l==null?[]:(l=Object(l),t(o(l),function(c){return i.call(l,c)}))}:e;return _getSymbols=u,_getSymbols}var _arrayPush,hasRequired_arrayPush;function require_arrayPush(){if(hasRequired_arrayPush)return _arrayPush;hasRequired_arrayPush=1;function t(e,n){for(var i=-1,o=n.length,u=e.length;++i<o;)e[u+i]=n[i];return e}return _arrayPush=t,_arrayPush}var _baseGetAllKeys,hasRequired_baseGetAllKeys;function require_baseGetAllKeys(){if(hasRequired_baseGetAllKeys)return _baseGetAllKeys;hasRequired_baseGetAllKeys=1;var t=require_arrayPush(),e=requireIsArray();function n(i,o,u){var l=o(i);return e(i)?l:t(l,u(i))}return _baseGetAllKeys=n,_baseGetAllKeys}var _getAllKeys,hasRequired_getAllKeys;function require_getAllKeys(){if(hasRequired_getAllKeys)return _getAllKeys;hasRequired_getAllKeys=1;var t=require_baseGetAllKeys(),e=require_getSymbols(),n=requireKeys();function i(o){return t(o,n,e)}return _getAllKeys=i,_getAllKeys}var _DataView,hasRequired_DataView;function require_DataView(){if(hasRequired_DataView)return _DataView;hasRequired_DataView=1;var t=require_getNative(),e=require_root(),n=t(e,"DataView");return _DataView=n,_DataView}var _Promise,hasRequired_Promise;function require_Promise(){if(hasRequired_Promise)return _Promise;hasRequired_Promise=1;var t=require_getNative(),e=require_root(),n=t(e,"Promise");return _Promise=n,_Promise}var _Set,hasRequired_Set;function require_Set(){if(hasRequired_Set)return _Set;hasRequired_Set=1;var t=require_getNative(),e=require_root(),n=t(e,"Set");return _Set=n,_Set}var _WeakMap,hasRequired_WeakMap;function require_WeakMap(){if(hasRequired_WeakMap)return _WeakMap;hasRequired_WeakMap=1;var t=require_getNative(),e=require_root(),n=t(e,"WeakMap");return _WeakMap=n,_WeakMap}var _getTag,hasRequired_getTag;function require_getTag(){if(hasRequired_getTag)return _getTag;hasRequired_getTag=1;var t=require_DataView(),e=require_Map(),n=require_Promise(),i=require_Set(),o=require_WeakMap(),u=require_baseGetTag(),l=require_toSource(),c="[object Map]",f="[object Object]",d="[object Promise]",m="[object Set]",g="[object WeakMap]",v="[object DataView]",y=l(t),w=l(e),T=l(n),P=l(i),A=l(o),D=u;return(t&&D(new t(new ArrayBuffer(1)))!=v||e&&D(new e)!=c||n&&D(n.resolve())!=d||i&&D(new i)!=m||o&&D(new o)!=g)&&(D=function(k){var j=u(k),B=j==f?k.constructor:void 0,Z=B?l(B):"";if(Z)switch(Z){case y:return v;case w:return c;case T:return d;case P:return m;case A:return g}return j}),_getTag=D,_getTag}var _Uint8Array,hasRequired_Uint8Array;function require_Uint8Array(){if(hasRequired_Uint8Array)return _Uint8Array;hasRequired_Uint8Array=1;var t=require_root(),e=t.Uint8Array;return _Uint8Array=e,_Uint8Array}var _setCacheAdd,hasRequired_setCacheAdd;function require_setCacheAdd(){if(hasRequired_setCacheAdd)return _setCacheAdd;hasRequired_setCacheAdd=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return _setCacheAdd=e,_setCacheAdd}var _setCacheHas,hasRequired_setCacheHas;function require_setCacheHas(){if(hasRequired_setCacheHas)return _setCacheHas;hasRequired_setCacheHas=1;function t(e){return this.__data__.has(e)}return _setCacheHas=t,_setCacheHas}var _SetCache,hasRequired_SetCache;function require_SetCache(){if(hasRequired_SetCache)return _SetCache;hasRequired_SetCache=1;var t=require_MapCache(),e=require_setCacheAdd(),n=require_setCacheHas();function i(o){var u=-1,l=o==null?0:o.length;for(this.__data__=new t;++u<l;)this.add(o[u])}return i.prototype.add=i.prototype.push=e,i.prototype.has=n,_SetCache=i,_SetCache}var _arraySome,hasRequired_arraySome;function require_arraySome(){if(hasRequired_arraySome)return _arraySome;hasRequired_arraySome=1;function t(e,n){for(var i=-1,o=e==null?0:e.length;++i<o;)if(n(e[i],i,e))return!0;return!1}return _arraySome=t,_arraySome}var _cacheHas,hasRequired_cacheHas;function require_cacheHas(){if(hasRequired_cacheHas)return _cacheHas;hasRequired_cacheHas=1;function t(e,n){return e.has(n)}return _cacheHas=t,_cacheHas}var _equalArrays,hasRequired_equalArrays;function require_equalArrays(){if(hasRequired_equalArrays)return _equalArrays;hasRequired_equalArrays=1;var t=require_SetCache(),e=require_arraySome(),n=require_cacheHas(),i=1,o=2;function u(l,c,f,d,m,g){var v=f&i,y=l.length,w=c.length;if(y!=w&&!(v&&w>y))return!1;var T=g.get(l),P=g.get(c);if(T&&P)return T==c&&P==l;var A=-1,D=!0,k=f&o?new t:void 0;for(g.set(l,c),g.set(c,l);++A<y;){var j=l[A],B=c[A];if(d)var Z=v?d(B,j,A,c,l,g):d(j,B,A,l,c,g);if(Z!==void 0){if(Z)continue;D=!1;break}if(k){if(!e(c,function(R,G){if(!n(k,G)&&(j===R||m(j,R,f,d,g)))return k.push(G)})){D=!1;break}}else if(!(j===B||m(j,B,f,d,g))){D=!1;break}}return g.delete(l),g.delete(c),D}return _equalArrays=u,_equalArrays}var _mapToArray,hasRequired_mapToArray;function require_mapToArray(){if(hasRequired_mapToArray)return _mapToArray;hasRequired_mapToArray=1;function t(e){var n=-1,i=Array(e.size);return e.forEach(function(o,u){i[++n]=[u,o]}),i}return _mapToArray=t,_mapToArray}var _setToArray,hasRequired_setToArray;function require_setToArray(){if(hasRequired_setToArray)return _setToArray;hasRequired_setToArray=1;function t(e){var n=-1,i=Array(e.size);return e.forEach(function(o){i[++n]=o}),i}return _setToArray=t,_setToArray}var _equalByTag,hasRequired_equalByTag;function require_equalByTag(){if(hasRequired_equalByTag)return _equalByTag;hasRequired_equalByTag=1;var t=require_Symbol(),e=require_Uint8Array(),n=requireEq$1(),i=require_equalArrays(),o=require_mapToArray(),u=require_setToArray(),l=1,c=2,f="[object Boolean]",d="[object Date]",m="[object Error]",g="[object Map]",v="[object Number]",y="[object RegExp]",w="[object Set]",T="[object String]",P="[object Symbol]",A="[object ArrayBuffer]",D="[object DataView]",k=t?t.prototype:void 0,j=k?k.valueOf:void 0;function B(Z,R,G,F,K,Q,ie){switch(G){case D:if(Z.byteLength!=R.byteLength||Z.byteOffset!=R.byteOffset)return!1;Z=Z.buffer,R=R.buffer;case A:return!(Z.byteLength!=R.byteLength||!Q(new e(Z),new e(R)));case f:case d:case v:return n(+Z,+R);case m:return Z.name==R.name&&Z.message==R.message;case y:case T:return Z==R+"";case g:var te=o;case w:var oe=F&l;if(te||(te=u),Z.size!=R.size&&!oe)return!1;var le=ie.get(Z);if(le)return le==R;F|=c,ie.set(Z,R);var de=i(te(Z),te(R),F,K,Q,ie);return ie.delete(Z),de;case P:if(j)return j.call(Z)==j.call(R)}return!1}return _equalByTag=B,_equalByTag}var _equalObjects,hasRequired_equalObjects;function require_equalObjects(){if(hasRequired_equalObjects)return _equalObjects;hasRequired_equalObjects=1;var t=require_getAllKeys(),e=1,n=Object.prototype,i=n.hasOwnProperty;function o(u,l,c,f,d,m){var g=c&e,v=t(u),y=v.length,w=t(l),T=w.length;if(y!=T&&!g)return!1;for(var P=y;P--;){var A=v[P];if(!(g?A in l:i.call(l,A)))return!1}var D=m.get(u),k=m.get(l);if(D&&k)return D==l&&k==u;var j=!0;m.set(u,l),m.set(l,u);for(var B=g;++P<y;){A=v[P];var Z=u[A],R=l[A];if(f)var G=g?f(R,Z,A,l,u,m):f(Z,R,A,u,l,m);if(!(G===void 0?Z===R||d(Z,R,c,f,m):G)){j=!1;break}B||(B=A=="constructor")}if(j&&!B){var F=u.constructor,K=l.constructor;F!=K&&"constructor"in u&&"constructor"in l&&!(typeof F=="function"&&F instanceof F&&typeof K=="function"&&K instanceof K)&&(j=!1)}return m.delete(u),m.delete(l),j}return _equalObjects=o,_equalObjects}var _baseIsEqualDeep,hasRequired_baseIsEqualDeep;function require_baseIsEqualDeep(){if(hasRequired_baseIsEqualDeep)return _baseIsEqualDeep;hasRequired_baseIsEqualDeep=1;var t=require_Stack(),e=require_equalArrays(),n=require_equalByTag(),i=require_equalObjects(),o=require_getTag(),u=requireIsArray(),l=requireIsBuffer(),c=requireIsTypedArray(),f=1,d="[object Arguments]",m="[object Array]",g="[object Object]",v=Object.prototype,y=v.hasOwnProperty;function w(T,P,A,D,k,j){var B=u(T),Z=u(P),R=B?m:o(T),G=Z?m:o(P);R=R==d?g:R,G=G==d?g:G;var F=R==g,K=G==g,Q=R==G;if(Q&&l(T)){if(!l(P))return!1;B=!0,F=!1}if(Q&&!F)return j||(j=new t),B||c(T)?e(T,P,A,D,k,j):n(T,P,R,A,D,k,j);if(!(A&f)){var ie=F&&y.call(T,"__wrapped__"),te=K&&y.call(P,"__wrapped__");if(ie||te){var oe=ie?T.value():T,le=te?P.value():P;return j||(j=new t),k(oe,le,A,D,j)}}return Q?(j||(j=new t),i(T,P,A,D,k,j)):!1}return _baseIsEqualDeep=w,_baseIsEqualDeep}var _baseIsEqual,hasRequired_baseIsEqual;function require_baseIsEqual(){if(hasRequired_baseIsEqual)return _baseIsEqual;hasRequired_baseIsEqual=1;var t=require_baseIsEqualDeep(),e=requireIsObjectLike();function n(i,o,u,l,c){return i===o?!0:i==null||o==null||!e(i)&&!e(o)?i!==i&&o!==o:t(i,o,u,l,n,c)}return _baseIsEqual=n,_baseIsEqual}var isEqual_1,hasRequiredIsEqual;function requireIsEqual(){if(hasRequiredIsEqual)return isEqual_1;hasRequiredIsEqual=1;var t=require_baseIsEqual();function e(n,i){return t(n,i)}return isEqual_1=e,isEqual_1}let LinkedList$5=class{constructor(){this._first=null,this._last=null,this._size=0}get isEmpty(){return this._size===0}get size(){return this._size}get length(){return this._size}get first(){return this._first?this._first.value:void 0}get last(){return this._last?this._last.value:void 0}get firstNode(){return this._first}get lastNode(){return this._last}*[Symbol.iterator](){let e=this._first;for(;e;)yield e.value,e=e.next}*retro(){let e=this._last;for(;e;)yield e.value,e=e.prev}*nodes(){let e=this._first;for(;e;)yield e,e=e.next}*retroNodes(){let e=this._last;for(;e;)yield e,e=e.prev}assign(e){this.clear();for(const n of e)this.addLast(n)}push(e){this.addLast(e)}pop(){return this.removeLast()}shift(e){this.addFirst(e)}unshift(){return this.removeFirst()}addFirst(e){let n=new Private$U.LinkedListNode(this,e);return this._first?(n.next=this._first,this._first.prev=n,this._first=n):(this._first=n,this._last=n),this._size++,n}addLast(e){let n=new Private$U.LinkedListNode(this,e);return this._last?(n.prev=this._last,this._last.next=n,this._last=n):(this._first=n,this._last=n),this._size++,n}insertBefore(e,n){if(!n||n===this._first)return this.addFirst(e);if(!(n instanceof Private$U.LinkedListNode)||n.list!==this)throw new Error("Reference node is not owned by the list.");let i=new Private$U.LinkedListNode(this,e),o=n,u=o.prev;return i.next=o,i.prev=u,o.prev=i,u.next=i,this._size++,i}insertAfter(e,n){if(!n||n===this._last)return this.addLast(e);if(!(n instanceof Private$U.LinkedListNode)||n.list!==this)throw new Error("Reference node is not owned by the list.");let i=new Private$U.LinkedListNode(this,e),o=n,u=o.next;return i.next=u,i.prev=o,o.next=i,u.prev=i,this._size++,i}removeFirst(){let e=this._first;if(e)return e===this._last?(this._first=null,this._last=null):(this._first=e.next,this._first.prev=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeLast(){let e=this._last;if(e)return e===this._first?(this._first=null,this._last=null):(this._last=e.prev,this._last.next=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeNode(e){if(!(e instanceof Private$U.LinkedListNode)||e.list!==this)throw new Error("Node is not owned by the list.");let n=e;n===this._first&&n===this._last?(this._first=null,this._last=null):n===this._first?(this._first=n.next,this._first.prev=null):n===this._last?(this._last=n.prev,this._last.next=null):(n.next.prev=n.prev,n.prev.next=n.next),n.list=null,n.next=null,n.prev=null,this._size--}clear(){let e=this._first;for(;e;){let n=e.next;e.list=null,e.prev=null,e.next=null,e=n}this._first=null,this._last=null,this._size=0}};(function(t){function e(n){let i=new t;return i.assign(n),i}t.from=e})(LinkedList$5||(LinkedList$5={}));var Private$U;(function(t){class e{constructor(i,o){this.list=null,this.next=null,this.prev=null,this.list=i,this.value=o}}t.LinkedListNode=e})(Private$U||(Private$U={}));let Message$5=class{constructor(e){this.type=e}get isConflatable(){return!1}conflate(e){return!1}};var MessageLoop$5;(function(t){let e=null;const n=(G=>F=>{let K=!1;return G.then(()=>!K&&F()),()=>{K=!0}})(Promise.resolve());function i(G,F){let K=v.get(G);if(!K||K.length===0){A(G,F);return}every$2(retro$1(K),ie=>ie?P(ie,G,F):!0)&&A(G,F)}t.sendMessage=i;function o(G,F){if(!F.isConflatable){D(G,F);return}some$2(g,Q=>Q.handler!==G||!Q.msg||Q.msg.type!==F.type||!Q.msg.isConflatable?!1:Q.msg.conflate(F))||D(G,F)}t.postMessage=o;function u(G,F){let K=v.get(G);K&&K.indexOf(F)!==-1||(K?K.push(F):v.set(G,[F]))}t.installMessageHook=u;function l(G,F){let K=v.get(G);if(!K)return;let Q=K.indexOf(F);Q!==-1&&(K[Q]=null,j(K))}t.removeMessageHook=l;function c(G){let F=v.get(G);F&&F.length>0&&(ArrayExt$4.fill(F,null),j(F));for(const K of g)K.handler===G&&(K.handler=null,K.msg=null)}t.clearData=c;function f(){T||e===null||(e(),e=null,T=!0,k(),T=!1)}t.flush=f;function d(){return w}t.getExceptionHandler=d;function m(G){let F=w;return w=G,F}t.setExceptionHandler=m;const g=new LinkedList$5,v=new WeakMap,y=new Set;let w=G=>{console.error(G)},T=!1;function P(G,F,K){let Q=!0;try{typeof G=="function"?Q=G(F,K):Q=G.messageHook(F,K)}catch(ie){w(ie)}return Q}function A(G,F){try{G.processMessage(F)}catch(K){w(K)}}function D(G,F){g.addLast({handler:G,msg:F}),e===null&&(e=n(k))}function k(){if(e=null,g.isEmpty)return;let G={handler:null,msg:null};for(g.addLast(G);;){let F=g.removeFirst();if(F===G)return;F.handler&&F.msg&&i(F.handler,F.msg)}}function j(G){y.size===0&&n(B),y.add(G)}function B(){y.forEach(Z),y.clear()}function Z(G){ArrayExt$4.removeAllWhere(G,R)}function R(G){return G===null}})(MessageLoop$5||(MessageLoop$5={}));class ObservableMap{constructor(e={}){if(this._map=new Map,this._changed=new Signal$2(this),this._isDisposed=!1,this._itemCmp=e.itemCmp||Private$T.itemCmp,e.values)for(const n in e.values)this._map.set(n,e.values[n])}get type(){return"Map"}get changed(){return this._changed}get isDisposed(){return this._isDisposed}get size(){return this._map.size}set(e,n){const i=this._map.get(e);if(n===void 0)throw Error("Cannot set an undefined value, use remove");const o=this._itemCmp;return i!==void 0&&o(i,n)||(this._map.set(e,n),this._changed.emit({type:i?"change":"add",key:e,oldValue:i,newValue:n})),i}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){const e=[];return this._map.forEach((n,i)=>{e.push(i)}),e}values(){const e=[];return this._map.forEach((n,i)=>{e.push(n)}),e}delete(e){const n=this._map.get(e);return this._map.delete(e)&&this._changed.emit({type:"remove",key:e,oldValue:n,newValue:void 0}),n}clear(){const e=this.keys();for(let n=0;n<e.length;n++)this.delete(e[n])}dispose(){this.isDisposed||(this._isDisposed=!0,Signal$2.clearData(this),this._map.clear())}}var Private$T;(function(t){function e(n,i){return n===i}t.itemCmp=e})(Private$T||(Private$T={}));class ObservableJSON extends ObservableMap{constructor(e={}){super({itemCmp:JSONExt$2.deepEqual,values:e.values})}toJSON(){const e=Object.create(null),n=this.keys();for(const i of n){const o=this.get(i);o!==void 0&&(e[i]=JSONExt$2.deepCopy(o))}return e}}(function(t){class e extends Message$5{constructor(i,o){super(i),this.args=o}}t.ChangeMessage=e})(ObservableJSON||(ObservableJSON={}));class ObservableString{constructor(e=""){this._text="",this._isDisposed=!1,this._changed=new Signal$2(this),this._text=e}get type(){return"String"}get changed(){return this._changed}set text(e){e.length===this._text.length&&e===this._text||(this._text=e,this._changed.emit({type:"set",start:0,end:e.length,value:e}))}get text(){return this._text}insert(e,n,i){this._text=this._text.slice(0,e)+n+this._text.slice(e),this._changed.emit({type:"insert",start:e,end:e+n.length,value:n,options:i})}remove(e,n,i){const o=this._text.slice(e,n);this._text=this._text.slice(0,e)+this._text.slice(n),this._changed.emit({type:"remove",start:e,end:n,value:o,options:i})}clear(){this.text=""}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,Signal$2.clearData(this),this.clear())}}class ObservableList{constructor(e={}){if(this._array=[],this._isDisposed=!1,this._changed=new Signal$2(this),e.values)for(const n of e.values)this._array.push(n);this._itemCmp=e.itemCmp||Private$S.itemCmp}get type(){return"List"}get changed(){return this._changed}get length(){return this._array.length}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,Signal$2.clearData(this),this.clear())}[Symbol.iterator](){return this._array[Symbol.iterator]()}get(e){return this._array[e]}set(e,n){const i=this._array[e];if(n===void 0)throw new Error("Cannot set an undefined item");const o=this._itemCmp;o(i,n)||(this._array[e]=n,this._changed.emit({type:"set",oldIndex:e,newIndex:e,oldValues:[i],newValues:[n]}))}push(e){const n=this._array.push(e);return this._changed.emit({type:"add",oldIndex:-1,newIndex:this.length-1,oldValues:[],newValues:[e]}),n}insert(e,n){e===this._array.length?this._array.push(n):ArrayExt$4.insert(this._array,e,n),this._changed.emit({type:"add",oldIndex:-2,newIndex:e,oldValues:[],newValues:[n]})}removeValue(e){const n=this._itemCmp,i=ArrayExt$4.findFirstIndex(this._array,o=>n(o,e));return i<0||this.remove(i),i}remove(e){const n=ArrayExt$4.removeAt(this._array,e);if(n!==void 0)return this._changed.emit({type:"remove",oldIndex:e,newIndex:-1,newValues:[],oldValues:[n]}),n}clear(){const e=this._array.slice();this._array.length=0,this._changed.emit({type:"clear",oldIndex:0,newIndex:0,newValues:[],oldValues:e})}move(e,n){if(this.length<=1||e===n)return;const i=[this._array[e]];ArrayExt$4.move(this._array,e,n),this._changed.emit({type:"move",oldIndex:e,newIndex:n,oldValues:i,newValues:i})}pushAll(e){const n=this.length;for(const i of e)this._array.push(i);return this._changed.emit({type:"add",oldIndex:-1,newIndex:n,oldValues:[],newValues:Array.from(e)}),this.length}insertAll(e,n){const i=e;for(const o of n)ArrayExt$4.insert(this._array,e++,o);this._changed.emit({type:"add",oldIndex:-2,newIndex:i,oldValues:[],newValues:Array.from(n)})}removeRange(e,n){const i=this._array.slice(e,n);for(let o=e;o<n;o++)ArrayExt$4.removeAt(this._array,e);return this._changed.emit({type:"remove",oldIndex:e,newIndex:-1,oldValues:i,newValues:[]}),this.length}}var Private$S;(function(t){function e(n,i){return n===i}t.itemCmp=e})(Private$S||(Private$S={}));let LinkedList$4=class{constructor(){this._first=null,this._last=null,this._size=0}get isEmpty(){return this._size===0}get size(){return this._size}get length(){return this._size}get first(){return this._first?this._first.value:void 0}get last(){return this._last?this._last.value:void 0}get firstNode(){return this._first}get lastNode(){return this._last}*[Symbol.iterator](){let e=this._first;for(;e;)yield e.value,e=e.next}*retro(){let e=this._last;for(;e;)yield e.value,e=e.prev}*nodes(){let e=this._first;for(;e;)yield e,e=e.next}*retroNodes(){let e=this._last;for(;e;)yield e,e=e.prev}assign(e){this.clear();for(const n of e)this.addLast(n)}push(e){this.addLast(e)}pop(){return this.removeLast()}shift(e){this.addFirst(e)}unshift(){return this.removeFirst()}addFirst(e){let n=new Private$R.LinkedListNode(this,e);return this._first?(n.next=this._first,this._first.prev=n,this._first=n):(this._first=n,this._last=n),this._size++,n}addLast(e){let n=new Private$R.LinkedListNode(this,e);return this._last?(n.prev=this._last,this._last.next=n,this._last=n):(this._first=n,this._last=n),this._size++,n}insertBefore(e,n){if(!n||n===this._first)return this.addFirst(e);if(!(n instanceof Private$R.LinkedListNode)||n.list!==this)throw new Error("Reference node is not owned by the list.");let i=new Private$R.LinkedListNode(this,e),o=n,u=o.prev;return i.next=o,i.prev=u,o.prev=i,u.next=i,this._size++,i}insertAfter(e,n){if(!n||n===this._last)return this.addLast(e);if(!(n instanceof Private$R.LinkedListNode)||n.list!==this)throw new Error("Reference node is not owned by the list.");let i=new Private$R.LinkedListNode(this,e),o=n,u=o.next;return i.next=u,i.prev=o,o.next=i,u.prev=i,this._size++,i}removeFirst(){let e=this._first;if(e)return e===this._last?(this._first=null,this._last=null):(this._first=e.next,this._first.prev=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeLast(){let e=this._last;if(e)return e===this._first?(this._first=null,this._last=null):(this._last=e.prev,this._last.next=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeNode(e){if(!(e instanceof Private$R.LinkedListNode)||e.list!==this)throw new Error("Node is not owned by the list.");let n=e;n===this._first&&n===this._last?(this._first=null,this._last=null):n===this._first?(this._first=n.next,this._first.prev=null):n===this._last?(this._last=n.prev,this._last.next=null):(n.next.prev=n.prev,n.prev.next=n.next),n.list=null,n.next=null,n.prev=null,this._size--}clear(){let e=this._first;for(;e;){let n=e.next;e.list=null,e.prev=null,e.next=null,e=n}this._first=null,this._last=null,this._size=0}};(function(t){function e(n){let i=new t;return i.assign(n),i}t.from=e})(LinkedList$4||(LinkedList$4={}));var Private$R;(function(t){class e{constructor(i,o){this.list=null,this.next=null,this.prev=null,this.list=i,this.value=o}}t.LinkedListNode=e})(Private$R||(Private$R={}));let Message$4=class{constructor(e){this.type=e}get isConflatable(){return!1}conflate(e){return!1}},ConflatableMessage$4=class extends Message$4{get isConflatable(){return!0}conflate(e){return!0}};var MessageLoop$4;(function(t){let e=null;const n=(G=>F=>{let K=!1;return G.then(()=>!K&&F()),()=>{K=!0}})(Promise.resolve());function i(G,F){let K=v.get(G);if(!K||K.length===0){A(G,F);return}every$2(retro$1(K),ie=>ie?P(ie,G,F):!0)&&A(G,F)}t.sendMessage=i;function o(G,F){if(!F.isConflatable){D(G,F);return}some$2(g,Q=>Q.handler!==G||!Q.msg||Q.msg.type!==F.type||!Q.msg.isConflatable?!1:Q.msg.conflate(F))||D(G,F)}t.postMessage=o;function u(G,F){let K=v.get(G);K&&K.indexOf(F)!==-1||(K?K.push(F):v.set(G,[F]))}t.installMessageHook=u;function l(G,F){let K=v.get(G);if(!K)return;let Q=K.indexOf(F);Q!==-1&&(K[Q]=null,j(K))}t.removeMessageHook=l;function c(G){let F=v.get(G);F&&F.length>0&&(ArrayExt$4.fill(F,null),j(F));for(const K of g)K.handler===G&&(K.handler=null,K.msg=null)}t.clearData=c;function f(){T||e===null||(e(),e=null,T=!0,k(),T=!1)}t.flush=f;function d(){return w}t.getExceptionHandler=d;function m(G){let F=w;return w=G,F}t.setExceptionHandler=m;const g=new LinkedList$4,v=new WeakMap,y=new Set;let w=G=>{console.error(G)},T=!1;function P(G,F,K){let Q=!0;try{typeof G=="function"?Q=G(F,K):Q=G.messageHook(F,K)}catch(ie){w(ie)}return Q}function A(G,F){try{G.processMessage(F)}catch(K){w(K)}}function D(G,F){g.addLast({handler:G,msg:F}),e===null&&(e=n(k))}function k(){if(e=null,g.isEmpty)return;let G={handler:null,msg:null};for(g.addLast(G);;){let F=g.removeFirst();if(F===G)return;F.handler&&F.msg&&i(F.handler,F.msg)}}function j(G){y.size===0&&n(B),y.add(G)}function B(){y.forEach(Z),y.clear()}function Z(G){ArrayExt$4.removeAllWhere(G,R)}function R(G){return G===null}})(MessageLoop$4||(MessageLoop$4={}));let Drag$4=class Fo{constructor(e){this._onScrollFrame=()=>{if(!this._scrollTarget)return;let{element:n,edge:i,distance:o}=this._scrollTarget,u=Private$Q.SCROLL_EDGE_SIZE-o,l=Math.pow(u/Private$Q.SCROLL_EDGE_SIZE,2),c=Math.max(1,Math.round(l*Private$Q.SCROLL_EDGE_SIZE));switch(i){case"top":n.scrollTop-=c;break;case"left":n.scrollLeft-=c;break;case"right":n.scrollLeft+=c;break;case"bottom":n.scrollTop+=c;break}requestAnimationFrame(this._onScrollFrame)},this._disposed=!1,this._dropAction="none",this._override=null,this._currentTarget=null,this._currentElement=null,this._promise=null,this._scrollTarget=null,this._resolve=null,this.document=e.document||document,this.mimeData=e.mimeData,this.dragImage=e.dragImage||null,this.proposedAction=e.proposedAction||"copy",this.supportedActions=e.supportedActions||"all",this.source=e.source||null}dispose(){if(!this._disposed){if(this._disposed=!0,this._currentTarget){let e=new PointerEvent("pointerup",{bubbles:!0,cancelable:!0,clientX:-1,clientY:-1});Private$Q.dispatchDragLeave(this,this._currentTarget,null,e)}this._finalize("none")}}get isDisposed(){return this._disposed}start(e,n){if(this._disposed)return Promise.resolve("none");if(this._promise)return this._promise;this._addListeners(),this._attachDragImage(e,n),this._promise=new Promise(o=>{this._resolve=o});let i=new PointerEvent("pointermove",{bubbles:!0,cancelable:!0,clientX:e,clientY:n});return document.dispatchEvent(i),this._promise}handleEvent(e){switch(e.type){case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;default:e.preventDefault(),e.stopPropagation();break}}moveDragImage(e,n){if(!this.dragImage)return;let i=this.dragImage.style;i.transform=`translate(${e}px, ${n}px)`}_evtPointerMove(e){e.preventDefault(),e.stopPropagation(),this._updateCurrentTarget(e),this._updateDragScroll(e),this.moveDragImage(e.clientX,e.clientY)}_evtPointerUp(e){if(e.preventDefault(),e.stopPropagation(),e.button!==0)return;if(this._updateCurrentTarget(e),!this._currentTarget){this._finalize("none");return}if(this._dropAction==="none"){Private$Q.dispatchDragLeave(this,this._currentTarget,null,e),this._finalize("none");return}let n=Private$Q.dispatchDrop(this,this._currentTarget,e);this._finalize(n)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&this.dispose()}_addListeners(){document.addEventListener("pointerdown",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("pointerup",this,!0),document.addEventListener("pointerenter",this,!0),document.addEventListener("pointerleave",this,!0),document.addEventListener("pointerover",this,!0),document.addEventListener("pointerout",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("keyup",this,!0),document.addEventListener("keypress",this,!0),document.addEventListener("contextmenu",this,!0)}_removeListeners(){document.removeEventListener("pointerdown",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointerenter",this,!0),document.removeEventListener("pointerleave",this,!0),document.removeEventListener("pointerover",this,!0),document.removeEventListener("pointerout",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("keyup",this,!0),document.removeEventListener("keypress",this,!0),document.removeEventListener("contextmenu",this,!0)}_updateDragScroll(e){let n=Private$Q.findScrollTarget(e);!this._scrollTarget&&!n||(this._scrollTarget||setTimeout(this._onScrollFrame,500),this._scrollTarget=n)}_updateCurrentTarget(e){let n=this._currentTarget,i=this._currentTarget,o=this._currentElement,u=Private$Q.findElementBehindBackdrop(e,this.document);this._currentElement=u,u!==o&&u!==i&&Private$Q.dispatchDragExit(this,i,u,e),u!==o&&u!==i&&(i=Private$Q.dispatchDragEnter(this,u,i,e)),i!==n&&(this._currentTarget=i,Private$Q.dispatchDragLeave(this,n,i,e));let l=Private$Q.dispatchDragOver(this,i,e);this._setDropAction(l)}_attachDragImage(e,n){if(!this.dragImage)return;this.dragImage.classList.add("lm-mod-drag-image");let i=this.dragImage.style;i.pointerEvents="none",i.position="fixed",i.transform=`translate(${e}px, ${n}px)`,(this.document instanceof Document?this.document.body:this.document.firstElementChild).appendChild(this.dragImage)}_detachDragImage(){if(!this.dragImage)return;let e=this.dragImage.parentNode;e&&e.removeChild(this.dragImage)}_setDropAction(e){if(e=Private$Q.validateAction(e,this.supportedActions),!(this._override&&this._dropAction===e))switch(e){case"none":this._dropAction=e,this._override=Fo.overrideCursor("no-drop",this.document);break;case"copy":this._dropAction=e,this._override=Fo.overrideCursor("copy",this.document);break;case"link":this._dropAction=e,this._override=Fo.overrideCursor("alias",this.document);break;case"move":this._dropAction=e,this._override=Fo.overrideCursor("move",this.document);break}}_finalize(e){let n=this._resolve;this._removeListeners(),this._detachDragImage(),this._override&&(this._override.dispose(),this._override=null),this.mimeData.clear(),this._disposed=!0,this._dropAction="none",this._currentTarget=null,this._currentElement=null,this._scrollTarget=null,this._promise=null,this._resolve=null,n&&n(e)}};(function(t){class e extends DragEvent{constructor(o,u){super(u.type,{bubbles:!0,cancelable:!0,altKey:o.altKey,button:o.button,clientX:o.clientX,clientY:o.clientY,ctrlKey:o.ctrlKey,detail:0,metaKey:o.metaKey,relatedTarget:u.related,screenX:o.screenX,screenY:o.screenY,shiftKey:o.shiftKey,view:window});const{drag:l}=u;this.dropAction="none",this.mimeData=l.mimeData,this.proposedAction=l.proposedAction,this.supportedActions=l.supportedActions,this.source=l.source}}t.Event=e;function n(i,o=document){return Private$Q.overrideCursor(i,o)}t.overrideCursor=n})(Drag$4||(Drag$4={}));var Private$Q;(function(t){t.SCROLL_EDGE_SIZE=20;function e(j,B){return g[j]&v[B]?j:"none"}t.validateAction=e;function n(j,B=document){if(j){if(i&&j==i.event)return i.element;t.cursorBackdrop.style.zIndex="-1000";const Z=B.elementFromPoint(j.clientX,j.clientY);return t.cursorBackdrop.style.zIndex="",i={event:j,element:Z},Z}else{const Z=t.cursorBackdrop.style.transform;if(o&&Z===o.transform)return o.element;const R=t.cursorBackdrop.getBoundingClientRect();t.cursorBackdrop.style.zIndex="-1000";const G=B.elementFromPoint(R.left+R.width/2,R.top+R.height/2);return t.cursorBackdrop.style.zIndex="",o={transform:Z,element:G},G}}t.findElementBehindBackdrop=n;let i=null,o=null;function u(j){let B=j.clientX,Z=j.clientY,R=n(j);for(;R;R=R.parentElement){if(!R.hasAttribute("data-lm-dragscroll"))continue;let G=0,F=0;R===document.body&&(G=window.pageXOffset,F=window.pageYOffset);let K=R.getBoundingClientRect(),Q=K.top+F,ie=K.left+G,te=ie+K.width,oe=Q+K.height;if(B<ie||B>=te||Z<Q||Z>=oe)continue;let le=B-ie+1,de=Z-Q+1,ge=te-B,_e=oe-Z,we=Math.min(le,de,ge,_e);if(we>t.SCROLL_EDGE_SIZE)continue;let Me;switch(we){case _e:Me="bottom";break;case de:Me="top";break;case ge:Me="right";break;case le:Me="left";break;default:throw"unreachable"}let xe=R.scrollWidth-R.clientWidth,Re=R.scrollHeight-R.clientHeight,Se;switch(Me){case"top":Se=Re>0&&R.scrollTop>0;break;case"left":Se=xe>0&&R.scrollLeft>0;break;case"right":Se=xe>0&&R.scrollLeft<xe;break;case"bottom":Se=Re>0&&R.scrollTop<Re;break;default:throw"unreachable"}if(Se)return{element:R,edge:Me,distance:we}}return null}t.findScrollTarget=u;function l(j,B,Z,R){if(!B)return null;let G=new Drag$4.Event(R,{drag:j,related:Z,type:"lm-dragenter"});if(!B.dispatchEvent(G))return B;const K=j.document instanceof Document?j.document.body:j.document.firstElementChild;return B===K?Z:(G=new Drag$4.Event(R,{drag:j,related:Z,type:"lm-dragenter"}),K.dispatchEvent(G),K)}t.dispatchDragEnter=l;function c(j,B,Z,R){if(!B)return;let G=new Drag$4.Event(R,{drag:j,related:Z,type:"lm-dragexit"});B.dispatchEvent(G)}t.dispatchDragExit=c;function f(j,B,Z,R){if(!B)return;let G=new Drag$4.Event(R,{drag:j,related:Z,type:"lm-dragleave"});B.dispatchEvent(G)}t.dispatchDragLeave=f;function d(j,B,Z){if(!B)return"none";let R=new Drag$4.Event(Z,{drag:j,related:null,type:"lm-dragover"});return B.dispatchEvent(R)?"none":R.dropAction}t.dispatchDragOver=d;function m(j,B,Z){if(!B)return"none";let R=new Drag$4.Event(Z,{drag:j,related:null,type:"lm-drop"});return B.dispatchEvent(R)?"none":R.dropAction}t.dispatchDrop=m;const g={none:0,copy:1,link:2,move:4},v={none:g.none,copy:g.copy,link:g.link,move:g.move,"copy-link":g.copy|g.link,"copy-move":g.copy|g.move,"link-move":g.link|g.move,all:g.copy|g.link|g.move};function y(j,B=document){let Z=++k;const R=B instanceof Document?B.body:B.firstElementChild;return t.cursorBackdrop.isConnected||(t.cursorBackdrop.style.transform="scale(0)",R.appendChild(t.cursorBackdrop),P(),document.addEventListener("pointermove",w,{capture:!0,passive:!0}),t.cursorBackdrop.addEventListener("scroll",T,{capture:!0,passive:!0})),t.cursorBackdrop.style.cursor=j,new DisposableDelegate$2(()=>{Z===k&&t.cursorBackdrop.isConnected&&(document.removeEventListener("pointermove",w,!0),t.cursorBackdrop.removeEventListener("scroll",T,!0),R.removeChild(t.cursorBackdrop))})}t.overrideCursor=y;function w(j){t.cursorBackdrop&&(t.cursorBackdrop.style.transform=`translate(${j.clientX}px, ${j.clientY}px)`)}function T(j){if(!t.cursorBackdrop)return;let B=n();if(!B)return;const Z=B.closest("[data-lm-dragscroll]");Z&&(Z.scrollTop+=t.cursorBackdrop.scrollTop-A,Z.scrollLeft+=t.cursorBackdrop.scrollLeft-A,P())}function P(){t.cursorBackdrop.scrollTop=A,t.cursorBackdrop.scrollLeft=A}const A=500;function D(){const j=document.createElement("div");return j.classList.add("lm-cursor-backdrop"),j}let k=0;t.cursorBackdrop=D()})(Private$Q||(Private$Q={}));let BoxSizer$4=class{constructor(){this.sizeHint=0,this.minSize=0,this.maxSize=1/0,this.stretch=1,this.size=0,this.done=!1}};var BoxEngine$4;(function(t){function e(u,l){let c=u.length;if(c===0)return l;let f=0,d=0,m=0,g=0,v=0;for(let T=0;T<c;++T){let P=u[T],A=P.minSize,D=P.maxSize,k=P.sizeHint;P.done=!1,P.size=Math.max(A,Math.min(k,D)),m+=P.size,f+=A,d+=D,P.stretch>0&&(g+=P.stretch,v++)}if(l===m)return 0;if(l<=f){for(let T=0;T<c;++T){let P=u[T];P.size=P.minSize}return l-f}if(l>=d){for(let T=0;T<c;++T){let P=u[T];P.size=P.maxSize}return l-d}let y=.01,w=c;if(l<m){let T=m-l;for(;v>0&&T>y;){let P=T,A=g;for(let D=0;D<c;++D){let k=u[D];if(k.done||k.stretch===0)continue;let j=k.stretch*P/A;k.size-j<=k.minSize?(T-=k.size-k.minSize,g-=k.stretch,k.size=k.minSize,k.done=!0,w--,v--):(T-=j,k.size-=j)}}for(;w>0&&T>y;){let P=T/w;for(let A=0;A<c;++A){let D=u[A];D.done||(D.size-P<=D.minSize?(T-=D.size-D.minSize,D.size=D.minSize,D.done=!0,w--):(T-=P,D.size-=P))}}}else{let T=l-m;for(;v>0&&T>y;){let P=T,A=g;for(let D=0;D<c;++D){let k=u[D];if(k.done||k.stretch===0)continue;let j=k.stretch*P/A;k.size+j>=k.maxSize?(T-=k.maxSize-k.size,g-=k.stretch,k.size=k.maxSize,k.done=!0,w--,v--):(T-=j,k.size+=j)}}for(;w>0&&T>y;){let P=T/w;for(let A=0;A<c;++A){let D=u[A];D.done||(D.size+P>=D.maxSize?(T-=D.maxSize-D.size,D.size=D.maxSize,D.done=!0,w--):(T-=P,D.size+=P))}}}return 0}t.calc=e;function n(u,l,c){u.length===0||c===0||(c>0?i(u,l,c):o(u,l,-c))}t.adjust=n;function i(u,l,c){let f=0;for(let v=0;v<=l;++v){let y=u[v];f+=y.maxSize-y.size}let d=0;for(let v=l+1,y=u.length;v<y;++v){let w=u[v];d+=w.size-w.minSize}c=Math.min(c,f,d);let m=c;for(let v=l;v>=0&&m>0;--v){let y=u[v],w=y.maxSize-y.size;w>=m?(y.sizeHint=y.size+m,m=0):(y.sizeHint=y.size+w,m-=w)}let g=c;for(let v=l+1,y=u.length;v<y&&g>0;++v){let w=u[v],T=w.size-w.minSize;T>=g?(w.sizeHint=w.size-g,g=0):(w.sizeHint=w.size-T,g-=T)}}function o(u,l,c){let f=0;for(let v=l+1,y=u.length;v<y;++v){let w=u[v];f+=w.maxSize-w.size}let d=0;for(let v=0;v<=l;++v){let y=u[v];d+=y.size-y.minSize}c=Math.min(c,f,d);let m=c;for(let v=l+1,y=u.length;v<y&&m>0;++v){let w=u[v],T=w.maxSize-w.size;T>=m?(w.sizeHint=w.size+m,m=0):(w.sizeHint=w.size+T,m-=T)}let g=c;for(let v=l;v>=0&&g>0;--v){let y=u[v],w=y.size-y.minSize;w>=g?(y.sizeHint=y.size-g,g=0):(y.sizeHint=y.size-w,g-=w)}}})(BoxEngine$4||(BoxEngine$4={}));let Title$4=class{constructor(e){this._label="",this._caption="",this._mnemonic=-1,this._icon=void 0,this._iconClass="",this._iconLabel="",this._className="",this._closable=!1,this._changed=new Signal$2(this),this._isDisposed=!1,this.owner=e.owner,e.label!==void 0&&(this._label=e.label),e.mnemonic!==void 0&&(this._mnemonic=e.mnemonic),e.icon!==void 0&&(this._icon=e.icon),e.iconClass!==void 0&&(this._iconClass=e.iconClass),e.iconLabel!==void 0&&(this._iconLabel=e.iconLabel),e.caption!==void 0&&(this._caption=e.caption),e.className!==void 0&&(this._className=e.className),e.closable!==void 0&&(this._closable=e.closable),this._dataset=e.dataset||{}}get changed(){return this._changed}get label(){return this._label}set label(e){this._label!==e&&(this._label=e,this._changed.emit(void 0))}get mnemonic(){return this._mnemonic}set mnemonic(e){this._mnemonic!==e&&(this._mnemonic=e,this._changed.emit(void 0))}get icon(){return this._icon}set icon(e){this._icon!==e&&(this._icon=e,this._changed.emit(void 0))}get iconClass(){return this._iconClass}set iconClass(e){this._iconClass!==e&&(this._iconClass=e,this._changed.emit(void 0))}get iconLabel(){return this._iconLabel}set iconLabel(e){this._iconLabel!==e&&(this._iconLabel=e,this._changed.emit(void 0))}get caption(){return this._caption}set caption(e){this._caption!==e&&(this._caption=e,this._changed.emit(void 0))}get className(){return this._className}set className(e){this._className!==e&&(this._className=e,this._changed.emit(void 0))}get closable(){return this._closable}set closable(e){this._closable!==e&&(this._closable=e,this._changed.emit(void 0))}get dataset(){return this._dataset}set dataset(e){this._dataset!==e&&(this._dataset=e,this._changed.emit(void 0))}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,Signal$2.clearData(this))}},Widget$4=class Or{constructor(e={}){this._flags=0,this._layout=null,this._parent=null,this._disposed=new Signal$2(this),this._hiddenMode=Or.HiddenMode.Display,this.node=Private$j$4.createNode(e),this.addClass("lm-Widget")}dispose(){this.isDisposed||(this.setFlag(Or.Flag.IsDisposed),this._disposed.emit(void 0),this.parent?this.parent=null:this.isAttached&&Or.detach(this),this._layout&&(this._layout.dispose(),this._layout=null),this.title.dispose(),Signal$2.clearData(this),MessageLoop$4.clearData(this),AttachedProperty$2.clearData(this))}get disposed(){return this._disposed}get isDisposed(){return this.testFlag(Or.Flag.IsDisposed)}get isAttached(){return this.testFlag(Or.Flag.IsAttached)}get isHidden(){return this.testFlag(Or.Flag.IsHidden)}get isVisible(){let e=this;do{if(e.isHidden||!e.isAttached)return!1;e=e.parent}while(e!=null);return!0}get title(){return Private$j$4.titleProperty.get(this)}get id(){return this.node.id}set id(e){this.node.id=e}get dataset(){return this.node.dataset}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this.isHidden&&this._toggleHidden(!1),e==Or.HiddenMode.Scale?this.node.style.willChange="transform":this.node.style.willChange="auto",this._hiddenMode=e,this.isHidden&&this._toggleHidden(!0))}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(e&&this.contains(e))throw new Error("Invalid parent widget.");if(this._parent&&!this._parent.isDisposed){let n=new Or.ChildMessage("child-removed",this);MessageLoop$4.sendMessage(this._parent,n)}if(this._parent=e,this._parent&&!this._parent.isDisposed){let n=new Or.ChildMessage("child-added",this);MessageLoop$4.sendMessage(this._parent,n)}this.isDisposed||MessageLoop$4.sendMessage(this,Or.Msg.ParentChanged)}}get layout(){return this._layout}set layout(e){if(this._layout!==e){if(this.testFlag(Or.Flag.DisallowLayout))throw new Error("Cannot set widget layout.");if(this._layout)throw new Error("Cannot change widget layout.");if(e.parent)throw new Error("Cannot change layout parent.");this._layout=e,e.parent=this}}*children(){this._layout&&(yield*this._layout)}contains(e){for(let n=e;n;n=n._parent)if(n===this)return!0;return!1}hasClass(e){return this.node.classList.contains(e)}addClass(e){this.node.classList.add(e)}removeClass(e){this.node.classList.remove(e)}toggleClass(e,n){return n===!0?(this.node.classList.add(e),!0):n===!1?(this.node.classList.remove(e),!1):this.node.classList.toggle(e)}update(){MessageLoop$4.postMessage(this,Or.Msg.UpdateRequest)}fit(){MessageLoop$4.postMessage(this,Or.Msg.FitRequest)}activate(){MessageLoop$4.postMessage(this,Or.Msg.ActivateRequest)}close(){MessageLoop$4.sendMessage(this,Or.Msg.CloseRequest)}show(){if(this.testFlag(Or.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&MessageLoop$4.sendMessage(this,Or.Msg.BeforeShow),this.clearFlag(Or.Flag.IsHidden),this._toggleHidden(!1),this.isAttached&&(!this.parent||this.parent.isVisible)&&MessageLoop$4.sendMessage(this,Or.Msg.AfterShow),this.parent)){let e=new Or.ChildMessage("child-shown",this);MessageLoop$4.sendMessage(this.parent,e)}}hide(){if(!this.testFlag(Or.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&MessageLoop$4.sendMessage(this,Or.Msg.BeforeHide),this.setFlag(Or.Flag.IsHidden),this._toggleHidden(!0),this.isAttached&&(!this.parent||this.parent.isVisible)&&MessageLoop$4.sendMessage(this,Or.Msg.AfterHide),this.parent)){let e=new Or.ChildMessage("child-hidden",this);MessageLoop$4.sendMessage(this.parent,e)}}setHidden(e){e?this.hide():this.show()}testFlag(e){return(this._flags&e)!==0}setFlag(e){this._flags|=e}clearFlag(e){this._flags&=~e}processMessage(e){switch(e.type){case"resize":this.notifyLayout(e),this.onResize(e);break;case"update-request":this.notifyLayout(e),this.onUpdateRequest(e);break;case"fit-request":this.notifyLayout(e),this.onFitRequest(e);break;case"before-show":this.notifyLayout(e),this.onBeforeShow(e);break;case"after-show":this.setFlag(Or.Flag.IsVisible),this.notifyLayout(e),this.onAfterShow(e);break;case"before-hide":this.notifyLayout(e),this.onBeforeHide(e);break;case"after-hide":this.clearFlag(Or.Flag.IsVisible),this.notifyLayout(e),this.onAfterHide(e);break;case"before-attach":this.notifyLayout(e),this.onBeforeAttach(e);break;case"after-attach":!this.isHidden&&(!this.parent||this.parent.isVisible)&&this.setFlag(Or.Flag.IsVisible),this.setFlag(Or.Flag.IsAttached),this.notifyLayout(e),this.onAfterAttach(e);break;case"before-detach":this.notifyLayout(e),this.onBeforeDetach(e);break;case"after-detach":this.clearFlag(Or.Flag.IsVisible),this.clearFlag(Or.Flag.IsAttached),this.notifyLayout(e),this.onAfterDetach(e);break;case"activate-request":this.notifyLayout(e),this.onActivateRequest(e);break;case"close-request":this.notifyLayout(e),this.onCloseRequest(e);break;case"child-added":this.notifyLayout(e),this.onChildAdded(e);break;case"child-removed":this.notifyLayout(e),this.onChildRemoved(e);break;default:this.notifyLayout(e);break}}notifyLayout(e){this._layout&&this._layout.processParentMessage(e)}onCloseRequest(e){this.parent?this.parent=null:this.isAttached&&Or.detach(this)}onResize(e){}onUpdateRequest(e){}onFitRequest(e){}onActivateRequest(e){}onBeforeShow(e){}onAfterShow(e){}onBeforeHide(e){}onAfterHide(e){}onBeforeAttach(e){}onAfterAttach(e){}onBeforeDetach(e){}onAfterDetach(e){}onChildAdded(e){}onChildRemoved(e){}_toggleHidden(e){if(e)switch(this._hiddenMode){case Or.HiddenMode.Display:this.addClass("lm-mod-hidden");break;case Or.HiddenMode.Scale:this.node.style.transform="scale(0)",this.node.setAttribute("aria-hidden","true");break;case Or.HiddenMode.ContentVisibility:this.node.style.contentVisibility="hidden",this.node.style.zIndex="-1";break}else switch(this._hiddenMode){case Or.HiddenMode.Display:this.removeClass("lm-mod-hidden");break;case Or.HiddenMode.Scale:this.node.style.transform="",this.node.removeAttribute("aria-hidden");break;case Or.HiddenMode.ContentVisibility:this.node.style.contentVisibility="",this.node.style.zIndex="";break}}};(function(t){(function(u){u[u.Display=0]="Display",u[u.Scale=1]="Scale",u[u.ContentVisibility=2]="ContentVisibility"})(t.HiddenMode||(t.HiddenMode={})),(function(u){u[u.IsDisposed=1]="IsDisposed",u[u.IsAttached=2]="IsAttached",u[u.IsHidden=4]="IsHidden",u[u.IsVisible=8]="IsVisible",u[u.DisallowLayout=16]="DisallowLayout"})(t.Flag||(t.Flag={})),(function(u){u.BeforeShow=new Message$4("before-show"),u.AfterShow=new Message$4("after-show"),u.BeforeHide=new Message$4("before-hide"),u.AfterHide=new Message$4("after-hide"),u.BeforeAttach=new Message$4("before-attach"),u.AfterAttach=new Message$4("after-attach"),u.BeforeDetach=new Message$4("before-detach"),u.AfterDetach=new Message$4("after-detach"),u.ParentChanged=new Message$4("parent-changed"),u.UpdateRequest=new ConflatableMessage$4("update-request"),u.FitRequest=new ConflatableMessage$4("fit-request"),u.ActivateRequest=new ConflatableMessage$4("activate-request"),u.CloseRequest=new ConflatableMessage$4("close-request")})(t.Msg||(t.Msg={}));class e extends Message$4{constructor(l,c){super(l),this.child=c}}t.ChildMessage=e;class n extends Message$4{constructor(l,c){super("resize"),this.width=l,this.height=c}}t.ResizeMessage=n,(function(u){u.UnknownSize=new u(-1,-1)})(n=t.ResizeMessage||(t.ResizeMessage={}));function i(u,l,c=null){if(u.parent)throw new Error("Cannot attach a child widget.");if(u.isAttached||u.node.isConnected)throw new Error("Widget is already attached.");if(!l.isConnected)throw new Error("Host is not attached.");MessageLoop$4.sendMessage(u,t.Msg.BeforeAttach),l.insertBefore(u.node,c),MessageLoop$4.sendMessage(u,t.Msg.AfterAttach)}t.attach=i;function o(u){if(u.parent)throw new Error("Cannot detach a child widget.");if(!u.isAttached||!u.node.isConnected)throw new Error("Widget is not attached.");MessageLoop$4.sendMessage(u,t.Msg.BeforeDetach),u.node.parentNode.removeChild(u.node),MessageLoop$4.sendMessage(u,t.Msg.AfterDetach)}t.detach=o})(Widget$4||(Widget$4={}));var Private$j$4;(function(t){t.titleProperty=new AttachedProperty$2({name:"title",create:n=>new Title$4({owner:n})});function e(n){return n.node||document.createElement(n.tag||"div")}t.createNode=e})(Private$j$4||(Private$j$4={}));let Layout$4=class{constructor(e={}){this._disposed=!1,this._parent=null,this._fitPolicy=e.fitPolicy||"set-min-size"}dispose(){this._parent=null,this._disposed=!0,Signal$2.clearData(this),AttachedProperty$2.clearData(this)}get isDisposed(){return this._disposed}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(this._parent)throw new Error("Cannot change parent widget.");if(e.layout!==this)throw new Error("Invalid parent widget.");this._parent=e,this.init()}}get fitPolicy(){return this._fitPolicy}set fitPolicy(e){if(this._fitPolicy!==e&&(this._fitPolicy=e,this._parent)){let n=this._parent.node.style;n.minWidth="",n.minHeight="",n.maxWidth="",n.maxHeight="",this._parent.fit()}}processParentMessage(e){switch(e.type){case"resize":this.onResize(e);break;case"update-request":this.onUpdateRequest(e);break;case"fit-request":this.onFitRequest(e);break;case"before-show":this.onBeforeShow(e);break;case"after-show":this.onAfterShow(e);break;case"before-hide":this.onBeforeHide(e);break;case"after-hide":this.onAfterHide(e);break;case"before-attach":this.onBeforeAttach(e);break;case"after-attach":this.onAfterAttach(e);break;case"before-detach":this.onBeforeDetach(e);break;case"after-detach":this.onAfterDetach(e);break;case"child-removed":this.onChildRemoved(e);break;case"child-shown":this.onChildShown(e);break;case"child-hidden":this.onChildHidden(e);break}}init(){for(const e of this)e.parent=this.parent}onResize(e){for(const n of this)MessageLoop$4.sendMessage(n,Widget$4.ResizeMessage.UnknownSize)}onUpdateRequest(e){for(const n of this)MessageLoop$4.sendMessage(n,Widget$4.ResizeMessage.UnknownSize)}onBeforeAttach(e){for(const n of this)MessageLoop$4.sendMessage(n,e)}onAfterAttach(e){for(const n of this)MessageLoop$4.sendMessage(n,e)}onBeforeDetach(e){for(const n of this)MessageLoop$4.sendMessage(n,e)}onAfterDetach(e){for(const n of this)MessageLoop$4.sendMessage(n,e)}onBeforeShow(e){for(const n of this)n.isHidden||MessageLoop$4.sendMessage(n,e)}onAfterShow(e){for(const n of this)n.isHidden||MessageLoop$4.sendMessage(n,e)}onBeforeHide(e){for(const n of this)n.isHidden||MessageLoop$4.sendMessage(n,e)}onAfterHide(e){for(const n of this)n.isHidden||MessageLoop$4.sendMessage(n,e)}onChildRemoved(e){this.removeWidget(e.child)}onFitRequest(e){}onChildShown(e){}onChildHidden(e){}};(function(t){function e(u){return Private$i$4.horizontalAlignmentProperty.get(u)}t.getHorizontalAlignment=e;function n(u,l){Private$i$4.horizontalAlignmentProperty.set(u,l)}t.setHorizontalAlignment=n;function i(u){return Private$i$4.verticalAlignmentProperty.get(u)}t.getVerticalAlignment=i;function o(u,l){Private$i$4.verticalAlignmentProperty.set(u,l)}t.setVerticalAlignment=o})(Layout$4||(Layout$4={}));let LayoutItem$4=class{constructor(e){this._top=NaN,this._left=NaN,this._width=NaN,this._height=NaN,this._minWidth=0,this._minHeight=0,this._maxWidth=1/0,this._maxHeight=1/0,this._disposed=!1,this.widget=e,this.widget.node.style.position="absolute",this.widget.node.style.contain="strict"}dispose(){if(this._disposed)return;this._disposed=!0;let e=this.widget.node.style;e.position="",e.top="",e.left="",e.width="",e.height="",e.contain=""}get minWidth(){return this._minWidth}get minHeight(){return this._minHeight}get maxWidth(){return this._maxWidth}get maxHeight(){return this._maxHeight}get isDisposed(){return this._disposed}get isHidden(){return this.widget.isHidden}get isVisible(){return this.widget.isVisible}get isAttached(){return this.widget.isAttached}fit(){let e=ElementExt$1.sizeLimits(this.widget.node);this._minWidth=e.minWidth,this._minHeight=e.minHeight,this._maxWidth=e.maxWidth,this._maxHeight=e.maxHeight}update(e,n,i,o){let u=Math.max(this._minWidth,Math.min(i,this._maxWidth)),l=Math.max(this._minHeight,Math.min(o,this._maxHeight));if(u<i)switch(Layout$4.getHorizontalAlignment(this.widget)){case"left":break;case"center":e+=(i-u)/2;break;case"right":e+=i-u;break;default:throw"unreachable"}if(l<o)switch(Layout$4.getVerticalAlignment(this.widget)){case"top":break;case"center":n+=(o-l)/2;break;case"bottom":n+=o-l;break;default:throw"unreachable"}let c=!1,f=this.widget.node.style;if(this._top!==n&&(this._top=n,f.top=`${n}px`),this._left!==e&&(this._left=e,f.left=`${e}px`),this._width!==u&&(c=!0,this._width=u,f.width=`${u}px`),this._height!==l&&(c=!0,this._height=l,f.height=`${l}px`),c){let d=new Widget$4.ResizeMessage(u,l);MessageLoop$4.sendMessage(this.widget,d)}}};var Private$i$4;(function(t){t.horizontalAlignmentProperty=new AttachedProperty$2({name:"horizontalAlignment",create:()=>"center",changed:e}),t.verticalAlignmentProperty=new AttachedProperty$2({name:"verticalAlignment",create:()=>"top",changed:e});function e(n){n.parent&&n.parent.layout&&n.parent.update()}})(Private$i$4||(Private$i$4={}));let PanelLayout$4=class extends Layout$4{constructor(){super(...arguments),this._widgets=[]}dispose(){for(;this._widgets.length>0;)this._widgets.pop().dispose();super.dispose()}get widgets(){return this._widgets}*[Symbol.iterator](){yield*this._widgets}addWidget(e){this.insertWidget(this._widgets.length,e)}insertWidget(e,n){n.parent=this.parent;let i=this._widgets.indexOf(n),o=Math.max(0,Math.min(e,this._widgets.length));if(i===-1){ArrayExt$4.insert(this._widgets,o,n),this.parent&&this.attachWidget(o,n);return}o===this._widgets.length&&o--,i!==o&&(ArrayExt$4.move(this._widgets,i,o),this.parent&&this.moveWidget(i,o,n))}removeWidget(e){this.removeWidgetAt(this._widgets.indexOf(e))}removeWidgetAt(e){let n=ArrayExt$4.removeAt(this._widgets,e);n&&this.parent&&this.detachWidget(e,n)}init(){super.init();let e=0;for(const n of this)this.attachWidget(e++,n)}attachWidget(e,n){let i=this.parent.node.children[e];this.parent.isAttached&&MessageLoop$4.sendMessage(n,Widget$4.Msg.BeforeAttach),this.parent.node.insertBefore(n.node,i),this.parent.isAttached&&MessageLoop$4.sendMessage(n,Widget$4.Msg.AfterAttach)}moveWidget(e,n,i){this.parent.isAttached&&MessageLoop$4.sendMessage(i,Widget$4.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&MessageLoop$4.sendMessage(i,Widget$4.Msg.AfterDetach);let o=this.parent.node.children[n];this.parent.isAttached&&MessageLoop$4.sendMessage(i,Widget$4.Msg.BeforeAttach),this.parent.node.insertBefore(i.node,o),this.parent.isAttached&&MessageLoop$4.sendMessage(i,Widget$4.Msg.AfterAttach)}detachWidget(e,n){this.parent.isAttached&&MessageLoop$4.sendMessage(n,Widget$4.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.isAttached&&MessageLoop$4.sendMessage(n,Widget$4.Msg.AfterDetach)}};var Utils$5;(function(t){function e(n){return Math.max(0,Math.floor(n))}t.clampDimension=e})(Utils$5||(Utils$5={}));var Utils$1$4=Utils$5;let SplitLayout$4=class fp extends PanelLayout$4{constructor(e){super(),this.widgetOffset=0,this._fixed=0,this._spacing=4,this._dirty=!1,this._hasNormedSizes=!1,this._sizers=[],this._items=[],this._handles=[],this._box=null,this._alignment="start",this._orientation="horizontal",this.renderer=e.renderer,e.orientation!==void 0&&(this._orientation=e.orientation),e.alignment!==void 0&&(this._alignment=e.alignment),e.spacing!==void 0&&(this._spacing=Utils$5.clampDimension(e.spacing))}dispose(){for(const e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,this._handles.length=0,super.dispose()}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this.parent&&(this.parent.dataset.orientation=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=Utils$5.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get handles(){return this._handles}absoluteSizes(){return this._sizers.map(e=>e.size)}relativeSizes(){return Private$h$4.normalize(this._sizers.map(e=>e.size))}setRelativeSizes(e,n=!0){let i=this._sizers.length,o=e.slice(0,i);for(;o.length<i;)o.push(0);let u=Private$h$4.normalize(o);for(let l=0;l<i;++l){let c=this._sizers[l];c.sizeHint=u[l],c.size=u[l]}this._hasNormedSizes=!0,n&&this.parent&&this.parent.update()}moveHandle(e,n){let i=this._handles[e];if(!i||i.classList.contains("lm-mod-hidden"))return;let o;if(this._orientation==="horizontal"?o=n-i.offsetLeft:o=n-i.offsetTop,o!==0){for(let u of this._sizers)u.size>0&&(u.sizeHint=u.size);BoxEngine$4.adjust(this._sizers,e,o),this.parent&&this.parent.update()}}init(){this.parent.dataset.orientation=this.orientation,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,n){let i=new LayoutItem$4(n),o=Private$h$4.createHandle(this.renderer),u=Private$h$4.averageSize(this._sizers),l=Private$h$4.createSizer(u);ArrayExt$4.insert(this._items,e,i),ArrayExt$4.insert(this._sizers,e,l),ArrayExt$4.insert(this._handles,e,o),this.parent.isAttached&&MessageLoop$4.sendMessage(n,Widget$4.Msg.BeforeAttach),this.parent.node.appendChild(n.node),this.parent.node.appendChild(o),this.parent.isAttached&&MessageLoop$4.sendMessage(n,Widget$4.Msg.AfterAttach),this.parent.fit()}moveWidget(e,n,i){ArrayExt$4.move(this._items,e,n),ArrayExt$4.move(this._sizers,e,n),ArrayExt$4.move(this._handles,e,n),this.parent.fit()}detachWidget(e,n){let i=ArrayExt$4.removeAt(this._items,e),o=ArrayExt$4.removeAt(this._handles,e);ArrayExt$4.removeAt(this._sizers,e),this.parent.isAttached&&MessageLoop$4.sendMessage(n,Widget$4.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.node.removeChild(o),this.parent.isAttached&&MessageLoop$4.sendMessage(n,Widget$4.Msg.AfterDetach),i.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}updateItemPosition(e,n,i,o,u,l,c){const f=this._items[e];if(f.isHidden)return;let d=this._handles[e].style;n?(i+=this.widgetOffset,f.update(i,o,c,u),i+=c,d.top=`${o}px`,d.left=`${i}px`,d.width=`${this._spacing}px`,d.height=`${u}px`):(o+=this.widgetOffset,f.update(i,o,l,c),o+=c,d.top=`${o}px`,d.left=`${i}px`,d.width=`${l}px`,d.height=`${this._spacing}px`)}_fit(){let e=0,n=-1;for(let f=0,d=this._items.length;f<d;++f)this._items[f].isHidden?this._handles[f].classList.add("lm-mod-hidden"):(this._handles[f].classList.remove("lm-mod-hidden"),n=f,e++);n!==-1&&this._handles[n].classList.add("lm-mod-hidden"),this._fixed=this._spacing*Math.max(0,e-1)+this.widgetOffset*this._items.length;let i=this._orientation==="horizontal",o=i?this._fixed:0,u=i?0:this._fixed;for(let f=0,d=this._items.length;f<d;++f){let m=this._items[f],g=this._sizers[f];if(g.size>0&&(g.sizeHint=g.size),m.isHidden){g.minSize=0,g.maxSize=0;continue}m.fit(),g.stretch=fp.getStretch(m.widget),i?(g.minSize=m.minWidth,g.maxSize=m.maxWidth,o+=m.minWidth,u=Math.max(u,m.minHeight)):(g.minSize=m.minHeight,g.maxSize=m.maxHeight,u+=m.minHeight,o=Math.max(o,m.minWidth))}let l=this._box=ElementExt$1.boxSizing(this.parent.node);o+=l.horizontalSum,u+=l.verticalSum;let c=this.parent.node.style;c.minWidth=`${o}px`,c.minHeight=`${u}px`,this._dirty=!0,this.parent.parent&&MessageLoop$4.sendMessage(this.parent.parent,Widget$4.Msg.FitRequest),this._dirty&&MessageLoop$4.sendMessage(this.parent,Widget$4.Msg.UpdateRequest)}_update(e,n){this._dirty=!1;let i=0;for(let g=0,v=this._items.length;g<v;++g)i+=+!this._items[g].isHidden;if(i===0&&this.widgetOffset===0)return;e<0&&(e=this.parent.node.offsetWidth),n<0&&(n=this.parent.node.offsetHeight),this._box||(this._box=ElementExt$1.boxSizing(this.parent.node));let o=this._box.paddingTop,u=this._box.paddingLeft,l=e-this._box.horizontalSum,c=n-this._box.verticalSum,f=0,d=0,m=this._orientation==="horizontal";if(i>0){let g;if(m?g=Math.max(0,l-this._fixed):g=Math.max(0,c-this._fixed),this._hasNormedSizes){for(let y of this._sizers)y.sizeHint*=g;this._hasNormedSizes=!1}let v=BoxEngine$4.calc(this._sizers,g);if(v>0)switch(this._alignment){case"start":break;case"center":f=0,d=v/2;break;case"end":f=0,d=v;break;case"justify":f=v/i,d=0;break;default:throw"unreachable"}}for(let g=0,v=this._items.length;g<v;++g){const w=this._items[g].isHidden?0:this._sizers[g].size+f;this.updateItemPosition(g,m,m?u+d:u,m?o:o+d,c,l,w);const T=this.widgetOffset+(this._handles[g].classList.contains("lm-mod-hidden")?0:this._spacing);m?u+=w+T:o+=w+T}}};(function(t){function e(i){return Private$h$4.stretchProperty.get(i)}t.getStretch=e;function n(i,o){Private$h$4.stretchProperty.set(i,o)}t.setStretch=n})(SplitLayout$4||(SplitLayout$4={}));var Private$h$4;(function(t){t.stretchProperty=new AttachedProperty$2({name:"stretch",create:()=>0,coerce:(l,c)=>Math.max(0,Math.floor(c)),changed:u});function e(l){let c=new BoxSizer$4;return c.sizeHint=Math.floor(l),c}t.createSizer=e;function n(l){let c=l.createHandle();return c.style.position="absolute",c.style.contain="style",c}t.createHandle=n;function i(l){return l.reduce((c,f)=>c+f.size,0)/l.length||0}t.averageSize=i;function o(l){let c=l.length;if(c===0)return[];let f=l.reduce((d,m)=>d+Math.abs(m),0);return f===0?l.map(d=>1/c):l.map(d=>d/f)}t.normalize=o;function u(l){l.parent&&l.parent.layout instanceof SplitLayout$4&&l.parent.fit()}})(Private$h$4||(Private$h$4={}));let AccordionLayout$4=class extends SplitLayout$4{constructor(e){super({...e,orientation:e.orientation||"vertical"}),this._titles=[],this.titleSpace=e.titleSpace||22}get titleSpace(){return this.widgetOffset}set titleSpace(e){e=Utils$1$4.clampDimension(e),this.widgetOffset!==e&&(this.widgetOffset=e,this.parent&&this.parent.fit())}get titles(){return this._titles}dispose(){this.isDisposed||(this._titles.length=0,super.dispose())}updateTitle(e,n){const i=this._titles[e],o=i.classList.contains("lm-mod-expanded"),u=Private$g$4.createTitle(this.renderer,n.title,o);this._titles[e]=u,this.parent.node.replaceChild(u,i)}insertWidget(e,n){n.id||(n.id=`id-${UUID$2.uuid4()}`),super.insertWidget(e,n)}attachWidget(e,n){const i=Private$g$4.createTitle(this.renderer,n.title);ArrayExt$4.insert(this._titles,e,i),this.parent.node.appendChild(i),n.node.setAttribute("role","region"),n.node.setAttribute("aria-labelledby",i.id),super.attachWidget(e,n)}moveWidget(e,n,i){ArrayExt$4.move(this._titles,e,n),super.moveWidget(e,n,i)}detachWidget(e,n){const i=ArrayExt$4.removeAt(this._titles,e);this.parent.node.removeChild(i),super.detachWidget(e,n)}updateItemPosition(e,n,i,o,u,l,c){const f=this._titles[e].style;f.top=`${o}px`,f.left=`${i}px`,f.height=`${this.widgetOffset}px`,n?f.width=`${u}px`:f.width=`${l}px`,super.updateItemPosition(e,n,i,o,u,l,c)}};var Private$g$4;(function(t){function e(n,i,o=!0){const u=n.createSectionTitle(i);return u.style.position="absolute",u.style.contain="strict",u.setAttribute("aria-label",`${i.label} Section`),u.setAttribute("aria-expanded",o?"true":"false"),u.setAttribute("aria-controls",i.owner.id),o&&u.classList.add("lm-mod-expanded"),u}t.createTitle=e})(Private$g$4||(Private$g$4={}));let Panel$4=class extends Widget$4{constructor(e={}){super(),this.addClass("lm-Panel"),this.layout=Private$f$4.createLayout(e)}get widgets(){return this.layout.widgets}addWidget(e){this.layout.addWidget(e)}insertWidget(e,n){this.layout.insertWidget(e,n)}};var Private$f$4;(function(t){function e(n){return n.layout||new PanelLayout$4}t.createLayout=e})(Private$f$4||(Private$f$4={}));let SplitPanel$4=class extends Panel$4{constructor(e={}){super({layout:Private$e$4.createLayout(e)}),this._handleMoved=new Signal$2(this),this._pressData=null,this.addClass("lm-SplitPanel")}dispose(){this._releaseMouse(),super.dispose()}get orientation(){return this.layout.orientation}set orientation(e){this.layout.orientation=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get renderer(){return this.layout.renderer}get handleMoved(){return this._handleMoved}get handles(){return this.layout.handles}relativeSizes(){return this.layout.relativeSizes()}setRelativeSizes(e,n=!0){this.layout.setRelativeSizes(e,n)}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){e.child.addClass("lm-SplitPanel-child"),this._releaseMouse()}onChildRemoved(e){e.child.removeClass("lm-SplitPanel-child"),this._releaseMouse()}_evtKeyDown(e){this._pressData&&(e.preventDefault(),e.stopPropagation()),e.keyCode===27&&this._releaseMouse()}_evtPointerDown(e){if(e.button!==0)return;let n=this.layout,i=ArrayExt$4.findFirstIndex(n.handles,d=>d.contains(e.target));if(i===-1)return;e.preventDefault(),e.stopPropagation(),document.addEventListener("pointerup",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0);let o,u=n.handles[i],l=u.getBoundingClientRect();n.orientation==="horizontal"?o=e.clientX-l.left:o=e.clientY-l.top;let c=window.getComputedStyle(u),f=Drag$4.overrideCursor(c.cursor);this._pressData={index:i,delta:o,override:f}}_evtPointerMove(e){e.preventDefault(),e.stopPropagation();let n,i=this.layout,o=this.node.getBoundingClientRect();i.orientation==="horizontal"?n=e.clientX-o.left-this._pressData.delta:n=e.clientY-o.top-this._pressData.delta,i.moveHandle(this._pressData.index,n)}_evtPointerUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse())}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._handleMoved.emit(),document.removeEventListener("keydown",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("contextmenu",this,!0))}};(function(t){class e{createHandle(){let u=document.createElement("div");return u.className="lm-SplitPanel-handle",u}}t.Renderer=e,t.defaultRenderer=new e;function n(o){return SplitLayout$4.getStretch(o)}t.getStretch=n;function i(o,u){SplitLayout$4.setStretch(o,u)}t.setStretch=i})(SplitPanel$4||(SplitPanel$4={}));var Private$e$4;(function(t){function e(n){return n.layout||new SplitLayout$4({renderer:n.renderer||SplitPanel$4.defaultRenderer,orientation:n.orientation,alignment:n.alignment,spacing:n.spacing})}t.createLayout=e})(Private$e$4||(Private$e$4={}));let AccordionPanel$4=class extends SplitPanel$4{constructor(e={}){super({...e,layout:Private$d$4.createLayout(e)}),this._widgetSizesCache=new WeakMap,this._expansionToggled=new Signal$2(this),this.addClass("lm-AccordionPanel")}get renderer(){return this.layout.renderer}get titleSpace(){return this.layout.titleSpace}set titleSpace(e){this.layout.titleSpace=e}get titles(){return this.layout.titles}get expansionToggled(){return this._expansionToggled}addWidget(e){super.addWidget(e),e.title.changed.connect(this._onTitleChanged,this)}collapse(e){const n=this.layout.widgets[e];n&&!n.isHidden&&this._toggleExpansion(e)}expand(e){const n=this.layout.widgets[e];n&&n.isHidden&&this._toggleExpansion(e)}insertWidget(e,n){super.insertWidget(e,n),n.title.changed.connect(this._onTitleChanged,this)}handleEvent(e){switch(super.handleEvent(e),e.type){case"click":this._evtClick(e);break;case"keydown":this._eventKeyDown(e);break}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),super.onBeforeAttach(e)}onAfterDetach(e){super.onAfterDetach(e),this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this)}_onTitleChanged(e){const n=ArrayExt$4.findFirstIndex(this.widgets,i=>i.contains(e.owner));n>=0&&(this.layout.updateTitle(n,e.owner),this.update())}_computeWidgetSize(e){const n=this.layout,i=n.widgets[e];if(!i)return;const o=i.isHidden,u=n.absoluteSizes(),l=(o?-1:1)*this.spacing,c=u.reduce((d,m)=>d+m);let f=[...u];if(o){const d=this._widgetSizesCache.get(i);if(!d)return;f[e]+=d;const m=f.map(g=>g-d>0).lastIndexOf(!0);m===-1?f.forEach((g,v)=>{v!==e&&(f[v]-=u[v]/c*(d-l))}):f[m]-=d-l}else{const d=u[e];this._widgetSizesCache.set(i,d),f[e]=0;const m=f.map(g=>g>0).lastIndexOf(!0);if(m===-1)return;f[m]=u[m]+d+l}return f.map(d=>d/(c+l))}_evtClick(e){const n=e.target;if(n){const i=ArrayExt$4.findFirstIndex(this.titles,o=>o.contains(n));i>=0&&(e.preventDefault(),e.stopPropagation(),this._toggleExpansion(i))}}_eventKeyDown(e){if(e.defaultPrevented)return;const n=e.target;let i=!1;if(n){const o=ArrayExt$4.findFirstIndex(this.titles,u=>u.contains(n));if(o>=0){const u=e.keyCode.toString();if(e.key.match(/Space|Enter/)||u.match(/13|32/))n.click(),i=!0;else if(this.orientation==="horizontal"?e.key.match(/ArrowLeft|ArrowRight/)||u.match(/37|39/):e.key.match(/ArrowUp|ArrowDown/)||u.match(/38|40/)){const l=e.key.match(/ArrowLeft|ArrowUp/)||u.match(/37|38/)?-1:1,c=this.titles.length,f=(o+c+l)%c;this.titles[f].focus(),i=!0}else e.key==="End"||u==="35"?(this.titles[this.titles.length-1].focus(),i=!0):(e.key==="Home"||u==="36")&&(this.titles[0].focus(),i=!0)}i&&e.preventDefault()}}_toggleExpansion(e){const n=this.titles[e],i=this.layout.widgets[e],o=this._computeWidgetSize(e);o&&this.setRelativeSizes(o,!1),i.isHidden?(n.classList.add("lm-mod-expanded"),n.setAttribute("aria-expanded","true"),i.show()):(n.classList.remove("lm-mod-expanded"),n.setAttribute("aria-expanded","false"),i.hide()),this._expansionToggled.emit(e)}};(function(t){class e extends SplitPanel$4.Renderer{constructor(){super(),this.titleClassName="lm-AccordionPanel-title",this._titleID=0,this._titleKeys=new WeakMap,this._uuid=++e._nInstance}createCollapseIcon(i){return document.createElement("span")}createSectionTitle(i){const o=document.createElement("h3");o.setAttribute("tabindex","0"),o.id=this.createTitleKey(i),o.className=this.titleClassName;for(const c in i.dataset)o.dataset[c]=i.dataset[c];const u=o.appendChild(this.createCollapseIcon(i));u.className="lm-AccordionPanel-titleCollapser";const l=o.appendChild(document.createElement("span"));return l.className="lm-AccordionPanel-titleLabel",l.textContent=i.label,l.title=i.caption||i.label,o}createTitleKey(i){let o=this._titleKeys.get(i);return o===void 0&&(o=`title-key-${this._uuid}-${this._titleID++}`,this._titleKeys.set(i,o)),o}}e._nInstance=0,t.Renderer=e,t.defaultRenderer=new e})(AccordionPanel$4||(AccordionPanel$4={}));var Private$d$4;(function(t){function e(n){return n.layout||new AccordionLayout$4({renderer:n.renderer||AccordionPanel$4.defaultRenderer,orientation:n.orientation,alignment:n.alignment,spacing:n.spacing,titleSpace:n.titleSpace})}t.createLayout=e})(Private$d$4||(Private$d$4={}));let BoxLayout$4=class Xc extends PanelLayout$4{constructor(e={}){super(),this._fixed=0,this._spacing=4,this._dirty=!1,this._sizers=[],this._items=[],this._box=null,this._alignment="start",this._direction="top-to-bottom",e.direction!==void 0&&(this._direction=e.direction),e.alignment!==void 0&&(this._alignment=e.alignment),e.spacing!==void 0&&(this._spacing=Utils$1$4.clampDimension(e.spacing))}dispose(){for(const e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,super.dispose()}get direction(){return this._direction}set direction(e){this._direction!==e&&(this._direction=e,this.parent&&(this.parent.dataset.direction=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=Utils$1$4.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}init(){this.parent.dataset.direction=this.direction,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,n){ArrayExt$4.insert(this._items,e,new LayoutItem$4(n)),ArrayExt$4.insert(this._sizers,e,new BoxSizer$4),this.parent.isAttached&&MessageLoop$4.sendMessage(n,Widget$4.Msg.BeforeAttach),this.parent.node.appendChild(n.node),this.parent.isAttached&&MessageLoop$4.sendMessage(n,Widget$4.Msg.AfterAttach),this.parent.fit()}moveWidget(e,n,i){ArrayExt$4.move(this._items,e,n),ArrayExt$4.move(this._sizers,e,n),this.parent.update()}detachWidget(e,n){let i=ArrayExt$4.removeAt(this._items,e);ArrayExt$4.removeAt(this._sizers,e),this.parent.isAttached&&MessageLoop$4.sendMessage(n,Widget$4.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.isAttached&&MessageLoop$4.sendMessage(n,Widget$4.Msg.AfterDetach),i.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0;for(let c=0,f=this._items.length;c<f;++c)e+=+!this._items[c].isHidden;this._fixed=this._spacing*Math.max(0,e-1);let n=Private$c$4.isHorizontal(this._direction),i=n?this._fixed:0,o=n?0:this._fixed;for(let c=0,f=this._items.length;c<f;++c){let d=this._items[c],m=this._sizers[c];if(d.isHidden){m.minSize=0,m.maxSize=0;continue}d.fit(),m.sizeHint=Xc.getSizeBasis(d.widget),m.stretch=Xc.getStretch(d.widget),n?(m.minSize=d.minWidth,m.maxSize=d.maxWidth,i+=d.minWidth,o=Math.max(o,d.minHeight)):(m.minSize=d.minHeight,m.maxSize=d.maxHeight,o+=d.minHeight,i=Math.max(i,d.minWidth))}let u=this._box=ElementExt$1.boxSizing(this.parent.node);i+=u.horizontalSum,o+=u.verticalSum;let l=this.parent.node.style;l.minWidth=`${i}px`,l.minHeight=`${o}px`,this._dirty=!0,this.parent.parent&&MessageLoop$4.sendMessage(this.parent.parent,Widget$4.Msg.FitRequest),this._dirty&&MessageLoop$4.sendMessage(this.parent,Widget$4.Msg.UpdateRequest)}_update(e,n){this._dirty=!1;let i=0;for(let g=0,v=this._items.length;g<v;++g)i+=+!this._items[g].isHidden;if(i===0)return;e<0&&(e=this.parent.node.offsetWidth),n<0&&(n=this.parent.node.offsetHeight),this._box||(this._box=ElementExt$1.boxSizing(this.parent.node));let o=this._box.paddingTop,u=this._box.paddingLeft,l=e-this._box.horizontalSum,c=n-this._box.verticalSum,f;switch(this._direction){case"left-to-right":f=BoxEngine$4.calc(this._sizers,Math.max(0,l-this._fixed));break;case"top-to-bottom":f=BoxEngine$4.calc(this._sizers,Math.max(0,c-this._fixed));break;case"right-to-left":f=BoxEngine$4.calc(this._sizers,Math.max(0,l-this._fixed)),u+=l;break;case"bottom-to-top":f=BoxEngine$4.calc(this._sizers,Math.max(0,c-this._fixed)),o+=c;break;default:throw"unreachable"}let d=0,m=0;if(f>0)switch(this._alignment){case"start":break;case"center":d=0,m=f/2;break;case"end":d=0,m=f;break;case"justify":d=f/i,m=0;break;default:throw"unreachable"}for(let g=0,v=this._items.length;g<v;++g){let y=this._items[g];if(y.isHidden)continue;let w=this._sizers[g].size;switch(this._direction){case"left-to-right":y.update(u+m,o,w+d,c),u+=w+d+this._spacing;break;case"top-to-bottom":y.update(u,o+m,l,w+d),o+=w+d+this._spacing;break;case"right-to-left":y.update(u-m-w-d,o,w+d,c),u-=w+d+this._spacing;break;case"bottom-to-top":y.update(u,o-m-w-d,l,w+d),o-=w+d+this._spacing;break;default:throw"unreachable"}}}};(function(t){function e(u){return Private$c$4.stretchProperty.get(u)}t.getStretch=e;function n(u,l){Private$c$4.stretchProperty.set(u,l)}t.setStretch=n;function i(u){return Private$c$4.sizeBasisProperty.get(u)}t.getSizeBasis=i;function o(u,l){Private$c$4.sizeBasisProperty.set(u,l)}t.setSizeBasis=o})(BoxLayout$4||(BoxLayout$4={}));var Private$c$4;(function(t){t.stretchProperty=new AttachedProperty$2({name:"stretch",create:()=>0,coerce:(o,u)=>Math.max(0,Math.floor(u)),changed:i}),t.sizeBasisProperty=new AttachedProperty$2({name:"sizeBasis",create:()=>0,coerce:(o,u)=>Math.max(0,Math.floor(u)),changed:i});function e(o){return o==="left-to-right"||o==="right-to-left"}t.isHorizontal=e;function n(o){return Math.max(0,Math.floor(o))}t.clampSpacing=n;function i(o){o.parent&&o.parent.layout instanceof BoxLayout$4&&o.parent.fit()}})(Private$c$4||(Private$c$4={}));let BoxPanel$4=class extends Panel$4{constructor(e={}){super({layout:Private$b$4.createLayout(e)}),this.addClass("lm-BoxPanel")}get direction(){return this.layout.direction}set direction(e){this.layout.direction=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}onChildAdded(e){e.child.addClass("lm-BoxPanel-child")}onChildRemoved(e){e.child.removeClass("lm-BoxPanel-child")}};(function(t){function e(u){return BoxLayout$4.getStretch(u)}t.getStretch=e;function n(u,l){BoxLayout$4.setStretch(u,l)}t.setStretch=n;function i(u){return BoxLayout$4.getSizeBasis(u)}t.getSizeBasis=i;function o(u,l){BoxLayout$4.setSizeBasis(u,l)}t.setSizeBasis=o})(BoxPanel$4||(BoxPanel$4={}));var Private$b$4;(function(t){function e(n){return n.layout||new BoxLayout$4(n)}t.createLayout=e})(Private$b$4||(Private$b$4={}));let CommandPalette$4=class pp extends Widget$4{constructor(e){super({node:Private$a$4.createNode()}),this._activeIndex=-1,this._items=[],this._results=null,this.addClass("lm-CommandPalette"),this.setFlag(Widget$4.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||pp.defaultRenderer,this.commands.commandChanged.connect(this._onGenericChange,this),this.commands.keyBindingChanged.connect(this._onGenericChange,this)}dispose(){this._items.length=0,this._results=null,super.dispose()}get searchNode(){return this.node.getElementsByClassName("lm-CommandPalette-search")[0]}get inputNode(){return this.node.getElementsByClassName("lm-CommandPalette-input")[0]}get contentNode(){return this.node.getElementsByClassName("lm-CommandPalette-content")[0]}get items(){return this._items}addItem(e){let n=Private$a$4.createItem(this.commands,e);return this._items.push(n),this.refresh(),n}addItems(e){const n=e.map(i=>Private$a$4.createItem(this.commands,i));return n.forEach(i=>this._items.push(i)),this.refresh(),n}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){ArrayExt$4.removeAt(this._items,e)&&this.refresh()}clearItems(){this._items.length!==0&&(this._items.length=0,this.refresh())}refresh(){if(this._results=null,this.inputNode.value!==""){let e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="inherit"}else{let e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="none"}this.update()}handleEvent(e){switch(e.type){case"click":this._evtClick(e);break;case"keydown":this._evtKeyDown(e);break;case"input":this.refresh();break;case"focus":case"blur":this._toggleFocused();break}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),this.node.addEventListener("input",this),this.node.addEventListener("focus",this,!0),this.node.addEventListener("blur",this,!0)}onAfterDetach(e){this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this),this.node.removeEventListener("input",this),this.node.removeEventListener("focus",this,!0),this.node.removeEventListener("blur",this,!0)}onAfterShow(e){this.update(),super.onAfterShow(e)}onActivateRequest(e){if(this.isAttached){let n=this.inputNode;n.focus(),n.select()}}onUpdateRequest(e){if(!this.isVisible){VirtualDOM$1.render(null,this.contentNode);return}let n=this.inputNode.value,i=this.contentNode,o=this._results;if(o||(o=this._results=Private$a$4.search(this._items,n),this._activeIndex=n?ArrayExt$4.findFirstIndex(o,Private$a$4.canActivate):-1),!n&&o.length===0){VirtualDOM$1.render(null,i);return}if(n&&o.length===0){let f=this.renderer.renderEmptyMessage({query:n});VirtualDOM$1.render(f,i);return}let u=this.renderer,l=this._activeIndex,c=new Array(o.length);for(let f=0,d=o.length;f<d;++f){let m=o[f];if(m.type==="header"){let g=m.indices,v=m.category;c[f]=u.renderHeader({category:v,indices:g})}else{let g=m.item,v=m.indices,y=f===l;c[f]=u.renderItem({item:g,indices:v,active:y})}}if(VirtualDOM$1.render(c,i),l<0||l>=o.length)i.scrollTop=0;else{let f=i.children[l];ElementExt$1.scrollIntoViewIfNeeded(i,f)}}_evtClick(e){if(e.button!==0)return;if(e.target.classList.contains("lm-close-icon")){this.inputNode.value="",this.refresh();return}let n=ArrayExt$4.findFirstIndex(this.contentNode.children,i=>i.contains(e.target));n!==-1&&(e.preventDefault(),e.stopPropagation(),this._execute(n))}_evtKeyDown(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey))switch(e.keyCode){case 13:e.preventDefault(),e.stopPropagation(),this._execute(this._activeIndex);break;case 38:e.preventDefault(),e.stopPropagation(),this._activatePreviousItem();break;case 40:e.preventDefault(),e.stopPropagation(),this._activateNextItem();break}}_activateNextItem(){if(!this._results||this._results.length===0)return;let e=this._activeIndex,n=this._results.length,i=e<n-1?e+1:0,o=i===0?n-1:i-1;this._activeIndex=ArrayExt$4.findFirstIndex(this._results,Private$a$4.canActivate,i,o),this.update()}_activatePreviousItem(){if(!this._results||this._results.length===0)return;let e=this._activeIndex,n=this._results.length,i=e<=0?n-1:e-1,o=i===n-1?0:i+1;this._activeIndex=ArrayExt$4.findLastIndex(this._results,Private$a$4.canActivate,i,o),this.update()}_execute(e){if(!this._results)return;let n=this._results[e];if(n){if(n.type==="header"){let i=this.inputNode;i.value=`${n.category.toLowerCase()} `,i.focus(),this.refresh();return}n.item.isEnabled&&(this.commands.execute(n.item.command,n.item.args),this.inputNode.value="",this.refresh())}}_toggleFocused(){let e=document.activeElement===this.inputNode;this.toggleClass("lm-mod-focused",e)}_onGenericChange(){this.refresh()}};(function(t){class e{renderHeader(i){let o=this.formatHeader(i);return h$2.li({className:"lm-CommandPalette-header"},o)}renderItem(i){let o=this.createItemClass(i),u=this.createItemDataset(i);return i.item.isToggleable?h$2.li({className:o,dataset:u,role:"menuitemcheckbox","aria-checked":`${i.item.isToggled}`},this.renderItemIcon(i),this.renderItemContent(i),this.renderItemShortcut(i)):h$2.li({className:o,dataset:u,role:"menuitem"},this.renderItemIcon(i),this.renderItemContent(i),this.renderItemShortcut(i))}renderEmptyMessage(i){let o=this.formatEmptyMessage(i);return h$2.li({className:"lm-CommandPalette-emptyMessage"},o)}renderItemIcon(i){let o=this.createIconClass(i);return h$2.div({className:o},i.item.icon,i.item.iconLabel)}renderItemContent(i){return h$2.div({className:"lm-CommandPalette-itemContent"},this.renderItemLabel(i),this.renderItemCaption(i))}renderItemLabel(i){let o=this.formatItemLabel(i);return h$2.div({className:"lm-CommandPalette-itemLabel"},o)}renderItemCaption(i){let o=this.formatItemCaption(i);return h$2.div({className:"lm-CommandPalette-itemCaption"},o)}renderItemShortcut(i){let o=this.formatItemShortcut(i);return h$2.div({className:"lm-CommandPalette-itemShortcut"},o)}createItemClass(i){let o="lm-CommandPalette-item";i.item.isEnabled||(o+=" lm-mod-disabled"),i.item.isToggled&&(o+=" lm-mod-toggled"),i.active&&(o+=" lm-mod-active");let u=i.item.className;return u&&(o+=` ${u}`),o}createItemDataset(i){return{...i.item.dataset,command:i.item.command}}createIconClass(i){let o="lm-CommandPalette-itemIcon",u=i.item.iconClass;return u?`${o} ${u}`:o}formatHeader(i){return!i.indices||i.indices.length===0?i.category:StringExt$4.highlight(i.category,i.indices,h$2.mark)}formatEmptyMessage(i){return`No commands found that match '${i.query}'`}formatItemShortcut(i){let o=i.item.keyBinding;return o?CommandRegistry$1.formatKeystroke(o.keys):null}formatItemLabel(i){return!i.indices||i.indices.length===0?i.item.label:StringExt$4.highlight(i.item.label,i.indices,h$2.mark)}formatItemCaption(i){return i.item.caption}}t.Renderer=e,t.defaultRenderer=new e})(CommandPalette$4||(CommandPalette$4={}));var Private$a$4;(function(t){function e(){let v=document.createElement("div"),y=document.createElement("div"),w=document.createElement("div"),T=document.createElement("input"),P=document.createElement("ul"),A=document.createElement("button");return y.className="lm-CommandPalette-search",w.className="lm-CommandPalette-wrapper",T.className="lm-CommandPalette-input",A.className="lm-close-icon",P.className="lm-CommandPalette-content",P.setAttribute("role","menu"),T.spellcheck=!1,w.appendChild(T),w.appendChild(A),y.appendChild(w),v.appendChild(y),v.appendChild(P),v}t.createNode=e;function n(v,y){return new g(v,y)}t.createItem=n;function i(v,y){let w=c(v,y);return w.sort(d),m(w)}t.search=i;function o(v){return v.type==="item"&&v.item.isEnabled}t.canActivate=o;function u(v){return v.trim().replace(/\s+/g," ")}function l(v){return v.replace(/\s+/g,"").toLowerCase()}function c(v,y){y=l(y);let w=[];for(let T=0,P=v.length;T<P;++T){let A=v[T];if(!A.isVisible)continue;if(!y){w.push({matchType:3,categoryIndices:null,labelIndices:null,score:0,item:A});continue}let D=f(A,y);D&&(A.isEnabled||(D.score+=1e3),w.push(D))}return w}function f(v,y){let w=v.category.toLowerCase(),T=v.label.toLowerCase(),P=`${w} ${T}`,A=1/0,D=null,k=/\b\w/g;for(;;){let G=k.exec(P);if(!G)break;let F=StringExt$4.matchSumOfDeltas(P,y,G.index);if(!F)break;F.score<=A&&(A=F.score,D=F.indices)}if(!D||A===1/0)return null;let j=w.length+1,B=ArrayExt$4.lowerBound(D,j,(G,F)=>G-F),Z=D.slice(0,B),R=D.slice(B);for(let G=0,F=R.length;G<F;++G)R[G]-=j;return Z.length===0?{matchType:0,categoryIndices:null,labelIndices:R,score:A,item:v}:R.length===0?{matchType:1,categoryIndices:Z,labelIndices:null,score:A,item:v}:{matchType:2,categoryIndices:Z,labelIndices:R,score:A,item:v}}function d(v,y){let w=v.matchType-y.matchType;if(w!==0)return w;let T=v.score-y.score;if(T!==0)return T;let P=0,A=0;switch(v.matchType){case 0:P=v.labelIndices[0],A=y.labelIndices[0];break;case 1:case 2:P=v.categoryIndices[0],A=y.categoryIndices[0];break}if(P!==A)return P-A;let D=v.item.category.localeCompare(y.item.category);if(D!==0)return D;let k=v.item.rank,j=y.item.rank;return k!==j?k<j?-1:1:v.item.label.localeCompare(y.item.label)}function m(v){let y=[];for(let w=0,T=v.length;w<T;++w){let{item:P,categoryIndices:A,labelIndices:D}=v[w],k=P.category;(w===0||k!==v[w-1].item.category)&&y.push({type:"header",category:k,indices:A}),y.push({type:"item",item:P,indices:D})}return y}class g{constructor(y,w){this._commands=y,this.category=u(w.category),this.command=w.command,this.args=w.args||JSONExt$2.emptyObject,this.rank=w.rank!==void 0?w.rank:1/0}get label(){return this._commands.label(this.command,this.args)}get icon(){return this._commands.icon(this.command,this.args)}get iconClass(){return this._commands.iconClass(this.command,this.args)}get iconLabel(){return this._commands.iconLabel(this.command,this.args)}get caption(){return this._commands.caption(this.command,this.args)}get className(){return this._commands.className(this.command,this.args)}get dataset(){return this._commands.dataset(this.command,this.args)}get isEnabled(){return this._commands.isEnabled(this.command,this.args)}get isToggled(){return this._commands.isToggled(this.command,this.args)}get isToggleable(){return this._commands.isToggleable(this.command,this.args)}get isVisible(){return this._commands.isVisible(this.command,this.args)}get keyBinding(){let{command:y,args:w}=this;return ArrayExt$4.findLastValue(this._commands.keyBindings,T=>T.command===y&&JSONExt$2.deepEqual(T.args,w))||null}}})(Private$a$4||(Private$a$4={}));let Menu$4=class Jc extends Widget$4{constructor(e){super({node:Private$9$4.createNode()}),this._childIndex=-1,this._activeIndex=-1,this._openTimerID=0,this._closeTimerID=0,this._items=[],this._childMenu=null,this._parentMenu=null,this._aboutToClose=new Signal$2(this),this._menuRequested=new Signal$2(this),this.addClass("lm-Menu"),this.setFlag(Widget$4.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||Jc.defaultRenderer}dispose(){this.close(),this._items.length=0,super.dispose()}get aboutToClose(){return this._aboutToClose}get menuRequested(){return this._menuRequested}get parentMenu(){return this._parentMenu}get childMenu(){return this._childMenu}get rootMenu(){let e=this;for(;e._parentMenu;)e=e._parentMenu;return e}get leafMenu(){let e=this;for(;e._childMenu;)e=e._childMenu;return e}get contentNode(){return this.node.getElementsByClassName("lm-Menu-content")[0]}get activeItem(){return this._items[this._activeIndex]||null}set activeItem(e){this.activeIndex=e?this._items.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._items.length)&&(e=-1),e!==-1&&!Private$9$4.canActivate(this._items[e])&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this._activeIndex>=0&&this.contentNode.childNodes[this._activeIndex]&&this.contentNode.childNodes[this._activeIndex].focus(),this.update())}get items(){return this._items}activateNextItem(){let e=this._items.length,n=this._activeIndex,i=n<e-1?n+1:0,o=i===0?e-1:i-1;this.activeIndex=ArrayExt$4.findFirstIndex(this._items,Private$9$4.canActivate,i,o)}activatePreviousItem(){let e=this._items.length,n=this._activeIndex,i=n<=0?e-1:n-1,o=i===e-1?0:i+1;this.activeIndex=ArrayExt$4.findLastIndex(this._items,Private$9$4.canActivate,i,o)}triggerActiveItem(){if(!this.isAttached)return;let e=this.activeItem;if(!e)return;if(this._cancelOpenTimer(),this._cancelCloseTimer(),e.type==="submenu"){this._openChildMenu(!0);return}this.rootMenu.close();let{command:n,args:i}=e;this.commands.isEnabled(n,i)?this.commands.execute(n,i):console.log(`Command '${n}' is disabled.`)}addItem(e){return this.insertItem(this._items.length,e)}insertItem(e,n){this.isAttached&&this.close(),this.activeIndex=-1;let i=Math.max(0,Math.min(e,this._items.length)),o=Private$9$4.createItem(this,n);return ArrayExt$4.insert(this._items,i,o),this.update(),o}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){this.isAttached&&this.close(),this.activeIndex=-1,ArrayExt$4.removeAt(this._items,e)&&this.update()}clearItems(){this.isAttached&&this.close(),this.activeIndex=-1,this._items.length!==0&&(this._items.length=0,this.update())}open(e,n,i={}){var o,u,l;if(this.isAttached)return;let c=i.forceX||!1,f=i.forceY||!1;const d=(o=i.host)!==null&&o!==void 0?o:null,m=(u=i.ref)!==null&&u!==void 0?u:null,g=(l=i.horizontalAlignment)!==null&&l!==void 0?l:document.documentElement.dir==="rtl"?"right":"left";Private$9$4.openRootMenu(this,e,n,c,f,g,d,m),this.activate()}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mouseup":this._evtMouseUp(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseenter":this._evtMouseEnter(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"mousedown":this._evtMouseDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mouseup",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseenter",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this),document.addEventListener("mousedown",this,!0)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mouseup",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseenter",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),document.removeEventListener("mousedown",this,!0)}onActivateRequest(e){this.isAttached&&this.node.focus()}onUpdateRequest(e){let n=this._items,i=this.renderer,o=this._activeIndex,u=Private$9$4.computeCollapsed(n),l=new Array(n.length);for(let c=0,f=n.length;c<f;++c){let d=n[c],m=c===o,g=u[c];l[c]=i.renderItem({item:d,active:m,collapsed:g,onfocus:()=>{this.activeIndex=c}})}VirtualDOM$1.render(l,this.contentNode)}onCloseRequest(e){this._cancelOpenTimer(),this._cancelCloseTimer(),this.activeIndex=-1;let n=this._childMenu;n&&(this._childIndex=-1,this._childMenu=null,n._parentMenu=null,n.close());let i=this._parentMenu;i&&(this._parentMenu=null,i._childIndex=-1,i._childMenu=null,i.activate()),this.isAttached&&this._aboutToClose.emit(void 0),super.onCloseRequest(e)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation();let n=e.keyCode;if(n===13){this.triggerActiveItem();return}if(n===27){this.close();return}if(n===37){this._parentMenu?this.close():this._menuRequested.emit("previous");return}if(n===38){this.activatePreviousItem();return}if(n===39){let l=this.activeItem;l&&l.type==="submenu"?this.triggerActiveItem():this.rootMenu._menuRequested.emit("next");return}if(n===40){this.activateNextItem();return}let i=getKeyboardLayout$1().keyForKeydownEvent(e);if(!i)return;let o=this._activeIndex+1,u=Private$9$4.findMnemonic(this._items,i,o);u.index!==-1&&!u.multiple?(this.activeIndex=u.index,this.triggerActiveItem()):u.index!==-1?this.activeIndex=u.index:u.auto!==-1&&(this.activeIndex=u.auto)}_evtMouseUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this.triggerActiveItem())}_evtMouseMove(e){let n=ArrayExt$4.findFirstIndex(this.contentNode.children,o=>ElementExt$1.hitTest(o,e.clientX,e.clientY));if(n===this._activeIndex)return;if(this.activeIndex=n,n=this.activeIndex,n===this._childIndex){this._cancelOpenTimer(),this._cancelCloseTimer();return}this._childIndex!==-1&&this._startCloseTimer(),this._cancelOpenTimer();let i=this.activeItem;!i||i.type!=="submenu"||!i.submenu||this._startOpenTimer()}_evtMouseEnter(e){for(let n=this._parentMenu;n;n=n._parentMenu)n._cancelOpenTimer(),n._cancelCloseTimer(),n.activeIndex=n._childIndex}_evtMouseLeave(e){if(this._cancelOpenTimer(),!this._childMenu){this.activeIndex=-1;return}let{clientX:n,clientY:i}=e;if(ElementExt$1.hitTest(this._childMenu.node,n,i)){this._cancelCloseTimer();return}this.activeIndex=-1,this._startCloseTimer()}_evtMouseDown(e){this._parentMenu||(Private$9$4.hitTestMenus(this,e.clientX,e.clientY)?(e.preventDefault(),e.stopPropagation()):this.close())}_openChildMenu(e=!1){let n=this.activeItem;if(!n||n.type!=="submenu"||!n.submenu){this._closeChildMenu();return}let i=n.submenu;if(i===this._childMenu)return;Jc.saveWindowData(),this._closeChildMenu(),this._childMenu=i,this._childIndex=this._activeIndex,i._parentMenu=this,MessageLoop$4.sendMessage(this,Widget$4.Msg.UpdateRequest);let o=this.contentNode.children[this._activeIndex];Private$9$4.openSubmenu(i,o),e&&(i.activeIndex=-1,i.activateNextItem()),i.activate()}_closeChildMenu(){this._childMenu&&this._childMenu.close()}_startOpenTimer(){this._openTimerID===0&&(this._openTimerID=window.setTimeout(()=>{this._openTimerID=0,this._openChildMenu()},Private$9$4.TIMER_DELAY))}_startCloseTimer(){this._closeTimerID===0&&(this._closeTimerID=window.setTimeout(()=>{this._closeTimerID=0,this._closeChildMenu()},Private$9$4.TIMER_DELAY))}_cancelOpenTimer(){this._openTimerID!==0&&(clearTimeout(this._openTimerID),this._openTimerID=0)}_cancelCloseTimer(){this._closeTimerID!==0&&(clearTimeout(this._closeTimerID),this._closeTimerID=0)}static saveWindowData(){Private$9$4.saveWindowData()}};(function(t){class e{renderItem(i){let o=this.createItemClass(i),u=this.createItemDataset(i),l=this.createItemARIA(i);return h$2.li({className:o,dataset:u,tabindex:"0",onfocus:i.onfocus,...l},this.renderIcon(i),this.renderLabel(i),this.renderShortcut(i),this.renderSubmenu(i))}renderIcon(i){let o=this.createIconClass(i);return h$2.div({className:o},i.item.icon,i.item.iconLabel)}renderLabel(i){let o=this.formatLabel(i);return h$2.div({className:"lm-Menu-itemLabel"},o)}renderShortcut(i){let o=this.formatShortcut(i);return h$2.div({className:"lm-Menu-itemShortcut"},o)}renderSubmenu(i){return h$2.div({className:"lm-Menu-itemSubmenuIcon"})}createItemClass(i){let o="lm-Menu-item";i.item.isEnabled||(o+=" lm-mod-disabled"),i.item.isToggled&&(o+=" lm-mod-toggled"),i.item.isVisible||(o+=" lm-mod-hidden"),i.active&&(o+=" lm-mod-active"),i.collapsed&&(o+=" lm-mod-collapsed");let u=i.item.className;return u&&(o+=` ${u}`),o}createItemDataset(i){let o,{type:u,command:l,dataset:c}=i.item;return u==="command"?o={...c,type:u,command:l}:o={...c,type:u},o}createIconClass(i){let o="lm-Menu-itemIcon",u=i.item.iconClass;return u?`${o} ${u}`:o}createItemARIA(i){let o={};switch(i.item.type){case"separator":o.role="presentation";break;case"submenu":o["aria-haspopup"]="true",i.item.isEnabled||(o["aria-disabled"]="true");break;default:i.item.isEnabled||(o["aria-disabled"]="true"),i.item.isToggled?(o.role="menuitemcheckbox",o["aria-checked"]="true"):o.role="menuitem"}return o}formatLabel(i){let{label:o,mnemonic:u}=i.item;if(u<0||u>=o.length)return o;let l=o.slice(0,u),c=o.slice(u+1),f=o[u],d=h$2.span({className:"lm-Menu-itemMnemonic"},f);return[l,d,c]}formatShortcut(i){let o=i.item.keyBinding;return o?CommandRegistry$1.formatKeystroke(o.keys):null}}t.Renderer=e,t.defaultRenderer=new e})(Menu$4||(Menu$4={}));var Private$9$4;(function(t){t.TIMER_DELAY=300,t.SUBMENU_OVERLAP=3;let e=null,n=0;function i(){return n>0?(n--,e):m()}function o(){e=m(),n++}t.saveWindowData=o;function u(){let T=document.createElement("div"),P=document.createElement("ul");return P.className="lm-Menu-content",T.appendChild(P),P.setAttribute("role","menu"),T.tabIndex=0,T}t.createNode=u;function l(T){return T.type!=="separator"&&T.isEnabled&&T.isVisible}t.canActivate=l;function c(T,P){return new w(T.commands,P)}t.createItem=c;function f(T,P,A){for(let D=T;D;D=D.childMenu)if(ElementExt$1.hitTest(D.node,P,A))return!0;return!1}t.hitTestMenus=f;function d(T){let P=new Array(T.length);ArrayExt$4.fill(P,!1);let A=0,D=T.length;for(;A<D;++A){let B=T[A];if(B.isVisible){if(B.type!=="separator")break;P[A]=!0}}let k=D-1;for(;k>=0;--k){let B=T[k];if(B.isVisible){if(B.type!=="separator")break;P[k]=!0}}let j=!1;for(;++A<k;){let B=T[A];B.isVisible&&(B.type!=="separator"?j=!1:j?P[A]=!0:j=!0)}return P}t.computeCollapsed=d;function m(){return{pageXOffset:window.pageXOffset,pageYOffset:window.pageYOffset,clientWidth:document.documentElement.clientWidth,clientHeight:document.documentElement.clientHeight}}function g(T,P,A,D,k,j,B,Z){const R=i();let G=R.pageXOffset,F=R.pageYOffset,K=R.clientWidth,Q=R.clientHeight;MessageLoop$4.sendMessage(T,Widget$4.Msg.UpdateRequest);let ie=Q-(k?A:0),te=T.node,oe=te.style;oe.opacity="0",oe.maxHeight=`${ie}px`,Widget$4.attach(T,B||document.body,Z);let{width:le,height:de}=te.getBoundingClientRect();j==="right"&&(P-=le),!D&&P+le>G+K&&(P=G+K-le),!k&&A+de>F+Q&&(A>F+Q?A=F+Q-de:A=A-de),oe.transform=`translate(${Math.max(0,P)}px, ${Math.max(0,A)}px`,oe.opacity="1"}t.openRootMenu=g;function v(T,P){const A=i();let D=A.pageXOffset,k=A.pageYOffset,j=A.clientWidth,B=A.clientHeight;MessageLoop$4.sendMessage(T,Widget$4.Msg.UpdateRequest);let Z=B,R=T.node,G=R.style;G.opacity="0",G.maxHeight=`${Z}px`,Widget$4.attach(T,document.body);let{width:F,height:K}=R.getBoundingClientRect(),Q=ElementExt$1.boxSizing(T.node),ie=P.getBoundingClientRect(),te=ie.right-t.SUBMENU_OVERLAP;te+F>D+j&&(te=ie.left+t.SUBMENU_OVERLAP-F);let oe=ie.top-Q.borderTop-Q.paddingTop;oe+K>k+B&&(oe=ie.bottom+Q.borderBottom+Q.paddingBottom-K),G.transform=`translate(${Math.max(0,te)}px, ${Math.max(0,oe)}px`,G.opacity="1"}t.openSubmenu=v;function y(T,P,A){let D=-1,k=-1,j=!1,B=P.toUpperCase();for(let Z=0,R=T.length;Z<R;++Z){let G=(Z+A)%R,F=T[G];if(!l(F))continue;let K=F.label;if(K.length===0)continue;let Q=F.mnemonic;if(Q>=0&&Q<K.length){K[Q].toUpperCase()===B&&(D===-1?D=G:j=!0);continue}k===-1&&K[0].toUpperCase()===B&&(k=G)}return{index:D,multiple:j,auto:k}}t.findMnemonic=y;class w{constructor(P,A){this._commands=P,this.type=A.type||"command",this.command=A.command||"",this.args=A.args||JSONExt$2.emptyObject,this.submenu=A.submenu||null}get label(){return this.type==="command"?this._commands.label(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.label:""}get mnemonic(){return this.type==="command"?this._commands.mnemonic(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.mnemonic:-1}get icon(){if(this.type==="command")return this._commands.icon(this.command,this.args);if(this.type==="submenu"&&this.submenu)return this.submenu.title.icon}get iconClass(){return this.type==="command"?this._commands.iconClass(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconClass:""}get iconLabel(){return this.type==="command"?this._commands.iconLabel(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconLabel:""}get caption(){return this.type==="command"?this._commands.caption(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.caption:""}get className(){return this.type==="command"?this._commands.className(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.className:""}get dataset(){return this.type==="command"?this._commands.dataset(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.dataset:{}}get isEnabled(){return this.type==="command"?this._commands.isEnabled(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0}get isToggled(){return this.type==="command"?this._commands.isToggled(this.command,this.args):!1}get isVisible(){return this.type==="command"?this._commands.isVisible(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0}get keyBinding(){if(this.type==="command"){let{command:P,args:A}=this;return ArrayExt$4.findLastValue(this._commands.keyBindings,D=>D.command===P&&JSONExt$2.deepEqual(D.args,A))||null}return null}}})(Private$9$4||(Private$9$4={}));var Private$8$4;(function(t){function e(l,c){let f=i(l.selector),d=l.rank!==void 0?l.rank:1/0;return{...l,selector:f,rank:d,id:c}}t.createItem=e;function n(l,c,f,d){let m=c.target;if(!m)return null;let g=c.currentTarget;if(!g||!g.contains(m)&&(m=document.elementFromPoint(c.clientX,c.clientY),!m||!g.contains(m)))return null;let v=[],y=l.slice();for(;m!==null;){let w=[];for(let T=0,P=y.length;T<P;++T){let A=y[T];A&&Selector$1.matches(m,A.selector)&&(w.push(A),y[T]=null)}if(w.length!==0&&(f&&w.sort(d?u:o),v.push(...w)),m===g)break;m=m.parentElement}return f||v.sort(d?u:o),v}t.matchItems=n;function i(l){if(l.indexOf(",")!==-1)throw new Error(`Selector cannot contain commas: ${l}`);if(!Selector$1.isValid(l))throw new Error(`Invalid selector: ${l}`);return l}function o(l,c){let f=l.rank,d=c.rank;return f!==d?f<d?-1:1:l.id-c.id}function u(l,c){let f=Selector$1.calculateSpecificity(l.selector),d=Selector$1.calculateSpecificity(c.selector);return f!==d?d-f:o(l,c)}})(Private$8$4||(Private$8$4={}));const ARROW_KEYS$3=["ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Home","End"];let TabBar$4=class mp extends Widget$4{constructor(e={}){super({node:Private$7$4.createNode()}),this._currentIndex=-1,this._titles=[],this._titlesEditable=!1,this._previousTitle=null,this._dragData=null,this._addButtonEnabled=!1,this._tabMoved=new Signal$2(this),this._currentChanged=new Signal$2(this),this._addRequested=new Signal$2(this),this._tabCloseRequested=new Signal$2(this),this._tabDetachRequested=new Signal$2(this),this._tabActivateRequested=new Signal$2(this),this.addClass("lm-TabBar"),this.contentNode.setAttribute("role","tablist"),this.setFlag(Widget$4.Flag.DisallowLayout),this._document=e.document||document,this.tabsMovable=e.tabsMovable||!1,this.titlesEditable=e.titlesEditable||!1,this.allowDeselect=e.allowDeselect||!1,this.addButtonEnabled=e.addButtonEnabled||!1,this.insertBehavior=e.insertBehavior||"select-tab-if-needed",this.name=e.name||"",this.orientation=e.orientation||"horizontal",this.removeBehavior=e.removeBehavior||"select-tab-after",this.renderer=e.renderer||mp.defaultRenderer}dispose(){this._releaseMouse(),this._titles.length=0,this._previousTitle=null,super.dispose()}get currentChanged(){return this._currentChanged}get tabMoved(){return this._tabMoved}get tabActivateRequested(){return this._tabActivateRequested}get addRequested(){return this._addRequested}get tabCloseRequested(){return this._tabCloseRequested}get tabDetachRequested(){return this._tabDetachRequested}get document(){return this._document}get titlesEditable(){return this._titlesEditable}set titlesEditable(e){this._titlesEditable=e}get currentTitle(){return this._titles[this._currentIndex]||null}set currentTitle(e){this.currentIndex=e?this._titles.indexOf(e):-1}get currentIndex(){return this._currentIndex}set currentIndex(e){if((e<0||e>=this._titles.length)&&(e=-1),this._currentIndex===e)return;let n=this._currentIndex,i=this._titles[n]||null,o=e,u=this._titles[o]||null;this._currentIndex=o,this._previousTitle=i,this.update(),this._currentChanged.emit({previousIndex:n,previousTitle:i,currentIndex:o,currentTitle:u})}get name(){return this._name}set name(e){this._name=e,e?this.contentNode.setAttribute("aria-label",e):this.contentNode.removeAttribute("aria-label")}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._releaseMouse(),this._orientation=e,this.dataset.orientation=e,this.contentNode.setAttribute("aria-orientation",e))}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled!==e&&(this._addButtonEnabled=e,e?this.addButtonNode.classList.remove("lm-mod-hidden"):this.addButtonNode.classList.add("lm-mod-hidden"))}get titles(){return this._titles}get contentNode(){return this.node.getElementsByClassName("lm-TabBar-content")[0]}get addButtonNode(){return this.node.getElementsByClassName("lm-TabBar-addButton")[0]}addTab(e){return this.insertTab(this._titles.length,e)}insertTab(e,n){this._releaseMouse();let i=Private$7$4.asTitle(n),o=this._titles.indexOf(i),u=Math.max(0,Math.min(e,this._titles.length));return o===-1?(ArrayExt$4.insert(this._titles,u,i),i.changed.connect(this._onTitleChanged,this),this.update(),this._adjustCurrentForInsert(u,i),i):(u===this._titles.length&&u--,o===u||(ArrayExt$4.move(this._titles,o,u),this.update(),this._adjustCurrentForMove(o,u)),i)}removeTab(e){this.removeTabAt(this._titles.indexOf(e))}removeTabAt(e){this._releaseMouse();let n=ArrayExt$4.removeAt(this._titles,e);n&&(n.changed.disconnect(this._onTitleChanged,this),n===this._previousTitle&&(this._previousTitle=null),this.update(),this._adjustCurrentForRemove(e,n))}clearTabs(){if(this._titles.length===0)return;this._releaseMouse();for(let i of this._titles)i.changed.disconnect(this._onTitleChanged,this);let e=this.currentIndex,n=this.currentTitle;this._currentIndex=-1,this._previousTitle=null,this._titles.length=0,this.update(),e!==-1&&this._currentChanged.emit({previousIndex:e,previousTitle:n,currentIndex:-1,currentTitle:null})}releaseMouse(){this._releaseMouse()}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"dblclick":this._evtDblClick(e);break;case"keydown":e.eventPhase===Event.CAPTURING_PHASE?this._evtKeyDownCapturing(e):this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this),this.node.addEventListener("dblclick",this),this.node.addEventListener("keydown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this.node.removeEventListener("dblclick",this),this.node.removeEventListener("keydown",this),this._releaseMouse()}onUpdateRequest(e){var n;let i=this._titles,o=this.renderer,u=this.currentTitle,l=new Array(i.length);const c=(n=this._getCurrentTabindex())!==null&&n!==void 0?n:this._currentIndex>-1?this._currentIndex:0;for(let f=0,d=i.length;f<d;++f){let m=i[f],g=m===u,v=g?d:d-f-1,y=c===f?0:-1;l[f]=o.renderTab({title:m,current:g,zIndex:v,tabIndex:y})}VirtualDOM$1.render(l,this.contentNode)}_getCurrentTabindex(){let e=null;const n=this.contentNode.querySelector('li[tabindex="0"]');return n?e=[...this.contentNode.children].indexOf(n):this._addButtonEnabled&&this.addButtonNode.getAttribute("tabindex")==="0"&&(e=-1),e}_evtDblClick(e){if(!this.titlesEditable)return;let n=this.contentNode.children,i=ArrayExt$4.findFirstIndex(n,l=>ElementExt$1.hitTest(l,e.clientX,e.clientY));if(i===-1)return;let o=this.titles[i],u=n[i].querySelector(".lm-TabBar-tabLabel");if(u&&u.contains(e.target)){let l=o.label||"",c=u.innerHTML;u.innerHTML="";let f=document.createElement("input");f.classList.add("lm-TabBar-tabInput"),f.value=l,u.appendChild(f);let d=()=>{f.removeEventListener("blur",d),u.innerHTML=c,this.node.addEventListener("keydown",this)};f.addEventListener("dblclick",m=>m.stopPropagation()),f.addEventListener("blur",d),f.addEventListener("keydown",m=>{m.key==="Enter"?(f.value!==""&&(o.label=o.caption=f.value),d()):m.key==="Escape"&&d()}),this.node.removeEventListener("keydown",this),f.select(),f.focus(),u.children.length>0&&u.children[0].focus()}}_evtKeyDownCapturing(e){e.eventPhase===Event.CAPTURING_PHASE&&(e.preventDefault(),e.stopPropagation(),e.key==="Escape"&&this._releaseMouse())}_evtKeyDown(e){var n,i,o;if(!(e.key==="Tab"||e.eventPhase===Event.CAPTURING_PHASE)){if(e.key==="Enter"||e.key==="Spacebar"||e.key===" "){const u=document.activeElement;if(this.addButtonEnabled&&this.addButtonNode.contains(u))e.preventDefault(),e.stopPropagation(),this._addRequested.emit();else{const l=ArrayExt$4.findFirstIndex(this.contentNode.children,c=>c.contains(u));l>=0&&(e.preventDefault(),e.stopPropagation(),this.currentIndex=l)}}else if(ARROW_KEYS$3.includes(e.key)){const u=[...this.contentNode.children];if(this.addButtonEnabled&&u.push(this.addButtonNode),u.length<=1)return;e.preventDefault(),e.stopPropagation();let l=u.indexOf(document.activeElement);l===-1&&(l=this._currentIndex);let c;e.key==="ArrowRight"&&this._orientation==="horizontal"||e.key==="ArrowDown"&&this._orientation==="vertical"?c=(n=u[l+1])!==null&&n!==void 0?n:u[0]:e.key==="ArrowLeft"&&this._orientation==="horizontal"||e.key==="ArrowUp"&&this._orientation==="vertical"?c=(i=u[l-1])!==null&&i!==void 0?i:u[u.length-1]:e.key==="Home"?c=u[0]:e.key==="End"&&(c=u[u.length-1]),c&&((o=u[l])===null||o===void 0||o.setAttribute("tabindex","-1"),c?.setAttribute("tabindex","0"),c.focus())}}}_evtPointerDown(e){if(e.button!==0&&e.button!==1||this._dragData||e.target.classList.contains("lm-TabBar-tabInput"))return;let n=this.addButtonEnabled&&this.addButtonNode.contains(e.target),i=this.contentNode.children,o=ArrayExt$4.findFirstIndex(i,l=>ElementExt$1.hitTest(l,e.clientX,e.clientY));if(o===-1&&!n||(e.preventDefault(),e.stopPropagation(),this._dragData={tab:i[o],index:o,pressX:e.clientX,pressY:e.clientY,tabPos:-1,tabSize:-1,tabPressPos:-1,targetIndex:-1,tabLayout:null,contentRect:null,override:null,dragActive:!1,dragAborted:!1,detachRequested:!1},this.document.addEventListener("pointerup",this,!0),e.button===1||n))return;let u=i[o].querySelector(this.renderer.closeIconSelector);u&&u.contains(e.target)||(this.tabsMovable&&(this.document.addEventListener("pointermove",this,!0),this.document.addEventListener("keydown",this,!0),this.document.addEventListener("contextmenu",this,!0)),this.allowDeselect&&this.currentIndex===o?this.currentIndex=-1:this.currentIndex=o,this.currentIndex!==-1&&this._tabActivateRequested.emit({index:this.currentIndex,title:this.currentTitle}))}_evtPointerMove(e){let n=this._dragData;if(!n)return;e.preventDefault(),e.stopPropagation();let i=this.contentNode.children;if(!(!n.dragActive&&!Private$7$4.dragExceeded(n,e))){if(!n.dragActive){let o=n.tab.getBoundingClientRect();this._orientation==="horizontal"?(n.tabPos=n.tab.offsetLeft,n.tabSize=o.width,n.tabPressPos=n.pressX-o.left):(n.tabPos=n.tab.offsetTop,n.tabSize=o.height,n.tabPressPos=n.pressY-o.top),n.tabPressOffset={x:n.pressX-o.left,y:n.pressY-o.top},n.tabLayout=Private$7$4.snapTabLayout(i,this._orientation),n.contentRect=this.contentNode.getBoundingClientRect(),n.override=Drag$4.overrideCursor("default"),n.tab.classList.add("lm-mod-dragging"),this.addClass("lm-mod-dragging"),n.dragActive=!0}if(!n.detachRequested&&Private$7$4.detachExceeded(n,e)){n.detachRequested=!0;let o=n.index,u=e.clientX,l=e.clientY,c=i[o],f=this._titles[o];if(this._tabDetachRequested.emit({index:o,title:f,tab:c,clientX:u,clientY:l,offset:n.tabPressOffset}),n.dragAborted)return}Private$7$4.layoutTabs(i,n,e,this._orientation)}}_evtPointerUp(e){if(e.button!==0&&e.button!==1)return;const n=this._dragData;if(!n)return;if(e.preventDefault(),e.stopPropagation(),this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),!n.dragActive){if(this._dragData=null,this.addButtonEnabled&&this.addButtonNode.contains(e.target)){this._addRequested.emit(void 0);return}let u=this.contentNode.children,l=ArrayExt$4.findFirstIndex(u,d=>ElementExt$1.hitTest(d,e.clientX,e.clientY));if(l!==n.index)return;let c=this._titles[l];if(!c.closable)return;if(e.button===1){this._tabCloseRequested.emit({index:l,title:c});return}let f=u[l].querySelector(this.renderer.closeIconSelector);if(f&&f.contains(e.target)){this._tabCloseRequested.emit({index:l,title:c});return}return}if(e.button!==0)return;Private$7$4.finalizeTabPosition(n,this._orientation),n.tab.classList.remove("lm-mod-dragging");let i=Private$7$4.parseTransitionDuration(n.tab);setTimeout(()=>{if(n.dragAborted)return;this._dragData=null,Private$7$4.resetTabPositions(this.contentNode.children,this._orientation),n.override.dispose(),this.removeClass("lm-mod-dragging");let o=n.index,u=n.targetIndex;u===-1||o===u||(ArrayExt$4.move(this._titles,o,u),this._adjustCurrentForMove(o,u),this._tabMoved.emit({fromIndex:o,toIndex:u,title:this._titles[u]}),MessageLoop$4.sendMessage(this,Widget$4.Msg.UpdateRequest))},i)}_releaseMouse(){let e=this._dragData;e&&(this._dragData=null,this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),e.dragAborted=!0,e.dragActive&&(Private$7$4.resetTabPositions(this.contentNode.children,this._orientation),e.override.dispose(),e.tab.classList.remove("lm-mod-dragging"),this.removeClass("lm-mod-dragging")))}_adjustCurrentForInsert(e,n){let i=this.currentTitle,o=this._currentIndex,u=this.insertBehavior;if(u==="select-tab"||u==="select-tab-if-needed"&&o===-1){this._currentIndex=e,this._previousTitle=i,this._currentChanged.emit({previousIndex:o,previousTitle:i,currentIndex:e,currentTitle:n});return}o>=e&&this._currentIndex++}_adjustCurrentForMove(e,n){this._currentIndex===e?this._currentIndex=n:this._currentIndex<e&&this._currentIndex>=n?this._currentIndex++:this._currentIndex>e&&this._currentIndex<=n&&this._currentIndex--}_adjustCurrentForRemove(e,n){let i=this._currentIndex,o=this.removeBehavior;if(i!==e){i>e&&this._currentIndex--;return}if(this._titles.length===0){this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:n,currentIndex:-1,currentTitle:null});return}if(o==="select-tab-after"){this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:n,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(o==="select-tab-before"){this._currentIndex=Math.max(0,e-1),this._currentChanged.emit({previousIndex:e,previousTitle:n,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(o==="select-previous-tab"){this._previousTitle?(this._currentIndex=this._titles.indexOf(this._previousTitle),this._previousTitle=null):this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:n,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:n,currentIndex:-1,currentTitle:null})}_onTitleChanged(e){this.update()}};(function(t){class e{constructor(){this.closeIconSelector=".lm-TabBar-tabCloseIcon",this._tabID=0,this._tabKeys=new WeakMap,this._uuid=++e._nInstance}renderTab(i){let o=i.title.caption,u=this.createTabKey(i),l=u,c=this.createTabStyle(i),f=this.createTabClass(i),d=this.createTabDataset(i),m=this.createTabARIA(i);return i.title.closable?h$2.li({id:l,key:u,className:f,title:o,style:c,dataset:d,...m},this.renderIcon(i),this.renderLabel(i),this.renderCloseIcon(i)):h$2.li({id:l,key:u,className:f,title:o,style:c,dataset:d,...m},this.renderIcon(i),this.renderLabel(i))}renderIcon(i){const{title:o}=i;let u=this.createIconClass(i);return h$2.div({className:u},o.icon,o.iconLabel)}renderLabel(i){return h$2.div({className:"lm-TabBar-tabLabel"},i.title.label)}renderCloseIcon(i){return h$2.div({className:"lm-TabBar-tabCloseIcon"})}createTabKey(i){let o=this._tabKeys.get(i.title);return o===void 0&&(o=`tab-key-${this._uuid}-${this._tabID++}`,this._tabKeys.set(i.title,o)),o}createTabStyle(i){return{zIndex:`${i.zIndex}`}}createTabClass(i){let o="lm-TabBar-tab";return i.title.className&&(o+=` ${i.title.className}`),i.title.closable&&(o+=" lm-mod-closable"),i.current&&(o+=" lm-mod-current"),o}createTabDataset(i){return i.title.dataset}createTabARIA(i){var o;return{role:"tab","aria-selected":i.current.toString(),tabindex:`${(o=i.tabIndex)!==null&&o!==void 0?o:"-1"}`}}createIconClass(i){let o="lm-TabBar-tabIcon",u=i.title.iconClass;return u?`${o} ${u}`:o}}e._nInstance=0,t.Renderer=e,t.defaultRenderer=new e,t.addButtonSelector=".lm-TabBar-addButton"})(TabBar$4||(TabBar$4={}));var Private$7$4;(function(t){t.DRAG_THRESHOLD=5,t.DETACH_THRESHOLD=20;function e(){let m=document.createElement("div"),g=document.createElement("ul");g.setAttribute("role","tablist"),g.className="lm-TabBar-content",m.appendChild(g);let v=document.createElement("div");return v.className="lm-TabBar-addButton lm-mod-hidden",v.setAttribute("tabindex","-1"),v.setAttribute("role","button"),m.appendChild(v),m}t.createNode=e;function n(m){return m instanceof Title$4?m:new Title$4(m)}t.asTitle=n;function i(m){let g=window.getComputedStyle(m);return 1e3*(parseFloat(g.transitionDuration)||0)}t.parseTransitionDuration=i;function o(m,g){let v=new Array(m.length);for(let y=0,w=m.length;y<w;++y){let T=m[y],P=window.getComputedStyle(T);g==="horizontal"?v[y]={pos:T.offsetLeft,size:T.offsetWidth,margin:parseFloat(P.marginLeft)||0}:v[y]={pos:T.offsetTop,size:T.offsetHeight,margin:parseFloat(P.marginTop)||0}}return v}t.snapTabLayout=o;function u(m,g){let v=Math.abs(g.clientX-m.pressX),y=Math.abs(g.clientY-m.pressY);return v>=t.DRAG_THRESHOLD||y>=t.DRAG_THRESHOLD}t.dragExceeded=u;function l(m,g){let v=m.contentRect;return g.clientX<v.left-t.DETACH_THRESHOLD||g.clientX>=v.right+t.DETACH_THRESHOLD||g.clientY<v.top-t.DETACH_THRESHOLD||g.clientY>=v.bottom+t.DETACH_THRESHOLD}t.detachExceeded=l;function c(m,g,v,y){let w,T,P,A;y==="horizontal"?(w=g.pressX,T=v.clientX-g.contentRect.left,P=v.clientX,A=g.contentRect.width):(w=g.pressY,T=v.clientY-g.contentRect.top,P=v.clientY,A=g.contentRect.height);let D=g.index,k=T-g.tabPressPos,j=k+g.tabSize;for(let B=0,Z=m.length;B<Z;++B){let R,G=g.tabLayout[B],F=G.pos+(G.size>>1);if(B<g.index&&k<F)R=`${g.tabSize+g.tabLayout[B+1].margin}px`,D=Math.min(D,B);else if(B>g.index&&j>F)R=`${-g.tabSize-G.margin}px`,D=Math.max(D,B);else if(B===g.index){let K=P-w,Q=A-(g.tabPos+g.tabSize);R=`${Math.max(-g.tabPos,Math.min(K,Q))}px`}else R="";y==="horizontal"?m[B].style.left=R:m[B].style.top=R}g.targetIndex=D}t.layoutTabs=c;function f(m,g){let v;g==="horizontal"?v=m.contentRect.width:v=m.contentRect.height;let y;if(m.targetIndex===m.index)y=0;else if(m.targetIndex>m.index){let P=m.tabLayout[m.targetIndex];y=P.pos+P.size-m.tabSize-m.tabPos}else y=m.tabLayout[m.targetIndex].pos-m.tabPos;let w=v-(m.tabPos+m.tabSize),T=Math.max(-m.tabPos,Math.min(y,w));g==="horizontal"?m.tab.style.left=`${T}px`:m.tab.style.top=`${T}px`}t.finalizeTabPosition=f;function d(m,g){for(const v of m)g==="horizontal"?v.style.left="":v.style.top=""}t.resetTabPositions=d})(Private$7$4||(Private$7$4={}));let DockLayout$4=class extends Layout$4{constructor(e){super(),this._spacing=4,this._dirty=!1,this._root=null,this._box=null,this._items=new Map,this.renderer=e.renderer,e.spacing!==void 0&&(this._spacing=Utils$1$4.clampDimension(e.spacing)),this._document=e.document||document,this._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:Widget$4.HiddenMode.Display}dispose(){let e=this[Symbol.iterator]();this._items.forEach(n=>{n.dispose()}),this._box=null,this._root=null,this._items.clear();for(const n of e)n.dispose();super.dispose()}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){if(this._hiddenMode!==e){this._hiddenMode=e;for(const n of this.tabBars())if(n.titles.length>1)for(const i of n.titles)i.owner.hiddenMode=this._hiddenMode}}get spacing(){return this._spacing}set spacing(e){e=Utils$1$4.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get isEmpty(){return this._root===null}[Symbol.iterator](){return this._root?this._root.iterAllWidgets():empty$a()}widgets(){return this._root?this._root.iterUserWidgets():empty$a()}selectedWidgets(){return this._root?this._root.iterSelectedWidgets():empty$a()}tabBars(){return this._root?this._root.iterTabBars():empty$a()}handles(){return this._root?this._root.iterHandles():empty$a()}moveHandle(e,n,i){let o=e.classList.contains("lm-mod-hidden");if(!this._root||o)return;let u=this._root.findSplitNode(e);if(!u)return;let l;u.node.orientation==="horizontal"?l=n-e.offsetLeft:l=i-e.offsetTop,l!==0&&(u.node.holdSizes(),BoxEngine$4.adjust(u.node.sizers,u.index,l),this.parent&&this.parent.update())}saveLayout(){return this._root?(this._root.holdAllSizes(),{main:this._root.createConfig()}):{main:null}}restoreLayout(e){let n=new Set,i;e.main?i=Private$6$4.normalizeAreaConfig(e.main,n):i=null;let o=this.widgets(),u=this.tabBars(),l=this.handles();this._root=null;for(const c of o)n.has(c)||(c.parent=null);for(const c of u)c.dispose();for(const c of l)c.parentNode&&c.parentNode.removeChild(c);for(const c of n)c.parent=this.parent;i?this._root=Private$6$4.realizeAreaConfig(i,{createTabBar:c=>this._createTabBar(),createHandle:()=>this._createHandle()},this._document):this._root=null,this.parent&&(n.forEach(c=>{this.attachWidget(c)}),this.parent.fit())}addWidget(e,n={}){let i=n.ref||null,o=n.mode||"tab-after",u=null;if(this._root&&i&&(u=this._root.findTabNode(i)),i&&!u)throw new Error("Reference widget is not in the layout.");switch(e.parent=this.parent,o){case"tab-after":this._insertTab(e,i,u,!0);break;case"tab-before":this._insertTab(e,i,u,!1);break;case"split-top":this._insertSplit(e,i,u,"vertical",!1);break;case"split-left":this._insertSplit(e,i,u,"horizontal",!1);break;case"split-right":this._insertSplit(e,i,u,"horizontal",!0);break;case"split-bottom":this._insertSplit(e,i,u,"vertical",!0);break;case"merge-top":this._insertSplit(e,i,u,"vertical",!1,!0);break;case"merge-left":this._insertSplit(e,i,u,"horizontal",!1,!0);break;case"merge-right":this._insertSplit(e,i,u,"horizontal",!0,!0);break;case"merge-bottom":this._insertSplit(e,i,u,"vertical",!0,!0);break}this.parent&&(this.attachWidget(e),this.parent.fit())}removeWidget(e){this._removeWidget(e),this.parent&&(this.detachWidget(e),this.parent.fit())}hitTestTabAreas(e,n){if(!this._root||!this.parent||!this.parent.isVisible)return null;this._box||(this._box=ElementExt$1.boxSizing(this.parent.node));let i=this.parent.node.getBoundingClientRect(),o=e-i.left-this._box.borderLeft,u=n-i.top-this._box.borderTop,l=this._root.hitTestTabNodes(o,u);if(!l)return null;let{tabBar:c,top:f,left:d,width:m,height:g}=l,v=this._box.borderLeft+this._box.borderRight,y=this._box.borderTop+this._box.borderBottom,w=i.width-v-(d+m),T=i.height-y-(f+g);return{tabBar:c,x:o,y:u,top:f,left:d,right:w,bottom:T,width:m,height:g}}init(){super.init();for(const e of this)this.attachWidget(e);for(const e of this.handles())this.parent.node.appendChild(e);this.parent.fit()}attachWidget(e){this.parent.node!==e.node.parentNode&&(this._items.set(e,new LayoutItem$4(e)),this.parent.isAttached&&MessageLoop$4.sendMessage(e,Widget$4.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&MessageLoop$4.sendMessage(e,Widget$4.Msg.AfterAttach))}detachWidget(e){if(this.parent.node!==e.node.parentNode)return;this.parent.isAttached&&MessageLoop$4.sendMessage(e,Widget$4.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&MessageLoop$4.sendMessage(e,Widget$4.Msg.AfterDetach);let n=this._items.get(e);n&&(this._items.delete(e),n.dispose())}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_removeWidget(e){if(!this._root)return;let n=this._root.findTabNode(e);if(!n)return;if(Private$6$4.removeAria(e),n.tabBar.titles.length>1){if(n.tabBar.removeTab(e.title),this._hiddenMode===Widget$4.HiddenMode.Scale&&n.tabBar.titles.length==1){const v=n.tabBar.titles[0].owner;v.hiddenMode=Widget$4.HiddenMode.Display}return}if(n.tabBar.dispose(),this._root===n){this._root=null;return}this._root.holdAllSizes();let i=n.parent;n.parent=null;let o=ArrayExt$4.removeFirstOf(i.children,n),u=ArrayExt$4.removeAt(i.handles,o);if(ArrayExt$4.removeAt(i.sizers,o),u.parentNode&&u.parentNode.removeChild(u),i.children.length>1){i.syncHandles();return}let l=i.parent;i.parent=null;let c=i.children[0],f=i.handles[0];if(i.children.length=0,i.handles.length=0,i.sizers.length=0,f.parentNode&&f.parentNode.removeChild(f),this._root===i){c.parent=null,this._root=c;return}let d=l,m=d.children.indexOf(i);if(c instanceof Private$6$4.TabLayoutNode){c.parent=d,d.children[m]=c;return}let g=ArrayExt$4.removeAt(d.handles,m);ArrayExt$4.removeAt(d.children,m),ArrayExt$4.removeAt(d.sizers,m),g.parentNode&&g.parentNode.removeChild(g);for(let v=0,y=c.children.length;v<y;++v){let w=c.children[v],T=c.handles[v],P=c.sizers[v];ArrayExt$4.insert(d.children,m+v,w),ArrayExt$4.insert(d.handles,m+v,T),ArrayExt$4.insert(d.sizers,m+v,P),w.parent=d}c.children.length=0,c.handles.length=0,c.sizers.length=0,c.parent=null,d.syncHandles()}_createTabNode(e){let n=new Private$6$4.TabLayoutNode(this._createTabBar());return n.tabBar.addTab(e.title),Private$6$4.addAria(e,n.tabBar),n}_insertTab(e,n,i,o){if(e===n)return;if(!this._root){let l=new Private$6$4.TabLayoutNode(this._createTabBar());l.tabBar.addTab(e.title),this._root=l,Private$6$4.addAria(e,l.tabBar);return}i||(i=this._root.findFirstTabNode()),i.tabBar.titles.indexOf(e.title)===-1&&(this._removeWidget(e),e.hide());let u;if(n?u=i.tabBar.titles.indexOf(n.title):u=i.tabBar.currentIndex,this._hiddenMode===Widget$4.HiddenMode.Scale)if(i.tabBar.titles.length===0)e.hiddenMode=Widget$4.HiddenMode.Display;else if(i.tabBar.titles.length==1){const l=i.tabBar.titles[0].owner;l.hiddenMode=Widget$4.HiddenMode.Scale}else e.hiddenMode=Widget$4.HiddenMode.Scale;else e.hiddenMode=this._hiddenMode;i.tabBar.insertTab(u+(o?1:0),e.title),Private$6$4.addAria(e,i.tabBar)}_insertSplit(e,n,i,o,u,l=!1){if(e===n&&i&&i.tabBar.titles.length===1)return;if(this._removeWidget(e),!this._root){this._root=this._createTabNode(e);return}if(!i||!i.parent){let v=this._splitRoot(o),y=u?v.children.length:0;v.normalizeSizes();let w=Private$6$4.createSizer(i?1:Private$6$4.GOLDEN_RATIO),T=this._createTabNode(e);ArrayExt$4.insert(v.children,y,T),ArrayExt$4.insert(v.sizers,y,w),ArrayExt$4.insert(v.handles,y,this._createHandle()),T.parent=v,v.normalizeSizes(),v.syncHandles();return}let c=i.parent;if(c.orientation===o){let v=c.children.indexOf(i);if(l){let P=v+(u?1:-1),A=c.children[P];if(A instanceof Private$6$4.TabLayoutNode){this._insertTab(e,null,A,!0),++A.tabBar.currentIndex;return}}c.normalizeSizes();let y=c.sizers[v].sizeHint/=2,w=v+(u?1:0),T=this._createTabNode(e);ArrayExt$4.insert(c.children,w,T),ArrayExt$4.insert(c.sizers,w,Private$6$4.createSizer(y)),ArrayExt$4.insert(c.handles,w,this._createHandle()),T.parent=c,c.syncHandles();return}let f=ArrayExt$4.removeFirstOf(c.children,i),d=new Private$6$4.SplitLayoutNode(o);d.normalized=!0,d.children.push(i),d.sizers.push(Private$6$4.createSizer(.5)),d.handles.push(this._createHandle()),i.parent=d;let m=u?1:0,g=this._createTabNode(e);ArrayExt$4.insert(d.children,m,g),ArrayExt$4.insert(d.sizers,m,Private$6$4.createSizer(.5)),ArrayExt$4.insert(d.handles,m,this._createHandle()),g.parent=d,d.syncHandles(),ArrayExt$4.insert(c.children,f,d),d.parent=c}_splitRoot(e){let n=this._root;if(n instanceof Private$6$4.SplitLayoutNode&&n.orientation===e)return n;let i=this._root=new Private$6$4.SplitLayoutNode(e);return n&&(i.children.push(n),i.sizers.push(Private$6$4.createSizer(0)),i.handles.push(this._createHandle()),n.parent=i),i}_fit(){let e=0,n=0;if(this._root){let u=this._root.fit(this._spacing,this._items);e=u.minWidth,n=u.minHeight}let i=this._box=ElementExt$1.boxSizing(this.parent.node);e+=i.horizontalSum,n+=i.verticalSum;let o=this.parent.node.style;o.minWidth=`${e}px`,o.minHeight=`${n}px`,this._dirty=!0,this.parent.parent&&MessageLoop$4.sendMessage(this.parent.parent,Widget$4.Msg.FitRequest),this._dirty&&MessageLoop$4.sendMessage(this.parent,Widget$4.Msg.UpdateRequest)}_update(e,n){if(this._dirty=!1,!this._root)return;e<0&&(e=this.parent.node.offsetWidth),n<0&&(n=this.parent.node.offsetHeight),this._box||(this._box=ElementExt$1.boxSizing(this.parent.node));let i=this._box.paddingTop,o=this._box.paddingLeft,u=e-this._box.horizontalSum,l=n-this._box.verticalSum;this._root.update(i,o,u,l,this._spacing,this._items)}_createTabBar(){let e=this.renderer.createTabBar(this._document);return e.orientation="horizontal",this.parent&&this.attachWidget(e),e}_createHandle(){let e=this.renderer.createHandle(),n=e.style;return n.position="absolute",n.contain="strict",n.top="0",n.left="0",n.width="0",n.height="0",this.parent&&this.parent.node.appendChild(e),e}};var Private$6$4;(function(t){t.GOLDEN_RATIO=.618;function e(v){let y=new BoxSizer$4;return y.sizeHint=v,y.size=v,y}t.createSizer=e;function n(v,y){let w;return v.type==="tab-area"?w=f(v,y):w=d(v,y),w}t.normalizeAreaConfig=n;function i(v,y,w){let T;return v.type==="tab-area"?T=m(v,y,w):T=g(v,y,w),T}t.realizeAreaConfig=i;class o{constructor(y){this.parent=null,this._top=0,this._left=0,this._width=0,this._height=0;let w=new BoxSizer$4,T=new BoxSizer$4;w.stretch=0,T.stretch=1,this.tabBar=y,this.sizers=[w,T]}get top(){return this._top}get left(){return this._left}get width(){return this._width}get height(){return this._height}*iterAllWidgets(){yield this.tabBar,yield*this.iterUserWidgets()}*iterUserWidgets(){for(const y of this.tabBar.titles)yield y.owner}*iterSelectedWidgets(){let y=this.tabBar.currentTitle;y&&(yield y.owner)}*iterTabBars(){yield this.tabBar}*iterHandles(){}findTabNode(y){return this.tabBar.titles.indexOf(y.title)!==-1?this:null}findSplitNode(y){return null}findFirstTabNode(){return this}hitTestTabNodes(y,w){return y<this._left||y>=this._left+this._width||w<this._top||w>=this._top+this._height?null:this}createConfig(){let y=this.tabBar.titles.map(T=>T.owner),w=this.tabBar.currentIndex;return{type:"tab-area",widgets:y,currentIndex:w}}holdAllSizes(){}fit(y,w){let T=0,P=0,A=1/0,D=1/0,k=w.get(this.tabBar),j=this.tabBar.currentTitle,B=j?w.get(j.owner):void 0,[Z,R]=this.sizers;return k&&k.fit(),B&&B.fit(),k&&!k.isHidden?(T=Math.max(T,k.minWidth),P+=k.minHeight,Z.minSize=k.minHeight,Z.maxSize=k.maxHeight):(Z.minSize=0,Z.maxSize=0),B&&!B.isHidden?(T=Math.max(T,B.minWidth),P+=B.minHeight,R.minSize=B.minHeight,R.maxSize=1/0):(R.minSize=0,R.maxSize=1/0),{minWidth:T,minHeight:P,maxWidth:A,maxHeight:D}}update(y,w,T,P,A,D){this._top=w,this._left=y,this._width=T,this._height=P;let k=D.get(this.tabBar),j=this.tabBar.currentTitle,B=j?D.get(j.owner):void 0;if(BoxEngine$4.calc(this.sizers,P),k&&!k.isHidden){let Z=this.sizers[0].size;k.update(y,w,T,Z),w+=Z}if(B&&!B.isHidden){let Z=this.sizers[1].size;B.update(y,w,T,Z)}}}t.TabLayoutNode=o;class u{constructor(y){this.parent=null,this.normalized=!1,this.children=[],this.sizers=[],this.handles=[],this.orientation=y}*iterAllWidgets(){for(const y of this.children)yield*y.iterAllWidgets()}*iterUserWidgets(){for(const y of this.children)yield*y.iterUserWidgets()}*iterSelectedWidgets(){for(const y of this.children)yield*y.iterSelectedWidgets()}*iterTabBars(){for(const y of this.children)yield*y.iterTabBars()}*iterHandles(){yield*this.handles;for(const y of this.children)yield*y.iterHandles()}findTabNode(y){for(let w=0,T=this.children.length;w<T;++w){let P=this.children[w].findTabNode(y);if(P)return P}return null}findSplitNode(y){let w=this.handles.indexOf(y);if(w!==-1)return{index:w,node:this};for(let T=0,P=this.children.length;T<P;++T){let A=this.children[T].findSplitNode(y);if(A)return A}return null}findFirstTabNode(){return this.children.length===0?null:this.children[0].findFirstTabNode()}hitTestTabNodes(y,w){for(let T=0,P=this.children.length;T<P;++T){let A=this.children[T].hitTestTabNodes(y,w);if(A)return A}return null}createConfig(){let y=this.orientation,w=this.createNormalizedSizes(),T=this.children.map(P=>P.createConfig());return{type:"split-area",orientation:y,children:T,sizes:w}}syncHandles(){this.handles.forEach((y,w)=>{y.setAttribute("data-orientation",this.orientation),w===this.handles.length-1?y.classList.add("lm-mod-hidden"):y.classList.remove("lm-mod-hidden")})}holdSizes(){for(const y of this.sizers)y.sizeHint=y.size}holdAllSizes(){for(const y of this.children)y.holdAllSizes();this.holdSizes()}normalizeSizes(){let y=this.sizers.length;if(y===0)return;this.holdSizes();let w=this.sizers.reduce((T,P)=>T+P.sizeHint,0);if(w===0)for(const T of this.sizers)T.size=T.sizeHint=1/y;else for(const T of this.sizers)T.size=T.sizeHint/=w;this.normalized=!0}createNormalizedSizes(){let y=this.sizers.length;if(y===0)return[];let w=this.sizers.map(P=>P.size),T=w.reduce((P,A)=>P+A,0);if(T===0)for(let P=w.length-1;P>-1;P--)w[P]=1/y;else for(let P=w.length-1;P>-1;P--)w[P]/=T;return w}fit(y,w){let T=this.orientation==="horizontal",P=Math.max(0,this.children.length-1)*y,A=T?P:0,D=T?0:P,k=1/0,j=1/0;for(let B=0,Z=this.children.length;B<Z;++B){let R=this.children[B].fit(y,w);T?(D=Math.max(D,R.minHeight),A+=R.minWidth,this.sizers[B].minSize=R.minWidth):(A=Math.max(A,R.minWidth),D+=R.minHeight,this.sizers[B].minSize=R.minHeight)}return{minWidth:A,minHeight:D,maxWidth:k,maxHeight:j}}update(y,w,T,P,A,D){let k=this.orientation==="horizontal",j=Math.max(0,this.children.length-1)*A,B=Math.max(0,(k?T:P)-j);if(this.normalized){for(const Z of this.sizers)Z.sizeHint*=B;this.normalized=!1}BoxEngine$4.calc(this.sizers,B);for(let Z=0,R=this.children.length;Z<R;++Z){let G=this.children[Z],F=this.sizers[Z].size,K=this.handles[Z].style;k?(G.update(y,w,F,P,A,D),y+=F,K.top=`${w}px`,K.left=`${y}px`,K.width=`${A}px`,K.height=`${P}px`,y+=A):(G.update(y,w,T,F,A,D),w+=F,K.top=`${w}px`,K.left=`${y}px`,K.width=`${T}px`,K.height=`${A}px`,w+=A)}}}t.SplitLayoutNode=u;function l(v,y){v.node.setAttribute("role","tabpanel");let w=y.renderer;if(w instanceof TabBar$4.Renderer){let T=w.createTabKey({title:v.title,current:!1,zIndex:0});v.node.setAttribute("aria-labelledby",T)}}t.addAria=l;function c(v){v.node.removeAttribute("role"),v.node.removeAttribute("aria-labelledby")}t.removeAria=c;function f(v,y){if(v.widgets.length===0)return null;let w=[];for(const P of v.widgets)y.has(P)||(y.add(P),w.push(P));if(w.length===0)return null;let T=v.currentIndex;return T!==-1&&(T<0||T>=w.length)&&(T=0),{type:"tab-area",widgets:w,currentIndex:T}}function d(v,y){let w=v.orientation,T=[],P=[];for(let A=0,D=v.children.length;A<D;++A){let k=n(v.children[A],y);k&&(k.type==="tab-area"||k.orientation!==w?(T.push(k),P.push(Math.abs(v.sizes[A]||0))):(T.push(...k.children),P.push(...k.sizes)))}return T.length===0?null:T.length===1?T[0]:{type:"split-area",orientation:w,children:T,sizes:P}}function m(v,y,w){let T=y.createTabBar(w);for(const P of v.widgets)P.hide(),T.addTab(P.title),t.addAria(P,T);return T.currentIndex=v.currentIndex,new o(T)}function g(v,y,w){let T=new u(v.orientation);return v.children.forEach((P,A)=>{let D=i(P,y,w),k=e(v.sizes[A]),j=y.createHandle();T.children.push(D),T.handles.push(j),T.sizers.push(k),D.parent=T}),T.syncHandles(),T.normalizeSizes(),T}})(Private$6$4||(Private$6$4={}));let DockPanel$4=class Qc extends Widget$4{constructor(e={}){super(),this._drag=null,this._tabsMovable=!0,this._tabsConstrained=!1,this._addButtonEnabled=!1,this._pressData=null,this._layoutModified=new Signal$2(this),this._addRequested=new Signal$2(this),this.addClass("lm-DockPanel"),this._document=e.document||document,this._mode=e.mode||"multiple-document",this._renderer=e.renderer||Qc.defaultRenderer,this._edges=e.edges||Private$5$4.DEFAULT_EDGES,e.tabsMovable!==void 0&&(this._tabsMovable=e.tabsMovable),e.tabsConstrained!==void 0&&(this._tabsConstrained=e.tabsConstrained),e.addButtonEnabled!==void 0&&(this._addButtonEnabled=e.addButtonEnabled),this.dataset.mode=this._mode;let n={createTabBar:()=>this._createTabBar(),createHandle:()=>this._createHandle()};this.layout=new DockLayout$4({document:this._document,renderer:n,spacing:e.spacing,hiddenMode:e.hiddenMode}),this.overlay=e.overlay||new Qc.Overlay,this.node.appendChild(this.overlay.node)}dispose(){this._releaseMouse(),this.overlay.hide(0),this._drag&&this._drag.dispose(),super.dispose()}get hiddenMode(){return this.layout.hiddenMode}set hiddenMode(e){this.layout.hiddenMode=e}get layoutModified(){return this._layoutModified}get addRequested(){return this._addRequested}get renderer(){return this.layout.renderer}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get mode(){return this._mode}set mode(e){if(this._mode===e)return;this._mode=e,this.dataset.mode=e;let n=this.layout;switch(e){case"multiple-document":for(const i of n.tabBars())i.show();break;case"single-document":n.restoreLayout(Private$5$4.createSingleDocumentConfig(this));break;default:throw"unreachable"}MessageLoop$4.postMessage(this,Private$5$4.LayoutModified)}get tabsMovable(){return this._tabsMovable}set tabsMovable(e){this._tabsMovable=e;for(const n of this.tabBars())n.tabsMovable=e}get tabsConstrained(){return this._tabsConstrained}set tabsConstrained(e){this._tabsConstrained=e}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled=e;for(const n of this.tabBars())n.addButtonEnabled=e}get isEmpty(){return this.layout.isEmpty}*widgets(){yield*this.layout.widgets()}*selectedWidgets(){yield*this.layout.selectedWidgets()}*tabBars(){yield*this.layout.tabBars()}*handles(){yield*this.layout.handles()}selectWidget(e){let n=find$4(this.tabBars(),i=>i.titles.indexOf(e.title)!==-1);if(!n)throw new Error("Widget is not contained in the dock panel.");n.currentTitle=e.title}activateWidget(e){this.selectWidget(e),e.activate()}saveLayout(){return this.layout.saveLayout()}restoreLayout(e){this._mode="multiple-document",this.layout.restoreLayout(e),(Platform$1.IS_EDGE||Platform$1.IS_IE)&&MessageLoop$4.flush(),MessageLoop$4.postMessage(this,Private$5$4.LayoutModified)}addWidget(e,n={}){this._mode==="single-document"?this.layout.addWidget(e):this.layout.addWidget(e,n),MessageLoop$4.postMessage(this,Private$5$4.LayoutModified)}processMessage(e){e.type==="layout-modified"?this._layoutModified.emit(void 0):super.processMessage(e)}handleEvent(e){switch(e.type){case"lm-dragenter":this._evtDragEnter(e);break;case"lm-dragleave":this._evtDragLeave(e);break;case"lm-dragover":this._evtDragOver(e);break;case"lm-drop":this._evtDrop(e);break;case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("lm-dragenter",this),this.node.addEventListener("lm-dragleave",this),this.node.addEventListener("lm-dragover",this),this.node.addEventListener("lm-drop",this),this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("lm-dragenter",this),this.node.removeEventListener("lm-dragleave",this),this.node.removeEventListener("lm-dragover",this),this.node.removeEventListener("lm-drop",this),this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){Private$5$4.isGeneratedTabBarProperty.get(e.child)||e.child.addClass("lm-DockPanel-widget")}onChildRemoved(e){Private$5$4.isGeneratedTabBarProperty.get(e.child)||(e.child.removeClass("lm-DockPanel-widget"),MessageLoop$4.postMessage(this,Private$5$4.LayoutModified))}_evtDragEnter(e){e.mimeData.hasData("application/vnd.lumino.widget-factory")&&(e.preventDefault(),e.stopPropagation())}_evtDragLeave(e){e.preventDefault(),!(this._tabsConstrained&&e.source!==this)&&(e.stopPropagation(),this.overlay.hide(1))}_evtDragOver(e){e.preventDefault(),this._tabsConstrained&&e.source!==this||this._showOverlay(e.clientX,e.clientY)==="invalid"?e.dropAction="none":(e.stopPropagation(),e.dropAction=e.proposedAction)}_evtDrop(e){if(e.preventDefault(),this.overlay.hide(0),e.proposedAction==="none"){e.dropAction="none";return}let{clientX:n,clientY:i}=e,{zone:o,target:u}=Private$5$4.findDropTarget(this,n,i,this._edges);if(this._tabsConstrained&&e.source!==this||o==="invalid"){e.dropAction="none";return}let c=e.mimeData.getData("application/vnd.lumino.widget-factory");if(typeof c!="function"){e.dropAction="none";return}let f=c();if(!(f instanceof Widget$4)){e.dropAction="none";return}if(f.contains(this)){e.dropAction="none";return}let d=u?Private$5$4.getDropRef(u.tabBar):null;switch(o){case"root-all":this.addWidget(f);break;case"root-top":this.addWidget(f,{mode:"split-top"});break;case"root-left":this.addWidget(f,{mode:"split-left"});break;case"root-right":this.addWidget(f,{mode:"split-right"});break;case"root-bottom":this.addWidget(f,{mode:"split-bottom"});break;case"widget-all":this.addWidget(f,{mode:"tab-after",ref:d});break;case"widget-top":this.addWidget(f,{mode:"split-top",ref:d});break;case"widget-left":this.addWidget(f,{mode:"split-left",ref:d});break;case"widget-right":this.addWidget(f,{mode:"split-right",ref:d});break;case"widget-bottom":this.addWidget(f,{mode:"split-bottom",ref:d});break;case"widget-tab":this.addWidget(f,{mode:"tab-after",ref:d});break;default:throw"unreachable"}e.dropAction=e.proposedAction,e.stopPropagation(),this.activateWidget(f)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&(this._releaseMouse(),MessageLoop$4.postMessage(this,Private$5$4.LayoutModified))}_evtPointerDown(e){if(e.button!==0)return;let n=this.layout,i=e.target,o=find$4(n.handles(),m=>m.contains(i));if(!o)return;e.preventDefault(),e.stopPropagation(),this._document.addEventListener("keydown",this,!0),this._document.addEventListener("pointerup",this,!0),this._document.addEventListener("pointermove",this,!0),this._document.addEventListener("contextmenu",this,!0);let u=o.getBoundingClientRect(),l=e.clientX-u.left,c=e.clientY-u.top,f=window.getComputedStyle(o),d=Drag$4.overrideCursor(f.cursor,this._document);this._pressData={handle:o,deltaX:l,deltaY:c,override:d}}_evtPointerMove(e){if(!this._pressData)return;e.preventDefault(),e.stopPropagation();let n=this.node.getBoundingClientRect(),i=e.clientX-n.left-this._pressData.deltaX,o=e.clientY-n.top-this._pressData.deltaY;this.layout.moveHandle(this._pressData.handle,i,o)}_evtPointerUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse(),MessageLoop$4.postMessage(this,Private$5$4.LayoutModified))}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._document.removeEventListener("keydown",this,!0),this._document.removeEventListener("pointerup",this,!0),this._document.removeEventListener("pointermove",this,!0),this._document.removeEventListener("contextmenu",this,!0))}_showOverlay(e,n){let{zone:i,target:o}=Private$5$4.findDropTarget(this,e,n,this._edges);if(i==="invalid")return this.overlay.hide(100),i;let u,l,c,f,d=ElementExt$1.boxSizing(this.node),m=this.node.getBoundingClientRect();switch(i){case"root-all":u=d.paddingTop,l=d.paddingLeft,c=d.paddingRight,f=d.paddingBottom;break;case"root-top":u=d.paddingTop,l=d.paddingLeft,c=d.paddingRight,f=m.height*Private$5$4.GOLDEN_RATIO;break;case"root-left":u=d.paddingTop,l=d.paddingLeft,c=m.width*Private$5$4.GOLDEN_RATIO,f=d.paddingBottom;break;case"root-right":u=d.paddingTop,l=m.width*Private$5$4.GOLDEN_RATIO,c=d.paddingRight,f=d.paddingBottom;break;case"root-bottom":u=m.height*Private$5$4.GOLDEN_RATIO,l=d.paddingLeft,c=d.paddingRight,f=d.paddingBottom;break;case"widget-all":u=o.top,l=o.left,c=o.right,f=o.bottom;break;case"widget-top":u=o.top,l=o.left,c=o.right,f=o.bottom+o.height/2;break;case"widget-left":u=o.top,l=o.left,c=o.right+o.width/2,f=o.bottom;break;case"widget-right":u=o.top,l=o.left+o.width/2,c=o.right,f=o.bottom;break;case"widget-bottom":u=o.top+o.height/2,l=o.left,c=o.right,f=o.bottom;break;case"widget-tab":{const g=o.tabBar.node.getBoundingClientRect().height;u=o.top,l=o.left,c=o.right,f=o.bottom+o.height-g;break}default:throw"unreachable"}return this.overlay.show({top:u,left:l,right:c,bottom:f}),i}_createTabBar(){let e=this._renderer.createTabBar(this._document);return Private$5$4.isGeneratedTabBarProperty.set(e,!0),this._mode==="single-document"&&e.hide(),e.tabsMovable=this._tabsMovable,e.allowDeselect=!1,e.addButtonEnabled=this._addButtonEnabled,e.removeBehavior="select-previous-tab",e.insertBehavior="select-tab-if-needed",e.tabMoved.connect(this._onTabMoved,this),e.currentChanged.connect(this._onCurrentChanged,this),e.tabCloseRequested.connect(this._onTabCloseRequested,this),e.tabDetachRequested.connect(this._onTabDetachRequested,this),e.tabActivateRequested.connect(this._onTabActivateRequested,this),e.addRequested.connect(this._onTabAddRequested,this),e}_createHandle(){return this._renderer.createHandle()}_onTabMoved(){MessageLoop$4.postMessage(this,Private$5$4.LayoutModified)}_onCurrentChanged(e,n){let{previousTitle:i,currentTitle:o}=n;i&&i.owner.hide(),o&&o.owner.show(),(Platform$1.IS_EDGE||Platform$1.IS_IE)&&MessageLoop$4.flush(),MessageLoop$4.postMessage(this,Private$5$4.LayoutModified)}_onTabAddRequested(e){this._addRequested.emit(e)}_onTabActivateRequested(e,n){n.title.owner.activate()}_onTabCloseRequested(e,n){n.title.owner.close()}_onTabDetachRequested(e,n){if(this._drag)return;e.releaseMouse();let{title:i,tab:o,clientX:u,clientY:l,offset:c}=n,f=new MimeData$1,d=()=>i.owner;f.setData("application/vnd.lumino.widget-factory",d);let m=o.cloneNode(!0);c&&(m.style.top=`-${c.y}px`,m.style.left=`-${c.x}px`),this._drag=new Drag$4({document:this._document,mimeData:f,dragImage:m,proposedAction:"move",supportedActions:"move",source:this}),o.classList.add("lm-mod-hidden");let g=()=>{this._drag=null,o.classList.remove("lm-mod-hidden")};this._drag.start(u,l).then(g)}};(function(t){class e{constructor(){this._timer=-1,this._hidden=!0,this.node=document.createElement("div"),this.node.classList.add("lm-DockPanel-overlay"),this.node.classList.add("lm-mod-hidden"),this.node.style.position="absolute",this.node.style.contain="strict"}show(o){let u=this.node.style;u.top=`${o.top}px`,u.left=`${o.left}px`,u.right=`${o.right}px`,u.bottom=`${o.bottom}px`,clearTimeout(this._timer),this._timer=-1,this._hidden&&(this._hidden=!1,this.node.classList.remove("lm-mod-hidden"))}hide(o){if(!this._hidden){if(o<=0){clearTimeout(this._timer),this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden");return}this._timer===-1&&(this._timer=window.setTimeout(()=>{this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden")},o))}}}t.Overlay=e;class n{createTabBar(o){let u=new TabBar$4({document:o});return u.addClass("lm-DockPanel-tabBar"),u}createHandle(){let o=document.createElement("div");return o.className="lm-DockPanel-handle",o}}t.Renderer=n,t.defaultRenderer=new n})(DockPanel$4||(DockPanel$4={}));var Private$5$4;(function(t){t.GOLDEN_RATIO=.618,t.DEFAULT_EDGES={top:12,right:40,bottom:40,left:40},t.LayoutModified=new ConflatableMessage$4("layout-modified"),t.isGeneratedTabBarProperty=new AttachedProperty$2({name:"isGeneratedTabBar",create:()=>!1});function e(o){if(o.isEmpty)return{main:null};let u=Array.from(o.widgets()),l=o.selectedWidgets().next().value,c=l?u.indexOf(l):-1;return{main:{type:"tab-area",widgets:u,currentIndex:c}}}t.createSingleDocumentConfig=e;function n(o,u,l,c){if(!ElementExt$1.hitTest(o.node,u,l))return{zone:"invalid",target:null};let f=o.layout;if(f.isEmpty)return{zone:"root-all",target:null};if(o.mode==="multiple-document"){let k=o.node.getBoundingClientRect(),j=u-k.left+1,B=l-k.top+1,Z=k.right-u,R=k.bottom-l;switch(Math.min(B,Z,R,j)){case B:if(B<c.top)return{zone:"root-top",target:null};break;case Z:if(Z<c.right)return{zone:"root-right",target:null};break;case R:if(R<c.bottom)return{zone:"root-bottom",target:null};break;case j:if(j<c.left)return{zone:"root-left",target:null};break;default:throw"unreachable"}}let d=f.hitTestTabAreas(u,l);if(!d)return{zone:"invalid",target:null};if(o.mode==="single-document")return{zone:"widget-all",target:d};let m=d.x-d.left+1,g=d.y-d.top+1,v=d.left+d.width-d.x,y=d.top+d.height-d.y;const w=d.tabBar.node.getBoundingClientRect().height;if(g<w)return{zone:"widget-tab",target:d};let T=Math.round(d.width/3),P=Math.round(d.height/3);if(m>T&&v>T&&g>P&&y>P)return{zone:"widget-all",target:d};m/=T,g/=P,v/=T,y/=P;let A=Math.min(m,g,v,y),D;switch(A){case m:D="widget-left";break;case g:D="widget-top";break;case v:D="widget-right";break;case y:D="widget-bottom";break;default:throw"unreachable"}return{zone:D,target:d}}t.findDropTarget=n;function i(o){return o.titles.length===0?null:o.currentTitle?o.currentTitle.owner:o.titles[o.titles.length-1].owner}t.getDropRef=i})(Private$5$4||(Private$5$4={}));class FocusTracker{constructor(){this._counter=0,this._widgets=[],this._activeWidget=null,this._currentWidget=null,this._numbers=new Map,this._nodes=new Map,this._activeChanged=new Signal$2(this),this._currentChanged=new Signal$2(this)}dispose(){if(!(this._counter<0)){this._counter=-1,Signal$2.clearData(this);for(const e of this._widgets)e.node.removeEventListener("focus",this,!0),e.node.removeEventListener("blur",this,!0);this._activeWidget=null,this._currentWidget=null,this._nodes.clear(),this._numbers.clear(),this._widgets.length=0}}get currentChanged(){return this._currentChanged}get activeChanged(){return this._activeChanged}get isDisposed(){return this._counter<0}get currentWidget(){return this._currentWidget}get activeWidget(){return this._activeWidget}get widgets(){return this._widgets}focusNumber(e){let n=this._numbers.get(e);return n===void 0?-1:n}has(e){return this._numbers.has(e)}add(e){if(this._numbers.has(e))return;let n=e.node.contains(document.activeElement),i=n?this._counter++:-1;this._widgets.push(e),this._numbers.set(e,i),this._nodes.set(e.node,e),e.node.addEventListener("focus",this,!0),e.node.addEventListener("blur",this,!0),e.disposed.connect(this._onWidgetDisposed,this),n&&this._setWidgets(e,e)}remove(e){if(!this._numbers.has(e)||(e.disposed.disconnect(this._onWidgetDisposed,this),e.node.removeEventListener("focus",this,!0),e.node.removeEventListener("blur",this,!0),ArrayExt$4.removeFirstOf(this._widgets,e),this._nodes.delete(e.node),this._numbers.delete(e),this._currentWidget!==e))return;let n=this._widgets.filter(o=>this._numbers.get(o)!==-1),i=max$2(n,(o,u)=>{let l=this._numbers.get(o),c=this._numbers.get(u);return l-c})||null;this._setWidgets(i,null)}handleEvent(e){switch(e.type){case"focus":this._evtFocus(e);break;case"blur":this._evtBlur(e);break}}_setWidgets(e,n){let i=this._currentWidget;this._currentWidget=e;let o=this._activeWidget;this._activeWidget=n,i!==e&&this._currentChanged.emit({oldValue:i,newValue:e}),o!==n&&this._activeChanged.emit({oldValue:o,newValue:n})}_evtFocus(e){let n=this._nodes.get(e.currentTarget);n!==this._currentWidget&&this._numbers.set(n,this._counter++),this._setWidgets(n,n)}_evtBlur(e){let n=this._nodes.get(e.currentTarget),i=e.relatedTarget;if(!i){this._setWidgets(this._currentWidget,null);return}if(!n.node.contains(i)&&!find$4(this._widgets,o=>o.node.contains(i))){this._setWidgets(this._currentWidget,null);return}}_onWidgetDisposed(e){this.remove(e)}}let GridLayout$4=class Yu extends Layout$4{constructor(e={}){super(e),this._dirty=!1,this._rowSpacing=4,this._columnSpacing=4,this._items=[],this._rowStarts=[],this._columnStarts=[],this._rowSizers=[new BoxSizer$4],this._columnSizers=[new BoxSizer$4],this._box=null,e.rowCount!==void 0&&Private$4$4.reallocSizers(this._rowSizers,e.rowCount),e.columnCount!==void 0&&Private$4$4.reallocSizers(this._columnSizers,e.columnCount),e.rowSpacing!==void 0&&(this._rowSpacing=Private$4$4.clampValue(e.rowSpacing)),e.columnSpacing!==void 0&&(this._columnSpacing=Private$4$4.clampValue(e.columnSpacing))}dispose(){for(const e of this._items){let n=e.widget;e.dispose(),n.dispose()}this._box=null,this._items.length=0,this._rowStarts.length=0,this._rowSizers.length=0,this._columnStarts.length=0,this._columnSizers.length=0,super.dispose()}get rowCount(){return this._rowSizers.length}set rowCount(e){e!==this.rowCount&&(Private$4$4.reallocSizers(this._rowSizers,e),this.parent&&this.parent.fit())}get columnCount(){return this._columnSizers.length}set columnCount(e){e!==this.columnCount&&(Private$4$4.reallocSizers(this._columnSizers,e),this.parent&&this.parent.fit())}get rowSpacing(){return this._rowSpacing}set rowSpacing(e){e=Private$4$4.clampValue(e),this._rowSpacing!==e&&(this._rowSpacing=e,this.parent&&this.parent.fit())}get columnSpacing(){return this._columnSpacing}set columnSpacing(e){e=Private$4$4.clampValue(e),this._columnSpacing!==e&&(this._columnSpacing=e,this.parent&&this.parent.fit())}rowStretch(e){let n=this._rowSizers[e];return n?n.stretch:-1}setRowStretch(e,n){let i=this._rowSizers[e];i&&(n=Private$4$4.clampValue(n),i.stretch!==n&&(i.stretch=n,this.parent&&this.parent.update()))}columnStretch(e){let n=this._columnSizers[e];return n?n.stretch:-1}setColumnStretch(e,n){let i=this._columnSizers[e];i&&(n=Private$4$4.clampValue(n),i.stretch!==n&&(i.stretch=n,this.parent&&this.parent.update()))}*[Symbol.iterator](){for(const e of this._items)yield e.widget}addWidget(e){ArrayExt$4.findFirstIndex(this._items,i=>i.widget===e)===-1&&(this._items.push(new LayoutItem$4(e)),this.parent&&this.attachWidget(e))}removeWidget(e){let n=ArrayExt$4.findFirstIndex(this._items,o=>o.widget===e);if(n===-1)return;let i=ArrayExt$4.removeAt(this._items,n);this.parent&&this.detachWidget(e),i.dispose()}init(){super.init();for(const e of this)this.attachWidget(e)}attachWidget(e){this.parent.isAttached&&MessageLoop$4.sendMessage(e,Widget$4.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&MessageLoop$4.sendMessage(e,Widget$4.Msg.AfterAttach),this.parent.fit()}detachWidget(e){this.parent.isAttached&&MessageLoop$4.sendMessage(e,Widget$4.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&MessageLoop$4.sendMessage(e,Widget$4.Msg.AfterDetach),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){for(let f=0,d=this.rowCount;f<d;++f)this._rowSizers[f].minSize=0;for(let f=0,d=this.columnCount;f<d;++f)this._columnSizers[f].minSize=0;let e=this._items.filter(f=>!f.isHidden);for(let f=0,d=e.length;f<d;++f)e[f].fit();let n=this.rowCount-1,i=this.columnCount-1;e.sort(Private$4$4.rowSpanCmp);for(let f=0,d=e.length;f<d;++f){let m=e[f],g=Yu.getCellConfig(m.widget),v=Math.min(g.row,n),y=Math.min(g.row+g.rowSpan-1,n);Private$4$4.distributeMin(this._rowSizers,v,y,m.minHeight)}e.sort(Private$4$4.columnSpanCmp);for(let f=0,d=e.length;f<d;++f){let m=e[f],g=Yu.getCellConfig(m.widget),v=Math.min(g.column,i),y=Math.min(g.column+g.columnSpan-1,i);Private$4$4.distributeMin(this._columnSizers,v,y,m.minWidth)}if(this.fitPolicy==="set-no-constraint"){MessageLoop$4.sendMessage(this.parent,Widget$4.Msg.UpdateRequest);return}let o=n*this._rowSpacing,u=i*this._columnSpacing;for(let f=0,d=this.rowCount;f<d;++f)o+=this._rowSizers[f].minSize;for(let f=0,d=this.columnCount;f<d;++f)u+=this._columnSizers[f].minSize;let l=this._box=ElementExt$1.boxSizing(this.parent.node);u+=l.horizontalSum,o+=l.verticalSum;let c=this.parent.node.style;c.minWidth=`${u}px`,c.minHeight=`${o}px`,this._dirty=!0,this.parent.parent&&MessageLoop$4.sendMessage(this.parent.parent,Widget$4.Msg.FitRequest),this._dirty&&MessageLoop$4.sendMessage(this.parent,Widget$4.Msg.UpdateRequest)}_update(e,n){this._dirty=!1,e<0&&(e=this.parent.node.offsetWidth),n<0&&(n=this.parent.node.offsetHeight),this._box||(this._box=ElementExt$1.boxSizing(this.parent.node));let i=this._box.paddingTop,o=this._box.paddingLeft,u=e-this._box.horizontalSum,l=n-this._box.verticalSum,c=this.rowCount-1,f=this.columnCount-1,d=c*this._rowSpacing,m=f*this._columnSpacing;BoxEngine$4.calc(this._rowSizers,Math.max(0,l-d)),BoxEngine$4.calc(this._columnSizers,Math.max(0,u-m));for(let g=0,v=i,y=this.rowCount;g<y;++g)this._rowStarts[g]=v,v+=this._rowSizers[g].size+this._rowSpacing;for(let g=0,v=o,y=this.columnCount;g<y;++g)this._columnStarts[g]=v,v+=this._columnSizers[g].size+this._columnSpacing;for(let g=0,v=this._items.length;g<v;++g){let y=this._items[g];if(y.isHidden)continue;let w=Yu.getCellConfig(y.widget),T=Math.min(w.row,c),P=Math.min(w.column,f),A=Math.min(w.row+w.rowSpan-1,c),D=Math.min(w.column+w.columnSpan-1,f),k=this._columnStarts[P],j=this._rowStarts[T],B=this._columnStarts[D]+this._columnSizers[D].size-k,Z=this._rowStarts[A]+this._rowSizers[A].size-j;y.update(k,j,B,Z)}}};(function(t){function e(i){return Private$4$4.cellConfigProperty.get(i)}t.getCellConfig=e;function n(i,o){Private$4$4.cellConfigProperty.set(i,Private$4$4.normalizeConfig(o))}t.setCellConfig=n})(GridLayout$4||(GridLayout$4={}));var Private$4$4;(function(t){t.cellConfigProperty=new AttachedProperty$2({name:"cellConfig",create:()=>({row:0,column:0,rowSpan:1,columnSpan:1}),changed:c});function e(f){let d=Math.max(0,Math.floor(f.row||0)),m=Math.max(0,Math.floor(f.column||0)),g=Math.max(1,Math.floor(f.rowSpan||0)),v=Math.max(1,Math.floor(f.columnSpan||0));return{row:d,column:m,rowSpan:g,columnSpan:v}}t.normalizeConfig=e;function n(f){return Math.max(0,Math.floor(f))}t.clampValue=n;function i(f,d){let m=t.cellConfigProperty.get(f.widget),g=t.cellConfigProperty.get(d.widget);return m.rowSpan-g.rowSpan}t.rowSpanCmp=i;function o(f,d){let m=t.cellConfigProperty.get(f.widget),g=t.cellConfigProperty.get(d.widget);return m.columnSpan-g.columnSpan}t.columnSpanCmp=o;function u(f,d){for(d=Math.max(1,Math.floor(d));f.length<d;)f.push(new BoxSizer$4);f.length>d&&(f.length=d)}t.reallocSizers=u;function l(f,d,m,g){if(m<d)return;if(d===m){let w=f[d];w.minSize=Math.max(w.minSize,g);return}let v=0;for(let w=d;w<=m;++w)v+=f[w].minSize;if(v>=g)return;let y=(g-v)/(m-d+1);for(let w=d;w<=m;++w)f[w].minSize+=y}t.distributeMin=l;function c(f){f.parent&&f.parent.layout instanceof GridLayout$4&&f.parent.fit()}})(Private$4$4||(Private$4$4={}));let MenuBar$4=class gp extends Widget$4{constructor(e={}){super({node:Private$3$4.createNode()}),this._activeIndex=-1,this._tabFocusIndex=0,this._menus=[],this._childMenu=null,this._overflowMenu=null,this._menuItemSizes=[],this._overflowIndex=-1,this.addClass("lm-MenuBar"),this.setFlag(Widget$4.Flag.DisallowLayout),this.renderer=e.renderer||gp.defaultRenderer,this._forceItemsPosition=e.forceItemsPosition||{forceX:!0,forceY:!0},this._overflowMenuOptions=e.overflowMenuOptions||{isVisible:!0}}dispose(){this._closeChildMenu(),this._menus.length=0,super.dispose()}get childMenu(){return this._childMenu}get overflowIndex(){return this._overflowIndex}get overflowMenu(){return this._overflowMenu}get contentNode(){return this.node.getElementsByClassName("lm-MenuBar-content")[0]}get activeMenu(){return this._menus[this._activeIndex]||null}set activeMenu(e){this.activeIndex=e?this._menus.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._menus.length)&&(e=-1),e>-1&&this._menus[e].items.length===0&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this.update())}get menus(){return this._menus}openActiveMenu(){this._activeIndex!==-1&&(this._openChildMenu(),this._childMenu&&(this._childMenu.activeIndex=-1,this._childMenu.activateNextItem()))}addMenu(e,n=!0){this.insertMenu(this._menus.length,e,n)}insertMenu(e,n,i=!0){this._closeChildMenu();let o=this._menus.indexOf(n),u=Math.max(0,Math.min(e,this._menus.length));if(o===-1){ArrayExt$4.insert(this._menus,u,n),n.addClass("lm-MenuBar-menu"),n.aboutToClose.connect(this._onMenuAboutToClose,this),n.menuRequested.connect(this._onMenuMenuRequested,this),n.title.changed.connect(this._onTitleChanged,this),i&&this.update();return}u===this._menus.length&&u--,o!==u&&(ArrayExt$4.move(this._menus,o,u),i&&this.update())}removeMenu(e,n=!0){this.removeMenuAt(this._menus.indexOf(e),n)}removeMenuAt(e,n=!0){this._closeChildMenu();let i=ArrayExt$4.removeAt(this._menus,e);i&&(i.aboutToClose.disconnect(this._onMenuAboutToClose,this),i.menuRequested.disconnect(this._onMenuMenuRequested,this),i.title.changed.disconnect(this._onTitleChanged,this),i.removeClass("lm-MenuBar-menu"),n&&this.update())}clearMenus(){if(this._menus.length!==0){this._closeChildMenu();for(let e of this._menus)e.aboutToClose.disconnect(this._onMenuAboutToClose,this),e.menuRequested.disconnect(this._onMenuMenuRequested,this),e.title.changed.disconnect(this._onTitleChanged,this),e.removeClass("lm-MenuBar-menu");this._menus.length=0,this.update()}}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":case"mouseleave":this._evtMouseMove(e);break;case"focusout":this._evtFocusOut(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("focusout",this),this.node.addEventListener("contextmenu",this)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("focusout",this),this.node.removeEventListener("contextmenu",this),this._closeChildMenu()}onActivateRequest(e){this.isAttached&&this._focusItemAt(0)}onResize(e){this.update(),super.onResize(e)}onUpdateRequest(e){var n;let i=this._menus,o=this.renderer,u=this._activeIndex,l=this._tabFocusIndex>=0&&this._tabFocusIndex<i.length?this._tabFocusIndex:0,c=this._overflowIndex>-1?this._overflowIndex:i.length,f=0,d=!1;c=this._overflowMenu!==null?c-1:c;let m=new Array(c);for(let g=0;g<c;++g)m[g]=o.renderItem({title:i[g].title,active:g===u,tabbable:g===l,disabled:i[g].items.length===0,onfocus:()=>{this._tabFocusIndex=g,this.activeIndex=g}}),f+=this._menuItemSizes[g],i[g].title.label===this._overflowMenuOptions.title&&(d=!0,c--);if(this._overflowMenuOptions.isVisible){if(this._overflowIndex>-1&&!d){if(this._overflowMenu===null){const g=(n=this._overflowMenuOptions.title)!==null&&n!==void 0?n:"...";this._overflowMenu=new Menu$4({commands:new CommandRegistry$1}),this._overflowMenu.title.label=g,this._overflowMenu.title.mnemonic=0,this.addMenu(this._overflowMenu,!1)}for(let g=i.length-2;g>=c;g--){const v=this.menus[g];v.title.mnemonic=0,this._overflowMenu.insertItem(0,{type:"submenu",submenu:v}),this.removeMenu(v,!1)}m[c]=o.renderItem({title:this._overflowMenu.title,active:c===u&&i[c].items.length!==0,tabbable:c===l,disabled:i[c].items.length===0,onfocus:()=>{this._tabFocusIndex=c,this.activeIndex=c}}),c++}else if(this._overflowMenu!==null){let g=this._overflowMenu.items,v=this.node.offsetWidth,y=this._overflowMenu.items.length;for(let w=0;w<y;++w){let T=i.length-1-w;if(v-f>this._menuItemSizes[T]){let P=g[0].submenu;this._overflowMenu.removeItemAt(0),this.insertMenu(c,P,!1),m[c]=o.renderItem({title:P.title,active:!1,tabbable:c===l,disabled:i[c].items.length===0,onfocus:()=>{this._tabFocusIndex=c,this.activeIndex=c}}),c++}}this._overflowMenu.items.length===0&&(this.removeMenu(this._overflowMenu,!1),m.pop(),this._overflowMenu=null,this._overflowIndex=-1)}}VirtualDOM$1.render(m,this.contentNode),this._updateOverflowIndex()}_updateOverflowIndex(){if(!this._overflowMenuOptions.isVisible)return;const e=this.contentNode.childNodes;let n=this.node.offsetWidth,i=0,o=-1,u=e.length;if(this._menuItemSizes.length==0)for(let l=0;l<u;l++){let c=e[l];i+=c.offsetWidth,this._menuItemSizes.push(c.offsetWidth),i>n&&o===-1&&(o=l)}else for(let l=0;l<this._menuItemSizes.length;l++)if(i+=this._menuItemSizes[l],i>n){o=l;break}this._overflowIndex=o}_evtKeyDown(e){let n=e.keyCode;if(n===9){this.activeIndex=-1;return}if(e.preventDefault(),e.stopPropagation(),n===13||n===32||n===38||n===40){if(this.activeIndex=this._tabFocusIndex,this.activeIndex!==this._tabFocusIndex)return;this.openActiveMenu();return}if(n===27){this._closeChildMenu(),this._focusItemAt(this.activeIndex);return}if(n===37||n===39){let l=n===37?-1:1,c=this._tabFocusIndex+l,f=this._menus.length;for(let d=0;d<f;d++){let m=(f+c+l*d)%f;if(this._menus[m].items.length){this._focusItemAt(m);return}}return}let i=getKeyboardLayout$1().keyForKeydownEvent(e);if(!i)return;let o=this._activeIndex+1,u=Private$3$4.findMnemonic(this._menus,i,o);u.index!==-1&&!u.multiple?(this.activeIndex=u.index,this.openActiveMenu()):u.index!==-1?(this.activeIndex=u.index,this._focusItemAt(this.activeIndex)):u.auto!==-1&&(this.activeIndex=u.auto,this._focusItemAt(this.activeIndex))}_evtMouseDown(e){if(!ElementExt$1.hitTest(this.node,e.clientX,e.clientY))return;e.stopPropagation(),e.stopImmediatePropagation();let n=ArrayExt$4.findFirstIndex(this.contentNode.children,i=>ElementExt$1.hitTest(i,e.clientX,e.clientY));if(n===-1){this._closeChildMenu();return}if(e.button===0)if(this._childMenu)this._closeChildMenu(),this.activeIndex=n;else{e.preventDefault();const i=this._positionForMenu(n);Menu$4.saveWindowData(),this.activeIndex=n,this._openChildMenu(i)}}_evtMouseMove(e){let n=ArrayExt$4.findFirstIndex(this.contentNode.children,o=>ElementExt$1.hitTest(o,e.clientX,e.clientY));if(n===this._activeIndex||n===-1&&this._childMenu)return;const i=n>=0&&this._childMenu?this._positionForMenu(n):null;Menu$4.saveWindowData(),this.activeIndex=n,i&&this._openChildMenu(i)}_positionForMenu(e){let n=this.contentNode.children[e],{left:i,bottom:o}=n.getBoundingClientRect();return{top:o,left:i}}_evtFocusOut(e){!this._childMenu&&!this.node.contains(e.relatedTarget)&&(this.activeIndex=-1)}_focusItemAt(e){const n=this.contentNode.childNodes[e];n&&n.focus()}_openChildMenu(e={}){let n=this.activeMenu;if(!n){this._closeChildMenu();return}let i=this._childMenu;if(i===n)return;this._childMenu=n,i?i.close():document.addEventListener("mousedown",this,!0),this._tabFocusIndex=this.activeIndex,MessageLoop$4.sendMessage(this,Widget$4.Msg.UpdateRequest);let{left:o,top:u}=e;(typeof o>"u"||typeof u>"u")&&({left:o,top:u}=this._positionForMenu(this._activeIndex)),i||this.addClass("lm-mod-active"),n.items.length>0&&n.open(o,u,this._forceItemsPosition)}_closeChildMenu(){if(!this._childMenu)return;this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0);let e=this._childMenu;this._childMenu=null,e.close(),this.activeIndex=-1}_onMenuAboutToClose(e){e===this._childMenu&&(this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0),this._childMenu=null,this.activeIndex=-1)}_onMenuMenuRequested(e,n){if(e!==this._childMenu)return;let i=this._activeIndex,o=this._menus.length;switch(n){case"next":this.activeIndex=i===o-1?0:i+1;break;case"previous":this.activeIndex=i===0?o-1:i-1;break}this.openActiveMenu()}_onTitleChanged(){this.update()}};(function(t){class e{renderItem(i){let o=this.createItemClass(i),u=this.createItemDataset(i),l=this.createItemARIA(i);return h$2.li({className:o,dataset:u,...i.disabled?{}:{tabindex:i.tabbable?"0":"-1"},onfocus:i.onfocus,...l},this.renderIcon(i),this.renderLabel(i))}renderIcon(i){let o=this.createIconClass(i);return h$2.div({className:o},i.title.icon,i.title.iconLabel)}renderLabel(i){let o=this.formatLabel(i);return h$2.div({className:"lm-MenuBar-itemLabel"},o)}createItemClass(i){let o="lm-MenuBar-item";return i.title.className&&(o+=` ${i.title.className}`),i.active&&!i.disabled&&(o+=" lm-mod-active"),o}createItemDataset(i){return i.title.dataset}createItemARIA(i){return{role:"menuitem","aria-haspopup":"true","aria-disabled":i.disabled?"true":"false"}}createIconClass(i){let o="lm-MenuBar-itemIcon",u=i.title.iconClass;return u?`${o} ${u}`:o}formatLabel(i){let{label:o,mnemonic:u}=i.title;if(u<0||u>=o.length)return o;let l=o.slice(0,u),c=o.slice(u+1),f=o[u],d=h$2.span({className:"lm-MenuBar-itemMnemonic"},f);return[l,d,c]}}t.Renderer=e,t.defaultRenderer=new e})(MenuBar$4||(MenuBar$4={}));var Private$3$4;(function(t){function e(){let i=document.createElement("div"),o=document.createElement("ul");return o.className="lm-MenuBar-content",i.appendChild(o),o.setAttribute("role","menubar"),i}t.createNode=e;function n(i,o,u){let l=-1,c=-1,f=!1,d=o.toUpperCase();for(let m=0,g=i.length;m<g;++m){let v=(m+u)%g,y=i[v].title;if(y.label.length===0)continue;let w=y.mnemonic;if(w>=0&&w<y.label.length){y.label[w].toUpperCase()===d&&(l===-1?l=v:f=!0);continue}c===-1&&y.label[0].toUpperCase()===d&&(c=v)}return{index:l,multiple:f,auto:c}}t.findMnemonic=n})(Private$3$4||(Private$3$4={}));var Private$2$4;(function(t){function e(){let i=document.createElement("div"),o=document.createElement("div"),u=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div");return o.className="lm-ScrollBar-button",u.className="lm-ScrollBar-button",o.dataset.action="decrement",u.dataset.action="increment",l.className="lm-ScrollBar-track",c.className="lm-ScrollBar-thumb",l.appendChild(c),i.appendChild(o),i.appendChild(l),i.appendChild(u),i}t.createNode=e;function n(i,o){return i.thumbNode.contains(o)?"thumb":i.trackNode.contains(o)?"track":i.decrementNode.contains(o)?"decrement":i.incrementNode.contains(o)?"increment":null}t.findPart=n})(Private$2$4||(Private$2$4={}));let StackedLayout$4=class extends PanelLayout$4{constructor(e={}){super(e),this._dirty=!1,this._items=[],this._box=null,this._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:Widget$4.HiddenMode.Display}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this._hiddenMode=e,this.widgets.length>1&&this.widgets.forEach(n=>{n.hiddenMode=this._hiddenMode}))}dispose(){for(const e of this._items)e.dispose();this._box=null,this._items.length=0,super.dispose()}attachWidget(e,n){this._hiddenMode===Widget$4.HiddenMode.Scale&&this._items.length>0?(this._items.length===1&&(this.widgets[0].hiddenMode=Widget$4.HiddenMode.Scale),n.hiddenMode=Widget$4.HiddenMode.Scale):n.hiddenMode=Widget$4.HiddenMode.Display,ArrayExt$4.insert(this._items,e,new LayoutItem$4(n)),this.parent.isAttached&&MessageLoop$4.sendMessage(n,Widget$4.Msg.BeforeAttach),this.parent.node.appendChild(n.node),this.parent.isAttached&&MessageLoop$4.sendMessage(n,Widget$4.Msg.AfterAttach),this.parent.fit()}moveWidget(e,n,i){ArrayExt$4.move(this._items,e,n),this.parent.update()}detachWidget(e,n){let i=ArrayExt$4.removeAt(this._items,e);this.parent.isAttached&&MessageLoop$4.sendMessage(n,Widget$4.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.isAttached&&MessageLoop$4.sendMessage(n,Widget$4.Msg.AfterDetach),i.widget.node.style.zIndex="",this._hiddenMode===Widget$4.HiddenMode.Scale&&(n.hiddenMode=Widget$4.HiddenMode.Display,this._items.length===1&&(this._items[0].widget.hiddenMode=Widget$4.HiddenMode.Display)),i.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0,n=0;for(let u=0,l=this._items.length;u<l;++u){let c=this._items[u];c.isHidden||(c.fit(),e=Math.max(e,c.minWidth),n=Math.max(n,c.minHeight))}let i=this._box=ElementExt$1.boxSizing(this.parent.node);e+=i.horizontalSum,n+=i.verticalSum;let o=this.parent.node.style;o.minWidth=`${e}px`,o.minHeight=`${n}px`,this._dirty=!0,this.parent.parent&&MessageLoop$4.sendMessage(this.parent.parent,Widget$4.Msg.FitRequest),this._dirty&&MessageLoop$4.sendMessage(this.parent,Widget$4.Msg.UpdateRequest)}_update(e,n){this._dirty=!1;let i=0;for(let f=0,d=this._items.length;f<d;++f)i+=+!this._items[f].isHidden;if(i===0)return;e<0&&(e=this.parent.node.offsetWidth),n<0&&(n=this.parent.node.offsetHeight),this._box||(this._box=ElementExt$1.boxSizing(this.parent.node));let o=this._box.paddingTop,u=this._box.paddingLeft,l=e-this._box.horizontalSum,c=n-this._box.verticalSum;for(let f=0,d=this._items.length;f<d;++f){let m=this._items[f];m.isHidden||(m.widget.node.style.zIndex=`${f}`,m.update(u,o,l,c))}}};var Private$1$5;(function(t){function e(n){return n.layout||new StackedLayout$4}t.createLayout=e})(Private$1$5||(Private$1$5={}));var Private$P;(function(t){function e(u){return i[u]}t.orientationFromPlacement=e;function n(u){return o[u]}t.directionFromPlacement=n;const i={top:"horizontal",left:"vertical",right:"vertical",bottom:"horizontal"},o={top:"top-to-bottom",left:"left-to-right",right:"right-to-left",bottom:"bottom-to-top"}})(Private$P||(Private$P={}));class WidgetTracker{constructor(e){this._currentChanged=new Signal$2(this),this._deferred=null,this._isDisposed=!1,this._widgetAdded=new Signal$2(this),this._widgetUpdated=new Signal$2(this);const n=this._focusTracker=new FocusTracker,i=this._pool=new libExports$4.RestorablePool(e);this.namespace=e.namespace,n.currentChanged.connect((o,u)=>{u.newValue!==this.currentWidget&&(i.current=u.newValue)},this),i.added.connect((o,u)=>{this._widgetAdded.emit(u)},this),i.currentChanged.connect((o,u)=>{if(u===null&&n.currentWidget){i.current=n.currentWidget;return}this.onCurrentChanged(u),this._currentChanged.emit(u)},this),i.updated.connect((o,u)=>{this._widgetUpdated.emit(u)},this)}get currentChanged(){return this._currentChanged}get currentWidget(){return this._pool.current||null}get restored(){return this._deferred?Promise.resolve():this._pool.restored}get size(){return this._pool.size}get widgetAdded(){return this._widgetAdded}get widgetUpdated(){return this._widgetUpdated}async add(e){this._focusTracker.add(e),await this._pool.add(e),this._focusTracker.activeWidget||(this._pool.current=e)}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,this._pool.dispose(),this._focusTracker.dispose(),Signal$2.clearData(this))}find(e){return this._pool.find(e)}forEach(e){return this._pool.forEach(e)}filter(e){return this._pool.filter(e)}inject(e){return this._pool.inject(e)}has(e){return this._pool.has(e)}async restore(e){const n=this._deferred;if(n)return this._deferred=null,this._pool.restore(n);if(e)return this._pool.restore(e);console.warn("No options provided to restore the tracker.")}defer(e){this._deferred=e}async save(e){return this._pool.save(e)}onCurrentChanged(e){}}var Printing;(function(t){t.symbol=Symbol("printable");function e(g){return typeof g!="object"||!g?!1:t.symbol in g}t.isPrintable=e;function n(g){return e(g)?g[t.symbol]():null}t.getPrintFunction=n;function i(g){return u(g.node)}t.printWidget=i;async function o(g,v){const y=v??libExports$6.ServerConnection.makeSettings(),w=await(await libExports$6.ServerConnection.makeRequest(g,{},y)).text();return u(w)}t.printURL=o;async function u(g){const v=typeof g=="string",y=l(),w=window.document.body;w.appendChild(y),v?(y.srcdoc=g,await f(y)):(y.src="about:blank",await f(y),c(y,g));const T=d();m(y.contentWindow),await T,w.removeChild(y)}function l(){const g=window.document.createElement("iframe");return g.setAttribute("sandbox","allow-modals allow-same-origin"),g.setAttribute("style","visibility:hidden;width:0;height:0;position:absolute;z-index:-9999;bottom:0;"),g.setAttribute("width","0"),g.setAttribute("height","0"),g}function c(g,v){g.contentDocument.body.appendChild(v.cloneNode(!0)),g.contentDocument.close()}function f(g){return new Promise(v=>{g.onload=()=>v()})}function d(){return new Promise(g=>{const v=()=>{document.removeEventListener("mousemove",v,!0),document.removeEventListener("mousedown",v,!0),document.removeEventListener("keydown",v,!0),g()};document.addEventListener("mousemove",v,!0),document.addEventListener("mousedown",v,!0),document.addEventListener("keydown",v,!0)})}function m(g){g.document.execCommand("print",!1)||g.print()}})(Printing||(Printing={}));var lib$9={},Parser$1={},Tokenizer$1={},decode$1={},decodeDataHtml$1={},hasRequiredDecodeDataHtml$1;function requireDecodeDataHtml$1(){return hasRequiredDecodeDataHtml$1||(hasRequiredDecodeDataHtml$1=1,Object.defineProperty(decodeDataHtml$1,"__esModule",{value:!0}),decodeDataHtml$1.default=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(function(t){return t.charCodeAt(0)}))),decodeDataHtml$1}var decodeDataXml$1={},hasRequiredDecodeDataXml$1;function requireDecodeDataXml$1(){return hasRequiredDecodeDataXml$1||(hasRequiredDecodeDataXml$1=1,Object.defineProperty(decodeDataXml$1,"__esModule",{value:!0}),decodeDataXml$1.default=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(function(t){return t.charCodeAt(0)}))),decodeDataXml$1}var decode_codepoint$1={},hasRequiredDecode_codepoint$1;function requireDecode_codepoint$1(){return hasRequiredDecode_codepoint$1||(hasRequiredDecode_codepoint$1=1,(function(t){var e;Object.defineProperty(t,"__esModule",{value:!0}),t.replaceCodePoint=t.fromCodePoint=void 0;var n=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);t.fromCodePoint=(e=String.fromCodePoint)!==null&&e!==void 0?e:function(u){var l="";return u>65535&&(u-=65536,l+=String.fromCharCode(u>>>10&1023|55296),u=56320|u&1023),l+=String.fromCharCode(u),l};function i(u){var l;return u>=55296&&u<=57343||u>1114111?65533:(l=n.get(u))!==null&&l!==void 0?l:u}t.replaceCodePoint=i;function o(u){return(0,t.fromCodePoint)(i(u))}t.default=o})(decode_codepoint$1)),decode_codepoint$1}var hasRequiredDecode$1;function requireDecode$1(){return hasRequiredDecode$1||(hasRequiredDecode$1=1,(function(t){var e=decode$1&&decode$1.__createBinding||(Object.create?(function(Q,ie,te,oe){oe===void 0&&(oe=te);var le=Object.getOwnPropertyDescriptor(ie,te);(!le||("get"in le?!ie.__esModule:le.writable||le.configurable))&&(le={enumerable:!0,get:function(){return ie[te]}}),Object.defineProperty(Q,oe,le)}):(function(Q,ie,te,oe){oe===void 0&&(oe=te),Q[oe]=ie[te]})),n=decode$1&&decode$1.__setModuleDefault||(Object.create?(function(Q,ie){Object.defineProperty(Q,"default",{enumerable:!0,value:ie})}):function(Q,ie){Q.default=ie}),i=decode$1&&decode$1.__importStar||function(Q){if(Q&&Q.__esModule)return Q;var ie={};if(Q!=null)for(var te in Q)te!=="default"&&Object.prototype.hasOwnProperty.call(Q,te)&&e(ie,Q,te);return n(ie,Q),ie},o=decode$1&&decode$1.__importDefault||function(Q){return Q&&Q.__esModule?Q:{default:Q}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXML=t.decodeHTMLStrict=t.decodeHTMLAttribute=t.decodeHTML=t.determineBranch=t.EntityDecoder=t.DecodingMode=t.BinTrieFlags=t.fromCodePoint=t.replaceCodePoint=t.decodeCodePoint=t.xmlDecodeTree=t.htmlDecodeTree=void 0;var u=o(requireDecodeDataHtml$1());t.htmlDecodeTree=u.default;var l=o(requireDecodeDataXml$1());t.xmlDecodeTree=l.default;var c=i(requireDecode_codepoint$1());t.decodeCodePoint=c.default;var f=requireDecode_codepoint$1();Object.defineProperty(t,"replaceCodePoint",{enumerable:!0,get:function(){return f.replaceCodePoint}}),Object.defineProperty(t,"fromCodePoint",{enumerable:!0,get:function(){return f.fromCodePoint}});var d;(function(Q){Q[Q.NUM=35]="NUM",Q[Q.SEMI=59]="SEMI",Q[Q.EQUALS=61]="EQUALS",Q[Q.ZERO=48]="ZERO",Q[Q.NINE=57]="NINE",Q[Q.LOWER_A=97]="LOWER_A",Q[Q.LOWER_F=102]="LOWER_F",Q[Q.LOWER_X=120]="LOWER_X",Q[Q.LOWER_Z=122]="LOWER_Z",Q[Q.UPPER_A=65]="UPPER_A",Q[Q.UPPER_F=70]="UPPER_F",Q[Q.UPPER_Z=90]="UPPER_Z"})(d||(d={}));var m=32,g;(function(Q){Q[Q.VALUE_LENGTH=49152]="VALUE_LENGTH",Q[Q.BRANCH_LENGTH=16256]="BRANCH_LENGTH",Q[Q.JUMP_TABLE=127]="JUMP_TABLE"})(g=t.BinTrieFlags||(t.BinTrieFlags={}));function v(Q){return Q>=d.ZERO&&Q<=d.NINE}function y(Q){return Q>=d.UPPER_A&&Q<=d.UPPER_F||Q>=d.LOWER_A&&Q<=d.LOWER_F}function w(Q){return Q>=d.UPPER_A&&Q<=d.UPPER_Z||Q>=d.LOWER_A&&Q<=d.LOWER_Z||v(Q)}function T(Q){return Q===d.EQUALS||w(Q)}var P;(function(Q){Q[Q.EntityStart=0]="EntityStart",Q[Q.NumericStart=1]="NumericStart",Q[Q.NumericDecimal=2]="NumericDecimal",Q[Q.NumericHex=3]="NumericHex",Q[Q.NamedEntity=4]="NamedEntity"})(P||(P={}));var A;(function(Q){Q[Q.Legacy=0]="Legacy",Q[Q.Strict=1]="Strict",Q[Q.Attribute=2]="Attribute"})(A=t.DecodingMode||(t.DecodingMode={}));var D=(function(){function Q(ie,te,oe){this.decodeTree=ie,this.emitCodePoint=te,this.errors=oe,this.state=P.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=A.Strict}return Q.prototype.startEntity=function(ie){this.decodeMode=ie,this.state=P.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},Q.prototype.write=function(ie,te){switch(this.state){case P.EntityStart:return ie.charCodeAt(te)===d.NUM?(this.state=P.NumericStart,this.consumed+=1,this.stateNumericStart(ie,te+1)):(this.state=P.NamedEntity,this.stateNamedEntity(ie,te));case P.NumericStart:return this.stateNumericStart(ie,te);case P.NumericDecimal:return this.stateNumericDecimal(ie,te);case P.NumericHex:return this.stateNumericHex(ie,te);case P.NamedEntity:return this.stateNamedEntity(ie,te)}},Q.prototype.stateNumericStart=function(ie,te){return te>=ie.length?-1:(ie.charCodeAt(te)|m)===d.LOWER_X?(this.state=P.NumericHex,this.consumed+=1,this.stateNumericHex(ie,te+1)):(this.state=P.NumericDecimal,this.stateNumericDecimal(ie,te))},Q.prototype.addToNumericResult=function(ie,te,oe,le){if(te!==oe){var de=oe-te;this.result=this.result*Math.pow(le,de)+parseInt(ie.substr(te,de),le),this.consumed+=de}},Q.prototype.stateNumericHex=function(ie,te){for(var oe=te;te<ie.length;){var le=ie.charCodeAt(te);if(v(le)||y(le))te+=1;else return this.addToNumericResult(ie,oe,te,16),this.emitNumericEntity(le,3)}return this.addToNumericResult(ie,oe,te,16),-1},Q.prototype.stateNumericDecimal=function(ie,te){for(var oe=te;te<ie.length;){var le=ie.charCodeAt(te);if(v(le))te+=1;else return this.addToNumericResult(ie,oe,te,10),this.emitNumericEntity(le,2)}return this.addToNumericResult(ie,oe,te,10),-1},Q.prototype.emitNumericEntity=function(ie,te){var oe;if(this.consumed<=te)return(oe=this.errors)===null||oe===void 0||oe.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(ie===d.SEMI)this.consumed+=1;else if(this.decodeMode===A.Strict)return 0;return this.emitCodePoint((0,c.replaceCodePoint)(this.result),this.consumed),this.errors&&(ie!==d.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},Q.prototype.stateNamedEntity=function(ie,te){for(var oe=this.decodeTree,le=oe[this.treeIndex],de=(le&g.VALUE_LENGTH)>>14;te<ie.length;te++,this.excess++){var ge=ie.charCodeAt(te);if(this.treeIndex=j(oe,le,this.treeIndex+Math.max(1,de),ge),this.treeIndex<0)return this.result===0||this.decodeMode===A.Attribute&&(de===0||T(ge))?0:this.emitNotTerminatedNamedEntity();if(le=oe[this.treeIndex],de=(le&g.VALUE_LENGTH)>>14,de!==0){if(ge===d.SEMI)return this.emitNamedEntityData(this.treeIndex,de,this.consumed+this.excess);this.decodeMode!==A.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},Q.prototype.emitNotTerminatedNamedEntity=function(){var ie,te=this,oe=te.result,le=te.decodeTree,de=(le[oe]&g.VALUE_LENGTH)>>14;return this.emitNamedEntityData(oe,de,this.consumed),(ie=this.errors)===null||ie===void 0||ie.missingSemicolonAfterCharacterReference(),this.consumed},Q.prototype.emitNamedEntityData=function(ie,te,oe){var le=this.decodeTree;return this.emitCodePoint(te===1?le[ie]&~g.VALUE_LENGTH:le[ie+1],oe),te===3&&this.emitCodePoint(le[ie+2],oe),oe},Q.prototype.end=function(){var ie;switch(this.state){case P.NamedEntity:return this.result!==0&&(this.decodeMode!==A.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case P.NumericDecimal:return this.emitNumericEntity(0,2);case P.NumericHex:return this.emitNumericEntity(0,3);case P.NumericStart:return(ie=this.errors)===null||ie===void 0||ie.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case P.EntityStart:return 0}},Q})();t.EntityDecoder=D;function k(Q){var ie="",te=new D(Q,function(oe){return ie+=(0,c.fromCodePoint)(oe)});return function(le,de){for(var ge=0,_e=0;(_e=le.indexOf("&",_e))>=0;){ie+=le.slice(ge,_e),te.startEntity(de);var we=te.write(le,_e+1);if(we<0){ge=_e+te.end();break}ge=_e+we,_e=we===0?ge+1:ge}var Me=ie+le.slice(ge);return ie="",Me}}function j(Q,ie,te,oe){var le=(ie&g.BRANCH_LENGTH)>>7,de=ie&g.JUMP_TABLE;if(le===0)return de!==0&&oe===de?te:-1;if(de){var ge=oe-de;return ge<0||ge>=le?-1:Q[te+ge]-1}for(var _e=te,we=_e+le-1;_e<=we;){var Me=_e+we>>>1,xe=Q[Me];if(xe<oe)_e=Me+1;else if(xe>oe)we=Me-1;else return Q[Me+le]}return-1}t.determineBranch=j;var B=k(u.default),Z=k(l.default);function R(Q,ie){return ie===void 0&&(ie=A.Legacy),B(Q,ie)}t.decodeHTML=R;function G(Q){return B(Q,A.Attribute)}t.decodeHTMLAttribute=G;function F(Q){return B(Q,A.Strict)}t.decodeHTMLStrict=F;function K(Q){return Z(Q,A.Strict)}t.decodeXML=K})(decode$1)),decode$1}var hasRequiredTokenizer;function requireTokenizer(){return hasRequiredTokenizer||(hasRequiredTokenizer=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.QuoteType=void 0;var e=requireDecode$1(),n;(function(v){v[v.Tab=9]="Tab",v[v.NewLine=10]="NewLine",v[v.FormFeed=12]="FormFeed",v[v.CarriageReturn=13]="CarriageReturn",v[v.Space=32]="Space",v[v.ExclamationMark=33]="ExclamationMark",v[v.Number=35]="Number",v[v.Amp=38]="Amp",v[v.SingleQuote=39]="SingleQuote",v[v.DoubleQuote=34]="DoubleQuote",v[v.Dash=45]="Dash",v[v.Slash=47]="Slash",v[v.Zero=48]="Zero",v[v.Nine=57]="Nine",v[v.Semi=59]="Semi",v[v.Lt=60]="Lt",v[v.Eq=61]="Eq",v[v.Gt=62]="Gt",v[v.Questionmark=63]="Questionmark",v[v.UpperA=65]="UpperA",v[v.LowerA=97]="LowerA",v[v.UpperF=70]="UpperF",v[v.LowerF=102]="LowerF",v[v.UpperZ=90]="UpperZ",v[v.LowerZ=122]="LowerZ",v[v.LowerX=120]="LowerX",v[v.OpeningSquareBracket=91]="OpeningSquareBracket"})(n||(n={}));var i;(function(v){v[v.Text=1]="Text",v[v.BeforeTagName=2]="BeforeTagName",v[v.InTagName=3]="InTagName",v[v.InSelfClosingTag=4]="InSelfClosingTag",v[v.BeforeClosingTagName=5]="BeforeClosingTagName",v[v.InClosingTagName=6]="InClosingTagName",v[v.AfterClosingTagName=7]="AfterClosingTagName",v[v.BeforeAttributeName=8]="BeforeAttributeName",v[v.InAttributeName=9]="InAttributeName",v[v.AfterAttributeName=10]="AfterAttributeName",v[v.BeforeAttributeValue=11]="BeforeAttributeValue",v[v.InAttributeValueDq=12]="InAttributeValueDq",v[v.InAttributeValueSq=13]="InAttributeValueSq",v[v.InAttributeValueNq=14]="InAttributeValueNq",v[v.BeforeDeclaration=15]="BeforeDeclaration",v[v.InDeclaration=16]="InDeclaration",v[v.InProcessingInstruction=17]="InProcessingInstruction",v[v.BeforeComment=18]="BeforeComment",v[v.CDATASequence=19]="CDATASequence",v[v.InSpecialComment=20]="InSpecialComment",v[v.InCommentLike=21]="InCommentLike",v[v.BeforeSpecialS=22]="BeforeSpecialS",v[v.SpecialStartSequence=23]="SpecialStartSequence",v[v.InSpecialTag=24]="InSpecialTag",v[v.BeforeEntity=25]="BeforeEntity",v[v.BeforeNumericEntity=26]="BeforeNumericEntity",v[v.InNamedEntity=27]="InNamedEntity",v[v.InNumericEntity=28]="InNumericEntity",v[v.InHexEntity=29]="InHexEntity"})(i||(i={}));function o(v){return v===n.Space||v===n.NewLine||v===n.Tab||v===n.FormFeed||v===n.CarriageReturn}function u(v){return v===n.Slash||v===n.Gt||o(v)}function l(v){return v>=n.Zero&&v<=n.Nine}function c(v){return v>=n.LowerA&&v<=n.LowerZ||v>=n.UpperA&&v<=n.UpperZ}function f(v){return v>=n.UpperA&&v<=n.UpperF||v>=n.LowerA&&v<=n.LowerF}var d;(function(v){v[v.NoValue=0]="NoValue",v[v.Unquoted=1]="Unquoted",v[v.Single=2]="Single",v[v.Double=3]="Double"})(d=t.QuoteType||(t.QuoteType={}));var m={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},g=(function(){function v(y,w){var T=y.xmlMode,P=T===void 0?!1:T,A=y.decodeEntities,D=A===void 0?!0:A;this.cbs=w,this.state=i.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=i.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=P,this.decodeEntities=D,this.entityTrie=P?e.xmlDecodeTree:e.htmlDecodeTree}return v.prototype.reset=function(){this.state=i.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=i.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},v.prototype.write=function(y){this.offset+=this.buffer.length,this.buffer=y,this.parse()},v.prototype.end=function(){this.running&&this.finish()},v.prototype.pause=function(){this.running=!1},v.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},v.prototype.getIndex=function(){return this.index},v.prototype.getSectionStart=function(){return this.sectionStart},v.prototype.stateText=function(y){y===n.Lt||!this.decodeEntities&&this.fastForwardTo(n.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=i.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&y===n.Amp&&(this.state=i.BeforeEntity)},v.prototype.stateSpecialStartSequence=function(y){var w=this.sequenceIndex===this.currentSequence.length,T=w?u(y):(y|32)===this.currentSequence[this.sequenceIndex];if(!T)this.isSpecial=!1;else if(!w){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=i.InTagName,this.stateInTagName(y)},v.prototype.stateInSpecialTag=function(y){if(this.sequenceIndex===this.currentSequence.length){if(y===n.Gt||o(y)){var w=this.index-this.currentSequence.length;if(this.sectionStart<w){var T=this.index;this.index=w,this.cbs.ontext(this.sectionStart,w),this.index=T}this.isSpecial=!1,this.sectionStart=w+2,this.stateInClosingTagName(y);return}this.sequenceIndex=0}(y|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===m.TitleEnd?this.decodeEntities&&y===n.Amp&&(this.state=i.BeforeEntity):this.fastForwardTo(n.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(y===n.Lt)},v.prototype.stateCDATASequence=function(y){y===m.Cdata[this.sequenceIndex]?++this.sequenceIndex===m.Cdata.length&&(this.state=i.InCommentLike,this.currentSequence=m.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=i.InDeclaration,this.stateInDeclaration(y))},v.prototype.fastForwardTo=function(y){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===y)return!0;return this.index=this.buffer.length+this.offset-1,!1},v.prototype.stateInCommentLike=function(y){y===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===m.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=i.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):y!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},v.prototype.isTagStartChar=function(y){return this.xmlMode?!u(y):c(y)},v.prototype.startSpecial=function(y,w){this.isSpecial=!0,this.currentSequence=y,this.sequenceIndex=w,this.state=i.SpecialStartSequence},v.prototype.stateBeforeTagName=function(y){if(y===n.ExclamationMark)this.state=i.BeforeDeclaration,this.sectionStart=this.index+1;else if(y===n.Questionmark)this.state=i.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(y)){var w=y|32;this.sectionStart=this.index,!this.xmlMode&&w===m.TitleEnd[2]?this.startSpecial(m.TitleEnd,3):this.state=!this.xmlMode&&w===m.ScriptEnd[2]?i.BeforeSpecialS:i.InTagName}else y===n.Slash?this.state=i.BeforeClosingTagName:(this.state=i.Text,this.stateText(y))},v.prototype.stateInTagName=function(y){u(y)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=i.BeforeAttributeName,this.stateBeforeAttributeName(y))},v.prototype.stateBeforeClosingTagName=function(y){o(y)||(y===n.Gt?this.state=i.Text:(this.state=this.isTagStartChar(y)?i.InClosingTagName:i.InSpecialComment,this.sectionStart=this.index))},v.prototype.stateInClosingTagName=function(y){(y===n.Gt||o(y))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=i.AfterClosingTagName,this.stateAfterClosingTagName(y))},v.prototype.stateAfterClosingTagName=function(y){(y===n.Gt||this.fastForwardTo(n.Gt))&&(this.state=i.Text,this.baseState=i.Text,this.sectionStart=this.index+1)},v.prototype.stateBeforeAttributeName=function(y){y===n.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=i.InSpecialTag,this.sequenceIndex=0):this.state=i.Text,this.baseState=this.state,this.sectionStart=this.index+1):y===n.Slash?this.state=i.InSelfClosingTag:o(y)||(this.state=i.InAttributeName,this.sectionStart=this.index)},v.prototype.stateInSelfClosingTag=function(y){y===n.Gt?(this.cbs.onselfclosingtag(this.index),this.state=i.Text,this.baseState=i.Text,this.sectionStart=this.index+1,this.isSpecial=!1):o(y)||(this.state=i.BeforeAttributeName,this.stateBeforeAttributeName(y))},v.prototype.stateInAttributeName=function(y){(y===n.Eq||u(y))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=i.AfterAttributeName,this.stateAfterAttributeName(y))},v.prototype.stateAfterAttributeName=function(y){y===n.Eq?this.state=i.BeforeAttributeValue:y===n.Slash||y===n.Gt?(this.cbs.onattribend(d.NoValue,this.index),this.state=i.BeforeAttributeName,this.stateBeforeAttributeName(y)):o(y)||(this.cbs.onattribend(d.NoValue,this.index),this.state=i.InAttributeName,this.sectionStart=this.index)},v.prototype.stateBeforeAttributeValue=function(y){y===n.DoubleQuote?(this.state=i.InAttributeValueDq,this.sectionStart=this.index+1):y===n.SingleQuote?(this.state=i.InAttributeValueSq,this.sectionStart=this.index+1):o(y)||(this.sectionStart=this.index,this.state=i.InAttributeValueNq,this.stateInAttributeValueNoQuotes(y))},v.prototype.handleInAttributeValue=function(y,w){y===w||!this.decodeEntities&&this.fastForwardTo(w)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(w===n.DoubleQuote?d.Double:d.Single,this.index),this.state=i.BeforeAttributeName):this.decodeEntities&&y===n.Amp&&(this.baseState=this.state,this.state=i.BeforeEntity)},v.prototype.stateInAttributeValueDoubleQuotes=function(y){this.handleInAttributeValue(y,n.DoubleQuote)},v.prototype.stateInAttributeValueSingleQuotes=function(y){this.handleInAttributeValue(y,n.SingleQuote)},v.prototype.stateInAttributeValueNoQuotes=function(y){o(y)||y===n.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(d.Unquoted,this.index),this.state=i.BeforeAttributeName,this.stateBeforeAttributeName(y)):this.decodeEntities&&y===n.Amp&&(this.baseState=this.state,this.state=i.BeforeEntity)},v.prototype.stateBeforeDeclaration=function(y){y===n.OpeningSquareBracket?(this.state=i.CDATASequence,this.sequenceIndex=0):this.state=y===n.Dash?i.BeforeComment:i.InDeclaration},v.prototype.stateInDeclaration=function(y){(y===n.Gt||this.fastForwardTo(n.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=i.Text,this.sectionStart=this.index+1)},v.prototype.stateInProcessingInstruction=function(y){(y===n.Gt||this.fastForwardTo(n.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=i.Text,this.sectionStart=this.index+1)},v.prototype.stateBeforeComment=function(y){y===n.Dash?(this.state=i.InCommentLike,this.currentSequence=m.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=i.InDeclaration},v.prototype.stateInSpecialComment=function(y){(y===n.Gt||this.fastForwardTo(n.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=i.Text,this.sectionStart=this.index+1)},v.prototype.stateBeforeSpecialS=function(y){var w=y|32;w===m.ScriptEnd[3]?this.startSpecial(m.ScriptEnd,4):w===m.StyleEnd[3]?this.startSpecial(m.StyleEnd,4):(this.state=i.InTagName,this.stateInTagName(y))},v.prototype.stateBeforeEntity=function(y){this.entityExcess=1,this.entityResult=0,y===n.Number?this.state=i.BeforeNumericEntity:y===n.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=i.InNamedEntity,this.stateInNamedEntity(y))},v.prototype.stateInNamedEntity=function(y){if(this.entityExcess+=1,this.trieIndex=(0,e.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,y),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var w=this.trieCurrent&e.BinTrieFlags.VALUE_LENGTH;if(w){var T=(w>>14)-1;if(!this.allowLegacyEntity()&&y!==n.Semi)this.trieIndex+=T;else{var P=this.index-this.entityExcess+1;P>this.sectionStart&&this.emitPartial(this.sectionStart,P),this.entityResult=this.trieIndex,this.trieIndex+=T,this.entityExcess=0,this.sectionStart=this.index+1,T===0&&this.emitNamedEntity()}}},v.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var y=(this.entityTrie[this.entityResult]&e.BinTrieFlags.VALUE_LENGTH)>>14;switch(y){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~e.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},v.prototype.stateBeforeNumericEntity=function(y){(y|32)===n.LowerX?(this.entityExcess++,this.state=i.InHexEntity):(this.state=i.InNumericEntity,this.stateInNumericEntity(y))},v.prototype.emitNumericEntity=function(y){var w=this.index-this.entityExcess-1,T=w+2+ +(this.state===i.InHexEntity);T!==this.index&&(w>this.sectionStart&&this.emitPartial(this.sectionStart,w),this.sectionStart=this.index+Number(y),this.emitCodePoint((0,e.replaceCodePoint)(this.entityResult))),this.state=this.baseState},v.prototype.stateInNumericEntity=function(y){y===n.Semi?this.emitNumericEntity(!0):l(y)?(this.entityResult=this.entityResult*10+(y-n.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},v.prototype.stateInHexEntity=function(y){y===n.Semi?this.emitNumericEntity(!0):l(y)?(this.entityResult=this.entityResult*16+(y-n.Zero),this.entityExcess++):f(y)?(this.entityResult=this.entityResult*16+((y|32)-n.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},v.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===i.Text||this.baseState===i.InSpecialTag)},v.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===i.Text||this.state===i.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===i.InAttributeValueDq||this.state===i.InAttributeValueSq||this.state===i.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},v.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},v.prototype.parse=function(){for(;this.shouldContinue();){var y=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case i.Text:{this.stateText(y);break}case i.SpecialStartSequence:{this.stateSpecialStartSequence(y);break}case i.InSpecialTag:{this.stateInSpecialTag(y);break}case i.CDATASequence:{this.stateCDATASequence(y);break}case i.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(y);break}case i.InAttributeName:{this.stateInAttributeName(y);break}case i.InCommentLike:{this.stateInCommentLike(y);break}case i.InSpecialComment:{this.stateInSpecialComment(y);break}case i.BeforeAttributeName:{this.stateBeforeAttributeName(y);break}case i.InTagName:{this.stateInTagName(y);break}case i.InClosingTagName:{this.stateInClosingTagName(y);break}case i.BeforeTagName:{this.stateBeforeTagName(y);break}case i.AfterAttributeName:{this.stateAfterAttributeName(y);break}case i.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(y);break}case i.BeforeAttributeValue:{this.stateBeforeAttributeValue(y);break}case i.BeforeClosingTagName:{this.stateBeforeClosingTagName(y);break}case i.AfterClosingTagName:{this.stateAfterClosingTagName(y);break}case i.BeforeSpecialS:{this.stateBeforeSpecialS(y);break}case i.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(y);break}case i.InSelfClosingTag:{this.stateInSelfClosingTag(y);break}case i.InDeclaration:{this.stateInDeclaration(y);break}case i.BeforeDeclaration:{this.stateBeforeDeclaration(y);break}case i.BeforeComment:{this.stateBeforeComment(y);break}case i.InProcessingInstruction:{this.stateInProcessingInstruction(y);break}case i.InNamedEntity:{this.stateInNamedEntity(y);break}case i.BeforeEntity:{this.stateBeforeEntity(y);break}case i.InHexEntity:{this.stateInHexEntity(y);break}case i.InNumericEntity:{this.stateInNumericEntity(y);break}default:this.stateBeforeNumericEntity(y)}this.index++}this.cleanup()},v.prototype.finish=function(){this.state===i.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},v.prototype.handleTrailingData=function(){var y=this.buffer.length+this.offset;this.state===i.InCommentLike?this.currentSequence===m.CdataEnd?this.cbs.oncdata(this.sectionStart,y,0):this.cbs.oncomment(this.sectionStart,y,0):this.state===i.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===i.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===i.InTagName||this.state===i.BeforeAttributeName||this.state===i.BeforeAttributeValue||this.state===i.AfterAttributeName||this.state===i.InAttributeName||this.state===i.InAttributeValueSq||this.state===i.InAttributeValueDq||this.state===i.InAttributeValueNq||this.state===i.InClosingTagName||this.cbs.ontext(this.sectionStart,y)},v.prototype.emitPartial=function(y,w){this.baseState!==i.Text&&this.baseState!==i.InSpecialTag?this.cbs.onattribdata(y,w):this.cbs.ontext(y,w)},v.prototype.emitCodePoint=function(y){this.baseState!==i.Text&&this.baseState!==i.InSpecialTag?this.cbs.onattribentity(y):this.cbs.ontextentity(y)},v})();t.default=g})(Tokenizer$1)),Tokenizer$1}var hasRequiredParser$1;function requireParser$1(){if(hasRequiredParser$1)return Parser$1;hasRequiredParser$1=1;var t=Parser$1&&Parser$1.__createBinding||(Object.create?(function(P,A,D,k){k===void 0&&(k=D);var j=Object.getOwnPropertyDescriptor(A,D);(!j||("get"in j?!A.__esModule:j.writable||j.configurable))&&(j={enumerable:!0,get:function(){return A[D]}}),Object.defineProperty(P,k,j)}):(function(P,A,D,k){k===void 0&&(k=D),P[k]=A[D]})),e=Parser$1&&Parser$1.__setModuleDefault||(Object.create?(function(P,A){Object.defineProperty(P,"default",{enumerable:!0,value:A})}):function(P,A){P.default=A}),n=Parser$1&&Parser$1.__importStar||function(P){if(P&&P.__esModule)return P;var A={};if(P!=null)for(var D in P)D!=="default"&&Object.prototype.hasOwnProperty.call(P,D)&&t(A,P,D);return e(A,P),A};Object.defineProperty(Parser$1,"__esModule",{value:!0}),Parser$1.Parser=void 0;var i=n(requireTokenizer()),o=requireDecode$1(),u=new Set(["input","option","optgroup","select","button","datalist","textarea"]),l=new Set(["p"]),c=new Set(["thead","tbody"]),f=new Set(["dd","dt"]),d=new Set(["rt","rp"]),m=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",l],["h1",l],["h2",l],["h3",l],["h4",l],["h5",l],["h6",l],["select",u],["input",u],["output",u],["button",u],["datalist",u],["textarea",u],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",f],["dt",f],["address",l],["article",l],["aside",l],["blockquote",l],["details",l],["div",l],["dl",l],["fieldset",l],["figcaption",l],["figure",l],["footer",l],["form",l],["header",l],["hr",l],["main",l],["nav",l],["ol",l],["pre",l],["section",l],["table",l],["ul",l],["rt",d],["rp",d],["tbody",c],["tfoot",c]]),g=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),v=new Set(["math","svg"]),y=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),w=/\s|\//,T=(function(){function P(A,D){D===void 0&&(D={});var k,j,B,Z,R;this.options=D,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=A??{},this.lowerCaseTagNames=(k=D.lowerCaseTags)!==null&&k!==void 0?k:!D.xmlMode,this.lowerCaseAttributeNames=(j=D.lowerCaseAttributeNames)!==null&&j!==void 0?j:!D.xmlMode,this.tokenizer=new((B=D.Tokenizer)!==null&&B!==void 0?B:i.default)(this.options,this),(R=(Z=this.cbs).onparserinit)===null||R===void 0||R.call(Z,this)}return P.prototype.ontext=function(A,D){var k,j,B=this.getSlice(A,D);this.endIndex=D-1,(j=(k=this.cbs).ontext)===null||j===void 0||j.call(k,B),this.startIndex=D},P.prototype.ontextentity=function(A){var D,k,j=this.tokenizer.getSectionStart();this.endIndex=j-1,(k=(D=this.cbs).ontext)===null||k===void 0||k.call(D,(0,o.fromCodePoint)(A)),this.startIndex=j},P.prototype.isVoidElement=function(A){return!this.options.xmlMode&&g.has(A)},P.prototype.onopentagname=function(A,D){this.endIndex=D;var k=this.getSlice(A,D);this.lowerCaseTagNames&&(k=k.toLowerCase()),this.emitOpenTag(k)},P.prototype.emitOpenTag=function(A){var D,k,j,B;this.openTagStart=this.startIndex,this.tagname=A;var Z=!this.options.xmlMode&&m.get(A);if(Z)for(;this.stack.length>0&&Z.has(this.stack[this.stack.length-1]);){var R=this.stack.pop();(k=(D=this.cbs).onclosetag)===null||k===void 0||k.call(D,R,!0)}this.isVoidElement(A)||(this.stack.push(A),v.has(A)?this.foreignContext.push(!0):y.has(A)&&this.foreignContext.push(!1)),(B=(j=this.cbs).onopentagname)===null||B===void 0||B.call(j,A),this.cbs.onopentag&&(this.attribs={})},P.prototype.endOpenTag=function(A){var D,k;this.startIndex=this.openTagStart,this.attribs&&((k=(D=this.cbs).onopentag)===null||k===void 0||k.call(D,this.tagname,this.attribs,A),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},P.prototype.onopentagend=function(A){this.endIndex=A,this.endOpenTag(!1),this.startIndex=A+1},P.prototype.onclosetag=function(A,D){var k,j,B,Z,R,G;this.endIndex=D;var F=this.getSlice(A,D);if(this.lowerCaseTagNames&&(F=F.toLowerCase()),(v.has(F)||y.has(F))&&this.foreignContext.pop(),this.isVoidElement(F))!this.options.xmlMode&&F==="br"&&((j=(k=this.cbs).onopentagname)===null||j===void 0||j.call(k,"br"),(Z=(B=this.cbs).onopentag)===null||Z===void 0||Z.call(B,"br",{},!0),(G=(R=this.cbs).onclosetag)===null||G===void 0||G.call(R,"br",!1));else{var K=this.stack.lastIndexOf(F);if(K!==-1)if(this.cbs.onclosetag)for(var Q=this.stack.length-K;Q--;)this.cbs.onclosetag(this.stack.pop(),Q!==0);else this.stack.length=K;else!this.options.xmlMode&&F==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=D+1},P.prototype.onselfclosingtag=function(A){this.endIndex=A,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=A+1):this.onopentagend(A)},P.prototype.closeCurrentTag=function(A){var D,k,j=this.tagname;this.endOpenTag(A),this.stack[this.stack.length-1]===j&&((k=(D=this.cbs).onclosetag)===null||k===void 0||k.call(D,j,!A),this.stack.pop())},P.prototype.onattribname=function(A,D){this.startIndex=A;var k=this.getSlice(A,D);this.attribname=this.lowerCaseAttributeNames?k.toLowerCase():k},P.prototype.onattribdata=function(A,D){this.attribvalue+=this.getSlice(A,D)},P.prototype.onattribentity=function(A){this.attribvalue+=(0,o.fromCodePoint)(A)},P.prototype.onattribend=function(A,D){var k,j;this.endIndex=D,(j=(k=this.cbs).onattribute)===null||j===void 0||j.call(k,this.attribname,this.attribvalue,A===i.QuoteType.Double?'"':A===i.QuoteType.Single?"'":A===i.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},P.prototype.getInstructionName=function(A){var D=A.search(w),k=D<0?A:A.substr(0,D);return this.lowerCaseTagNames&&(k=k.toLowerCase()),k},P.prototype.ondeclaration=function(A,D){this.endIndex=D;var k=this.getSlice(A,D);if(this.cbs.onprocessinginstruction){var j=this.getInstructionName(k);this.cbs.onprocessinginstruction("!".concat(j),"!".concat(k))}this.startIndex=D+1},P.prototype.onprocessinginstruction=function(A,D){this.endIndex=D;var k=this.getSlice(A,D);if(this.cbs.onprocessinginstruction){var j=this.getInstructionName(k);this.cbs.onprocessinginstruction("?".concat(j),"?".concat(k))}this.startIndex=D+1},P.prototype.oncomment=function(A,D,k){var j,B,Z,R;this.endIndex=D,(B=(j=this.cbs).oncomment)===null||B===void 0||B.call(j,this.getSlice(A,D-k)),(R=(Z=this.cbs).oncommentend)===null||R===void 0||R.call(Z),this.startIndex=D+1},P.prototype.oncdata=function(A,D,k){var j,B,Z,R,G,F,K,Q,ie,te;this.endIndex=D;var oe=this.getSlice(A,D-k);this.options.xmlMode||this.options.recognizeCDATA?((B=(j=this.cbs).oncdatastart)===null||B===void 0||B.call(j),(R=(Z=this.cbs).ontext)===null||R===void 0||R.call(Z,oe),(F=(G=this.cbs).oncdataend)===null||F===void 0||F.call(G)):((Q=(K=this.cbs).oncomment)===null||Q===void 0||Q.call(K,"[CDATA[".concat(oe,"]]")),(te=(ie=this.cbs).oncommentend)===null||te===void 0||te.call(ie)),this.startIndex=D+1},P.prototype.onend=function(){var A,D;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var k=this.stack.length;k>0;this.cbs.onclosetag(this.stack[--k],!0));}(D=(A=this.cbs).onend)===null||D===void 0||D.call(A)},P.prototype.reset=function(){var A,D,k,j;(D=(A=this.cbs).onreset)===null||D===void 0||D.call(A),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(j=(k=this.cbs).onparserinit)===null||j===void 0||j.call(k,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},P.prototype.parseComplete=function(A){this.reset(),this.end(A)},P.prototype.getSlice=function(A,D){for(;A-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var k=this.buffers[0].slice(A-this.bufferOffset,D-this.bufferOffset);D-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),k+=this.buffers[0].slice(0,D-this.bufferOffset);return k},P.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},P.prototype.write=function(A){var D,k;if(this.ended){(k=(D=this.cbs).onerror)===null||k===void 0||k.call(D,new Error(".write() after done!"));return}this.buffers.push(A),this.tokenizer.running&&(this.tokenizer.write(A),this.writeIndex++)},P.prototype.end=function(A){var D,k;if(this.ended){(k=(D=this.cbs).onerror)===null||k===void 0||k.call(D,new Error(".end() after done!"));return}A&&this.write(A),this.ended=!0,this.tokenizer.end()},P.prototype.pause=function(){this.tokenizer.pause()},P.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},P.prototype.parseChunk=function(A){this.write(A)},P.prototype.done=function(A){this.end(A)},P})();return Parser$1.Parser=T,Parser$1}var lib$8={},lib$7={},hasRequiredLib$9;function requireLib$9(){return hasRequiredLib$9||(hasRequiredLib$9=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0;var e;(function(i){i.Root="root",i.Text="text",i.Directive="directive",i.Comment="comment",i.Script="script",i.Style="style",i.Tag="tag",i.CDATA="cdata",i.Doctype="doctype"})(e=t.ElementType||(t.ElementType={}));function n(i){return i.type===e.Tag||i.type===e.Script||i.type===e.Style}t.isTag=n,t.Root=e.Root,t.Text=e.Text,t.Directive=e.Directive,t.Comment=e.Comment,t.Script=e.Script,t.Style=e.Style,t.Tag=e.Tag,t.CDATA=e.CDATA,t.Doctype=e.Doctype})(lib$7)),lib$7}var node$2={},hasRequiredNode$1;function requireNode$1(){if(hasRequiredNode$1)return node$2;hasRequiredNode$1=1;var t=node$2&&node$2.__extends||(function(){var B=function(Z,R){return B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,F){G.__proto__=F}||function(G,F){for(var K in F)Object.prototype.hasOwnProperty.call(F,K)&&(G[K]=F[K])},B(Z,R)};return function(Z,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");B(Z,R);function G(){this.constructor=Z}Z.prototype=R===null?Object.create(R):(G.prototype=R.prototype,new G)}})(),e=node$2&&node$2.__assign||function(){return e=Object.assign||function(B){for(var Z,R=1,G=arguments.length;R<G;R++){Z=arguments[R];for(var F in Z)Object.prototype.hasOwnProperty.call(Z,F)&&(B[F]=Z[F])}return B},e.apply(this,arguments)};Object.defineProperty(node$2,"__esModule",{value:!0}),node$2.cloneNode=node$2.hasChildren=node$2.isDocument=node$2.isDirective=node$2.isComment=node$2.isText=node$2.isCDATA=node$2.isTag=node$2.Element=node$2.Document=node$2.CDATA=node$2.NodeWithChildren=node$2.ProcessingInstruction=node$2.Comment=node$2.Text=node$2.DataNode=node$2.Node=void 0;var n=requireLib$9(),i=(function(){function B(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(B.prototype,"parentNode",{get:function(){return this.parent},set:function(Z){this.parent=Z},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"previousSibling",{get:function(){return this.prev},set:function(Z){this.prev=Z},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"nextSibling",{get:function(){return this.next},set:function(Z){this.next=Z},enumerable:!1,configurable:!0}),B.prototype.cloneNode=function(Z){return Z===void 0&&(Z=!1),k(this,Z)},B})();node$2.Node=i;var o=(function(B){t(Z,B);function Z(R){var G=B.call(this)||this;return G.data=R,G}return Object.defineProperty(Z.prototype,"nodeValue",{get:function(){return this.data},set:function(R){this.data=R},enumerable:!1,configurable:!0}),Z})(i);node$2.DataNode=o;var u=(function(B){t(Z,B);function Z(){var R=B!==null&&B.apply(this,arguments)||this;return R.type=n.ElementType.Text,R}return Object.defineProperty(Z.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),Z})(o);node$2.Text=u;var l=(function(B){t(Z,B);function Z(){var R=B!==null&&B.apply(this,arguments)||this;return R.type=n.ElementType.Comment,R}return Object.defineProperty(Z.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),Z})(o);node$2.Comment=l;var c=(function(B){t(Z,B);function Z(R,G){var F=B.call(this,G)||this;return F.name=R,F.type=n.ElementType.Directive,F}return Object.defineProperty(Z.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Z})(o);node$2.ProcessingInstruction=c;var f=(function(B){t(Z,B);function Z(R){var G=B.call(this)||this;return G.children=R,G}return Object.defineProperty(Z.prototype,"firstChild",{get:function(){var R;return(R=this.children[0])!==null&&R!==void 0?R:null},enumerable:!1,configurable:!0}),Object.defineProperty(Z.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(Z.prototype,"childNodes",{get:function(){return this.children},set:function(R){this.children=R},enumerable:!1,configurable:!0}),Z})(i);node$2.NodeWithChildren=f;var d=(function(B){t(Z,B);function Z(){var R=B!==null&&B.apply(this,arguments)||this;return R.type=n.ElementType.CDATA,R}return Object.defineProperty(Z.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),Z})(f);node$2.CDATA=d;var m=(function(B){t(Z,B);function Z(){var R=B!==null&&B.apply(this,arguments)||this;return R.type=n.ElementType.Root,R}return Object.defineProperty(Z.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),Z})(f);node$2.Document=m;var g=(function(B){t(Z,B);function Z(R,G,F,K){F===void 0&&(F=[]),K===void 0&&(K=R==="script"?n.ElementType.Script:R==="style"?n.ElementType.Style:n.ElementType.Tag);var Q=B.call(this,F)||this;return Q.name=R,Q.attribs=G,Q.type=K,Q}return Object.defineProperty(Z.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(Z.prototype,"tagName",{get:function(){return this.name},set:function(R){this.name=R},enumerable:!1,configurable:!0}),Object.defineProperty(Z.prototype,"attributes",{get:function(){var R=this;return Object.keys(this.attribs).map(function(G){var F,K;return{name:G,value:R.attribs[G],namespace:(F=R["x-attribsNamespace"])===null||F===void 0?void 0:F[G],prefix:(K=R["x-attribsPrefix"])===null||K===void 0?void 0:K[G]}})},enumerable:!1,configurable:!0}),Z})(f);node$2.Element=g;function v(B){return(0,n.isTag)(B)}node$2.isTag=v;function y(B){return B.type===n.ElementType.CDATA}node$2.isCDATA=y;function w(B){return B.type===n.ElementType.Text}node$2.isText=w;function T(B){return B.type===n.ElementType.Comment}node$2.isComment=T;function P(B){return B.type===n.ElementType.Directive}node$2.isDirective=P;function A(B){return B.type===n.ElementType.Root}node$2.isDocument=A;function D(B){return Object.prototype.hasOwnProperty.call(B,"children")}node$2.hasChildren=D;function k(B,Z){Z===void 0&&(Z=!1);var R;if(w(B))R=new u(B.data);else if(T(B))R=new l(B.data);else if(v(B)){var G=Z?j(B.children):[],F=new g(B.name,e({},B.attribs),G);G.forEach(function(te){return te.parent=F}),B.namespace!=null&&(F.namespace=B.namespace),B["x-attribsNamespace"]&&(F["x-attribsNamespace"]=e({},B["x-attribsNamespace"])),B["x-attribsPrefix"]&&(F["x-attribsPrefix"]=e({},B["x-attribsPrefix"])),R=F}else if(y(B)){var G=Z?j(B.children):[],K=new d(G);G.forEach(function(oe){return oe.parent=K}),R=K}else if(A(B)){var G=Z?j(B.children):[],Q=new m(G);G.forEach(function(oe){return oe.parent=Q}),B["x-mode"]&&(Q["x-mode"]=B["x-mode"]),R=Q}else if(P(B)){var ie=new c(B.name,B.data);B["x-name"]!=null&&(ie["x-name"]=B["x-name"],ie["x-publicId"]=B["x-publicId"],ie["x-systemId"]=B["x-systemId"]),R=ie}else throw new Error("Not implemented yet: ".concat(B.type));return R.startIndex=B.startIndex,R.endIndex=B.endIndex,B.sourceCodeLocation!=null&&(R.sourceCodeLocation=B.sourceCodeLocation),R}node$2.cloneNode=k;function j(B){for(var Z=B.map(function(G){return k(G,!0)}),R=1;R<Z.length;R++)Z[R].prev=Z[R-1],Z[R-1].next=Z[R];return Z}return node$2}var hasRequiredLib$8;function requireLib$8(){return hasRequiredLib$8||(hasRequiredLib$8=1,(function(t){var e=lib$8&&lib$8.__createBinding||(Object.create?(function(c,f,d,m){m===void 0&&(m=d);var g=Object.getOwnPropertyDescriptor(f,d);(!g||("get"in g?!f.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return f[d]}}),Object.defineProperty(c,m,g)}):(function(c,f,d,m){m===void 0&&(m=d),c[m]=f[d]})),n=lib$8&&lib$8.__exportStar||function(c,f){for(var d in c)d!=="default"&&!Object.prototype.hasOwnProperty.call(f,d)&&e(f,c,d)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var i=requireLib$9(),o=requireNode$1();n(requireNode$1(),t);var u={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},l=(function(){function c(f,d,m){this.dom=[],this.root=new o.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof d=="function"&&(m=d,d=u),typeof f=="object"&&(d=f,f=void 0),this.callback=f??null,this.options=d??u,this.elementCB=m??null}return c.prototype.onparserinit=function(f){this.parser=f},c.prototype.onreset=function(){this.dom=[],this.root=new o.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},c.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},c.prototype.onerror=function(f){this.handleCallback(f)},c.prototype.onclosetag=function(){this.lastNode=null;var f=this.tagStack.pop();this.options.withEndIndices&&(f.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(f)},c.prototype.onopentag=function(f,d){var m=this.options.xmlMode?i.ElementType.Tag:void 0,g=new o.Element(f,d,void 0,m);this.addNode(g),this.tagStack.push(g)},c.prototype.ontext=function(f){var d=this.lastNode;if(d&&d.type===i.ElementType.Text)d.data+=f,this.options.withEndIndices&&(d.endIndex=this.parser.endIndex);else{var m=new o.Text(f);this.addNode(m),this.lastNode=m}},c.prototype.oncomment=function(f){if(this.lastNode&&this.lastNode.type===i.ElementType.Comment){this.lastNode.data+=f;return}var d=new o.Comment(f);this.addNode(d),this.lastNode=d},c.prototype.oncommentend=function(){this.lastNode=null},c.prototype.oncdatastart=function(){var f=new o.Text(""),d=new o.CDATA([f]);this.addNode(d),f.parent=d,this.lastNode=f},c.prototype.oncdataend=function(){this.lastNode=null},c.prototype.onprocessinginstruction=function(f,d){var m=new o.ProcessingInstruction(f,d);this.addNode(m)},c.prototype.handleCallback=function(f){if(typeof this.callback=="function")this.callback(f,this.dom);else if(f)throw f},c.prototype.addNode=function(f){var d=this.tagStack[this.tagStack.length-1],m=d.children[d.children.length-1];this.options.withStartIndices&&(f.startIndex=this.parser.startIndex),this.options.withEndIndices&&(f.endIndex=this.parser.endIndex),d.children.push(f),m&&(f.prev=m,m.next=f),f.parent=d,this.lastNode=null},c})();t.DomHandler=l,t.default=l})(lib$8)),lib$8}var lib$6={},stringify={},lib$5={},lib$4={},decode={},decodeDataHtml={},hasRequiredDecodeDataHtml;function requireDecodeDataHtml(){return hasRequiredDecodeDataHtml||(hasRequiredDecodeDataHtml=1,Object.defineProperty(decodeDataHtml,"__esModule",{value:!0}),decodeDataHtml.default=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(function(t){return t.charCodeAt(0)}))),decodeDataHtml}var decodeDataXml={},hasRequiredDecodeDataXml;function requireDecodeDataXml(){return hasRequiredDecodeDataXml||(hasRequiredDecodeDataXml=1,Object.defineProperty(decodeDataXml,"__esModule",{value:!0}),decodeDataXml.default=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(function(t){return t.charCodeAt(0)}))),decodeDataXml}var decode_codepoint={},hasRequiredDecode_codepoint;function requireDecode_codepoint(){return hasRequiredDecode_codepoint||(hasRequiredDecode_codepoint=1,(function(t){var e;Object.defineProperty(t,"__esModule",{value:!0}),t.replaceCodePoint=t.fromCodePoint=void 0;var n=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);t.fromCodePoint=(e=String.fromCodePoint)!==null&&e!==void 0?e:function(u){var l="";return u>65535&&(u-=65536,l+=String.fromCharCode(u>>>10&1023|55296),u=56320|u&1023),l+=String.fromCharCode(u),l};function i(u){var l;return u>=55296&&u<=57343||u>1114111?65533:(l=n.get(u))!==null&&l!==void 0?l:u}t.replaceCodePoint=i;function o(u){return(0,t.fromCodePoint)(i(u))}t.default=o})(decode_codepoint)),decode_codepoint}var hasRequiredDecode;function requireDecode(){return hasRequiredDecode||(hasRequiredDecode=1,(function(t){var e=decode&&decode.__createBinding||(Object.create?(function(Q,ie,te,oe){oe===void 0&&(oe=te);var le=Object.getOwnPropertyDescriptor(ie,te);(!le||("get"in le?!ie.__esModule:le.writable||le.configurable))&&(le={enumerable:!0,get:function(){return ie[te]}}),Object.defineProperty(Q,oe,le)}):(function(Q,ie,te,oe){oe===void 0&&(oe=te),Q[oe]=ie[te]})),n=decode&&decode.__setModuleDefault||(Object.create?(function(Q,ie){Object.defineProperty(Q,"default",{enumerable:!0,value:ie})}):function(Q,ie){Q.default=ie}),i=decode&&decode.__importStar||function(Q){if(Q&&Q.__esModule)return Q;var ie={};if(Q!=null)for(var te in Q)te!=="default"&&Object.prototype.hasOwnProperty.call(Q,te)&&e(ie,Q,te);return n(ie,Q),ie},o=decode&&decode.__importDefault||function(Q){return Q&&Q.__esModule?Q:{default:Q}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXML=t.decodeHTMLStrict=t.decodeHTMLAttribute=t.decodeHTML=t.determineBranch=t.EntityDecoder=t.DecodingMode=t.BinTrieFlags=t.fromCodePoint=t.replaceCodePoint=t.decodeCodePoint=t.xmlDecodeTree=t.htmlDecodeTree=void 0;var u=o(requireDecodeDataHtml());t.htmlDecodeTree=u.default;var l=o(requireDecodeDataXml());t.xmlDecodeTree=l.default;var c=i(requireDecode_codepoint());t.decodeCodePoint=c.default;var f=requireDecode_codepoint();Object.defineProperty(t,"replaceCodePoint",{enumerable:!0,get:function(){return f.replaceCodePoint}}),Object.defineProperty(t,"fromCodePoint",{enumerable:!0,get:function(){return f.fromCodePoint}});var d;(function(Q){Q[Q.NUM=35]="NUM",Q[Q.SEMI=59]="SEMI",Q[Q.EQUALS=61]="EQUALS",Q[Q.ZERO=48]="ZERO",Q[Q.NINE=57]="NINE",Q[Q.LOWER_A=97]="LOWER_A",Q[Q.LOWER_F=102]="LOWER_F",Q[Q.LOWER_X=120]="LOWER_X",Q[Q.LOWER_Z=122]="LOWER_Z",Q[Q.UPPER_A=65]="UPPER_A",Q[Q.UPPER_F=70]="UPPER_F",Q[Q.UPPER_Z=90]="UPPER_Z"})(d||(d={}));var m=32,g;(function(Q){Q[Q.VALUE_LENGTH=49152]="VALUE_LENGTH",Q[Q.BRANCH_LENGTH=16256]="BRANCH_LENGTH",Q[Q.JUMP_TABLE=127]="JUMP_TABLE"})(g=t.BinTrieFlags||(t.BinTrieFlags={}));function v(Q){return Q>=d.ZERO&&Q<=d.NINE}function y(Q){return Q>=d.UPPER_A&&Q<=d.UPPER_F||Q>=d.LOWER_A&&Q<=d.LOWER_F}function w(Q){return Q>=d.UPPER_A&&Q<=d.UPPER_Z||Q>=d.LOWER_A&&Q<=d.LOWER_Z||v(Q)}function T(Q){return Q===d.EQUALS||w(Q)}var P;(function(Q){Q[Q.EntityStart=0]="EntityStart",Q[Q.NumericStart=1]="NumericStart",Q[Q.NumericDecimal=2]="NumericDecimal",Q[Q.NumericHex=3]="NumericHex",Q[Q.NamedEntity=4]="NamedEntity"})(P||(P={}));var A;(function(Q){Q[Q.Legacy=0]="Legacy",Q[Q.Strict=1]="Strict",Q[Q.Attribute=2]="Attribute"})(A=t.DecodingMode||(t.DecodingMode={}));var D=(function(){function Q(ie,te,oe){this.decodeTree=ie,this.emitCodePoint=te,this.errors=oe,this.state=P.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=A.Strict}return Q.prototype.startEntity=function(ie){this.decodeMode=ie,this.state=P.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},Q.prototype.write=function(ie,te){switch(this.state){case P.EntityStart:return ie.charCodeAt(te)===d.NUM?(this.state=P.NumericStart,this.consumed+=1,this.stateNumericStart(ie,te+1)):(this.state=P.NamedEntity,this.stateNamedEntity(ie,te));case P.NumericStart:return this.stateNumericStart(ie,te);case P.NumericDecimal:return this.stateNumericDecimal(ie,te);case P.NumericHex:return this.stateNumericHex(ie,te);case P.NamedEntity:return this.stateNamedEntity(ie,te)}},Q.prototype.stateNumericStart=function(ie,te){return te>=ie.length?-1:(ie.charCodeAt(te)|m)===d.LOWER_X?(this.state=P.NumericHex,this.consumed+=1,this.stateNumericHex(ie,te+1)):(this.state=P.NumericDecimal,this.stateNumericDecimal(ie,te))},Q.prototype.addToNumericResult=function(ie,te,oe,le){if(te!==oe){var de=oe-te;this.result=this.result*Math.pow(le,de)+parseInt(ie.substr(te,de),le),this.consumed+=de}},Q.prototype.stateNumericHex=function(ie,te){for(var oe=te;te<ie.length;){var le=ie.charCodeAt(te);if(v(le)||y(le))te+=1;else return this.addToNumericResult(ie,oe,te,16),this.emitNumericEntity(le,3)}return this.addToNumericResult(ie,oe,te,16),-1},Q.prototype.stateNumericDecimal=function(ie,te){for(var oe=te;te<ie.length;){var le=ie.charCodeAt(te);if(v(le))te+=1;else return this.addToNumericResult(ie,oe,te,10),this.emitNumericEntity(le,2)}return this.addToNumericResult(ie,oe,te,10),-1},Q.prototype.emitNumericEntity=function(ie,te){var oe;if(this.consumed<=te)return(oe=this.errors)===null||oe===void 0||oe.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(ie===d.SEMI)this.consumed+=1;else if(this.decodeMode===A.Strict)return 0;return this.emitCodePoint((0,c.replaceCodePoint)(this.result),this.consumed),this.errors&&(ie!==d.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},Q.prototype.stateNamedEntity=function(ie,te){for(var oe=this.decodeTree,le=oe[this.treeIndex],de=(le&g.VALUE_LENGTH)>>14;te<ie.length;te++,this.excess++){var ge=ie.charCodeAt(te);if(this.treeIndex=j(oe,le,this.treeIndex+Math.max(1,de),ge),this.treeIndex<0)return this.result===0||this.decodeMode===A.Attribute&&(de===0||T(ge))?0:this.emitNotTerminatedNamedEntity();if(le=oe[this.treeIndex],de=(le&g.VALUE_LENGTH)>>14,de!==0){if(ge===d.SEMI)return this.emitNamedEntityData(this.treeIndex,de,this.consumed+this.excess);this.decodeMode!==A.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},Q.prototype.emitNotTerminatedNamedEntity=function(){var ie,te=this,oe=te.result,le=te.decodeTree,de=(le[oe]&g.VALUE_LENGTH)>>14;return this.emitNamedEntityData(oe,de,this.consumed),(ie=this.errors)===null||ie===void 0||ie.missingSemicolonAfterCharacterReference(),this.consumed},Q.prototype.emitNamedEntityData=function(ie,te,oe){var le=this.decodeTree;return this.emitCodePoint(te===1?le[ie]&~g.VALUE_LENGTH:le[ie+1],oe),te===3&&this.emitCodePoint(le[ie+2],oe),oe},Q.prototype.end=function(){var ie;switch(this.state){case P.NamedEntity:return this.result!==0&&(this.decodeMode!==A.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case P.NumericDecimal:return this.emitNumericEntity(0,2);case P.NumericHex:return this.emitNumericEntity(0,3);case P.NumericStart:return(ie=this.errors)===null||ie===void 0||ie.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case P.EntityStart:return 0}},Q})();t.EntityDecoder=D;function k(Q){var ie="",te=new D(Q,function(oe){return ie+=(0,c.fromCodePoint)(oe)});return function(le,de){for(var ge=0,_e=0;(_e=le.indexOf("&",_e))>=0;){ie+=le.slice(ge,_e),te.startEntity(de);var we=te.write(le,_e+1);if(we<0){ge=_e+te.end();break}ge=_e+we,_e=we===0?ge+1:ge}var Me=ie+le.slice(ge);return ie="",Me}}function j(Q,ie,te,oe){var le=(ie&g.BRANCH_LENGTH)>>7,de=ie&g.JUMP_TABLE;if(le===0)return de!==0&&oe===de?te:-1;if(de){var ge=oe-de;return ge<0||ge>=le?-1:Q[te+ge]-1}for(var _e=te,we=_e+le-1;_e<=we;){var Me=_e+we>>>1,xe=Q[Me];if(xe<oe)_e=Me+1;else if(xe>oe)we=Me-1;else return Q[Me+le]}return-1}t.determineBranch=j;var B=k(u.default),Z=k(l.default);function R(Q,ie){return ie===void 0&&(ie=A.Legacy),B(Q,ie)}t.decodeHTML=R;function G(Q){return B(Q,A.Attribute)}t.decodeHTMLAttribute=G;function F(Q){return B(Q,A.Strict)}t.decodeHTMLStrict=F;function K(Q){return Z(Q,A.Strict)}t.decodeXML=K})(decode)),decode}var encode={},encodeHtml={},hasRequiredEncodeHtml;function requireEncodeHtml(){if(hasRequiredEncodeHtml)return encodeHtml;hasRequiredEncodeHtml=1,Object.defineProperty(encodeHtml,"__esModule",{value:!0});function t(e){for(var n=1;n<e.length;n++)e[n][0]+=e[n-1][0]+1;return e}return encodeHtml.default=new Map(t([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(t([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(t([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(t([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]])),encodeHtml}var _escape={},hasRequired_escape;function require_escape(){return hasRequired_escape||(hasRequired_escape=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.escapeText=t.escapeAttribute=t.escapeUTF8=t.escape=t.encodeXML=t.getCodePoint=t.xmlReplacer=void 0,t.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var e=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);t.getCodePoint=String.prototype.codePointAt!=null?function(o,u){return o.codePointAt(u)}:function(o,u){return(o.charCodeAt(u)&64512)===55296?(o.charCodeAt(u)-55296)*1024+o.charCodeAt(u+1)-56320+65536:o.charCodeAt(u)};function n(o){for(var u="",l=0,c;(c=t.xmlReplacer.exec(o))!==null;){var f=c.index,d=o.charCodeAt(f),m=e.get(d);m!==void 0?(u+=o.substring(l,f)+m,l=f+1):(u+="".concat(o.substring(l,f),"&#x").concat((0,t.getCodePoint)(o,f).toString(16),";"),l=t.xmlReplacer.lastIndex+=+((d&64512)===55296))}return u+o.substr(l)}t.encodeXML=n,t.escape=n;function i(o,u){return function(c){for(var f,d=0,m="";f=o.exec(c);)d!==f.index&&(m+=c.substring(d,f.index)),m+=u.get(f[0].charCodeAt(0)),d=f.index+1;return m+c.substring(d)}}t.escapeUTF8=i(/[&<>'"]/g,e),t.escapeAttribute=i(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),t.escapeText=i(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))})(_escape)),_escape}var hasRequiredEncode;function requireEncode(){if(hasRequiredEncode)return encode;hasRequiredEncode=1;var t=encode&&encode.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(encode,"__esModule",{value:!0}),encode.encodeNonAsciiHTML=encode.encodeHTML=void 0;var e=t(requireEncodeHtml()),n=require_escape(),i=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function o(c){return l(i,c)}encode.encodeHTML=o;function u(c){return l(n.xmlReplacer,c)}encode.encodeNonAsciiHTML=u;function l(c,f){for(var d="",m=0,g;(g=c.exec(f))!==null;){var v=g.index;d+=f.substring(m,v);var y=f.charCodeAt(v),w=e.default.get(y);if(typeof w=="object"){if(v+1<f.length){var T=f.charCodeAt(v+1),P=typeof w.n=="number"?w.n===T?w.o:void 0:w.n.get(T);if(P!==void 0){d+=P,m=c.lastIndex+=1;continue}}w=w.v}if(w!==void 0)d+=w,m=v+1;else{var A=(0,n.getCodePoint)(f,v);d+="&#x".concat(A.toString(16),";"),m=c.lastIndex+=+(A!==y)}}return d+f.substr(m)}return encode}var hasRequiredLib$7;function requireLib$7(){return hasRequiredLib$7||(hasRequiredLib$7=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLAttribute=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.DecodingMode=t.EntityDecoder=t.encodeHTML5=t.encodeHTML4=t.encodeNonAsciiHTML=t.encodeHTML=t.escapeText=t.escapeAttribute=t.escapeUTF8=t.escape=t.encodeXML=t.encode=t.decodeStrict=t.decode=t.EncodingMode=t.EntityLevel=void 0;var e=requireDecode(),n=requireEncode(),i=require_escape(),o;(function(v){v[v.XML=0]="XML",v[v.HTML=1]="HTML"})(o=t.EntityLevel||(t.EntityLevel={}));var u;(function(v){v[v.UTF8=0]="UTF8",v[v.ASCII=1]="ASCII",v[v.Extensive=2]="Extensive",v[v.Attribute=3]="Attribute",v[v.Text=4]="Text"})(u=t.EncodingMode||(t.EncodingMode={}));function l(v,y){y===void 0&&(y=o.XML);var w=typeof y=="number"?y:y.level;if(w===o.HTML){var T=typeof y=="object"?y.mode:void 0;return(0,e.decodeHTML)(v,T)}return(0,e.decodeXML)(v)}t.decode=l;function c(v,y){var w;y===void 0&&(y=o.XML);var T=typeof y=="number"?{level:y}:y;return(w=T.mode)!==null&&w!==void 0||(T.mode=e.DecodingMode.Strict),l(v,T)}t.decodeStrict=c;function f(v,y){y===void 0&&(y=o.XML);var w=typeof y=="number"?{level:y}:y;return w.mode===u.UTF8?(0,i.escapeUTF8)(v):w.mode===u.Attribute?(0,i.escapeAttribute)(v):w.mode===u.Text?(0,i.escapeText)(v):w.level===o.HTML?w.mode===u.ASCII?(0,n.encodeNonAsciiHTML)(v):(0,n.encodeHTML)(v):(0,i.encodeXML)(v)}t.encode=f;var d=require_escape();Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return d.encodeXML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return d.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return d.escapeUTF8}}),Object.defineProperty(t,"escapeAttribute",{enumerable:!0,get:function(){return d.escapeAttribute}}),Object.defineProperty(t,"escapeText",{enumerable:!0,get:function(){return d.escapeText}});var m=requireEncode();Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return m.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return m.encodeNonAsciiHTML}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return m.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return m.encodeHTML}});var g=requireDecode();Object.defineProperty(t,"EntityDecoder",{enumerable:!0,get:function(){return g.EntityDecoder}}),Object.defineProperty(t,"DecodingMode",{enumerable:!0,get:function(){return g.DecodingMode}}),Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return g.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return g.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return g.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTMLAttribute",{enumerable:!0,get:function(){return g.decodeHTMLAttribute}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return g.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return g.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return g.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return g.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return g.decodeXML}})})(lib$4)),lib$4}var foreignNames={},hasRequiredForeignNames;function requireForeignNames(){return hasRequiredForeignNames||(hasRequiredForeignNames=1,Object.defineProperty(foreignNames,"__esModule",{value:!0}),foreignNames.attributeNames=foreignNames.elementNames=void 0,foreignNames.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(t){return[t.toLowerCase(),t]})),foreignNames.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(t){return[t.toLowerCase(),t]}))),foreignNames}var hasRequiredLib$6;function requireLib$6(){if(hasRequiredLib$6)return lib$5;hasRequiredLib$6=1;var t=lib$5&&lib$5.__assign||function(){return t=Object.assign||function(j){for(var B,Z=1,R=arguments.length;Z<R;Z++){B=arguments[Z];for(var G in B)Object.prototype.hasOwnProperty.call(B,G)&&(j[G]=B[G])}return j},t.apply(this,arguments)},e=lib$5&&lib$5.__createBinding||(Object.create?(function(j,B,Z,R){R===void 0&&(R=Z);var G=Object.getOwnPropertyDescriptor(B,Z);(!G||("get"in G?!B.__esModule:G.writable||G.configurable))&&(G={enumerable:!0,get:function(){return B[Z]}}),Object.defineProperty(j,R,G)}):(function(j,B,Z,R){R===void 0&&(R=Z),j[R]=B[Z]})),n=lib$5&&lib$5.__setModuleDefault||(Object.create?(function(j,B){Object.defineProperty(j,"default",{enumerable:!0,value:B})}):function(j,B){j.default=B}),i=lib$5&&lib$5.__importStar||function(j){if(j&&j.__esModule)return j;var B={};if(j!=null)for(var Z in j)Z!=="default"&&Object.prototype.hasOwnProperty.call(j,Z)&&e(B,j,Z);return n(B,j),B};Object.defineProperty(lib$5,"__esModule",{value:!0}),lib$5.render=void 0;var o=i(requireLib$9()),u=requireLib$7(),l=requireForeignNames(),c=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function f(j){return j.replace(/"/g,"&quot;")}function d(j,B){var Z;if(j){var R=((Z=B.encodeEntities)!==null&&Z!==void 0?Z:B.decodeEntities)===!1?f:B.xmlMode||B.encodeEntities!=="utf8"?u.encodeXML:u.escapeAttribute;return Object.keys(j).map(function(G){var F,K,Q=(F=j[G])!==null&&F!==void 0?F:"";return B.xmlMode==="foreign"&&(G=(K=l.attributeNames.get(G))!==null&&K!==void 0?K:G),!B.emptyAttrs&&!B.xmlMode&&Q===""?G:"".concat(G,'="').concat(R(Q),'"')}).join(" ")}}var m=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function g(j,B){B===void 0&&(B={});for(var Z=("length"in j)?j:[j],R="",G=0;G<Z.length;G++)R+=v(Z[G],B);return R}lib$5.render=g,lib$5.default=g;function v(j,B){switch(j.type){case o.Root:return g(j.children,B);case o.Doctype:case o.Directive:return P(j);case o.Comment:return k(j);case o.CDATA:return D(j);case o.Script:case o.Style:case o.Tag:return T(j,B);case o.Text:return A(j,B)}}var y=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),w=new Set(["svg","math"]);function T(j,B){var Z;B.xmlMode==="foreign"&&(j.name=(Z=l.elementNames.get(j.name))!==null&&Z!==void 0?Z:j.name,j.parent&&y.has(j.parent.name)&&(B=t(t({},B),{xmlMode:!1}))),!B.xmlMode&&w.has(j.name)&&(B=t(t({},B),{xmlMode:"foreign"}));var R="<".concat(j.name),G=d(j.attribs,B);return G&&(R+=" ".concat(G)),j.children.length===0&&(B.xmlMode?B.selfClosingTags!==!1:B.selfClosingTags&&m.has(j.name))?(B.xmlMode||(R+=" "),R+="/>"):(R+=">",j.children.length>0&&(R+=g(j.children,B)),(B.xmlMode||!m.has(j.name))&&(R+="</".concat(j.name,">"))),R}function P(j){return"<".concat(j.data,">")}function A(j,B){var Z,R=j.data||"";return((Z=B.encodeEntities)!==null&&Z!==void 0?Z:B.decodeEntities)!==!1&&!(!B.xmlMode&&j.parent&&c.has(j.parent.name))&&(R=B.xmlMode||B.encodeEntities!=="utf8"?(0,u.encodeXML)(R):(0,u.escapeText)(R)),R}function D(j){return"<![CDATA[".concat(j.children[0].data,"]]>")}function k(j){return"<!--".concat(j.data,"-->")}return lib$5}var hasRequiredStringify$1;function requireStringify$1(){if(hasRequiredStringify$1)return stringify;hasRequiredStringify$1=1;var t=stringify&&stringify.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(stringify,"__esModule",{value:!0}),stringify.getOuterHTML=o,stringify.getInnerHTML=u,stringify.getText=l,stringify.textContent=c,stringify.innerText=f;var e=requireLib$8(),n=t(requireLib$6()),i=requireLib$9();function o(d,m){return(0,n.default)(d,m)}function u(d,m){return(0,e.hasChildren)(d)?d.children.map(function(g){return o(g,m)}).join(""):""}function l(d){return Array.isArray(d)?d.map(l).join(""):(0,e.isTag)(d)?d.name==="br"?`
`:l(d.children):(0,e.isCDATA)(d)?l(d.children):(0,e.isText)(d)?d.data:""}function c(d){return Array.isArray(d)?d.map(c).join(""):(0,e.hasChildren)(d)&&!(0,e.isComment)(d)?c(d.children):(0,e.isText)(d)?d.data:""}function f(d){return Array.isArray(d)?d.map(f).join(""):(0,e.hasChildren)(d)&&(d.type===i.ElementType.Tag||(0,e.isCDATA)(d))?f(d.children):(0,e.isText)(d)?d.data:""}return stringify}var traversal={},hasRequiredTraversal;function requireTraversal(){if(hasRequiredTraversal)return traversal;hasRequiredTraversal=1,Object.defineProperty(traversal,"__esModule",{value:!0}),traversal.getChildren=e,traversal.getParent=n,traversal.getSiblings=i,traversal.getAttributeValue=o,traversal.hasAttrib=u,traversal.getName=l,traversal.nextElementSibling=c,traversal.prevElementSibling=f;var t=requireLib$8();function e(d){return(0,t.hasChildren)(d)?d.children:[]}function n(d){return d.parent||null}function i(d){var m,g,v=n(d);if(v!=null)return e(v);for(var y=[d],w=d.prev,T=d.next;w!=null;)y.unshift(w),m=w,w=m.prev;for(;T!=null;)y.push(T),g=T,T=g.next;return y}function o(d,m){var g;return(g=d.attribs)===null||g===void 0?void 0:g[m]}function u(d,m){return d.attribs!=null&&Object.prototype.hasOwnProperty.call(d.attribs,m)&&d.attribs[m]!=null}function l(d){return d.name}function c(d){for(var m,g=d.next;g!==null&&!(0,t.isTag)(g);)m=g,g=m.next;return g}function f(d){for(var m,g=d.prev;g!==null&&!(0,t.isTag)(g);)m=g,g=m.prev;return g}return traversal}var manipulation={},hasRequiredManipulation;function requireManipulation(){if(hasRequiredManipulation)return manipulation;hasRequiredManipulation=1,Object.defineProperty(manipulation,"__esModule",{value:!0}),manipulation.removeElement=t,manipulation.replaceElement=e,manipulation.appendChild=n,manipulation.append=i,manipulation.prependChild=o,manipulation.prepend=u;function t(l){if(l.prev&&(l.prev.next=l.next),l.next&&(l.next.prev=l.prev),l.parent){var c=l.parent.children,f=c.lastIndexOf(l);f>=0&&c.splice(f,1)}l.next=null,l.prev=null,l.parent=null}function e(l,c){var f=c.prev=l.prev;f&&(f.next=c);var d=c.next=l.next;d&&(d.prev=c);var m=c.parent=l.parent;if(m){var g=m.children;g[g.lastIndexOf(l)]=c,l.parent=null}}function n(l,c){if(t(c),c.next=null,c.parent=l,l.children.push(c)>1){var f=l.children[l.children.length-2];f.next=c,c.prev=f}else c.prev=null}function i(l,c){t(c);var f=l.parent,d=l.next;if(c.next=d,c.prev=l,l.next=c,c.parent=f,d){if(d.prev=c,f){var m=f.children;m.splice(m.lastIndexOf(d),0,c)}}else f&&f.children.push(c)}function o(l,c){if(t(c),c.parent=l,c.prev=null,l.children.unshift(c)!==1){var f=l.children[1];f.prev=c,c.next=f}else c.next=null}function u(l,c){t(c);var f=l.parent;if(f){var d=f.children;d.splice(d.indexOf(l),0,c)}l.prev&&(l.prev.next=c),c.parent=f,c.prev=l.prev,c.next=l,l.prev=c}return manipulation}var querying={},hasRequiredQuerying;function requireQuerying(){if(hasRequiredQuerying)return querying;hasRequiredQuerying=1,Object.defineProperty(querying,"__esModule",{value:!0}),querying.filter=e,querying.find=n,querying.findOneChild=i,querying.findOne=o,querying.existsOne=u,querying.findAll=l;var t=requireLib$8();function e(c,f,d,m){return d===void 0&&(d=!0),m===void 0&&(m=1/0),n(c,Array.isArray(f)?f:[f],d,m)}function n(c,f,d,m){for(var g=[],v=[Array.isArray(f)?f:[f]],y=[0];;){if(y[0]>=v[0].length){if(y.length===1)return g;v.shift(),y.shift();continue}var w=v[0][y[0]++];if(c(w)&&(g.push(w),--m<=0))return g;d&&(0,t.hasChildren)(w)&&w.children.length>0&&(y.unshift(0),v.unshift(w.children))}}function i(c,f){return f.find(c)}function o(c,f,d){d===void 0&&(d=!0);for(var m=Array.isArray(f)?f:[f],g=0;g<m.length;g++){var v=m[g];if((0,t.isTag)(v)&&c(v))return v;if(d&&(0,t.hasChildren)(v)&&v.children.length>0){var y=o(c,v.children,!0);if(y)return y}}return null}function u(c,f){return(Array.isArray(f)?f:[f]).some(function(d){return(0,t.isTag)(d)&&c(d)||(0,t.hasChildren)(d)&&u(c,d.children)})}function l(c,f){for(var d=[],m=[Array.isArray(f)?f:[f]],g=[0];;){if(g[0]>=m[0].length){if(m.length===1)return d;m.shift(),g.shift();continue}var v=m[0][g[0]++];(0,t.isTag)(v)&&c(v)&&d.push(v),(0,t.hasChildren)(v)&&v.children.length>0&&(g.unshift(0),m.unshift(v.children))}}return querying}var legacy={},hasRequiredLegacy;function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1,Object.defineProperty(legacy,"__esModule",{value:!0}),legacy.testElement=l,legacy.getElements=c,legacy.getElementById=f,legacy.getElementsByTagName=d,legacy.getElementsByClassName=m,legacy.getElementsByTagType=g;var t=requireLib$8(),e=requireQuerying(),n={tag_name:function(v){return typeof v=="function"?function(y){return(0,t.isTag)(y)&&v(y.name)}:v==="*"?t.isTag:function(y){return(0,t.isTag)(y)&&y.name===v}},tag_type:function(v){return typeof v=="function"?function(y){return v(y.type)}:function(y){return y.type===v}},tag_contains:function(v){return typeof v=="function"?function(y){return(0,t.isText)(y)&&v(y.data)}:function(y){return(0,t.isText)(y)&&y.data===v}}};function i(v,y){return typeof y=="function"?function(w){return(0,t.isTag)(w)&&y(w.attribs[v])}:function(w){return(0,t.isTag)(w)&&w.attribs[v]===y}}function o(v,y){return function(w){return v(w)||y(w)}}function u(v){var y=Object.keys(v).map(function(w){var T=v[w];return Object.prototype.hasOwnProperty.call(n,w)?n[w](T):i(w,T)});return y.length===0?null:y.reduce(o)}function l(v,y){var w=u(v);return w?w(y):!0}function c(v,y,w,T){T===void 0&&(T=1/0);var P=u(v);return P?(0,e.filter)(P,y,w,T):[]}function f(v,y,w){return w===void 0&&(w=!0),Array.isArray(y)||(y=[y]),(0,e.findOne)(i("id",v),y,w)}function d(v,y,w,T){return w===void 0&&(w=!0),T===void 0&&(T=1/0),(0,e.filter)(n.tag_name(v),y,w,T)}function m(v,y,w,T){return w===void 0&&(w=!0),T===void 0&&(T=1/0),(0,e.filter)(i("class",v),y,w,T)}function g(v,y,w,T){return w===void 0&&(w=!0),T===void 0&&(T=1/0),(0,e.filter)(n.tag_type(v),y,w,T)}return legacy}var helpers={},hasRequiredHelpers;function requireHelpers(){if(hasRequiredHelpers)return helpers;hasRequiredHelpers=1,Object.defineProperty(helpers,"__esModule",{value:!0}),helpers.DocumentPosition=void 0,helpers.removeSubsets=e,helpers.compareDocumentPosition=i,helpers.uniqueSort=o;var t=requireLib$8();function e(u){for(var l=u.length;--l>=0;){var c=u[l];if(l>0&&u.lastIndexOf(c,l-1)>=0){u.splice(l,1);continue}for(var f=c.parent;f;f=f.parent)if(u.includes(f)){u.splice(l,1);break}}return u}var n;(function(u){u[u.DISCONNECTED=1]="DISCONNECTED",u[u.PRECEDING=2]="PRECEDING",u[u.FOLLOWING=4]="FOLLOWING",u[u.CONTAINS=8]="CONTAINS",u[u.CONTAINED_BY=16]="CONTAINED_BY"})(n||(helpers.DocumentPosition=n={}));function i(u,l){var c=[],f=[];if(u===l)return 0;for(var d=(0,t.hasChildren)(u)?u:u.parent;d;)c.unshift(d),d=d.parent;for(d=(0,t.hasChildren)(l)?l:l.parent;d;)f.unshift(d),d=d.parent;for(var m=Math.min(c.length,f.length),g=0;g<m&&c[g]===f[g];)g++;if(g===0)return n.DISCONNECTED;var v=c[g-1],y=v.children,w=c[g],T=f[g];return y.indexOf(w)>y.indexOf(T)?v===l?n.FOLLOWING|n.CONTAINED_BY:n.FOLLOWING:v===u?n.PRECEDING|n.CONTAINS:n.PRECEDING}function o(u){return u=u.filter(function(l,c,f){return!f.includes(l,c+1)}),u.sort(function(l,c){var f=i(l,c);return f&n.PRECEDING?-1:f&n.FOLLOWING?1:0}),u}return helpers}var feeds={},hasRequiredFeeds;function requireFeeds(){if(hasRequiredFeeds)return feeds;hasRequiredFeeds=1,Object.defineProperty(feeds,"__esModule",{value:!0}),feeds.getFeed=n;var t=requireStringify$1(),e=requireLegacy();function n(v){var y=f(g,v);return y?y.name==="feed"?i(y):o(y):null}function i(v){var y,w=v.children,T={type:"atom",items:(0,e.getElementsByTagName)("entry",w).map(function(D){var k,j=D.children,B={media:c(j)};m(B,"id","id",j),m(B,"title","title",j);var Z=(k=f("link",j))===null||k===void 0?void 0:k.attribs.href;Z&&(B.link=Z);var R=d("summary",j)||d("content",j);R&&(B.description=R);var G=d("updated",j);return G&&(B.pubDate=new Date(G)),B})};m(T,"id","id",w),m(T,"title","title",w);var P=(y=f("link",w))===null||y===void 0?void 0:y.attribs.href;P&&(T.link=P),m(T,"description","subtitle",w);var A=d("updated",w);return A&&(T.updated=new Date(A)),m(T,"author","email",w,!0),T}function o(v){var y,w,T=(w=(y=f("channel",v.children))===null||y===void 0?void 0:y.children)!==null&&w!==void 0?w:[],P={type:v.name.substr(0,3),id:"",items:(0,e.getElementsByTagName)("item",v.children).map(function(D){var k=D.children,j={media:c(k)};m(j,"id","guid",k),m(j,"title","title",k),m(j,"link","link",k),m(j,"description","description",k);var B=d("pubDate",k)||d("dc:date",k);return B&&(j.pubDate=new Date(B)),j})};m(P,"title","title",T),m(P,"link","link",T),m(P,"description","description",T);var A=d("lastBuildDate",T);return A&&(P.updated=new Date(A)),m(P,"author","managingEditor",T,!0),P}var u=["url","type","lang"],l=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function c(v){return(0,e.getElementsByTagName)("media:content",v).map(function(y){for(var w=y.attribs,T={medium:w.medium,isDefault:!!w.isDefault},P=0,A=u;P<A.length;P++){var D=A[P];w[D]&&(T[D]=w[D])}for(var k=0,j=l;k<j.length;k++){var D=j[k];w[D]&&(T[D]=parseInt(w[D],10))}return w.expression&&(T.expression=w.expression),T})}function f(v,y){return(0,e.getElementsByTagName)(v,y,!0,1)[0]}function d(v,y,w){return w===void 0&&(w=!1),(0,t.textContent)((0,e.getElementsByTagName)(v,y,w,1)).trim()}function m(v,y,w,T,P){P===void 0&&(P=!1);var A=d(w,T,P);A&&(v[y]=A)}function g(v){return v==="rss"||v==="feed"||v==="rdf:RDF"}return feeds}var hasRequiredLib$5;function requireLib$5(){return hasRequiredLib$5||(hasRequiredLib$5=1,(function(t){var e=lib$6&&lib$6.__createBinding||(Object.create?(function(o,u,l,c){c===void 0&&(c=l);var f=Object.getOwnPropertyDescriptor(u,l);(!f||("get"in f?!u.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return u[l]}}),Object.defineProperty(o,c,f)}):(function(o,u,l,c){c===void 0&&(c=l),o[c]=u[l]})),n=lib$6&&lib$6.__exportStar||function(o,u){for(var l in o)l!=="default"&&!Object.prototype.hasOwnProperty.call(u,l)&&e(u,o,l)};Object.defineProperty(t,"__esModule",{value:!0}),t.hasChildren=t.isDocument=t.isComment=t.isText=t.isCDATA=t.isTag=void 0,n(requireStringify$1(),t),n(requireTraversal(),t),n(requireManipulation(),t),n(requireQuerying(),t),n(requireLegacy(),t),n(requireHelpers(),t),n(requireFeeds(),t);var i=requireLib$8();Object.defineProperty(t,"isTag",{enumerable:!0,get:function(){return i.isTag}}),Object.defineProperty(t,"isCDATA",{enumerable:!0,get:function(){return i.isCDATA}}),Object.defineProperty(t,"isText",{enumerable:!0,get:function(){return i.isText}}),Object.defineProperty(t,"isComment",{enumerable:!0,get:function(){return i.isComment}}),Object.defineProperty(t,"isDocument",{enumerable:!0,get:function(){return i.isDocument}}),Object.defineProperty(t,"hasChildren",{enumerable:!0,get:function(){return i.hasChildren}})})(lib$6)),lib$6}var hasRequiredLib$4;function requireLib$4(){return hasRequiredLib$4||(hasRequiredLib$4=1,(function(t){var e=lib$9&&lib$9.__createBinding||(Object.create?(function(A,D,k,j){j===void 0&&(j=k);var B=Object.getOwnPropertyDescriptor(D,k);(!B||("get"in B?!D.__esModule:B.writable||B.configurable))&&(B={enumerable:!0,get:function(){return D[k]}}),Object.defineProperty(A,j,B)}):(function(A,D,k,j){j===void 0&&(j=k),A[j]=D[k]})),n=lib$9&&lib$9.__setModuleDefault||(Object.create?(function(A,D){Object.defineProperty(A,"default",{enumerable:!0,value:D})}):function(A,D){A.default=D}),i=lib$9&&lib$9.__importStar||function(A){if(A&&A.__esModule)return A;var D={};if(A!=null)for(var k in A)k!=="default"&&Object.prototype.hasOwnProperty.call(A,k)&&e(D,A,k);return n(D,A),D},o=lib$9&&lib$9.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomUtils=t.parseFeed=t.getFeed=t.ElementType=t.Tokenizer=t.createDomStream=t.parseDOM=t.parseDocument=t.DefaultHandler=t.DomHandler=t.Parser=void 0;var u=requireParser$1(),l=requireParser$1();Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return l.Parser}});var c=requireLib$8(),f=requireLib$8();Object.defineProperty(t,"DomHandler",{enumerable:!0,get:function(){return f.DomHandler}}),Object.defineProperty(t,"DefaultHandler",{enumerable:!0,get:function(){return f.DomHandler}});function d(A,D){var k=new c.DomHandler(void 0,D);return new u.Parser(k,D).end(A),k.root}t.parseDocument=d;function m(A,D){return d(A,D).children}t.parseDOM=m;function g(A,D,k){var j=new c.DomHandler(A,D,k);return new u.Parser(j,D)}t.createDomStream=g;var v=requireTokenizer();Object.defineProperty(t,"Tokenizer",{enumerable:!0,get:function(){return o(v).default}}),t.ElementType=i(requireLib$9());var y=requireLib$5(),w=requireLib$5();Object.defineProperty(t,"getFeed",{enumerable:!0,get:function(){return w.getFeed}});var T={xmlMode:!0};function P(A,D){return D===void 0&&(D=T),(0,y.getFeed)(m(A,D))}t.parseFeed=P,t.DomUtils=i(requireLib$5())})(lib$9)),lib$9}var escapeStringRegexp,hasRequiredEscapeStringRegexp;function requireEscapeStringRegexp(){return hasRequiredEscapeStringRegexp||(hasRequiredEscapeStringRegexp=1,escapeStringRegexp=t=>{if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}),escapeStringRegexp}var isPlainObject={},hasRequiredIsPlainObject;function requireIsPlainObject(){if(hasRequiredIsPlainObject)return isPlainObject;hasRequiredIsPlainObject=1,Object.defineProperty(isPlainObject,"__esModule",{value:!0});function t(n){return Object.prototype.toString.call(n)==="[object Object]"}function e(n){var i,o;return t(n)===!1?!1:(i=n.constructor,i===void 0?!0:(o=i.prototype,!(t(o)===!1||o.hasOwnProperty("isPrototypeOf")===!1)))}return isPlainObject.isPlainObject=e,isPlainObject}var cjs,hasRequiredCjs;function requireCjs(){if(hasRequiredCjs)return cjs;hasRequiredCjs=1;var t=function(D){return e(D)&&!n(D)};function e(A){return!!A&&typeof A=="object"}function n(A){var D=Object.prototype.toString.call(A);return D==="[object RegExp]"||D==="[object Date]"||u(A)}var i=typeof Symbol=="function"&&Symbol.for,o=i?Symbol.for("react.element"):60103;function u(A){return A.$$typeof===o}function l(A){return Array.isArray(A)?[]:{}}function c(A,D){return D.clone!==!1&&D.isMergeableObject(A)?T(l(A),A,D):A}function f(A,D,k){return A.concat(D).map(function(j){return c(j,k)})}function d(A,D){if(!D.customMerge)return T;var k=D.customMerge(A);return typeof k=="function"?k:T}function m(A){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(A).filter(function(D){return Object.propertyIsEnumerable.call(A,D)}):[]}function g(A){return Object.keys(A).concat(m(A))}function v(A,D){try{return D in A}catch{return!1}}function y(A,D){return v(A,D)&&!(Object.hasOwnProperty.call(A,D)&&Object.propertyIsEnumerable.call(A,D))}function w(A,D,k){var j={};return k.isMergeableObject(A)&&g(A).forEach(function(B){j[B]=c(A[B],k)}),g(D).forEach(function(B){y(A,B)||(v(A,B)&&k.isMergeableObject(D[B])?j[B]=d(B,k)(A[B],D[B],k):j[B]=c(D[B],k))}),j}function T(A,D,k){k=k||{},k.arrayMerge=k.arrayMerge||f,k.isMergeableObject=k.isMergeableObject||t,k.cloneUnlessOtherwiseSpecified=c;var j=Array.isArray(D),B=Array.isArray(A),Z=j===B;return Z?j?k.arrayMerge(A,D,k):w(A,D,k):c(D,k)}T.all=function(D,k){if(!Array.isArray(D))throw new Error("first argument should be an array");return D.reduce(function(j,B){return T(j,B,k)},{})};var P=T;return cjs=P,cjs}var parseSrcset$1={exports:{}},parseSrcset=parseSrcset$1.exports,hasRequiredParseSrcset;function requireParseSrcset(){return hasRequiredParseSrcset||(hasRequiredParseSrcset=1,(function(t){(function(e,n){t.exports?t.exports=n():e.parseSrcset=n()})(parseSrcset,function(){return function(e){function n(j){return j===" "||j==="	"||j===`
`||j==="\f"||j==="\r"}function i(j){var B,Z=j.exec(e.substring(P));if(Z)return B=Z[0],P+=B.length,B}for(var o=e.length,u=/^[ \t\n\r\u000c]+/,l=/^[, \t\n\r\u000c]+/,c=/^[^ \t\n\r\u000c]+/,f=/[,]+$/,d=/^\d+$/,m=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,g,v,y,w,T,P=0,A=[];;){if(i(l),P>=o)return A;g=i(c),v=[],g.slice(-1)===","?(g=g.replace(f,""),k()):D()}function D(){for(i(u),y="",w="in descriptor";;){if(T=e.charAt(P),w==="in descriptor")if(n(T))y&&(v.push(y),y="",w="after descriptor");else if(T===","){P+=1,y&&v.push(y),k();return}else if(T==="(")y=y+T,w="in parens";else if(T===""){y&&v.push(y),k();return}else y=y+T;else if(w==="in parens")if(T===")")y=y+T,w="in descriptor";else if(T===""){v.push(y),k();return}else y=y+T;else if(w==="after descriptor"&&!n(T))if(T===""){k();return}else w="in descriptor",P-=1;P+=1}}function k(){var j=!1,B,Z,R,G,F={},K,Q,ie,te,oe;for(G=0;G<v.length;G++)K=v[G],Q=K[K.length-1],ie=K.substring(0,K.length-1),te=parseInt(ie,10),oe=parseFloat(ie),d.test(ie)&&Q==="w"?((B||Z)&&(j=!0),te===0?j=!0:B=te):m.test(ie)&&Q==="x"?((B||Z||R)&&(j=!0),oe<0?j=!0:Z=oe):d.test(ie)&&Q==="h"?((R||Z)&&(j=!0),te===0?j=!0:R=te):j=!0;j?console&&console.log&&console.log("Invalid srcset descriptor found in '"+e+"' at '"+K+"'."):(F.url=g,B&&(F.w=B),Z&&(F.d=Z),R&&(F.h=R),A.push(F))}}})})(parseSrcset$1)),parseSrcset$1.exports}var picocolors_browser={exports:{}},hasRequiredPicocolors_browser;function requirePicocolors_browser(){if(hasRequiredPicocolors_browser)return picocolors_browser.exports;hasRequiredPicocolors_browser=1;var t=String,e=function(){return{isColorSupported:!1,reset:t,bold:t,dim:t,italic:t,underline:t,inverse:t,hidden:t,strikethrough:t,black:t,red:t,green:t,yellow:t,blue:t,magenta:t,cyan:t,white:t,gray:t,bgBlack:t,bgRed:t,bgGreen:t,bgYellow:t,bgBlue:t,bgMagenta:t,bgCyan:t,bgWhite:t,blackBright:t,redBright:t,greenBright:t,yellowBright:t,blueBright:t,magentaBright:t,cyanBright:t,whiteBright:t,bgBlackBright:t,bgRedBright:t,bgGreenBright:t,bgYellowBright:t,bgBlueBright:t,bgMagentaBright:t,bgCyanBright:t,bgWhiteBright:t}};return picocolors_browser.exports=e(),picocolors_browser.exports.createColors=e,picocolors_browser.exports}const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(__viteBrowserExternal$1);var cssSyntaxError,hasRequiredCssSyntaxError;function requireCssSyntaxError(){if(hasRequiredCssSyntaxError)return cssSyntaxError;hasRequiredCssSyntaxError=1;let t=requirePicocolors_browser(),e=require$$2;class n extends Error{constructor(o,u,l,c,f,d){super(o),this.name="CssSyntaxError",this.reason=o,f&&(this.file=f),c&&(this.source=c),d&&(this.plugin=d),typeof u<"u"&&typeof l<"u"&&(typeof u=="number"?(this.line=u,this.column=l):(this.line=u.line,this.column=u.column,this.endLine=l.line,this.endColumn=l.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,n)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(o){if(!this.source)return"";let u=this.source;o==null&&(o=t.isColorSupported);let l=y=>y,c=y=>y,f=y=>y;if(o){let{bold:y,gray:w,red:T}=t.createColors(!0);c=P=>y(T(P)),l=P=>w(P),e&&(f=P=>e(P))}let d=u.split(/\r?\n/),m=Math.max(this.line-3,0),g=Math.min(this.line+2,d.length),v=String(g).length;return d.slice(m,g).map((y,w)=>{let T=m+1+w,P=" "+(" "+T).slice(-v)+" | ";if(T===this.line){if(y.length>160){let D=20,k=Math.max(0,this.column-D),j=Math.max(this.column+D,this.endColumn+D),B=y.slice(k,j),Z=l(P.replace(/\d/g," "))+y.slice(0,Math.min(this.column-1,D-1)).replace(/[^\t]/g," ");return c(">")+l(P)+f(B)+`
 `+Z+c("^")}let A=l(P.replace(/\d/g," "))+y.slice(0,this.column-1).replace(/[^\t]/g," ");return c(">")+l(P)+f(y)+`
 `+A+c("^")}return" "+l(P)+f(y)}).join(`
`)}toString(){let o=this.showSourceCode();return o&&(o=`

`+o+`
`),this.name+": "+this.message+o}}return cssSyntaxError=n,n.default=n,cssSyntaxError}var stringifier,hasRequiredStringifier;function requireStringifier(){if(hasRequiredStringifier)return stringifier;hasRequiredStringifier=1;const t={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function e(i){return i[0].toUpperCase()+i.slice(1)}class n{constructor(o){this.builder=o}atrule(o,u){let l="@"+o.name,c=o.params?this.rawValue(o,"params"):"";if(typeof o.raws.afterName<"u"?l+=o.raws.afterName:c&&(l+=" "),o.nodes)this.block(o,l+c);else{let f=(o.raws.between||"")+(u?";":"");this.builder(l+c+f,o)}}beforeAfter(o,u){let l;o.type==="decl"?l=this.raw(o,null,"beforeDecl"):o.type==="comment"?l=this.raw(o,null,"beforeComment"):u==="before"?l=this.raw(o,null,"beforeRule"):l=this.raw(o,null,"beforeClose");let c=o.parent,f=0;for(;c&&c.type!=="root";)f+=1,c=c.parent;if(l.includes(`
`)){let d=this.raw(o,null,"indent");if(d.length)for(let m=0;m<f;m++)l+=d}return l}block(o,u){let l=this.raw(o,"between","beforeOpen");this.builder(u+l+"{",o,"start");let c;o.nodes&&o.nodes.length?(this.body(o),c=this.raw(o,"after")):c=this.raw(o,"after","emptyBody"),c&&this.builder(c),this.builder("}",o,"end")}body(o){let u=o.nodes.length-1;for(;u>0&&o.nodes[u].type==="comment";)u-=1;let l=this.raw(o,"semicolon");for(let c=0;c<o.nodes.length;c++){let f=o.nodes[c],d=this.raw(f,"before");d&&this.builder(d),this.stringify(f,u!==c||l)}}comment(o){let u=this.raw(o,"left","commentLeft"),l=this.raw(o,"right","commentRight");this.builder("/*"+u+o.text+l+"*/",o)}decl(o,u){let l=this.raw(o,"between","colon"),c=o.prop+l+this.rawValue(o,"value");o.important&&(c+=o.raws.important||" !important"),u&&(c+=";"),this.builder(c,o)}document(o){this.body(o)}raw(o,u,l){let c;if(l||(l=u),u&&(c=o.raws[u],typeof c<"u"))return c;let f=o.parent;if(l==="before"&&(!f||f.type==="root"&&f.first===o||f&&f.type==="document"))return"";if(!f)return t[l];let d=o.root();if(d.rawCache||(d.rawCache={}),typeof d.rawCache[l]<"u")return d.rawCache[l];if(l==="before"||l==="after")return this.beforeAfter(o,l);{let m="raw"+e(l);this[m]?c=this[m](d,o):d.walk(g=>{if(c=g.raws[u],typeof c<"u")return!1})}return typeof c>"u"&&(c=t[l]),d.rawCache[l]=c,c}rawBeforeClose(o){let u;return o.walk(l=>{if(l.nodes&&l.nodes.length>0&&typeof l.raws.after<"u")return u=l.raws.after,u.includes(`
`)&&(u=u.replace(/[^\n]+$/,"")),!1}),u&&(u=u.replace(/\S/g,"")),u}rawBeforeComment(o,u){let l;return o.walkComments(c=>{if(typeof c.raws.before<"u")return l=c.raws.before,l.includes(`
`)&&(l=l.replace(/[^\n]+$/,"")),!1}),typeof l>"u"?l=this.raw(u,null,"beforeDecl"):l&&(l=l.replace(/\S/g,"")),l}rawBeforeDecl(o,u){let l;return o.walkDecls(c=>{if(typeof c.raws.before<"u")return l=c.raws.before,l.includes(`
`)&&(l=l.replace(/[^\n]+$/,"")),!1}),typeof l>"u"?l=this.raw(u,null,"beforeRule"):l&&(l=l.replace(/\S/g,"")),l}rawBeforeOpen(o){let u;return o.walk(l=>{if(l.type!=="decl"&&(u=l.raws.between,typeof u<"u"))return!1}),u}rawBeforeRule(o){let u;return o.walk(l=>{if(l.nodes&&(l.parent!==o||o.first!==l)&&typeof l.raws.before<"u")return u=l.raws.before,u.includes(`
`)&&(u=u.replace(/[^\n]+$/,"")),!1}),u&&(u=u.replace(/\S/g,"")),u}rawColon(o){let u;return o.walkDecls(l=>{if(typeof l.raws.between<"u")return u=l.raws.between.replace(/[^\s:]/g,""),!1}),u}rawEmptyBody(o){let u;return o.walk(l=>{if(l.nodes&&l.nodes.length===0&&(u=l.raws.after,typeof u<"u"))return!1}),u}rawIndent(o){if(o.raws.indent)return o.raws.indent;let u;return o.walk(l=>{let c=l.parent;if(c&&c!==o&&c.parent&&c.parent===o&&typeof l.raws.before<"u"){let f=l.raws.before.split(`
`);return u=f[f.length-1],u=u.replace(/\S/g,""),!1}}),u}rawSemicolon(o){let u;return o.walk(l=>{if(l.nodes&&l.nodes.length&&l.last.type==="decl"&&(u=l.raws.semicolon,typeof u<"u"))return!1}),u}rawValue(o,u){let l=o[u],c=o.raws[u];return c&&c.value===l?c.raw:l}root(o){this.body(o),o.raws.after&&this.builder(o.raws.after)}rule(o){this.block(o,this.rawValue(o,"selector")),o.raws.ownSemicolon&&this.builder(o.raws.ownSemicolon,o,"end")}stringify(o,u){if(!this[o.type])throw new Error("Unknown AST node type "+o.type+". Maybe you need to change PostCSS stringifier.");this[o.type](o,u)}}return stringifier=n,n.default=n,stringifier}var stringify_1,hasRequiredStringify;function requireStringify(){if(hasRequiredStringify)return stringify_1;hasRequiredStringify=1;let t=requireStringifier();function e(n,i){new t(i).stringify(n)}return stringify_1=e,e.default=e,stringify_1}var symbols={},hasRequiredSymbols;function requireSymbols(){return hasRequiredSymbols||(hasRequiredSymbols=1,symbols.isClean=Symbol("isClean"),symbols.my=Symbol("my")),symbols}var node$1,hasRequiredNode;function requireNode(){if(hasRequiredNode)return node$1;hasRequiredNode=1;let t=requireCssSyntaxError(),e=requireStringifier(),n=requireStringify(),{isClean:i,my:o}=requireSymbols();function u(f,d){let m=new f.constructor;for(let g in f){if(!Object.prototype.hasOwnProperty.call(f,g)||g==="proxyCache")continue;let v=f[g],y=typeof v;g==="parent"&&y==="object"?d&&(m[g]=d):g==="source"?m[g]=v:Array.isArray(v)?m[g]=v.map(w=>u(w,m)):(y==="object"&&v!==null&&(v=u(v)),m[g]=v)}return m}function l(f,d){if(d&&typeof d.offset<"u")return d.offset;let m=1,g=1,v=0;for(let y=0;y<f.length;y++){if(g===d.line&&m===d.column){v=y;break}f[y]===`
`?(m=1,g+=1):m+=1}return v}class c{get proxyOf(){return this}constructor(d={}){this.raws={},this[i]=!1,this[o]=!0;for(let m in d)if(m==="nodes"){this.nodes=[];for(let g of d[m])typeof g.clone=="function"?this.append(g.clone()):this.append(g)}else this[m]=d[m]}addToError(d){if(d.postcssNode=this,d.stack&&this.source&&/\n\s{4}at /.test(d.stack)){let m=this.source;d.stack=d.stack.replace(/\n\s{4}at /,`$&${m.input.from}:${m.start.line}:${m.start.column}$&`)}return d}after(d){return this.parent.insertAfter(this,d),this}assign(d={}){for(let m in d)this[m]=d[m];return this}before(d){return this.parent.insertBefore(this,d),this}cleanRaws(d){delete this.raws.before,delete this.raws.after,d||delete this.raws.between}clone(d={}){let m=u(this);for(let g in d)m[g]=d[g];return m}cloneAfter(d={}){let m=this.clone(d);return this.parent.insertAfter(this,m),m}cloneBefore(d={}){let m=this.clone(d);return this.parent.insertBefore(this,m),m}error(d,m={}){if(this.source){let{end:g,start:v}=this.rangeBy(m);return this.source.input.error(d,{column:v.column,line:v.line},{column:g.column,line:g.line},m)}return new t(d)}getProxyProcessor(){return{get(d,m){return m==="proxyOf"?d:m==="root"?()=>d.root().toProxy():d[m]},set(d,m,g){return d[m]===g||(d[m]=g,(m==="prop"||m==="value"||m==="name"||m==="params"||m==="important"||m==="text")&&d.markDirty()),!0}}}markClean(){this[i]=!0}markDirty(){if(this[i]){this[i]=!1;let d=this;for(;d=d.parent;)d[i]=!1}}next(){if(!this.parent)return;let d=this.parent.index(this);return this.parent.nodes[d+1]}positionBy(d={}){let m=this.source.start;if(d.index)m=this.positionInside(d.index);else if(d.word){let g="document"in this.source.input?this.source.input.document:this.source.input.css,y=g.slice(l(g,this.source.start),l(g,this.source.end)).indexOf(d.word);y!==-1&&(m=this.positionInside(y))}return m}positionInside(d){let m=this.source.start.column,g=this.source.start.line,v="document"in this.source.input?this.source.input.document:this.source.input.css,y=l(v,this.source.start),w=y+d;for(let T=y;T<w;T++)v[T]===`
`?(m=1,g+=1):m+=1;return{column:m,line:g,offset:w}}prev(){if(!this.parent)return;let d=this.parent.index(this);return this.parent.nodes[d-1]}rangeBy(d={}){let m="document"in this.source.input?this.source.input.document:this.source.input.css,g={column:this.source.start.column,line:this.source.start.line,offset:l(m,this.source.start)},v=this.source.end?{column:this.source.end.column+1,line:this.source.end.line,offset:typeof this.source.end.offset=="number"?this.source.end.offset:l(m,this.source.end)+1}:{column:g.column+1,line:g.line,offset:g.offset+1};if(d.word){let w=m.slice(l(m,this.source.start),l(m,this.source.end)).indexOf(d.word);w!==-1&&(g=this.positionInside(w),v=this.positionInside(w+d.word.length))}else d.start?g={column:d.start.column,line:d.start.line,offset:l(m,d.start)}:d.index&&(g=this.positionInside(d.index)),d.end?v={column:d.end.column,line:d.end.line,offset:l(m,d.end)}:typeof d.endIndex=="number"?v=this.positionInside(d.endIndex):d.index&&(v=this.positionInside(d.index+1));return(v.line<g.line||v.line===g.line&&v.column<=g.column)&&(v={column:g.column+1,line:g.line,offset:g.offset+1}),{end:v,start:g}}raw(d,m){return new e().raw(this,d,m)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...d){if(this.parent){let m=this,g=!1;for(let v of d)v===this?g=!0:g?(this.parent.insertAfter(m,v),m=v):this.parent.insertBefore(m,v);g||this.remove()}return this}root(){let d=this;for(;d.parent&&d.parent.type!=="document";)d=d.parent;return d}toJSON(d,m){let g={},v=m==null;m=m||new Map;let y=0;for(let w in this){if(!Object.prototype.hasOwnProperty.call(this,w)||w==="parent"||w==="proxyCache")continue;let T=this[w];if(Array.isArray(T))g[w]=T.map(P=>typeof P=="object"&&P.toJSON?P.toJSON(null,m):P);else if(typeof T=="object"&&T.toJSON)g[w]=T.toJSON(null,m);else if(w==="source"){if(T==null)continue;let P=m.get(T.input);P==null&&(P=y,m.set(T.input,y),y++),g[w]={end:T.end,inputId:P,start:T.start}}else g[w]=T}return v&&(g.inputs=[...m.keys()].map(w=>w.toJSON())),g}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(d=n){d.stringify&&(d=d.stringify);let m="";return d(this,g=>{m+=g}),m}warn(d,m,g={}){let v={node:this};for(let y in g)v[y]=g[y];return d.warn(m,v)}}return node$1=c,c.default=c,node$1}var comment$1,hasRequiredComment;function requireComment(){if(hasRequiredComment)return comment$1;hasRequiredComment=1;let t=requireNode();class e extends t{constructor(i){super(i),this.type="comment"}}return comment$1=e,e.default=e,comment$1}var declaration,hasRequiredDeclaration;function requireDeclaration(){if(hasRequiredDeclaration)return declaration;hasRequiredDeclaration=1;let t=requireNode();class e extends t{get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}constructor(i){i&&typeof i.value<"u"&&typeof i.value!="string"&&(i={...i,value:String(i.value)}),super(i),this.type="decl"}}return declaration=e,e.default=e,declaration}var container,hasRequiredContainer;function requireContainer(){if(hasRequiredContainer)return container;hasRequiredContainer=1;let t=requireComment(),e=requireDeclaration(),n=requireNode(),{isClean:i,my:o}=requireSymbols(),u,l,c,f;function d(v){return v.map(y=>(y.nodes&&(y.nodes=d(y.nodes)),delete y.source,y))}function m(v){if(v[i]=!1,v.proxyOf.nodes)for(let y of v.proxyOf.nodes)m(y)}class g extends n{get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}append(...y){for(let w of y){let T=this.normalize(w,this.last);for(let P of T)this.proxyOf.nodes.push(P)}return this.markDirty(),this}cleanRaws(y){if(super.cleanRaws(y),this.nodes)for(let w of this.nodes)w.cleanRaws(y)}each(y){if(!this.proxyOf.nodes)return;let w=this.getIterator(),T,P;for(;this.indexes[w]<this.proxyOf.nodes.length&&(T=this.indexes[w],P=y(this.proxyOf.nodes[T],T),P!==!1);)this.indexes[w]+=1;return delete this.indexes[w],P}every(y){return this.nodes.every(y)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let y=this.lastEach;return this.indexes[y]=0,y}getProxyProcessor(){return{get(y,w){return w==="proxyOf"?y:y[w]?w==="each"||typeof w=="string"&&w.startsWith("walk")?(...T)=>y[w](...T.map(P=>typeof P=="function"?(A,D)=>P(A.toProxy(),D):P)):w==="every"||w==="some"?T=>y[w]((P,...A)=>T(P.toProxy(),...A)):w==="root"?()=>y.root().toProxy():w==="nodes"?y.nodes.map(T=>T.toProxy()):w==="first"||w==="last"?y[w].toProxy():y[w]:y[w]},set(y,w,T){return y[w]===T||(y[w]=T,(w==="name"||w==="params"||w==="selector")&&y.markDirty()),!0}}}index(y){return typeof y=="number"?y:(y.proxyOf&&(y=y.proxyOf),this.proxyOf.nodes.indexOf(y))}insertAfter(y,w){let T=this.index(y),P=this.normalize(w,this.proxyOf.nodes[T]).reverse();T=this.index(y);for(let D of P)this.proxyOf.nodes.splice(T+1,0,D);let A;for(let D in this.indexes)A=this.indexes[D],T<A&&(this.indexes[D]=A+P.length);return this.markDirty(),this}insertBefore(y,w){let T=this.index(y),P=T===0?"prepend":!1,A=this.normalize(w,this.proxyOf.nodes[T],P).reverse();T=this.index(y);for(let k of A)this.proxyOf.nodes.splice(T,0,k);let D;for(let k in this.indexes)D=this.indexes[k],T<=D&&(this.indexes[k]=D+A.length);return this.markDirty(),this}normalize(y,w){if(typeof y=="string")y=d(l(y).nodes);else if(typeof y>"u")y=[];else if(Array.isArray(y)){y=y.slice(0);for(let P of y)P.parent&&P.parent.removeChild(P,"ignore")}else if(y.type==="root"&&this.type!=="document"){y=y.nodes.slice(0);for(let P of y)P.parent&&P.parent.removeChild(P,"ignore")}else if(y.type)y=[y];else if(y.prop){if(typeof y.value>"u")throw new Error("Value field is missed in node creation");typeof y.value!="string"&&(y.value=String(y.value)),y=[new e(y)]}else if(y.selector||y.selectors)y=[new f(y)];else if(y.name)y=[new u(y)];else if(y.text)y=[new t(y)];else throw new Error("Unknown node type in node creation");return y.map(P=>(P[o]||g.rebuild(P),P=P.proxyOf,P.parent&&P.parent.removeChild(P),P[i]&&m(P),P.raws||(P.raws={}),typeof P.raws.before>"u"&&w&&typeof w.raws.before<"u"&&(P.raws.before=w.raws.before.replace(/\S/g,"")),P.parent=this.proxyOf,P))}prepend(...y){y=y.reverse();for(let w of y){let T=this.normalize(w,this.first,"prepend").reverse();for(let P of T)this.proxyOf.nodes.unshift(P);for(let P in this.indexes)this.indexes[P]=this.indexes[P]+T.length}return this.markDirty(),this}push(y){return y.parent=this,this.proxyOf.nodes.push(y),this}removeAll(){for(let y of this.proxyOf.nodes)y.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(y){y=this.index(y),this.proxyOf.nodes[y].parent=void 0,this.proxyOf.nodes.splice(y,1);let w;for(let T in this.indexes)w=this.indexes[T],w>=y&&(this.indexes[T]=w-1);return this.markDirty(),this}replaceValues(y,w,T){return T||(T=w,w={}),this.walkDecls(P=>{w.props&&!w.props.includes(P.prop)||w.fast&&!P.value.includes(w.fast)||(P.value=P.value.replace(y,T))}),this.markDirty(),this}some(y){return this.nodes.some(y)}walk(y){return this.each((w,T)=>{let P;try{P=y(w,T)}catch(A){throw w.addToError(A)}return P!==!1&&w.walk&&(P=w.walk(y)),P})}walkAtRules(y,w){return w?y instanceof RegExp?this.walk((T,P)=>{if(T.type==="atrule"&&y.test(T.name))return w(T,P)}):this.walk((T,P)=>{if(T.type==="atrule"&&T.name===y)return w(T,P)}):(w=y,this.walk((T,P)=>{if(T.type==="atrule")return w(T,P)}))}walkComments(y){return this.walk((w,T)=>{if(w.type==="comment")return y(w,T)})}walkDecls(y,w){return w?y instanceof RegExp?this.walk((T,P)=>{if(T.type==="decl"&&y.test(T.prop))return w(T,P)}):this.walk((T,P)=>{if(T.type==="decl"&&T.prop===y)return w(T,P)}):(w=y,this.walk((T,P)=>{if(T.type==="decl")return w(T,P)}))}walkRules(y,w){return w?y instanceof RegExp?this.walk((T,P)=>{if(T.type==="rule"&&y.test(T.selector))return w(T,P)}):this.walk((T,P)=>{if(T.type==="rule"&&T.selector===y)return w(T,P)}):(w=y,this.walk((T,P)=>{if(T.type==="rule")return w(T,P)}))}}return g.registerParse=v=>{l=v},g.registerRule=v=>{f=v},g.registerAtRule=v=>{u=v},g.registerRoot=v=>{c=v},container=g,g.default=g,g.rebuild=v=>{v.type==="atrule"?Object.setPrototypeOf(v,u.prototype):v.type==="rule"?Object.setPrototypeOf(v,f.prototype):v.type==="decl"?Object.setPrototypeOf(v,e.prototype):v.type==="comment"?Object.setPrototypeOf(v,t.prototype):v.type==="root"&&Object.setPrototypeOf(v,c.prototype),v[o]=!0,v.nodes&&v.nodes.forEach(y=>{g.rebuild(y)})},container}var atRule,hasRequiredAtRule;function requireAtRule(){if(hasRequiredAtRule)return atRule;hasRequiredAtRule=1;let t=requireContainer();class e extends t{constructor(i){super(i),this.type="atrule"}append(...i){return this.proxyOf.nodes||(this.nodes=[]),super.append(...i)}prepend(...i){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...i)}}return atRule=e,e.default=e,t.registerAtRule(e),atRule}var document$1,hasRequiredDocument;function requireDocument(){if(hasRequiredDocument)return document$1;hasRequiredDocument=1;let t=requireContainer(),e,n;class i extends t{constructor(u){super({type:"document",...u}),this.nodes||(this.nodes=[])}toResult(u={}){return new e(new n,this,u).stringify()}}return i.registerLazyResult=o=>{e=o},i.registerProcessor=o=>{n=o},document$1=i,i.default=i,document$1}var nonSecure,hasRequiredNonSecure;function requireNonSecure(){if(hasRequiredNonSecure)return nonSecure;hasRequiredNonSecure=1;let t="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";return nonSecure={nanoid:(i=21)=>{let o="",u=i|0;for(;u--;)o+=t[Math.random()*64|0];return o},customAlphabet:(i,o=21)=>(u=o)=>{let l="",c=u|0;for(;c--;)l+=i[Math.random()*i.length|0];return l}},nonSecure}var previousMap,hasRequiredPreviousMap;function requirePreviousMap(){if(hasRequiredPreviousMap)return previousMap;hasRequiredPreviousMap=1;let{existsSync:t,readFileSync:e}=require$$2,{dirname:n,join:i}=require$$2,{SourceMapConsumer:o,SourceMapGenerator:u}=require$$2;function l(f){return Buffer?Buffer.from(f,"base64").toString():window.atob(f)}class c{constructor(d,m){if(m.map===!1)return;this.loadAnnotation(d),this.inline=this.startWith(this.annotation,"data:");let g=m.map?m.map.prev:void 0,v=this.loadMap(m.from,g);!this.mapFile&&m.from&&(this.mapFile=m.from),this.mapFile&&(this.root=n(this.mapFile)),v&&(this.text=v)}consumer(){return this.consumerCache||(this.consumerCache=new o(this.text)),this.consumerCache}decodeInline(d){let m=/^data:application\/json;charset=utf-?8;base64,/,g=/^data:application\/json;base64,/,v=/^data:application\/json;charset=utf-?8,/,y=/^data:application\/json,/,w=d.match(v)||d.match(y);if(w)return decodeURIComponent(d.substr(w[0].length));let T=d.match(m)||d.match(g);if(T)return l(d.substr(T[0].length));let P=d.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+P)}getAnnotationURL(d){return d.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(d){return typeof d!="object"?!1:typeof d.mappings=="string"||typeof d._mappings=="string"||Array.isArray(d.sections)}loadAnnotation(d){let m=d.match(/\/\*\s*# sourceMappingURL=/g);if(!m)return;let g=d.lastIndexOf(m.pop()),v=d.indexOf("*/",g);g>-1&&v>-1&&(this.annotation=this.getAnnotationURL(d.substring(g,v)))}loadFile(d){if(this.root=n(d),t(d))return this.mapFile=d,e(d,"utf-8").toString().trim()}loadMap(d,m){if(m===!1)return!1;if(m){if(typeof m=="string")return m;if(typeof m=="function"){let g=m(d);if(g){let v=this.loadFile(g);if(!v)throw new Error("Unable to load previous source map: "+g.toString());return v}}else{if(m instanceof o)return u.fromSourceMap(m).toString();if(m instanceof u)return m.toString();if(this.isMap(m))return JSON.stringify(m);throw new Error("Unsupported previous source map format: "+m.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let g=this.annotation;return d&&(g=i(n(d),g)),this.loadFile(g)}}}startWith(d,m){return d?d.substr(0,m.length)===m:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}return previousMap=c,c.default=c,previousMap}var input$1,hasRequiredInput;function requireInput(){if(hasRequiredInput)return input$1;hasRequiredInput=1;let{nanoid:t}=requireNonSecure(),{isAbsolute:e,resolve:n}=require$$2,{SourceMapConsumer:i,SourceMapGenerator:o}=require$$2,{fileURLToPath:u,pathToFileURL:l}=require$$2,c=requireCssSyntaxError(),f=requirePreviousMap(),d=require$$2,m=Symbol("lineToIndexCache"),g=!!(i&&o),v=!!(n&&e);function y(T){if(T[m])return T[m];let P=T.css.split(`
`),A=new Array(P.length),D=0;for(let k=0,j=P.length;k<j;k++)A[k]=D,D+=P[k].length+1;return T[m]=A,A}class w{get from(){return this.file||this.id}constructor(P,A={}){if(P===null||typeof P>"u"||typeof P=="object"&&!P.toString)throw new Error(`PostCSS received ${P} instead of CSS string`);if(this.css=P.toString(),this.css[0]==="\uFEFF"||this.css[0]===""?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,this.document=this.css,A.document&&(this.document=A.document.toString()),A.from&&(!v||/^\w+:\/\//.test(A.from)||e(A.from)?this.file=A.from:this.file=n(A.from)),v&&g){let D=new f(this.css,A);if(D.text){this.map=D;let k=D.consumer().file;!this.file&&k&&(this.file=this.mapResolve(k))}}this.file||(this.id="<input css "+t(6)+">"),this.map&&(this.map.file=this.from)}error(P,A,D,k={}){let j,B,Z,R,G;if(A&&typeof A=="object"){let K=A,Q=D;if(typeof K.offset=="number"){R=K.offset;let ie=this.fromOffset(R);A=ie.line,D=ie.col}else A=K.line,D=K.column,R=this.fromLineAndColumn(A,D);if(typeof Q.offset=="number"){Z=Q.offset;let ie=this.fromOffset(Z);B=ie.line,j=ie.col}else B=Q.line,j=Q.column,Z=this.fromLineAndColumn(Q.line,Q.column)}else if(D)R=this.fromLineAndColumn(A,D);else{R=A;let K=this.fromOffset(R);A=K.line,D=K.col}let F=this.origin(A,D,B,j);return F?G=new c(P,F.endLine===void 0?F.line:{column:F.column,line:F.line},F.endLine===void 0?F.column:{column:F.endColumn,line:F.endLine},F.source,F.file,k.plugin):G=new c(P,B===void 0?A:{column:D,line:A},B===void 0?D:{column:j,line:B},this.css,this.file,k.plugin),G.input={column:D,endColumn:j,endLine:B,endOffset:Z,line:A,offset:R,source:this.css},this.file&&(l&&(G.input.url=l(this.file).toString()),G.input.file=this.file),G}fromLineAndColumn(P,A){return y(this)[P-1]+A-1}fromOffset(P){let A=y(this),D=A[A.length-1],k=0;if(P>=D)k=A.length-1;else{let j=A.length-2,B;for(;k<j;)if(B=k+(j-k>>1),P<A[B])j=B-1;else if(P>=A[B+1])k=B+1;else{k=B;break}}return{col:P-A[k]+1,line:k+1}}mapResolve(P){return/^\w+:\/\//.test(P)?P:n(this.map.consumer().sourceRoot||this.map.root||".",P)}origin(P,A,D,k){if(!this.map)return!1;let j=this.map.consumer(),B=j.originalPositionFor({column:A,line:P});if(!B.source)return!1;let Z;typeof D=="number"&&(Z=j.originalPositionFor({column:k,line:D}));let R;e(B.source)?R=l(B.source):R=new URL(B.source,this.map.consumer().sourceRoot||l(this.map.mapFile));let G={column:B.column,endColumn:Z&&Z.column,endLine:Z&&Z.line,line:B.line,url:R.toString()};if(R.protocol==="file:")if(u)G.file=u(R);else throw new Error("file: protocol is not available in this PostCSS build");let F=j.sourceContentFor(B.source);return F&&(G.source=F),G}toJSON(){let P={};for(let A of["hasBOM","css","file","id"])this[A]!=null&&(P[A]=this[A]);return this.map&&(P.map={...this.map},P.map.consumerCache&&(P.map.consumerCache=void 0)),P}}return input$1=w,w.default=w,d&&d.registerInput&&d.registerInput(w),input$1}var root$6,hasRequiredRoot;function requireRoot(){if(hasRequiredRoot)return root$6;hasRequiredRoot=1;let t=requireContainer(),e,n;class i extends t{constructor(u){super(u),this.type="root",this.nodes||(this.nodes=[])}normalize(u,l,c){let f=super.normalize(u);if(l){if(c==="prepend")this.nodes.length>1?l.raws.before=this.nodes[1].raws.before:delete l.raws.before;else if(this.first!==l)for(let d of f)d.raws.before=l.raws.before}return f}removeChild(u,l){let c=this.index(u);return!l&&c===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[c].raws.before),super.removeChild(u)}toResult(u={}){return new e(new n,this,u).stringify()}}return i.registerLazyResult=o=>{e=o},i.registerProcessor=o=>{n=o},root$6=i,i.default=i,t.registerRoot(i),root$6}var list_1,hasRequiredList;function requireList(){if(hasRequiredList)return list_1;hasRequiredList=1;let t={comma(e){return t.split(e,[","],!0)},space(e){let n=[" ",`
`,"	"];return t.split(e,n)},split(e,n,i){let o=[],u="",l=!1,c=0,f=!1,d="",m=!1;for(let g of e)m?m=!1:g==="\\"?m=!0:f?g===d&&(f=!1):g==='"'||g==="'"?(f=!0,d=g):g==="("?c+=1:g===")"?c>0&&(c-=1):c===0&&n.includes(g)&&(l=!0),l?(u!==""&&o.push(u.trim()),u="",l=!1):u+=g;return(i||u!=="")&&o.push(u.trim()),o}};return list_1=t,t.default=t,list_1}var rule,hasRequiredRule;function requireRule(){if(hasRequiredRule)return rule;hasRequiredRule=1;let t=requireContainer(),e=requireList();class n extends t{get selectors(){return e.comma(this.selector)}set selectors(o){let u=this.selector?this.selector.match(/,\s*/):null,l=u?u[0]:","+this.raw("between","beforeOpen");this.selector=o.join(l)}constructor(o){super(o),this.type="rule",this.nodes||(this.nodes=[])}}return rule=n,n.default=n,t.registerRule(n),rule}var fromJSON_1,hasRequiredFromJSON;function requireFromJSON(){if(hasRequiredFromJSON)return fromJSON_1;hasRequiredFromJSON=1;let t=requireAtRule(),e=requireComment(),n=requireDeclaration(),i=requireInput(),o=requirePreviousMap(),u=requireRoot(),l=requireRule();function c(f,d){if(Array.isArray(f))return f.map(v=>c(v));let{inputs:m,...g}=f;if(m){d=[];for(let v of m){let y={...v,__proto__:i.prototype};y.map&&(y.map={...y.map,__proto__:o.prototype}),d.push(y)}}if(g.nodes&&(g.nodes=f.nodes.map(v=>c(v,d))),g.source){let{inputId:v,...y}=g.source;g.source=y,v!=null&&(g.source.input=d[v])}if(g.type==="root")return new u(g);if(g.type==="decl")return new n(g);if(g.type==="rule")return new l(g);if(g.type==="comment")return new e(g);if(g.type==="atrule")return new t(g);throw new Error("Unknown node type: "+f.type)}return fromJSON_1=c,c.default=c,fromJSON_1}var mapGenerator,hasRequiredMapGenerator;function requireMapGenerator(){if(hasRequiredMapGenerator)return mapGenerator;hasRequiredMapGenerator=1;let{dirname:t,relative:e,resolve:n,sep:i}=require$$2,{SourceMapConsumer:o,SourceMapGenerator:u}=require$$2,{pathToFileURL:l}=require$$2,c=requireInput(),f=!!(o&&u),d=!!(t&&n&&e&&i);class m{constructor(v,y,w,T){this.stringify=v,this.mapOpts=w.map||{},this.root=y,this.opts=w,this.css=T,this.originalCSS=T,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let v;this.isInline()?v="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?v=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?v=this.mapOpts.annotation(this.opts.to,this.root):v=this.outputFile()+".map";let y=`
`;this.css.includes(`\r
`)&&(y=`\r
`),this.css+=y+"/*# sourceMappingURL="+v+" */"}applyPrevMaps(){for(let v of this.previous()){let y=this.toUrl(this.path(v.file)),w=v.root||t(v.file),T;this.mapOpts.sourcesContent===!1?(T=new o(v.text),T.sourcesContent&&(T.sourcesContent=null)):T=v.consumer(),this.map.applySourceMap(T,y,this.toUrl(this.path(w)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let v;for(let y=this.root.nodes.length-1;y>=0;y--)v=this.root.nodes[y],v.type==="comment"&&v.text.startsWith("# sourceMappingURL=")&&this.root.removeChild(y)}else this.css&&(this.css=this.css.replace(/\n*\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),d&&f&&this.isMap())return this.generateMap();{let v="";return this.stringify(this.root,y=>{v+=y}),[v]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let v=this.previous()[0].consumer();v.file=this.outputFile(),this.map=u.fromSourceMap(v,{ignoreInvalidMapping:!0})}else this.map=new u({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new u({file:this.outputFile(),ignoreInvalidMapping:!0});let v=1,y=1,w="<no source>",T={generated:{column:0,line:0},original:{column:0,line:0},source:""},P,A;this.stringify(this.root,(D,k,j)=>{if(this.css+=D,k&&j!=="end"&&(T.generated.line=v,T.generated.column=y-1,k.source&&k.source.start?(T.source=this.sourcePath(k),T.original.line=k.source.start.line,T.original.column=k.source.start.column-1,this.map.addMapping(T)):(T.source=w,T.original.line=1,T.original.column=0,this.map.addMapping(T))),A=D.match(/\n/g),A?(v+=A.length,P=D.lastIndexOf(`
`),y=D.length-P):y+=D.length,k&&j!=="start"){let B=k.parent||{raws:{}};(!(k.type==="decl"||k.type==="atrule"&&!k.nodes)||k!==B.last||B.raws.semicolon)&&(k.source&&k.source.end?(T.source=this.sourcePath(k),T.original.line=k.source.end.line,T.original.column=k.source.end.column-1,T.generated.line=v,T.generated.column=y-2,this.map.addMapping(T)):(T.source=w,T.original.line=1,T.original.column=0,T.generated.line=v,T.generated.column=y-1,this.map.addMapping(T)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(v=>v.annotation):!0}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let v=this.mapOpts.annotation;return typeof v<"u"&&v!==!0?!1:this.previous().length?this.previous().some(y=>y.inline):!0}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(v=>v.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(v){if(this.mapOpts.absolute||v.charCodeAt(0)===60||/^\w+:\/\//.test(v))return v;let y=this.memoizedPaths.get(v);if(y)return y;let w=this.opts.to?t(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(w=t(n(w,this.mapOpts.annotation)));let T=e(w,v);return this.memoizedPaths.set(v,T),T}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(v=>{if(v.source&&v.source.input.map){let y=v.source.input.map;this.previousMaps.includes(y)||this.previousMaps.push(y)}});else{let v=new c(this.originalCSS,this.opts);v.map&&this.previousMaps.push(v.map)}return this.previousMaps}setSourcesContent(){let v={};if(this.root)this.root.walk(y=>{if(y.source){let w=y.source.input.from;if(w&&!v[w]){v[w]=!0;let T=this.usesFileUrls?this.toFileUrl(w):this.toUrl(this.path(w));this.map.setSourceContent(T,y.source.input.css)}}});else if(this.css){let y=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(y,this.css)}}sourcePath(v){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(v.source.input.from):this.toUrl(this.path(v.source.input.from))}toBase64(v){return Buffer?Buffer.from(v).toString("base64"):window.btoa(unescape(encodeURIComponent(v)))}toFileUrl(v){let y=this.memoizedFileURLs.get(v);if(y)return y;if(l){let w=l(v).toString();return this.memoizedFileURLs.set(v,w),w}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(v){let y=this.memoizedURLs.get(v);if(y)return y;i==="\\"&&(v=v.replace(/\\/g,"/"));let w=encodeURI(v).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(v,w),w}}return mapGenerator=m,mapGenerator}var tokenize,hasRequiredTokenize;function requireTokenize(){if(hasRequiredTokenize)return tokenize;hasRequiredTokenize=1;const t=39,e=34,n=92,i=47,o=10,u=32,l=12,c=9,f=13,d=91,m=93,g=40,v=41,y=123,w=125,T=59,P=42,A=58,D=64,k=/[\t\n\f\r "#'()/;[\\\]{}]/g,j=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,B=/.[\r\n"'(/\\]/,Z=/[\da-f]/i;return tokenize=function(G,F={}){let K=G.css.valueOf(),Q=F.ignoreErrors,ie,te,oe,le,de,ge,_e,we,Me,xe,Re=K.length,Se=0,Ge=[],Qe=[];function Je(){return Se}function Xe(De){throw G.error("Unclosed "+De,Se)}function gt(){return Qe.length===0&&Se>=Re}function Ct(De){if(Qe.length)return Qe.pop();if(Se>=Re)return;let Oe=De?De.ignoreUnclosed:!1;switch(ie=K.charCodeAt(Se),ie){case o:case u:case c:case f:case l:{le=Se;do le+=1,ie=K.charCodeAt(le);while(ie===u||ie===o||ie===c||ie===f||ie===l);ge=["space",K.slice(Se,le)],Se=le-1;break}case d:case m:case y:case w:case A:case T:case v:{let Be=String.fromCharCode(ie);ge=[Be,Be,Se];break}case g:{if(xe=Ge.length?Ge.pop()[1]:"",Me=K.charCodeAt(Se+1),xe==="url"&&Me!==t&&Me!==e&&Me!==u&&Me!==o&&Me!==c&&Me!==l&&Me!==f){le=Se;do{if(_e=!1,le=K.indexOf(")",le+1),le===-1)if(Q||Oe){le=Se;break}else Xe("bracket");for(we=le;K.charCodeAt(we-1)===n;)we-=1,_e=!_e}while(_e);ge=["brackets",K.slice(Se,le+1),Se,le],Se=le}else le=K.indexOf(")",Se+1),te=K.slice(Se,le+1),le===-1||B.test(te)?ge=["(","(",Se]:(ge=["brackets",te,Se,le],Se=le);break}case t:case e:{de=ie===t?"'":'"',le=Se;do{if(_e=!1,le=K.indexOf(de,le+1),le===-1)if(Q||Oe){le=Se+1;break}else Xe("string");for(we=le;K.charCodeAt(we-1)===n;)we-=1,_e=!_e}while(_e);ge=["string",K.slice(Se,le+1),Se,le],Se=le;break}case D:{k.lastIndex=Se+1,k.test(K),k.lastIndex===0?le=K.length-1:le=k.lastIndex-2,ge=["at-word",K.slice(Se,le+1),Se,le],Se=le;break}case n:{for(le=Se,oe=!0;K.charCodeAt(le+1)===n;)le+=1,oe=!oe;if(ie=K.charCodeAt(le+1),oe&&ie!==i&&ie!==u&&ie!==o&&ie!==c&&ie!==f&&ie!==l&&(le+=1,Z.test(K.charAt(le)))){for(;Z.test(K.charAt(le+1));)le+=1;K.charCodeAt(le+1)===u&&(le+=1)}ge=["word",K.slice(Se,le+1),Se,le],Se=le;break}default:{ie===i&&K.charCodeAt(Se+1)===P?(le=K.indexOf("*/",Se+2)+1,le===0&&(Q||Oe?le=K.length:Xe("comment")),ge=["comment",K.slice(Se,le+1),Se,le],Se=le):(j.lastIndex=Se+1,j.test(K),j.lastIndex===0?le=K.length-1:le=j.lastIndex-2,ge=["word",K.slice(Se,le+1),Se,le],Ge.push(ge),Se=le);break}}return Se++,ge}function ar(De){Qe.push(De)}return{back:ar,endOfFile:gt,nextToken:Ct,position:Je}},tokenize}var parser$3,hasRequiredParser;function requireParser(){if(hasRequiredParser)return parser$3;hasRequiredParser=1;let t=requireAtRule(),e=requireComment(),n=requireDeclaration(),i=requireRoot(),o=requireRule(),u=requireTokenize();const l={empty:!0,space:!0};function c(d){for(let m=d.length-1;m>=0;m--){let g=d[m],v=g[3]||g[2];if(v)return v}}class f{constructor(m){this.input=m,this.root=new i,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:m,start:{column:1,line:1,offset:0}}}atrule(m){let g=new t;g.name=m[1].slice(1),g.name===""&&this.unnamedAtrule(g,m),this.init(g,m[2]);let v,y,w,T=!1,P=!1,A=[],D=[];for(;!this.tokenizer.endOfFile();){if(m=this.tokenizer.nextToken(),v=m[0],v==="("||v==="["?D.push(v==="("?")":"]"):v==="{"&&D.length>0?D.push("}"):v===D[D.length-1]&&D.pop(),D.length===0)if(v===";"){g.source.end=this.getPosition(m[2]),g.source.end.offset++,this.semicolon=!0;break}else if(v==="{"){P=!0;break}else if(v==="}"){if(A.length>0){for(w=A.length-1,y=A[w];y&&y[0]==="space";)y=A[--w];y&&(g.source.end=this.getPosition(y[3]||y[2]),g.source.end.offset++)}this.end(m);break}else A.push(m);else A.push(m);if(this.tokenizer.endOfFile()){T=!0;break}}g.raws.between=this.spacesAndCommentsFromEnd(A),A.length?(g.raws.afterName=this.spacesAndCommentsFromStart(A),this.raw(g,"params",A),T&&(m=A[A.length-1],g.source.end=this.getPosition(m[3]||m[2]),g.source.end.offset++,this.spaces=g.raws.between,g.raws.between="")):(g.raws.afterName="",g.params=""),P&&(g.nodes=[],this.current=g)}checkMissedSemicolon(m){let g=this.colon(m);if(g===!1)return;let v=0,y;for(let w=g-1;w>=0&&(y=m[w],!(y[0]!=="space"&&(v+=1,v===2)));w--);throw this.input.error("Missed semicolon",y[0]==="word"?y[3]+1:y[2])}colon(m){let g=0,v,y,w;for(let[T,P]of m.entries()){if(y=P,w=y[0],w==="("&&(g+=1),w===")"&&(g-=1),g===0&&w===":")if(!v)this.doubleColon(y);else{if(v[0]==="word"&&v[1]==="progid")continue;return T}v=y}return!1}comment(m){let g=new e;this.init(g,m[2]),g.source.end=this.getPosition(m[3]||m[2]),g.source.end.offset++;let v=m[1].slice(2,-2);if(/^\s*$/.test(v))g.text="",g.raws.left=v,g.raws.right="";else{let y=v.match(/^(\s*)([^]*\S)(\s*)$/);g.text=y[2],g.raws.left=y[1],g.raws.right=y[3]}}createTokenizer(){this.tokenizer=u(this.input)}decl(m,g){let v=new n;this.init(v,m[0][2]);let y=m[m.length-1];for(y[0]===";"&&(this.semicolon=!0,m.pop()),v.source.end=this.getPosition(y[3]||y[2]||c(m)),v.source.end.offset++;m[0][0]!=="word";)m.length===1&&this.unknownWord(m),v.raws.before+=m.shift()[1];for(v.source.start=this.getPosition(m[0][2]),v.prop="";m.length;){let D=m[0][0];if(D===":"||D==="space"||D==="comment")break;v.prop+=m.shift()[1]}v.raws.between="";let w;for(;m.length;)if(w=m.shift(),w[0]===":"){v.raws.between+=w[1];break}else w[0]==="word"&&/\w/.test(w[1])&&this.unknownWord([w]),v.raws.between+=w[1];(v.prop[0]==="_"||v.prop[0]==="*")&&(v.raws.before+=v.prop[0],v.prop=v.prop.slice(1));let T=[],P;for(;m.length&&(P=m[0][0],!(P!=="space"&&P!=="comment"));)T.push(m.shift());this.precheckMissedSemicolon(m);for(let D=m.length-1;D>=0;D--){if(w=m[D],w[1].toLowerCase()==="!important"){v.important=!0;let k=this.stringFrom(m,D);k=this.spacesFromEnd(m)+k,k!==" !important"&&(v.raws.important=k);break}else if(w[1].toLowerCase()==="important"){let k=m.slice(0),j="";for(let B=D;B>0;B--){let Z=k[B][0];if(j.trim().startsWith("!")&&Z!=="space")break;j=k.pop()[1]+j}j.trim().startsWith("!")&&(v.important=!0,v.raws.important=j,m=k)}if(w[0]!=="space"&&w[0]!=="comment")break}m.some(D=>D[0]!=="space"&&D[0]!=="comment")&&(v.raws.between+=T.map(D=>D[1]).join(""),T=[]),this.raw(v,"value",T.concat(m),g),v.value.includes(":")&&!g&&this.checkMissedSemicolon(m)}doubleColon(m){throw this.input.error("Double colon",{offset:m[2]},{offset:m[2]+m[1].length})}emptyRule(m){let g=new o;this.init(g,m[2]),g.selector="",g.raws.between="",this.current=g}end(m){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(m[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(m)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(m){if(this.spaces+=m[1],this.current.nodes){let g=this.current.nodes[this.current.nodes.length-1];g&&g.type==="rule"&&!g.raws.ownSemicolon&&(g.raws.ownSemicolon=this.spaces,this.spaces="",g.source.end=this.getPosition(m[2]),g.source.end.offset+=g.raws.ownSemicolon.length)}}getPosition(m){let g=this.input.fromOffset(m);return{column:g.col,line:g.line,offset:m}}init(m,g){this.current.push(m),m.source={input:this.input,start:this.getPosition(g)},m.raws.before=this.spaces,this.spaces="",m.type!=="comment"&&(this.semicolon=!1)}other(m){let g=!1,v=null,y=!1,w=null,T=[],P=m[1].startsWith("--"),A=[],D=m;for(;D;){if(v=D[0],A.push(D),v==="("||v==="[")w||(w=D),T.push(v==="("?")":"]");else if(P&&y&&v==="{")w||(w=D),T.push("}");else if(T.length===0)if(v===";")if(y){this.decl(A,P);return}else break;else if(v==="{"){this.rule(A);return}else if(v==="}"){this.tokenizer.back(A.pop()),g=!0;break}else v===":"&&(y=!0);else v===T[T.length-1]&&(T.pop(),T.length===0&&(w=null));D=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(g=!0),T.length>0&&this.unclosedBracket(w),g&&y){if(!P)for(;A.length&&(D=A[A.length-1][0],!(D!=="space"&&D!=="comment"));)this.tokenizer.back(A.pop());this.decl(A,P)}else this.unknownWord(A)}parse(){let m;for(;!this.tokenizer.endOfFile();)switch(m=this.tokenizer.nextToken(),m[0]){case"space":this.spaces+=m[1];break;case";":this.freeSemicolon(m);break;case"}":this.end(m);break;case"comment":this.comment(m);break;case"at-word":this.atrule(m);break;case"{":this.emptyRule(m);break;default:this.other(m);break}this.endFile()}precheckMissedSemicolon(){}raw(m,g,v,y){let w,T,P=v.length,A="",D=!0,k,j;for(let B=0;B<P;B+=1)w=v[B],T=w[0],T==="space"&&B===P-1&&!y?D=!1:T==="comment"?(j=v[B-1]?v[B-1][0]:"empty",k=v[B+1]?v[B+1][0]:"empty",!l[j]&&!l[k]?A.slice(-1)===","?D=!1:A+=w[1]:D=!1):A+=w[1];if(!D){let B=v.reduce((Z,R)=>Z+R[1],"");m.raws[g]={raw:B,value:A}}m[g]=A}rule(m){m.pop();let g=new o;this.init(g,m[0][2]),g.raws.between=this.spacesAndCommentsFromEnd(m),this.raw(g,"selector",m),this.current=g}spacesAndCommentsFromEnd(m){let g,v="";for(;m.length&&(g=m[m.length-1][0],!(g!=="space"&&g!=="comment"));)v=m.pop()[1]+v;return v}spacesAndCommentsFromStart(m){let g,v="";for(;m.length&&(g=m[0][0],!(g!=="space"&&g!=="comment"));)v+=m.shift()[1];return v}spacesFromEnd(m){let g,v="";for(;m.length&&(g=m[m.length-1][0],g==="space");)v=m.pop()[1]+v;return v}stringFrom(m,g){let v="";for(let y=g;y<m.length;y++)v+=m[y][1];return m.splice(g,m.length-g),v}unclosedBlock(){let m=this.current.source.start;throw this.input.error("Unclosed block",m.line,m.column)}unclosedBracket(m){throw this.input.error("Unclosed bracket",{offset:m[2]},{offset:m[2]+1})}unexpectedClose(m){throw this.input.error("Unexpected }",{offset:m[2]},{offset:m[2]+1})}unknownWord(m){throw this.input.error("Unknown word "+m[0][1],{offset:m[0][2]},{offset:m[0][2]+m[0][1].length})}unnamedAtrule(m,g){throw this.input.error("At-rule without name",{offset:g[2]},{offset:g[2]+g[1].length})}}return parser$3=f,parser$3}var parse_1$1,hasRequiredParse$1;function requireParse$1(){if(hasRequiredParse$1)return parse_1$1;hasRequiredParse$1=1;let t=requireContainer(),e=requireInput(),n=requireParser();function i(o,u){let l=new e(o,u),c=new n(l);try{c.parse()}catch(f){throw f}return c.root}return parse_1$1=i,i.default=i,t.registerParse(i),parse_1$1}var warning,hasRequiredWarning;function requireWarning(){if(hasRequiredWarning)return warning;hasRequiredWarning=1;class t{constructor(n,i={}){if(this.type="warning",this.text=n,i.node&&i.node.source){let o=i.node.rangeBy(i);this.line=o.start.line,this.column=o.start.column,this.endLine=o.end.line,this.endColumn=o.end.column}for(let o in i)this[o]=i[o]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}return warning=t,t.default=t,warning}var result$1,hasRequiredResult;function requireResult(){if(hasRequiredResult)return result$1;hasRequiredResult=1;let t=requireWarning();class e{get content(){return this.css}constructor(i,o,u){this.processor=i,this.messages=[],this.root=o,this.opts=u,this.css="",this.map=void 0}toString(){return this.css}warn(i,o={}){o.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(o.plugin=this.lastPlugin.postcssPlugin);let u=new t(i,o);return this.messages.push(u),u}warnings(){return this.messages.filter(i=>i.type==="warning")}}return result$1=e,e.default=e,result$1}var lazyResult,hasRequiredLazyResult;function requireLazyResult(){if(hasRequiredLazyResult)return lazyResult;hasRequiredLazyResult=1;let t=requireContainer(),e=requireDocument(),n=requireMapGenerator(),i=requireParse$1(),o=requireResult(),u=requireRoot(),l=requireStringify(),{isClean:c,my:f}=requireSymbols();const d={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},m={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},g={Once:!0,postcssPlugin:!0,prepare:!0},v=0;function y(k){return typeof k=="object"&&typeof k.then=="function"}function w(k){let j=!1,B=d[k.type];return k.type==="decl"?j=k.prop.toLowerCase():k.type==="atrule"&&(j=k.name.toLowerCase()),j&&k.append?[B,B+"-"+j,v,B+"Exit",B+"Exit-"+j]:j?[B,B+"-"+j,B+"Exit",B+"Exit-"+j]:k.append?[B,v,B+"Exit"]:[B,B+"Exit"]}function T(k){let j;return k.type==="document"?j=["Document",v,"DocumentExit"]:k.type==="root"?j=["Root",v,"RootExit"]:j=w(k),{eventIndex:0,events:j,iterator:0,node:k,visitorIndex:0,visitors:[]}}function P(k){return k[c]=!1,k.nodes&&k.nodes.forEach(j=>P(j)),k}let A={};class D{get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}constructor(j,B,Z){this.stringified=!1,this.processed=!1;let R;if(typeof B=="object"&&B!==null&&(B.type==="root"||B.type==="document"))R=P(B);else if(B instanceof D||B instanceof o)R=P(B.root),B.map&&(typeof Z.map>"u"&&(Z.map={}),Z.map.inline||(Z.map.inline=!1),Z.map.prev=B.map);else{let G=i;Z.syntax&&(G=Z.syntax.parse),Z.parser&&(G=Z.parser),G.parse&&(G=G.parse);try{R=G(B,Z)}catch(F){this.processed=!0,this.error=F}R&&!R[f]&&t.rebuild(R)}this.result=new o(j,R,Z),this.helpers={...A,postcss:A,result:this.result},this.plugins=this.processor.plugins.map(G=>typeof G=="object"&&G.prepare?{...G,...G.prepare(this.result)}:G)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(j){return this.async().catch(j)}finally(j){return this.async().then(j,j)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(j,B){let Z=this.result.lastPlugin;try{B&&B.addToError(j),this.error=j,j.name==="CssSyntaxError"&&!j.plugin?(j.plugin=Z.postcssPlugin,j.setMessage()):Z.postcssVersion}catch(R){console&&console.error&&console.error(R)}return j}prepareVisitors(){this.listeners={};let j=(B,Z,R)=>{this.listeners[Z]||(this.listeners[Z]=[]),this.listeners[Z].push([B,R])};for(let B of this.plugins)if(typeof B=="object")for(let Z in B){if(!m[Z]&&/^[A-Z]/.test(Z))throw new Error(`Unknown event ${Z} in ${B.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!g[Z])if(typeof B[Z]=="object")for(let R in B[Z])R==="*"?j(B,Z,B[Z][R]):j(B,Z+"-"+R.toLowerCase(),B[Z][R]);else typeof B[Z]=="function"&&j(B,Z,B[Z])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let j=0;j<this.plugins.length;j++){let B=this.plugins[j],Z=this.runOnRoot(B);if(y(Z))try{await Z}catch(R){throw this.handleError(R)}}if(this.prepareVisitors(),this.hasListener){let j=this.result.root;for(;!j[c];){j[c]=!0;let B=[T(j)];for(;B.length>0;){let Z=this.visitTick(B);if(y(Z))try{await Z}catch(R){let G=B[B.length-1].node;throw this.handleError(R,G)}}}if(this.listeners.OnceExit)for(let[B,Z]of this.listeners.OnceExit){this.result.lastPlugin=B;try{if(j.type==="document"){let R=j.nodes.map(G=>Z(G,this.helpers));await Promise.all(R)}else await Z(j,this.helpers)}catch(R){throw this.handleError(R)}}}return this.processed=!0,this.stringify()}runOnRoot(j){this.result.lastPlugin=j;try{if(typeof j=="object"&&j.Once){if(this.result.root.type==="document"){let B=this.result.root.nodes.map(Z=>j.Once(Z,this.helpers));return y(B[0])?Promise.all(B):B}return j.Once(this.result.root,this.helpers)}else if(typeof j=="function")return j(this.result.root,this.result)}catch(B){throw this.handleError(B)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let j=this.result.opts,B=l;j.syntax&&(B=j.syntax.stringify),j.stringifier&&(B=j.stringifier),B.stringify&&(B=B.stringify);let R=new n(B,this.result.root,this.result.opts).generate();return this.result.css=R[0],this.result.map=R[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let j of this.plugins){let B=this.runOnRoot(j);if(y(B))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let j=this.result.root;for(;!j[c];)j[c]=!0,this.walkSync(j);if(this.listeners.OnceExit)if(j.type==="document")for(let B of j.nodes)this.visitSync(this.listeners.OnceExit,B);else this.visitSync(this.listeners.OnceExit,j)}return this.result}then(j,B){return this.async().then(j,B)}toString(){return this.css}visitSync(j,B){for(let[Z,R]of j){this.result.lastPlugin=Z;let G;try{G=R(B,this.helpers)}catch(F){throw this.handleError(F,B.proxyOf)}if(B.type!=="root"&&B.type!=="document"&&!B.parent)return!0;if(y(G))throw this.getAsyncError()}}visitTick(j){let B=j[j.length-1],{node:Z,visitors:R}=B;if(Z.type!=="root"&&Z.type!=="document"&&!Z.parent){j.pop();return}if(R.length>0&&B.visitorIndex<R.length){let[F,K]=R[B.visitorIndex];B.visitorIndex+=1,B.visitorIndex===R.length&&(B.visitors=[],B.visitorIndex=0),this.result.lastPlugin=F;try{return K(Z.toProxy(),this.helpers)}catch(Q){throw this.handleError(Q,Z)}}if(B.iterator!==0){let F=B.iterator,K;for(;K=Z.nodes[Z.indexes[F]];)if(Z.indexes[F]+=1,!K[c]){K[c]=!0,j.push(T(K));return}B.iterator=0,delete Z.indexes[F]}let G=B.events;for(;B.eventIndex<G.length;){let F=G[B.eventIndex];if(B.eventIndex+=1,F===v){Z.nodes&&Z.nodes.length&&(Z[c]=!0,B.iterator=Z.getIterator());return}else if(this.listeners[F]){B.visitors=this.listeners[F];return}}j.pop()}walkSync(j){j[c]=!0;let B=w(j);for(let Z of B)if(Z===v)j.nodes&&j.each(R=>{R[c]||this.walkSync(R)});else{let R=this.listeners[Z];if(R&&this.visitSync(R,j.toProxy()))return}}warnings(){return this.sync().warnings()}}return D.registerPostcss=k=>{A=k},lazyResult=D,D.default=D,u.registerLazyResult(D),e.registerLazyResult(D),lazyResult}var noWorkResult,hasRequiredNoWorkResult;function requireNoWorkResult(){if(hasRequiredNoWorkResult)return noWorkResult;hasRequiredNoWorkResult=1;let t=requireMapGenerator(),e=requireParse$1();const n=requireResult();let i=requireStringify();class o{get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let l,c=e;try{l=c(this._css,this._opts)}catch(f){this.error=f}if(this.error)throw this.error;return this._root=l,l}get[Symbol.toStringTag](){return"NoWorkResult"}constructor(l,c,f){c=c.toString(),this.stringified=!1,this._processor=l,this._css=c,this._opts=f,this._map=void 0;let d,m=i;this.result=new n(this._processor,d,this._opts),this.result.css=c;let g=this;Object.defineProperty(this.result,"root",{get(){return g.root}});let v=new t(m,d,this._opts,c);if(v.isMap()){let[y,w]=v.generate();y&&(this.result.css=y),w&&(this.result.map=w)}else v.clearAnnotation(),this.result.css=v.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(l){return this.async().catch(l)}finally(l){return this.async().then(l,l)}sync(){if(this.error)throw this.error;return this.result}then(l,c){return this.async().then(l,c)}toString(){return this._css}warnings(){return[]}}return noWorkResult=o,o.default=o,noWorkResult}var processor,hasRequiredProcessor;function requireProcessor(){if(hasRequiredProcessor)return processor;hasRequiredProcessor=1;let t=requireDocument(),e=requireLazyResult(),n=requireNoWorkResult(),i=requireRoot();class o{constructor(l=[]){this.version="8.5.6",this.plugins=this.normalize(l)}normalize(l){let c=[];for(let f of l)if(f.postcss===!0?f=f():f.postcss&&(f=f.postcss),typeof f=="object"&&Array.isArray(f.plugins))c=c.concat(f.plugins);else if(typeof f=="object"&&f.postcssPlugin)c.push(f);else if(typeof f=="function")c.push(f);else if(!(typeof f=="object"&&(f.parse||f.stringify)))throw new Error(f+" is not a PostCSS plugin");return c}process(l,c={}){return!this.plugins.length&&!c.parser&&!c.stringifier&&!c.syntax?new n(this,l,c):new e(this,l,c)}use(l){return this.plugins=this.plugins.concat(this.normalize([l])),this}}return processor=o,o.default=o,i.registerProcessor(o),t.registerProcessor(o),processor}var postcss_1,hasRequiredPostcss;function requirePostcss(){if(hasRequiredPostcss)return postcss_1;hasRequiredPostcss=1;var t={};let e=requireAtRule(),n=requireComment(),i=requireContainer(),o=requireCssSyntaxError(),u=requireDeclaration(),l=requireDocument(),c=requireFromJSON(),f=requireInput(),d=requireLazyResult(),m=requireList(),g=requireNode(),v=requireParse$1(),y=requireProcessor(),w=requireResult(),T=requireRoot(),P=requireRule(),A=requireStringify(),D=requireWarning();function k(...j){return j.length===1&&Array.isArray(j[0])&&(j=j[0]),new y(j)}return k.plugin=function(B,Z){let R=!1;function G(...K){console&&console.warn&&!R&&(R=!0,console.warn(B+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),t.LANG&&t.LANG.startsWith("cn")&&console.warn(B+`:  postcss.plugin . :
https://www.w3ctech.com/topic/2226`));let Q=Z(...K);return Q.postcssPlugin=B,Q.postcssVersion=new y().version,Q}let F;return Object.defineProperty(G,"postcss",{get(){return F||(F=G()),F}}),G.process=function(K,Q,ie){return k([G(ie)]).process(K,Q)},G},k.stringify=A,k.parse=v,k.fromJSON=c,k.list=m,k.comment=j=>new n(j),k.atRule=j=>new e(j),k.decl=j=>new u(j),k.rule=j=>new P(j),k.root=j=>new T(j),k.document=j=>new l(j),k.CssSyntaxError=o,k.Declaration=u,k.Container=i,k.Processor=y,k.Document=l,k.Comment=n,k.Warning=D,k.AtRule=e,k.Result=w,k.Input=f,k.Rule=P,k.Root=T,k.Node=g,d.registerPostcss(k),postcss_1=k,k.default=k,postcss_1}var sanitizeHtml_1$1,hasRequiredSanitizeHtml$1;function requireSanitizeHtml$1(){if(hasRequiredSanitizeHtml$1)return sanitizeHtml_1$1;hasRequiredSanitizeHtml$1=1;const t=requireLib$4(),e=requireEscapeStringRegexp(),{isPlainObject:n}=requireIsPlainObject(),i=requireCjs(),o=requireParseSrcset(),{parse:u}=requirePostcss(),l=["img","audio","video","picture","svg","object","map","iframe","embed"],c=["script","style"];function f(P,A){P&&Object.keys(P).forEach(function(D){A(P[D],D)})}function d(P,A){return{}.hasOwnProperty.call(P,A)}function m(P,A){const D=[];return f(P,function(k){A(k)&&D.push(k)}),D}function g(P){for(const A in P)if(d(P,A))return!1;return!0}function v(P){return P.map(function(A){if(!A.url)throw new Error("URL missing");return A.url+(A.w?` ${A.w}w`:"")+(A.h?` ${A.h}h`:"")+(A.d?` ${A.d}x`:"")}).join(", ")}sanitizeHtml_1$1=w;const y=/^[^\0\t\n\f\r /<=>]+$/;function w(P,A,D){if(P==null)return"";typeof P=="number"&&(P=P.toString());let k="",j="";function B(De,Oe){const Be=this;this.tag=De,this.attribs=Oe||{},this.tagPosition=k.length,this.text="",this.mediaChildren=[],this.updateParentNodeText=function(){if(de.length){const he=de[de.length-1];he.text+=Be.text}},this.updateParentNodeMediaChildren=function(){de.length&&l.includes(this.tag)&&de[de.length-1].mediaChildren.push(this.tag)}}A=Object.assign({},w.defaults,A),A.parser=Object.assign({},T,A.parser);const Z=function(De){return A.allowedTags===!1||(A.allowedTags||[]).indexOf(De)>-1};c.forEach(function(De){Z(De)&&!A.allowVulnerableTags&&console.warn(`

 Your \`allowedTags\` option includes, \`${De}\`, which is inherently
vulnerable to XSS attacks. Please remove it from \`allowedTags\`.
Or, to disable this warning, add the \`allowVulnerableTags\` option
and ensure you are accounting for this risk.

`)});const R=A.nonTextTags||["script","style","textarea","option"];let G,F;A.allowedAttributes&&(G={},F={},f(A.allowedAttributes,function(De,Oe){G[Oe]=[];const Be=[];De.forEach(function(he){typeof he=="string"&&he.indexOf("*")>=0?Be.push(e(he).replace(/\\\*/g,".*")):G[Oe].push(he)}),Be.length&&(F[Oe]=new RegExp("^("+Be.join("|")+")$"))}));const K={},Q={},ie={};f(A.allowedClasses,function(De,Oe){if(G&&(d(G,Oe)||(G[Oe]=[]),G[Oe].push("class")),K[Oe]=De,Array.isArray(De)){const Be=[];K[Oe]=[],ie[Oe]=[],De.forEach(function(he){typeof he=="string"&&he.indexOf("*")>=0?Be.push(e(he).replace(/\\\*/g,".*")):he instanceof RegExp?ie[Oe].push(he):K[Oe].push(he)}),Be.length&&(Q[Oe]=new RegExp("^("+Be.join("|")+")$"))}});const te={};let oe;f(A.transformTags,function(De,Oe){let Be;typeof De=="function"?Be=De:typeof De=="string"&&(Be=w.simpleTransform(De)),Oe==="*"?oe=Be:te[Oe]=Be});let le,de,ge,_e,we,Me,xe=!1;Se();const Re=new t.Parser({onopentag:function(De,Oe){if(A.enforceHtmlBoundary&&De==="html"&&Se(),we){Me++;return}const Be=new B(De,Oe);de.push(Be);let he=!1;const be=!!Be.text;let Ce;if(d(te,De)&&(Ce=te[De](De,Oe),Be.attribs=Oe=Ce.attribs,Ce.text!==void 0&&(Be.innerText=Ce.text),De!==Ce.tagName&&(Be.name=De=Ce.tagName,_e[le]=Ce.tagName)),oe&&(Ce=oe(De,Oe),Be.attribs=Oe=Ce.attribs,De!==Ce.tagName&&(Be.name=De=Ce.tagName,_e[le]=Ce.tagName)),(!Z(De)||A.disallowedTagsMode==="recursiveEscape"&&!g(ge)||A.nestingLimit!=null&&le>=A.nestingLimit)&&(he=!0,ge[le]=!0,A.disallowedTagsMode==="discard"&&R.indexOf(De)!==-1&&(we=!0,Me=1),ge[le]=!0),le++,he){if(A.disallowedTagsMode==="discard")return;j=k,k=""}k+="<"+De,De==="script"&&(A.allowedScriptHostnames||A.allowedScriptDomains)&&(Be.innerText=""),(!G||d(G,De)||G["*"])&&f(Oe,function(Le,Ue){if(!y.test(Ue)){delete Be.attribs[Ue];return}if(Le===""&&!A.allowedEmptyAttributes.includes(Ue)&&(A.nonBooleanAttributes.includes(Ue)||A.nonBooleanAttributes.includes("*"))){delete Be.attribs[Ue];return}let We=!1;if(!G||d(G,De)&&G[De].indexOf(Ue)!==-1||G["*"]&&G["*"].indexOf(Ue)!==-1||d(F,De)&&F[De].test(Ue)||F["*"]&&F["*"].test(Ue))We=!0;else if(G&&G[De]){for(const ot of G[De])if(n(ot)&&ot.name&&ot.name===Ue){We=!0;let Rt="";if(ot.multiple===!0){const Et=Le.split(" ");for(const yt of Et)ot.values.indexOf(yt)!==-1&&(Rt===""?Rt=yt:Rt+=" "+yt)}else ot.values.indexOf(Le)>=0&&(Rt=Le);Le=Rt}}if(We){if(A.allowedSchemesAppliedToAttributes.indexOf(Ue)!==-1&&Qe(De,Le)){delete Be.attribs[Ue];return}if(De==="script"&&Ue==="src"){let ot=!0;try{const Rt=Je(Le);if(A.allowedScriptHostnames||A.allowedScriptDomains){const Et=(A.allowedScriptHostnames||[]).find(function(Nt){return Nt===Rt.url.hostname}),yt=(A.allowedScriptDomains||[]).find(function(Nt){return Rt.url.hostname===Nt||Rt.url.hostname.endsWith(`.${Nt}`)});ot=Et||yt}}catch{ot=!1}if(!ot){delete Be.attribs[Ue];return}}if(De==="iframe"&&Ue==="src"){let ot=!0;try{const Rt=Je(Le);if(Rt.isRelativeUrl)ot=d(A,"allowIframeRelativeUrls")?A.allowIframeRelativeUrls:!A.allowedIframeHostnames&&!A.allowedIframeDomains;else if(A.allowedIframeHostnames||A.allowedIframeDomains){const Et=(A.allowedIframeHostnames||[]).find(function(Nt){return Nt===Rt.url.hostname}),yt=(A.allowedIframeDomains||[]).find(function(Nt){return Rt.url.hostname===Nt||Rt.url.hostname.endsWith(`.${Nt}`)});ot=Et||yt}}catch{ot=!1}if(!ot){delete Be.attribs[Ue];return}}if(Ue==="srcset")try{let ot=o(Le);if(ot.forEach(function(Rt){Qe("srcset",Rt.url)&&(Rt.evil=!0)}),ot=m(ot,function(Rt){return!Rt.evil}),ot.length)Le=v(m(ot,function(Rt){return!Rt.evil})),Be.attribs[Ue]=Le;else{delete Be.attribs[Ue];return}}catch{delete Be.attribs[Ue];return}if(Ue==="class"){const ot=K[De],Rt=K["*"],Et=Q[De],yt=ie[De],Nt=Q["*"],St=[Et,Nt].concat(yt).filter(function(kt){return kt});if(ot&&Rt?Le=ar(Le,i(ot,Rt),St):Le=ar(Le,ot||Rt,St),!Le.length){delete Be.attribs[Ue];return}}if(Ue==="style"){if(A.parseStyleAttributes)try{const ot=u(De+" {"+Le+"}",{map:!1}),Rt=Xe(ot,A.allowedStyles);if(Le=gt(Rt),Le.length===0){delete Be.attribs[Ue];return}}catch{typeof window<"u"&&console.warn('Failed to parse "'+De+" {"+Le+`}", If you're running this in a browser, we recommend to disable style parsing: options.parseStyleAttributes: false, since this only works in a node environment due to a postcss dependency, More info: https://github.com/apostrophecms/sanitize-html/issues/547`),delete Be.attribs[Ue];return}else if(A.allowedStyles)throw new Error("allowedStyles option cannot be used together with parseStyleAttributes: false.")}k+=" "+Ue,Le&&Le.length?k+='="'+Ge(Le,!0)+'"':A.allowedEmptyAttributes.includes(Ue)&&(k+='=""')}else delete Be.attribs[Ue]}),A.selfClosing.indexOf(De)!==-1?k+=" />":(k+=">",Be.innerText&&!be&&!A.textFilter&&(k+=Ge(Be.innerText),xe=!0)),he&&(k=j+Ge(k),j="")},ontext:function(De){if(we)return;const Oe=de[de.length-1];let Be;if(Oe&&(Be=Oe.tag,De=Oe.innerText!==void 0?Oe.innerText:De),A.disallowedTagsMode==="discard"&&(Be==="script"||Be==="style"))k+=De;else{const he=Ge(De,!1);A.textFilter&&!xe?k+=A.textFilter(he,Be):xe||(k+=he)}if(de.length){const he=de[de.length-1];he.text+=De}},onclosetag:function(De,Oe){if(we)if(Me--,!Me)we=!1;else return;const Be=de.pop();if(!Be)return;if(Be.tag!==De){de.push(Be);return}we=A.enforceHtmlBoundary?De==="html":!1,le--;const he=ge[le];if(he){if(delete ge[le],A.disallowedTagsMode==="discard"){Be.updateParentNodeText();return}j=k,k=""}if(_e[le]&&(De=_e[le],delete _e[le]),A.exclusiveFilter&&A.exclusiveFilter(Be)){k=k.substr(0,Be.tagPosition);return}if(Be.updateParentNodeMediaChildren(),Be.updateParentNodeText(),A.selfClosing.indexOf(De)!==-1||Oe&&!Z(De)&&["escape","recursiveEscape"].indexOf(A.disallowedTagsMode)>=0){he&&(k=j,j="");return}k+="</"+De+">",he&&(k=j+Ge(k),j=""),xe=!1}},A.parser);return Re.write(P),Re.end(),k;function Se(){k="",le=0,de=[],ge={},_e={},we=!1,Me=0}function Ge(De,Oe){return typeof De!="string"&&(De=De+""),A.parser.decodeEntities&&(De=De.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Oe&&(De=De.replace(/"/g,"&quot;"))),De=De.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Oe&&(De=De.replace(/"/g,"&quot;")),De}function Qe(De,Oe){for(Oe=Oe.replace(/[\x00-\x20]+/g,"");;){const be=Oe.indexOf("<!--");if(be===-1)break;const Ce=Oe.indexOf("-->",be+4);if(Ce===-1)break;Oe=Oe.substring(0,be)+Oe.substring(Ce+3)}const Be=Oe.match(/^([a-zA-Z][a-zA-Z0-9.\-+]*):/);if(!Be)return Oe.match(/^[/\\]{2}/)?!A.allowProtocolRelative:!1;const he=Be[1].toLowerCase();return d(A.allowedSchemesByTag,De)?A.allowedSchemesByTag[De].indexOf(he)===-1:!A.allowedSchemes||A.allowedSchemes.indexOf(he)===-1}function Je(De){if(De=De.replace(/^(\w+:)?\s*[\\/]\s*[\\/]/,"$1//"),De.startsWith("relative:"))throw new Error("relative: exploit attempt");let Oe="relative://relative-site";for(let be=0;be<100;be++)Oe+=`/${be}`;const Be=new URL(De,Oe);return{isRelativeUrl:Be&&Be.hostname==="relative-site"&&Be.protocol==="relative:",url:Be}}function Xe(De,Oe){if(!Oe)return De;const Be=De.nodes[0];let he;return Oe[Be.selector]&&Oe["*"]?he=i(Oe[Be.selector],Oe["*"]):he=Oe[Be.selector]||Oe["*"],he&&(De.nodes[0].nodes=Be.nodes.reduce(Ct(he),[])),De}function gt(De){return De.nodes[0].nodes.reduce(function(Oe,Be){return Oe.push(`${Be.prop}:${Be.value}${Be.important?" !important":""}`),Oe},[]).join(";")}function Ct(De){return function(Oe,Be){return d(De,Be.prop)&&De[Be.prop].some(function(be){return be.test(Be.value)})&&Oe.push(Be),Oe}}function ar(De,Oe,Be){return Oe?(De=De.split(/\s+/),De.filter(function(he){return Oe.indexOf(he)!==-1||Be.some(function(be){return be.test(he)})}).join(" ")):De}}const T={decodeEntities:!0};return w.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],nonBooleanAttributes:["abbr","accept","accept-charset","accesskey","action","allow","alt","as","autocapitalize","autocomplete","blocking","charset","cite","class","color","cols","colspan","content","contenteditable","coords","crossorigin","data","datetime","decoding","dir","dirname","download","draggable","enctype","enterkeyhint","fetchpriority","for","form","formaction","formenctype","formmethod","formtarget","headers","height","hidden","high","href","hreflang","http-equiv","id","imagesizes","imagesrcset","inputmode","integrity","is","itemid","itemprop","itemref","itemtype","kind","label","lang","list","loading","low","max","maxlength","media","method","min","minlength","name","nonce","optimum","pattern","ping","placeholder","popover","popovertarget","popovertargetaction","poster","preload","referrerpolicy","rel","rows","rowspan","sandbox","scope","shape","size","sizes","slot","span","spellcheck","src","srcdoc","srclang","srcset","start","step","style","tabindex","target","title","translate","type","usemap","value","width","wrap","onauxclick","onafterprint","onbeforematch","onbeforeprint","onbeforeunload","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onformdata","onhashchange","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onlanguagechange","onload","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmessageerror","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onoffline","ononline","onpagehide","onpageshow","onpaste","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreset","onresize","onrejectionhandled","onscroll","onscrollend","onsecuritypolicyviolation","onseeked","onseeking","onselect","onslotchange","onstalled","onstorage","onsubmit","onsuspend","ontimeupdate","ontoggle","onunhandledrejection","onunload","onvolumechange","onwaiting","onwheel"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src","srcset","alt","title","width","height","loading"]},allowedEmptyAttributes:["alt"],selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1,parseStyleAttributes:!0},w.simpleTransform=function(P,A,D){return D=D===void 0?!0:D,A=A||{},function(k,j){let B;if(D)for(B in A)j[B]=A[B];else j=A;return{tagName:P,attribs:j}}},sanitizeHtml_1$1}var sanitizeHtmlExports$1=requireSanitizeHtml$1();const sanitize$1=getDefaultExportFromCjs(sanitizeHtmlExports$1);class CssProp{static reg(e){return new RegExp("^"+e+"$","i")}}CssProp.N={integer:"[+-]?[0-9]+",integer_pos:"[+]?[0-9]+",integer_zero_ff:"([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",integer_non_zero:"[+-]?([1-9][0-9]*)",integer_pos_non_zero:"[+]?([1-9][0-9]*)",number:"[+-]?([0-9]*[.])?[0-9]+(e-?[0-9]*)?",number_pos:"[+]?([0-9]*[.])?[0-9]+(e-?[0-9]*)?",number_zero_hundred:"[+]?(([0-9]|[1-9][0-9])([.][0-9]+)?|100)",number_zero_one:"[+]?(1([.][0]+)?|0?([.][0-9]+)?)"};CssProp._B={angle:`(${CssProp.N.number}(deg|rad|grad|turn)|0)`,frequency:`${CssProp.N.number}(Hz|kHz)`,ident:String.raw`-?([_a-z]|[\xA0-\xFF]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\xA0-\xFF]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*`,len_or_perc:`(0|${CssProp.N.number}(px|em|rem|ex|in|cm|mm|pt|pc|%))`,length:`(${CssProp.N.number}(px|em|rem|ex|in|cm|mm|pt|pc)|0)`,length_pos:`(${CssProp.N.number_pos}(px|em|rem|ex|in|cm|mm|pt|pc)|0)`,percentage:`${CssProp.N.number}%`,percentage_pos:`${CssProp.N.number_pos}%`,percentage_zero_hundred:`${CssProp.N.number_zero_hundred}%`,string:String.raw`(\"([^\n\r\f\\"]|\\\n|\r\n|\r|\f|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*\")|(\'([^\n\r\f\\']|\\\n|\r\n|\r|\f|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*\')`,time:`${CssProp.N.number}(s|ms)`,url:"url\\(.*?\\)",z_index:"[+-]?[0-9]{1,7}"};CssProp._B1={flex:`(${CssProp.N.number}|${CssProp._B.len_or_perc}|none|auto)\\s*((${CssProp.N.number}|${CssProp._B.len_or_perc}|auto)\\s*){0,2}`,fixed_breadth:`${CssProp._B.len_or_perc}`,grid_line:`auto|${CssProp._B.ident}|(${CssProp.N.integer_non_zero}(\\s+${CssProp._B.ident})?)|(span\\s+(${CssProp.N.integer_pos_non_zero}|${CssProp._B.ident}))`,line_names:String.raw`\[\s*${CssProp._B.ident}(\s+${CssProp._B.ident})*\s*\]`};CssProp._B2={inflexible_breadth:`${CssProp._B.len_or_perc}|auto|min-content|max-content`,track_breadth:`${CssProp._B.len_or_perc}|${CssProp._B1.flex}|auto|min-content|max-content`};CssProp._B3={fixed_size:`${CssProp._B1.fixed_breadth}|minmax\\(\\s*${CssProp._B2.inflexible_breadth}\\s*,\\s*${CssProp._B1.fixed_breadth}\\s*\\)|minmax\\(\\s*${CssProp._B1.fixed_breadth}\\s*,\\s*${CssProp._B2.track_breadth}\\s*\\)`,track_size:`${CssProp._B2.track_breadth}|minmax\\(\\s*${CssProp._B2.inflexible_breadth}\\s*,\\s*${CssProp._B2.track_breadth}\\s*\\)|fit-content\\(\\s*(${CssProp._B.len_or_perc}\\s*)*\\)`};CssProp._B4={name_repeat:`repeat\\(\\s*(${CssProp.N.integer_pos_non_zero}|auto-fill)\\s*,\\s*(${CssProp._B1.line_names})+\\s*\\)`,auto_repeat:`repeat\\(\\s*(auto-fill|auto-fit)\\s*,\\s*((${CssProp._B1.line_names}\\s+)?${CssProp._B3.fixed_size}\\s*)+(${CssProp._B1.line_names})?\\s*\\)`,fixed_repeat:`repeat\\(\\s*(${CssProp.N.integer_pos_non_zero})\\s*,\\s*((${CssProp._B1.line_names}\\s+)?${CssProp._B3.fixed_size}\\s*)+(${CssProp._B1.line_names})?\\s*\\)`};CssProp._B5={auto_track_list:`(${CssProp._B1.line_names}\\s*)?(${CssProp._B3.fixed_size}|${CssProp._B4.fixed_repeat})*(${CssProp._B1.line_names}\\s*)?${CssProp._B4.auto_repeat}(${CssProp._B1.line_names}\\s*)?(${CssProp._B3.fixed_size}|${CssProp._B4.fixed_repeat})*(${CssProp._B1.line_names}\\s*)?`,explicit_track_list:`(${CssProp._B1.line_names}\\s*)?(${CssProp._B3.track_size})+(${CssProp._B1.line_names}\\s*)?`,track_list:`(${CssProp._B1.line_names}\\s*)?(${CssProp._B3.track_size}|${CssProp._B4.name_repeat})+(${CssProp._B1.line_names}\\s*)?`};CssProp._B6={grid_template_rows:`none|${CssProp._B5.track_list}|${CssProp._B5.auto_track_list}|subgrid\\s*(${CssProp._B1.line_names})?`,grid_template_columns:`none|${CssProp._B5.track_list}|${CssProp._B5.auto_track_list}|subgrid\\s*(${CssProp._B1.line_names})?`};CssProp.B={...CssProp._B,...CssProp._B1,...CssProp._B2,...CssProp._B3,...CssProp._B4,...CssProp._B5,...CssProp._B6};CssProp.A={absolute_size:"xx-small|x-small|small|medium|large|x-large|xx-large",attachment:"scroll|fixed|local",bg_origin:"border-box|padding-box|content-box",border_style:"none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset",box:"border-box|padding-box|content-box",display_inside:"auto|block|table|flex|grid",display_outside:"block-level|inline-level|none|table-row-group|table-header-group|table-footer-group|table-row|table-cell|table-column-group|table-column|table-caption",ending_shape:"circle|ellipse",generic_family:"serif|sans-serif|cursive|fantasy|monospace",generic_voice:"male|female|child",relative_size:"smaller|larger",repeat_style:"repeat-x|repeat-y|((?:repeat|space|round|no-repeat)(?:\\s*(?:repeat|space|round|no-repeat))?)",side_or_corner:"(left|right)?\\s*(top|bottom)?",single_animation_direction:"normal|reverse|alternate|alternate-reverse",single_animation_fill_mode:"none|forwards|backwards|both",single_animation_play_state:"running|paused"};CssProp._COLOR={hex:"\\#(0x)?[0-9a-f]+",name:"aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|transparent|violet|wheat|white|whitesmoke|yellow|yellowgreen",rgb:String.raw`rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)`,rgba:String.raw`rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(${CssProp.N.integer_zero_ff}|${CssProp.N.number_zero_one}|${CssProp.B.percentage_zero_hundred})\s*\)`};CssProp._C={alpha:`${CssProp.N.integer_zero_ff}|${CssProp.N.number_zero_one}|${CssProp.B.percentage_zero_hundred}`,alphavalue:CssProp.N.number_zero_one,bg_position:`((${CssProp.B.len_or_perc}|left|center|right|top|bottom)\\s*){1,4}`,bg_size:`(${CssProp.B.length_pos}|${CssProp.B.percentage}|auto){1,2}|cover|contain`,border_width:`thin|medium|thick|${CssProp.B.length}`,bottom:`${CssProp.B.length}|auto`,color:`${CssProp._COLOR.hex}|${CssProp._COLOR.rgb}|${CssProp._COLOR.rgba}|${CssProp._COLOR.name}`,color_stop_length:`(${CssProp.B.len_or_perc}\\s*){1,2}`,linear_color_hint:`${CssProp.B.len_or_perc}`,family_name:`${CssProp.B.string}|(${CssProp.B.ident}\\s*)+`,image_decl:CssProp.B.url,left:`${CssProp.B.length}|auto`,loose_quotable_words:`(${CssProp.B.ident})+`,margin_width:`${CssProp.B.len_or_perc}|auto`,padding_width:`${CssProp.B.length_pos}|${CssProp.B.percentage_pos}`,page_url:CssProp.B.url,position:`((${CssProp.B.len_or_perc}|left|center|right|top|bottom)\\s*){1,4}`,right:`${CssProp.B.length}|auto`,shadow:"",size:`closest-side|farthest-side|closest-corner|farthest-corner|${CssProp.B.length}|(${CssProp.B.len_or_perc})\\s+(${CssProp.B.len_or_perc})`,top:`${CssProp.B.length}|auto`};CssProp._C1={image_list:`image\\(\\s*(${CssProp.B.url})*\\s*(${CssProp.B.url}|${CssProp._C.color})\\s*\\)`,linear_color_stop:`(${CssProp._C.color})(\\s*${CssProp._C.color_stop_length})?`,shadow:`((${CssProp._C.color})\\s+((${CssProp.B.length})\\s*){2,4}(s+inset)?)|((inset\\s+)?((${CssProp.B.length})\\s*){2,4}\\s*(${CssProp._C.color})?)`};CssProp._C2={color_stop_list:`((${CssProp._C1.linear_color_stop})(\\s*(${CssProp._C.linear_color_hint}))?\\s*,\\s*)+(${CssProp._C1.linear_color_stop})`,shape:`rect\\(\\s*(${CssProp._C.top})\\s*,\\s*(${CssProp._C.right})\\s*,\\s*(${CssProp._C.bottom})\\s*,\\s*(${CssProp._C.left})\\s*\\)`};CssProp._C3={linear_gradient:`linear-gradient\\((((${CssProp.B.angle})|to\\s+(${CssProp.A.side_or_corner}))\\s*,\\s*)?\\s*(${CssProp._C2.color_stop_list})\\s*\\)`,radial_gradient:`radial-gradient\\(((((${CssProp.A.ending_shape})|(${CssProp._C.size}))\\s*)*\\s*(at\\s+${CssProp._C.position})?\\s*,\\s*)?\\s*(${CssProp._C2.color_stop_list})\\s*\\)`};CssProp._C4={image:`${CssProp.B.url}|${CssProp._C3.linear_gradient}|${CssProp._C3.radial_gradient}|${CssProp._C1.image_list}`,bg_image:`(${CssProp.B.url}|${CssProp._C3.linear_gradient}|${CssProp._C3.radial_gradient}|${CssProp._C1.image_list})|none`};CssProp.C={...CssProp._C,...CssProp._C1,...CssProp._C2,...CssProp._C3,...CssProp._C4};CssProp.AP={baseline_position:"baseline|first baseline|last baseline",border_collapse:"collapse|separate",box:"normal|none|contents",box_sizing:"content-box|padding-box|border-box",caption_side:"top|bottom",clear:"none|left|right|both",content_position:"start|end|center|flex-start|flex-end",content_distribution:"stretch|space-between|space-around|space-evenly",direction:"ltr|rtl",empty_cells:"show|hide",flex_direction:"row|row-reverse|column|column-reverse",flex_wrap:"nowrap|wrap|wrap-reverse",float:"left|right|none",font_stretch:"normal|wider|narrower|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",font_style:"normal|italic|oblique",font_variant:"normal|small-caps",font_weight:"normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900",list_style_position:"inside|outside",gap:"normal",grid_auto_flow:"row|column|dense|row dense|column dense",justify_content:"start|end|center|stretch|space-between|space-around|space-evenly",justify_items:"start|end|center|stretch",justify_self:"auto|start|end|center|stretch",list_style_type:"disc|circle|square|decimal|decimal-leading-zero|lower-roman|upper-roman|lower-greek|lower-latin|upper-latin|armenian|georgian|lower-alpha|upper-alpha|none",overflow:"visible|hidden|scroll|auto",overflow_position:"unsafe|safe",overflow_wrap:"normal|break-word",overflow_x:"visible|hidden|scroll|auto|no-display|no-content",page_break_after:"auto|always|avoid|left|right",page_break_before:"auto|always|avoid|left|right",page_break_inside:"avoid|auto",place_content:"(center|start|end|space-between|space-around|space-evenly|stretch){1,2}",place_items:"(center|start|end|baseline|stretch){1,2}",place_self:"(center|start|end|baseline|stretch){1,2}",position:"static|relative|absolute",resize:"none|both|horizontal|vertical",speak:"normal|none|spell-out",self_position:"center|start|end|self-start|self-end|flex-start|flex-end",speak_header:"once|always",speak_numeral:"digits|continuous",speak_punctuation:"code|none",table_layout:"auto|fixed",text_align:"left|right|center|justify",text_decoration:"none|((underline|overline|line-through|blink)\\s*)+",text_transform:"capitalize|uppercase|lowercase|none",text_wrap:"normal|unrestricted|none|suppress",unicode_bidi:"normal|embed|bidi-override",visibility:"visible|hidden|collapse",white_space:"normal|pre|nowrap|pre-wrap|pre-line",word_break:"normal|keep-all|break-all"};CssProp._CP={align_content:`normal|${CssProp.AP.baseline_position}|${CssProp.AP.content_distribution}|${CssProp.AP.overflow_position}|${CssProp.AP.content_position}`,align_items:`normal|stretch|${CssProp.AP.baseline_position}|(${CssProp.AP.overflow_position})?\\s*${CssProp.AP.self_position}|anchor-center`,align_self:`auto|normal|stretch|${CssProp.AP.baseline_position}|(${CssProp.AP.overflow_position})?\\s*${CssProp.AP.self_position}|anchor-center`,background_attachment:`${CssProp.A.attachment}(,\\s*${CssProp.A.attachment})*`,background_color:CssProp.C.color,background_origin:`${CssProp.A.box}(,\\s*${CssProp.A.box})*`,background_repeat:`${CssProp.A.repeat_style}(,\\s*${CssProp.A.repeat_style})*`,border:`((${CssProp.C.border_width}|${CssProp.A.border_style}|${CssProp.C.color})\\s*){1,3}`,border_radius:`((${CssProp.B.len_or_perc})\\s*){1,4}(\\/\\s*((${CssProp.B.len_or_perc})\\s*){1,4})?`,border_spacing:`${CssProp.B.length}\\s*(${CssProp.B.length})?`,border_top_color:CssProp.C.color,border_top_style:CssProp.A.border_style,border_width:`((${CssProp.C.border_width})\\s*){1,4}`,color:CssProp.C.color,cursor:`(${CssProp.B.url}(\\s*,\\s*)?)*(auto|crosshair|default|pointer|move|e-resize|ne-resize|nw-resize|n-resize|se-resize|sw-resize|s-resize|w-resize|text|wait|help|progress|all-scroll|col-resize|hand|no-drop|not-allowed|row-resize|vertical-text)`,display:`inline|block|list-item|run-in|inline-list-item|inline-block|table|inline-table|table-cell|table-caption|flex|inline-flex|grid|inline-grid|${CssProp.A.display_inside}|${CssProp.A.display_outside}|inherit|inline-box|inline-stack`,display_outside:CssProp.A.display_outside,elevation:`${CssProp.B.angle}|below|level|above|higher|lower`,font_family:`(${CssProp.C.family_name}|${CssProp.A.generic_family})(,\\s*(${CssProp.C.family_name}|${CssProp.A.generic_family}))*`,height:`${CssProp.B.length}|${CssProp.B.percentage}|auto`,letter_spacing:`normal|${CssProp.B.length}`,list_style_image:`${CssProp.C.image}|none`,margin_right:CssProp.C.margin_width,max_height:`${CssProp.B.length_pos}|${CssProp.B.percentage_pos}|none|auto`,min_height:`${CssProp.B.length_pos}|${CssProp.B.percentage_pos}|auto`,opacity:CssProp.C.alphavalue,outline_color:`${CssProp.C.color}|invert`,outline_width:CssProp.C.border_width,padding:`((${CssProp.C.padding_width})\\s*){1,4}`,padding_top:CssProp.C.padding_width,pitch_range:CssProp.N.number,right:`${CssProp.B.length}|${CssProp.B.percentage}|auto`,stress:CssProp.N.number,text_indent:`${CssProp.B.length}|${CssProp.B.percentage}`,text_shadow:`none|${CssProp.C.shadow}(,\\s*(${CssProp.C.shadow}))*`,volume:`${CssProp.N.number_pos}|${CssProp.B.percentage_pos}|silent|x-soft|soft|medium|loud|x-loud`,word_wrap:CssProp.AP.overflow_wrap,zoom:`normal|${CssProp.N.number_pos}|${CssProp.B.percentage_pos}`,backface_visibility:CssProp.AP.visibility,background_clip:`${CssProp.A.box}(,\\s*(${CssProp.A.box}))*`,background_position:`${CssProp.C.bg_position}(,\\s*(${CssProp.C.bg_position}))*`,border_bottom_color:CssProp.C.color,border_bottom_style:CssProp.A.border_style,border_color:`((${CssProp.C.color})\\s*){1,4}`,border_left_color:CssProp.C.color,border_right_color:CssProp.C.color,border_style:`((${CssProp.A.border_style})\\s*){1,4}`,border_top_left_radius:`(${CssProp.B.length}|${CssProp.B.percentage})(\\s*(${CssProp.B.length}|${CssProp.B.percentage}))?`,border_top_width:CssProp.C.border_width,box_shadow:`none|${CssProp.C.shadow}(,\\s*(${CssProp.C.shadow}))*`,clip:`${CssProp.C.shape}|auto`,display_inside:CssProp.A.display_inside,font_size:`${CssProp.A.absolute_size}|${CssProp.A.relative_size}|${CssProp.B.length_pos}|${CssProp.B.percentage_pos}`,line_height:`normal|${CssProp.N.number_pos}|${CssProp.B.length_pos}|${CssProp.B.percentage_pos}`,margin_left:CssProp.C.margin_width,max_width:`${CssProp.B.length_pos}|${CssProp.B.percentage_pos}|none|auto`,outline_style:CssProp.A.border_style,padding_bottom:CssProp.C.padding_width,padding_right:CssProp.C.padding_width,perspective:`none|${CssProp.B.length}`,richness:CssProp.N.number,text_overflow:`((clip|ellipsis|${CssProp.B.string})\\s*){1,2}`,top:`${CssProp.B.length}|${CssProp.B.percentage}|auto`,width:`${CssProp.B.length_pos}|${CssProp.B.percentage_pos}|auto`,z_index:`auto|${CssProp.B.z_index}`,background:`(((${CssProp.C.bg_position}\\s*(\\/\\s*${CssProp.C.bg_size})?)|(${CssProp.A.repeat_style})|(${CssProp.A.attachment})|(${CssProp.A.bg_origin})|(${CssProp.C.bg_image})|(${CssProp.C.color}))\\s*)+`,background_size:`${CssProp.C.bg_size}(,\\s*${CssProp.C.bg_size})*`,border_bottom_left_radius:`(${CssProp.B.length}|${CssProp.B.percentage})(\\s*(${CssProp.B.length}|${CssProp.B.percentage}))?`,border_bottom_width:CssProp.C.border_width,border_left_style:CssProp.A.border_style,border_right_style:CssProp.A.border_style,border_top:`((${CssProp.C.border_width}|${CssProp.A.border_style}|${CssProp.C.color})\\s*){1,3}`,bottom:`${CssProp.B.len_or_perc}|auto`,list_style:`((${CssProp.AP.list_style_type}|${CssProp.AP.list_style_position}|${CssProp.C.image}|none})\\s*){1,3}`,margin_top:CssProp.C.margin_width,outline:`((${CssProp.C.color}|invert|${CssProp.A.border_style}|${CssProp.C.border_width})\\s*){1,3}`,overflow_y:CssProp.AP.overflow_x,pitch:`${CssProp.B.frequency}|x-low|low|medium|high|x-high`,vertical_align:`baseline|sub|super|top|text-top|middle|bottom|text-bottom|${CssProp.B.len_or_perc}`,word_spacing:`normal|${CssProp.B.length}`,background_image:`${CssProp.C.bg_image}(,\\s*${CssProp.C.bg_image})*`,border_bottom_right_radius:`(${CssProp.B.length}|${CssProp.B.percentage})(\\s*(${CssProp.B.length}|${CssProp.B.percentage}))?`,border_left_width:CssProp.C.border_width,border_right_width:CssProp.C.border_width,left:`${CssProp.B.len_or_perc}|auto`,margin_bottom:CssProp.C.margin_width,pause_after:`${CssProp.B.time}|${CssProp.B.percentage}`,speech_rate:`${CssProp.N.number}|x-slow|slow|medium|fast|x-fast|faster|slower`,transition_duration:`${CssProp.B.time}(,\\s*${CssProp.B.time})*`,border_bottom:`((${CssProp.C.border_width}|${CssProp.A.border_style}|${CssProp.C.color})\\s*){1,3}`,border_right:`((${CssProp.C.border_width}|${CssProp.A.border_style}|${CssProp.C.color})\\s*){1,3}`,margin:`((${CssProp.C.margin_width})\\s*){1,4}`,padding_left:CssProp.C.padding_width,border_left:`((${CssProp.C.border_width}|${CssProp.A.border_style}|${CssProp.C.color})\\s*){1,3}`,quotes:`(${CssProp.B.string}\\s*${CssProp.B.string})+|none`,border_top_right_radius:`(${CssProp.B.length}|${CssProp.B.percentage})(\\s*(${CssProp.B.length}|${CssProp.B.percentage}))?`,min_width:`${CssProp.B.length_pos}|${CssProp.B.percentage_pos}|auto`,flex_basis:`${CssProp.B.len_or_perc}|auto|content|max-content|min-content|fit-content\\(\\s*(${CssProp.B.len_or_perc}\\s*)*\\)`,flex_grow:CssProp.N.number_pos,flex_shrink:CssProp.N.number_pos,grid:`(${CssProp.B.string}|none|subgrid)\\s*(\\/\\s*(${CssProp.B.string}|none|subgrid))?`,grid_area:`${CssProp.B.ident}|auto|(${CssProp.N.integer}\\s*\\/\\s*${CssProp.N.integer}\\s*\\/\\s*${CssProp.N.integer}\\s*\\/\\s*${CssProp.N.integer})`,grid_auto_columns:`(${CssProp.B.track_size})+`,grid_auto_rows:`(${CssProp.B.track_size})+`,grid_column:`${CssProp.B.grid_line}(\\s*\\/\\s*${CssProp.B.grid_line})?`,grid_column_start:`${CssProp.B.grid_line}`,grid_column_end:`${CssProp.B.grid_line}`,grid_column_gap:`${CssProp.B.len_or_perc}|normal`,grid_gap:`(${CssProp.B.len_or_perc}|normal)(\\s*(${CssProp.B.len_or_perc}|normal))?`,grid_row:`${CssProp.B.grid_line}(\\s*\\/\\s*${CssProp.B.grid_line})?`,grid_row_start:`${CssProp.B.grid_line}`,grid_row_end:`${CssProp.B.grid_line}`,grid_row_gap:`${CssProp.B.len_or_perc}|normal`,grid_template:`none|(${CssProp.B.grid_template_rows}\\s*\\/\\s*${CssProp.B.grid_template_columns})|(${CssProp.B.line_names}\\s*)?(${CssProp.B.string}\\s*${CssProp.B.track_size}\\s*(${CssProp.B.line_names}\\s*)?)+\\s*(\\/\\s*${CssProp.B.explicit_track_list})?`,grid_template_areas:`none|(${CssProp.B.string})+`,grid_template_columns:`${CssProp.B.grid_template_columns}`,grid_template_rows:`${CssProp.B.grid_template_rows}`,row_gap:`${CssProp.B.len_or_perc}|normal`,column_gap:`${CssProp.B.len_or_perc}|normal`,gap:`(${CssProp.B.len_or_perc}|normal)(\\s*(${CssProp.B.len_or_perc}|normal))?`,order:CssProp.N.integer};CssProp._CP1={font:`(((((${CssProp.AP.font_style}|${CssProp.AP.font_variant}|${CssProp.AP.font_weight})\\s*){1,3})?\\s*(${CssProp._CP.font_size})\\s*(\\/\\s*(${CssProp._CP.line_height}))?\\s+(${CssProp._CP.font_family}))|caption|icon|menu|message-box|small-caption|status-bar)`};CssProp.CP={...CssProp._CP,...CssProp._CP1};CssProp.BORDER_COLLAPSE=CssProp.reg(CssProp.AP.border_collapse);CssProp.BOX=CssProp.reg(CssProp.AP.box);CssProp.BOX_SIZING=CssProp.reg(CssProp.AP.box_sizing);CssProp.CAPTION_SIDE=CssProp.reg(CssProp.AP.caption_side);CssProp.CLEAR=CssProp.reg(CssProp.AP.clear);CssProp.DIRECTION=CssProp.reg(CssProp.AP.direction);CssProp.EMPTY_CELLS=CssProp.reg(CssProp.AP.empty_cells);CssProp.FLOAT=CssProp.reg(CssProp.AP.float);CssProp.FONT_STRETCH=CssProp.reg(CssProp.AP.font_stretch);CssProp.FONT_STYLE=CssProp.reg(CssProp.AP.font_style);CssProp.FONT_VARIANT=CssProp.reg(CssProp.AP.font_variant);CssProp.FONT_WEIGHT=CssProp.reg(CssProp.AP.font_weight);CssProp.LIST_STYLE_POSITION=CssProp.reg(CssProp.AP.list_style_position);CssProp.LIST_STYLE_TYPE=CssProp.reg(CssProp.AP.list_style_type);CssProp.OVERFLOW=CssProp.reg(CssProp.AP.overflow);CssProp.OVERFLOW_WRAP=CssProp.reg(CssProp.AP.overflow_wrap);CssProp.OVERFLOW_X=CssProp.reg(CssProp.AP.overflow_x);CssProp.PAGE_BREAK_AFTER=CssProp.reg(CssProp.AP.page_break_after);CssProp.PAGE_BREAK_BEFORE=CssProp.reg(CssProp.AP.page_break_before);CssProp.PAGE_BREAK_INSIDE=CssProp.reg(CssProp.AP.page_break_inside);CssProp.POSITION=CssProp.reg(CssProp.AP.position);CssProp.RESIZE=CssProp.reg(CssProp.AP.resize);CssProp.SPEAK=CssProp.reg(CssProp.AP.speak);CssProp.SPEAK_HEADER=CssProp.reg(CssProp.AP.speak_header);CssProp.SPEAK_NUMERAL=CssProp.reg(CssProp.AP.speak_numeral);CssProp.SPEAK_PUNCTUATION=CssProp.reg(CssProp.AP.speak_punctuation);CssProp.TABLE_LAYOUT=CssProp.reg(CssProp.AP.table_layout);CssProp.TEXT_ALIGN=CssProp.reg(CssProp.AP.text_align);CssProp.TEXT_DECORATION=CssProp.reg(CssProp.AP.text_decoration);CssProp.TEXT_TRANSFORM=CssProp.reg(CssProp.AP.text_transform);CssProp.TEXT_WRAP=CssProp.reg(CssProp.AP.text_wrap);CssProp.UNICODE_BIDI=CssProp.reg(CssProp.AP.unicode_bidi);CssProp.VISIBILITY=CssProp.reg(CssProp.AP.visibility);CssProp.WHITE_SPACE=CssProp.reg(CssProp.AP.white_space);CssProp.WORD_BREAK=CssProp.reg(CssProp.AP.word_break);CssProp.BACKGROUND_ATTACHMENT=CssProp.reg(CssProp.CP.background_attachment);CssProp.BACKGROUND_COLOR=CssProp.reg(CssProp.CP.background_color);CssProp.BACKGROUND_ORIGIN=CssProp.reg(CssProp.CP.background_origin);CssProp.BACKGROUND_REPEAT=CssProp.reg(CssProp.CP.background_repeat);CssProp.BORDER=CssProp.reg(CssProp.CP.border);CssProp.BORDER_RADIUS=CssProp.reg(CssProp.CP.border_radius);CssProp.BORDER_SPACING=CssProp.reg(CssProp.CP.border_spacing);CssProp.BORDER_TOP_COLOR=CssProp.reg(CssProp.CP.border_top_color);CssProp.BORDER_TOP_STYLE=CssProp.reg(CssProp.CP.border_top_style);CssProp.BORDER_WIDTH=CssProp.reg(CssProp.CP.border_width);CssProp.COLOR=CssProp.reg(CssProp.CP.color);CssProp.CURSOR=CssProp.reg(CssProp.CP.cursor);CssProp.DISPLAY=CssProp.reg(CssProp.CP.display);CssProp.DISPLAY_OUTSIDE=CssProp.reg(CssProp.CP.display_outside);CssProp.ELEVATION=CssProp.reg(CssProp.CP.elevation);CssProp.FONT_FAMILY=CssProp.reg(CssProp.CP.font_family);CssProp.HEIGHT=CssProp.reg(CssProp.CP.height);CssProp.LETTER_SPACING=CssProp.reg(CssProp.CP.letter_spacing);CssProp.LIST_STYLE_IMAGE=CssProp.reg(CssProp.CP.list_style_image);CssProp.MARGIN_RIGHT=CssProp.reg(CssProp.CP.margin_right);CssProp.MAX_HEIGHT=CssProp.reg(CssProp.CP.max_height);CssProp.MIN_HEIGHT=CssProp.reg(CssProp.CP.min_height);CssProp.OPACITY=CssProp.reg(CssProp.CP.opacity);CssProp.OUTLINE_COLOR=CssProp.reg(CssProp.CP.outline_color);CssProp.OUTLINE_WIDTH=CssProp.reg(CssProp.CP.outline_width);CssProp.PADDING=CssProp.reg(CssProp.CP.padding);CssProp.PADDING_TOP=CssProp.reg(CssProp.CP.padding_top);CssProp.PITCH_RANGE=CssProp.reg(CssProp.CP.pitch_range);CssProp.RIGHT=CssProp.reg(CssProp.CP.right);CssProp.STRESS=CssProp.reg(CssProp.CP.stress);CssProp.TEXT_INDENT=CssProp.reg(CssProp.CP.text_indent);CssProp.TEXT_SHADOW=CssProp.reg(CssProp.CP.text_shadow);CssProp.VOLUME=CssProp.reg(CssProp.CP.volume);CssProp.WORD_WRAP=CssProp.reg(CssProp.CP.word_wrap);CssProp.ZOOM=CssProp.reg(CssProp.CP.zoom);CssProp.BACKFACE_VISIBILITY=CssProp.reg(CssProp.CP.backface_visibility);CssProp.BACKGROUND_CLIP=CssProp.reg(CssProp.CP.background_clip);CssProp.BACKGROUND_POSITION=CssProp.reg(CssProp.CP.background_position);CssProp.BORDER_BOTTOM_COLOR=CssProp.reg(CssProp.CP.border_bottom_color);CssProp.BORDER_BOTTOM_STYLE=CssProp.reg(CssProp.CP.border_bottom_style);CssProp.BORDER_COLOR=CssProp.reg(CssProp.CP.border_color);CssProp.BORDER_LEFT_COLOR=CssProp.reg(CssProp.CP.border_left_color);CssProp.BORDER_RIGHT_COLOR=CssProp.reg(CssProp.CP.border_right_color);CssProp.BORDER_STYLE=CssProp.reg(CssProp.CP.border_style);CssProp.BORDER_TOP_LEFT_RADIUS=CssProp.reg(CssProp.CP.border_top_left_radius);CssProp.BORDER_TOP_WIDTH=CssProp.reg(CssProp.CP.border_top_width);CssProp.BOX_SHADOW=CssProp.reg(CssProp.CP.box_shadow);CssProp.CLIP=CssProp.reg(CssProp.CP.clip);CssProp.DISPLAY_INSIDE=CssProp.reg(CssProp.CP.display_inside);CssProp.FONT_SIZE=CssProp.reg(CssProp.CP.font_size);CssProp.LINE_HEIGHT=CssProp.reg(CssProp.CP.line_height);CssProp.MARGIN_LEFT=CssProp.reg(CssProp.CP.margin_left);CssProp.MAX_WIDTH=CssProp.reg(CssProp.CP.max_width);CssProp.OUTLINE_STYLE=CssProp.reg(CssProp.CP.outline_style);CssProp.PADDING_BOTTOM=CssProp.reg(CssProp.CP.padding_bottom);CssProp.PADDING_RIGHT=CssProp.reg(CssProp.CP.padding_right);CssProp.PERSPECTIVE=CssProp.reg(CssProp.CP.perspective);CssProp.RICHNESS=CssProp.reg(CssProp.CP.richness);CssProp.TEXT_OVERFLOW=CssProp.reg(CssProp.CP.text_overflow);CssProp.TOP=CssProp.reg(CssProp.CP.top);CssProp.WIDTH=CssProp.reg(CssProp.CP.width);CssProp.Z_INDEX=CssProp.reg(CssProp.CP.z_index);CssProp.BACKGROUND=CssProp.reg(CssProp.CP.background);CssProp.BACKGROUND_SIZE=CssProp.reg(CssProp.CP.background_size);CssProp.BORDER_BOTTOM_LEFT_RADIUS=CssProp.reg(CssProp.CP.border_bottom_left_radius);CssProp.BORDER_BOTTOM_WIDTH=CssProp.reg(CssProp.CP.border_bottom_width);CssProp.BORDER_LEFT_STYLE=CssProp.reg(CssProp.CP.border_left_style);CssProp.BORDER_RIGHT_STYLE=CssProp.reg(CssProp.CP.border_right_style);CssProp.BORDER_TOP=CssProp.reg(CssProp.CP.border_top);CssProp.BOTTOM=CssProp.reg(CssProp.CP.bottom);CssProp.LIST_STYLE=CssProp.reg(CssProp.CP.list_style);CssProp.MARGIN_TOP=CssProp.reg(CssProp.CP.margin_top);CssProp.OUTLINE=CssProp.reg(CssProp.CP.outline);CssProp.OVERFLOW_Y=CssProp.reg(CssProp.CP.overflow_y);CssProp.PITCH=CssProp.reg(CssProp.CP.pitch);CssProp.VERTICAL_ALIGN=CssProp.reg(CssProp.CP.vertical_align);CssProp.WORD_SPACING=CssProp.reg(CssProp.CP.word_spacing);CssProp.BACKGROUND_IMAGE=CssProp.reg(CssProp.CP.background_image);CssProp.BORDER_BOTTOM_RIGHT_RADIUS=CssProp.reg(CssProp.CP.border_bottom_right_radius);CssProp.BORDER_LEFT_WIDTH=CssProp.reg(CssProp.CP.border_left_width);CssProp.BORDER_RIGHT_WIDTH=CssProp.reg(CssProp.CP.border_right_width);CssProp.LEFT=CssProp.reg(CssProp.CP.left);CssProp.MARGIN_BOTTOM=CssProp.reg(CssProp.CP.margin_bottom);CssProp.PAUSE_AFTER=CssProp.reg(CssProp.CP.pause_after);CssProp.SPEECH_RATE=CssProp.reg(CssProp.CP.speech_rate);CssProp.TRANSITION_DURATION=CssProp.reg(CssProp.CP.transition_duration);CssProp.BORDER_BOTTOM=CssProp.reg(CssProp.CP.border_bottom);CssProp.BORDER_RIGHT=CssProp.reg(CssProp.CP.border_right);CssProp.MARGIN=CssProp.reg(CssProp.CP.margin);CssProp.PADDING_LEFT=CssProp.reg(CssProp.CP.padding_left);CssProp.BORDER_LEFT=CssProp.reg(CssProp.CP.border_left);CssProp.FONT=CssProp.reg(CssProp.CP.font);CssProp.QUOTES=CssProp.reg(CssProp.CP.quotes);CssProp.BORDER_TOP_RIGHT_RADIUS=CssProp.reg(CssProp.CP.border_top_right_radius);CssProp.MIN_WIDTH=CssProp.reg(CssProp.CP.min_width);CssProp.ALIGN_CONTENT=CssProp.reg(CssProp.CP.align_content);CssProp.ALIGN_ITEMS=CssProp.reg(CssProp.CP.align_items);CssProp.ALIGN_SELF=CssProp.reg(CssProp.CP.align_self);CssProp.FLEX=CssProp.reg(CssProp.B.flex);CssProp.FLEX_BASIS=CssProp.reg(CssProp.CP.flex_basis);CssProp.FLEX_DIRECTION=CssProp.reg(CssProp.AP.flex_direction);CssProp.FLEX_GROW=CssProp.reg(CssProp.CP.flex_grow);CssProp.FLEX_SHRINK=CssProp.reg(CssProp.CP.flex_shrink);CssProp.FLEX_WRAP=CssProp.reg(CssProp.AP.flex_wrap);CssProp.JUSTIFY_CONTENT=CssProp.reg(CssProp.AP.justify_content);CssProp.JUSTIFY_ITEMS=CssProp.reg(CssProp.AP.justify_items);CssProp.JUSTIFY_SELF=CssProp.reg(CssProp.AP.justify_self);CssProp.ORDER=CssProp.reg(CssProp.CP.order);CssProp.GRID=CssProp.reg(CssProp.CP.grid);CssProp.GRID_AREA=CssProp.reg(CssProp.CP.grid_area);CssProp.GRID_AUTO_COLUMNS=CssProp.reg(CssProp.CP.grid_auto_columns);CssProp.GRID_AUTO_FLOW=CssProp.reg(CssProp.AP.grid_auto_flow);CssProp.GRID_AUTO_ROWS=CssProp.reg(CssProp.CP.grid_auto_rows);CssProp.GRID_COLUMN=CssProp.reg(CssProp.CP.grid_column);CssProp.GRID_COLUMN_END=CssProp.reg(CssProp.CP.grid_column_end);CssProp.GRID_COLUMN_GAP=CssProp.reg(CssProp.CP.grid_column_gap);CssProp.GRID_COLUMN_START=CssProp.reg(CssProp.CP.grid_column_start);CssProp.GRID_GAP=CssProp.reg(CssProp.CP.grid_gap);CssProp.GRID_ROW=CssProp.reg(CssProp.CP.grid_row);CssProp.GRID_ROW_END=CssProp.reg(CssProp.CP.grid_row_end);CssProp.GRID_ROW_GAP=CssProp.reg(CssProp.CP.grid_row_gap);CssProp.GRID_ROW_START=CssProp.reg(CssProp.CP.grid_row_start);CssProp.GRID_TEMPLATE=CssProp.reg(CssProp.CP.grid_template);CssProp.GRID_TEMPLATE_AREAS=CssProp.reg(CssProp.CP.grid_template_areas);CssProp.GRID_TEMPLATE_COLUMNS=CssProp.reg(CssProp.CP.grid_template_columns);CssProp.GRID_TEMPLATE_ROWS=CssProp.reg(CssProp.CP.grid_template_rows);CssProp.GAP=CssProp.reg(CssProp.CP.gap);CssProp.ROW_GAP=CssProp.reg(CssProp.CP.row_gap);CssProp.COLUMN_GAP=CssProp.reg(CssProp.CP.column_gap);CssProp.PLACE_CONTENT=CssProp.reg(CssProp.AP.place_content);CssProp.PLACE_ITEMS=CssProp.reg(CssProp.AP.place_items);CssProp.PLACE_SELF=CssProp.reg(CssProp.AP.place_self);class Sanitizer{constructor(){this._autolink=!0,this._allowNamedProperties=!1,this._generateOptions=()=>{const e=Array.isArray(this._customAllowedSchemes)?this._customAllowedSchemes:[...sanitize$1.defaults.allowedSchemes];return{allowedTags:["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blockquote","br","button","canvas","caption","center","cite","code","col","colgroup","colspan","command","data","datalist","dd","del","details","dfn","dir","div","dl","dt","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","i","img","input","ins","kbd","label","legend","li","map","mark","menu","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rowspan","s","samp","section","select","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"],allowedAttributes:{"*":["class","data-jupyter-id","dir","draggable","hidden","id","inert","itemprop","itemref","itemscope","lang","spellcheck","style","title","translate"],a:["accesskey","coords","href","hreflang",...this._allowNamedProperties?["name"]:[],"rel","shape","tabindex","target","type"],area:["accesskey","alt","coords","href","nohref","shape","tabindex"],audio:["autoplay","controls","loop","mediagroup","muted","preload","src"],bdo:["dir"],blockquote:["cite"],br:["clear"],button:["accesskey","data-commandlinker-args","data-commandlinker-command","disabled",...this._allowNamedProperties?["name"]:[],"tabindex","type","value"],canvas:["height","width"],caption:["align"],col:["align","char","charoff","span","valign","width"],colgroup:["align","char","charoff","span","valign","width"],command:["checked","command","disabled","icon","label","radiogroup","type"],data:["value"],del:["cite","datetime"],details:["open"],dir:["compact"],div:["align"],dl:["compact"],fieldset:["disabled"],font:["color","face","size"],form:["accept","autocomplete","enctype","method",...this._allowNamedProperties?["name"]:[],"novalidate"],h1:["align"],h2:["align"],h3:["align"],h4:["align"],h5:["align"],h6:["align"],hr:["align","noshade","size","width"],iframe:["align","frameborder","height","marginheight","marginwidth","width"],img:["align","alt","border","height","hspace","ismap",...this._allowNamedProperties?["name"]:[],"src","usemap","vspace","width"],input:["accept","accesskey","align","alt","autocomplete","checked","disabled","inputmode","ismap","list","max","maxlength","min","multiple",...this._allowNamedProperties?["name"]:[],"placeholder","readonly","required","size","src","step","tabindex","type","usemap","value"],ins:["cite","datetime"],label:["accesskey","for"],legend:["accesskey","align"],li:["type","value"],map:this._allowNamedProperties?["name"]:[],menu:["compact","label","type"],meter:["high","low","max","min","value"],ol:["compact","reversed","start","type"],optgroup:["disabled","label"],option:["disabled","label","selected","value"],output:["for",...this._allowNamedProperties?["name"]:[]],p:["align"],pre:["width"],progress:["max","min","value"],q:["cite"],select:["autocomplete","disabled","multiple",...this._allowNamedProperties?["name"]:[],"required","size","tabindex"],source:["type"],table:["align","bgcolor","border","cellpadding","cellspacing","frame","rules","summary","width"],tbody:["align","char","charoff","valign"],td:["abbr","align","axis","bgcolor","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"],textarea:["accesskey","autocomplete","cols","disabled","inputmode",...this._allowNamedProperties?["name"]:[],"placeholder","readonly","required","rows","tabindex","wrap"],tfoot:["align","char","charoff","valign"],th:["abbr","align","axis","bgcolor","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"],thead:["align","char","charoff","valign"],tr:["align","bgcolor","char","charoff","valign"],track:["default","kind","label","srclang"],ul:["compact","type"],video:["autoplay","controls","height","loop","mediagroup","muted","poster","preload","src","width"]},allowedStyles:{"*":{"backface-visibility":[CssProp.BACKFACE_VISIBILITY],background:[CssProp.BACKGROUND],"background-attachment":[CssProp.BACKGROUND_ATTACHMENT],"background-clip":[CssProp.BACKGROUND_CLIP],"background-color":[CssProp.BACKGROUND_COLOR],"background-image":[CssProp.BACKGROUND_IMAGE],"background-origin":[CssProp.BACKGROUND_ORIGIN],"background-position":[CssProp.BACKGROUND_POSITION],"background-repeat":[CssProp.BACKGROUND_REPEAT],"background-size":[CssProp.BACKGROUND_SIZE],border:[CssProp.BORDER],"border-bottom":[CssProp.BORDER_BOTTOM],"border-bottom-color":[CssProp.BORDER_BOTTOM_COLOR],"border-bottom-left-radius":[CssProp.BORDER_BOTTOM_LEFT_RADIUS],"border-bottom-right-radius":[CssProp.BORDER_BOTTOM_RIGHT_RADIUS],"border-bottom-style":[CssProp.BORDER_BOTTOM_STYLE],"border-bottom-width":[CssProp.BORDER_BOTTOM_WIDTH],"border-collapse":[CssProp.BORDER_COLLAPSE],"border-color":[CssProp.BORDER_COLOR],"border-left":[CssProp.BORDER_LEFT],"border-left-color":[CssProp.BORDER_LEFT_COLOR],"border-left-style":[CssProp.BORDER_LEFT_STYLE],"border-left-width":[CssProp.BORDER_LEFT_WIDTH],"border-radius":[CssProp.BORDER_RADIUS],"border-right":[CssProp.BORDER_RIGHT],"border-right-color":[CssProp.BORDER_RIGHT_COLOR],"border-right-style":[CssProp.BORDER_RIGHT_STYLE],"border-right-width":[CssProp.BORDER_RIGHT_WIDTH],"border-spacing":[CssProp.BORDER_SPACING],"border-style":[CssProp.BORDER_STYLE],"border-top":[CssProp.BORDER_TOP],"border-top-color":[CssProp.BORDER_TOP_COLOR],"border-top-left-radius":[CssProp.BORDER_TOP_LEFT_RADIUS],"border-top-right-radius":[CssProp.BORDER_TOP_RIGHT_RADIUS],"border-top-style":[CssProp.BORDER_TOP_STYLE],"border-top-width":[CssProp.BORDER_TOP_WIDTH],"border-width":[CssProp.BORDER_WIDTH],bottom:[CssProp.BOTTOM],box:[CssProp.BOX],"box-shadow":[CssProp.BOX_SHADOW],"box-sizing":[CssProp.BOX_SIZING],"caption-side":[CssProp.CAPTION_SIDE],clear:[CssProp.CLEAR],clip:[CssProp.CLIP],color:[CssProp.COLOR],cursor:[CssProp.CURSOR],direction:[CssProp.DIRECTION],display:[CssProp.DISPLAY],"display-inside":[CssProp.DISPLAY_INSIDE],"display-outside":[CssProp.DISPLAY_OUTSIDE],elevation:[CssProp.ELEVATION],"empty-cells":[CssProp.EMPTY_CELLS],float:[CssProp.FLOAT],font:[CssProp.FONT],"font-family":[CssProp.FONT_FAMILY],"font-size":[CssProp.FONT_SIZE],"font-stretch":[CssProp.FONT_STRETCH],"font-style":[CssProp.FONT_STYLE],"font-variant":[CssProp.FONT_VARIANT],"font-weight":[CssProp.FONT_WEIGHT],height:[CssProp.HEIGHT],left:[CssProp.LEFT],"letter-spacing":[CssProp.LETTER_SPACING],"line-height":[CssProp.LINE_HEIGHT],"list-style":[CssProp.LIST_STYLE],"list-style-image":[CssProp.LIST_STYLE_IMAGE],"list-style-position":[CssProp.LIST_STYLE_POSITION],"list-style-type":[CssProp.LIST_STYLE_TYPE],margin:[CssProp.MARGIN],"margin-bottom":[CssProp.MARGIN_BOTTOM],"margin-left":[CssProp.MARGIN_LEFT],"margin-right":[CssProp.MARGIN_RIGHT],"margin-top":[CssProp.MARGIN_TOP],"max-height":[CssProp.MAX_HEIGHT],"max-width":[CssProp.MAX_WIDTH],"min-height":[CssProp.MIN_HEIGHT],"min-width":[CssProp.MIN_WIDTH],opacity:[CssProp.OPACITY],outline:[CssProp.OUTLINE],"outline-color":[CssProp.OUTLINE_COLOR],"outline-style":[CssProp.OUTLINE_STYLE],"outline-width":[CssProp.OUTLINE_WIDTH],overflow:[CssProp.OVERFLOW],"overflow-wrap":[CssProp.OVERFLOW_WRAP],"overflow-x":[CssProp.OVERFLOW_X],"overflow-y":[CssProp.OVERFLOW_Y],padding:[CssProp.PADDING],"padding-bottom":[CssProp.PADDING_BOTTOM],"padding-left":[CssProp.PADDING_LEFT],"padding-right":[CssProp.PADDING_RIGHT],"padding-top":[CssProp.PADDING_TOP],"page-break-after":[CssProp.PAGE_BREAK_AFTER],"page-break-before":[CssProp.PAGE_BREAK_BEFORE],"page-break-inside":[CssProp.PAGE_BREAK_INSIDE],"pause-after":[CssProp.PAUSE_AFTER],perspective:[CssProp.PERSPECTIVE],pitch:[CssProp.PITCH],"pitch-range":[CssProp.PITCH_RANGE],position:[CssProp.POSITION],quotes:[CssProp.QUOTES],resize:[CssProp.RESIZE],richness:[CssProp.RICHNESS],right:[CssProp.RIGHT],speak:[CssProp.SPEAK],"speak-header":[CssProp.SPEAK_HEADER],"speak-numeral":[CssProp.SPEAK_NUMERAL],"speak-punctuation":[CssProp.SPEAK_PUNCTUATION],"speech-rate":[CssProp.SPEECH_RATE],stress:[CssProp.STRESS],"table-layout":[CssProp.TABLE_LAYOUT],"text-align":[CssProp.TEXT_ALIGN],"text-decoration":[CssProp.TEXT_DECORATION],"text-indent":[CssProp.TEXT_INDENT],"text-overflow":[CssProp.TEXT_OVERFLOW],"text-shadow":[CssProp.TEXT_SHADOW],"text-transform":[CssProp.TEXT_TRANSFORM],"text-wrap":[CssProp.TEXT_WRAP],top:[CssProp.TOP],"unicode-bidi":[CssProp.UNICODE_BIDI],"vertical-align":[CssProp.VERTICAL_ALIGN],visibility:[CssProp.VISIBILITY],volume:[CssProp.VOLUME],"white-space":[CssProp.WHITE_SPACE],width:[CssProp.WIDTH],"word-break":[CssProp.WORD_BREAK],"word-spacing":[CssProp.WORD_SPACING],"word-wrap":[CssProp.WORD_WRAP],"z-index":[CssProp.Z_INDEX],zoom:[CssProp.ZOOM],"align-content":[CssProp.ALIGN_CONTENT],"align-items":[CssProp.ALIGN_ITEMS],"align-self":[CssProp.ALIGN_SELF],flex:[CssProp.FLEX],"flex-basis":[CssProp.FLEX_BASIS],"flex-direction":[CssProp.FLEX_DIRECTION],"flex-grow":[CssProp.FLEX_GROW],"flex-shrink":[CssProp.FLEX_SHRINK],"flex-wrap":[CssProp.FLEX_WRAP],grid:[CssProp.GRID],"grid-area":[CssProp.GRID_AREA],"grid-auto-columns":[CssProp.GRID_AUTO_COLUMNS],"grid-auto-flow":[CssProp.GRID_AUTO_FLOW],"grid-auto-rows":[CssProp.GRID_AUTO_ROWS],"grid-column":[CssProp.GRID_COLUMN],"grid-column-end":[CssProp.GRID_COLUMN_END],"grid-column-gap":[CssProp.GRID_COLUMN_GAP],"grid-column-start":[CssProp.GRID_COLUMN_START],"grid-gap":[CssProp.GRID_GAP],"grid-row":[CssProp.GRID_ROW],"grid-row-end":[CssProp.GRID_ROW_END],"grid-row-gap":[CssProp.GRID_ROW_GAP],"grid-row-start":[CssProp.GRID_ROW_START],"grid-template":[CssProp.GRID_TEMPLATE],"grid-template-areas":[CssProp.GRID_TEMPLATE_AREAS],"grid-template-columns":[CssProp.GRID_TEMPLATE_COLUMNS],"grid-template-rows":[CssProp.GRID_TEMPLATE_ROWS],gap:[CssProp.GAP],"row-gap":[CssProp.ROW_GAP],"column-gap":[CssProp.COLUMN_GAP],"justify-content":[CssProp.JUSTIFY_CONTENT],"justify-items":[CssProp.JUSTIFY_ITEMS],"justify-self":[CssProp.JUSTIFY_SELF],order:[CssProp.ORDER],"place-content":[CssProp.PLACE_CONTENT],"place-items":[CssProp.PLACE_ITEMS],"place-self":[CssProp.PLACE_SELF]}},transformTags:{a:sanitize$1.simpleTransform("a",{rel:"nofollow"}),input:sanitize$1.simpleTransform("input",{disabled:"disabled"}),...this._allowNamedProperties?{}:{"*":function(n,i){return i.id!==void 0&&(i["data-jupyter-id"]=i.id,delete i.id),{tagName:n,attribs:{...i}}}}},allowedSchemes:e,allowedSchemesByTag:{img:[...e,"attachment"]},allowedSchemesAppliedToAttributes:["href","cite"]}},this._options=this._generateOptions()}sanitize(e,n){return sanitize$1(e,{...this._options,...n||{}})}getAutolink(){return this._autolink}get allowNamedProperties(){return this._allowNamedProperties}setAllowedSchemes(e){this._customAllowedSchemes=[...e],this._options=this._generateOptions()}setAutolink(e){this._autolink=e}setAllowNamedProperties(e){this._allowNamedProperties=e,this._options=this._generateOptions()}}let LinkedList$3=class{constructor(){this._first=null,this._last=null,this._size=0}get isEmpty(){return this._size===0}get size(){return this._size}get length(){return this._size}get first(){return this._first?this._first.value:void 0}get last(){return this._last?this._last.value:void 0}get firstNode(){return this._first}get lastNode(){return this._last}*[Symbol.iterator](){let e=this._first;for(;e;)yield e.value,e=e.next}*retro(){let e=this._last;for(;e;)yield e.value,e=e.prev}*nodes(){let e=this._first;for(;e;)yield e,e=e.next}*retroNodes(){let e=this._last;for(;e;)yield e,e=e.prev}assign(e){this.clear();for(const n of e)this.addLast(n)}push(e){this.addLast(e)}pop(){return this.removeLast()}shift(e){this.addFirst(e)}unshift(){return this.removeFirst()}addFirst(e){let n=new Private$O.LinkedListNode(this,e);return this._first?(n.next=this._first,this._first.prev=n,this._first=n):(this._first=n,this._last=n),this._size++,n}addLast(e){let n=new Private$O.LinkedListNode(this,e);return this._last?(n.prev=this._last,this._last.next=n,this._last=n):(this._first=n,this._last=n),this._size++,n}insertBefore(e,n){if(!n||n===this._first)return this.addFirst(e);if(!(n instanceof Private$O.LinkedListNode)||n.list!==this)throw new Error("Reference node is not owned by the list.");let i=new Private$O.LinkedListNode(this,e),o=n,u=o.prev;return i.next=o,i.prev=u,o.prev=i,u.next=i,this._size++,i}insertAfter(e,n){if(!n||n===this._last)return this.addLast(e);if(!(n instanceof Private$O.LinkedListNode)||n.list!==this)throw new Error("Reference node is not owned by the list.");let i=new Private$O.LinkedListNode(this,e),o=n,u=o.next;return i.next=u,i.prev=o,o.next=i,u.prev=i,this._size++,i}removeFirst(){let e=this._first;if(e)return e===this._last?(this._first=null,this._last=null):(this._first=e.next,this._first.prev=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeLast(){let e=this._last;if(e)return e===this._first?(this._first=null,this._last=null):(this._last=e.prev,this._last.next=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeNode(e){if(!(e instanceof Private$O.LinkedListNode)||e.list!==this)throw new Error("Node is not owned by the list.");let n=e;n===this._first&&n===this._last?(this._first=null,this._last=null):n===this._first?(this._first=n.next,this._first.prev=null):n===this._last?(this._last=n.prev,this._last.next=null):(n.next.prev=n.prev,n.prev.next=n.next),n.list=null,n.next=null,n.prev=null,this._size--}clear(){let e=this._first;for(;e;){let n=e.next;e.list=null,e.prev=null,e.next=null,e=n}this._first=null,this._last=null,this._size=0}};(function(t){function e(n){let i=new t;return i.assign(n),i}t.from=e})(LinkedList$3||(LinkedList$3={}));var Private$O;(function(t){class e{constructor(i,o){this.list=null,this.next=null,this.prev=null,this.list=i,this.value=o}}t.LinkedListNode=e})(Private$O||(Private$O={}));let Message$3=class{constructor(e){this.type=e}get isConflatable(){return!1}conflate(e){return!1}},ConflatableMessage$3=class extends Message$3{get isConflatable(){return!0}conflate(e){return!0}};var MessageLoop$3;(function(t){let e=null;const n=(G=>F=>{let K=!1;return G.then(()=>!K&&F()),()=>{K=!0}})(Promise.resolve());function i(G,F){let K=v.get(G);if(!K||K.length===0){A(G,F);return}every$2(retro$1(K),ie=>ie?P(ie,G,F):!0)&&A(G,F)}t.sendMessage=i;function o(G,F){if(!F.isConflatable){D(G,F);return}some$2(g,Q=>Q.handler!==G||!Q.msg||Q.msg.type!==F.type||!Q.msg.isConflatable?!1:Q.msg.conflate(F))||D(G,F)}t.postMessage=o;function u(G,F){let K=v.get(G);K&&K.indexOf(F)!==-1||(K?K.push(F):v.set(G,[F]))}t.installMessageHook=u;function l(G,F){let K=v.get(G);if(!K)return;let Q=K.indexOf(F);Q!==-1&&(K[Q]=null,j(K))}t.removeMessageHook=l;function c(G){let F=v.get(G);F&&F.length>0&&(ArrayExt$4.fill(F,null),j(F));for(const K of g)K.handler===G&&(K.handler=null,K.msg=null)}t.clearData=c;function f(){T||e===null||(e(),e=null,T=!0,k(),T=!1)}t.flush=f;function d(){return w}t.getExceptionHandler=d;function m(G){let F=w;return w=G,F}t.setExceptionHandler=m;const g=new LinkedList$3,v=new WeakMap,y=new Set;let w=G=>{console.error(G)},T=!1;function P(G,F,K){let Q=!0;try{typeof G=="function"?Q=G(F,K):Q=G.messageHook(F,K)}catch(ie){w(ie)}return Q}function A(G,F){try{G.processMessage(F)}catch(K){w(K)}}function D(G,F){g.addLast({handler:G,msg:F}),e===null&&(e=n(k))}function k(){if(e=null,g.isEmpty)return;let G={handler:null,msg:null};for(g.addLast(G);;){let F=g.removeFirst();if(F===G)return;F.handler&&F.msg&&i(F.handler,F.msg)}}function j(G){y.size===0&&n(B),y.add(G)}function B(){y.forEach(Z),y.clear()}function Z(G){ArrayExt$4.removeAllWhere(G,R)}function R(G){return G===null}})(MessageLoop$3||(MessageLoop$3={}));let Drag$3=class Uo{constructor(e){this._onScrollFrame=()=>{if(!this._scrollTarget)return;let{element:n,edge:i,distance:o}=this._scrollTarget,u=Private$N.SCROLL_EDGE_SIZE-o,l=Math.pow(u/Private$N.SCROLL_EDGE_SIZE,2),c=Math.max(1,Math.round(l*Private$N.SCROLL_EDGE_SIZE));switch(i){case"top":n.scrollTop-=c;break;case"left":n.scrollLeft-=c;break;case"right":n.scrollLeft+=c;break;case"bottom":n.scrollTop+=c;break}requestAnimationFrame(this._onScrollFrame)},this._disposed=!1,this._dropAction="none",this._override=null,this._currentTarget=null,this._currentElement=null,this._promise=null,this._scrollTarget=null,this._resolve=null,this.document=e.document||document,this.mimeData=e.mimeData,this.dragImage=e.dragImage||null,this.proposedAction=e.proposedAction||"copy",this.supportedActions=e.supportedActions||"all",this.source=e.source||null}dispose(){if(!this._disposed){if(this._disposed=!0,this._currentTarget){let e=new PointerEvent("pointerup",{bubbles:!0,cancelable:!0,clientX:-1,clientY:-1});Private$N.dispatchDragLeave(this,this._currentTarget,null,e)}this._finalize("none")}}get isDisposed(){return this._disposed}start(e,n){if(this._disposed)return Promise.resolve("none");if(this._promise)return this._promise;this._addListeners(),this._attachDragImage(e,n),this._promise=new Promise(o=>{this._resolve=o});let i=new PointerEvent("pointermove",{bubbles:!0,cancelable:!0,clientX:e,clientY:n});return document.dispatchEvent(i),this._promise}handleEvent(e){switch(e.type){case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;default:e.preventDefault(),e.stopPropagation();break}}moveDragImage(e,n){if(!this.dragImage)return;let i=this.dragImage.style;i.transform=`translate(${e}px, ${n}px)`}_evtPointerMove(e){e.preventDefault(),e.stopPropagation(),this._updateCurrentTarget(e),this._updateDragScroll(e),this.moveDragImage(e.clientX,e.clientY)}_evtPointerUp(e){if(e.preventDefault(),e.stopPropagation(),e.button!==0)return;if(this._updateCurrentTarget(e),!this._currentTarget){this._finalize("none");return}if(this._dropAction==="none"){Private$N.dispatchDragLeave(this,this._currentTarget,null,e),this._finalize("none");return}let n=Private$N.dispatchDrop(this,this._currentTarget,e);this._finalize(n)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&this.dispose()}_addListeners(){document.addEventListener("pointerdown",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("pointerup",this,!0),document.addEventListener("pointerenter",this,!0),document.addEventListener("pointerleave",this,!0),document.addEventListener("pointerover",this,!0),document.addEventListener("pointerout",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("keyup",this,!0),document.addEventListener("keypress",this,!0),document.addEventListener("contextmenu",this,!0)}_removeListeners(){document.removeEventListener("pointerdown",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointerenter",this,!0),document.removeEventListener("pointerleave",this,!0),document.removeEventListener("pointerover",this,!0),document.removeEventListener("pointerout",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("keyup",this,!0),document.removeEventListener("keypress",this,!0),document.removeEventListener("contextmenu",this,!0)}_updateDragScroll(e){let n=Private$N.findScrollTarget(e);!this._scrollTarget&&!n||(this._scrollTarget||setTimeout(this._onScrollFrame,500),this._scrollTarget=n)}_updateCurrentTarget(e){let n=this._currentTarget,i=this._currentTarget,o=this._currentElement,u=Private$N.findElementBehindBackdrop(e,this.document);this._currentElement=u,u!==o&&u!==i&&Private$N.dispatchDragExit(this,i,u,e),u!==o&&u!==i&&(i=Private$N.dispatchDragEnter(this,u,i,e)),i!==n&&(this._currentTarget=i,Private$N.dispatchDragLeave(this,n,i,e));let l=Private$N.dispatchDragOver(this,i,e);this._setDropAction(l)}_attachDragImage(e,n){if(!this.dragImage)return;this.dragImage.classList.add("lm-mod-drag-image");let i=this.dragImage.style;i.pointerEvents="none",i.position="fixed",i.transform=`translate(${e}px, ${n}px)`,(this.document instanceof Document?this.document.body:this.document.firstElementChild).appendChild(this.dragImage)}_detachDragImage(){if(!this.dragImage)return;let e=this.dragImage.parentNode;e&&e.removeChild(this.dragImage)}_setDropAction(e){if(e=Private$N.validateAction(e,this.supportedActions),!(this._override&&this._dropAction===e))switch(e){case"none":this._dropAction=e,this._override=Uo.overrideCursor("no-drop",this.document);break;case"copy":this._dropAction=e,this._override=Uo.overrideCursor("copy",this.document);break;case"link":this._dropAction=e,this._override=Uo.overrideCursor("alias",this.document);break;case"move":this._dropAction=e,this._override=Uo.overrideCursor("move",this.document);break}}_finalize(e){let n=this._resolve;this._removeListeners(),this._detachDragImage(),this._override&&(this._override.dispose(),this._override=null),this.mimeData.clear(),this._disposed=!0,this._dropAction="none",this._currentTarget=null,this._currentElement=null,this._scrollTarget=null,this._promise=null,this._resolve=null,n&&n(e)}};(function(t){class e extends DragEvent{constructor(o,u){super(u.type,{bubbles:!0,cancelable:!0,altKey:o.altKey,button:o.button,clientX:o.clientX,clientY:o.clientY,ctrlKey:o.ctrlKey,detail:0,metaKey:o.metaKey,relatedTarget:u.related,screenX:o.screenX,screenY:o.screenY,shiftKey:o.shiftKey,view:window});const{drag:l}=u;this.dropAction="none",this.mimeData=l.mimeData,this.proposedAction=l.proposedAction,this.supportedActions=l.supportedActions,this.source=l.source}}t.Event=e;function n(i,o=document){return Private$N.overrideCursor(i,o)}t.overrideCursor=n})(Drag$3||(Drag$3={}));var Private$N;(function(t){t.SCROLL_EDGE_SIZE=20;function e(j,B){return g[j]&v[B]?j:"none"}t.validateAction=e;function n(j,B=document){if(j){if(i&&j==i.event)return i.element;t.cursorBackdrop.style.zIndex="-1000";const Z=B.elementFromPoint(j.clientX,j.clientY);return t.cursorBackdrop.style.zIndex="",i={event:j,element:Z},Z}else{const Z=t.cursorBackdrop.style.transform;if(o&&Z===o.transform)return o.element;const R=t.cursorBackdrop.getBoundingClientRect();t.cursorBackdrop.style.zIndex="-1000";const G=B.elementFromPoint(R.left+R.width/2,R.top+R.height/2);return t.cursorBackdrop.style.zIndex="",o={transform:Z,element:G},G}}t.findElementBehindBackdrop=n;let i=null,o=null;function u(j){let B=j.clientX,Z=j.clientY,R=n(j);for(;R;R=R.parentElement){if(!R.hasAttribute("data-lm-dragscroll"))continue;let G=0,F=0;R===document.body&&(G=window.pageXOffset,F=window.pageYOffset);let K=R.getBoundingClientRect(),Q=K.top+F,ie=K.left+G,te=ie+K.width,oe=Q+K.height;if(B<ie||B>=te||Z<Q||Z>=oe)continue;let le=B-ie+1,de=Z-Q+1,ge=te-B,_e=oe-Z,we=Math.min(le,de,ge,_e);if(we>t.SCROLL_EDGE_SIZE)continue;let Me;switch(we){case _e:Me="bottom";break;case de:Me="top";break;case ge:Me="right";break;case le:Me="left";break;default:throw"unreachable"}let xe=R.scrollWidth-R.clientWidth,Re=R.scrollHeight-R.clientHeight,Se;switch(Me){case"top":Se=Re>0&&R.scrollTop>0;break;case"left":Se=xe>0&&R.scrollLeft>0;break;case"right":Se=xe>0&&R.scrollLeft<xe;break;case"bottom":Se=Re>0&&R.scrollTop<Re;break;default:throw"unreachable"}if(Se)return{element:R,edge:Me,distance:we}}return null}t.findScrollTarget=u;function l(j,B,Z,R){if(!B)return null;let G=new Drag$3.Event(R,{drag:j,related:Z,type:"lm-dragenter"});if(!B.dispatchEvent(G))return B;const K=j.document instanceof Document?j.document.body:j.document.firstElementChild;return B===K?Z:(G=new Drag$3.Event(R,{drag:j,related:Z,type:"lm-dragenter"}),K.dispatchEvent(G),K)}t.dispatchDragEnter=l;function c(j,B,Z,R){if(!B)return;let G=new Drag$3.Event(R,{drag:j,related:Z,type:"lm-dragexit"});B.dispatchEvent(G)}t.dispatchDragExit=c;function f(j,B,Z,R){if(!B)return;let G=new Drag$3.Event(R,{drag:j,related:Z,type:"lm-dragleave"});B.dispatchEvent(G)}t.dispatchDragLeave=f;function d(j,B,Z){if(!B)return"none";let R=new Drag$3.Event(Z,{drag:j,related:null,type:"lm-dragover"});return B.dispatchEvent(R)?"none":R.dropAction}t.dispatchDragOver=d;function m(j,B,Z){if(!B)return"none";let R=new Drag$3.Event(Z,{drag:j,related:null,type:"lm-drop"});return B.dispatchEvent(R)?"none":R.dropAction}t.dispatchDrop=m;const g={none:0,copy:1,link:2,move:4},v={none:g.none,copy:g.copy,link:g.link,move:g.move,"copy-link":g.copy|g.link,"copy-move":g.copy|g.move,"link-move":g.link|g.move,all:g.copy|g.link|g.move};function y(j,B=document){let Z=++k;const R=B instanceof Document?B.body:B.firstElementChild;return t.cursorBackdrop.isConnected||(t.cursorBackdrop.style.transform="scale(0)",R.appendChild(t.cursorBackdrop),P(),document.addEventListener("pointermove",w,{capture:!0,passive:!0}),t.cursorBackdrop.addEventListener("scroll",T,{capture:!0,passive:!0})),t.cursorBackdrop.style.cursor=j,new DisposableDelegate$2(()=>{Z===k&&t.cursorBackdrop.isConnected&&(document.removeEventListener("pointermove",w,!0),t.cursorBackdrop.removeEventListener("scroll",T,!0),R.removeChild(t.cursorBackdrop))})}t.overrideCursor=y;function w(j){t.cursorBackdrop&&(t.cursorBackdrop.style.transform=`translate(${j.clientX}px, ${j.clientY}px)`)}function T(j){if(!t.cursorBackdrop)return;let B=n();if(!B)return;const Z=B.closest("[data-lm-dragscroll]");Z&&(Z.scrollTop+=t.cursorBackdrop.scrollTop-A,Z.scrollLeft+=t.cursorBackdrop.scrollLeft-A,P())}function P(){t.cursorBackdrop.scrollTop=A,t.cursorBackdrop.scrollLeft=A}const A=500;function D(){const j=document.createElement("div");return j.classList.add("lm-cursor-backdrop"),j}let k=0;t.cursorBackdrop=D()})(Private$N||(Private$N={}));let BoxSizer$3=class{constructor(){this.sizeHint=0,this.minSize=0,this.maxSize=1/0,this.stretch=1,this.size=0,this.done=!1}};var BoxEngine$3;(function(t){function e(u,l){let c=u.length;if(c===0)return l;let f=0,d=0,m=0,g=0,v=0;for(let T=0;T<c;++T){let P=u[T],A=P.minSize,D=P.maxSize,k=P.sizeHint;P.done=!1,P.size=Math.max(A,Math.min(k,D)),m+=P.size,f+=A,d+=D,P.stretch>0&&(g+=P.stretch,v++)}if(l===m)return 0;if(l<=f){for(let T=0;T<c;++T){let P=u[T];P.size=P.minSize}return l-f}if(l>=d){for(let T=0;T<c;++T){let P=u[T];P.size=P.maxSize}return l-d}let y=.01,w=c;if(l<m){let T=m-l;for(;v>0&&T>y;){let P=T,A=g;for(let D=0;D<c;++D){let k=u[D];if(k.done||k.stretch===0)continue;let j=k.stretch*P/A;k.size-j<=k.minSize?(T-=k.size-k.minSize,g-=k.stretch,k.size=k.minSize,k.done=!0,w--,v--):(T-=j,k.size-=j)}}for(;w>0&&T>y;){let P=T/w;for(let A=0;A<c;++A){let D=u[A];D.done||(D.size-P<=D.minSize?(T-=D.size-D.minSize,D.size=D.minSize,D.done=!0,w--):(T-=P,D.size-=P))}}}else{let T=l-m;for(;v>0&&T>y;){let P=T,A=g;for(let D=0;D<c;++D){let k=u[D];if(k.done||k.stretch===0)continue;let j=k.stretch*P/A;k.size+j>=k.maxSize?(T-=k.maxSize-k.size,g-=k.stretch,k.size=k.maxSize,k.done=!0,w--,v--):(T-=j,k.size+=j)}}for(;w>0&&T>y;){let P=T/w;for(let A=0;A<c;++A){let D=u[A];D.done||(D.size+P>=D.maxSize?(T-=D.maxSize-D.size,D.size=D.maxSize,D.done=!0,w--):(T-=P,D.size+=P))}}}return 0}t.calc=e;function n(u,l,c){u.length===0||c===0||(c>0?i(u,l,c):o(u,l,-c))}t.adjust=n;function i(u,l,c){let f=0;for(let v=0;v<=l;++v){let y=u[v];f+=y.maxSize-y.size}let d=0;for(let v=l+1,y=u.length;v<y;++v){let w=u[v];d+=w.size-w.minSize}c=Math.min(c,f,d);let m=c;for(let v=l;v>=0&&m>0;--v){let y=u[v],w=y.maxSize-y.size;w>=m?(y.sizeHint=y.size+m,m=0):(y.sizeHint=y.size+w,m-=w)}let g=c;for(let v=l+1,y=u.length;v<y&&g>0;++v){let w=u[v],T=w.size-w.minSize;T>=g?(w.sizeHint=w.size-g,g=0):(w.sizeHint=w.size-T,g-=T)}}function o(u,l,c){let f=0;for(let v=l+1,y=u.length;v<y;++v){let w=u[v];f+=w.maxSize-w.size}let d=0;for(let v=0;v<=l;++v){let y=u[v];d+=y.size-y.minSize}c=Math.min(c,f,d);let m=c;for(let v=l+1,y=u.length;v<y&&m>0;++v){let w=u[v],T=w.maxSize-w.size;T>=m?(w.sizeHint=w.size+m,m=0):(w.sizeHint=w.size+T,m-=T)}let g=c;for(let v=l;v>=0&&g>0;--v){let y=u[v],w=y.size-y.minSize;w>=g?(y.sizeHint=y.size-g,g=0):(y.sizeHint=y.size-w,g-=w)}}})(BoxEngine$3||(BoxEngine$3={}));let Title$3=class{constructor(e){this._label="",this._caption="",this._mnemonic=-1,this._icon=void 0,this._iconClass="",this._iconLabel="",this._className="",this._closable=!1,this._changed=new Signal$2(this),this._isDisposed=!1,this.owner=e.owner,e.label!==void 0&&(this._label=e.label),e.mnemonic!==void 0&&(this._mnemonic=e.mnemonic),e.icon!==void 0&&(this._icon=e.icon),e.iconClass!==void 0&&(this._iconClass=e.iconClass),e.iconLabel!==void 0&&(this._iconLabel=e.iconLabel),e.caption!==void 0&&(this._caption=e.caption),e.className!==void 0&&(this._className=e.className),e.closable!==void 0&&(this._closable=e.closable),this._dataset=e.dataset||{}}get changed(){return this._changed}get label(){return this._label}set label(e){this._label!==e&&(this._label=e,this._changed.emit(void 0))}get mnemonic(){return this._mnemonic}set mnemonic(e){this._mnemonic!==e&&(this._mnemonic=e,this._changed.emit(void 0))}get icon(){return this._icon}set icon(e){this._icon!==e&&(this._icon=e,this._changed.emit(void 0))}get iconClass(){return this._iconClass}set iconClass(e){this._iconClass!==e&&(this._iconClass=e,this._changed.emit(void 0))}get iconLabel(){return this._iconLabel}set iconLabel(e){this._iconLabel!==e&&(this._iconLabel=e,this._changed.emit(void 0))}get caption(){return this._caption}set caption(e){this._caption!==e&&(this._caption=e,this._changed.emit(void 0))}get className(){return this._className}set className(e){this._className!==e&&(this._className=e,this._changed.emit(void 0))}get closable(){return this._closable}set closable(e){this._closable!==e&&(this._closable=e,this._changed.emit(void 0))}get dataset(){return this._dataset}set dataset(e){this._dataset!==e&&(this._dataset=e,this._changed.emit(void 0))}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,Signal$2.clearData(this))}},Widget$3=class kr{constructor(e={}){this._flags=0,this._layout=null,this._parent=null,this._disposed=new Signal$2(this),this._hiddenMode=kr.HiddenMode.Display,this.node=Private$j$3.createNode(e),this.addClass("lm-Widget")}dispose(){this.isDisposed||(this.setFlag(kr.Flag.IsDisposed),this._disposed.emit(void 0),this.parent?this.parent=null:this.isAttached&&kr.detach(this),this._layout&&(this._layout.dispose(),this._layout=null),this.title.dispose(),Signal$2.clearData(this),MessageLoop$3.clearData(this),AttachedProperty$2.clearData(this))}get disposed(){return this._disposed}get isDisposed(){return this.testFlag(kr.Flag.IsDisposed)}get isAttached(){return this.testFlag(kr.Flag.IsAttached)}get isHidden(){return this.testFlag(kr.Flag.IsHidden)}get isVisible(){let e=this;do{if(e.isHidden||!e.isAttached)return!1;e=e.parent}while(e!=null);return!0}get title(){return Private$j$3.titleProperty.get(this)}get id(){return this.node.id}set id(e){this.node.id=e}get dataset(){return this.node.dataset}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this.isHidden&&this._toggleHidden(!1),e==kr.HiddenMode.Scale?this.node.style.willChange="transform":this.node.style.willChange="auto",this._hiddenMode=e,this.isHidden&&this._toggleHidden(!0))}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(e&&this.contains(e))throw new Error("Invalid parent widget.");if(this._parent&&!this._parent.isDisposed){let n=new kr.ChildMessage("child-removed",this);MessageLoop$3.sendMessage(this._parent,n)}if(this._parent=e,this._parent&&!this._parent.isDisposed){let n=new kr.ChildMessage("child-added",this);MessageLoop$3.sendMessage(this._parent,n)}this.isDisposed||MessageLoop$3.sendMessage(this,kr.Msg.ParentChanged)}}get layout(){return this._layout}set layout(e){if(this._layout!==e){if(this.testFlag(kr.Flag.DisallowLayout))throw new Error("Cannot set widget layout.");if(this._layout)throw new Error("Cannot change widget layout.");if(e.parent)throw new Error("Cannot change layout parent.");this._layout=e,e.parent=this}}*children(){this._layout&&(yield*this._layout)}contains(e){for(let n=e;n;n=n._parent)if(n===this)return!0;return!1}hasClass(e){return this.node.classList.contains(e)}addClass(e){this.node.classList.add(e)}removeClass(e){this.node.classList.remove(e)}toggleClass(e,n){return n===!0?(this.node.classList.add(e),!0):n===!1?(this.node.classList.remove(e),!1):this.node.classList.toggle(e)}update(){MessageLoop$3.postMessage(this,kr.Msg.UpdateRequest)}fit(){MessageLoop$3.postMessage(this,kr.Msg.FitRequest)}activate(){MessageLoop$3.postMessage(this,kr.Msg.ActivateRequest)}close(){MessageLoop$3.sendMessage(this,kr.Msg.CloseRequest)}show(){if(this.testFlag(kr.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&MessageLoop$3.sendMessage(this,kr.Msg.BeforeShow),this.clearFlag(kr.Flag.IsHidden),this._toggleHidden(!1),this.isAttached&&(!this.parent||this.parent.isVisible)&&MessageLoop$3.sendMessage(this,kr.Msg.AfterShow),this.parent)){let e=new kr.ChildMessage("child-shown",this);MessageLoop$3.sendMessage(this.parent,e)}}hide(){if(!this.testFlag(kr.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&MessageLoop$3.sendMessage(this,kr.Msg.BeforeHide),this.setFlag(kr.Flag.IsHidden),this._toggleHidden(!0),this.isAttached&&(!this.parent||this.parent.isVisible)&&MessageLoop$3.sendMessage(this,kr.Msg.AfterHide),this.parent)){let e=new kr.ChildMessage("child-hidden",this);MessageLoop$3.sendMessage(this.parent,e)}}setHidden(e){e?this.hide():this.show()}testFlag(e){return(this._flags&e)!==0}setFlag(e){this._flags|=e}clearFlag(e){this._flags&=~e}processMessage(e){switch(e.type){case"resize":this.notifyLayout(e),this.onResize(e);break;case"update-request":this.notifyLayout(e),this.onUpdateRequest(e);break;case"fit-request":this.notifyLayout(e),this.onFitRequest(e);break;case"before-show":this.notifyLayout(e),this.onBeforeShow(e);break;case"after-show":this.setFlag(kr.Flag.IsVisible),this.notifyLayout(e),this.onAfterShow(e);break;case"before-hide":this.notifyLayout(e),this.onBeforeHide(e);break;case"after-hide":this.clearFlag(kr.Flag.IsVisible),this.notifyLayout(e),this.onAfterHide(e);break;case"before-attach":this.notifyLayout(e),this.onBeforeAttach(e);break;case"after-attach":!this.isHidden&&(!this.parent||this.parent.isVisible)&&this.setFlag(kr.Flag.IsVisible),this.setFlag(kr.Flag.IsAttached),this.notifyLayout(e),this.onAfterAttach(e);break;case"before-detach":this.notifyLayout(e),this.onBeforeDetach(e);break;case"after-detach":this.clearFlag(kr.Flag.IsVisible),this.clearFlag(kr.Flag.IsAttached),this.notifyLayout(e),this.onAfterDetach(e);break;case"activate-request":this.notifyLayout(e),this.onActivateRequest(e);break;case"close-request":this.notifyLayout(e),this.onCloseRequest(e);break;case"child-added":this.notifyLayout(e),this.onChildAdded(e);break;case"child-removed":this.notifyLayout(e),this.onChildRemoved(e);break;default:this.notifyLayout(e);break}}notifyLayout(e){this._layout&&this._layout.processParentMessage(e)}onCloseRequest(e){this.parent?this.parent=null:this.isAttached&&kr.detach(this)}onResize(e){}onUpdateRequest(e){}onFitRequest(e){}onActivateRequest(e){}onBeforeShow(e){}onAfterShow(e){}onBeforeHide(e){}onAfterHide(e){}onBeforeAttach(e){}onAfterAttach(e){}onBeforeDetach(e){}onAfterDetach(e){}onChildAdded(e){}onChildRemoved(e){}_toggleHidden(e){if(e)switch(this._hiddenMode){case kr.HiddenMode.Display:this.addClass("lm-mod-hidden");break;case kr.HiddenMode.Scale:this.node.style.transform="scale(0)",this.node.setAttribute("aria-hidden","true");break;case kr.HiddenMode.ContentVisibility:this.node.style.contentVisibility="hidden",this.node.style.zIndex="-1";break}else switch(this._hiddenMode){case kr.HiddenMode.Display:this.removeClass("lm-mod-hidden");break;case kr.HiddenMode.Scale:this.node.style.transform="",this.node.removeAttribute("aria-hidden");break;case kr.HiddenMode.ContentVisibility:this.node.style.contentVisibility="",this.node.style.zIndex="";break}}};(function(t){(function(u){u[u.Display=0]="Display",u[u.Scale=1]="Scale",u[u.ContentVisibility=2]="ContentVisibility"})(t.HiddenMode||(t.HiddenMode={})),(function(u){u[u.IsDisposed=1]="IsDisposed",u[u.IsAttached=2]="IsAttached",u[u.IsHidden=4]="IsHidden",u[u.IsVisible=8]="IsVisible",u[u.DisallowLayout=16]="DisallowLayout"})(t.Flag||(t.Flag={})),(function(u){u.BeforeShow=new Message$3("before-show"),u.AfterShow=new Message$3("after-show"),u.BeforeHide=new Message$3("before-hide"),u.AfterHide=new Message$3("after-hide"),u.BeforeAttach=new Message$3("before-attach"),u.AfterAttach=new Message$3("after-attach"),u.BeforeDetach=new Message$3("before-detach"),u.AfterDetach=new Message$3("after-detach"),u.ParentChanged=new Message$3("parent-changed"),u.UpdateRequest=new ConflatableMessage$3("update-request"),u.FitRequest=new ConflatableMessage$3("fit-request"),u.ActivateRequest=new ConflatableMessage$3("activate-request"),u.CloseRequest=new ConflatableMessage$3("close-request")})(t.Msg||(t.Msg={}));class e extends Message$3{constructor(l,c){super(l),this.child=c}}t.ChildMessage=e;class n extends Message$3{constructor(l,c){super("resize"),this.width=l,this.height=c}}t.ResizeMessage=n,(function(u){u.UnknownSize=new u(-1,-1)})(n=t.ResizeMessage||(t.ResizeMessage={}));function i(u,l,c=null){if(u.parent)throw new Error("Cannot attach a child widget.");if(u.isAttached||u.node.isConnected)throw new Error("Widget is already attached.");if(!l.isConnected)throw new Error("Host is not attached.");MessageLoop$3.sendMessage(u,t.Msg.BeforeAttach),l.insertBefore(u.node,c),MessageLoop$3.sendMessage(u,t.Msg.AfterAttach)}t.attach=i;function o(u){if(u.parent)throw new Error("Cannot detach a child widget.");if(!u.isAttached||!u.node.isConnected)throw new Error("Widget is not attached.");MessageLoop$3.sendMessage(u,t.Msg.BeforeDetach),u.node.parentNode.removeChild(u.node),MessageLoop$3.sendMessage(u,t.Msg.AfterDetach)}t.detach=o})(Widget$3||(Widget$3={}));var Private$j$3;(function(t){t.titleProperty=new AttachedProperty$2({name:"title",create:n=>new Title$3({owner:n})});function e(n){return n.node||document.createElement(n.tag||"div")}t.createNode=e})(Private$j$3||(Private$j$3={}));let Layout$3=class{constructor(e={}){this._disposed=!1,this._parent=null,this._fitPolicy=e.fitPolicy||"set-min-size"}dispose(){this._parent=null,this._disposed=!0,Signal$2.clearData(this),AttachedProperty$2.clearData(this)}get isDisposed(){return this._disposed}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(this._parent)throw new Error("Cannot change parent widget.");if(e.layout!==this)throw new Error("Invalid parent widget.");this._parent=e,this.init()}}get fitPolicy(){return this._fitPolicy}set fitPolicy(e){if(this._fitPolicy!==e&&(this._fitPolicy=e,this._parent)){let n=this._parent.node.style;n.minWidth="",n.minHeight="",n.maxWidth="",n.maxHeight="",this._parent.fit()}}processParentMessage(e){switch(e.type){case"resize":this.onResize(e);break;case"update-request":this.onUpdateRequest(e);break;case"fit-request":this.onFitRequest(e);break;case"before-show":this.onBeforeShow(e);break;case"after-show":this.onAfterShow(e);break;case"before-hide":this.onBeforeHide(e);break;case"after-hide":this.onAfterHide(e);break;case"before-attach":this.onBeforeAttach(e);break;case"after-attach":this.onAfterAttach(e);break;case"before-detach":this.onBeforeDetach(e);break;case"after-detach":this.onAfterDetach(e);break;case"child-removed":this.onChildRemoved(e);break;case"child-shown":this.onChildShown(e);break;case"child-hidden":this.onChildHidden(e);break}}init(){for(const e of this)e.parent=this.parent}onResize(e){for(const n of this)MessageLoop$3.sendMessage(n,Widget$3.ResizeMessage.UnknownSize)}onUpdateRequest(e){for(const n of this)MessageLoop$3.sendMessage(n,Widget$3.ResizeMessage.UnknownSize)}onBeforeAttach(e){for(const n of this)MessageLoop$3.sendMessage(n,e)}onAfterAttach(e){for(const n of this)MessageLoop$3.sendMessage(n,e)}onBeforeDetach(e){for(const n of this)MessageLoop$3.sendMessage(n,e)}onAfterDetach(e){for(const n of this)MessageLoop$3.sendMessage(n,e)}onBeforeShow(e){for(const n of this)n.isHidden||MessageLoop$3.sendMessage(n,e)}onAfterShow(e){for(const n of this)n.isHidden||MessageLoop$3.sendMessage(n,e)}onBeforeHide(e){for(const n of this)n.isHidden||MessageLoop$3.sendMessage(n,e)}onAfterHide(e){for(const n of this)n.isHidden||MessageLoop$3.sendMessage(n,e)}onChildRemoved(e){this.removeWidget(e.child)}onFitRequest(e){}onChildShown(e){}onChildHidden(e){}};(function(t){function e(u){return Private$i$3.horizontalAlignmentProperty.get(u)}t.getHorizontalAlignment=e;function n(u,l){Private$i$3.horizontalAlignmentProperty.set(u,l)}t.setHorizontalAlignment=n;function i(u){return Private$i$3.verticalAlignmentProperty.get(u)}t.getVerticalAlignment=i;function o(u,l){Private$i$3.verticalAlignmentProperty.set(u,l)}t.setVerticalAlignment=o})(Layout$3||(Layout$3={}));let LayoutItem$3=class{constructor(e){this._top=NaN,this._left=NaN,this._width=NaN,this._height=NaN,this._minWidth=0,this._minHeight=0,this._maxWidth=1/0,this._maxHeight=1/0,this._disposed=!1,this.widget=e,this.widget.node.style.position="absolute",this.widget.node.style.contain="strict"}dispose(){if(this._disposed)return;this._disposed=!0;let e=this.widget.node.style;e.position="",e.top="",e.left="",e.width="",e.height="",e.contain=""}get minWidth(){return this._minWidth}get minHeight(){return this._minHeight}get maxWidth(){return this._maxWidth}get maxHeight(){return this._maxHeight}get isDisposed(){return this._disposed}get isHidden(){return this.widget.isHidden}get isVisible(){return this.widget.isVisible}get isAttached(){return this.widget.isAttached}fit(){let e=ElementExt$1.sizeLimits(this.widget.node);this._minWidth=e.minWidth,this._minHeight=e.minHeight,this._maxWidth=e.maxWidth,this._maxHeight=e.maxHeight}update(e,n,i,o){let u=Math.max(this._minWidth,Math.min(i,this._maxWidth)),l=Math.max(this._minHeight,Math.min(o,this._maxHeight));if(u<i)switch(Layout$3.getHorizontalAlignment(this.widget)){case"left":break;case"center":e+=(i-u)/2;break;case"right":e+=i-u;break;default:throw"unreachable"}if(l<o)switch(Layout$3.getVerticalAlignment(this.widget)){case"top":break;case"center":n+=(o-l)/2;break;case"bottom":n+=o-l;break;default:throw"unreachable"}let c=!1,f=this.widget.node.style;if(this._top!==n&&(this._top=n,f.top=`${n}px`),this._left!==e&&(this._left=e,f.left=`${e}px`),this._width!==u&&(c=!0,this._width=u,f.width=`${u}px`),this._height!==l&&(c=!0,this._height=l,f.height=`${l}px`),c){let d=new Widget$3.ResizeMessage(u,l);MessageLoop$3.sendMessage(this.widget,d)}}};var Private$i$3;(function(t){t.horizontalAlignmentProperty=new AttachedProperty$2({name:"horizontalAlignment",create:()=>"center",changed:e}),t.verticalAlignmentProperty=new AttachedProperty$2({name:"verticalAlignment",create:()=>"top",changed:e});function e(n){n.parent&&n.parent.layout&&n.parent.update()}})(Private$i$3||(Private$i$3={}));let PanelLayout$3=class extends Layout$3{constructor(){super(...arguments),this._widgets=[]}dispose(){for(;this._widgets.length>0;)this._widgets.pop().dispose();super.dispose()}get widgets(){return this._widgets}*[Symbol.iterator](){yield*this._widgets}addWidget(e){this.insertWidget(this._widgets.length,e)}insertWidget(e,n){n.parent=this.parent;let i=this._widgets.indexOf(n),o=Math.max(0,Math.min(e,this._widgets.length));if(i===-1){ArrayExt$4.insert(this._widgets,o,n),this.parent&&this.attachWidget(o,n);return}o===this._widgets.length&&o--,i!==o&&(ArrayExt$4.move(this._widgets,i,o),this.parent&&this.moveWidget(i,o,n))}removeWidget(e){this.removeWidgetAt(this._widgets.indexOf(e))}removeWidgetAt(e){let n=ArrayExt$4.removeAt(this._widgets,e);n&&this.parent&&this.detachWidget(e,n)}init(){super.init();let e=0;for(const n of this)this.attachWidget(e++,n)}attachWidget(e,n){let i=this.parent.node.children[e];this.parent.isAttached&&MessageLoop$3.sendMessage(n,Widget$3.Msg.BeforeAttach),this.parent.node.insertBefore(n.node,i),this.parent.isAttached&&MessageLoop$3.sendMessage(n,Widget$3.Msg.AfterAttach)}moveWidget(e,n,i){this.parent.isAttached&&MessageLoop$3.sendMessage(i,Widget$3.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&MessageLoop$3.sendMessage(i,Widget$3.Msg.AfterDetach);let o=this.parent.node.children[n];this.parent.isAttached&&MessageLoop$3.sendMessage(i,Widget$3.Msg.BeforeAttach),this.parent.node.insertBefore(i.node,o),this.parent.isAttached&&MessageLoop$3.sendMessage(i,Widget$3.Msg.AfterAttach)}detachWidget(e,n){this.parent.isAttached&&MessageLoop$3.sendMessage(n,Widget$3.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.isAttached&&MessageLoop$3.sendMessage(n,Widget$3.Msg.AfterDetach)}};var Utils$4;(function(t){function e(n){return Math.max(0,Math.floor(n))}t.clampDimension=e})(Utils$4||(Utils$4={}));var Utils$1$3=Utils$4;let SplitLayout$3=class _p extends PanelLayout$3{constructor(e){super(),this.widgetOffset=0,this._fixed=0,this._spacing=4,this._dirty=!1,this._hasNormedSizes=!1,this._sizers=[],this._items=[],this._handles=[],this._box=null,this._alignment="start",this._orientation="horizontal",this.renderer=e.renderer,e.orientation!==void 0&&(this._orientation=e.orientation),e.alignment!==void 0&&(this._alignment=e.alignment),e.spacing!==void 0&&(this._spacing=Utils$4.clampDimension(e.spacing))}dispose(){for(const e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,this._handles.length=0,super.dispose()}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this.parent&&(this.parent.dataset.orientation=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=Utils$4.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get handles(){return this._handles}absoluteSizes(){return this._sizers.map(e=>e.size)}relativeSizes(){return Private$h$3.normalize(this._sizers.map(e=>e.size))}setRelativeSizes(e,n=!0){let i=this._sizers.length,o=e.slice(0,i);for(;o.length<i;)o.push(0);let u=Private$h$3.normalize(o);for(let l=0;l<i;++l){let c=this._sizers[l];c.sizeHint=u[l],c.size=u[l]}this._hasNormedSizes=!0,n&&this.parent&&this.parent.update()}moveHandle(e,n){let i=this._handles[e];if(!i||i.classList.contains("lm-mod-hidden"))return;let o;if(this._orientation==="horizontal"?o=n-i.offsetLeft:o=n-i.offsetTop,o!==0){for(let u of this._sizers)u.size>0&&(u.sizeHint=u.size);BoxEngine$3.adjust(this._sizers,e,o),this.parent&&this.parent.update()}}init(){this.parent.dataset.orientation=this.orientation,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,n){let i=new LayoutItem$3(n),o=Private$h$3.createHandle(this.renderer),u=Private$h$3.averageSize(this._sizers),l=Private$h$3.createSizer(u);ArrayExt$4.insert(this._items,e,i),ArrayExt$4.insert(this._sizers,e,l),ArrayExt$4.insert(this._handles,e,o),this.parent.isAttached&&MessageLoop$3.sendMessage(n,Widget$3.Msg.BeforeAttach),this.parent.node.appendChild(n.node),this.parent.node.appendChild(o),this.parent.isAttached&&MessageLoop$3.sendMessage(n,Widget$3.Msg.AfterAttach),this.parent.fit()}moveWidget(e,n,i){ArrayExt$4.move(this._items,e,n),ArrayExt$4.move(this._sizers,e,n),ArrayExt$4.move(this._handles,e,n),this.parent.fit()}detachWidget(e,n){let i=ArrayExt$4.removeAt(this._items,e),o=ArrayExt$4.removeAt(this._handles,e);ArrayExt$4.removeAt(this._sizers,e),this.parent.isAttached&&MessageLoop$3.sendMessage(n,Widget$3.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.node.removeChild(o),this.parent.isAttached&&MessageLoop$3.sendMessage(n,Widget$3.Msg.AfterDetach),i.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}updateItemPosition(e,n,i,o,u,l,c){const f=this._items[e];if(f.isHidden)return;let d=this._handles[e].style;n?(i+=this.widgetOffset,f.update(i,o,c,u),i+=c,d.top=`${o}px`,d.left=`${i}px`,d.width=`${this._spacing}px`,d.height=`${u}px`):(o+=this.widgetOffset,f.update(i,o,l,c),o+=c,d.top=`${o}px`,d.left=`${i}px`,d.width=`${l}px`,d.height=`${this._spacing}px`)}_fit(){let e=0,n=-1;for(let f=0,d=this._items.length;f<d;++f)this._items[f].isHidden?this._handles[f].classList.add("lm-mod-hidden"):(this._handles[f].classList.remove("lm-mod-hidden"),n=f,e++);n!==-1&&this._handles[n].classList.add("lm-mod-hidden"),this._fixed=this._spacing*Math.max(0,e-1)+this.widgetOffset*this._items.length;let i=this._orientation==="horizontal",o=i?this._fixed:0,u=i?0:this._fixed;for(let f=0,d=this._items.length;f<d;++f){let m=this._items[f],g=this._sizers[f];if(g.size>0&&(g.sizeHint=g.size),m.isHidden){g.minSize=0,g.maxSize=0;continue}m.fit(),g.stretch=_p.getStretch(m.widget),i?(g.minSize=m.minWidth,g.maxSize=m.maxWidth,o+=m.minWidth,u=Math.max(u,m.minHeight)):(g.minSize=m.minHeight,g.maxSize=m.maxHeight,u+=m.minHeight,o=Math.max(o,m.minWidth))}let l=this._box=ElementExt$1.boxSizing(this.parent.node);o+=l.horizontalSum,u+=l.verticalSum;let c=this.parent.node.style;c.minWidth=`${o}px`,c.minHeight=`${u}px`,this._dirty=!0,this.parent.parent&&MessageLoop$3.sendMessage(this.parent.parent,Widget$3.Msg.FitRequest),this._dirty&&MessageLoop$3.sendMessage(this.parent,Widget$3.Msg.UpdateRequest)}_update(e,n){this._dirty=!1;let i=0;for(let g=0,v=this._items.length;g<v;++g)i+=+!this._items[g].isHidden;if(i===0&&this.widgetOffset===0)return;e<0&&(e=this.parent.node.offsetWidth),n<0&&(n=this.parent.node.offsetHeight),this._box||(this._box=ElementExt$1.boxSizing(this.parent.node));let o=this._box.paddingTop,u=this._box.paddingLeft,l=e-this._box.horizontalSum,c=n-this._box.verticalSum,f=0,d=0,m=this._orientation==="horizontal";if(i>0){let g;if(m?g=Math.max(0,l-this._fixed):g=Math.max(0,c-this._fixed),this._hasNormedSizes){for(let y of this._sizers)y.sizeHint*=g;this._hasNormedSizes=!1}let v=BoxEngine$3.calc(this._sizers,g);if(v>0)switch(this._alignment){case"start":break;case"center":f=0,d=v/2;break;case"end":f=0,d=v;break;case"justify":f=v/i,d=0;break;default:throw"unreachable"}}for(let g=0,v=this._items.length;g<v;++g){const w=this._items[g].isHidden?0:this._sizers[g].size+f;this.updateItemPosition(g,m,m?u+d:u,m?o:o+d,c,l,w);const T=this.widgetOffset+(this._handles[g].classList.contains("lm-mod-hidden")?0:this._spacing);m?u+=w+T:o+=w+T}}};(function(t){function e(i){return Private$h$3.stretchProperty.get(i)}t.getStretch=e;function n(i,o){Private$h$3.stretchProperty.set(i,o)}t.setStretch=n})(SplitLayout$3||(SplitLayout$3={}));var Private$h$3;(function(t){t.stretchProperty=new AttachedProperty$2({name:"stretch",create:()=>0,coerce:(l,c)=>Math.max(0,Math.floor(c)),changed:u});function e(l){let c=new BoxSizer$3;return c.sizeHint=Math.floor(l),c}t.createSizer=e;function n(l){let c=l.createHandle();return c.style.position="absolute",c.style.contain="style",c}t.createHandle=n;function i(l){return l.reduce((c,f)=>c+f.size,0)/l.length||0}t.averageSize=i;function o(l){let c=l.length;if(c===0)return[];let f=l.reduce((d,m)=>d+Math.abs(m),0);return f===0?l.map(d=>1/c):l.map(d=>d/f)}t.normalize=o;function u(l){l.parent&&l.parent.layout instanceof SplitLayout$3&&l.parent.fit()}})(Private$h$3||(Private$h$3={}));let AccordionLayout$3=class extends SplitLayout$3{constructor(e){super({...e,orientation:e.orientation||"vertical"}),this._titles=[],this.titleSpace=e.titleSpace||22}get titleSpace(){return this.widgetOffset}set titleSpace(e){e=Utils$1$3.clampDimension(e),this.widgetOffset!==e&&(this.widgetOffset=e,this.parent&&this.parent.fit())}get titles(){return this._titles}dispose(){this.isDisposed||(this._titles.length=0,super.dispose())}updateTitle(e,n){const i=this._titles[e],o=i.classList.contains("lm-mod-expanded"),u=Private$g$3.createTitle(this.renderer,n.title,o);this._titles[e]=u,this.parent.node.replaceChild(u,i)}insertWidget(e,n){n.id||(n.id=`id-${UUID$2.uuid4()}`),super.insertWidget(e,n)}attachWidget(e,n){const i=Private$g$3.createTitle(this.renderer,n.title);ArrayExt$4.insert(this._titles,e,i),this.parent.node.appendChild(i),n.node.setAttribute("role","region"),n.node.setAttribute("aria-labelledby",i.id),super.attachWidget(e,n)}moveWidget(e,n,i){ArrayExt$4.move(this._titles,e,n),super.moveWidget(e,n,i)}detachWidget(e,n){const i=ArrayExt$4.removeAt(this._titles,e);this.parent.node.removeChild(i),super.detachWidget(e,n)}updateItemPosition(e,n,i,o,u,l,c){const f=this._titles[e].style;f.top=`${o}px`,f.left=`${i}px`,f.height=`${this.widgetOffset}px`,n?f.width=`${u}px`:f.width=`${l}px`,super.updateItemPosition(e,n,i,o,u,l,c)}};var Private$g$3;(function(t){function e(n,i,o=!0){const u=n.createSectionTitle(i);return u.style.position="absolute",u.style.contain="strict",u.setAttribute("aria-label",`${i.label} Section`),u.setAttribute("aria-expanded",o?"true":"false"),u.setAttribute("aria-controls",i.owner.id),o&&u.classList.add("lm-mod-expanded"),u}t.createTitle=e})(Private$g$3||(Private$g$3={}));let Panel$3=class extends Widget$3{constructor(e={}){super(),this.addClass("lm-Panel"),this.layout=Private$f$3.createLayout(e)}get widgets(){return this.layout.widgets}addWidget(e){this.layout.addWidget(e)}insertWidget(e,n){this.layout.insertWidget(e,n)}};var Private$f$3;(function(t){function e(n){return n.layout||new PanelLayout$3}t.createLayout=e})(Private$f$3||(Private$f$3={}));let SplitPanel$3=class extends Panel$3{constructor(e={}){super({layout:Private$e$3.createLayout(e)}),this._handleMoved=new Signal$2(this),this._pressData=null,this.addClass("lm-SplitPanel")}dispose(){this._releaseMouse(),super.dispose()}get orientation(){return this.layout.orientation}set orientation(e){this.layout.orientation=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get renderer(){return this.layout.renderer}get handleMoved(){return this._handleMoved}get handles(){return this.layout.handles}relativeSizes(){return this.layout.relativeSizes()}setRelativeSizes(e,n=!0){this.layout.setRelativeSizes(e,n)}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){e.child.addClass("lm-SplitPanel-child"),this._releaseMouse()}onChildRemoved(e){e.child.removeClass("lm-SplitPanel-child"),this._releaseMouse()}_evtKeyDown(e){this._pressData&&(e.preventDefault(),e.stopPropagation()),e.keyCode===27&&this._releaseMouse()}_evtPointerDown(e){if(e.button!==0)return;let n=this.layout,i=ArrayExt$4.findFirstIndex(n.handles,d=>d.contains(e.target));if(i===-1)return;e.preventDefault(),e.stopPropagation(),document.addEventListener("pointerup",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0);let o,u=n.handles[i],l=u.getBoundingClientRect();n.orientation==="horizontal"?o=e.clientX-l.left:o=e.clientY-l.top;let c=window.getComputedStyle(u),f=Drag$3.overrideCursor(c.cursor);this._pressData={index:i,delta:o,override:f}}_evtPointerMove(e){e.preventDefault(),e.stopPropagation();let n,i=this.layout,o=this.node.getBoundingClientRect();i.orientation==="horizontal"?n=e.clientX-o.left-this._pressData.delta:n=e.clientY-o.top-this._pressData.delta,i.moveHandle(this._pressData.index,n)}_evtPointerUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse())}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._handleMoved.emit(),document.removeEventListener("keydown",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("contextmenu",this,!0))}};(function(t){class e{createHandle(){let u=document.createElement("div");return u.className="lm-SplitPanel-handle",u}}t.Renderer=e,t.defaultRenderer=new e;function n(o){return SplitLayout$3.getStretch(o)}t.getStretch=n;function i(o,u){SplitLayout$3.setStretch(o,u)}t.setStretch=i})(SplitPanel$3||(SplitPanel$3={}));var Private$e$3;(function(t){function e(n){return n.layout||new SplitLayout$3({renderer:n.renderer||SplitPanel$3.defaultRenderer,orientation:n.orientation,alignment:n.alignment,spacing:n.spacing})}t.createLayout=e})(Private$e$3||(Private$e$3={}));let AccordionPanel$3=class extends SplitPanel$3{constructor(e={}){super({...e,layout:Private$d$3.createLayout(e)}),this._widgetSizesCache=new WeakMap,this._expansionToggled=new Signal$2(this),this.addClass("lm-AccordionPanel")}get renderer(){return this.layout.renderer}get titleSpace(){return this.layout.titleSpace}set titleSpace(e){this.layout.titleSpace=e}get titles(){return this.layout.titles}get expansionToggled(){return this._expansionToggled}addWidget(e){super.addWidget(e),e.title.changed.connect(this._onTitleChanged,this)}collapse(e){const n=this.layout.widgets[e];n&&!n.isHidden&&this._toggleExpansion(e)}expand(e){const n=this.layout.widgets[e];n&&n.isHidden&&this._toggleExpansion(e)}insertWidget(e,n){super.insertWidget(e,n),n.title.changed.connect(this._onTitleChanged,this)}handleEvent(e){switch(super.handleEvent(e),e.type){case"click":this._evtClick(e);break;case"keydown":this._eventKeyDown(e);break}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),super.onBeforeAttach(e)}onAfterDetach(e){super.onAfterDetach(e),this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this)}_onTitleChanged(e){const n=ArrayExt$4.findFirstIndex(this.widgets,i=>i.contains(e.owner));n>=0&&(this.layout.updateTitle(n,e.owner),this.update())}_computeWidgetSize(e){const n=this.layout,i=n.widgets[e];if(!i)return;const o=i.isHidden,u=n.absoluteSizes(),l=(o?-1:1)*this.spacing,c=u.reduce((d,m)=>d+m);let f=[...u];if(o){const d=this._widgetSizesCache.get(i);if(!d)return;f[e]+=d;const m=f.map(g=>g-d>0).lastIndexOf(!0);m===-1?f.forEach((g,v)=>{v!==e&&(f[v]-=u[v]/c*(d-l))}):f[m]-=d-l}else{const d=u[e];this._widgetSizesCache.set(i,d),f[e]=0;const m=f.map(g=>g>0).lastIndexOf(!0);if(m===-1)return;f[m]=u[m]+d+l}return f.map(d=>d/(c+l))}_evtClick(e){const n=e.target;if(n){const i=ArrayExt$4.findFirstIndex(this.titles,o=>o.contains(n));i>=0&&(e.preventDefault(),e.stopPropagation(),this._toggleExpansion(i))}}_eventKeyDown(e){if(e.defaultPrevented)return;const n=e.target;let i=!1;if(n){const o=ArrayExt$4.findFirstIndex(this.titles,u=>u.contains(n));if(o>=0){const u=e.keyCode.toString();if(e.key.match(/Space|Enter/)||u.match(/13|32/))n.click(),i=!0;else if(this.orientation==="horizontal"?e.key.match(/ArrowLeft|ArrowRight/)||u.match(/37|39/):e.key.match(/ArrowUp|ArrowDown/)||u.match(/38|40/)){const l=e.key.match(/ArrowLeft|ArrowUp/)||u.match(/37|38/)?-1:1,c=this.titles.length,f=(o+c+l)%c;this.titles[f].focus(),i=!0}else e.key==="End"||u==="35"?(this.titles[this.titles.length-1].focus(),i=!0):(e.key==="Home"||u==="36")&&(this.titles[0].focus(),i=!0)}i&&e.preventDefault()}}_toggleExpansion(e){const n=this.titles[e],i=this.layout.widgets[e],o=this._computeWidgetSize(e);o&&this.setRelativeSizes(o,!1),i.isHidden?(n.classList.add("lm-mod-expanded"),n.setAttribute("aria-expanded","true"),i.show()):(n.classList.remove("lm-mod-expanded"),n.setAttribute("aria-expanded","false"),i.hide()),this._expansionToggled.emit(e)}};(function(t){class e extends SplitPanel$3.Renderer{constructor(){super(),this.titleClassName="lm-AccordionPanel-title",this._titleID=0,this._titleKeys=new WeakMap,this._uuid=++e._nInstance}createCollapseIcon(i){return document.createElement("span")}createSectionTitle(i){const o=document.createElement("h3");o.setAttribute("tabindex","0"),o.id=this.createTitleKey(i),o.className=this.titleClassName;for(const c in i.dataset)o.dataset[c]=i.dataset[c];const u=o.appendChild(this.createCollapseIcon(i));u.className="lm-AccordionPanel-titleCollapser";const l=o.appendChild(document.createElement("span"));return l.className="lm-AccordionPanel-titleLabel",l.textContent=i.label,l.title=i.caption||i.label,o}createTitleKey(i){let o=this._titleKeys.get(i);return o===void 0&&(o=`title-key-${this._uuid}-${this._titleID++}`,this._titleKeys.set(i,o)),o}}e._nInstance=0,t.Renderer=e,t.defaultRenderer=new e})(AccordionPanel$3||(AccordionPanel$3={}));var Private$d$3;(function(t){function e(n){return n.layout||new AccordionLayout$3({renderer:n.renderer||AccordionPanel$3.defaultRenderer,orientation:n.orientation,alignment:n.alignment,spacing:n.spacing,titleSpace:n.titleSpace})}t.createLayout=e})(Private$d$3||(Private$d$3={}));let BoxLayout$3=class Zc extends PanelLayout$3{constructor(e={}){super(),this._fixed=0,this._spacing=4,this._dirty=!1,this._sizers=[],this._items=[],this._box=null,this._alignment="start",this._direction="top-to-bottom",e.direction!==void 0&&(this._direction=e.direction),e.alignment!==void 0&&(this._alignment=e.alignment),e.spacing!==void 0&&(this._spacing=Utils$1$3.clampDimension(e.spacing))}dispose(){for(const e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,super.dispose()}get direction(){return this._direction}set direction(e){this._direction!==e&&(this._direction=e,this.parent&&(this.parent.dataset.direction=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=Utils$1$3.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}init(){this.parent.dataset.direction=this.direction,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,n){ArrayExt$4.insert(this._items,e,new LayoutItem$3(n)),ArrayExt$4.insert(this._sizers,e,new BoxSizer$3),this.parent.isAttached&&MessageLoop$3.sendMessage(n,Widget$3.Msg.BeforeAttach),this.parent.node.appendChild(n.node),this.parent.isAttached&&MessageLoop$3.sendMessage(n,Widget$3.Msg.AfterAttach),this.parent.fit()}moveWidget(e,n,i){ArrayExt$4.move(this._items,e,n),ArrayExt$4.move(this._sizers,e,n),this.parent.update()}detachWidget(e,n){let i=ArrayExt$4.removeAt(this._items,e);ArrayExt$4.removeAt(this._sizers,e),this.parent.isAttached&&MessageLoop$3.sendMessage(n,Widget$3.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.isAttached&&MessageLoop$3.sendMessage(n,Widget$3.Msg.AfterDetach),i.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0;for(let c=0,f=this._items.length;c<f;++c)e+=+!this._items[c].isHidden;this._fixed=this._spacing*Math.max(0,e-1);let n=Private$c$3.isHorizontal(this._direction),i=n?this._fixed:0,o=n?0:this._fixed;for(let c=0,f=this._items.length;c<f;++c){let d=this._items[c],m=this._sizers[c];if(d.isHidden){m.minSize=0,m.maxSize=0;continue}d.fit(),m.sizeHint=Zc.getSizeBasis(d.widget),m.stretch=Zc.getStretch(d.widget),n?(m.minSize=d.minWidth,m.maxSize=d.maxWidth,i+=d.minWidth,o=Math.max(o,d.minHeight)):(m.minSize=d.minHeight,m.maxSize=d.maxHeight,o+=d.minHeight,i=Math.max(i,d.minWidth))}let u=this._box=ElementExt$1.boxSizing(this.parent.node);i+=u.horizontalSum,o+=u.verticalSum;let l=this.parent.node.style;l.minWidth=`${i}px`,l.minHeight=`${o}px`,this._dirty=!0,this.parent.parent&&MessageLoop$3.sendMessage(this.parent.parent,Widget$3.Msg.FitRequest),this._dirty&&MessageLoop$3.sendMessage(this.parent,Widget$3.Msg.UpdateRequest)}_update(e,n){this._dirty=!1;let i=0;for(let g=0,v=this._items.length;g<v;++g)i+=+!this._items[g].isHidden;if(i===0)return;e<0&&(e=this.parent.node.offsetWidth),n<0&&(n=this.parent.node.offsetHeight),this._box||(this._box=ElementExt$1.boxSizing(this.parent.node));let o=this._box.paddingTop,u=this._box.paddingLeft,l=e-this._box.horizontalSum,c=n-this._box.verticalSum,f;switch(this._direction){case"left-to-right":f=BoxEngine$3.calc(this._sizers,Math.max(0,l-this._fixed));break;case"top-to-bottom":f=BoxEngine$3.calc(this._sizers,Math.max(0,c-this._fixed));break;case"right-to-left":f=BoxEngine$3.calc(this._sizers,Math.max(0,l-this._fixed)),u+=l;break;case"bottom-to-top":f=BoxEngine$3.calc(this._sizers,Math.max(0,c-this._fixed)),o+=c;break;default:throw"unreachable"}let d=0,m=0;if(f>0)switch(this._alignment){case"start":break;case"center":d=0,m=f/2;break;case"end":d=0,m=f;break;case"justify":d=f/i,m=0;break;default:throw"unreachable"}for(let g=0,v=this._items.length;g<v;++g){let y=this._items[g];if(y.isHidden)continue;let w=this._sizers[g].size;switch(this._direction){case"left-to-right":y.update(u+m,o,w+d,c),u+=w+d+this._spacing;break;case"top-to-bottom":y.update(u,o+m,l,w+d),o+=w+d+this._spacing;break;case"right-to-left":y.update(u-m-w-d,o,w+d,c),u-=w+d+this._spacing;break;case"bottom-to-top":y.update(u,o-m-w-d,l,w+d),o-=w+d+this._spacing;break;default:throw"unreachable"}}}};(function(t){function e(u){return Private$c$3.stretchProperty.get(u)}t.getStretch=e;function n(u,l){Private$c$3.stretchProperty.set(u,l)}t.setStretch=n;function i(u){return Private$c$3.sizeBasisProperty.get(u)}t.getSizeBasis=i;function o(u,l){Private$c$3.sizeBasisProperty.set(u,l)}t.setSizeBasis=o})(BoxLayout$3||(BoxLayout$3={}));var Private$c$3;(function(t){t.stretchProperty=new AttachedProperty$2({name:"stretch",create:()=>0,coerce:(o,u)=>Math.max(0,Math.floor(u)),changed:i}),t.sizeBasisProperty=new AttachedProperty$2({name:"sizeBasis",create:()=>0,coerce:(o,u)=>Math.max(0,Math.floor(u)),changed:i});function e(o){return o==="left-to-right"||o==="right-to-left"}t.isHorizontal=e;function n(o){return Math.max(0,Math.floor(o))}t.clampSpacing=n;function i(o){o.parent&&o.parent.layout instanceof BoxLayout$3&&o.parent.fit()}})(Private$c$3||(Private$c$3={}));let BoxPanel$3=class extends Panel$3{constructor(e={}){super({layout:Private$b$3.createLayout(e)}),this.addClass("lm-BoxPanel")}get direction(){return this.layout.direction}set direction(e){this.layout.direction=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}onChildAdded(e){e.child.addClass("lm-BoxPanel-child")}onChildRemoved(e){e.child.removeClass("lm-BoxPanel-child")}};(function(t){function e(u){return BoxLayout$3.getStretch(u)}t.getStretch=e;function n(u,l){BoxLayout$3.setStretch(u,l)}t.setStretch=n;function i(u){return BoxLayout$3.getSizeBasis(u)}t.getSizeBasis=i;function o(u,l){BoxLayout$3.setSizeBasis(u,l)}t.setSizeBasis=o})(BoxPanel$3||(BoxPanel$3={}));var Private$b$3;(function(t){function e(n){return n.layout||new BoxLayout$3(n)}t.createLayout=e})(Private$b$3||(Private$b$3={}));let CommandPalette$3=class bp extends Widget$3{constructor(e){super({node:Private$a$3.createNode()}),this._activeIndex=-1,this._items=[],this._results=null,this.addClass("lm-CommandPalette"),this.setFlag(Widget$3.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||bp.defaultRenderer,this.commands.commandChanged.connect(this._onGenericChange,this),this.commands.keyBindingChanged.connect(this._onGenericChange,this)}dispose(){this._items.length=0,this._results=null,super.dispose()}get searchNode(){return this.node.getElementsByClassName("lm-CommandPalette-search")[0]}get inputNode(){return this.node.getElementsByClassName("lm-CommandPalette-input")[0]}get contentNode(){return this.node.getElementsByClassName("lm-CommandPalette-content")[0]}get items(){return this._items}addItem(e){let n=Private$a$3.createItem(this.commands,e);return this._items.push(n),this.refresh(),n}addItems(e){const n=e.map(i=>Private$a$3.createItem(this.commands,i));return n.forEach(i=>this._items.push(i)),this.refresh(),n}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){ArrayExt$4.removeAt(this._items,e)&&this.refresh()}clearItems(){this._items.length!==0&&(this._items.length=0,this.refresh())}refresh(){if(this._results=null,this.inputNode.value!==""){let e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="inherit"}else{let e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="none"}this.update()}handleEvent(e){switch(e.type){case"click":this._evtClick(e);break;case"keydown":this._evtKeyDown(e);break;case"input":this.refresh();break;case"focus":case"blur":this._toggleFocused();break}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),this.node.addEventListener("input",this),this.node.addEventListener("focus",this,!0),this.node.addEventListener("blur",this,!0)}onAfterDetach(e){this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this),this.node.removeEventListener("input",this),this.node.removeEventListener("focus",this,!0),this.node.removeEventListener("blur",this,!0)}onAfterShow(e){this.update(),super.onAfterShow(e)}onActivateRequest(e){if(this.isAttached){let n=this.inputNode;n.focus(),n.select()}}onUpdateRequest(e){if(!this.isVisible){VirtualDOM$1.render(null,this.contentNode);return}let n=this.inputNode.value,i=this.contentNode,o=this._results;if(o||(o=this._results=Private$a$3.search(this._items,n),this._activeIndex=n?ArrayExt$4.findFirstIndex(o,Private$a$3.canActivate):-1),!n&&o.length===0){VirtualDOM$1.render(null,i);return}if(n&&o.length===0){let f=this.renderer.renderEmptyMessage({query:n});VirtualDOM$1.render(f,i);return}let u=this.renderer,l=this._activeIndex,c=new Array(o.length);for(let f=0,d=o.length;f<d;++f){let m=o[f];if(m.type==="header"){let g=m.indices,v=m.category;c[f]=u.renderHeader({category:v,indices:g})}else{let g=m.item,v=m.indices,y=f===l;c[f]=u.renderItem({item:g,indices:v,active:y})}}if(VirtualDOM$1.render(c,i),l<0||l>=o.length)i.scrollTop=0;else{let f=i.children[l];ElementExt$1.scrollIntoViewIfNeeded(i,f)}}_evtClick(e){if(e.button!==0)return;if(e.target.classList.contains("lm-close-icon")){this.inputNode.value="",this.refresh();return}let n=ArrayExt$4.findFirstIndex(this.contentNode.children,i=>i.contains(e.target));n!==-1&&(e.preventDefault(),e.stopPropagation(),this._execute(n))}_evtKeyDown(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey))switch(e.keyCode){case 13:e.preventDefault(),e.stopPropagation(),this._execute(this._activeIndex);break;case 38:e.preventDefault(),e.stopPropagation(),this._activatePreviousItem();break;case 40:e.preventDefault(),e.stopPropagation(),this._activateNextItem();break}}_activateNextItem(){if(!this._results||this._results.length===0)return;let e=this._activeIndex,n=this._results.length,i=e<n-1?e+1:0,o=i===0?n-1:i-1;this._activeIndex=ArrayExt$4.findFirstIndex(this._results,Private$a$3.canActivate,i,o),this.update()}_activatePreviousItem(){if(!this._results||this._results.length===0)return;let e=this._activeIndex,n=this._results.length,i=e<=0?n-1:e-1,o=i===n-1?0:i+1;this._activeIndex=ArrayExt$4.findLastIndex(this._results,Private$a$3.canActivate,i,o),this.update()}_execute(e){if(!this._results)return;let n=this._results[e];if(n){if(n.type==="header"){let i=this.inputNode;i.value=`${n.category.toLowerCase()} `,i.focus(),this.refresh();return}n.item.isEnabled&&(this.commands.execute(n.item.command,n.item.args),this.inputNode.value="",this.refresh())}}_toggleFocused(){let e=document.activeElement===this.inputNode;this.toggleClass("lm-mod-focused",e)}_onGenericChange(){this.refresh()}};(function(t){class e{renderHeader(i){let o=this.formatHeader(i);return h$2.li({className:"lm-CommandPalette-header"},o)}renderItem(i){let o=this.createItemClass(i),u=this.createItemDataset(i);return i.item.isToggleable?h$2.li({className:o,dataset:u,role:"menuitemcheckbox","aria-checked":`${i.item.isToggled}`},this.renderItemIcon(i),this.renderItemContent(i),this.renderItemShortcut(i)):h$2.li({className:o,dataset:u,role:"menuitem"},this.renderItemIcon(i),this.renderItemContent(i),this.renderItemShortcut(i))}renderEmptyMessage(i){let o=this.formatEmptyMessage(i);return h$2.li({className:"lm-CommandPalette-emptyMessage"},o)}renderItemIcon(i){let o=this.createIconClass(i);return h$2.div({className:o},i.item.icon,i.item.iconLabel)}renderItemContent(i){return h$2.div({className:"lm-CommandPalette-itemContent"},this.renderItemLabel(i),this.renderItemCaption(i))}renderItemLabel(i){let o=this.formatItemLabel(i);return h$2.div({className:"lm-CommandPalette-itemLabel"},o)}renderItemCaption(i){let o=this.formatItemCaption(i);return h$2.div({className:"lm-CommandPalette-itemCaption"},o)}renderItemShortcut(i){let o=this.formatItemShortcut(i);return h$2.div({className:"lm-CommandPalette-itemShortcut"},o)}createItemClass(i){let o="lm-CommandPalette-item";i.item.isEnabled||(o+=" lm-mod-disabled"),i.item.isToggled&&(o+=" lm-mod-toggled"),i.active&&(o+=" lm-mod-active");let u=i.item.className;return u&&(o+=` ${u}`),o}createItemDataset(i){return{...i.item.dataset,command:i.item.command}}createIconClass(i){let o="lm-CommandPalette-itemIcon",u=i.item.iconClass;return u?`${o} ${u}`:o}formatHeader(i){return!i.indices||i.indices.length===0?i.category:StringExt$4.highlight(i.category,i.indices,h$2.mark)}formatEmptyMessage(i){return`No commands found that match '${i.query}'`}formatItemShortcut(i){let o=i.item.keyBinding;return o?CommandRegistry$1.formatKeystroke(o.keys):null}formatItemLabel(i){return!i.indices||i.indices.length===0?i.item.label:StringExt$4.highlight(i.item.label,i.indices,h$2.mark)}formatItemCaption(i){return i.item.caption}}t.Renderer=e,t.defaultRenderer=new e})(CommandPalette$3||(CommandPalette$3={}));var Private$a$3;(function(t){function e(){let v=document.createElement("div"),y=document.createElement("div"),w=document.createElement("div"),T=document.createElement("input"),P=document.createElement("ul"),A=document.createElement("button");return y.className="lm-CommandPalette-search",w.className="lm-CommandPalette-wrapper",T.className="lm-CommandPalette-input",A.className="lm-close-icon",P.className="lm-CommandPalette-content",P.setAttribute("role","menu"),T.spellcheck=!1,w.appendChild(T),w.appendChild(A),y.appendChild(w),v.appendChild(y),v.appendChild(P),v}t.createNode=e;function n(v,y){return new g(v,y)}t.createItem=n;function i(v,y){let w=c(v,y);return w.sort(d),m(w)}t.search=i;function o(v){return v.type==="item"&&v.item.isEnabled}t.canActivate=o;function u(v){return v.trim().replace(/\s+/g," ")}function l(v){return v.replace(/\s+/g,"").toLowerCase()}function c(v,y){y=l(y);let w=[];for(let T=0,P=v.length;T<P;++T){let A=v[T];if(!A.isVisible)continue;if(!y){w.push({matchType:3,categoryIndices:null,labelIndices:null,score:0,item:A});continue}let D=f(A,y);D&&(A.isEnabled||(D.score+=1e3),w.push(D))}return w}function f(v,y){let w=v.category.toLowerCase(),T=v.label.toLowerCase(),P=`${w} ${T}`,A=1/0,D=null,k=/\b\w/g;for(;;){let G=k.exec(P);if(!G)break;let F=StringExt$4.matchSumOfDeltas(P,y,G.index);if(!F)break;F.score<=A&&(A=F.score,D=F.indices)}if(!D||A===1/0)return null;let j=w.length+1,B=ArrayExt$4.lowerBound(D,j,(G,F)=>G-F),Z=D.slice(0,B),R=D.slice(B);for(let G=0,F=R.length;G<F;++G)R[G]-=j;return Z.length===0?{matchType:0,categoryIndices:null,labelIndices:R,score:A,item:v}:R.length===0?{matchType:1,categoryIndices:Z,labelIndices:null,score:A,item:v}:{matchType:2,categoryIndices:Z,labelIndices:R,score:A,item:v}}function d(v,y){let w=v.matchType-y.matchType;if(w!==0)return w;let T=v.score-y.score;if(T!==0)return T;let P=0,A=0;switch(v.matchType){case 0:P=v.labelIndices[0],A=y.labelIndices[0];break;case 1:case 2:P=v.categoryIndices[0],A=y.categoryIndices[0];break}if(P!==A)return P-A;let D=v.item.category.localeCompare(y.item.category);if(D!==0)return D;let k=v.item.rank,j=y.item.rank;return k!==j?k<j?-1:1:v.item.label.localeCompare(y.item.label)}function m(v){let y=[];for(let w=0,T=v.length;w<T;++w){let{item:P,categoryIndices:A,labelIndices:D}=v[w],k=P.category;(w===0||k!==v[w-1].item.category)&&y.push({type:"header",category:k,indices:A}),y.push({type:"item",item:P,indices:D})}return y}class g{constructor(y,w){this._commands=y,this.category=u(w.category),this.command=w.command,this.args=w.args||JSONExt$2.emptyObject,this.rank=w.rank!==void 0?w.rank:1/0}get label(){return this._commands.label(this.command,this.args)}get icon(){return this._commands.icon(this.command,this.args)}get iconClass(){return this._commands.iconClass(this.command,this.args)}get iconLabel(){return this._commands.iconLabel(this.command,this.args)}get caption(){return this._commands.caption(this.command,this.args)}get className(){return this._commands.className(this.command,this.args)}get dataset(){return this._commands.dataset(this.command,this.args)}get isEnabled(){return this._commands.isEnabled(this.command,this.args)}get isToggled(){return this._commands.isToggled(this.command,this.args)}get isToggleable(){return this._commands.isToggleable(this.command,this.args)}get isVisible(){return this._commands.isVisible(this.command,this.args)}get keyBinding(){let{command:y,args:w}=this;return ArrayExt$4.findLastValue(this._commands.keyBindings,T=>T.command===y&&JSONExt$2.deepEqual(T.args,w))||null}}})(Private$a$3||(Private$a$3={}));let Menu$3=class ed extends Widget$3{constructor(e){super({node:Private$9$3.createNode()}),this._childIndex=-1,this._activeIndex=-1,this._openTimerID=0,this._closeTimerID=0,this._items=[],this._childMenu=null,this._parentMenu=null,this._aboutToClose=new Signal$2(this),this._menuRequested=new Signal$2(this),this.addClass("lm-Menu"),this.setFlag(Widget$3.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||ed.defaultRenderer}dispose(){this.close(),this._items.length=0,super.dispose()}get aboutToClose(){return this._aboutToClose}get menuRequested(){return this._menuRequested}get parentMenu(){return this._parentMenu}get childMenu(){return this._childMenu}get rootMenu(){let e=this;for(;e._parentMenu;)e=e._parentMenu;return e}get leafMenu(){let e=this;for(;e._childMenu;)e=e._childMenu;return e}get contentNode(){return this.node.getElementsByClassName("lm-Menu-content")[0]}get activeItem(){return this._items[this._activeIndex]||null}set activeItem(e){this.activeIndex=e?this._items.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._items.length)&&(e=-1),e!==-1&&!Private$9$3.canActivate(this._items[e])&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this._activeIndex>=0&&this.contentNode.childNodes[this._activeIndex]&&this.contentNode.childNodes[this._activeIndex].focus(),this.update())}get items(){return this._items}activateNextItem(){let e=this._items.length,n=this._activeIndex,i=n<e-1?n+1:0,o=i===0?e-1:i-1;this.activeIndex=ArrayExt$4.findFirstIndex(this._items,Private$9$3.canActivate,i,o)}activatePreviousItem(){let e=this._items.length,n=this._activeIndex,i=n<=0?e-1:n-1,o=i===e-1?0:i+1;this.activeIndex=ArrayExt$4.findLastIndex(this._items,Private$9$3.canActivate,i,o)}triggerActiveItem(){if(!this.isAttached)return;let e=this.activeItem;if(!e)return;if(this._cancelOpenTimer(),this._cancelCloseTimer(),e.type==="submenu"){this._openChildMenu(!0);return}this.rootMenu.close();let{command:n,args:i}=e;this.commands.isEnabled(n,i)?this.commands.execute(n,i):console.log(`Command '${n}' is disabled.`)}addItem(e){return this.insertItem(this._items.length,e)}insertItem(e,n){this.isAttached&&this.close(),this.activeIndex=-1;let i=Math.max(0,Math.min(e,this._items.length)),o=Private$9$3.createItem(this,n);return ArrayExt$4.insert(this._items,i,o),this.update(),o}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){this.isAttached&&this.close(),this.activeIndex=-1,ArrayExt$4.removeAt(this._items,e)&&this.update()}clearItems(){this.isAttached&&this.close(),this.activeIndex=-1,this._items.length!==0&&(this._items.length=0,this.update())}open(e,n,i={}){var o,u,l;if(this.isAttached)return;let c=i.forceX||!1,f=i.forceY||!1;const d=(o=i.host)!==null&&o!==void 0?o:null,m=(u=i.ref)!==null&&u!==void 0?u:null,g=(l=i.horizontalAlignment)!==null&&l!==void 0?l:document.documentElement.dir==="rtl"?"right":"left";Private$9$3.openRootMenu(this,e,n,c,f,g,d,m),this.activate()}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mouseup":this._evtMouseUp(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseenter":this._evtMouseEnter(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"mousedown":this._evtMouseDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mouseup",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseenter",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this),document.addEventListener("mousedown",this,!0)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mouseup",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseenter",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),document.removeEventListener("mousedown",this,!0)}onActivateRequest(e){this.isAttached&&this.node.focus()}onUpdateRequest(e){let n=this._items,i=this.renderer,o=this._activeIndex,u=Private$9$3.computeCollapsed(n),l=new Array(n.length);for(let c=0,f=n.length;c<f;++c){let d=n[c],m=c===o,g=u[c];l[c]=i.renderItem({item:d,active:m,collapsed:g,onfocus:()=>{this.activeIndex=c}})}VirtualDOM$1.render(l,this.contentNode)}onCloseRequest(e){this._cancelOpenTimer(),this._cancelCloseTimer(),this.activeIndex=-1;let n=this._childMenu;n&&(this._childIndex=-1,this._childMenu=null,n._parentMenu=null,n.close());let i=this._parentMenu;i&&(this._parentMenu=null,i._childIndex=-1,i._childMenu=null,i.activate()),this.isAttached&&this._aboutToClose.emit(void 0),super.onCloseRequest(e)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation();let n=e.keyCode;if(n===13){this.triggerActiveItem();return}if(n===27){this.close();return}if(n===37){this._parentMenu?this.close():this._menuRequested.emit("previous");return}if(n===38){this.activatePreviousItem();return}if(n===39){let l=this.activeItem;l&&l.type==="submenu"?this.triggerActiveItem():this.rootMenu._menuRequested.emit("next");return}if(n===40){this.activateNextItem();return}let i=getKeyboardLayout$1().keyForKeydownEvent(e);if(!i)return;let o=this._activeIndex+1,u=Private$9$3.findMnemonic(this._items,i,o);u.index!==-1&&!u.multiple?(this.activeIndex=u.index,this.triggerActiveItem()):u.index!==-1?this.activeIndex=u.index:u.auto!==-1&&(this.activeIndex=u.auto)}_evtMouseUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this.triggerActiveItem())}_evtMouseMove(e){let n=ArrayExt$4.findFirstIndex(this.contentNode.children,o=>ElementExt$1.hitTest(o,e.clientX,e.clientY));if(n===this._activeIndex)return;if(this.activeIndex=n,n=this.activeIndex,n===this._childIndex){this._cancelOpenTimer(),this._cancelCloseTimer();return}this._childIndex!==-1&&this._startCloseTimer(),this._cancelOpenTimer();let i=this.activeItem;!i||i.type!=="submenu"||!i.submenu||this._startOpenTimer()}_evtMouseEnter(e){for(let n=this._parentMenu;n;n=n._parentMenu)n._cancelOpenTimer(),n._cancelCloseTimer(),n.activeIndex=n._childIndex}_evtMouseLeave(e){if(this._cancelOpenTimer(),!this._childMenu){this.activeIndex=-1;return}let{clientX:n,clientY:i}=e;if(ElementExt$1.hitTest(this._childMenu.node,n,i)){this._cancelCloseTimer();return}this.activeIndex=-1,this._startCloseTimer()}_evtMouseDown(e){this._parentMenu||(Private$9$3.hitTestMenus(this,e.clientX,e.clientY)?(e.preventDefault(),e.stopPropagation()):this.close())}_openChildMenu(e=!1){let n=this.activeItem;if(!n||n.type!=="submenu"||!n.submenu){this._closeChildMenu();return}let i=n.submenu;if(i===this._childMenu)return;ed.saveWindowData(),this._closeChildMenu(),this._childMenu=i,this._childIndex=this._activeIndex,i._parentMenu=this,MessageLoop$3.sendMessage(this,Widget$3.Msg.UpdateRequest);let o=this.contentNode.children[this._activeIndex];Private$9$3.openSubmenu(i,o),e&&(i.activeIndex=-1,i.activateNextItem()),i.activate()}_closeChildMenu(){this._childMenu&&this._childMenu.close()}_startOpenTimer(){this._openTimerID===0&&(this._openTimerID=window.setTimeout(()=>{this._openTimerID=0,this._openChildMenu()},Private$9$3.TIMER_DELAY))}_startCloseTimer(){this._closeTimerID===0&&(this._closeTimerID=window.setTimeout(()=>{this._closeTimerID=0,this._closeChildMenu()},Private$9$3.TIMER_DELAY))}_cancelOpenTimer(){this._openTimerID!==0&&(clearTimeout(this._openTimerID),this._openTimerID=0)}_cancelCloseTimer(){this._closeTimerID!==0&&(clearTimeout(this._closeTimerID),this._closeTimerID=0)}static saveWindowData(){Private$9$3.saveWindowData()}};(function(t){class e{renderItem(i){let o=this.createItemClass(i),u=this.createItemDataset(i),l=this.createItemARIA(i);return h$2.li({className:o,dataset:u,tabindex:"0",onfocus:i.onfocus,...l},this.renderIcon(i),this.renderLabel(i),this.renderShortcut(i),this.renderSubmenu(i))}renderIcon(i){let o=this.createIconClass(i);return h$2.div({className:o},i.item.icon,i.item.iconLabel)}renderLabel(i){let o=this.formatLabel(i);return h$2.div({className:"lm-Menu-itemLabel"},o)}renderShortcut(i){let o=this.formatShortcut(i);return h$2.div({className:"lm-Menu-itemShortcut"},o)}renderSubmenu(i){return h$2.div({className:"lm-Menu-itemSubmenuIcon"})}createItemClass(i){let o="lm-Menu-item";i.item.isEnabled||(o+=" lm-mod-disabled"),i.item.isToggled&&(o+=" lm-mod-toggled"),i.item.isVisible||(o+=" lm-mod-hidden"),i.active&&(o+=" lm-mod-active"),i.collapsed&&(o+=" lm-mod-collapsed");let u=i.item.className;return u&&(o+=` ${u}`),o}createItemDataset(i){let o,{type:u,command:l,dataset:c}=i.item;return u==="command"?o={...c,type:u,command:l}:o={...c,type:u},o}createIconClass(i){let o="lm-Menu-itemIcon",u=i.item.iconClass;return u?`${o} ${u}`:o}createItemARIA(i){let o={};switch(i.item.type){case"separator":o.role="presentation";break;case"submenu":o["aria-haspopup"]="true",i.item.isEnabled||(o["aria-disabled"]="true");break;default:i.item.isEnabled||(o["aria-disabled"]="true"),i.item.isToggled?(o.role="menuitemcheckbox",o["aria-checked"]="true"):o.role="menuitem"}return o}formatLabel(i){let{label:o,mnemonic:u}=i.item;if(u<0||u>=o.length)return o;let l=o.slice(0,u),c=o.slice(u+1),f=o[u],d=h$2.span({className:"lm-Menu-itemMnemonic"},f);return[l,d,c]}formatShortcut(i){let o=i.item.keyBinding;return o?CommandRegistry$1.formatKeystroke(o.keys):null}}t.Renderer=e,t.defaultRenderer=new e})(Menu$3||(Menu$3={}));var Private$9$3;(function(t){t.TIMER_DELAY=300,t.SUBMENU_OVERLAP=3;let e=null,n=0;function i(){return n>0?(n--,e):m()}function o(){e=m(),n++}t.saveWindowData=o;function u(){let T=document.createElement("div"),P=document.createElement("ul");return P.className="lm-Menu-content",T.appendChild(P),P.setAttribute("role","menu"),T.tabIndex=0,T}t.createNode=u;function l(T){return T.type!=="separator"&&T.isEnabled&&T.isVisible}t.canActivate=l;function c(T,P){return new w(T.commands,P)}t.createItem=c;function f(T,P,A){for(let D=T;D;D=D.childMenu)if(ElementExt$1.hitTest(D.node,P,A))return!0;return!1}t.hitTestMenus=f;function d(T){let P=new Array(T.length);ArrayExt$4.fill(P,!1);let A=0,D=T.length;for(;A<D;++A){let B=T[A];if(B.isVisible){if(B.type!=="separator")break;P[A]=!0}}let k=D-1;for(;k>=0;--k){let B=T[k];if(B.isVisible){if(B.type!=="separator")break;P[k]=!0}}let j=!1;for(;++A<k;){let B=T[A];B.isVisible&&(B.type!=="separator"?j=!1:j?P[A]=!0:j=!0)}return P}t.computeCollapsed=d;function m(){return{pageXOffset:window.pageXOffset,pageYOffset:window.pageYOffset,clientWidth:document.documentElement.clientWidth,clientHeight:document.documentElement.clientHeight}}function g(T,P,A,D,k,j,B,Z){const R=i();let G=R.pageXOffset,F=R.pageYOffset,K=R.clientWidth,Q=R.clientHeight;MessageLoop$3.sendMessage(T,Widget$3.Msg.UpdateRequest);let ie=Q-(k?A:0),te=T.node,oe=te.style;oe.opacity="0",oe.maxHeight=`${ie}px`,Widget$3.attach(T,B||document.body,Z);let{width:le,height:de}=te.getBoundingClientRect();j==="right"&&(P-=le),!D&&P+le>G+K&&(P=G+K-le),!k&&A+de>F+Q&&(A>F+Q?A=F+Q-de:A=A-de),oe.transform=`translate(${Math.max(0,P)}px, ${Math.max(0,A)}px`,oe.opacity="1"}t.openRootMenu=g;function v(T,P){const A=i();let D=A.pageXOffset,k=A.pageYOffset,j=A.clientWidth,B=A.clientHeight;MessageLoop$3.sendMessage(T,Widget$3.Msg.UpdateRequest);let Z=B,R=T.node,G=R.style;G.opacity="0",G.maxHeight=`${Z}px`,Widget$3.attach(T,document.body);let{width:F,height:K}=R.getBoundingClientRect(),Q=ElementExt$1.boxSizing(T.node),ie=P.getBoundingClientRect(),te=ie.right-t.SUBMENU_OVERLAP;te+F>D+j&&(te=ie.left+t.SUBMENU_OVERLAP-F);let oe=ie.top-Q.borderTop-Q.paddingTop;oe+K>k+B&&(oe=ie.bottom+Q.borderBottom+Q.paddingBottom-K),G.transform=`translate(${Math.max(0,te)}px, ${Math.max(0,oe)}px`,G.opacity="1"}t.openSubmenu=v;function y(T,P,A){let D=-1,k=-1,j=!1,B=P.toUpperCase();for(let Z=0,R=T.length;Z<R;++Z){let G=(Z+A)%R,F=T[G];if(!l(F))continue;let K=F.label;if(K.length===0)continue;let Q=F.mnemonic;if(Q>=0&&Q<K.length){K[Q].toUpperCase()===B&&(D===-1?D=G:j=!0);continue}k===-1&&K[0].toUpperCase()===B&&(k=G)}return{index:D,multiple:j,auto:k}}t.findMnemonic=y;class w{constructor(P,A){this._commands=P,this.type=A.type||"command",this.command=A.command||"",this.args=A.args||JSONExt$2.emptyObject,this.submenu=A.submenu||null}get label(){return this.type==="command"?this._commands.label(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.label:""}get mnemonic(){return this.type==="command"?this._commands.mnemonic(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.mnemonic:-1}get icon(){if(this.type==="command")return this._commands.icon(this.command,this.args);if(this.type==="submenu"&&this.submenu)return this.submenu.title.icon}get iconClass(){return this.type==="command"?this._commands.iconClass(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconClass:""}get iconLabel(){return this.type==="command"?this._commands.iconLabel(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconLabel:""}get caption(){return this.type==="command"?this._commands.caption(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.caption:""}get className(){return this.type==="command"?this._commands.className(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.className:""}get dataset(){return this.type==="command"?this._commands.dataset(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.dataset:{}}get isEnabled(){return this.type==="command"?this._commands.isEnabled(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0}get isToggled(){return this.type==="command"?this._commands.isToggled(this.command,this.args):!1}get isVisible(){return this.type==="command"?this._commands.isVisible(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0}get keyBinding(){if(this.type==="command"){let{command:P,args:A}=this;return ArrayExt$4.findLastValue(this._commands.keyBindings,D=>D.command===P&&JSONExt$2.deepEqual(D.args,A))||null}return null}}})(Private$9$3||(Private$9$3={}));var Private$8$3;(function(t){function e(l,c){let f=i(l.selector),d=l.rank!==void 0?l.rank:1/0;return{...l,selector:f,rank:d,id:c}}t.createItem=e;function n(l,c,f,d){let m=c.target;if(!m)return null;let g=c.currentTarget;if(!g||!g.contains(m)&&(m=document.elementFromPoint(c.clientX,c.clientY),!m||!g.contains(m)))return null;let v=[],y=l.slice();for(;m!==null;){let w=[];for(let T=0,P=y.length;T<P;++T){let A=y[T];A&&Selector$1.matches(m,A.selector)&&(w.push(A),y[T]=null)}if(w.length!==0&&(f&&w.sort(d?u:o),v.push(...w)),m===g)break;m=m.parentElement}return f||v.sort(d?u:o),v}t.matchItems=n;function i(l){if(l.indexOf(",")!==-1)throw new Error(`Selector cannot contain commas: ${l}`);if(!Selector$1.isValid(l))throw new Error(`Invalid selector: ${l}`);return l}function o(l,c){let f=l.rank,d=c.rank;return f!==d?f<d?-1:1:l.id-c.id}function u(l,c){let f=Selector$1.calculateSpecificity(l.selector),d=Selector$1.calculateSpecificity(c.selector);return f!==d?d-f:o(l,c)}})(Private$8$3||(Private$8$3={}));const ARROW_KEYS$2=["ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Home","End"];let TabBar$3=class vp extends Widget$3{constructor(e={}){super({node:Private$7$3.createNode()}),this._currentIndex=-1,this._titles=[],this._titlesEditable=!1,this._previousTitle=null,this._dragData=null,this._addButtonEnabled=!1,this._tabMoved=new Signal$2(this),this._currentChanged=new Signal$2(this),this._addRequested=new Signal$2(this),this._tabCloseRequested=new Signal$2(this),this._tabDetachRequested=new Signal$2(this),this._tabActivateRequested=new Signal$2(this),this.addClass("lm-TabBar"),this.contentNode.setAttribute("role","tablist"),this.setFlag(Widget$3.Flag.DisallowLayout),this._document=e.document||document,this.tabsMovable=e.tabsMovable||!1,this.titlesEditable=e.titlesEditable||!1,this.allowDeselect=e.allowDeselect||!1,this.addButtonEnabled=e.addButtonEnabled||!1,this.insertBehavior=e.insertBehavior||"select-tab-if-needed",this.name=e.name||"",this.orientation=e.orientation||"horizontal",this.removeBehavior=e.removeBehavior||"select-tab-after",this.renderer=e.renderer||vp.defaultRenderer}dispose(){this._releaseMouse(),this._titles.length=0,this._previousTitle=null,super.dispose()}get currentChanged(){return this._currentChanged}get tabMoved(){return this._tabMoved}get tabActivateRequested(){return this._tabActivateRequested}get addRequested(){return this._addRequested}get tabCloseRequested(){return this._tabCloseRequested}get tabDetachRequested(){return this._tabDetachRequested}get document(){return this._document}get titlesEditable(){return this._titlesEditable}set titlesEditable(e){this._titlesEditable=e}get currentTitle(){return this._titles[this._currentIndex]||null}set currentTitle(e){this.currentIndex=e?this._titles.indexOf(e):-1}get currentIndex(){return this._currentIndex}set currentIndex(e){if((e<0||e>=this._titles.length)&&(e=-1),this._currentIndex===e)return;let n=this._currentIndex,i=this._titles[n]||null,o=e,u=this._titles[o]||null;this._currentIndex=o,this._previousTitle=i,this.update(),this._currentChanged.emit({previousIndex:n,previousTitle:i,currentIndex:o,currentTitle:u})}get name(){return this._name}set name(e){this._name=e,e?this.contentNode.setAttribute("aria-label",e):this.contentNode.removeAttribute("aria-label")}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._releaseMouse(),this._orientation=e,this.dataset.orientation=e,this.contentNode.setAttribute("aria-orientation",e))}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled!==e&&(this._addButtonEnabled=e,e?this.addButtonNode.classList.remove("lm-mod-hidden"):this.addButtonNode.classList.add("lm-mod-hidden"))}get titles(){return this._titles}get contentNode(){return this.node.getElementsByClassName("lm-TabBar-content")[0]}get addButtonNode(){return this.node.getElementsByClassName("lm-TabBar-addButton")[0]}addTab(e){return this.insertTab(this._titles.length,e)}insertTab(e,n){this._releaseMouse();let i=Private$7$3.asTitle(n),o=this._titles.indexOf(i),u=Math.max(0,Math.min(e,this._titles.length));return o===-1?(ArrayExt$4.insert(this._titles,u,i),i.changed.connect(this._onTitleChanged,this),this.update(),this._adjustCurrentForInsert(u,i),i):(u===this._titles.length&&u--,o===u||(ArrayExt$4.move(this._titles,o,u),this.update(),this._adjustCurrentForMove(o,u)),i)}removeTab(e){this.removeTabAt(this._titles.indexOf(e))}removeTabAt(e){this._releaseMouse();let n=ArrayExt$4.removeAt(this._titles,e);n&&(n.changed.disconnect(this._onTitleChanged,this),n===this._previousTitle&&(this._previousTitle=null),this.update(),this._adjustCurrentForRemove(e,n))}clearTabs(){if(this._titles.length===0)return;this._releaseMouse();for(let i of this._titles)i.changed.disconnect(this._onTitleChanged,this);let e=this.currentIndex,n=this.currentTitle;this._currentIndex=-1,this._previousTitle=null,this._titles.length=0,this.update(),e!==-1&&this._currentChanged.emit({previousIndex:e,previousTitle:n,currentIndex:-1,currentTitle:null})}releaseMouse(){this._releaseMouse()}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"dblclick":this._evtDblClick(e);break;case"keydown":e.eventPhase===Event.CAPTURING_PHASE?this._evtKeyDownCapturing(e):this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this),this.node.addEventListener("dblclick",this),this.node.addEventListener("keydown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this.node.removeEventListener("dblclick",this),this.node.removeEventListener("keydown",this),this._releaseMouse()}onUpdateRequest(e){var n;let i=this._titles,o=this.renderer,u=this.currentTitle,l=new Array(i.length);const c=(n=this._getCurrentTabindex())!==null&&n!==void 0?n:this._currentIndex>-1?this._currentIndex:0;for(let f=0,d=i.length;f<d;++f){let m=i[f],g=m===u,v=g?d:d-f-1,y=c===f?0:-1;l[f]=o.renderTab({title:m,current:g,zIndex:v,tabIndex:y})}VirtualDOM$1.render(l,this.contentNode)}_getCurrentTabindex(){let e=null;const n=this.contentNode.querySelector('li[tabindex="0"]');return n?e=[...this.contentNode.children].indexOf(n):this._addButtonEnabled&&this.addButtonNode.getAttribute("tabindex")==="0"&&(e=-1),e}_evtDblClick(e){if(!this.titlesEditable)return;let n=this.contentNode.children,i=ArrayExt$4.findFirstIndex(n,l=>ElementExt$1.hitTest(l,e.clientX,e.clientY));if(i===-1)return;let o=this.titles[i],u=n[i].querySelector(".lm-TabBar-tabLabel");if(u&&u.contains(e.target)){let l=o.label||"",c=u.innerHTML;u.innerHTML="";let f=document.createElement("input");f.classList.add("lm-TabBar-tabInput"),f.value=l,u.appendChild(f);let d=()=>{f.removeEventListener("blur",d),u.innerHTML=c,this.node.addEventListener("keydown",this)};f.addEventListener("dblclick",m=>m.stopPropagation()),f.addEventListener("blur",d),f.addEventListener("keydown",m=>{m.key==="Enter"?(f.value!==""&&(o.label=o.caption=f.value),d()):m.key==="Escape"&&d()}),this.node.removeEventListener("keydown",this),f.select(),f.focus(),u.children.length>0&&u.children[0].focus()}}_evtKeyDownCapturing(e){e.eventPhase===Event.CAPTURING_PHASE&&(e.preventDefault(),e.stopPropagation(),e.key==="Escape"&&this._releaseMouse())}_evtKeyDown(e){var n,i,o;if(!(e.key==="Tab"||e.eventPhase===Event.CAPTURING_PHASE)){if(e.key==="Enter"||e.key==="Spacebar"||e.key===" "){const u=document.activeElement;if(this.addButtonEnabled&&this.addButtonNode.contains(u))e.preventDefault(),e.stopPropagation(),this._addRequested.emit();else{const l=ArrayExt$4.findFirstIndex(this.contentNode.children,c=>c.contains(u));l>=0&&(e.preventDefault(),e.stopPropagation(),this.currentIndex=l)}}else if(ARROW_KEYS$2.includes(e.key)){const u=[...this.contentNode.children];if(this.addButtonEnabled&&u.push(this.addButtonNode),u.length<=1)return;e.preventDefault(),e.stopPropagation();let l=u.indexOf(document.activeElement);l===-1&&(l=this._currentIndex);let c;e.key==="ArrowRight"&&this._orientation==="horizontal"||e.key==="ArrowDown"&&this._orientation==="vertical"?c=(n=u[l+1])!==null&&n!==void 0?n:u[0]:e.key==="ArrowLeft"&&this._orientation==="horizontal"||e.key==="ArrowUp"&&this._orientation==="vertical"?c=(i=u[l-1])!==null&&i!==void 0?i:u[u.length-1]:e.key==="Home"?c=u[0]:e.key==="End"&&(c=u[u.length-1]),c&&((o=u[l])===null||o===void 0||o.setAttribute("tabindex","-1"),c?.setAttribute("tabindex","0"),c.focus())}}}_evtPointerDown(e){if(e.button!==0&&e.button!==1||this._dragData||e.target.classList.contains("lm-TabBar-tabInput"))return;let n=this.addButtonEnabled&&this.addButtonNode.contains(e.target),i=this.contentNode.children,o=ArrayExt$4.findFirstIndex(i,l=>ElementExt$1.hitTest(l,e.clientX,e.clientY));if(o===-1&&!n||(e.preventDefault(),e.stopPropagation(),this._dragData={tab:i[o],index:o,pressX:e.clientX,pressY:e.clientY,tabPos:-1,tabSize:-1,tabPressPos:-1,targetIndex:-1,tabLayout:null,contentRect:null,override:null,dragActive:!1,dragAborted:!1,detachRequested:!1},this.document.addEventListener("pointerup",this,!0),e.button===1||n))return;let u=i[o].querySelector(this.renderer.closeIconSelector);u&&u.contains(e.target)||(this.tabsMovable&&(this.document.addEventListener("pointermove",this,!0),this.document.addEventListener("keydown",this,!0),this.document.addEventListener("contextmenu",this,!0)),this.allowDeselect&&this.currentIndex===o?this.currentIndex=-1:this.currentIndex=o,this.currentIndex!==-1&&this._tabActivateRequested.emit({index:this.currentIndex,title:this.currentTitle}))}_evtPointerMove(e){let n=this._dragData;if(!n)return;e.preventDefault(),e.stopPropagation();let i=this.contentNode.children;if(!(!n.dragActive&&!Private$7$3.dragExceeded(n,e))){if(!n.dragActive){let o=n.tab.getBoundingClientRect();this._orientation==="horizontal"?(n.tabPos=n.tab.offsetLeft,n.tabSize=o.width,n.tabPressPos=n.pressX-o.left):(n.tabPos=n.tab.offsetTop,n.tabSize=o.height,n.tabPressPos=n.pressY-o.top),n.tabPressOffset={x:n.pressX-o.left,y:n.pressY-o.top},n.tabLayout=Private$7$3.snapTabLayout(i,this._orientation),n.contentRect=this.contentNode.getBoundingClientRect(),n.override=Drag$3.overrideCursor("default"),n.tab.classList.add("lm-mod-dragging"),this.addClass("lm-mod-dragging"),n.dragActive=!0}if(!n.detachRequested&&Private$7$3.detachExceeded(n,e)){n.detachRequested=!0;let o=n.index,u=e.clientX,l=e.clientY,c=i[o],f=this._titles[o];if(this._tabDetachRequested.emit({index:o,title:f,tab:c,clientX:u,clientY:l,offset:n.tabPressOffset}),n.dragAborted)return}Private$7$3.layoutTabs(i,n,e,this._orientation)}}_evtPointerUp(e){if(e.button!==0&&e.button!==1)return;const n=this._dragData;if(!n)return;if(e.preventDefault(),e.stopPropagation(),this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),!n.dragActive){if(this._dragData=null,this.addButtonEnabled&&this.addButtonNode.contains(e.target)){this._addRequested.emit(void 0);return}let u=this.contentNode.children,l=ArrayExt$4.findFirstIndex(u,d=>ElementExt$1.hitTest(d,e.clientX,e.clientY));if(l!==n.index)return;let c=this._titles[l];if(!c.closable)return;if(e.button===1){this._tabCloseRequested.emit({index:l,title:c});return}let f=u[l].querySelector(this.renderer.closeIconSelector);if(f&&f.contains(e.target)){this._tabCloseRequested.emit({index:l,title:c});return}return}if(e.button!==0)return;Private$7$3.finalizeTabPosition(n,this._orientation),n.tab.classList.remove("lm-mod-dragging");let i=Private$7$3.parseTransitionDuration(n.tab);setTimeout(()=>{if(n.dragAborted)return;this._dragData=null,Private$7$3.resetTabPositions(this.contentNode.children,this._orientation),n.override.dispose(),this.removeClass("lm-mod-dragging");let o=n.index,u=n.targetIndex;u===-1||o===u||(ArrayExt$4.move(this._titles,o,u),this._adjustCurrentForMove(o,u),this._tabMoved.emit({fromIndex:o,toIndex:u,title:this._titles[u]}),MessageLoop$3.sendMessage(this,Widget$3.Msg.UpdateRequest))},i)}_releaseMouse(){let e=this._dragData;e&&(this._dragData=null,this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),e.dragAborted=!0,e.dragActive&&(Private$7$3.resetTabPositions(this.contentNode.children,this._orientation),e.override.dispose(),e.tab.classList.remove("lm-mod-dragging"),this.removeClass("lm-mod-dragging")))}_adjustCurrentForInsert(e,n){let i=this.currentTitle,o=this._currentIndex,u=this.insertBehavior;if(u==="select-tab"||u==="select-tab-if-needed"&&o===-1){this._currentIndex=e,this._previousTitle=i,this._currentChanged.emit({previousIndex:o,previousTitle:i,currentIndex:e,currentTitle:n});return}o>=e&&this._currentIndex++}_adjustCurrentForMove(e,n){this._currentIndex===e?this._currentIndex=n:this._currentIndex<e&&this._currentIndex>=n?this._currentIndex++:this._currentIndex>e&&this._currentIndex<=n&&this._currentIndex--}_adjustCurrentForRemove(e,n){let i=this._currentIndex,o=this.removeBehavior;if(i!==e){i>e&&this._currentIndex--;return}if(this._titles.length===0){this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:n,currentIndex:-1,currentTitle:null});return}if(o==="select-tab-after"){this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:n,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(o==="select-tab-before"){this._currentIndex=Math.max(0,e-1),this._currentChanged.emit({previousIndex:e,previousTitle:n,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(o==="select-previous-tab"){this._previousTitle?(this._currentIndex=this._titles.indexOf(this._previousTitle),this._previousTitle=null):this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:n,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:n,currentIndex:-1,currentTitle:null})}_onTitleChanged(e){this.update()}};(function(t){class e{constructor(){this.closeIconSelector=".lm-TabBar-tabCloseIcon",this._tabID=0,this._tabKeys=new WeakMap,this._uuid=++e._nInstance}renderTab(i){let o=i.title.caption,u=this.createTabKey(i),l=u,c=this.createTabStyle(i),f=this.createTabClass(i),d=this.createTabDataset(i),m=this.createTabARIA(i);return i.title.closable?h$2.li({id:l,key:u,className:f,title:o,style:c,dataset:d,...m},this.renderIcon(i),this.renderLabel(i),this.renderCloseIcon(i)):h$2.li({id:l,key:u,className:f,title:o,style:c,dataset:d,...m},this.renderIcon(i),this.renderLabel(i))}renderIcon(i){const{title:o}=i;let u=this.createIconClass(i);return h$2.div({className:u},o.icon,o.iconLabel)}renderLabel(i){return h$2.div({className:"lm-TabBar-tabLabel"},i.title.label)}renderCloseIcon(i){return h$2.div({className:"lm-TabBar-tabCloseIcon"})}createTabKey(i){let o=this._tabKeys.get(i.title);return o===void 0&&(o=`tab-key-${this._uuid}-${this._tabID++}`,this._tabKeys.set(i.title,o)),o}createTabStyle(i){return{zIndex:`${i.zIndex}`}}createTabClass(i){let o="lm-TabBar-tab";return i.title.className&&(o+=` ${i.title.className}`),i.title.closable&&(o+=" lm-mod-closable"),i.current&&(o+=" lm-mod-current"),o}createTabDataset(i){return i.title.dataset}createTabARIA(i){var o;return{role:"tab","aria-selected":i.current.toString(),tabindex:`${(o=i.tabIndex)!==null&&o!==void 0?o:"-1"}`}}createIconClass(i){let o="lm-TabBar-tabIcon",u=i.title.iconClass;return u?`${o} ${u}`:o}}e._nInstance=0,t.Renderer=e,t.defaultRenderer=new e,t.addButtonSelector=".lm-TabBar-addButton"})(TabBar$3||(TabBar$3={}));var Private$7$3;(function(t){t.DRAG_THRESHOLD=5,t.DETACH_THRESHOLD=20;function e(){let m=document.createElement("div"),g=document.createElement("ul");g.setAttribute("role","tablist"),g.className="lm-TabBar-content",m.appendChild(g);let v=document.createElement("div");return v.className="lm-TabBar-addButton lm-mod-hidden",v.setAttribute("tabindex","-1"),v.setAttribute("role","button"),m.appendChild(v),m}t.createNode=e;function n(m){return m instanceof Title$3?m:new Title$3(m)}t.asTitle=n;function i(m){let g=window.getComputedStyle(m);return 1e3*(parseFloat(g.transitionDuration)||0)}t.parseTransitionDuration=i;function o(m,g){let v=new Array(m.length);for(let y=0,w=m.length;y<w;++y){let T=m[y],P=window.getComputedStyle(T);g==="horizontal"?v[y]={pos:T.offsetLeft,size:T.offsetWidth,margin:parseFloat(P.marginLeft)||0}:v[y]={pos:T.offsetTop,size:T.offsetHeight,margin:parseFloat(P.marginTop)||0}}return v}t.snapTabLayout=o;function u(m,g){let v=Math.abs(g.clientX-m.pressX),y=Math.abs(g.clientY-m.pressY);return v>=t.DRAG_THRESHOLD||y>=t.DRAG_THRESHOLD}t.dragExceeded=u;function l(m,g){let v=m.contentRect;return g.clientX<v.left-t.DETACH_THRESHOLD||g.clientX>=v.right+t.DETACH_THRESHOLD||g.clientY<v.top-t.DETACH_THRESHOLD||g.clientY>=v.bottom+t.DETACH_THRESHOLD}t.detachExceeded=l;function c(m,g,v,y){let w,T,P,A;y==="horizontal"?(w=g.pressX,T=v.clientX-g.contentRect.left,P=v.clientX,A=g.contentRect.width):(w=g.pressY,T=v.clientY-g.contentRect.top,P=v.clientY,A=g.contentRect.height);let D=g.index,k=T-g.tabPressPos,j=k+g.tabSize;for(let B=0,Z=m.length;B<Z;++B){let R,G=g.tabLayout[B],F=G.pos+(G.size>>1);if(B<g.index&&k<F)R=`${g.tabSize+g.tabLayout[B+1].margin}px`,D=Math.min(D,B);else if(B>g.index&&j>F)R=`${-g.tabSize-G.margin}px`,D=Math.max(D,B);else if(B===g.index){let K=P-w,Q=A-(g.tabPos+g.tabSize);R=`${Math.max(-g.tabPos,Math.min(K,Q))}px`}else R="";y==="horizontal"?m[B].style.left=R:m[B].style.top=R}g.targetIndex=D}t.layoutTabs=c;function f(m,g){let v;g==="horizontal"?v=m.contentRect.width:v=m.contentRect.height;let y;if(m.targetIndex===m.index)y=0;else if(m.targetIndex>m.index){let P=m.tabLayout[m.targetIndex];y=P.pos+P.size-m.tabSize-m.tabPos}else y=m.tabLayout[m.targetIndex].pos-m.tabPos;let w=v-(m.tabPos+m.tabSize),T=Math.max(-m.tabPos,Math.min(y,w));g==="horizontal"?m.tab.style.left=`${T}px`:m.tab.style.top=`${T}px`}t.finalizeTabPosition=f;function d(m,g){for(const v of m)g==="horizontal"?v.style.left="":v.style.top=""}t.resetTabPositions=d})(Private$7$3||(Private$7$3={}));let DockLayout$3=class extends Layout$3{constructor(e){super(),this._spacing=4,this._dirty=!1,this._root=null,this._box=null,this._items=new Map,this.renderer=e.renderer,e.spacing!==void 0&&(this._spacing=Utils$1$3.clampDimension(e.spacing)),this._document=e.document||document,this._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:Widget$3.HiddenMode.Display}dispose(){let e=this[Symbol.iterator]();this._items.forEach(n=>{n.dispose()}),this._box=null,this._root=null,this._items.clear();for(const n of e)n.dispose();super.dispose()}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){if(this._hiddenMode!==e){this._hiddenMode=e;for(const n of this.tabBars())if(n.titles.length>1)for(const i of n.titles)i.owner.hiddenMode=this._hiddenMode}}get spacing(){return this._spacing}set spacing(e){e=Utils$1$3.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get isEmpty(){return this._root===null}[Symbol.iterator](){return this._root?this._root.iterAllWidgets():empty$a()}widgets(){return this._root?this._root.iterUserWidgets():empty$a()}selectedWidgets(){return this._root?this._root.iterSelectedWidgets():empty$a()}tabBars(){return this._root?this._root.iterTabBars():empty$a()}handles(){return this._root?this._root.iterHandles():empty$a()}moveHandle(e,n,i){let o=e.classList.contains("lm-mod-hidden");if(!this._root||o)return;let u=this._root.findSplitNode(e);if(!u)return;let l;u.node.orientation==="horizontal"?l=n-e.offsetLeft:l=i-e.offsetTop,l!==0&&(u.node.holdSizes(),BoxEngine$3.adjust(u.node.sizers,u.index,l),this.parent&&this.parent.update())}saveLayout(){return this._root?(this._root.holdAllSizes(),{main:this._root.createConfig()}):{main:null}}restoreLayout(e){let n=new Set,i;e.main?i=Private$6$3.normalizeAreaConfig(e.main,n):i=null;let o=this.widgets(),u=this.tabBars(),l=this.handles();this._root=null;for(const c of o)n.has(c)||(c.parent=null);for(const c of u)c.dispose();for(const c of l)c.parentNode&&c.parentNode.removeChild(c);for(const c of n)c.parent=this.parent;i?this._root=Private$6$3.realizeAreaConfig(i,{createTabBar:c=>this._createTabBar(),createHandle:()=>this._createHandle()},this._document):this._root=null,this.parent&&(n.forEach(c=>{this.attachWidget(c)}),this.parent.fit())}addWidget(e,n={}){let i=n.ref||null,o=n.mode||"tab-after",u=null;if(this._root&&i&&(u=this._root.findTabNode(i)),i&&!u)throw new Error("Reference widget is not in the layout.");switch(e.parent=this.parent,o){case"tab-after":this._insertTab(e,i,u,!0);break;case"tab-before":this._insertTab(e,i,u,!1);break;case"split-top":this._insertSplit(e,i,u,"vertical",!1);break;case"split-left":this._insertSplit(e,i,u,"horizontal",!1);break;case"split-right":this._insertSplit(e,i,u,"horizontal",!0);break;case"split-bottom":this._insertSplit(e,i,u,"vertical",!0);break;case"merge-top":this._insertSplit(e,i,u,"vertical",!1,!0);break;case"merge-left":this._insertSplit(e,i,u,"horizontal",!1,!0);break;case"merge-right":this._insertSplit(e,i,u,"horizontal",!0,!0);break;case"merge-bottom":this._insertSplit(e,i,u,"vertical",!0,!0);break}this.parent&&(this.attachWidget(e),this.parent.fit())}removeWidget(e){this._removeWidget(e),this.parent&&(this.detachWidget(e),this.parent.fit())}hitTestTabAreas(e,n){if(!this._root||!this.parent||!this.parent.isVisible)return null;this._box||(this._box=ElementExt$1.boxSizing(this.parent.node));let i=this.parent.node.getBoundingClientRect(),o=e-i.left-this._box.borderLeft,u=n-i.top-this._box.borderTop,l=this._root.hitTestTabNodes(o,u);if(!l)return null;let{tabBar:c,top:f,left:d,width:m,height:g}=l,v=this._box.borderLeft+this._box.borderRight,y=this._box.borderTop+this._box.borderBottom,w=i.width-v-(d+m),T=i.height-y-(f+g);return{tabBar:c,x:o,y:u,top:f,left:d,right:w,bottom:T,width:m,height:g}}init(){super.init();for(const e of this)this.attachWidget(e);for(const e of this.handles())this.parent.node.appendChild(e);this.parent.fit()}attachWidget(e){this.parent.node!==e.node.parentNode&&(this._items.set(e,new LayoutItem$3(e)),this.parent.isAttached&&MessageLoop$3.sendMessage(e,Widget$3.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&MessageLoop$3.sendMessage(e,Widget$3.Msg.AfterAttach))}detachWidget(e){if(this.parent.node!==e.node.parentNode)return;this.parent.isAttached&&MessageLoop$3.sendMessage(e,Widget$3.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&MessageLoop$3.sendMessage(e,Widget$3.Msg.AfterDetach);let n=this._items.get(e);n&&(this._items.delete(e),n.dispose())}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_removeWidget(e){if(!this._root)return;let n=this._root.findTabNode(e);if(!n)return;if(Private$6$3.removeAria(e),n.tabBar.titles.length>1){if(n.tabBar.removeTab(e.title),this._hiddenMode===Widget$3.HiddenMode.Scale&&n.tabBar.titles.length==1){const v=n.tabBar.titles[0].owner;v.hiddenMode=Widget$3.HiddenMode.Display}return}if(n.tabBar.dispose(),this._root===n){this._root=null;return}this._root.holdAllSizes();let i=n.parent;n.parent=null;let o=ArrayExt$4.removeFirstOf(i.children,n),u=ArrayExt$4.removeAt(i.handles,o);if(ArrayExt$4.removeAt(i.sizers,o),u.parentNode&&u.parentNode.removeChild(u),i.children.length>1){i.syncHandles();return}let l=i.parent;i.parent=null;let c=i.children[0],f=i.handles[0];if(i.children.length=0,i.handles.length=0,i.sizers.length=0,f.parentNode&&f.parentNode.removeChild(f),this._root===i){c.parent=null,this._root=c;return}let d=l,m=d.children.indexOf(i);if(c instanceof Private$6$3.TabLayoutNode){c.parent=d,d.children[m]=c;return}let g=ArrayExt$4.removeAt(d.handles,m);ArrayExt$4.removeAt(d.children,m),ArrayExt$4.removeAt(d.sizers,m),g.parentNode&&g.parentNode.removeChild(g);for(let v=0,y=c.children.length;v<y;++v){let w=c.children[v],T=c.handles[v],P=c.sizers[v];ArrayExt$4.insert(d.children,m+v,w),ArrayExt$4.insert(d.handles,m+v,T),ArrayExt$4.insert(d.sizers,m+v,P),w.parent=d}c.children.length=0,c.handles.length=0,c.sizers.length=0,c.parent=null,d.syncHandles()}_createTabNode(e){let n=new Private$6$3.TabLayoutNode(this._createTabBar());return n.tabBar.addTab(e.title),Private$6$3.addAria(e,n.tabBar),n}_insertTab(e,n,i,o){if(e===n)return;if(!this._root){let l=new Private$6$3.TabLayoutNode(this._createTabBar());l.tabBar.addTab(e.title),this._root=l,Private$6$3.addAria(e,l.tabBar);return}i||(i=this._root.findFirstTabNode()),i.tabBar.titles.indexOf(e.title)===-1&&(this._removeWidget(e),e.hide());let u;if(n?u=i.tabBar.titles.indexOf(n.title):u=i.tabBar.currentIndex,this._hiddenMode===Widget$3.HiddenMode.Scale)if(i.tabBar.titles.length===0)e.hiddenMode=Widget$3.HiddenMode.Display;else if(i.tabBar.titles.length==1){const l=i.tabBar.titles[0].owner;l.hiddenMode=Widget$3.HiddenMode.Scale}else e.hiddenMode=Widget$3.HiddenMode.Scale;else e.hiddenMode=this._hiddenMode;i.tabBar.insertTab(u+(o?1:0),e.title),Private$6$3.addAria(e,i.tabBar)}_insertSplit(e,n,i,o,u,l=!1){if(e===n&&i&&i.tabBar.titles.length===1)return;if(this._removeWidget(e),!this._root){this._root=this._createTabNode(e);return}if(!i||!i.parent){let v=this._splitRoot(o),y=u?v.children.length:0;v.normalizeSizes();let w=Private$6$3.createSizer(i?1:Private$6$3.GOLDEN_RATIO),T=this._createTabNode(e);ArrayExt$4.insert(v.children,y,T),ArrayExt$4.insert(v.sizers,y,w),ArrayExt$4.insert(v.handles,y,this._createHandle()),T.parent=v,v.normalizeSizes(),v.syncHandles();return}let c=i.parent;if(c.orientation===o){let v=c.children.indexOf(i);if(l){let P=v+(u?1:-1),A=c.children[P];if(A instanceof Private$6$3.TabLayoutNode){this._insertTab(e,null,A,!0),++A.tabBar.currentIndex;return}}c.normalizeSizes();let y=c.sizers[v].sizeHint/=2,w=v+(u?1:0),T=this._createTabNode(e);ArrayExt$4.insert(c.children,w,T),ArrayExt$4.insert(c.sizers,w,Private$6$3.createSizer(y)),ArrayExt$4.insert(c.handles,w,this._createHandle()),T.parent=c,c.syncHandles();return}let f=ArrayExt$4.removeFirstOf(c.children,i),d=new Private$6$3.SplitLayoutNode(o);d.normalized=!0,d.children.push(i),d.sizers.push(Private$6$3.createSizer(.5)),d.handles.push(this._createHandle()),i.parent=d;let m=u?1:0,g=this._createTabNode(e);ArrayExt$4.insert(d.children,m,g),ArrayExt$4.insert(d.sizers,m,Private$6$3.createSizer(.5)),ArrayExt$4.insert(d.handles,m,this._createHandle()),g.parent=d,d.syncHandles(),ArrayExt$4.insert(c.children,f,d),d.parent=c}_splitRoot(e){let n=this._root;if(n instanceof Private$6$3.SplitLayoutNode&&n.orientation===e)return n;let i=this._root=new Private$6$3.SplitLayoutNode(e);return n&&(i.children.push(n),i.sizers.push(Private$6$3.createSizer(0)),i.handles.push(this._createHandle()),n.parent=i),i}_fit(){let e=0,n=0;if(this._root){let u=this._root.fit(this._spacing,this._items);e=u.minWidth,n=u.minHeight}let i=this._box=ElementExt$1.boxSizing(this.parent.node);e+=i.horizontalSum,n+=i.verticalSum;let o=this.parent.node.style;o.minWidth=`${e}px`,o.minHeight=`${n}px`,this._dirty=!0,this.parent.parent&&MessageLoop$3.sendMessage(this.parent.parent,Widget$3.Msg.FitRequest),this._dirty&&MessageLoop$3.sendMessage(this.parent,Widget$3.Msg.UpdateRequest)}_update(e,n){if(this._dirty=!1,!this._root)return;e<0&&(e=this.parent.node.offsetWidth),n<0&&(n=this.parent.node.offsetHeight),this._box||(this._box=ElementExt$1.boxSizing(this.parent.node));let i=this._box.paddingTop,o=this._box.paddingLeft,u=e-this._box.horizontalSum,l=n-this._box.verticalSum;this._root.update(i,o,u,l,this._spacing,this._items)}_createTabBar(){let e=this.renderer.createTabBar(this._document);return e.orientation="horizontal",this.parent&&this.attachWidget(e),e}_createHandle(){let e=this.renderer.createHandle(),n=e.style;return n.position="absolute",n.contain="strict",n.top="0",n.left="0",n.width="0",n.height="0",this.parent&&this.parent.node.appendChild(e),e}};var Private$6$3;(function(t){t.GOLDEN_RATIO=.618;function e(v){let y=new BoxSizer$3;return y.sizeHint=v,y.size=v,y}t.createSizer=e;function n(v,y){let w;return v.type==="tab-area"?w=f(v,y):w=d(v,y),w}t.normalizeAreaConfig=n;function i(v,y,w){let T;return v.type==="tab-area"?T=m(v,y,w):T=g(v,y,w),T}t.realizeAreaConfig=i;class o{constructor(y){this.parent=null,this._top=0,this._left=0,this._width=0,this._height=0;let w=new BoxSizer$3,T=new BoxSizer$3;w.stretch=0,T.stretch=1,this.tabBar=y,this.sizers=[w,T]}get top(){return this._top}get left(){return this._left}get width(){return this._width}get height(){return this._height}*iterAllWidgets(){yield this.tabBar,yield*this.iterUserWidgets()}*iterUserWidgets(){for(const y of this.tabBar.titles)yield y.owner}*iterSelectedWidgets(){let y=this.tabBar.currentTitle;y&&(yield y.owner)}*iterTabBars(){yield this.tabBar}*iterHandles(){}findTabNode(y){return this.tabBar.titles.indexOf(y.title)!==-1?this:null}findSplitNode(y){return null}findFirstTabNode(){return this}hitTestTabNodes(y,w){return y<this._left||y>=this._left+this._width||w<this._top||w>=this._top+this._height?null:this}createConfig(){let y=this.tabBar.titles.map(T=>T.owner),w=this.tabBar.currentIndex;return{type:"tab-area",widgets:y,currentIndex:w}}holdAllSizes(){}fit(y,w){let T=0,P=0,A=1/0,D=1/0,k=w.get(this.tabBar),j=this.tabBar.currentTitle,B=j?w.get(j.owner):void 0,[Z,R]=this.sizers;return k&&k.fit(),B&&B.fit(),k&&!k.isHidden?(T=Math.max(T,k.minWidth),P+=k.minHeight,Z.minSize=k.minHeight,Z.maxSize=k.maxHeight):(Z.minSize=0,Z.maxSize=0),B&&!B.isHidden?(T=Math.max(T,B.minWidth),P+=B.minHeight,R.minSize=B.minHeight,R.maxSize=1/0):(R.minSize=0,R.maxSize=1/0),{minWidth:T,minHeight:P,maxWidth:A,maxHeight:D}}update(y,w,T,P,A,D){this._top=w,this._left=y,this._width=T,this._height=P;let k=D.get(this.tabBar),j=this.tabBar.currentTitle,B=j?D.get(j.owner):void 0;if(BoxEngine$3.calc(this.sizers,P),k&&!k.isHidden){let Z=this.sizers[0].size;k.update(y,w,T,Z),w+=Z}if(B&&!B.isHidden){let Z=this.sizers[1].size;B.update(y,w,T,Z)}}}t.TabLayoutNode=o;class u{constructor(y){this.parent=null,this.normalized=!1,this.children=[],this.sizers=[],this.handles=[],this.orientation=y}*iterAllWidgets(){for(const y of this.children)yield*y.iterAllWidgets()}*iterUserWidgets(){for(const y of this.children)yield*y.iterUserWidgets()}*iterSelectedWidgets(){for(const y of this.children)yield*y.iterSelectedWidgets()}*iterTabBars(){for(const y of this.children)yield*y.iterTabBars()}*iterHandles(){yield*this.handles;for(const y of this.children)yield*y.iterHandles()}findTabNode(y){for(let w=0,T=this.children.length;w<T;++w){let P=this.children[w].findTabNode(y);if(P)return P}return null}findSplitNode(y){let w=this.handles.indexOf(y);if(w!==-1)return{index:w,node:this};for(let T=0,P=this.children.length;T<P;++T){let A=this.children[T].findSplitNode(y);if(A)return A}return null}findFirstTabNode(){return this.children.length===0?null:this.children[0].findFirstTabNode()}hitTestTabNodes(y,w){for(let T=0,P=this.children.length;T<P;++T){let A=this.children[T].hitTestTabNodes(y,w);if(A)return A}return null}createConfig(){let y=this.orientation,w=this.createNormalizedSizes(),T=this.children.map(P=>P.createConfig());return{type:"split-area",orientation:y,children:T,sizes:w}}syncHandles(){this.handles.forEach((y,w)=>{y.setAttribute("data-orientation",this.orientation),w===this.handles.length-1?y.classList.add("lm-mod-hidden"):y.classList.remove("lm-mod-hidden")})}holdSizes(){for(const y of this.sizers)y.sizeHint=y.size}holdAllSizes(){for(const y of this.children)y.holdAllSizes();this.holdSizes()}normalizeSizes(){let y=this.sizers.length;if(y===0)return;this.holdSizes();let w=this.sizers.reduce((T,P)=>T+P.sizeHint,0);if(w===0)for(const T of this.sizers)T.size=T.sizeHint=1/y;else for(const T of this.sizers)T.size=T.sizeHint/=w;this.normalized=!0}createNormalizedSizes(){let y=this.sizers.length;if(y===0)return[];let w=this.sizers.map(P=>P.size),T=w.reduce((P,A)=>P+A,0);if(T===0)for(let P=w.length-1;P>-1;P--)w[P]=1/y;else for(let P=w.length-1;P>-1;P--)w[P]/=T;return w}fit(y,w){let T=this.orientation==="horizontal",P=Math.max(0,this.children.length-1)*y,A=T?P:0,D=T?0:P,k=1/0,j=1/0;for(let B=0,Z=this.children.length;B<Z;++B){let R=this.children[B].fit(y,w);T?(D=Math.max(D,R.minHeight),A+=R.minWidth,this.sizers[B].minSize=R.minWidth):(A=Math.max(A,R.minWidth),D+=R.minHeight,this.sizers[B].minSize=R.minHeight)}return{minWidth:A,minHeight:D,maxWidth:k,maxHeight:j}}update(y,w,T,P,A,D){let k=this.orientation==="horizontal",j=Math.max(0,this.children.length-1)*A,B=Math.max(0,(k?T:P)-j);if(this.normalized){for(const Z of this.sizers)Z.sizeHint*=B;this.normalized=!1}BoxEngine$3.calc(this.sizers,B);for(let Z=0,R=this.children.length;Z<R;++Z){let G=this.children[Z],F=this.sizers[Z].size,K=this.handles[Z].style;k?(G.update(y,w,F,P,A,D),y+=F,K.top=`${w}px`,K.left=`${y}px`,K.width=`${A}px`,K.height=`${P}px`,y+=A):(G.update(y,w,T,F,A,D),w+=F,K.top=`${w}px`,K.left=`${y}px`,K.width=`${T}px`,K.height=`${A}px`,w+=A)}}}t.SplitLayoutNode=u;function l(v,y){v.node.setAttribute("role","tabpanel");let w=y.renderer;if(w instanceof TabBar$3.Renderer){let T=w.createTabKey({title:v.title,current:!1,zIndex:0});v.node.setAttribute("aria-labelledby",T)}}t.addAria=l;function c(v){v.node.removeAttribute("role"),v.node.removeAttribute("aria-labelledby")}t.removeAria=c;function f(v,y){if(v.widgets.length===0)return null;let w=[];for(const P of v.widgets)y.has(P)||(y.add(P),w.push(P));if(w.length===0)return null;let T=v.currentIndex;return T!==-1&&(T<0||T>=w.length)&&(T=0),{type:"tab-area",widgets:w,currentIndex:T}}function d(v,y){let w=v.orientation,T=[],P=[];for(let A=0,D=v.children.length;A<D;++A){let k=n(v.children[A],y);k&&(k.type==="tab-area"||k.orientation!==w?(T.push(k),P.push(Math.abs(v.sizes[A]||0))):(T.push(...k.children),P.push(...k.sizes)))}return T.length===0?null:T.length===1?T[0]:{type:"split-area",orientation:w,children:T,sizes:P}}function m(v,y,w){let T=y.createTabBar(w);for(const P of v.widgets)P.hide(),T.addTab(P.title),t.addAria(P,T);return T.currentIndex=v.currentIndex,new o(T)}function g(v,y,w){let T=new u(v.orientation);return v.children.forEach((P,A)=>{let D=i(P,y,w),k=e(v.sizes[A]),j=y.createHandle();T.children.push(D),T.handles.push(j),T.sizers.push(k),D.parent=T}),T.syncHandles(),T.normalizeSizes(),T}})(Private$6$3||(Private$6$3={}));let DockPanel$3=class td extends Widget$3{constructor(e={}){super(),this._drag=null,this._tabsMovable=!0,this._tabsConstrained=!1,this._addButtonEnabled=!1,this._pressData=null,this._layoutModified=new Signal$2(this),this._addRequested=new Signal$2(this),this.addClass("lm-DockPanel"),this._document=e.document||document,this._mode=e.mode||"multiple-document",this._renderer=e.renderer||td.defaultRenderer,this._edges=e.edges||Private$5$3.DEFAULT_EDGES,e.tabsMovable!==void 0&&(this._tabsMovable=e.tabsMovable),e.tabsConstrained!==void 0&&(this._tabsConstrained=e.tabsConstrained),e.addButtonEnabled!==void 0&&(this._addButtonEnabled=e.addButtonEnabled),this.dataset.mode=this._mode;let n={createTabBar:()=>this._createTabBar(),createHandle:()=>this._createHandle()};this.layout=new DockLayout$3({document:this._document,renderer:n,spacing:e.spacing,hiddenMode:e.hiddenMode}),this.overlay=e.overlay||new td.Overlay,this.node.appendChild(this.overlay.node)}dispose(){this._releaseMouse(),this.overlay.hide(0),this._drag&&this._drag.dispose(),super.dispose()}get hiddenMode(){return this.layout.hiddenMode}set hiddenMode(e){this.layout.hiddenMode=e}get layoutModified(){return this._layoutModified}get addRequested(){return this._addRequested}get renderer(){return this.layout.renderer}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get mode(){return this._mode}set mode(e){if(this._mode===e)return;this._mode=e,this.dataset.mode=e;let n=this.layout;switch(e){case"multiple-document":for(const i of n.tabBars())i.show();break;case"single-document":n.restoreLayout(Private$5$3.createSingleDocumentConfig(this));break;default:throw"unreachable"}MessageLoop$3.postMessage(this,Private$5$3.LayoutModified)}get tabsMovable(){return this._tabsMovable}set tabsMovable(e){this._tabsMovable=e;for(const n of this.tabBars())n.tabsMovable=e}get tabsConstrained(){return this._tabsConstrained}set tabsConstrained(e){this._tabsConstrained=e}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled=e;for(const n of this.tabBars())n.addButtonEnabled=e}get isEmpty(){return this.layout.isEmpty}*widgets(){yield*this.layout.widgets()}*selectedWidgets(){yield*this.layout.selectedWidgets()}*tabBars(){yield*this.layout.tabBars()}*handles(){yield*this.layout.handles()}selectWidget(e){let n=find$4(this.tabBars(),i=>i.titles.indexOf(e.title)!==-1);if(!n)throw new Error("Widget is not contained in the dock panel.");n.currentTitle=e.title}activateWidget(e){this.selectWidget(e),e.activate()}saveLayout(){return this.layout.saveLayout()}restoreLayout(e){this._mode="multiple-document",this.layout.restoreLayout(e),(Platform$1.IS_EDGE||Platform$1.IS_IE)&&MessageLoop$3.flush(),MessageLoop$3.postMessage(this,Private$5$3.LayoutModified)}addWidget(e,n={}){this._mode==="single-document"?this.layout.addWidget(e):this.layout.addWidget(e,n),MessageLoop$3.postMessage(this,Private$5$3.LayoutModified)}processMessage(e){e.type==="layout-modified"?this._layoutModified.emit(void 0):super.processMessage(e)}handleEvent(e){switch(e.type){case"lm-dragenter":this._evtDragEnter(e);break;case"lm-dragleave":this._evtDragLeave(e);break;case"lm-dragover":this._evtDragOver(e);break;case"lm-drop":this._evtDrop(e);break;case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("lm-dragenter",this),this.node.addEventListener("lm-dragleave",this),this.node.addEventListener("lm-dragover",this),this.node.addEventListener("lm-drop",this),this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("lm-dragenter",this),this.node.removeEventListener("lm-dragleave",this),this.node.removeEventListener("lm-dragover",this),this.node.removeEventListener("lm-drop",this),this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){Private$5$3.isGeneratedTabBarProperty.get(e.child)||e.child.addClass("lm-DockPanel-widget")}onChildRemoved(e){Private$5$3.isGeneratedTabBarProperty.get(e.child)||(e.child.removeClass("lm-DockPanel-widget"),MessageLoop$3.postMessage(this,Private$5$3.LayoutModified))}_evtDragEnter(e){e.mimeData.hasData("application/vnd.lumino.widget-factory")&&(e.preventDefault(),e.stopPropagation())}_evtDragLeave(e){e.preventDefault(),!(this._tabsConstrained&&e.source!==this)&&(e.stopPropagation(),this.overlay.hide(1))}_evtDragOver(e){e.preventDefault(),this._tabsConstrained&&e.source!==this||this._showOverlay(e.clientX,e.clientY)==="invalid"?e.dropAction="none":(e.stopPropagation(),e.dropAction=e.proposedAction)}_evtDrop(e){if(e.preventDefault(),this.overlay.hide(0),e.proposedAction==="none"){e.dropAction="none";return}let{clientX:n,clientY:i}=e,{zone:o,target:u}=Private$5$3.findDropTarget(this,n,i,this._edges);if(this._tabsConstrained&&e.source!==this||o==="invalid"){e.dropAction="none";return}let c=e.mimeData.getData("application/vnd.lumino.widget-factory");if(typeof c!="function"){e.dropAction="none";return}let f=c();if(!(f instanceof Widget$3)){e.dropAction="none";return}if(f.contains(this)){e.dropAction="none";return}let d=u?Private$5$3.getDropRef(u.tabBar):null;switch(o){case"root-all":this.addWidget(f);break;case"root-top":this.addWidget(f,{mode:"split-top"});break;case"root-left":this.addWidget(f,{mode:"split-left"});break;case"root-right":this.addWidget(f,{mode:"split-right"});break;case"root-bottom":this.addWidget(f,{mode:"split-bottom"});break;case"widget-all":this.addWidget(f,{mode:"tab-after",ref:d});break;case"widget-top":this.addWidget(f,{mode:"split-top",ref:d});break;case"widget-left":this.addWidget(f,{mode:"split-left",ref:d});break;case"widget-right":this.addWidget(f,{mode:"split-right",ref:d});break;case"widget-bottom":this.addWidget(f,{mode:"split-bottom",ref:d});break;case"widget-tab":this.addWidget(f,{mode:"tab-after",ref:d});break;default:throw"unreachable"}e.dropAction=e.proposedAction,e.stopPropagation(),this.activateWidget(f)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&(this._releaseMouse(),MessageLoop$3.postMessage(this,Private$5$3.LayoutModified))}_evtPointerDown(e){if(e.button!==0)return;let n=this.layout,i=e.target,o=find$4(n.handles(),m=>m.contains(i));if(!o)return;e.preventDefault(),e.stopPropagation(),this._document.addEventListener("keydown",this,!0),this._document.addEventListener("pointerup",this,!0),this._document.addEventListener("pointermove",this,!0),this._document.addEventListener("contextmenu",this,!0);let u=o.getBoundingClientRect(),l=e.clientX-u.left,c=e.clientY-u.top,f=window.getComputedStyle(o),d=Drag$3.overrideCursor(f.cursor,this._document);this._pressData={handle:o,deltaX:l,deltaY:c,override:d}}_evtPointerMove(e){if(!this._pressData)return;e.preventDefault(),e.stopPropagation();let n=this.node.getBoundingClientRect(),i=e.clientX-n.left-this._pressData.deltaX,o=e.clientY-n.top-this._pressData.deltaY;this.layout.moveHandle(this._pressData.handle,i,o)}_evtPointerUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse(),MessageLoop$3.postMessage(this,Private$5$3.LayoutModified))}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._document.removeEventListener("keydown",this,!0),this._document.removeEventListener("pointerup",this,!0),this._document.removeEventListener("pointermove",this,!0),this._document.removeEventListener("contextmenu",this,!0))}_showOverlay(e,n){let{zone:i,target:o}=Private$5$3.findDropTarget(this,e,n,this._edges);if(i==="invalid")return this.overlay.hide(100),i;let u,l,c,f,d=ElementExt$1.boxSizing(this.node),m=this.node.getBoundingClientRect();switch(i){case"root-all":u=d.paddingTop,l=d.paddingLeft,c=d.paddingRight,f=d.paddingBottom;break;case"root-top":u=d.paddingTop,l=d.paddingLeft,c=d.paddingRight,f=m.height*Private$5$3.GOLDEN_RATIO;break;case"root-left":u=d.paddingTop,l=d.paddingLeft,c=m.width*Private$5$3.GOLDEN_RATIO,f=d.paddingBottom;break;case"root-right":u=d.paddingTop,l=m.width*Private$5$3.GOLDEN_RATIO,c=d.paddingRight,f=d.paddingBottom;break;case"root-bottom":u=m.height*Private$5$3.GOLDEN_RATIO,l=d.paddingLeft,c=d.paddingRight,f=d.paddingBottom;break;case"widget-all":u=o.top,l=o.left,c=o.right,f=o.bottom;break;case"widget-top":u=o.top,l=o.left,c=o.right,f=o.bottom+o.height/2;break;case"widget-left":u=o.top,l=o.left,c=o.right+o.width/2,f=o.bottom;break;case"widget-right":u=o.top,l=o.left+o.width/2,c=o.right,f=o.bottom;break;case"widget-bottom":u=o.top+o.height/2,l=o.left,c=o.right,f=o.bottom;break;case"widget-tab":{const g=o.tabBar.node.getBoundingClientRect().height;u=o.top,l=o.left,c=o.right,f=o.bottom+o.height-g;break}default:throw"unreachable"}return this.overlay.show({top:u,left:l,right:c,bottom:f}),i}_createTabBar(){let e=this._renderer.createTabBar(this._document);return Private$5$3.isGeneratedTabBarProperty.set(e,!0),this._mode==="single-document"&&e.hide(),e.tabsMovable=this._tabsMovable,e.allowDeselect=!1,e.addButtonEnabled=this._addButtonEnabled,e.removeBehavior="select-previous-tab",e.insertBehavior="select-tab-if-needed",e.tabMoved.connect(this._onTabMoved,this),e.currentChanged.connect(this._onCurrentChanged,this),e.tabCloseRequested.connect(this._onTabCloseRequested,this),e.tabDetachRequested.connect(this._onTabDetachRequested,this),e.tabActivateRequested.connect(this._onTabActivateRequested,this),e.addRequested.connect(this._onTabAddRequested,this),e}_createHandle(){return this._renderer.createHandle()}_onTabMoved(){MessageLoop$3.postMessage(this,Private$5$3.LayoutModified)}_onCurrentChanged(e,n){let{previousTitle:i,currentTitle:o}=n;i&&i.owner.hide(),o&&o.owner.show(),(Platform$1.IS_EDGE||Platform$1.IS_IE)&&MessageLoop$3.flush(),MessageLoop$3.postMessage(this,Private$5$3.LayoutModified)}_onTabAddRequested(e){this._addRequested.emit(e)}_onTabActivateRequested(e,n){n.title.owner.activate()}_onTabCloseRequested(e,n){n.title.owner.close()}_onTabDetachRequested(e,n){if(this._drag)return;e.releaseMouse();let{title:i,tab:o,clientX:u,clientY:l,offset:c}=n,f=new MimeData$1,d=()=>i.owner;f.setData("application/vnd.lumino.widget-factory",d);let m=o.cloneNode(!0);c&&(m.style.top=`-${c.y}px`,m.style.left=`-${c.x}px`),this._drag=new Drag$3({document:this._document,mimeData:f,dragImage:m,proposedAction:"move",supportedActions:"move",source:this}),o.classList.add("lm-mod-hidden");let g=()=>{this._drag=null,o.classList.remove("lm-mod-hidden")};this._drag.start(u,l).then(g)}};(function(t){class e{constructor(){this._timer=-1,this._hidden=!0,this.node=document.createElement("div"),this.node.classList.add("lm-DockPanel-overlay"),this.node.classList.add("lm-mod-hidden"),this.node.style.position="absolute",this.node.style.contain="strict"}show(o){let u=this.node.style;u.top=`${o.top}px`,u.left=`${o.left}px`,u.right=`${o.right}px`,u.bottom=`${o.bottom}px`,clearTimeout(this._timer),this._timer=-1,this._hidden&&(this._hidden=!1,this.node.classList.remove("lm-mod-hidden"))}hide(o){if(!this._hidden){if(o<=0){clearTimeout(this._timer),this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden");return}this._timer===-1&&(this._timer=window.setTimeout(()=>{this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden")},o))}}}t.Overlay=e;class n{createTabBar(o){let u=new TabBar$3({document:o});return u.addClass("lm-DockPanel-tabBar"),u}createHandle(){let o=document.createElement("div");return o.className="lm-DockPanel-handle",o}}t.Renderer=n,t.defaultRenderer=new n})(DockPanel$3||(DockPanel$3={}));var Private$5$3;(function(t){t.GOLDEN_RATIO=.618,t.DEFAULT_EDGES={top:12,right:40,bottom:40,left:40},t.LayoutModified=new ConflatableMessage$3("layout-modified"),t.isGeneratedTabBarProperty=new AttachedProperty$2({name:"isGeneratedTabBar",create:()=>!1});function e(o){if(o.isEmpty)return{main:null};let u=Array.from(o.widgets()),l=o.selectedWidgets().next().value,c=l?u.indexOf(l):-1;return{main:{type:"tab-area",widgets:u,currentIndex:c}}}t.createSingleDocumentConfig=e;function n(o,u,l,c){if(!ElementExt$1.hitTest(o.node,u,l))return{zone:"invalid",target:null};let f=o.layout;if(f.isEmpty)return{zone:"root-all",target:null};if(o.mode==="multiple-document"){let k=o.node.getBoundingClientRect(),j=u-k.left+1,B=l-k.top+1,Z=k.right-u,R=k.bottom-l;switch(Math.min(B,Z,R,j)){case B:if(B<c.top)return{zone:"root-top",target:null};break;case Z:if(Z<c.right)return{zone:"root-right",target:null};break;case R:if(R<c.bottom)return{zone:"root-bottom",target:null};break;case j:if(j<c.left)return{zone:"root-left",target:null};break;default:throw"unreachable"}}let d=f.hitTestTabAreas(u,l);if(!d)return{zone:"invalid",target:null};if(o.mode==="single-document")return{zone:"widget-all",target:d};let m=d.x-d.left+1,g=d.y-d.top+1,v=d.left+d.width-d.x,y=d.top+d.height-d.y;const w=d.tabBar.node.getBoundingClientRect().height;if(g<w)return{zone:"widget-tab",target:d};let T=Math.round(d.width/3),P=Math.round(d.height/3);if(m>T&&v>T&&g>P&&y>P)return{zone:"widget-all",target:d};m/=T,g/=P,v/=T,y/=P;let A=Math.min(m,g,v,y),D;switch(A){case m:D="widget-left";break;case g:D="widget-top";break;case v:D="widget-right";break;case y:D="widget-bottom";break;default:throw"unreachable"}return{zone:D,target:d}}t.findDropTarget=n;function i(o){return o.titles.length===0?null:o.currentTitle?o.currentTitle.owner:o.titles[o.titles.length-1].owner}t.getDropRef=i})(Private$5$3||(Private$5$3={}));let GridLayout$3=class Xu extends Layout$3{constructor(e={}){super(e),this._dirty=!1,this._rowSpacing=4,this._columnSpacing=4,this._items=[],this._rowStarts=[],this._columnStarts=[],this._rowSizers=[new BoxSizer$3],this._columnSizers=[new BoxSizer$3],this._box=null,e.rowCount!==void 0&&Private$4$3.reallocSizers(this._rowSizers,e.rowCount),e.columnCount!==void 0&&Private$4$3.reallocSizers(this._columnSizers,e.columnCount),e.rowSpacing!==void 0&&(this._rowSpacing=Private$4$3.clampValue(e.rowSpacing)),e.columnSpacing!==void 0&&(this._columnSpacing=Private$4$3.clampValue(e.columnSpacing))}dispose(){for(const e of this._items){let n=e.widget;e.dispose(),n.dispose()}this._box=null,this._items.length=0,this._rowStarts.length=0,this._rowSizers.length=0,this._columnStarts.length=0,this._columnSizers.length=0,super.dispose()}get rowCount(){return this._rowSizers.length}set rowCount(e){e!==this.rowCount&&(Private$4$3.reallocSizers(this._rowSizers,e),this.parent&&this.parent.fit())}get columnCount(){return this._columnSizers.length}set columnCount(e){e!==this.columnCount&&(Private$4$3.reallocSizers(this._columnSizers,e),this.parent&&this.parent.fit())}get rowSpacing(){return this._rowSpacing}set rowSpacing(e){e=Private$4$3.clampValue(e),this._rowSpacing!==e&&(this._rowSpacing=e,this.parent&&this.parent.fit())}get columnSpacing(){return this._columnSpacing}set columnSpacing(e){e=Private$4$3.clampValue(e),this._columnSpacing!==e&&(this._columnSpacing=e,this.parent&&this.parent.fit())}rowStretch(e){let n=this._rowSizers[e];return n?n.stretch:-1}setRowStretch(e,n){let i=this._rowSizers[e];i&&(n=Private$4$3.clampValue(n),i.stretch!==n&&(i.stretch=n,this.parent&&this.parent.update()))}columnStretch(e){let n=this._columnSizers[e];return n?n.stretch:-1}setColumnStretch(e,n){let i=this._columnSizers[e];i&&(n=Private$4$3.clampValue(n),i.stretch!==n&&(i.stretch=n,this.parent&&this.parent.update()))}*[Symbol.iterator](){for(const e of this._items)yield e.widget}addWidget(e){ArrayExt$4.findFirstIndex(this._items,i=>i.widget===e)===-1&&(this._items.push(new LayoutItem$3(e)),this.parent&&this.attachWidget(e))}removeWidget(e){let n=ArrayExt$4.findFirstIndex(this._items,o=>o.widget===e);if(n===-1)return;let i=ArrayExt$4.removeAt(this._items,n);this.parent&&this.detachWidget(e),i.dispose()}init(){super.init();for(const e of this)this.attachWidget(e)}attachWidget(e){this.parent.isAttached&&MessageLoop$3.sendMessage(e,Widget$3.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&MessageLoop$3.sendMessage(e,Widget$3.Msg.AfterAttach),this.parent.fit()}detachWidget(e){this.parent.isAttached&&MessageLoop$3.sendMessage(e,Widget$3.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&MessageLoop$3.sendMessage(e,Widget$3.Msg.AfterDetach),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){for(let f=0,d=this.rowCount;f<d;++f)this._rowSizers[f].minSize=0;for(let f=0,d=this.columnCount;f<d;++f)this._columnSizers[f].minSize=0;let e=this._items.filter(f=>!f.isHidden);for(let f=0,d=e.length;f<d;++f)e[f].fit();let n=this.rowCount-1,i=this.columnCount-1;e.sort(Private$4$3.rowSpanCmp);for(let f=0,d=e.length;f<d;++f){let m=e[f],g=Xu.getCellConfig(m.widget),v=Math.min(g.row,n),y=Math.min(g.row+g.rowSpan-1,n);Private$4$3.distributeMin(this._rowSizers,v,y,m.minHeight)}e.sort(Private$4$3.columnSpanCmp);for(let f=0,d=e.length;f<d;++f){let m=e[f],g=Xu.getCellConfig(m.widget),v=Math.min(g.column,i),y=Math.min(g.column+g.columnSpan-1,i);Private$4$3.distributeMin(this._columnSizers,v,y,m.minWidth)}if(this.fitPolicy==="set-no-constraint"){MessageLoop$3.sendMessage(this.parent,Widget$3.Msg.UpdateRequest);return}let o=n*this._rowSpacing,u=i*this._columnSpacing;for(let f=0,d=this.rowCount;f<d;++f)o+=this._rowSizers[f].minSize;for(let f=0,d=this.columnCount;f<d;++f)u+=this._columnSizers[f].minSize;let l=this._box=ElementExt$1.boxSizing(this.parent.node);u+=l.horizontalSum,o+=l.verticalSum;let c=this.parent.node.style;c.minWidth=`${u}px`,c.minHeight=`${o}px`,this._dirty=!0,this.parent.parent&&MessageLoop$3.sendMessage(this.parent.parent,Widget$3.Msg.FitRequest),this._dirty&&MessageLoop$3.sendMessage(this.parent,Widget$3.Msg.UpdateRequest)}_update(e,n){this._dirty=!1,e<0&&(e=this.parent.node.offsetWidth),n<0&&(n=this.parent.node.offsetHeight),this._box||(this._box=ElementExt$1.boxSizing(this.parent.node));let i=this._box.paddingTop,o=this._box.paddingLeft,u=e-this._box.horizontalSum,l=n-this._box.verticalSum,c=this.rowCount-1,f=this.columnCount-1,d=c*this._rowSpacing,m=f*this._columnSpacing;BoxEngine$3.calc(this._rowSizers,Math.max(0,l-d)),BoxEngine$3.calc(this._columnSizers,Math.max(0,u-m));for(let g=0,v=i,y=this.rowCount;g<y;++g)this._rowStarts[g]=v,v+=this._rowSizers[g].size+this._rowSpacing;for(let g=0,v=o,y=this.columnCount;g<y;++g)this._columnStarts[g]=v,v+=this._columnSizers[g].size+this._columnSpacing;for(let g=0,v=this._items.length;g<v;++g){let y=this._items[g];if(y.isHidden)continue;let w=Xu.getCellConfig(y.widget),T=Math.min(w.row,c),P=Math.min(w.column,f),A=Math.min(w.row+w.rowSpan-1,c),D=Math.min(w.column+w.columnSpan-1,f),k=this._columnStarts[P],j=this._rowStarts[T],B=this._columnStarts[D]+this._columnSizers[D].size-k,Z=this._rowStarts[A]+this._rowSizers[A].size-j;y.update(k,j,B,Z)}}};(function(t){function e(i){return Private$4$3.cellConfigProperty.get(i)}t.getCellConfig=e;function n(i,o){Private$4$3.cellConfigProperty.set(i,Private$4$3.normalizeConfig(o))}t.setCellConfig=n})(GridLayout$3||(GridLayout$3={}));var Private$4$3;(function(t){t.cellConfigProperty=new AttachedProperty$2({name:"cellConfig",create:()=>({row:0,column:0,rowSpan:1,columnSpan:1}),changed:c});function e(f){let d=Math.max(0,Math.floor(f.row||0)),m=Math.max(0,Math.floor(f.column||0)),g=Math.max(1,Math.floor(f.rowSpan||0)),v=Math.max(1,Math.floor(f.columnSpan||0));return{row:d,column:m,rowSpan:g,columnSpan:v}}t.normalizeConfig=e;function n(f){return Math.max(0,Math.floor(f))}t.clampValue=n;function i(f,d){let m=t.cellConfigProperty.get(f.widget),g=t.cellConfigProperty.get(d.widget);return m.rowSpan-g.rowSpan}t.rowSpanCmp=i;function o(f,d){let m=t.cellConfigProperty.get(f.widget),g=t.cellConfigProperty.get(d.widget);return m.columnSpan-g.columnSpan}t.columnSpanCmp=o;function u(f,d){for(d=Math.max(1,Math.floor(d));f.length<d;)f.push(new BoxSizer$3);f.length>d&&(f.length=d)}t.reallocSizers=u;function l(f,d,m,g){if(m<d)return;if(d===m){let w=f[d];w.minSize=Math.max(w.minSize,g);return}let v=0;for(let w=d;w<=m;++w)v+=f[w].minSize;if(v>=g)return;let y=(g-v)/(m-d+1);for(let w=d;w<=m;++w)f[w].minSize+=y}t.distributeMin=l;function c(f){f.parent&&f.parent.layout instanceof GridLayout$3&&f.parent.fit()}})(Private$4$3||(Private$4$3={}));let MenuBar$3=class yp extends Widget$3{constructor(e={}){super({node:Private$3$3.createNode()}),this._activeIndex=-1,this._tabFocusIndex=0,this._menus=[],this._childMenu=null,this._overflowMenu=null,this._menuItemSizes=[],this._overflowIndex=-1,this.addClass("lm-MenuBar"),this.setFlag(Widget$3.Flag.DisallowLayout),this.renderer=e.renderer||yp.defaultRenderer,this._forceItemsPosition=e.forceItemsPosition||{forceX:!0,forceY:!0},this._overflowMenuOptions=e.overflowMenuOptions||{isVisible:!0}}dispose(){this._closeChildMenu(),this._menus.length=0,super.dispose()}get childMenu(){return this._childMenu}get overflowIndex(){return this._overflowIndex}get overflowMenu(){return this._overflowMenu}get contentNode(){return this.node.getElementsByClassName("lm-MenuBar-content")[0]}get activeMenu(){return this._menus[this._activeIndex]||null}set activeMenu(e){this.activeIndex=e?this._menus.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._menus.length)&&(e=-1),e>-1&&this._menus[e].items.length===0&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this.update())}get menus(){return this._menus}openActiveMenu(){this._activeIndex!==-1&&(this._openChildMenu(),this._childMenu&&(this._childMenu.activeIndex=-1,this._childMenu.activateNextItem()))}addMenu(e,n=!0){this.insertMenu(this._menus.length,e,n)}insertMenu(e,n,i=!0){this._closeChildMenu();let o=this._menus.indexOf(n),u=Math.max(0,Math.min(e,this._menus.length));if(o===-1){ArrayExt$4.insert(this._menus,u,n),n.addClass("lm-MenuBar-menu"),n.aboutToClose.connect(this._onMenuAboutToClose,this),n.menuRequested.connect(this._onMenuMenuRequested,this),n.title.changed.connect(this._onTitleChanged,this),i&&this.update();return}u===this._menus.length&&u--,o!==u&&(ArrayExt$4.move(this._menus,o,u),i&&this.update())}removeMenu(e,n=!0){this.removeMenuAt(this._menus.indexOf(e),n)}removeMenuAt(e,n=!0){this._closeChildMenu();let i=ArrayExt$4.removeAt(this._menus,e);i&&(i.aboutToClose.disconnect(this._onMenuAboutToClose,this),i.menuRequested.disconnect(this._onMenuMenuRequested,this),i.title.changed.disconnect(this._onTitleChanged,this),i.removeClass("lm-MenuBar-menu"),n&&this.update())}clearMenus(){if(this._menus.length!==0){this._closeChildMenu();for(let e of this._menus)e.aboutToClose.disconnect(this._onMenuAboutToClose,this),e.menuRequested.disconnect(this._onMenuMenuRequested,this),e.title.changed.disconnect(this._onTitleChanged,this),e.removeClass("lm-MenuBar-menu");this._menus.length=0,this.update()}}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":case"mouseleave":this._evtMouseMove(e);break;case"focusout":this._evtFocusOut(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("focusout",this),this.node.addEventListener("contextmenu",this)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("focusout",this),this.node.removeEventListener("contextmenu",this),this._closeChildMenu()}onActivateRequest(e){this.isAttached&&this._focusItemAt(0)}onResize(e){this.update(),super.onResize(e)}onUpdateRequest(e){var n;let i=this._menus,o=this.renderer,u=this._activeIndex,l=this._tabFocusIndex>=0&&this._tabFocusIndex<i.length?this._tabFocusIndex:0,c=this._overflowIndex>-1?this._overflowIndex:i.length,f=0,d=!1;c=this._overflowMenu!==null?c-1:c;let m=new Array(c);for(let g=0;g<c;++g)m[g]=o.renderItem({title:i[g].title,active:g===u,tabbable:g===l,disabled:i[g].items.length===0,onfocus:()=>{this._tabFocusIndex=g,this.activeIndex=g}}),f+=this._menuItemSizes[g],i[g].title.label===this._overflowMenuOptions.title&&(d=!0,c--);if(this._overflowMenuOptions.isVisible){if(this._overflowIndex>-1&&!d){if(this._overflowMenu===null){const g=(n=this._overflowMenuOptions.title)!==null&&n!==void 0?n:"...";this._overflowMenu=new Menu$3({commands:new CommandRegistry$1}),this._overflowMenu.title.label=g,this._overflowMenu.title.mnemonic=0,this.addMenu(this._overflowMenu,!1)}for(let g=i.length-2;g>=c;g--){const v=this.menus[g];v.title.mnemonic=0,this._overflowMenu.insertItem(0,{type:"submenu",submenu:v}),this.removeMenu(v,!1)}m[c]=o.renderItem({title:this._overflowMenu.title,active:c===u&&i[c].items.length!==0,tabbable:c===l,disabled:i[c].items.length===0,onfocus:()=>{this._tabFocusIndex=c,this.activeIndex=c}}),c++}else if(this._overflowMenu!==null){let g=this._overflowMenu.items,v=this.node.offsetWidth,y=this._overflowMenu.items.length;for(let w=0;w<y;++w){let T=i.length-1-w;if(v-f>this._menuItemSizes[T]){let P=g[0].submenu;this._overflowMenu.removeItemAt(0),this.insertMenu(c,P,!1),m[c]=o.renderItem({title:P.title,active:!1,tabbable:c===l,disabled:i[c].items.length===0,onfocus:()=>{this._tabFocusIndex=c,this.activeIndex=c}}),c++}}this._overflowMenu.items.length===0&&(this.removeMenu(this._overflowMenu,!1),m.pop(),this._overflowMenu=null,this._overflowIndex=-1)}}VirtualDOM$1.render(m,this.contentNode),this._updateOverflowIndex()}_updateOverflowIndex(){if(!this._overflowMenuOptions.isVisible)return;const e=this.contentNode.childNodes;let n=this.node.offsetWidth,i=0,o=-1,u=e.length;if(this._menuItemSizes.length==0)for(let l=0;l<u;l++){let c=e[l];i+=c.offsetWidth,this._menuItemSizes.push(c.offsetWidth),i>n&&o===-1&&(o=l)}else for(let l=0;l<this._menuItemSizes.length;l++)if(i+=this._menuItemSizes[l],i>n){o=l;break}this._overflowIndex=o}_evtKeyDown(e){let n=e.keyCode;if(n===9){this.activeIndex=-1;return}if(e.preventDefault(),e.stopPropagation(),n===13||n===32||n===38||n===40){if(this.activeIndex=this._tabFocusIndex,this.activeIndex!==this._tabFocusIndex)return;this.openActiveMenu();return}if(n===27){this._closeChildMenu(),this._focusItemAt(this.activeIndex);return}if(n===37||n===39){let l=n===37?-1:1,c=this._tabFocusIndex+l,f=this._menus.length;for(let d=0;d<f;d++){let m=(f+c+l*d)%f;if(this._menus[m].items.length){this._focusItemAt(m);return}}return}let i=getKeyboardLayout$1().keyForKeydownEvent(e);if(!i)return;let o=this._activeIndex+1,u=Private$3$3.findMnemonic(this._menus,i,o);u.index!==-1&&!u.multiple?(this.activeIndex=u.index,this.openActiveMenu()):u.index!==-1?(this.activeIndex=u.index,this._focusItemAt(this.activeIndex)):u.auto!==-1&&(this.activeIndex=u.auto,this._focusItemAt(this.activeIndex))}_evtMouseDown(e){if(!ElementExt$1.hitTest(this.node,e.clientX,e.clientY))return;e.stopPropagation(),e.stopImmediatePropagation();let n=ArrayExt$4.findFirstIndex(this.contentNode.children,i=>ElementExt$1.hitTest(i,e.clientX,e.clientY));if(n===-1){this._closeChildMenu();return}if(e.button===0)if(this._childMenu)this._closeChildMenu(),this.activeIndex=n;else{e.preventDefault();const i=this._positionForMenu(n);Menu$3.saveWindowData(),this.activeIndex=n,this._openChildMenu(i)}}_evtMouseMove(e){let n=ArrayExt$4.findFirstIndex(this.contentNode.children,o=>ElementExt$1.hitTest(o,e.clientX,e.clientY));if(n===this._activeIndex||n===-1&&this._childMenu)return;const i=n>=0&&this._childMenu?this._positionForMenu(n):null;Menu$3.saveWindowData(),this.activeIndex=n,i&&this._openChildMenu(i)}_positionForMenu(e){let n=this.contentNode.children[e],{left:i,bottom:o}=n.getBoundingClientRect();return{top:o,left:i}}_evtFocusOut(e){!this._childMenu&&!this.node.contains(e.relatedTarget)&&(this.activeIndex=-1)}_focusItemAt(e){const n=this.contentNode.childNodes[e];n&&n.focus()}_openChildMenu(e={}){let n=this.activeMenu;if(!n){this._closeChildMenu();return}let i=this._childMenu;if(i===n)return;this._childMenu=n,i?i.close():document.addEventListener("mousedown",this,!0),this._tabFocusIndex=this.activeIndex,MessageLoop$3.sendMessage(this,Widget$3.Msg.UpdateRequest);let{left:o,top:u}=e;(typeof o>"u"||typeof u>"u")&&({left:o,top:u}=this._positionForMenu(this._activeIndex)),i||this.addClass("lm-mod-active"),n.items.length>0&&n.open(o,u,this._forceItemsPosition)}_closeChildMenu(){if(!this._childMenu)return;this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0);let e=this._childMenu;this._childMenu=null,e.close(),this.activeIndex=-1}_onMenuAboutToClose(e){e===this._childMenu&&(this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0),this._childMenu=null,this.activeIndex=-1)}_onMenuMenuRequested(e,n){if(e!==this._childMenu)return;let i=this._activeIndex,o=this._menus.length;switch(n){case"next":this.activeIndex=i===o-1?0:i+1;break;case"previous":this.activeIndex=i===0?o-1:i-1;break}this.openActiveMenu()}_onTitleChanged(){this.update()}};(function(t){class e{renderItem(i){let o=this.createItemClass(i),u=this.createItemDataset(i),l=this.createItemARIA(i);return h$2.li({className:o,dataset:u,...i.disabled?{}:{tabindex:i.tabbable?"0":"-1"},onfocus:i.onfocus,...l},this.renderIcon(i),this.renderLabel(i))}renderIcon(i){let o=this.createIconClass(i);return h$2.div({className:o},i.title.icon,i.title.iconLabel)}renderLabel(i){let o=this.formatLabel(i);return h$2.div({className:"lm-MenuBar-itemLabel"},o)}createItemClass(i){let o="lm-MenuBar-item";return i.title.className&&(o+=` ${i.title.className}`),i.active&&!i.disabled&&(o+=" lm-mod-active"),o}createItemDataset(i){return i.title.dataset}createItemARIA(i){return{role:"menuitem","aria-haspopup":"true","aria-disabled":i.disabled?"true":"false"}}createIconClass(i){let o="lm-MenuBar-itemIcon",u=i.title.iconClass;return u?`${o} ${u}`:o}formatLabel(i){let{label:o,mnemonic:u}=i.title;if(u<0||u>=o.length)return o;let l=o.slice(0,u),c=o.slice(u+1),f=o[u],d=h$2.span({className:"lm-MenuBar-itemMnemonic"},f);return[l,d,c]}}t.Renderer=e,t.defaultRenderer=new e})(MenuBar$3||(MenuBar$3={}));var Private$3$3;(function(t){function e(){let i=document.createElement("div"),o=document.createElement("ul");return o.className="lm-MenuBar-content",i.appendChild(o),o.setAttribute("role","menubar"),i}t.createNode=e;function n(i,o,u){let l=-1,c=-1,f=!1,d=o.toUpperCase();for(let m=0,g=i.length;m<g;++m){let v=(m+u)%g,y=i[v].title;if(y.label.length===0)continue;let w=y.mnemonic;if(w>=0&&w<y.label.length){y.label[w].toUpperCase()===d&&(l===-1?l=v:f=!0);continue}c===-1&&y.label[0].toUpperCase()===d&&(c=v)}return{index:l,multiple:f,auto:c}}t.findMnemonic=n})(Private$3$3||(Private$3$3={}));var Private$2$3;(function(t){function e(){let i=document.createElement("div"),o=document.createElement("div"),u=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div");return o.className="lm-ScrollBar-button",u.className="lm-ScrollBar-button",o.dataset.action="decrement",u.dataset.action="increment",l.className="lm-ScrollBar-track",c.className="lm-ScrollBar-thumb",l.appendChild(c),i.appendChild(o),i.appendChild(l),i.appendChild(u),i}t.createNode=e;function n(i,o){return i.thumbNode.contains(o)?"thumb":i.trackNode.contains(o)?"track":i.decrementNode.contains(o)?"decrement":i.incrementNode.contains(o)?"increment":null}t.findPart=n})(Private$2$3||(Private$2$3={}));let StackedLayout$3=class extends PanelLayout$3{constructor(e={}){super(e),this._dirty=!1,this._items=[],this._box=null,this._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:Widget$3.HiddenMode.Display}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this._hiddenMode=e,this.widgets.length>1&&this.widgets.forEach(n=>{n.hiddenMode=this._hiddenMode}))}dispose(){for(const e of this._items)e.dispose();this._box=null,this._items.length=0,super.dispose()}attachWidget(e,n){this._hiddenMode===Widget$3.HiddenMode.Scale&&this._items.length>0?(this._items.length===1&&(this.widgets[0].hiddenMode=Widget$3.HiddenMode.Scale),n.hiddenMode=Widget$3.HiddenMode.Scale):n.hiddenMode=Widget$3.HiddenMode.Display,ArrayExt$4.insert(this._items,e,new LayoutItem$3(n)),this.parent.isAttached&&MessageLoop$3.sendMessage(n,Widget$3.Msg.BeforeAttach),this.parent.node.appendChild(n.node),this.parent.isAttached&&MessageLoop$3.sendMessage(n,Widget$3.Msg.AfterAttach),this.parent.fit()}moveWidget(e,n,i){ArrayExt$4.move(this._items,e,n),this.parent.update()}detachWidget(e,n){let i=ArrayExt$4.removeAt(this._items,e);this.parent.isAttached&&MessageLoop$3.sendMessage(n,Widget$3.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.isAttached&&MessageLoop$3.sendMessage(n,Widget$3.Msg.AfterDetach),i.widget.node.style.zIndex="",this._hiddenMode===Widget$3.HiddenMode.Scale&&(n.hiddenMode=Widget$3.HiddenMode.Display,this._items.length===1&&(this._items[0].widget.hiddenMode=Widget$3.HiddenMode.Display)),i.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0,n=0;for(let u=0,l=this._items.length;u<l;++u){let c=this._items[u];c.isHidden||(c.fit(),e=Math.max(e,c.minWidth),n=Math.max(n,c.minHeight))}let i=this._box=ElementExt$1.boxSizing(this.parent.node);e+=i.horizontalSum,n+=i.verticalSum;let o=this.parent.node.style;o.minWidth=`${e}px`,o.minHeight=`${n}px`,this._dirty=!0,this.parent.parent&&MessageLoop$3.sendMessage(this.parent.parent,Widget$3.Msg.FitRequest),this._dirty&&MessageLoop$3.sendMessage(this.parent,Widget$3.Msg.UpdateRequest)}_update(e,n){this._dirty=!1;let i=0;for(let f=0,d=this._items.length;f<d;++f)i+=+!this._items[f].isHidden;if(i===0)return;e<0&&(e=this.parent.node.offsetWidth),n<0&&(n=this.parent.node.offsetHeight),this._box||(this._box=ElementExt$1.boxSizing(this.parent.node));let o=this._box.paddingTop,u=this._box.paddingLeft,l=e-this._box.horizontalSum,c=n-this._box.verticalSum;for(let f=0,d=this._items.length;f<d;++f){let m=this._items[f];m.isHidden||(m.widget.node.style.zIndex=`${f}`,m.update(u,o,l,c))}}};var Private$1$4;(function(t){function e(n){return n.layout||new StackedLayout$3}t.createLayout=e})(Private$1$4||(Private$1$4={}));var Private$M;(function(t){function e(u){return i[u]}t.orientationFromPlacement=e;function n(u){return o[u]}t.directionFromPlacement=n;const i={top:"horizontal",left:"vertical",right:"vertical",bottom:"horizontal"},o={top:"top-to-bottom",left:"left-to-right",right:"right-to-left",bottom:"bottom-to-top"}})(Private$M||(Private$M={}));var lodash_escape,hasRequiredLodash_escape;function requireLodash_escape(){if(hasRequiredLodash_escape)return lodash_escape;hasRequiredLodash_escape=1;var t="[object Symbol]",e=/[&<>"'`]/g,n=RegExp(e.source),i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},o=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,u=typeof self=="object"&&self&&self.Object===Object&&self,l=o||u||Function("return this")();function c(k){return function(j){return k?.[j]}}var f=c(i),d=Object.prototype,m=d.toString,g=l.Symbol,v=g?g.prototype:void 0,y=v?v.toString:void 0;function w(k){if(typeof k=="string")return k;if(P(k))return y?y.call(k):"";var j=k+"";return j=="0"&&1/k==-1/0?"-0":j}function T(k){return!!k&&typeof k=="object"}function P(k){return typeof k=="symbol"||T(k)&&m.call(k)==t}function A(k){return k==null?"":w(k)}function D(k){return k=A(k),k&&n.test(k)?k.replace(e,f):k}return lodash_escape=D,lodash_escape}var lodash_escapeExports=requireLodash_escape();const escape$1=getDefaultExportFromCjs(lodash_escapeExports),inline$1="$",MATHSPLIT$1=/(\$\$?|\\(?:begin|end)\{[a-z]*\*?\}|\\[{}$]|[{}]|(?:\n\s*)+|@@\d+@@|\\\\(?:\(|\)|\[|\]))/i;function removeMath$1(t){const e=[];let n=null,i=null,o=null,u=0,l;t.includes("`")||t.includes("~~~")?(t=t.replace(/~/g,"~T").replace(/^(?<fence>`{3,}|(~T){3,})[^`\n]*\n([\s\S]*?)^\k<fence>`*$/gm,d=>d.replace(/\$/g,"~D")).replace(/(^|[^\\])(`+)([^\n]*?[^`\n])\2(?!`)/gm,d=>d.replace(/\$/g,"~D")),l=d=>d.replace(/~([TD])/g,(m,g)=>g==="T"?"~":inline$1)):l=d=>d;let f=t.replace(/\r\n?/g,`
`).split(MATHSPLIT$1);for(let d=1,m=f.length;d<m;d+=2){const g=f[d];g.charAt(0)==="@"?(f[d]="@@"+e.length+"@@",e.push(g)):n!==null?g===i?u?o=d:(f=processMath$1(n,d,l,e,f),n=null,i=null,o=null):g.match(/\n.*\n/)?(o!==null&&(d=o,f=processMath$1(n,d,l,e,f)),n=null,i=null,o=null,u=0):g==="{"?u++:g==="}"&&u&&u--:g===inline$1||g==="$$"?(n=d,i=g,u=0):g==="\\\\("||g==="\\\\["?(n=d,i=g.slice(-1)==="("?"\\\\)":"\\\\]",u=0):g.substr(1,5)==="begin"&&(n=d,i="\\end"+g.substr(6),u=0)}return n!==null&&o!==null&&(f=processMath$1(n,o,l,e,f),n=null,i=null,o=null),{text:l(f.join("")),math:e}}function replaceMath$1(t,e){const n=(i,o)=>{let u=e[o];return u.substr(0,3)==="\\\\("&&u.substr(u.length-3)==="\\\\)"?u="\\("+u.substring(3,u.length-3)+"\\)":u.substr(0,3)==="\\\\["&&u.substr(u.length-3)==="\\\\]"&&(u="\\["+u.substring(3,u.length-3)+"\\]"),u};return t.replace(/@@(\d+)@@/g,n)}function processMath$1(t,e,n,i,o){let u=o.slice(t,e+1).join("").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");for(navigator&&navigator.appName==="Microsoft Internet Explorer"&&(u=u.replace(/(%[^\n]*)\n/g,`$1<br/>
`));e>t;)o[e]="",e--;return o[t]="@@"+i.length+"@@",n&&(u=n(u)),i.push(u),o}async function renderHTML(t){let{host:e,source:n,trusted:i,sanitizer:o,resolver:u,linkHandler:l,shouldTypeset:c,latexTypesetter:f,translator:d}=t;d=d||nullTranslator;const m=d?.load("jupyterlab");let g=n;if(!n){e.textContent="";return}if(i||(g=`${n}`,n=o.sanitize(n)),e.innerHTML=n,e.getElementsByTagName("script").length>0)if(i)Private$L.evalInnerHTMLScriptTags(e);else{const v=document.createElement("div"),y=document.createElement("pre");y.textContent=m.__("This HTML output contains inline scripts. Are you sure that you want to run arbitrary Javascript within your JupyterLab session?");const w=document.createElement("button");w.textContent=m.__("Run"),w.onclick=T=>{e.innerHTML=g,Private$L.evalInnerHTMLScriptTags(e),e.firstChild&&e.removeChild(e.firstChild)},v.appendChild(y),v.appendChild(w),e.insertBefore(v,e.firstChild)}if(Private$L.handleDefaults(e),c&&f){const v=f.typeset(e);v instanceof Promise?v.then(()=>hardenAnchorLinks(e,u)).catch(console.warn):hardenAnchorLinks(e,u)}else hardenAnchorLinks(e,u);u&&await Private$L.handleUrls(e,u,l)}async function renderImage(t){const{host:e,mimeType:n,source:i,width:o,height:u,needsBackground:l,unconfined:c}=t;e.textContent="";const f=document.createElement("img");f.src=`data:${n};base64,${i}`,typeof u=="number"&&(f.height=u),typeof o=="number"&&(f.width=o),l==="light"?f.classList.add("jp-needs-light-background"):l==="dark"&&f.classList.add("jp-needs-dark-background"),c===!0&&f.classList.add("jp-mod-unconfined"),e.appendChild(f)}async function renderLatex(t){const{host:e,source:n,shouldTypeset:i,latexTypesetter:o,resolver:u}=t;if(e.textContent=n,i&&o){const l=o.typeset(e);l instanceof Promise?l.then(()=>hardenAnchorLinks(e,u)).catch(console.warn):hardenAnchorLinks(e,u)}}async function renderMarkdown(t){var e;const{host:n,source:i,markdownParser:o,...u}=t;if(!i){n.textContent="";return}let l="";if(o){const c=removeMath$1(i);l=await o.render(c.text),l=replaceMath$1(l,c.math)}else l=`<pre>${i}</pre>`;await renderHTML({host:n,source:l,...u}),Private$L.headerAnchors(n,(e=t.sanitizer.allowNamedProperties)!==null&&e!==void 0?e:!1)}(function(t){function e(n){var i;return((i=n.textContent)!==null&&i!==void 0?i:"").replace(/ /g,"-")}t.createHeaderId=e})(renderMarkdown||(renderMarkdown={}));async function renderSVG(t){let{host:e,source:n,trusted:i,unconfined:o}=t;if(!n){e.textContent="";return}if(!i){e.textContent="Cannot display an untrusted SVG. Maybe you need to run the cell?";return}n.search("<svg[^>]+xmlns=[^>]+svg")<0&&(n=n.replace("<svg",'<svg xmlns="http://www.w3.org/2000/svg"'));const l=new Image;l.src=`data:image/svg+xml,${encodeURIComponent(n)}`,e.appendChild(l),o===!0&&e.classList.add("jp-mod-unconfined")}var ILinker;(function(t){const n="\\u0000-\\u0020\\u007f-\\u009f";t.webLinkRegex=new RegExp("(?<path>(?:[a-zA-Z][a-zA-Z0-9+.-]{2,40}:\\/\\/|data:|www\\.)[^\\s"+n+'"]{2,}[^\\s'+n+`"'(){}\\[\\],:;.!?])`,"ug");const i=/(?:[a-zA-Z]:(?:(?:\\|\/)[\w\.-]*)+)/,o=/(?:(?:\~|\.)(?:(?:\\|\/)[\w\.-]*)+)/,u=new RegExp(`(${i.source}|${o.source})`),l=/((?:\~|\.)?(?:\/[\w\.-]*)+)/,c=/(?:(?:\:|", line )(?<line>[\d]+))?(?:\:(?<column>[\d]+))?/,f=navigator.userAgent.indexOf("Windows")>=0;t.pathLinkRegex=new RegExp(`(?<path>${f?u.source:l.source})${c.source}`,"g")})(ILinker||(ILinker={}));class WebLinker{constructor(){this.regex=ILinker.webLinkRegex}createAnchor(e,n){const i=document.createElement("a");return i.href=e.startsWith("www.")?"https://"+e:e,i.rel="noopener",i.target="_blank",i.appendChild(document.createTextNode(n)),i}processPath(e){const n=e.slice(-1),o=[">","<"].indexOf(n)!==-1?e.length-1:e.length;return e=e.slice(0,o),e}processLabel(e){return this.processPath(e)}}class PathLinker{constructor(){this.regex=ILinker.pathLinkRegex}createAnchor(e,n,i){const o=document.createElement("a");o.dataset.path=e;const u=parseInt(i.line,10);let l=isNaN(u)?"":`line=${u-1}`;return o.dataset.locator=l,o.appendChild(document.createTextNode(n)),o}}function autolink(t,e){const n=[];e.checkWeb&&n.push(new WebLinker),e.checkPaths&&n.push(new PathLinker);const i=[],o=(u,l)=>{if(l>=n.length){i.push(document.createTextNode(u));return}const c=n[l];let f,d=0;const m=c.regex;for(m.lastIndex=0;(f=m.exec(u))!=null;){const v=u.substring(d,f.index);v&&o(v,l+1);const{path:y,...w}=f.groups,T=c.processPath?c.processPath(y):y,P=c.processLabel?c.processLabel(f[0]):f[0];i.push(c.createAnchor(T,P,w)),d=f.index+P.length}const g=u.substring(d);g&&o(g,l+1)};return o(t,0),i}function splitShallowNode(t,e){var n,i;const o=t.cloneNode();o.textContent=(n=t.textContent)===null||n===void 0?void 0:n.slice(0,e);const u=t.cloneNode();return u.textContent=(i=t.textContent)===null||i===void 0?void 0:i.slice(e),{pre:o,post:u}}function*nodeIter(t){var e;let n=0,i;for(let o of t)i=n+(((e=o.textContent)===null||e===void 0?void 0:e.length)||0),yield{node:o,start:n,end:i,isText:o.nodeType===Node.TEXT_NODE},n=i}function*alignedNodes(t,e){var n,i;let o=nodeIter(t),u=nodeIter(e),l=o.next(),c=u.next();for(;!l.done&&!c.done;){let f=l.value,d=c.value;if(f.isText&&f.start<=d.start&&f.end>=d.end)yield[null,d.node],c=u.next();else if(d.isText&&d.start<=f.start&&d.end>=f.end)yield[f.node,null],l=o.next();else if(f.end===d.end&&f.start===d.start)yield[f.node,d.node],l=o.next(),c=u.next();else if(f.end>d.end){let{pre:m,post:g}=splitShallowNode(f.node,d.end-f.start);d.start<f.start&&(d.node.textContent=(n=d.node.textContent)===null||n===void 0?void 0:n.slice(f.start-d.start)),yield[m,d.node],f.node=g,f.start=d.end,c=u.next()}else if(d.end>f.end){let{pre:m,post:g}=splitShallowNode(d.node,f.end-d.start);f.start<d.start&&(f.node.textContent=(i=f.node.textContent)===null||i===void 0?void 0:i.slice(d.start-f.start)),yield[f.node,m],d.node=g,d.start=f.end,l=o.next()}else throw new Error(`Unexpected intersection: ${JSON.stringify(f)} ${JSON.stringify(d)}`)}}async function renderText(t){renderTextual(t,{checkWeb:!0,checkPaths:!1})}function nativeSanitize(t){const e=document.createElement("span");return e.textContent=t,e.innerHTML}const ansiPrefix="\x1B";function renderTextual(t,e){var n,i;const{host:o,sanitizer:u,source:l}=t,f=l.includes(ansiPrefix)?u.sanitize(Private$L.ansiSpan(l),{allowedTags:["span"]}):nativeSanitize(l),d=document.createElement("pre");d.innerHTML=f;const m=d.textContent,g=[];e.checkWeb&&g.push("web"),e.checkPaths&&g.push("paths");const v=g.join("-");let y=Private$L.autoLinkCache.get(v);y||(y=new WeakMap,Private$L.autoLinkCache.set(v,y));let w;if(m){let T;if(!((i=(n=u.getAutolink)===null||n===void 0?void 0:n.call(u))!==null&&i!==void 0)||i){const A=getApplicableLinkCache(y.get(o),m);if(A){const{cachedNodes:D,addedText:k}=A,j=autolink(k,e),B=D[D.length-1],Z=j[0];if(B instanceof Text&&Z instanceof Text){const R=B;R.data+=Z.data,T=[...D.slice(0,-1),R,...j.slice(1)]}else T=[...D,...j]}else T=autolink(m,e);y.set(o,{preTextContent:m,linkedNodes:T.map(D=>D.cloneNode(!0))})}else T=[document.createTextNode(f)];const P=Array.from(d.childNodes);w=mergeNodes(P,T)}else w=document.createElement("pre");o.appendChild(w)}function getApplicableLinkCache(t,e){if(!t||e.length<t.preTextContent.length)return null;let n=e.substring(t.preTextContent.length),i=t.linkedNodes;const o=t.linkedNodes[t.linkedNodes.length-1];if(!(t.preTextContent.endsWith(`
`)||n.startsWith(`
`)))if(o instanceof Text)i=i.slice(0,-1),n=o.textContent+n;else return null;return e.startsWith(t.preTextContent)?{cachedNodes:i,addedText:n}:null}async function renderError(t){const{host:e,linkHandler:n,resolver:i}=t;renderTextual(t,{checkWeb:!0,checkPaths:!0}),i&&await Private$L.handlePaths(e,i,n)}function mergeNodes(t,e){const n=document.createElement("pre");let i=!1;const o=[];for(let u of alignedNodes(t,e)){if(u[0]){if(!u[1]){o.push(u[0]),i=!1;continue}}else{o.push(u[1]),i=u[1].nodeType!==Node.TEXT_NODE;continue}let[l,c]=u;const f=o[o.length-1];i&&c.href===f.href?f.appendChild(l):c.nodeType!==Node.TEXT_NODE?(c.textContent="",c.appendChild(l),o.push(c),i=!0):(o.push(l),i=!1)}for(const u of o)n.appendChild(u);return n}function hardenAnchorLinks(t,e){const n=t.getElementsByTagName("a");for(let i=0;i<n.length;i++){const o=n[i];if(!(o instanceof HTMLAnchorElement))continue;const u=o.href,l=e&&e.isLocal?e.isLocal(u):libExports$5.URLExt.isLocal(u);o.target||(o.target=l?"_self":"_blank"),l||(o.rel="noopener")}}var Private$L;(function(t){t.autoLinkCache=new Map;function e(y){const w=Array.from(y.getElementsByTagName("script"));for(const T of w){if(!T.parentNode)continue;const P=document.createElement("script"),A=T.attributes;for(let D=0,k=A.length;D<k;++D){const{name:j,value:B}=A[D];P.setAttribute(j,B)}P.textContent=T.textContent,T.parentNode.replaceChild(P,T)}}t.evalInnerHTMLScriptTags=e;function n(y){const w=y.getElementsByTagName("img");for(let T=0;T<w.length;T++)w[T].alt||(w[T].alt="Image")}t.handleDefaults=n;async function i(y,w,T){const P=[],A=y.querySelectorAll("*[src]");for(let j=0;j<A.length;j++)P.push(l(A[j],"src",w));const D=y.getElementsByTagName("a");for(let j=0;j<D.length;j++)P.push(c(D[j],w,T));const k=y.getElementsByTagName("link");for(let j=0;j<k.length;j++)P.push(l(k[j],"href",w));return Promise.all(P)}t.handleUrls=i;async function o(y,w,T){const P=Array.from(y.querySelectorAll("a[data-path]"));return Promise.all(P.map(A=>f(A,w,T)))}t.handlePaths=o;function u(y,w){const T=["h1","h2","h3","h4","h5","h6"];for(const P of T){const A=y.getElementsByTagName(P);for(let D=0;D<A.length;D++){const k=A[D],j=renderMarkdown.createHeaderId(k);w?k.id=j:k.setAttribute("data-jupyter-id",j);const B=document.createElement("a");B.target="_self",B.textContent="",B.href="#"+j,B.classList.add("jp-InternalAnchorLink"),k.appendChild(B)}}}t.headerAnchors=u;async function l(y,w,T){const P=y.getAttribute(w)||"",A=T.isLocal?T.isLocal(P):libExports$5.URLExt.isLocal(P);if(!(!P||!A))try{const D=await T.resolveUrl(P,{attribute:w,tag:y.localName});let k=await T.getDownloadUrl(D);libExports$5.URLExt.parse(k).protocol!=="data:"&&(k+=(/\?/.test(k)?"&":"?")+new Date().getTime()),y.setAttribute(w,k)}catch(D){throw y.setAttribute(w,""),D}}async function c(y,w,T){let P=y.getAttribute("href")||"";const A=w.isLocal?w.isLocal(P):libExports$5.URLExt.isLocal(P);if(!P||!A)return;const D=y.hash;if(D){if(D===P){y.target="_self";return}P=P.replace(D,"")}return w.resolveUrl(P,{attribute:"href",tag:"a"}).then(k=>{const j=decodeURIComponent(k);return T&&T.handleLink(y,j,D),w.getDownloadUrl(k)}).then(k=>{y.href=k+D}).catch(k=>{y.href=""})}async function f(y,w,T){let P=y.dataset.path||"",A=y.dataset.locator?"#"+y.dataset.locator:"";delete y.dataset.path,delete y.dataset.locator;const D=!0,k=w.isLocal?w.isLocal(P,D):libExports$5.URLExt.isLocal(P,D);if(!P||!k||!w.resolvePath||!T||!T.handlePath){y.replaceWith(...y.childNodes);return}try{const j=await w.resolvePath(P);if(!j){console.log("Path resolution bailing: does not exist");return}T.handlePath(y,j.path,j.scope,A),y.href=j.path+A}catch(j){console.warn("Path anchor error:",j),y.href="#linking-failed-see-console"}}const d=["ansi-black","ansi-red","ansi-green","ansi-yellow","ansi-blue","ansi-magenta","ansi-cyan","ansi-white","ansi-black-intense","ansi-red-intense","ansi-green-intense","ansi-yellow-intense","ansi-blue-intense","ansi-magenta-intense","ansi-cyan-intense","ansi-white-intense"];function m(y,w,T,P,A,D,k){if(y){const j=[],B=[];P&&typeof w=="number"&&0<=w&&w<8&&(w+=8),D&&([w,T]=[T,w]),typeof w=="number"?j.push(d[w]+"-fg"):w.length?B.push(`color: rgb(${w})`):D&&j.push("ansi-default-inverse-fg"),typeof T=="number"?j.push(d[T]+"-bg"):T.length?B.push(`background-color: rgb(${T})`):D&&j.push("ansi-default-inverse-bg"),P&&j.push("ansi-bold"),A&&j.push("ansi-underline"),j.length||B.length?(k.push("<span"),j.length&&k.push(` class="${j.join(" ")}"`),B.length&&k.push(` style="${B.join("; ")}"`),k.push(">"),k.push(y),k.push("</span>")):k.push(y)}}function g(y){let w,T,P;const A=y.shift();if(A===2&&y.length>=3){if(w=y.shift(),T=y.shift(),P=y.shift(),[w,T,P].some(D=>D<0||255<D))throw new RangeError("Invalid range for RGB colors")}else if(A===5&&y.length>=1){const D=y.shift();if(D<0)throw new RangeError("Color index must be >= 0");if(D<16)return D;if(D<232)w=Math.floor((D-16)/36),w=w>0?55+w*40:0,T=Math.floor((D-16)%36/6),T=T>0?55+T*40:0,P=(D-16)%6,P=P>0?55+P*40:0;else if(D<256)w=T=P=(D-232)*10+8;else throw new RangeError("Color index must be < 256")}else throw new RangeError("Invalid extended color specification");return[w,T,P]}function v(y){const w=/\x1b\[(.*?)([@-~])/g;let T=[],P=[],A=!1,D=!1,k=!1,j;const B=[],Z=[];let R=0;for(y=escape$1(y),y+="\x1B[m";j=w.exec(y);){if(j[2]==="m"){const F=j[1].split(";");for(let K=0;K<F.length;K++){const Q=F[K];if(Q==="")Z.push(0);else if(Q.search(/^\d+$/)!==-1)Z.push(parseInt(Q,10));else{Z.length=0;break}}}const G=y.substring(R,j.index);for(m(G,T,P,A,D,k,B),R=w.lastIndex;Z.length;){const F=Z.shift();switch(F){case 0:T=P=[],A=!1,D=!1,k=!1;break;case 1:case 5:A=!0;break;case 4:D=!0;break;case 7:k=!0;break;case 21:case 22:A=!1;break;case 24:D=!1;break;case 27:k=!1;break;case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:T=F-30;break;case 38:try{T=g(Z)}catch{Z.length=0}break;case 39:T=[];break;case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:P=F-40;break;case 48:try{P=g(Z)}catch{Z.length=0}break;case 49:P=[];break;case 90:case 91:case 92:case 93:case 94:case 95:case 96:case 97:T=F-90+8;break;case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:P=F-100+8;break}}}return B.join("")}t.ansiSpan=v})(Private$L||(Private$L={}));class RenderedCommon extends Widget$3{constructor(e){var n,i;super(),this.mimeType=e.mimeType,this.sanitizer=e.sanitizer,this.resolver=e.resolver,this.linkHandler=e.linkHandler,this.translator=(n=e.translator)!==null&&n!==void 0?n:nullTranslator,this.latexTypesetter=e.latexTypesetter,this.markdownParser=(i=e.markdownParser)!==null&&i!==void 0?i:null,this.node.dataset.mimeType=this.mimeType}async renderModel(e,n){if(!n)for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.toggleClass("jp-mod-trusted",e.trusted),await this.render(e);const{fragment:i}=e.metadata;i&&this.setFragment(i)}setFragment(e){}}class RenderedHTMLCommon extends RenderedCommon{constructor(e){super(e),this.addClass("jp-RenderedHTMLCommon")}setFragment(e){let n;try{n=this.node.querySelector(e.startsWith("#")?`#${CSS.escape(e.slice(1))}`:e)}catch(i){console.warn("Unable to set URI fragment identifier.",i)}n&&n.scrollIntoView()}}class RenderedHTML extends RenderedHTMLCommon{constructor(e){super(e),this._rendered=Promise.resolve(),this.addClass("jp-RenderedHTML")}render(e){return this._rendered=renderHTML({host:this.node,source:String(e.data[this.mimeType]),trusted:e.trusted,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter,translator:this.translator})}onAfterAttach(e){this._rendered.then(()=>{this.latexTypesetter&&Private$K.typeset(this.node,this.latexTypesetter,this.resolver)}).catch(console.warn)}}class RenderedLatex extends RenderedCommon{constructor(e){super(e),this._rendered=Promise.resolve(),this.addClass("jp-RenderedLatex")}render(e){return this._rendered=renderLatex({host:this.node,source:String(e.data[this.mimeType]),shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter,resolver:this.resolver})}onAfterAttach(e){this._rendered.then(()=>{this.latexTypesetter&&Private$K.typeset(this.node,this.latexTypesetter,this.resolver)}).catch(console.warn)}}class RenderedImage extends RenderedCommon{constructor(e){super(e),this.addClass("jp-RenderedImage")}render(e){const n=e.metadata[this.mimeType];return renderImage({host:this.node,mimeType:this.mimeType,source:String(e.data[this.mimeType]),width:n&&n.width,height:n&&n.height,needsBackground:e.metadata.needs_background,unconfined:n&&n.unconfined})}}class RenderedMarkdown extends RenderedHTMLCommon{constructor(e){super(e),this._rendered=Promise.resolve(),this.addClass("jp-RenderedMarkdown")}render(e){return this._rendered=renderMarkdown({host:this.node,source:String(e.data[this.mimeType]),trusted:e.trusted,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter,markdownParser:this.markdownParser,translator:this.translator})}async renderModel(e){await super.renderModel(e,!0)}onAfterAttach(e){this._rendered.then(()=>{this.latexTypesetter&&Private$K.typeset(this.node,this.latexTypesetter,this.resolver)}).catch(console.warn)}}class RenderedSVG extends RenderedCommon{constructor(e){super(e),this._rendered=Promise.resolve(),this.addClass("jp-RenderedSVG")}render(e){const n=e.metadata[this.mimeType];return this._rendered=renderSVG({host:this.node,source:String(e.data[this.mimeType]),trusted:e.trusted,unconfined:n&&n.unconfined,translator:this.translator})}onAfterAttach(e){this._rendered.then(()=>{this.latexTypesetter&&Private$K.typeset(this.node,this.latexTypesetter,this.resolver)}).catch(console.warn)}}class RenderedText extends RenderedCommon{constructor(e){super(e),this.addClass("jp-RenderedText")}render(e){return renderText({host:this.node,sanitizer:this.sanitizer,source:String(e.data[this.mimeType]),translator:this.translator})}}class RenderedError extends RenderedCommon{constructor(e){super(e),this.addClass("jp-RenderedText")}render(e){return renderError({host:this.node,sanitizer:this.sanitizer,source:String(e.data[this.mimeType]),linkHandler:this.linkHandler,resolver:this.resolver,translator:this.translator})}}class RenderedJavaScript extends RenderedCommon{constructor(e){super(e),this.addClass("jp-RenderedJavaScript")}render(e){const n=this.translator.load("jupyterlab");return renderText({host:this.node,sanitizer:this.sanitizer,source:n.__("JavaScript output is disabled in JupyterLab"),translator:this.translator})}}var Private$K;(function(t){function e(n,i,o){const u=i.typeset(n);u instanceof Promise?u.then(()=>hardenAnchorLinks(n,o)).catch(console.warn):hardenAnchorLinks(n,o)}t.typeset=e})(Private$K||(Private$K={}));const htmlRendererFactory={safe:!0,mimeTypes:["text/html"],defaultRank:50,createRenderer:t=>new RenderedHTML(t)},imageRendererFactory={safe:!0,mimeTypes:["image/bmp","image/png","image/jpeg","image/gif","image/webp"],defaultRank:90,createRenderer:t=>new RenderedImage(t)},latexRendererFactory={safe:!0,mimeTypes:["text/latex"],defaultRank:70,createRenderer:t=>new RenderedLatex(t)},markdownRendererFactory={safe:!0,mimeTypes:["text/markdown"],defaultRank:60,createRenderer:t=>new RenderedMarkdown(t)},svgRendererFactory={safe:!1,mimeTypes:["image/svg+xml"],defaultRank:80,createRenderer:t=>new RenderedSVG(t)},errorRendererFactory={safe:!0,mimeTypes:["application/vnd.jupyter.stderr"],defaultRank:110,createRenderer:t=>new RenderedError(t)},textRendererFactory={safe:!0,mimeTypes:["text/plain","application/vnd.jupyter.stdout"],defaultRank:120,createRenderer:t=>new RenderedText(t)};class MimeModel{constructor(e={}){this.trusted=!!e.trusted,this._data=e.data||{},this._metadata=e.metadata||{},this._callback=e.callback||Private$J.noOp}get data(){return this._data}get metadata(){return this._metadata}setData(e){this._data=e.data||this._data,this._metadata=e.metadata||this._metadata,this._callback(e)}}var Private$J;(function(t){function e(){}t.noOp=e})(Private$J||(Private$J={}));function isExecuteResult(t){return t.output_type==="execute_result"}function isDisplayData(t){return t.output_type==="display_data"}function isDisplayUpdate(t){return t.output_type==="update_display_data"}function isStream(t){return t.output_type==="stream"}function isError$1(t){return t.output_type==="error"}let OutputModel$2=class{constructor(e){this._changed=new Signal$2(this),this._raw={},this._text=void 0;const{data:n,metadata:i,trusted:o}=Private$I.getBundleOptions(e);this._rawData=n,e.value!==void 0&&isStream(e.value)&&(this._text=new ObservableString(typeof e.value.text=="string"?e.value.text:e.value.text.join(""))),this._metadata=new ObservableJSON({values:i}),this._rawMetadata=i,this.trusted=o;const u=e.value;for(const l in u)switch(l){case"data":case"metadata":break;default:this._raw[l]=Private$I.extract(u,l)}this.type=u.output_type,isExecuteResult(u)?this.executionCount=u.execution_count:this.executionCount=null}get changed(){return this._changed}dispose(){var e;(e=this._text)===null||e===void 0||e.dispose(),this._metadata.dispose(),Signal$2.clearData(this)}get data(){return Private$I.getData(this.toJSON())}get streamText(){return this._text}get metadata(){return this._rawMetadata}setData(e){e.data&&(this._rawData=e.data),e.metadata&&(this._updateObservable(this._metadata,e.metadata),this._rawMetadata=e.metadata),this._changed.emit()}toJSON(){const e={};for(const n in this._raw)e[n]=Private$I.extract(this._raw,n);switch(this._text!==void 0&&(e.text=this._text.text),this.type){case"display_data":case"execute_result":case"update_display_data":e.data=this._rawData,e.metadata=this.metadata;break}return delete e.transient,e}_updateObservable(e,n){const i=e.keys(),o=Object.keys(n);for(const u of i)o.indexOf(u)===-1&&e.delete(u);for(const u of o){const l=e.get(u),c=n[u];l!==c&&e.set(u,c)}}};(function(t){function e(i){return Private$I.getData(i)}t.getData=e;function n(i){return Private$I.getMetadata(i)}t.getMetadata=n})(OutputModel$2||(OutputModel$2={}));var Private$I;(function(t){function e(l){let c={};if(isExecuteResult(l)||isDisplayData(l)||isDisplayUpdate(l))c=l.data;else if(isStream(l))l.name==="stderr"?c["application/vnd.jupyter.stderr"]=l.text:c["application/vnd.jupyter.stdout"]=l.text;else if(isError$1(l)){c["application/vnd.jupyter.error"]=l;const f=l.traceback.join(`
`);c["application/vnd.jupyter.stderr"]=f||`${l.ename}: ${l.evalue}`}return u(c)}t.getData=e;function n(l){const c=Object.create(null);if(isExecuteResult(l)||isDisplayData(l))for(const f in l.metadata)c[f]=o(l.metadata,f);return c}t.getMetadata=n;function i(l){const c=e(l.value),f=n(l.value),d=!!l.trusted;return{data:c,metadata:f,trusted:d}}t.getBundleOptions=i;function o(l,c){const f=l[c];return f===void 0||JSONExt$2.isPrimitive(f)?f:JSON.parse(JSON.stringify(f))}t.extract=o;function u(l){const c=Object.create(null);for(const f in l)c[f]=o(l,f);return c}})(Private$I||(Private$I={}));class RenderMimeRegistry{constructor(e={}){var n,i,o,u,l,c;if(this._id=0,this._ranks={},this._types=null,this._factories={},this.translator=(n=e.translator)!==null&&n!==void 0?n:nullTranslator,this.resolver=(i=e.resolver)!==null&&i!==void 0?i:null,this.linkHandler=(o=e.linkHandler)!==null&&o!==void 0?o:null,this.latexTypesetter=(u=e.latexTypesetter)!==null&&u!==void 0?u:null,this.markdownParser=(l=e.markdownParser)!==null&&l!==void 0?l:null,this.sanitizer=(c=e.sanitizer)!==null&&c!==void 0?c:new Sanitizer,e.initialFactories)for(const f of e.initialFactories)this.addFactory(f)}get mimeTypes(){return this._types||(this._types=Private$H.sortedTypes(this._ranks))}preferredMimeType(e,n="ensure"){if(n==="ensure"||n==="prefer"){for(const i of this.mimeTypes)if(i in e&&this._factories[i].safe)return i}if(n!=="ensure"){for(const i of this.mimeTypes)if(i in e)return i}}createRenderer(e){if(!(e in this._factories))throw new Error(`No factory for mime type: '${e}'`);return this._factories[e].createRenderer({mimeType:e,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,latexTypesetter:this.latexTypesetter,markdownParser:this.markdownParser,translator:this.translator})}createModel(e={}){return new MimeModel(e)}clone(e={}){var n,i,o,u,l,c,f,d,m,g;const v=new RenderMimeRegistry({resolver:(i=(n=e.resolver)!==null&&n!==void 0?n:this.resolver)!==null&&i!==void 0?i:void 0,sanitizer:(u=(o=e.sanitizer)!==null&&o!==void 0?o:this.sanitizer)!==null&&u!==void 0?u:void 0,linkHandler:(c=(l=e.linkHandler)!==null&&l!==void 0?l:this.linkHandler)!==null&&c!==void 0?c:void 0,latexTypesetter:(d=(f=e.latexTypesetter)!==null&&f!==void 0?f:this.latexTypesetter)!==null&&d!==void 0?d:void 0,markdownParser:(g=(m=e.markdownParser)!==null&&m!==void 0?m:this.markdownParser)!==null&&g!==void 0?g:void 0,translator:this.translator});return v._factories={...this._factories},v._ranks={...this._ranks},v._id=this._id,v}getFactory(e){return this._factories[e]}addFactory(e,n){n===void 0&&(n=e.defaultRank,n===void 0&&(n=100));for(const i of e.mimeTypes)this._factories[i]=e,this._ranks[i]={rank:n,id:this._id++};this._types=null}removeMimeType(e){delete this._factories[e],delete this._ranks[e],this._types=null}getRank(e){const n=this._ranks[e];return n&&n.rank}setRank(e,n){if(!this._ranks[e])return;const i=this._id++;this._ranks[e]={rank:n,id:i},this._types=null}}(function(t){class e{constructor(i){this._path=i.path,this._contents=i.contents}get path(){return this._path}set path(i){this._path=i}async resolveUrl(i){if(this.isLocal(i)){const o=encodeURI(libExports$5.PathExt.dirname(this.path));i=libExports$5.PathExt.resolve(o,i)}return i}async getDownloadUrl(i){return this.isLocal(i)?this._contents.getDownloadUrl(decodeURIComponent(i)):i}isLocal(i,o=!1){return this.isMalformed(i)?!1:libExports$5.URLExt.isLocal(i,o)||!!this._contents.driveName(decodeURI(i))}async resolvePath(i){const o=libExports$5.PageConfig.getOption("rootUri").replace("file://","");if(i.startsWith("~/")&&o.startsWith("/home/")&&(i=o.split("/").slice(0,3).join("/")+i.substring(1)),i.startsWith(o)||i.startsWith("./"))try{const u=i.replace(o,"");return{path:(await this._contents.get(u,{content:!1})).path,scope:"server"}}catch{return console.warn(`Could not resolve location of ${i} on server`),null}return{path:i,scope:"kernel"}}isMalformed(i){try{return decodeURI(i),!1}catch(o){if(o instanceof URIError)return!0;throw o}}}t.UrlResolver=e})(RenderMimeRegistry||(RenderMimeRegistry={}));var Private$H;(function(t){function e(n){return Object.keys(n).sort((i,o)=>{const u=n[i],l=n[o];return u.rank!==l.rank?u.rank-l.rank:u.id-l.id})}t.sortedTypes=e})(Private$H||(Private$H={}));class OutputAreaModel{constructor(e={}){if(this.clearNext=!1,this._lastStreamName="",this._trusted=!1,this._isDisposed=!1,this._stateChanged=new Signal$2(this),this._changed=new Signal$2(this),this._streamIndex=0,this._trusted=!!e.trusted,this.contentFactory=e.contentFactory||OutputAreaModel.defaultContentFactory,this.list=new ObservableList,e.values)for(const n of e.values){const i=this._add(n)-1;this.list.get(i).changed.connect(this._onGenericChange,this)}this.list.changed.connect(this._onListChanged,this)}get stateChanged(){return this._stateChanged}get changed(){return this._changed}get length(){return this.list?this.list.length:0}get trusted(){return this._trusted}set trusted(e){if(e===this._trusted)return;const n=this._trusted=e;for(let i=0;i<this.list.length;i++){const o=this.list.get(i),u=o.toJSON(),l=this._createItem({value:u,trusted:n});this.list.set(i,l),o.dispose()}}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,this.list.dispose(),Signal$2.clearData(this))}get(e){return this.list.get(e)}set(e,n){n=JSONExt$2.deepCopy(n),Private$G.normalize(n);const i=this._createItem({value:n,trusted:this._trusted});this.list.set(e,i)}removeStreamOutput(e){const i=this.list.get(this.length-1).streamText,o=i.text.length,u={silent:!0};i.remove(o-e,o,u)}appendStreamOutput(e){const i=this.list.get(this.length-1).streamText,o=i.text.length,u={silent:!0};i.insert(o,e,u)}add(e){return this.clearNext&&(this.clear(),this.clearNext=!1),this._add(e)}remove(e){var n;(n=this.list.remove(e))===null||n===void 0||n.dispose()}clear(e=!1){if(this._lastStreamName="",e){this.clearNext=!0;return}for(const n of this.list)n.dispose();this.list.clear()}fromJSON(e){this.clear();for(const n of e)this._add(n)}toJSON(){return Array.from(map$3(this.list,e=>e.toJSON()))}_add(e){const n=this._trusted;if(e=JSONExt$2.deepCopy(e),Private$G.normalize(e),isStream(e)&&e.name===this._lastStreamName&&this.length>0&&this.shouldCombine({value:e,lastModel:this.list.get(this.length-1)})){const l=this.list.get(this.length-1).streamText,c=typeof e.text=="string"?e.text:e.text.join("");return this._streamIndex=Private$G.addText(this._streamIndex,l,c),this.length}if(isStream(e)){typeof e.text!="string"&&(e.text=e.text.join(""));const{text:u,index:l}=Private$G.processText(0,e.text);this._streamIndex=l,e.text=u}const i=this._createItem({value:e,trusted:n}),o=this.list.push(i);return isStream(e)?this._lastStreamName=e.name:this._lastStreamName="",o}shouldCombine(e){return!0}_createItem(e){return this.contentFactory.createOutputModel(e)}_onListChanged(e,n){switch(n.type){case"add":n.newValues.forEach(i=>{i.changed.connect(this._onGenericChange,this)});break;case"remove":n.oldValues.forEach(i=>{i.changed.disconnect(this._onGenericChange,this)});break;case"set":n.newValues.forEach(i=>{i.changed.connect(this._onGenericChange,this)}),n.oldValues.forEach(i=>{i.changed.disconnect(this._onGenericChange,this)});break;case"move":break;case"clear":n.oldValues.forEach(i=>{i.changed.disconnect(this._onGenericChange,this)});break}this._changed.emit(n)}_onGenericChange(e){let n,i=null;for(n=0;n<this.list.length&&(i=this.list.get(n),i!==e);n++);i!=null&&(this._stateChanged.emit(n),this._changed.emit({type:"set",newIndex:n,oldIndex:n,oldValues:[i],newValues:[i]}))}}(function(t){class e{createOutputModel(i){return new OutputModel$2(i)}}t.ContentFactory=e,t.defaultContentFactory=new e})(OutputAreaModel||(OutputAreaModel={}));var Private$G;(function(t){function e(l){isStream(l)&&Array.isArray(l.text)&&(l.text=l.text.join(`
`))}t.normalize=e;function n(l,c,f){const d=l.slice(f).search(c);return d>=0?d+f:d}function i(l,c,f){if(f===void 0&&(f=""),!(c.includes("\b")||c.includes("\r")||c.includes(`
`)))return f=f.slice(0,l)+c+f.slice(l+c.length),{text:f,index:l+c.length};let d=l,m=-1,g=0;const v=/[\n\b\r]/;for(;;){m=n(c,v,g);const y=c.slice(g,m===-1?c.length:m);if(f=f.slice(0,d)+y+f.slice(d+y.length),g=m+1,d+=y.length,m===-1)break;const w=c[m];if(w==="\b")d>0&&f[d-1]!==`
`&&(f=f.slice(0,d-1)+f.slice(d+1),d--);else if(w==="\r"){let T=!1;for(;!T;)d===0||f[d-1]===`
`?T=!0:d--}else if(w===`
`)f=f+`
`,d=f.length;else throw Error("This should not happen")}return{text:f,index:d}}t.processText=i;function o(l){return JSON.parse(JSON.stringify(l))}function u(l,c,f){const{text:d,index:m}=i(l,f,c.text);let g=!1,v=0;for(;!g;)v===d.length?(v===c.text.length||c.remove(v,c.text.length),g=!0):v===c.text.length?v!==d.length&&(c.insert(c.text.length,o(d.slice(v))),g=!0):d[v]!==c.text[v]?(c.remove(v,c.text.length),c.insert(v,o(d.slice(v))),g=!0):v++;return m}t.addText=u})(Private$G||(Private$G={}));let LinkedList$2=class{constructor(){this._first=null,this._last=null,this._size=0}get isEmpty(){return this._size===0}get size(){return this._size}get length(){return this._size}get first(){return this._first?this._first.value:void 0}get last(){return this._last?this._last.value:void 0}get firstNode(){return this._first}get lastNode(){return this._last}*[Symbol.iterator](){let e=this._first;for(;e;)yield e.value,e=e.next}*retro(){let e=this._last;for(;e;)yield e.value,e=e.prev}*nodes(){let e=this._first;for(;e;)yield e,e=e.next}*retroNodes(){let e=this._last;for(;e;)yield e,e=e.prev}assign(e){this.clear();for(const n of e)this.addLast(n)}push(e){this.addLast(e)}pop(){return this.removeLast()}shift(e){this.addFirst(e)}unshift(){return this.removeFirst()}addFirst(e){let n=new Private$F.LinkedListNode(this,e);return this._first?(n.next=this._first,this._first.prev=n,this._first=n):(this._first=n,this._last=n),this._size++,n}addLast(e){let n=new Private$F.LinkedListNode(this,e);return this._last?(n.prev=this._last,this._last.next=n,this._last=n):(this._first=n,this._last=n),this._size++,n}insertBefore(e,n){if(!n||n===this._first)return this.addFirst(e);if(!(n instanceof Private$F.LinkedListNode)||n.list!==this)throw new Error("Reference node is not owned by the list.");let i=new Private$F.LinkedListNode(this,e),o=n,u=o.prev;return i.next=o,i.prev=u,o.prev=i,u.next=i,this._size++,i}insertAfter(e,n){if(!n||n===this._last)return this.addLast(e);if(!(n instanceof Private$F.LinkedListNode)||n.list!==this)throw new Error("Reference node is not owned by the list.");let i=new Private$F.LinkedListNode(this,e),o=n,u=o.next;return i.next=u,i.prev=o,o.next=i,u.prev=i,this._size++,i}removeFirst(){let e=this._first;if(e)return e===this._last?(this._first=null,this._last=null):(this._first=e.next,this._first.prev=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeLast(){let e=this._last;if(e)return e===this._first?(this._first=null,this._last=null):(this._last=e.prev,this._last.next=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeNode(e){if(!(e instanceof Private$F.LinkedListNode)||e.list!==this)throw new Error("Node is not owned by the list.");let n=e;n===this._first&&n===this._last?(this._first=null,this._last=null):n===this._first?(this._first=n.next,this._first.prev=null):n===this._last?(this._last=n.prev,this._last.next=null):(n.next.prev=n.prev,n.prev.next=n.next),n.list=null,n.next=null,n.prev=null,this._size--}clear(){let e=this._first;for(;e;){let n=e.next;e.list=null,e.prev=null,e.next=null,e=n}this._first=null,this._last=null,this._size=0}};(function(t){function e(n){let i=new t;return i.assign(n),i}t.from=e})(LinkedList$2||(LinkedList$2={}));var Private$F;(function(t){class e{constructor(i,o){this.list=null,this.next=null,this.prev=null,this.list=i,this.value=o}}t.LinkedListNode=e})(Private$F||(Private$F={}));let Message$2=class{constructor(e){this.type=e}get isConflatable(){return!1}conflate(e){return!1}},ConflatableMessage$2=class extends Message$2{get isConflatable(){return!0}conflate(e){return!0}};var MessageLoop$2;(function(t){let e=null;const n=(G=>F=>{let K=!1;return G.then(()=>!K&&F()),()=>{K=!0}})(Promise.resolve());function i(G,F){let K=v.get(G);if(!K||K.length===0){A(G,F);return}every$2(retro$1(K),ie=>ie?P(ie,G,F):!0)&&A(G,F)}t.sendMessage=i;function o(G,F){if(!F.isConflatable){D(G,F);return}some$2(g,Q=>Q.handler!==G||!Q.msg||Q.msg.type!==F.type||!Q.msg.isConflatable?!1:Q.msg.conflate(F))||D(G,F)}t.postMessage=o;function u(G,F){let K=v.get(G);K&&K.indexOf(F)!==-1||(K?K.push(F):v.set(G,[F]))}t.installMessageHook=u;function l(G,F){let K=v.get(G);if(!K)return;let Q=K.indexOf(F);Q!==-1&&(K[Q]=null,j(K))}t.removeMessageHook=l;function c(G){let F=v.get(G);F&&F.length>0&&(ArrayExt$4.fill(F,null),j(F));for(const K of g)K.handler===G&&(K.handler=null,K.msg=null)}t.clearData=c;function f(){T||e===null||(e(),e=null,T=!0,k(),T=!1)}t.flush=f;function d(){return w}t.getExceptionHandler=d;function m(G){let F=w;return w=G,F}t.setExceptionHandler=m;const g=new LinkedList$2,v=new WeakMap,y=new Set;let w=G=>{console.error(G)},T=!1;function P(G,F,K){let Q=!0;try{typeof G=="function"?Q=G(F,K):Q=G.messageHook(F,K)}catch(ie){w(ie)}return Q}function A(G,F){try{G.processMessage(F)}catch(K){w(K)}}function D(G,F){g.addLast({handler:G,msg:F}),e===null&&(e=n(k))}function k(){if(e=null,g.isEmpty)return;let G={handler:null,msg:null};for(g.addLast(G);;){let F=g.removeFirst();if(F===G)return;F.handler&&F.msg&&i(F.handler,F.msg)}}function j(G){y.size===0&&n(B),y.add(G)}function B(){y.forEach(Z),y.clear()}function Z(G){ArrayExt$4.removeAllWhere(G,R)}function R(G){return G===null}})(MessageLoop$2||(MessageLoop$2={}));let Drag$2=class Wo{constructor(e){this._onScrollFrame=()=>{if(!this._scrollTarget)return;let{element:n,edge:i,distance:o}=this._scrollTarget,u=Private$E.SCROLL_EDGE_SIZE-o,l=Math.pow(u/Private$E.SCROLL_EDGE_SIZE,2),c=Math.max(1,Math.round(l*Private$E.SCROLL_EDGE_SIZE));switch(i){case"top":n.scrollTop-=c;break;case"left":n.scrollLeft-=c;break;case"right":n.scrollLeft+=c;break;case"bottom":n.scrollTop+=c;break}requestAnimationFrame(this._onScrollFrame)},this._disposed=!1,this._dropAction="none",this._override=null,this._currentTarget=null,this._currentElement=null,this._promise=null,this._scrollTarget=null,this._resolve=null,this.document=e.document||document,this.mimeData=e.mimeData,this.dragImage=e.dragImage||null,this.proposedAction=e.proposedAction||"copy",this.supportedActions=e.supportedActions||"all",this.source=e.source||null}dispose(){if(!this._disposed){if(this._disposed=!0,this._currentTarget){let e=new PointerEvent("pointerup",{bubbles:!0,cancelable:!0,clientX:-1,clientY:-1});Private$E.dispatchDragLeave(this,this._currentTarget,null,e)}this._finalize("none")}}get isDisposed(){return this._disposed}start(e,n){if(this._disposed)return Promise.resolve("none");if(this._promise)return this._promise;this._addListeners(),this._attachDragImage(e,n),this._promise=new Promise(o=>{this._resolve=o});let i=new PointerEvent("pointermove",{bubbles:!0,cancelable:!0,clientX:e,clientY:n});return document.dispatchEvent(i),this._promise}handleEvent(e){switch(e.type){case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;default:e.preventDefault(),e.stopPropagation();break}}moveDragImage(e,n){if(!this.dragImage)return;let i=this.dragImage.style;i.transform=`translate(${e}px, ${n}px)`}_evtPointerMove(e){e.preventDefault(),e.stopPropagation(),this._updateCurrentTarget(e),this._updateDragScroll(e),this.moveDragImage(e.clientX,e.clientY)}_evtPointerUp(e){if(e.preventDefault(),e.stopPropagation(),e.button!==0)return;if(this._updateCurrentTarget(e),!this._currentTarget){this._finalize("none");return}if(this._dropAction==="none"){Private$E.dispatchDragLeave(this,this._currentTarget,null,e),this._finalize("none");return}let n=Private$E.dispatchDrop(this,this._currentTarget,e);this._finalize(n)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&this.dispose()}_addListeners(){document.addEventListener("pointerdown",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("pointerup",this,!0),document.addEventListener("pointerenter",this,!0),document.addEventListener("pointerleave",this,!0),document.addEventListener("pointerover",this,!0),document.addEventListener("pointerout",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("keyup",this,!0),document.addEventListener("keypress",this,!0),document.addEventListener("contextmenu",this,!0)}_removeListeners(){document.removeEventListener("pointerdown",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointerenter",this,!0),document.removeEventListener("pointerleave",this,!0),document.removeEventListener("pointerover",this,!0),document.removeEventListener("pointerout",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("keyup",this,!0),document.removeEventListener("keypress",this,!0),document.removeEventListener("contextmenu",this,!0)}_updateDragScroll(e){let n=Private$E.findScrollTarget(e);!this._scrollTarget&&!n||(this._scrollTarget||setTimeout(this._onScrollFrame,500),this._scrollTarget=n)}_updateCurrentTarget(e){let n=this._currentTarget,i=this._currentTarget,o=this._currentElement,u=Private$E.findElementBehindBackdrop(e,this.document);this._currentElement=u,u!==o&&u!==i&&Private$E.dispatchDragExit(this,i,u,e),u!==o&&u!==i&&(i=Private$E.dispatchDragEnter(this,u,i,e)),i!==n&&(this._currentTarget=i,Private$E.dispatchDragLeave(this,n,i,e));let l=Private$E.dispatchDragOver(this,i,e);this._setDropAction(l)}_attachDragImage(e,n){if(!this.dragImage)return;this.dragImage.classList.add("lm-mod-drag-image");let i=this.dragImage.style;i.pointerEvents="none",i.position="fixed",i.transform=`translate(${e}px, ${n}px)`,(this.document instanceof Document?this.document.body:this.document.firstElementChild).appendChild(this.dragImage)}_detachDragImage(){if(!this.dragImage)return;let e=this.dragImage.parentNode;e&&e.removeChild(this.dragImage)}_setDropAction(e){if(e=Private$E.validateAction(e,this.supportedActions),!(this._override&&this._dropAction===e))switch(e){case"none":this._dropAction=e,this._override=Wo.overrideCursor("no-drop",this.document);break;case"copy":this._dropAction=e,this._override=Wo.overrideCursor("copy",this.document);break;case"link":this._dropAction=e,this._override=Wo.overrideCursor("alias",this.document);break;case"move":this._dropAction=e,this._override=Wo.overrideCursor("move",this.document);break}}_finalize(e){let n=this._resolve;this._removeListeners(),this._detachDragImage(),this._override&&(this._override.dispose(),this._override=null),this.mimeData.clear(),this._disposed=!0,this._dropAction="none",this._currentTarget=null,this._currentElement=null,this._scrollTarget=null,this._promise=null,this._resolve=null,n&&n(e)}};(function(t){class e extends DragEvent{constructor(o,u){super(u.type,{bubbles:!0,cancelable:!0,altKey:o.altKey,button:o.button,clientX:o.clientX,clientY:o.clientY,ctrlKey:o.ctrlKey,detail:0,metaKey:o.metaKey,relatedTarget:u.related,screenX:o.screenX,screenY:o.screenY,shiftKey:o.shiftKey,view:window});const{drag:l}=u;this.dropAction="none",this.mimeData=l.mimeData,this.proposedAction=l.proposedAction,this.supportedActions=l.supportedActions,this.source=l.source}}t.Event=e;function n(i,o=document){return Private$E.overrideCursor(i,o)}t.overrideCursor=n})(Drag$2||(Drag$2={}));var Private$E;(function(t){t.SCROLL_EDGE_SIZE=20;function e(j,B){return g[j]&v[B]?j:"none"}t.validateAction=e;function n(j,B=document){if(j){if(i&&j==i.event)return i.element;t.cursorBackdrop.style.zIndex="-1000";const Z=B.elementFromPoint(j.clientX,j.clientY);return t.cursorBackdrop.style.zIndex="",i={event:j,element:Z},Z}else{const Z=t.cursorBackdrop.style.transform;if(o&&Z===o.transform)return o.element;const R=t.cursorBackdrop.getBoundingClientRect();t.cursorBackdrop.style.zIndex="-1000";const G=B.elementFromPoint(R.left+R.width/2,R.top+R.height/2);return t.cursorBackdrop.style.zIndex="",o={transform:Z,element:G},G}}t.findElementBehindBackdrop=n;let i=null,o=null;function u(j){let B=j.clientX,Z=j.clientY,R=n(j);for(;R;R=R.parentElement){if(!R.hasAttribute("data-lm-dragscroll"))continue;let G=0,F=0;R===document.body&&(G=window.pageXOffset,F=window.pageYOffset);let K=R.getBoundingClientRect(),Q=K.top+F,ie=K.left+G,te=ie+K.width,oe=Q+K.height;if(B<ie||B>=te||Z<Q||Z>=oe)continue;let le=B-ie+1,de=Z-Q+1,ge=te-B,_e=oe-Z,we=Math.min(le,de,ge,_e);if(we>t.SCROLL_EDGE_SIZE)continue;let Me;switch(we){case _e:Me="bottom";break;case de:Me="top";break;case ge:Me="right";break;case le:Me="left";break;default:throw"unreachable"}let xe=R.scrollWidth-R.clientWidth,Re=R.scrollHeight-R.clientHeight,Se;switch(Me){case"top":Se=Re>0&&R.scrollTop>0;break;case"left":Se=xe>0&&R.scrollLeft>0;break;case"right":Se=xe>0&&R.scrollLeft<xe;break;case"bottom":Se=Re>0&&R.scrollTop<Re;break;default:throw"unreachable"}if(Se)return{element:R,edge:Me,distance:we}}return null}t.findScrollTarget=u;function l(j,B,Z,R){if(!B)return null;let G=new Drag$2.Event(R,{drag:j,related:Z,type:"lm-dragenter"});if(!B.dispatchEvent(G))return B;const K=j.document instanceof Document?j.document.body:j.document.firstElementChild;return B===K?Z:(G=new Drag$2.Event(R,{drag:j,related:Z,type:"lm-dragenter"}),K.dispatchEvent(G),K)}t.dispatchDragEnter=l;function c(j,B,Z,R){if(!B)return;let G=new Drag$2.Event(R,{drag:j,related:Z,type:"lm-dragexit"});B.dispatchEvent(G)}t.dispatchDragExit=c;function f(j,B,Z,R){if(!B)return;let G=new Drag$2.Event(R,{drag:j,related:Z,type:"lm-dragleave"});B.dispatchEvent(G)}t.dispatchDragLeave=f;function d(j,B,Z){if(!B)return"none";let R=new Drag$2.Event(Z,{drag:j,related:null,type:"lm-dragover"});return B.dispatchEvent(R)?"none":R.dropAction}t.dispatchDragOver=d;function m(j,B,Z){if(!B)return"none";let R=new Drag$2.Event(Z,{drag:j,related:null,type:"lm-drop"});return B.dispatchEvent(R)?"none":R.dropAction}t.dispatchDrop=m;const g={none:0,copy:1,link:2,move:4},v={none:g.none,copy:g.copy,link:g.link,move:g.move,"copy-link":g.copy|g.link,"copy-move":g.copy|g.move,"link-move":g.link|g.move,all:g.copy|g.link|g.move};function y(j,B=document){let Z=++k;const R=B instanceof Document?B.body:B.firstElementChild;return t.cursorBackdrop.isConnected||(t.cursorBackdrop.style.transform="scale(0)",R.appendChild(t.cursorBackdrop),P(),document.addEventListener("pointermove",w,{capture:!0,passive:!0}),t.cursorBackdrop.addEventListener("scroll",T,{capture:!0,passive:!0})),t.cursorBackdrop.style.cursor=j,new DisposableDelegate$2(()=>{Z===k&&t.cursorBackdrop.isConnected&&(document.removeEventListener("pointermove",w,!0),t.cursorBackdrop.removeEventListener("scroll",T,!0),R.removeChild(t.cursorBackdrop))})}t.overrideCursor=y;function w(j){t.cursorBackdrop&&(t.cursorBackdrop.style.transform=`translate(${j.clientX}px, ${j.clientY}px)`)}function T(j){if(!t.cursorBackdrop)return;let B=n();if(!B)return;const Z=B.closest("[data-lm-dragscroll]");Z&&(Z.scrollTop+=t.cursorBackdrop.scrollTop-A,Z.scrollLeft+=t.cursorBackdrop.scrollLeft-A,P())}function P(){t.cursorBackdrop.scrollTop=A,t.cursorBackdrop.scrollLeft=A}const A=500;function D(){const j=document.createElement("div");return j.classList.add("lm-cursor-backdrop"),j}let k=0;t.cursorBackdrop=D()})(Private$E||(Private$E={}));let BoxSizer$2=class{constructor(){this.sizeHint=0,this.minSize=0,this.maxSize=1/0,this.stretch=1,this.size=0,this.done=!1}};var BoxEngine$2;(function(t){function e(u,l){let c=u.length;if(c===0)return l;let f=0,d=0,m=0,g=0,v=0;for(let T=0;T<c;++T){let P=u[T],A=P.minSize,D=P.maxSize,k=P.sizeHint;P.done=!1,P.size=Math.max(A,Math.min(k,D)),m+=P.size,f+=A,d+=D,P.stretch>0&&(g+=P.stretch,v++)}if(l===m)return 0;if(l<=f){for(let T=0;T<c;++T){let P=u[T];P.size=P.minSize}return l-f}if(l>=d){for(let T=0;T<c;++T){let P=u[T];P.size=P.maxSize}return l-d}let y=.01,w=c;if(l<m){let T=m-l;for(;v>0&&T>y;){let P=T,A=g;for(let D=0;D<c;++D){let k=u[D];if(k.done||k.stretch===0)continue;let j=k.stretch*P/A;k.size-j<=k.minSize?(T-=k.size-k.minSize,g-=k.stretch,k.size=k.minSize,k.done=!0,w--,v--):(T-=j,k.size-=j)}}for(;w>0&&T>y;){let P=T/w;for(let A=0;A<c;++A){let D=u[A];D.done||(D.size-P<=D.minSize?(T-=D.size-D.minSize,D.size=D.minSize,D.done=!0,w--):(T-=P,D.size-=P))}}}else{let T=l-m;for(;v>0&&T>y;){let P=T,A=g;for(let D=0;D<c;++D){let k=u[D];if(k.done||k.stretch===0)continue;let j=k.stretch*P/A;k.size+j>=k.maxSize?(T-=k.maxSize-k.size,g-=k.stretch,k.size=k.maxSize,k.done=!0,w--,v--):(T-=j,k.size+=j)}}for(;w>0&&T>y;){let P=T/w;for(let A=0;A<c;++A){let D=u[A];D.done||(D.size+P>=D.maxSize?(T-=D.maxSize-D.size,D.size=D.maxSize,D.done=!0,w--):(T-=P,D.size+=P))}}}return 0}t.calc=e;function n(u,l,c){u.length===0||c===0||(c>0?i(u,l,c):o(u,l,-c))}t.adjust=n;function i(u,l,c){let f=0;for(let v=0;v<=l;++v){let y=u[v];f+=y.maxSize-y.size}let d=0;for(let v=l+1,y=u.length;v<y;++v){let w=u[v];d+=w.size-w.minSize}c=Math.min(c,f,d);let m=c;for(let v=l;v>=0&&m>0;--v){let y=u[v],w=y.maxSize-y.size;w>=m?(y.sizeHint=y.size+m,m=0):(y.sizeHint=y.size+w,m-=w)}let g=c;for(let v=l+1,y=u.length;v<y&&g>0;++v){let w=u[v],T=w.size-w.minSize;T>=g?(w.sizeHint=w.size-g,g=0):(w.sizeHint=w.size-T,g-=T)}}function o(u,l,c){let f=0;for(let v=l+1,y=u.length;v<y;++v){let w=u[v];f+=w.maxSize-w.size}let d=0;for(let v=0;v<=l;++v){let y=u[v];d+=y.size-y.minSize}c=Math.min(c,f,d);let m=c;for(let v=l+1,y=u.length;v<y&&m>0;++v){let w=u[v],T=w.maxSize-w.size;T>=m?(w.sizeHint=w.size+m,m=0):(w.sizeHint=w.size+T,m-=T)}let g=c;for(let v=l;v>=0&&g>0;--v){let y=u[v],w=y.size-y.minSize;w>=g?(y.sizeHint=y.size-g,g=0):(y.sizeHint=y.size-w,g-=w)}}})(BoxEngine$2||(BoxEngine$2={}));let Title$2=class{constructor(e){this._label="",this._caption="",this._mnemonic=-1,this._icon=void 0,this._iconClass="",this._iconLabel="",this._className="",this._closable=!1,this._changed=new Signal$2(this),this._isDisposed=!1,this.owner=e.owner,e.label!==void 0&&(this._label=e.label),e.mnemonic!==void 0&&(this._mnemonic=e.mnemonic),e.icon!==void 0&&(this._icon=e.icon),e.iconClass!==void 0&&(this._iconClass=e.iconClass),e.iconLabel!==void 0&&(this._iconLabel=e.iconLabel),e.caption!==void 0&&(this._caption=e.caption),e.className!==void 0&&(this._className=e.className),e.closable!==void 0&&(this._closable=e.closable),this._dataset=e.dataset||{}}get changed(){return this._changed}get label(){return this._label}set label(e){this._label!==e&&(this._label=e,this._changed.emit(void 0))}get mnemonic(){return this._mnemonic}set mnemonic(e){this._mnemonic!==e&&(this._mnemonic=e,this._changed.emit(void 0))}get icon(){return this._icon}set icon(e){this._icon!==e&&(this._icon=e,this._changed.emit(void 0))}get iconClass(){return this._iconClass}set iconClass(e){this._iconClass!==e&&(this._iconClass=e,this._changed.emit(void 0))}get iconLabel(){return this._iconLabel}set iconLabel(e){this._iconLabel!==e&&(this._iconLabel=e,this._changed.emit(void 0))}get caption(){return this._caption}set caption(e){this._caption!==e&&(this._caption=e,this._changed.emit(void 0))}get className(){return this._className}set className(e){this._className!==e&&(this._className=e,this._changed.emit(void 0))}get closable(){return this._closable}set closable(e){this._closable!==e&&(this._closable=e,this._changed.emit(void 0))}get dataset(){return this._dataset}set dataset(e){this._dataset!==e&&(this._dataset=e,this._changed.emit(void 0))}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,Signal$2.clearData(this))}},Widget$2=class jr{constructor(e={}){this._flags=0,this._layout=null,this._parent=null,this._disposed=new Signal$2(this),this._hiddenMode=jr.HiddenMode.Display,this.node=Private$j$2.createNode(e),this.addClass("lm-Widget")}dispose(){this.isDisposed||(this.setFlag(jr.Flag.IsDisposed),this._disposed.emit(void 0),this.parent?this.parent=null:this.isAttached&&jr.detach(this),this._layout&&(this._layout.dispose(),this._layout=null),this.title.dispose(),Signal$2.clearData(this),MessageLoop$2.clearData(this),AttachedProperty$2.clearData(this))}get disposed(){return this._disposed}get isDisposed(){return this.testFlag(jr.Flag.IsDisposed)}get isAttached(){return this.testFlag(jr.Flag.IsAttached)}get isHidden(){return this.testFlag(jr.Flag.IsHidden)}get isVisible(){let e=this;do{if(e.isHidden||!e.isAttached)return!1;e=e.parent}while(e!=null);return!0}get title(){return Private$j$2.titleProperty.get(this)}get id(){return this.node.id}set id(e){this.node.id=e}get dataset(){return this.node.dataset}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this.isHidden&&this._toggleHidden(!1),e==jr.HiddenMode.Scale?this.node.style.willChange="transform":this.node.style.willChange="auto",this._hiddenMode=e,this.isHidden&&this._toggleHidden(!0))}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(e&&this.contains(e))throw new Error("Invalid parent widget.");if(this._parent&&!this._parent.isDisposed){let n=new jr.ChildMessage("child-removed",this);MessageLoop$2.sendMessage(this._parent,n)}if(this._parent=e,this._parent&&!this._parent.isDisposed){let n=new jr.ChildMessage("child-added",this);MessageLoop$2.sendMessage(this._parent,n)}this.isDisposed||MessageLoop$2.sendMessage(this,jr.Msg.ParentChanged)}}get layout(){return this._layout}set layout(e){if(this._layout!==e){if(this.testFlag(jr.Flag.DisallowLayout))throw new Error("Cannot set widget layout.");if(this._layout)throw new Error("Cannot change widget layout.");if(e.parent)throw new Error("Cannot change layout parent.");this._layout=e,e.parent=this}}*children(){this._layout&&(yield*this._layout)}contains(e){for(let n=e;n;n=n._parent)if(n===this)return!0;return!1}hasClass(e){return this.node.classList.contains(e)}addClass(e){this.node.classList.add(e)}removeClass(e){this.node.classList.remove(e)}toggleClass(e,n){return n===!0?(this.node.classList.add(e),!0):n===!1?(this.node.classList.remove(e),!1):this.node.classList.toggle(e)}update(){MessageLoop$2.postMessage(this,jr.Msg.UpdateRequest)}fit(){MessageLoop$2.postMessage(this,jr.Msg.FitRequest)}activate(){MessageLoop$2.postMessage(this,jr.Msg.ActivateRequest)}close(){MessageLoop$2.sendMessage(this,jr.Msg.CloseRequest)}show(){if(this.testFlag(jr.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&MessageLoop$2.sendMessage(this,jr.Msg.BeforeShow),this.clearFlag(jr.Flag.IsHidden),this._toggleHidden(!1),this.isAttached&&(!this.parent||this.parent.isVisible)&&MessageLoop$2.sendMessage(this,jr.Msg.AfterShow),this.parent)){let e=new jr.ChildMessage("child-shown",this);MessageLoop$2.sendMessage(this.parent,e)}}hide(){if(!this.testFlag(jr.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&MessageLoop$2.sendMessage(this,jr.Msg.BeforeHide),this.setFlag(jr.Flag.IsHidden),this._toggleHidden(!0),this.isAttached&&(!this.parent||this.parent.isVisible)&&MessageLoop$2.sendMessage(this,jr.Msg.AfterHide),this.parent)){let e=new jr.ChildMessage("child-hidden",this);MessageLoop$2.sendMessage(this.parent,e)}}setHidden(e){e?this.hide():this.show()}testFlag(e){return(this._flags&e)!==0}setFlag(e){this._flags|=e}clearFlag(e){this._flags&=~e}processMessage(e){switch(e.type){case"resize":this.notifyLayout(e),this.onResize(e);break;case"update-request":this.notifyLayout(e),this.onUpdateRequest(e);break;case"fit-request":this.notifyLayout(e),this.onFitRequest(e);break;case"before-show":this.notifyLayout(e),this.onBeforeShow(e);break;case"after-show":this.setFlag(jr.Flag.IsVisible),this.notifyLayout(e),this.onAfterShow(e);break;case"before-hide":this.notifyLayout(e),this.onBeforeHide(e);break;case"after-hide":this.clearFlag(jr.Flag.IsVisible),this.notifyLayout(e),this.onAfterHide(e);break;case"before-attach":this.notifyLayout(e),this.onBeforeAttach(e);break;case"after-attach":!this.isHidden&&(!this.parent||this.parent.isVisible)&&this.setFlag(jr.Flag.IsVisible),this.setFlag(jr.Flag.IsAttached),this.notifyLayout(e),this.onAfterAttach(e);break;case"before-detach":this.notifyLayout(e),this.onBeforeDetach(e);break;case"after-detach":this.clearFlag(jr.Flag.IsVisible),this.clearFlag(jr.Flag.IsAttached),this.notifyLayout(e),this.onAfterDetach(e);break;case"activate-request":this.notifyLayout(e),this.onActivateRequest(e);break;case"close-request":this.notifyLayout(e),this.onCloseRequest(e);break;case"child-added":this.notifyLayout(e),this.onChildAdded(e);break;case"child-removed":this.notifyLayout(e),this.onChildRemoved(e);break;default:this.notifyLayout(e);break}}notifyLayout(e){this._layout&&this._layout.processParentMessage(e)}onCloseRequest(e){this.parent?this.parent=null:this.isAttached&&jr.detach(this)}onResize(e){}onUpdateRequest(e){}onFitRequest(e){}onActivateRequest(e){}onBeforeShow(e){}onAfterShow(e){}onBeforeHide(e){}onAfterHide(e){}onBeforeAttach(e){}onAfterAttach(e){}onBeforeDetach(e){}onAfterDetach(e){}onChildAdded(e){}onChildRemoved(e){}_toggleHidden(e){if(e)switch(this._hiddenMode){case jr.HiddenMode.Display:this.addClass("lm-mod-hidden");break;case jr.HiddenMode.Scale:this.node.style.transform="scale(0)",this.node.setAttribute("aria-hidden","true");break;case jr.HiddenMode.ContentVisibility:this.node.style.contentVisibility="hidden",this.node.style.zIndex="-1";break}else switch(this._hiddenMode){case jr.HiddenMode.Display:this.removeClass("lm-mod-hidden");break;case jr.HiddenMode.Scale:this.node.style.transform="",this.node.removeAttribute("aria-hidden");break;case jr.HiddenMode.ContentVisibility:this.node.style.contentVisibility="",this.node.style.zIndex="";break}}};(function(t){(function(u){u[u.Display=0]="Display",u[u.Scale=1]="Scale",u[u.ContentVisibility=2]="ContentVisibility"})(t.HiddenMode||(t.HiddenMode={})),(function(u){u[u.IsDisposed=1]="IsDisposed",u[u.IsAttached=2]="IsAttached",u[u.IsHidden=4]="IsHidden",u[u.IsVisible=8]="IsVisible",u[u.DisallowLayout=16]="DisallowLayout"})(t.Flag||(t.Flag={})),(function(u){u.BeforeShow=new Message$2("before-show"),u.AfterShow=new Message$2("after-show"),u.BeforeHide=new Message$2("before-hide"),u.AfterHide=new Message$2("after-hide"),u.BeforeAttach=new Message$2("before-attach"),u.AfterAttach=new Message$2("after-attach"),u.BeforeDetach=new Message$2("before-detach"),u.AfterDetach=new Message$2("after-detach"),u.ParentChanged=new Message$2("parent-changed"),u.UpdateRequest=new ConflatableMessage$2("update-request"),u.FitRequest=new ConflatableMessage$2("fit-request"),u.ActivateRequest=new ConflatableMessage$2("activate-request"),u.CloseRequest=new ConflatableMessage$2("close-request")})(t.Msg||(t.Msg={}));class e extends Message$2{constructor(l,c){super(l),this.child=c}}t.ChildMessage=e;class n extends Message$2{constructor(l,c){super("resize"),this.width=l,this.height=c}}t.ResizeMessage=n,(function(u){u.UnknownSize=new u(-1,-1)})(n=t.ResizeMessage||(t.ResizeMessage={}));function i(u,l,c=null){if(u.parent)throw new Error("Cannot attach a child widget.");if(u.isAttached||u.node.isConnected)throw new Error("Widget is already attached.");if(!l.isConnected)throw new Error("Host is not attached.");MessageLoop$2.sendMessage(u,t.Msg.BeforeAttach),l.insertBefore(u.node,c),MessageLoop$2.sendMessage(u,t.Msg.AfterAttach)}t.attach=i;function o(u){if(u.parent)throw new Error("Cannot detach a child widget.");if(!u.isAttached||!u.node.isConnected)throw new Error("Widget is not attached.");MessageLoop$2.sendMessage(u,t.Msg.BeforeDetach),u.node.parentNode.removeChild(u.node),MessageLoop$2.sendMessage(u,t.Msg.AfterDetach)}t.detach=o})(Widget$2||(Widget$2={}));var Private$j$2;(function(t){t.titleProperty=new AttachedProperty$2({name:"title",create:n=>new Title$2({owner:n})});function e(n){return n.node||document.createElement(n.tag||"div")}t.createNode=e})(Private$j$2||(Private$j$2={}));let Layout$2=class{constructor(e={}){this._disposed=!1,this._parent=null,this._fitPolicy=e.fitPolicy||"set-min-size"}dispose(){this._parent=null,this._disposed=!0,Signal$2.clearData(this),AttachedProperty$2.clearData(this)}get isDisposed(){return this._disposed}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(this._parent)throw new Error("Cannot change parent widget.");if(e.layout!==this)throw new Error("Invalid parent widget.");this._parent=e,this.init()}}get fitPolicy(){return this._fitPolicy}set fitPolicy(e){if(this._fitPolicy!==e&&(this._fitPolicy=e,this._parent)){let n=this._parent.node.style;n.minWidth="",n.minHeight="",n.maxWidth="",n.maxHeight="",this._parent.fit()}}processParentMessage(e){switch(e.type){case"resize":this.onResize(e);break;case"update-request":this.onUpdateRequest(e);break;case"fit-request":this.onFitRequest(e);break;case"before-show":this.onBeforeShow(e);break;case"after-show":this.onAfterShow(e);break;case"before-hide":this.onBeforeHide(e);break;case"after-hide":this.onAfterHide(e);break;case"before-attach":this.onBeforeAttach(e);break;case"after-attach":this.onAfterAttach(e);break;case"before-detach":this.onBeforeDetach(e);break;case"after-detach":this.onAfterDetach(e);break;case"child-removed":this.onChildRemoved(e);break;case"child-shown":this.onChildShown(e);break;case"child-hidden":this.onChildHidden(e);break}}init(){for(const e of this)e.parent=this.parent}onResize(e){for(const n of this)MessageLoop$2.sendMessage(n,Widget$2.ResizeMessage.UnknownSize)}onUpdateRequest(e){for(const n of this)MessageLoop$2.sendMessage(n,Widget$2.ResizeMessage.UnknownSize)}onBeforeAttach(e){for(const n of this)MessageLoop$2.sendMessage(n,e)}onAfterAttach(e){for(const n of this)MessageLoop$2.sendMessage(n,e)}onBeforeDetach(e){for(const n of this)MessageLoop$2.sendMessage(n,e)}onAfterDetach(e){for(const n of this)MessageLoop$2.sendMessage(n,e)}onBeforeShow(e){for(const n of this)n.isHidden||MessageLoop$2.sendMessage(n,e)}onAfterShow(e){for(const n of this)n.isHidden||MessageLoop$2.sendMessage(n,e)}onBeforeHide(e){for(const n of this)n.isHidden||MessageLoop$2.sendMessage(n,e)}onAfterHide(e){for(const n of this)n.isHidden||MessageLoop$2.sendMessage(n,e)}onChildRemoved(e){this.removeWidget(e.child)}onFitRequest(e){}onChildShown(e){}onChildHidden(e){}};(function(t){function e(u){return Private$i$2.horizontalAlignmentProperty.get(u)}t.getHorizontalAlignment=e;function n(u,l){Private$i$2.horizontalAlignmentProperty.set(u,l)}t.setHorizontalAlignment=n;function i(u){return Private$i$2.verticalAlignmentProperty.get(u)}t.getVerticalAlignment=i;function o(u,l){Private$i$2.verticalAlignmentProperty.set(u,l)}t.setVerticalAlignment=o})(Layout$2||(Layout$2={}));let LayoutItem$2=class{constructor(e){this._top=NaN,this._left=NaN,this._width=NaN,this._height=NaN,this._minWidth=0,this._minHeight=0,this._maxWidth=1/0,this._maxHeight=1/0,this._disposed=!1,this.widget=e,this.widget.node.style.position="absolute",this.widget.node.style.contain="strict"}dispose(){if(this._disposed)return;this._disposed=!0;let e=this.widget.node.style;e.position="",e.top="",e.left="",e.width="",e.height="",e.contain=""}get minWidth(){return this._minWidth}get minHeight(){return this._minHeight}get maxWidth(){return this._maxWidth}get maxHeight(){return this._maxHeight}get isDisposed(){return this._disposed}get isHidden(){return this.widget.isHidden}get isVisible(){return this.widget.isVisible}get isAttached(){return this.widget.isAttached}fit(){let e=ElementExt$1.sizeLimits(this.widget.node);this._minWidth=e.minWidth,this._minHeight=e.minHeight,this._maxWidth=e.maxWidth,this._maxHeight=e.maxHeight}update(e,n,i,o){let u=Math.max(this._minWidth,Math.min(i,this._maxWidth)),l=Math.max(this._minHeight,Math.min(o,this._maxHeight));if(u<i)switch(Layout$2.getHorizontalAlignment(this.widget)){case"left":break;case"center":e+=(i-u)/2;break;case"right":e+=i-u;break;default:throw"unreachable"}if(l<o)switch(Layout$2.getVerticalAlignment(this.widget)){case"top":break;case"center":n+=(o-l)/2;break;case"bottom":n+=o-l;break;default:throw"unreachable"}let c=!1,f=this.widget.node.style;if(this._top!==n&&(this._top=n,f.top=`${n}px`),this._left!==e&&(this._left=e,f.left=`${e}px`),this._width!==u&&(c=!0,this._width=u,f.width=`${u}px`),this._height!==l&&(c=!0,this._height=l,f.height=`${l}px`),c){let d=new Widget$2.ResizeMessage(u,l);MessageLoop$2.sendMessage(this.widget,d)}}};var Private$i$2;(function(t){t.horizontalAlignmentProperty=new AttachedProperty$2({name:"horizontalAlignment",create:()=>"center",changed:e}),t.verticalAlignmentProperty=new AttachedProperty$2({name:"verticalAlignment",create:()=>"top",changed:e});function e(n){n.parent&&n.parent.layout&&n.parent.update()}})(Private$i$2||(Private$i$2={}));let PanelLayout$2=class extends Layout$2{constructor(){super(...arguments),this._widgets=[]}dispose(){for(;this._widgets.length>0;)this._widgets.pop().dispose();super.dispose()}get widgets(){return this._widgets}*[Symbol.iterator](){yield*this._widgets}addWidget(e){this.insertWidget(this._widgets.length,e)}insertWidget(e,n){n.parent=this.parent;let i=this._widgets.indexOf(n),o=Math.max(0,Math.min(e,this._widgets.length));if(i===-1){ArrayExt$4.insert(this._widgets,o,n),this.parent&&this.attachWidget(o,n);return}o===this._widgets.length&&o--,i!==o&&(ArrayExt$4.move(this._widgets,i,o),this.parent&&this.moveWidget(i,o,n))}removeWidget(e){this.removeWidgetAt(this._widgets.indexOf(e))}removeWidgetAt(e){let n=ArrayExt$4.removeAt(this._widgets,e);n&&this.parent&&this.detachWidget(e,n)}init(){super.init();let e=0;for(const n of this)this.attachWidget(e++,n)}attachWidget(e,n){let i=this.parent.node.children[e];this.parent.isAttached&&MessageLoop$2.sendMessage(n,Widget$2.Msg.BeforeAttach),this.parent.node.insertBefore(n.node,i),this.parent.isAttached&&MessageLoop$2.sendMessage(n,Widget$2.Msg.AfterAttach)}moveWidget(e,n,i){this.parent.isAttached&&MessageLoop$2.sendMessage(i,Widget$2.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&MessageLoop$2.sendMessage(i,Widget$2.Msg.AfterDetach);let o=this.parent.node.children[n];this.parent.isAttached&&MessageLoop$2.sendMessage(i,Widget$2.Msg.BeforeAttach),this.parent.node.insertBefore(i.node,o),this.parent.isAttached&&MessageLoop$2.sendMessage(i,Widget$2.Msg.AfterAttach)}detachWidget(e,n){this.parent.isAttached&&MessageLoop$2.sendMessage(n,Widget$2.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.isAttached&&MessageLoop$2.sendMessage(n,Widget$2.Msg.AfterDetach)}};var Utils$3;(function(t){function e(n){return Math.max(0,Math.floor(n))}t.clampDimension=e})(Utils$3||(Utils$3={}));var Utils$1$2=Utils$3;let SplitLayout$2=class xp extends PanelLayout$2{constructor(e){super(),this.widgetOffset=0,this._fixed=0,this._spacing=4,this._dirty=!1,this._hasNormedSizes=!1,this._sizers=[],this._items=[],this._handles=[],this._box=null,this._alignment="start",this._orientation="horizontal",this.renderer=e.renderer,e.orientation!==void 0&&(this._orientation=e.orientation),e.alignment!==void 0&&(this._alignment=e.alignment),e.spacing!==void 0&&(this._spacing=Utils$3.clampDimension(e.spacing))}dispose(){for(const e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,this._handles.length=0,super.dispose()}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this.parent&&(this.parent.dataset.orientation=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=Utils$3.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get handles(){return this._handles}absoluteSizes(){return this._sizers.map(e=>e.size)}relativeSizes(){return Private$h$2.normalize(this._sizers.map(e=>e.size))}setRelativeSizes(e,n=!0){let i=this._sizers.length,o=e.slice(0,i);for(;o.length<i;)o.push(0);let u=Private$h$2.normalize(o);for(let l=0;l<i;++l){let c=this._sizers[l];c.sizeHint=u[l],c.size=u[l]}this._hasNormedSizes=!0,n&&this.parent&&this.parent.update()}moveHandle(e,n){let i=this._handles[e];if(!i||i.classList.contains("lm-mod-hidden"))return;let o;if(this._orientation==="horizontal"?o=n-i.offsetLeft:o=n-i.offsetTop,o!==0){for(let u of this._sizers)u.size>0&&(u.sizeHint=u.size);BoxEngine$2.adjust(this._sizers,e,o),this.parent&&this.parent.update()}}init(){this.parent.dataset.orientation=this.orientation,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,n){let i=new LayoutItem$2(n),o=Private$h$2.createHandle(this.renderer),u=Private$h$2.averageSize(this._sizers),l=Private$h$2.createSizer(u);ArrayExt$4.insert(this._items,e,i),ArrayExt$4.insert(this._sizers,e,l),ArrayExt$4.insert(this._handles,e,o),this.parent.isAttached&&MessageLoop$2.sendMessage(n,Widget$2.Msg.BeforeAttach),this.parent.node.appendChild(n.node),this.parent.node.appendChild(o),this.parent.isAttached&&MessageLoop$2.sendMessage(n,Widget$2.Msg.AfterAttach),this.parent.fit()}moveWidget(e,n,i){ArrayExt$4.move(this._items,e,n),ArrayExt$4.move(this._sizers,e,n),ArrayExt$4.move(this._handles,e,n),this.parent.fit()}detachWidget(e,n){let i=ArrayExt$4.removeAt(this._items,e),o=ArrayExt$4.removeAt(this._handles,e);ArrayExt$4.removeAt(this._sizers,e),this.parent.isAttached&&MessageLoop$2.sendMessage(n,Widget$2.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.node.removeChild(o),this.parent.isAttached&&MessageLoop$2.sendMessage(n,Widget$2.Msg.AfterDetach),i.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}updateItemPosition(e,n,i,o,u,l,c){const f=this._items[e];if(f.isHidden)return;let d=this._handles[e].style;n?(i+=this.widgetOffset,f.update(i,o,c,u),i+=c,d.top=`${o}px`,d.left=`${i}px`,d.width=`${this._spacing}px`,d.height=`${u}px`):(o+=this.widgetOffset,f.update(i,o,l,c),o+=c,d.top=`${o}px`,d.left=`${i}px`,d.width=`${l}px`,d.height=`${this._spacing}px`)}_fit(){let e=0,n=-1;for(let f=0,d=this._items.length;f<d;++f)this._items[f].isHidden?this._handles[f].classList.add("lm-mod-hidden"):(this._handles[f].classList.remove("lm-mod-hidden"),n=f,e++);n!==-1&&this._handles[n].classList.add("lm-mod-hidden"),this._fixed=this._spacing*Math.max(0,e-1)+this.widgetOffset*this._items.length;let i=this._orientation==="horizontal",o=i?this._fixed:0,u=i?0:this._fixed;for(let f=0,d=this._items.length;f<d;++f){let m=this._items[f],g=this._sizers[f];if(g.size>0&&(g.sizeHint=g.size),m.isHidden){g.minSize=0,g.maxSize=0;continue}m.fit(),g.stretch=xp.getStretch(m.widget),i?(g.minSize=m.minWidth,g.maxSize=m.maxWidth,o+=m.minWidth,u=Math.max(u,m.minHeight)):(g.minSize=m.minHeight,g.maxSize=m.maxHeight,u+=m.minHeight,o=Math.max(o,m.minWidth))}let l=this._box=ElementExt$1.boxSizing(this.parent.node);o+=l.horizontalSum,u+=l.verticalSum;let c=this.parent.node.style;c.minWidth=`${o}px`,c.minHeight=`${u}px`,this._dirty=!0,this.parent.parent&&MessageLoop$2.sendMessage(this.parent.parent,Widget$2.Msg.FitRequest),this._dirty&&MessageLoop$2.sendMessage(this.parent,Widget$2.Msg.UpdateRequest)}_update(e,n){this._dirty=!1;let i=0;for(let g=0,v=this._items.length;g<v;++g)i+=+!this._items[g].isHidden;if(i===0&&this.widgetOffset===0)return;e<0&&(e=this.parent.node.offsetWidth),n<0&&(n=this.parent.node.offsetHeight),this._box||(this._box=ElementExt$1.boxSizing(this.parent.node));let o=this._box.paddingTop,u=this._box.paddingLeft,l=e-this._box.horizontalSum,c=n-this._box.verticalSum,f=0,d=0,m=this._orientation==="horizontal";if(i>0){let g;if(m?g=Math.max(0,l-this._fixed):g=Math.max(0,c-this._fixed),this._hasNormedSizes){for(let y of this._sizers)y.sizeHint*=g;this._hasNormedSizes=!1}let v=BoxEngine$2.calc(this._sizers,g);if(v>0)switch(this._alignment){case"start":break;case"center":f=0,d=v/2;break;case"end":f=0,d=v;break;case"justify":f=v/i,d=0;break;default:throw"unreachable"}}for(let g=0,v=this._items.length;g<v;++g){const w=this._items[g].isHidden?0:this._sizers[g].size+f;this.updateItemPosition(g,m,m?u+d:u,m?o:o+d,c,l,w);const T=this.widgetOffset+(this._handles[g].classList.contains("lm-mod-hidden")?0:this._spacing);m?u+=w+T:o+=w+T}}};(function(t){function e(i){return Private$h$2.stretchProperty.get(i)}t.getStretch=e;function n(i,o){Private$h$2.stretchProperty.set(i,o)}t.setStretch=n})(SplitLayout$2||(SplitLayout$2={}));var Private$h$2;(function(t){t.stretchProperty=new AttachedProperty$2({name:"stretch",create:()=>0,coerce:(l,c)=>Math.max(0,Math.floor(c)),changed:u});function e(l){let c=new BoxSizer$2;return c.sizeHint=Math.floor(l),c}t.createSizer=e;function n(l){let c=l.createHandle();return c.style.position="absolute",c.style.contain="style",c}t.createHandle=n;function i(l){return l.reduce((c,f)=>c+f.size,0)/l.length||0}t.averageSize=i;function o(l){let c=l.length;if(c===0)return[];let f=l.reduce((d,m)=>d+Math.abs(m),0);return f===0?l.map(d=>1/c):l.map(d=>d/f)}t.normalize=o;function u(l){l.parent&&l.parent.layout instanceof SplitLayout$2&&l.parent.fit()}})(Private$h$2||(Private$h$2={}));let AccordionLayout$2=class extends SplitLayout$2{constructor(e){super({...e,orientation:e.orientation||"vertical"}),this._titles=[],this.titleSpace=e.titleSpace||22}get titleSpace(){return this.widgetOffset}set titleSpace(e){e=Utils$1$2.clampDimension(e),this.widgetOffset!==e&&(this.widgetOffset=e,this.parent&&this.parent.fit())}get titles(){return this._titles}dispose(){this.isDisposed||(this._titles.length=0,super.dispose())}updateTitle(e,n){const i=this._titles[e],o=i.classList.contains("lm-mod-expanded"),u=Private$g$2.createTitle(this.renderer,n.title,o);this._titles[e]=u,this.parent.node.replaceChild(u,i)}insertWidget(e,n){n.id||(n.id=`id-${UUID$2.uuid4()}`),super.insertWidget(e,n)}attachWidget(e,n){const i=Private$g$2.createTitle(this.renderer,n.title);ArrayExt$4.insert(this._titles,e,i),this.parent.node.appendChild(i),n.node.setAttribute("role","region"),n.node.setAttribute("aria-labelledby",i.id),super.attachWidget(e,n)}moveWidget(e,n,i){ArrayExt$4.move(this._titles,e,n),super.moveWidget(e,n,i)}detachWidget(e,n){const i=ArrayExt$4.removeAt(this._titles,e);this.parent.node.removeChild(i),super.detachWidget(e,n)}updateItemPosition(e,n,i,o,u,l,c){const f=this._titles[e].style;f.top=`${o}px`,f.left=`${i}px`,f.height=`${this.widgetOffset}px`,n?f.width=`${u}px`:f.width=`${l}px`,super.updateItemPosition(e,n,i,o,u,l,c)}};var Private$g$2;(function(t){function e(n,i,o=!0){const u=n.createSectionTitle(i);return u.style.position="absolute",u.style.contain="strict",u.setAttribute("aria-label",`${i.label} Section`),u.setAttribute("aria-expanded",o?"true":"false"),u.setAttribute("aria-controls",i.owner.id),o&&u.classList.add("lm-mod-expanded"),u}t.createTitle=e})(Private$g$2||(Private$g$2={}));let Panel$2=class extends Widget$2{constructor(e={}){super(),this.addClass("lm-Panel"),this.layout=Private$f$2.createLayout(e)}get widgets(){return this.layout.widgets}addWidget(e){this.layout.addWidget(e)}insertWidget(e,n){this.layout.insertWidget(e,n)}};var Private$f$2;(function(t){function e(n){return n.layout||new PanelLayout$2}t.createLayout=e})(Private$f$2||(Private$f$2={}));let SplitPanel$2=class extends Panel$2{constructor(e={}){super({layout:Private$e$2.createLayout(e)}),this._handleMoved=new Signal$2(this),this._pressData=null,this.addClass("lm-SplitPanel")}dispose(){this._releaseMouse(),super.dispose()}get orientation(){return this.layout.orientation}set orientation(e){this.layout.orientation=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get renderer(){return this.layout.renderer}get handleMoved(){return this._handleMoved}get handles(){return this.layout.handles}relativeSizes(){return this.layout.relativeSizes()}setRelativeSizes(e,n=!0){this.layout.setRelativeSizes(e,n)}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){e.child.addClass("lm-SplitPanel-child"),this._releaseMouse()}onChildRemoved(e){e.child.removeClass("lm-SplitPanel-child"),this._releaseMouse()}_evtKeyDown(e){this._pressData&&(e.preventDefault(),e.stopPropagation()),e.keyCode===27&&this._releaseMouse()}_evtPointerDown(e){if(e.button!==0)return;let n=this.layout,i=ArrayExt$4.findFirstIndex(n.handles,d=>d.contains(e.target));if(i===-1)return;e.preventDefault(),e.stopPropagation(),document.addEventListener("pointerup",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0);let o,u=n.handles[i],l=u.getBoundingClientRect();n.orientation==="horizontal"?o=e.clientX-l.left:o=e.clientY-l.top;let c=window.getComputedStyle(u),f=Drag$2.overrideCursor(c.cursor);this._pressData={index:i,delta:o,override:f}}_evtPointerMove(e){e.preventDefault(),e.stopPropagation();let n,i=this.layout,o=this.node.getBoundingClientRect();i.orientation==="horizontal"?n=e.clientX-o.left-this._pressData.delta:n=e.clientY-o.top-this._pressData.delta,i.moveHandle(this._pressData.index,n)}_evtPointerUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse())}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._handleMoved.emit(),document.removeEventListener("keydown",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("contextmenu",this,!0))}};(function(t){class e{createHandle(){let u=document.createElement("div");return u.className="lm-SplitPanel-handle",u}}t.Renderer=e,t.defaultRenderer=new e;function n(o){return SplitLayout$2.getStretch(o)}t.getStretch=n;function i(o,u){SplitLayout$2.setStretch(o,u)}t.setStretch=i})(SplitPanel$2||(SplitPanel$2={}));var Private$e$2;(function(t){function e(n){return n.layout||new SplitLayout$2({renderer:n.renderer||SplitPanel$2.defaultRenderer,orientation:n.orientation,alignment:n.alignment,spacing:n.spacing})}t.createLayout=e})(Private$e$2||(Private$e$2={}));let AccordionPanel$2=class extends SplitPanel$2{constructor(e={}){super({...e,layout:Private$d$2.createLayout(e)}),this._widgetSizesCache=new WeakMap,this._expansionToggled=new Signal$2(this),this.addClass("lm-AccordionPanel")}get renderer(){return this.layout.renderer}get titleSpace(){return this.layout.titleSpace}set titleSpace(e){this.layout.titleSpace=e}get titles(){return this.layout.titles}get expansionToggled(){return this._expansionToggled}addWidget(e){super.addWidget(e),e.title.changed.connect(this._onTitleChanged,this)}collapse(e){const n=this.layout.widgets[e];n&&!n.isHidden&&this._toggleExpansion(e)}expand(e){const n=this.layout.widgets[e];n&&n.isHidden&&this._toggleExpansion(e)}insertWidget(e,n){super.insertWidget(e,n),n.title.changed.connect(this._onTitleChanged,this)}handleEvent(e){switch(super.handleEvent(e),e.type){case"click":this._evtClick(e);break;case"keydown":this._eventKeyDown(e);break}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),super.onBeforeAttach(e)}onAfterDetach(e){super.onAfterDetach(e),this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this)}_onTitleChanged(e){const n=ArrayExt$4.findFirstIndex(this.widgets,i=>i.contains(e.owner));n>=0&&(this.layout.updateTitle(n,e.owner),this.update())}_computeWidgetSize(e){const n=this.layout,i=n.widgets[e];if(!i)return;const o=i.isHidden,u=n.absoluteSizes(),l=(o?-1:1)*this.spacing,c=u.reduce((d,m)=>d+m);let f=[...u];if(o){const d=this._widgetSizesCache.get(i);if(!d)return;f[e]+=d;const m=f.map(g=>g-d>0).lastIndexOf(!0);m===-1?f.forEach((g,v)=>{v!==e&&(f[v]-=u[v]/c*(d-l))}):f[m]-=d-l}else{const d=u[e];this._widgetSizesCache.set(i,d),f[e]=0;const m=f.map(g=>g>0).lastIndexOf(!0);if(m===-1)return;f[m]=u[m]+d+l}return f.map(d=>d/(c+l))}_evtClick(e){const n=e.target;if(n){const i=ArrayExt$4.findFirstIndex(this.titles,o=>o.contains(n));i>=0&&(e.preventDefault(),e.stopPropagation(),this._toggleExpansion(i))}}_eventKeyDown(e){if(e.defaultPrevented)return;const n=e.target;let i=!1;if(n){const o=ArrayExt$4.findFirstIndex(this.titles,u=>u.contains(n));if(o>=0){const u=e.keyCode.toString();if(e.key.match(/Space|Enter/)||u.match(/13|32/))n.click(),i=!0;else if(this.orientation==="horizontal"?e.key.match(/ArrowLeft|ArrowRight/)||u.match(/37|39/):e.key.match(/ArrowUp|ArrowDown/)||u.match(/38|40/)){const l=e.key.match(/ArrowLeft|ArrowUp/)||u.match(/37|38/)?-1:1,c=this.titles.length,f=(o+c+l)%c;this.titles[f].focus(),i=!0}else e.key==="End"||u==="35"?(this.titles[this.titles.length-1].focus(),i=!0):(e.key==="Home"||u==="36")&&(this.titles[0].focus(),i=!0)}i&&e.preventDefault()}}_toggleExpansion(e){const n=this.titles[e],i=this.layout.widgets[e],o=this._computeWidgetSize(e);o&&this.setRelativeSizes(o,!1),i.isHidden?(n.classList.add("lm-mod-expanded"),n.setAttribute("aria-expanded","true"),i.show()):(n.classList.remove("lm-mod-expanded"),n.setAttribute("aria-expanded","false"),i.hide()),this._expansionToggled.emit(e)}};(function(t){class e extends SplitPanel$2.Renderer{constructor(){super(),this.titleClassName="lm-AccordionPanel-title",this._titleID=0,this._titleKeys=new WeakMap,this._uuid=++e._nInstance}createCollapseIcon(i){return document.createElement("span")}createSectionTitle(i){const o=document.createElement("h3");o.setAttribute("tabindex","0"),o.id=this.createTitleKey(i),o.className=this.titleClassName;for(const c in i.dataset)o.dataset[c]=i.dataset[c];const u=o.appendChild(this.createCollapseIcon(i));u.className="lm-AccordionPanel-titleCollapser";const l=o.appendChild(document.createElement("span"));return l.className="lm-AccordionPanel-titleLabel",l.textContent=i.label,l.title=i.caption||i.label,o}createTitleKey(i){let o=this._titleKeys.get(i);return o===void 0&&(o=`title-key-${this._uuid}-${this._titleID++}`,this._titleKeys.set(i,o)),o}}e._nInstance=0,t.Renderer=e,t.defaultRenderer=new e})(AccordionPanel$2||(AccordionPanel$2={}));var Private$d$2;(function(t){function e(n){return n.layout||new AccordionLayout$2({renderer:n.renderer||AccordionPanel$2.defaultRenderer,orientation:n.orientation,alignment:n.alignment,spacing:n.spacing,titleSpace:n.titleSpace})}t.createLayout=e})(Private$d$2||(Private$d$2={}));let BoxLayout$2=class rd extends PanelLayout$2{constructor(e={}){super(),this._fixed=0,this._spacing=4,this._dirty=!1,this._sizers=[],this._items=[],this._box=null,this._alignment="start",this._direction="top-to-bottom",e.direction!==void 0&&(this._direction=e.direction),e.alignment!==void 0&&(this._alignment=e.alignment),e.spacing!==void 0&&(this._spacing=Utils$1$2.clampDimension(e.spacing))}dispose(){for(const e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,super.dispose()}get direction(){return this._direction}set direction(e){this._direction!==e&&(this._direction=e,this.parent&&(this.parent.dataset.direction=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=Utils$1$2.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}init(){this.parent.dataset.direction=this.direction,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,n){ArrayExt$4.insert(this._items,e,new LayoutItem$2(n)),ArrayExt$4.insert(this._sizers,e,new BoxSizer$2),this.parent.isAttached&&MessageLoop$2.sendMessage(n,Widget$2.Msg.BeforeAttach),this.parent.node.appendChild(n.node),this.parent.isAttached&&MessageLoop$2.sendMessage(n,Widget$2.Msg.AfterAttach),this.parent.fit()}moveWidget(e,n,i){ArrayExt$4.move(this._items,e,n),ArrayExt$4.move(this._sizers,e,n),this.parent.update()}detachWidget(e,n){let i=ArrayExt$4.removeAt(this._items,e);ArrayExt$4.removeAt(this._sizers,e),this.parent.isAttached&&MessageLoop$2.sendMessage(n,Widget$2.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.isAttached&&MessageLoop$2.sendMessage(n,Widget$2.Msg.AfterDetach),i.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0;for(let c=0,f=this._items.length;c<f;++c)e+=+!this._items[c].isHidden;this._fixed=this._spacing*Math.max(0,e-1);let n=Private$c$2.isHorizontal(this._direction),i=n?this._fixed:0,o=n?0:this._fixed;for(let c=0,f=this._items.length;c<f;++c){let d=this._items[c],m=this._sizers[c];if(d.isHidden){m.minSize=0,m.maxSize=0;continue}d.fit(),m.sizeHint=rd.getSizeBasis(d.widget),m.stretch=rd.getStretch(d.widget),n?(m.minSize=d.minWidth,m.maxSize=d.maxWidth,i+=d.minWidth,o=Math.max(o,d.minHeight)):(m.minSize=d.minHeight,m.maxSize=d.maxHeight,o+=d.minHeight,i=Math.max(i,d.minWidth))}let u=this._box=ElementExt$1.boxSizing(this.parent.node);i+=u.horizontalSum,o+=u.verticalSum;let l=this.parent.node.style;l.minWidth=`${i}px`,l.minHeight=`${o}px`,this._dirty=!0,this.parent.parent&&MessageLoop$2.sendMessage(this.parent.parent,Widget$2.Msg.FitRequest),this._dirty&&MessageLoop$2.sendMessage(this.parent,Widget$2.Msg.UpdateRequest)}_update(e,n){this._dirty=!1;let i=0;for(let g=0,v=this._items.length;g<v;++g)i+=+!this._items[g].isHidden;if(i===0)return;e<0&&(e=this.parent.node.offsetWidth),n<0&&(n=this.parent.node.offsetHeight),this._box||(this._box=ElementExt$1.boxSizing(this.parent.node));let o=this._box.paddingTop,u=this._box.paddingLeft,l=e-this._box.horizontalSum,c=n-this._box.verticalSum,f;switch(this._direction){case"left-to-right":f=BoxEngine$2.calc(this._sizers,Math.max(0,l-this._fixed));break;case"top-to-bottom":f=BoxEngine$2.calc(this._sizers,Math.max(0,c-this._fixed));break;case"right-to-left":f=BoxEngine$2.calc(this._sizers,Math.max(0,l-this._fixed)),u+=l;break;case"bottom-to-top":f=BoxEngine$2.calc(this._sizers,Math.max(0,c-this._fixed)),o+=c;break;default:throw"unreachable"}let d=0,m=0;if(f>0)switch(this._alignment){case"start":break;case"center":d=0,m=f/2;break;case"end":d=0,m=f;break;case"justify":d=f/i,m=0;break;default:throw"unreachable"}for(let g=0,v=this._items.length;g<v;++g){let y=this._items[g];if(y.isHidden)continue;let w=this._sizers[g].size;switch(this._direction){case"left-to-right":y.update(u+m,o,w+d,c),u+=w+d+this._spacing;break;case"top-to-bottom":y.update(u,o+m,l,w+d),o+=w+d+this._spacing;break;case"right-to-left":y.update(u-m-w-d,o,w+d,c),u-=w+d+this._spacing;break;case"bottom-to-top":y.update(u,o-m-w-d,l,w+d),o-=w+d+this._spacing;break;default:throw"unreachable"}}}};(function(t){function e(u){return Private$c$2.stretchProperty.get(u)}t.getStretch=e;function n(u,l){Private$c$2.stretchProperty.set(u,l)}t.setStretch=n;function i(u){return Private$c$2.sizeBasisProperty.get(u)}t.getSizeBasis=i;function o(u,l){Private$c$2.sizeBasisProperty.set(u,l)}t.setSizeBasis=o})(BoxLayout$2||(BoxLayout$2={}));var Private$c$2;(function(t){t.stretchProperty=new AttachedProperty$2({name:"stretch",create:()=>0,coerce:(o,u)=>Math.max(0,Math.floor(u)),changed:i}),t.sizeBasisProperty=new AttachedProperty$2({name:"sizeBasis",create:()=>0,coerce:(o,u)=>Math.max(0,Math.floor(u)),changed:i});function e(o){return o==="left-to-right"||o==="right-to-left"}t.isHorizontal=e;function n(o){return Math.max(0,Math.floor(o))}t.clampSpacing=n;function i(o){o.parent&&o.parent.layout instanceof BoxLayout$2&&o.parent.fit()}})(Private$c$2||(Private$c$2={}));let BoxPanel$2=class extends Panel$2{constructor(e={}){super({layout:Private$b$2.createLayout(e)}),this.addClass("lm-BoxPanel")}get direction(){return this.layout.direction}set direction(e){this.layout.direction=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}onChildAdded(e){e.child.addClass("lm-BoxPanel-child")}onChildRemoved(e){e.child.removeClass("lm-BoxPanel-child")}};(function(t){function e(u){return BoxLayout$2.getStretch(u)}t.getStretch=e;function n(u,l){BoxLayout$2.setStretch(u,l)}t.setStretch=n;function i(u){return BoxLayout$2.getSizeBasis(u)}t.getSizeBasis=i;function o(u,l){BoxLayout$2.setSizeBasis(u,l)}t.setSizeBasis=o})(BoxPanel$2||(BoxPanel$2={}));var Private$b$2;(function(t){function e(n){return n.layout||new BoxLayout$2(n)}t.createLayout=e})(Private$b$2||(Private$b$2={}));let CommandPalette$2=class Ep extends Widget$2{constructor(e){super({node:Private$a$2.createNode()}),this._activeIndex=-1,this._items=[],this._results=null,this.addClass("lm-CommandPalette"),this.setFlag(Widget$2.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||Ep.defaultRenderer,this.commands.commandChanged.connect(this._onGenericChange,this),this.commands.keyBindingChanged.connect(this._onGenericChange,this)}dispose(){this._items.length=0,this._results=null,super.dispose()}get searchNode(){return this.node.getElementsByClassName("lm-CommandPalette-search")[0]}get inputNode(){return this.node.getElementsByClassName("lm-CommandPalette-input")[0]}get contentNode(){return this.node.getElementsByClassName("lm-CommandPalette-content")[0]}get items(){return this._items}addItem(e){let n=Private$a$2.createItem(this.commands,e);return this._items.push(n),this.refresh(),n}addItems(e){const n=e.map(i=>Private$a$2.createItem(this.commands,i));return n.forEach(i=>this._items.push(i)),this.refresh(),n}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){ArrayExt$4.removeAt(this._items,e)&&this.refresh()}clearItems(){this._items.length!==0&&(this._items.length=0,this.refresh())}refresh(){if(this._results=null,this.inputNode.value!==""){let e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="inherit"}else{let e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="none"}this.update()}handleEvent(e){switch(e.type){case"click":this._evtClick(e);break;case"keydown":this._evtKeyDown(e);break;case"input":this.refresh();break;case"focus":case"blur":this._toggleFocused();break}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),this.node.addEventListener("input",this),this.node.addEventListener("focus",this,!0),this.node.addEventListener("blur",this,!0)}onAfterDetach(e){this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this),this.node.removeEventListener("input",this),this.node.removeEventListener("focus",this,!0),this.node.removeEventListener("blur",this,!0)}onAfterShow(e){this.update(),super.onAfterShow(e)}onActivateRequest(e){if(this.isAttached){let n=this.inputNode;n.focus(),n.select()}}onUpdateRequest(e){if(!this.isVisible){VirtualDOM$1.render(null,this.contentNode);return}let n=this.inputNode.value,i=this.contentNode,o=this._results;if(o||(o=this._results=Private$a$2.search(this._items,n),this._activeIndex=n?ArrayExt$4.findFirstIndex(o,Private$a$2.canActivate):-1),!n&&o.length===0){VirtualDOM$1.render(null,i);return}if(n&&o.length===0){let f=this.renderer.renderEmptyMessage({query:n});VirtualDOM$1.render(f,i);return}let u=this.renderer,l=this._activeIndex,c=new Array(o.length);for(let f=0,d=o.length;f<d;++f){let m=o[f];if(m.type==="header"){let g=m.indices,v=m.category;c[f]=u.renderHeader({category:v,indices:g})}else{let g=m.item,v=m.indices,y=f===l;c[f]=u.renderItem({item:g,indices:v,active:y})}}if(VirtualDOM$1.render(c,i),l<0||l>=o.length)i.scrollTop=0;else{let f=i.children[l];ElementExt$1.scrollIntoViewIfNeeded(i,f)}}_evtClick(e){if(e.button!==0)return;if(e.target.classList.contains("lm-close-icon")){this.inputNode.value="",this.refresh();return}let n=ArrayExt$4.findFirstIndex(this.contentNode.children,i=>i.contains(e.target));n!==-1&&(e.preventDefault(),e.stopPropagation(),this._execute(n))}_evtKeyDown(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey))switch(e.keyCode){case 13:e.preventDefault(),e.stopPropagation(),this._execute(this._activeIndex);break;case 38:e.preventDefault(),e.stopPropagation(),this._activatePreviousItem();break;case 40:e.preventDefault(),e.stopPropagation(),this._activateNextItem();break}}_activateNextItem(){if(!this._results||this._results.length===0)return;let e=this._activeIndex,n=this._results.length,i=e<n-1?e+1:0,o=i===0?n-1:i-1;this._activeIndex=ArrayExt$4.findFirstIndex(this._results,Private$a$2.canActivate,i,o),this.update()}_activatePreviousItem(){if(!this._results||this._results.length===0)return;let e=this._activeIndex,n=this._results.length,i=e<=0?n-1:e-1,o=i===n-1?0:i+1;this._activeIndex=ArrayExt$4.findLastIndex(this._results,Private$a$2.canActivate,i,o),this.update()}_execute(e){if(!this._results)return;let n=this._results[e];if(n){if(n.type==="header"){let i=this.inputNode;i.value=`${n.category.toLowerCase()} `,i.focus(),this.refresh();return}n.item.isEnabled&&(this.commands.execute(n.item.command,n.item.args),this.inputNode.value="",this.refresh())}}_toggleFocused(){let e=document.activeElement===this.inputNode;this.toggleClass("lm-mod-focused",e)}_onGenericChange(){this.refresh()}};(function(t){class e{renderHeader(i){let o=this.formatHeader(i);return h$2.li({className:"lm-CommandPalette-header"},o)}renderItem(i){let o=this.createItemClass(i),u=this.createItemDataset(i);return i.item.isToggleable?h$2.li({className:o,dataset:u,role:"menuitemcheckbox","aria-checked":`${i.item.isToggled}`},this.renderItemIcon(i),this.renderItemContent(i),this.renderItemShortcut(i)):h$2.li({className:o,dataset:u,role:"menuitem"},this.renderItemIcon(i),this.renderItemContent(i),this.renderItemShortcut(i))}renderEmptyMessage(i){let o=this.formatEmptyMessage(i);return h$2.li({className:"lm-CommandPalette-emptyMessage"},o)}renderItemIcon(i){let o=this.createIconClass(i);return h$2.div({className:o},i.item.icon,i.item.iconLabel)}renderItemContent(i){return h$2.div({className:"lm-CommandPalette-itemContent"},this.renderItemLabel(i),this.renderItemCaption(i))}renderItemLabel(i){let o=this.formatItemLabel(i);return h$2.div({className:"lm-CommandPalette-itemLabel"},o)}renderItemCaption(i){let o=this.formatItemCaption(i);return h$2.div({className:"lm-CommandPalette-itemCaption"},o)}renderItemShortcut(i){let o=this.formatItemShortcut(i);return h$2.div({className:"lm-CommandPalette-itemShortcut"},o)}createItemClass(i){let o="lm-CommandPalette-item";i.item.isEnabled||(o+=" lm-mod-disabled"),i.item.isToggled&&(o+=" lm-mod-toggled"),i.active&&(o+=" lm-mod-active");let u=i.item.className;return u&&(o+=` ${u}`),o}createItemDataset(i){return{...i.item.dataset,command:i.item.command}}createIconClass(i){let o="lm-CommandPalette-itemIcon",u=i.item.iconClass;return u?`${o} ${u}`:o}formatHeader(i){return!i.indices||i.indices.length===0?i.category:StringExt$4.highlight(i.category,i.indices,h$2.mark)}formatEmptyMessage(i){return`No commands found that match '${i.query}'`}formatItemShortcut(i){let o=i.item.keyBinding;return o?CommandRegistry$1.formatKeystroke(o.keys):null}formatItemLabel(i){return!i.indices||i.indices.length===0?i.item.label:StringExt$4.highlight(i.item.label,i.indices,h$2.mark)}formatItemCaption(i){return i.item.caption}}t.Renderer=e,t.defaultRenderer=new e})(CommandPalette$2||(CommandPalette$2={}));var Private$a$2;(function(t){function e(){let v=document.createElement("div"),y=document.createElement("div"),w=document.createElement("div"),T=document.createElement("input"),P=document.createElement("ul"),A=document.createElement("button");return y.className="lm-CommandPalette-search",w.className="lm-CommandPalette-wrapper",T.className="lm-CommandPalette-input",A.className="lm-close-icon",P.className="lm-CommandPalette-content",P.setAttribute("role","menu"),T.spellcheck=!1,w.appendChild(T),w.appendChild(A),y.appendChild(w),v.appendChild(y),v.appendChild(P),v}t.createNode=e;function n(v,y){return new g(v,y)}t.createItem=n;function i(v,y){let w=c(v,y);return w.sort(d),m(w)}t.search=i;function o(v){return v.type==="item"&&v.item.isEnabled}t.canActivate=o;function u(v){return v.trim().replace(/\s+/g," ")}function l(v){return v.replace(/\s+/g,"").toLowerCase()}function c(v,y){y=l(y);let w=[];for(let T=0,P=v.length;T<P;++T){let A=v[T];if(!A.isVisible)continue;if(!y){w.push({matchType:3,categoryIndices:null,labelIndices:null,score:0,item:A});continue}let D=f(A,y);D&&(A.isEnabled||(D.score+=1e3),w.push(D))}return w}function f(v,y){let w=v.category.toLowerCase(),T=v.label.toLowerCase(),P=`${w} ${T}`,A=1/0,D=null,k=/\b\w/g;for(;;){let G=k.exec(P);if(!G)break;let F=StringExt$4.matchSumOfDeltas(P,y,G.index);if(!F)break;F.score<=A&&(A=F.score,D=F.indices)}if(!D||A===1/0)return null;let j=w.length+1,B=ArrayExt$4.lowerBound(D,j,(G,F)=>G-F),Z=D.slice(0,B),R=D.slice(B);for(let G=0,F=R.length;G<F;++G)R[G]-=j;return Z.length===0?{matchType:0,categoryIndices:null,labelIndices:R,score:A,item:v}:R.length===0?{matchType:1,categoryIndices:Z,labelIndices:null,score:A,item:v}:{matchType:2,categoryIndices:Z,labelIndices:R,score:A,item:v}}function d(v,y){let w=v.matchType-y.matchType;if(w!==0)return w;let T=v.score-y.score;if(T!==0)return T;let P=0,A=0;switch(v.matchType){case 0:P=v.labelIndices[0],A=y.labelIndices[0];break;case 1:case 2:P=v.categoryIndices[0],A=y.categoryIndices[0];break}if(P!==A)return P-A;let D=v.item.category.localeCompare(y.item.category);if(D!==0)return D;let k=v.item.rank,j=y.item.rank;return k!==j?k<j?-1:1:v.item.label.localeCompare(y.item.label)}function m(v){let y=[];for(let w=0,T=v.length;w<T;++w){let{item:P,categoryIndices:A,labelIndices:D}=v[w],k=P.category;(w===0||k!==v[w-1].item.category)&&y.push({type:"header",category:k,indices:A}),y.push({type:"item",item:P,indices:D})}return y}class g{constructor(y,w){this._commands=y,this.category=u(w.category),this.command=w.command,this.args=w.args||JSONExt$2.emptyObject,this.rank=w.rank!==void 0?w.rank:1/0}get label(){return this._commands.label(this.command,this.args)}get icon(){return this._commands.icon(this.command,this.args)}get iconClass(){return this._commands.iconClass(this.command,this.args)}get iconLabel(){return this._commands.iconLabel(this.command,this.args)}get caption(){return this._commands.caption(this.command,this.args)}get className(){return this._commands.className(this.command,this.args)}get dataset(){return this._commands.dataset(this.command,this.args)}get isEnabled(){return this._commands.isEnabled(this.command,this.args)}get isToggled(){return this._commands.isToggled(this.command,this.args)}get isToggleable(){return this._commands.isToggleable(this.command,this.args)}get isVisible(){return this._commands.isVisible(this.command,this.args)}get keyBinding(){let{command:y,args:w}=this;return ArrayExt$4.findLastValue(this._commands.keyBindings,T=>T.command===y&&JSONExt$2.deepEqual(T.args,w))||null}}})(Private$a$2||(Private$a$2={}));let Menu$2=class nd extends Widget$2{constructor(e){super({node:Private$9$2.createNode()}),this._childIndex=-1,this._activeIndex=-1,this._openTimerID=0,this._closeTimerID=0,this._items=[],this._childMenu=null,this._parentMenu=null,this._aboutToClose=new Signal$2(this),this._menuRequested=new Signal$2(this),this.addClass("lm-Menu"),this.setFlag(Widget$2.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||nd.defaultRenderer}dispose(){this.close(),this._items.length=0,super.dispose()}get aboutToClose(){return this._aboutToClose}get menuRequested(){return this._menuRequested}get parentMenu(){return this._parentMenu}get childMenu(){return this._childMenu}get rootMenu(){let e=this;for(;e._parentMenu;)e=e._parentMenu;return e}get leafMenu(){let e=this;for(;e._childMenu;)e=e._childMenu;return e}get contentNode(){return this.node.getElementsByClassName("lm-Menu-content")[0]}get activeItem(){return this._items[this._activeIndex]||null}set activeItem(e){this.activeIndex=e?this._items.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._items.length)&&(e=-1),e!==-1&&!Private$9$2.canActivate(this._items[e])&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this._activeIndex>=0&&this.contentNode.childNodes[this._activeIndex]&&this.contentNode.childNodes[this._activeIndex].focus(),this.update())}get items(){return this._items}activateNextItem(){let e=this._items.length,n=this._activeIndex,i=n<e-1?n+1:0,o=i===0?e-1:i-1;this.activeIndex=ArrayExt$4.findFirstIndex(this._items,Private$9$2.canActivate,i,o)}activatePreviousItem(){let e=this._items.length,n=this._activeIndex,i=n<=0?e-1:n-1,o=i===e-1?0:i+1;this.activeIndex=ArrayExt$4.findLastIndex(this._items,Private$9$2.canActivate,i,o)}triggerActiveItem(){if(!this.isAttached)return;let e=this.activeItem;if(!e)return;if(this._cancelOpenTimer(),this._cancelCloseTimer(),e.type==="submenu"){this._openChildMenu(!0);return}this.rootMenu.close();let{command:n,args:i}=e;this.commands.isEnabled(n,i)?this.commands.execute(n,i):console.log(`Command '${n}' is disabled.`)}addItem(e){return this.insertItem(this._items.length,e)}insertItem(e,n){this.isAttached&&this.close(),this.activeIndex=-1;let i=Math.max(0,Math.min(e,this._items.length)),o=Private$9$2.createItem(this,n);return ArrayExt$4.insert(this._items,i,o),this.update(),o}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){this.isAttached&&this.close(),this.activeIndex=-1,ArrayExt$4.removeAt(this._items,e)&&this.update()}clearItems(){this.isAttached&&this.close(),this.activeIndex=-1,this._items.length!==0&&(this._items.length=0,this.update())}open(e,n,i={}){var o,u,l;if(this.isAttached)return;let c=i.forceX||!1,f=i.forceY||!1;const d=(o=i.host)!==null&&o!==void 0?o:null,m=(u=i.ref)!==null&&u!==void 0?u:null,g=(l=i.horizontalAlignment)!==null&&l!==void 0?l:document.documentElement.dir==="rtl"?"right":"left";Private$9$2.openRootMenu(this,e,n,c,f,g,d,m),this.activate()}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mouseup":this._evtMouseUp(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseenter":this._evtMouseEnter(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"mousedown":this._evtMouseDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mouseup",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseenter",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this),document.addEventListener("mousedown",this,!0)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mouseup",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseenter",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),document.removeEventListener("mousedown",this,!0)}onActivateRequest(e){this.isAttached&&this.node.focus()}onUpdateRequest(e){let n=this._items,i=this.renderer,o=this._activeIndex,u=Private$9$2.computeCollapsed(n),l=new Array(n.length);for(let c=0,f=n.length;c<f;++c){let d=n[c],m=c===o,g=u[c];l[c]=i.renderItem({item:d,active:m,collapsed:g,onfocus:()=>{this.activeIndex=c}})}VirtualDOM$1.render(l,this.contentNode)}onCloseRequest(e){this._cancelOpenTimer(),this._cancelCloseTimer(),this.activeIndex=-1;let n=this._childMenu;n&&(this._childIndex=-1,this._childMenu=null,n._parentMenu=null,n.close());let i=this._parentMenu;i&&(this._parentMenu=null,i._childIndex=-1,i._childMenu=null,i.activate()),this.isAttached&&this._aboutToClose.emit(void 0),super.onCloseRequest(e)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation();let n=e.keyCode;if(n===13){this.triggerActiveItem();return}if(n===27){this.close();return}if(n===37){this._parentMenu?this.close():this._menuRequested.emit("previous");return}if(n===38){this.activatePreviousItem();return}if(n===39){let l=this.activeItem;l&&l.type==="submenu"?this.triggerActiveItem():this.rootMenu._menuRequested.emit("next");return}if(n===40){this.activateNextItem();return}let i=getKeyboardLayout$1().keyForKeydownEvent(e);if(!i)return;let o=this._activeIndex+1,u=Private$9$2.findMnemonic(this._items,i,o);u.index!==-1&&!u.multiple?(this.activeIndex=u.index,this.triggerActiveItem()):u.index!==-1?this.activeIndex=u.index:u.auto!==-1&&(this.activeIndex=u.auto)}_evtMouseUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this.triggerActiveItem())}_evtMouseMove(e){let n=ArrayExt$4.findFirstIndex(this.contentNode.children,o=>ElementExt$1.hitTest(o,e.clientX,e.clientY));if(n===this._activeIndex)return;if(this.activeIndex=n,n=this.activeIndex,n===this._childIndex){this._cancelOpenTimer(),this._cancelCloseTimer();return}this._childIndex!==-1&&this._startCloseTimer(),this._cancelOpenTimer();let i=this.activeItem;!i||i.type!=="submenu"||!i.submenu||this._startOpenTimer()}_evtMouseEnter(e){for(let n=this._parentMenu;n;n=n._parentMenu)n._cancelOpenTimer(),n._cancelCloseTimer(),n.activeIndex=n._childIndex}_evtMouseLeave(e){if(this._cancelOpenTimer(),!this._childMenu){this.activeIndex=-1;return}let{clientX:n,clientY:i}=e;if(ElementExt$1.hitTest(this._childMenu.node,n,i)){this._cancelCloseTimer();return}this.activeIndex=-1,this._startCloseTimer()}_evtMouseDown(e){this._parentMenu||(Private$9$2.hitTestMenus(this,e.clientX,e.clientY)?(e.preventDefault(),e.stopPropagation()):this.close())}_openChildMenu(e=!1){let n=this.activeItem;if(!n||n.type!=="submenu"||!n.submenu){this._closeChildMenu();return}let i=n.submenu;if(i===this._childMenu)return;nd.saveWindowData(),this._closeChildMenu(),this._childMenu=i,this._childIndex=this._activeIndex,i._parentMenu=this,MessageLoop$2.sendMessage(this,Widget$2.Msg.UpdateRequest);let o=this.contentNode.children[this._activeIndex];Private$9$2.openSubmenu(i,o),e&&(i.activeIndex=-1,i.activateNextItem()),i.activate()}_closeChildMenu(){this._childMenu&&this._childMenu.close()}_startOpenTimer(){this._openTimerID===0&&(this._openTimerID=window.setTimeout(()=>{this._openTimerID=0,this._openChildMenu()},Private$9$2.TIMER_DELAY))}_startCloseTimer(){this._closeTimerID===0&&(this._closeTimerID=window.setTimeout(()=>{this._closeTimerID=0,this._closeChildMenu()},Private$9$2.TIMER_DELAY))}_cancelOpenTimer(){this._openTimerID!==0&&(clearTimeout(this._openTimerID),this._openTimerID=0)}_cancelCloseTimer(){this._closeTimerID!==0&&(clearTimeout(this._closeTimerID),this._closeTimerID=0)}static saveWindowData(){Private$9$2.saveWindowData()}};(function(t){class e{renderItem(i){let o=this.createItemClass(i),u=this.createItemDataset(i),l=this.createItemARIA(i);return h$2.li({className:o,dataset:u,tabindex:"0",onfocus:i.onfocus,...l},this.renderIcon(i),this.renderLabel(i),this.renderShortcut(i),this.renderSubmenu(i))}renderIcon(i){let o=this.createIconClass(i);return h$2.div({className:o},i.item.icon,i.item.iconLabel)}renderLabel(i){let o=this.formatLabel(i);return h$2.div({className:"lm-Menu-itemLabel"},o)}renderShortcut(i){let o=this.formatShortcut(i);return h$2.div({className:"lm-Menu-itemShortcut"},o)}renderSubmenu(i){return h$2.div({className:"lm-Menu-itemSubmenuIcon"})}createItemClass(i){let o="lm-Menu-item";i.item.isEnabled||(o+=" lm-mod-disabled"),i.item.isToggled&&(o+=" lm-mod-toggled"),i.item.isVisible||(o+=" lm-mod-hidden"),i.active&&(o+=" lm-mod-active"),i.collapsed&&(o+=" lm-mod-collapsed");let u=i.item.className;return u&&(o+=` ${u}`),o}createItemDataset(i){let o,{type:u,command:l,dataset:c}=i.item;return u==="command"?o={...c,type:u,command:l}:o={...c,type:u},o}createIconClass(i){let o="lm-Menu-itemIcon",u=i.item.iconClass;return u?`${o} ${u}`:o}createItemARIA(i){let o={};switch(i.item.type){case"separator":o.role="presentation";break;case"submenu":o["aria-haspopup"]="true",i.item.isEnabled||(o["aria-disabled"]="true");break;default:i.item.isEnabled||(o["aria-disabled"]="true"),i.item.isToggled?(o.role="menuitemcheckbox",o["aria-checked"]="true"):o.role="menuitem"}return o}formatLabel(i){let{label:o,mnemonic:u}=i.item;if(u<0||u>=o.length)return o;let l=o.slice(0,u),c=o.slice(u+1),f=o[u],d=h$2.span({className:"lm-Menu-itemMnemonic"},f);return[l,d,c]}formatShortcut(i){let o=i.item.keyBinding;return o?CommandRegistry$1.formatKeystroke(o.keys):null}}t.Renderer=e,t.defaultRenderer=new e})(Menu$2||(Menu$2={}));var Private$9$2;(function(t){t.TIMER_DELAY=300,t.SUBMENU_OVERLAP=3;let e=null,n=0;function i(){return n>0?(n--,e):m()}function o(){e=m(),n++}t.saveWindowData=o;function u(){let T=document.createElement("div"),P=document.createElement("ul");return P.className="lm-Menu-content",T.appendChild(P),P.setAttribute("role","menu"),T.tabIndex=0,T}t.createNode=u;function l(T){return T.type!=="separator"&&T.isEnabled&&T.isVisible}t.canActivate=l;function c(T,P){return new w(T.commands,P)}t.createItem=c;function f(T,P,A){for(let D=T;D;D=D.childMenu)if(ElementExt$1.hitTest(D.node,P,A))return!0;return!1}t.hitTestMenus=f;function d(T){let P=new Array(T.length);ArrayExt$4.fill(P,!1);let A=0,D=T.length;for(;A<D;++A){let B=T[A];if(B.isVisible){if(B.type!=="separator")break;P[A]=!0}}let k=D-1;for(;k>=0;--k){let B=T[k];if(B.isVisible){if(B.type!=="separator")break;P[k]=!0}}let j=!1;for(;++A<k;){let B=T[A];B.isVisible&&(B.type!=="separator"?j=!1:j?P[A]=!0:j=!0)}return P}t.computeCollapsed=d;function m(){return{pageXOffset:window.pageXOffset,pageYOffset:window.pageYOffset,clientWidth:document.documentElement.clientWidth,clientHeight:document.documentElement.clientHeight}}function g(T,P,A,D,k,j,B,Z){const R=i();let G=R.pageXOffset,F=R.pageYOffset,K=R.clientWidth,Q=R.clientHeight;MessageLoop$2.sendMessage(T,Widget$2.Msg.UpdateRequest);let ie=Q-(k?A:0),te=T.node,oe=te.style;oe.opacity="0",oe.maxHeight=`${ie}px`,Widget$2.attach(T,B||document.body,Z);let{width:le,height:de}=te.getBoundingClientRect();j==="right"&&(P-=le),!D&&P+le>G+K&&(P=G+K-le),!k&&A+de>F+Q&&(A>F+Q?A=F+Q-de:A=A-de),oe.transform=`translate(${Math.max(0,P)}px, ${Math.max(0,A)}px`,oe.opacity="1"}t.openRootMenu=g;function v(T,P){const A=i();let D=A.pageXOffset,k=A.pageYOffset,j=A.clientWidth,B=A.clientHeight;MessageLoop$2.sendMessage(T,Widget$2.Msg.UpdateRequest);let Z=B,R=T.node,G=R.style;G.opacity="0",G.maxHeight=`${Z}px`,Widget$2.attach(T,document.body);let{width:F,height:K}=R.getBoundingClientRect(),Q=ElementExt$1.boxSizing(T.node),ie=P.getBoundingClientRect(),te=ie.right-t.SUBMENU_OVERLAP;te+F>D+j&&(te=ie.left+t.SUBMENU_OVERLAP-F);let oe=ie.top-Q.borderTop-Q.paddingTop;oe+K>k+B&&(oe=ie.bottom+Q.borderBottom+Q.paddingBottom-K),G.transform=`translate(${Math.max(0,te)}px, ${Math.max(0,oe)}px`,G.opacity="1"}t.openSubmenu=v;function y(T,P,A){let D=-1,k=-1,j=!1,B=P.toUpperCase();for(let Z=0,R=T.length;Z<R;++Z){let G=(Z+A)%R,F=T[G];if(!l(F))continue;let K=F.label;if(K.length===0)continue;let Q=F.mnemonic;if(Q>=0&&Q<K.length){K[Q].toUpperCase()===B&&(D===-1?D=G:j=!0);continue}k===-1&&K[0].toUpperCase()===B&&(k=G)}return{index:D,multiple:j,auto:k}}t.findMnemonic=y;class w{constructor(P,A){this._commands=P,this.type=A.type||"command",this.command=A.command||"",this.args=A.args||JSONExt$2.emptyObject,this.submenu=A.submenu||null}get label(){return this.type==="command"?this._commands.label(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.label:""}get mnemonic(){return this.type==="command"?this._commands.mnemonic(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.mnemonic:-1}get icon(){if(this.type==="command")return this._commands.icon(this.command,this.args);if(this.type==="submenu"&&this.submenu)return this.submenu.title.icon}get iconClass(){return this.type==="command"?this._commands.iconClass(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconClass:""}get iconLabel(){return this.type==="command"?this._commands.iconLabel(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconLabel:""}get caption(){return this.type==="command"?this._commands.caption(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.caption:""}get className(){return this.type==="command"?this._commands.className(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.className:""}get dataset(){return this.type==="command"?this._commands.dataset(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.dataset:{}}get isEnabled(){return this.type==="command"?this._commands.isEnabled(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0}get isToggled(){return this.type==="command"?this._commands.isToggled(this.command,this.args):!1}get isVisible(){return this.type==="command"?this._commands.isVisible(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0}get keyBinding(){if(this.type==="command"){let{command:P,args:A}=this;return ArrayExt$4.findLastValue(this._commands.keyBindings,D=>D.command===P&&JSONExt$2.deepEqual(D.args,A))||null}return null}}})(Private$9$2||(Private$9$2={}));var Private$8$2;(function(t){function e(l,c){let f=i(l.selector),d=l.rank!==void 0?l.rank:1/0;return{...l,selector:f,rank:d,id:c}}t.createItem=e;function n(l,c,f,d){let m=c.target;if(!m)return null;let g=c.currentTarget;if(!g||!g.contains(m)&&(m=document.elementFromPoint(c.clientX,c.clientY),!m||!g.contains(m)))return null;let v=[],y=l.slice();for(;m!==null;){let w=[];for(let T=0,P=y.length;T<P;++T){let A=y[T];A&&Selector$1.matches(m,A.selector)&&(w.push(A),y[T]=null)}if(w.length!==0&&(f&&w.sort(d?u:o),v.push(...w)),m===g)break;m=m.parentElement}return f||v.sort(d?u:o),v}t.matchItems=n;function i(l){if(l.indexOf(",")!==-1)throw new Error(`Selector cannot contain commas: ${l}`);if(!Selector$1.isValid(l))throw new Error(`Invalid selector: ${l}`);return l}function o(l,c){let f=l.rank,d=c.rank;return f!==d?f<d?-1:1:l.id-c.id}function u(l,c){let f=Selector$1.calculateSpecificity(l.selector),d=Selector$1.calculateSpecificity(c.selector);return f!==d?d-f:o(l,c)}})(Private$8$2||(Private$8$2={}));const ARROW_KEYS$1=["ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Home","End"];let TabBar$2=class Sp extends Widget$2{constructor(e={}){super({node:Private$7$2.createNode()}),this._currentIndex=-1,this._titles=[],this._titlesEditable=!1,this._previousTitle=null,this._dragData=null,this._addButtonEnabled=!1,this._tabMoved=new Signal$2(this),this._currentChanged=new Signal$2(this),this._addRequested=new Signal$2(this),this._tabCloseRequested=new Signal$2(this),this._tabDetachRequested=new Signal$2(this),this._tabActivateRequested=new Signal$2(this),this.addClass("lm-TabBar"),this.contentNode.setAttribute("role","tablist"),this.setFlag(Widget$2.Flag.DisallowLayout),this._document=e.document||document,this.tabsMovable=e.tabsMovable||!1,this.titlesEditable=e.titlesEditable||!1,this.allowDeselect=e.allowDeselect||!1,this.addButtonEnabled=e.addButtonEnabled||!1,this.insertBehavior=e.insertBehavior||"select-tab-if-needed",this.name=e.name||"",this.orientation=e.orientation||"horizontal",this.removeBehavior=e.removeBehavior||"select-tab-after",this.renderer=e.renderer||Sp.defaultRenderer}dispose(){this._releaseMouse(),this._titles.length=0,this._previousTitle=null,super.dispose()}get currentChanged(){return this._currentChanged}get tabMoved(){return this._tabMoved}get tabActivateRequested(){return this._tabActivateRequested}get addRequested(){return this._addRequested}get tabCloseRequested(){return this._tabCloseRequested}get tabDetachRequested(){return this._tabDetachRequested}get document(){return this._document}get titlesEditable(){return this._titlesEditable}set titlesEditable(e){this._titlesEditable=e}get currentTitle(){return this._titles[this._currentIndex]||null}set currentTitle(e){this.currentIndex=e?this._titles.indexOf(e):-1}get currentIndex(){return this._currentIndex}set currentIndex(e){if((e<0||e>=this._titles.length)&&(e=-1),this._currentIndex===e)return;let n=this._currentIndex,i=this._titles[n]||null,o=e,u=this._titles[o]||null;this._currentIndex=o,this._previousTitle=i,this.update(),this._currentChanged.emit({previousIndex:n,previousTitle:i,currentIndex:o,currentTitle:u})}get name(){return this._name}set name(e){this._name=e,e?this.contentNode.setAttribute("aria-label",e):this.contentNode.removeAttribute("aria-label")}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._releaseMouse(),this._orientation=e,this.dataset.orientation=e,this.contentNode.setAttribute("aria-orientation",e))}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled!==e&&(this._addButtonEnabled=e,e?this.addButtonNode.classList.remove("lm-mod-hidden"):this.addButtonNode.classList.add("lm-mod-hidden"))}get titles(){return this._titles}get contentNode(){return this.node.getElementsByClassName("lm-TabBar-content")[0]}get addButtonNode(){return this.node.getElementsByClassName("lm-TabBar-addButton")[0]}addTab(e){return this.insertTab(this._titles.length,e)}insertTab(e,n){this._releaseMouse();let i=Private$7$2.asTitle(n),o=this._titles.indexOf(i),u=Math.max(0,Math.min(e,this._titles.length));return o===-1?(ArrayExt$4.insert(this._titles,u,i),i.changed.connect(this._onTitleChanged,this),this.update(),this._adjustCurrentForInsert(u,i),i):(u===this._titles.length&&u--,o===u||(ArrayExt$4.move(this._titles,o,u),this.update(),this._adjustCurrentForMove(o,u)),i)}removeTab(e){this.removeTabAt(this._titles.indexOf(e))}removeTabAt(e){this._releaseMouse();let n=ArrayExt$4.removeAt(this._titles,e);n&&(n.changed.disconnect(this._onTitleChanged,this),n===this._previousTitle&&(this._previousTitle=null),this.update(),this._adjustCurrentForRemove(e,n))}clearTabs(){if(this._titles.length===0)return;this._releaseMouse();for(let i of this._titles)i.changed.disconnect(this._onTitleChanged,this);let e=this.currentIndex,n=this.currentTitle;this._currentIndex=-1,this._previousTitle=null,this._titles.length=0,this.update(),e!==-1&&this._currentChanged.emit({previousIndex:e,previousTitle:n,currentIndex:-1,currentTitle:null})}releaseMouse(){this._releaseMouse()}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"dblclick":this._evtDblClick(e);break;case"keydown":e.eventPhase===Event.CAPTURING_PHASE?this._evtKeyDownCapturing(e):this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this),this.node.addEventListener("dblclick",this),this.node.addEventListener("keydown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this.node.removeEventListener("dblclick",this),this.node.removeEventListener("keydown",this),this._releaseMouse()}onUpdateRequest(e){var n;let i=this._titles,o=this.renderer,u=this.currentTitle,l=new Array(i.length);const c=(n=this._getCurrentTabindex())!==null&&n!==void 0?n:this._currentIndex>-1?this._currentIndex:0;for(let f=0,d=i.length;f<d;++f){let m=i[f],g=m===u,v=g?d:d-f-1,y=c===f?0:-1;l[f]=o.renderTab({title:m,current:g,zIndex:v,tabIndex:y})}VirtualDOM$1.render(l,this.contentNode)}_getCurrentTabindex(){let e=null;const n=this.contentNode.querySelector('li[tabindex="0"]');return n?e=[...this.contentNode.children].indexOf(n):this._addButtonEnabled&&this.addButtonNode.getAttribute("tabindex")==="0"&&(e=-1),e}_evtDblClick(e){if(!this.titlesEditable)return;let n=this.contentNode.children,i=ArrayExt$4.findFirstIndex(n,l=>ElementExt$1.hitTest(l,e.clientX,e.clientY));if(i===-1)return;let o=this.titles[i],u=n[i].querySelector(".lm-TabBar-tabLabel");if(u&&u.contains(e.target)){let l=o.label||"",c=u.innerHTML;u.innerHTML="";let f=document.createElement("input");f.classList.add("lm-TabBar-tabInput"),f.value=l,u.appendChild(f);let d=()=>{f.removeEventListener("blur",d),u.innerHTML=c,this.node.addEventListener("keydown",this)};f.addEventListener("dblclick",m=>m.stopPropagation()),f.addEventListener("blur",d),f.addEventListener("keydown",m=>{m.key==="Enter"?(f.value!==""&&(o.label=o.caption=f.value),d()):m.key==="Escape"&&d()}),this.node.removeEventListener("keydown",this),f.select(),f.focus(),u.children.length>0&&u.children[0].focus()}}_evtKeyDownCapturing(e){e.eventPhase===Event.CAPTURING_PHASE&&(e.preventDefault(),e.stopPropagation(),e.key==="Escape"&&this._releaseMouse())}_evtKeyDown(e){var n,i,o;if(!(e.key==="Tab"||e.eventPhase===Event.CAPTURING_PHASE)){if(e.key==="Enter"||e.key==="Spacebar"||e.key===" "){const u=document.activeElement;if(this.addButtonEnabled&&this.addButtonNode.contains(u))e.preventDefault(),e.stopPropagation(),this._addRequested.emit();else{const l=ArrayExt$4.findFirstIndex(this.contentNode.children,c=>c.contains(u));l>=0&&(e.preventDefault(),e.stopPropagation(),this.currentIndex=l)}}else if(ARROW_KEYS$1.includes(e.key)){const u=[...this.contentNode.children];if(this.addButtonEnabled&&u.push(this.addButtonNode),u.length<=1)return;e.preventDefault(),e.stopPropagation();let l=u.indexOf(document.activeElement);l===-1&&(l=this._currentIndex);let c;e.key==="ArrowRight"&&this._orientation==="horizontal"||e.key==="ArrowDown"&&this._orientation==="vertical"?c=(n=u[l+1])!==null&&n!==void 0?n:u[0]:e.key==="ArrowLeft"&&this._orientation==="horizontal"||e.key==="ArrowUp"&&this._orientation==="vertical"?c=(i=u[l-1])!==null&&i!==void 0?i:u[u.length-1]:e.key==="Home"?c=u[0]:e.key==="End"&&(c=u[u.length-1]),c&&((o=u[l])===null||o===void 0||o.setAttribute("tabindex","-1"),c?.setAttribute("tabindex","0"),c.focus())}}}_evtPointerDown(e){if(e.button!==0&&e.button!==1||this._dragData||e.target.classList.contains("lm-TabBar-tabInput"))return;let n=this.addButtonEnabled&&this.addButtonNode.contains(e.target),i=this.contentNode.children,o=ArrayExt$4.findFirstIndex(i,l=>ElementExt$1.hitTest(l,e.clientX,e.clientY));if(o===-1&&!n||(e.preventDefault(),e.stopPropagation(),this._dragData={tab:i[o],index:o,pressX:e.clientX,pressY:e.clientY,tabPos:-1,tabSize:-1,tabPressPos:-1,targetIndex:-1,tabLayout:null,contentRect:null,override:null,dragActive:!1,dragAborted:!1,detachRequested:!1},this.document.addEventListener("pointerup",this,!0),e.button===1||n))return;let u=i[o].querySelector(this.renderer.closeIconSelector);u&&u.contains(e.target)||(this.tabsMovable&&(this.document.addEventListener("pointermove",this,!0),this.document.addEventListener("keydown",this,!0),this.document.addEventListener("contextmenu",this,!0)),this.allowDeselect&&this.currentIndex===o?this.currentIndex=-1:this.currentIndex=o,this.currentIndex!==-1&&this._tabActivateRequested.emit({index:this.currentIndex,title:this.currentTitle}))}_evtPointerMove(e){let n=this._dragData;if(!n)return;e.preventDefault(),e.stopPropagation();let i=this.contentNode.children;if(!(!n.dragActive&&!Private$7$2.dragExceeded(n,e))){if(!n.dragActive){let o=n.tab.getBoundingClientRect();this._orientation==="horizontal"?(n.tabPos=n.tab.offsetLeft,n.tabSize=o.width,n.tabPressPos=n.pressX-o.left):(n.tabPos=n.tab.offsetTop,n.tabSize=o.height,n.tabPressPos=n.pressY-o.top),n.tabPressOffset={x:n.pressX-o.left,y:n.pressY-o.top},n.tabLayout=Private$7$2.snapTabLayout(i,this._orientation),n.contentRect=this.contentNode.getBoundingClientRect(),n.override=Drag$2.overrideCursor("default"),n.tab.classList.add("lm-mod-dragging"),this.addClass("lm-mod-dragging"),n.dragActive=!0}if(!n.detachRequested&&Private$7$2.detachExceeded(n,e)){n.detachRequested=!0;let o=n.index,u=e.clientX,l=e.clientY,c=i[o],f=this._titles[o];if(this._tabDetachRequested.emit({index:o,title:f,tab:c,clientX:u,clientY:l,offset:n.tabPressOffset}),n.dragAborted)return}Private$7$2.layoutTabs(i,n,e,this._orientation)}}_evtPointerUp(e){if(e.button!==0&&e.button!==1)return;const n=this._dragData;if(!n)return;if(e.preventDefault(),e.stopPropagation(),this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),!n.dragActive){if(this._dragData=null,this.addButtonEnabled&&this.addButtonNode.contains(e.target)){this._addRequested.emit(void 0);return}let u=this.contentNode.children,l=ArrayExt$4.findFirstIndex(u,d=>ElementExt$1.hitTest(d,e.clientX,e.clientY));if(l!==n.index)return;let c=this._titles[l];if(!c.closable)return;if(e.button===1){this._tabCloseRequested.emit({index:l,title:c});return}let f=u[l].querySelector(this.renderer.closeIconSelector);if(f&&f.contains(e.target)){this._tabCloseRequested.emit({index:l,title:c});return}return}if(e.button!==0)return;Private$7$2.finalizeTabPosition(n,this._orientation),n.tab.classList.remove("lm-mod-dragging");let i=Private$7$2.parseTransitionDuration(n.tab);setTimeout(()=>{if(n.dragAborted)return;this._dragData=null,Private$7$2.resetTabPositions(this.contentNode.children,this._orientation),n.override.dispose(),this.removeClass("lm-mod-dragging");let o=n.index,u=n.targetIndex;u===-1||o===u||(ArrayExt$4.move(this._titles,o,u),this._adjustCurrentForMove(o,u),this._tabMoved.emit({fromIndex:o,toIndex:u,title:this._titles[u]}),MessageLoop$2.sendMessage(this,Widget$2.Msg.UpdateRequest))},i)}_releaseMouse(){let e=this._dragData;e&&(this._dragData=null,this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),e.dragAborted=!0,e.dragActive&&(Private$7$2.resetTabPositions(this.contentNode.children,this._orientation),e.override.dispose(),e.tab.classList.remove("lm-mod-dragging"),this.removeClass("lm-mod-dragging")))}_adjustCurrentForInsert(e,n){let i=this.currentTitle,o=this._currentIndex,u=this.insertBehavior;if(u==="select-tab"||u==="select-tab-if-needed"&&o===-1){this._currentIndex=e,this._previousTitle=i,this._currentChanged.emit({previousIndex:o,previousTitle:i,currentIndex:e,currentTitle:n});return}o>=e&&this._currentIndex++}_adjustCurrentForMove(e,n){this._currentIndex===e?this._currentIndex=n:this._currentIndex<e&&this._currentIndex>=n?this._currentIndex++:this._currentIndex>e&&this._currentIndex<=n&&this._currentIndex--}_adjustCurrentForRemove(e,n){let i=this._currentIndex,o=this.removeBehavior;if(i!==e){i>e&&this._currentIndex--;return}if(this._titles.length===0){this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:n,currentIndex:-1,currentTitle:null});return}if(o==="select-tab-after"){this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:n,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(o==="select-tab-before"){this._currentIndex=Math.max(0,e-1),this._currentChanged.emit({previousIndex:e,previousTitle:n,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(o==="select-previous-tab"){this._previousTitle?(this._currentIndex=this._titles.indexOf(this._previousTitle),this._previousTitle=null):this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:n,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:n,currentIndex:-1,currentTitle:null})}_onTitleChanged(e){this.update()}};(function(t){class e{constructor(){this.closeIconSelector=".lm-TabBar-tabCloseIcon",this._tabID=0,this._tabKeys=new WeakMap,this._uuid=++e._nInstance}renderTab(i){let o=i.title.caption,u=this.createTabKey(i),l=u,c=this.createTabStyle(i),f=this.createTabClass(i),d=this.createTabDataset(i),m=this.createTabARIA(i);return i.title.closable?h$2.li({id:l,key:u,className:f,title:o,style:c,dataset:d,...m},this.renderIcon(i),this.renderLabel(i),this.renderCloseIcon(i)):h$2.li({id:l,key:u,className:f,title:o,style:c,dataset:d,...m},this.renderIcon(i),this.renderLabel(i))}renderIcon(i){const{title:o}=i;let u=this.createIconClass(i);return h$2.div({className:u},o.icon,o.iconLabel)}renderLabel(i){return h$2.div({className:"lm-TabBar-tabLabel"},i.title.label)}renderCloseIcon(i){return h$2.div({className:"lm-TabBar-tabCloseIcon"})}createTabKey(i){let o=this._tabKeys.get(i.title);return o===void 0&&(o=`tab-key-${this._uuid}-${this._tabID++}`,this._tabKeys.set(i.title,o)),o}createTabStyle(i){return{zIndex:`${i.zIndex}`}}createTabClass(i){let o="lm-TabBar-tab";return i.title.className&&(o+=` ${i.title.className}`),i.title.closable&&(o+=" lm-mod-closable"),i.current&&(o+=" lm-mod-current"),o}createTabDataset(i){return i.title.dataset}createTabARIA(i){var o;return{role:"tab","aria-selected":i.current.toString(),tabindex:`${(o=i.tabIndex)!==null&&o!==void 0?o:"-1"}`}}createIconClass(i){let o="lm-TabBar-tabIcon",u=i.title.iconClass;return u?`${o} ${u}`:o}}e._nInstance=0,t.Renderer=e,t.defaultRenderer=new e,t.addButtonSelector=".lm-TabBar-addButton"})(TabBar$2||(TabBar$2={}));var Private$7$2;(function(t){t.DRAG_THRESHOLD=5,t.DETACH_THRESHOLD=20;function e(){let m=document.createElement("div"),g=document.createElement("ul");g.setAttribute("role","tablist"),g.className="lm-TabBar-content",m.appendChild(g);let v=document.createElement("div");return v.className="lm-TabBar-addButton lm-mod-hidden",v.setAttribute("tabindex","-1"),v.setAttribute("role","button"),m.appendChild(v),m}t.createNode=e;function n(m){return m instanceof Title$2?m:new Title$2(m)}t.asTitle=n;function i(m){let g=window.getComputedStyle(m);return 1e3*(parseFloat(g.transitionDuration)||0)}t.parseTransitionDuration=i;function o(m,g){let v=new Array(m.length);for(let y=0,w=m.length;y<w;++y){let T=m[y],P=window.getComputedStyle(T);g==="horizontal"?v[y]={pos:T.offsetLeft,size:T.offsetWidth,margin:parseFloat(P.marginLeft)||0}:v[y]={pos:T.offsetTop,size:T.offsetHeight,margin:parseFloat(P.marginTop)||0}}return v}t.snapTabLayout=o;function u(m,g){let v=Math.abs(g.clientX-m.pressX),y=Math.abs(g.clientY-m.pressY);return v>=t.DRAG_THRESHOLD||y>=t.DRAG_THRESHOLD}t.dragExceeded=u;function l(m,g){let v=m.contentRect;return g.clientX<v.left-t.DETACH_THRESHOLD||g.clientX>=v.right+t.DETACH_THRESHOLD||g.clientY<v.top-t.DETACH_THRESHOLD||g.clientY>=v.bottom+t.DETACH_THRESHOLD}t.detachExceeded=l;function c(m,g,v,y){let w,T,P,A;y==="horizontal"?(w=g.pressX,T=v.clientX-g.contentRect.left,P=v.clientX,A=g.contentRect.width):(w=g.pressY,T=v.clientY-g.contentRect.top,P=v.clientY,A=g.contentRect.height);let D=g.index,k=T-g.tabPressPos,j=k+g.tabSize;for(let B=0,Z=m.length;B<Z;++B){let R,G=g.tabLayout[B],F=G.pos+(G.size>>1);if(B<g.index&&k<F)R=`${g.tabSize+g.tabLayout[B+1].margin}px`,D=Math.min(D,B);else if(B>g.index&&j>F)R=`${-g.tabSize-G.margin}px`,D=Math.max(D,B);else if(B===g.index){let K=P-w,Q=A-(g.tabPos+g.tabSize);R=`${Math.max(-g.tabPos,Math.min(K,Q))}px`}else R="";y==="horizontal"?m[B].style.left=R:m[B].style.top=R}g.targetIndex=D}t.layoutTabs=c;function f(m,g){let v;g==="horizontal"?v=m.contentRect.width:v=m.contentRect.height;let y;if(m.targetIndex===m.index)y=0;else if(m.targetIndex>m.index){let P=m.tabLayout[m.targetIndex];y=P.pos+P.size-m.tabSize-m.tabPos}else y=m.tabLayout[m.targetIndex].pos-m.tabPos;let w=v-(m.tabPos+m.tabSize),T=Math.max(-m.tabPos,Math.min(y,w));g==="horizontal"?m.tab.style.left=`${T}px`:m.tab.style.top=`${T}px`}t.finalizeTabPosition=f;function d(m,g){for(const v of m)g==="horizontal"?v.style.left="":v.style.top=""}t.resetTabPositions=d})(Private$7$2||(Private$7$2={}));let DockLayout$2=class extends Layout$2{constructor(e){super(),this._spacing=4,this._dirty=!1,this._root=null,this._box=null,this._items=new Map,this.renderer=e.renderer,e.spacing!==void 0&&(this._spacing=Utils$1$2.clampDimension(e.spacing)),this._document=e.document||document,this._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:Widget$2.HiddenMode.Display}dispose(){let e=this[Symbol.iterator]();this._items.forEach(n=>{n.dispose()}),this._box=null,this._root=null,this._items.clear();for(const n of e)n.dispose();super.dispose()}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){if(this._hiddenMode!==e){this._hiddenMode=e;for(const n of this.tabBars())if(n.titles.length>1)for(const i of n.titles)i.owner.hiddenMode=this._hiddenMode}}get spacing(){return this._spacing}set spacing(e){e=Utils$1$2.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get isEmpty(){return this._root===null}[Symbol.iterator](){return this._root?this._root.iterAllWidgets():empty$a()}widgets(){return this._root?this._root.iterUserWidgets():empty$a()}selectedWidgets(){return this._root?this._root.iterSelectedWidgets():empty$a()}tabBars(){return this._root?this._root.iterTabBars():empty$a()}handles(){return this._root?this._root.iterHandles():empty$a()}moveHandle(e,n,i){let o=e.classList.contains("lm-mod-hidden");if(!this._root||o)return;let u=this._root.findSplitNode(e);if(!u)return;let l;u.node.orientation==="horizontal"?l=n-e.offsetLeft:l=i-e.offsetTop,l!==0&&(u.node.holdSizes(),BoxEngine$2.adjust(u.node.sizers,u.index,l),this.parent&&this.parent.update())}saveLayout(){return this._root?(this._root.holdAllSizes(),{main:this._root.createConfig()}):{main:null}}restoreLayout(e){let n=new Set,i;e.main?i=Private$6$2.normalizeAreaConfig(e.main,n):i=null;let o=this.widgets(),u=this.tabBars(),l=this.handles();this._root=null;for(const c of o)n.has(c)||(c.parent=null);for(const c of u)c.dispose();for(const c of l)c.parentNode&&c.parentNode.removeChild(c);for(const c of n)c.parent=this.parent;i?this._root=Private$6$2.realizeAreaConfig(i,{createTabBar:c=>this._createTabBar(),createHandle:()=>this._createHandle()},this._document):this._root=null,this.parent&&(n.forEach(c=>{this.attachWidget(c)}),this.parent.fit())}addWidget(e,n={}){let i=n.ref||null,o=n.mode||"tab-after",u=null;if(this._root&&i&&(u=this._root.findTabNode(i)),i&&!u)throw new Error("Reference widget is not in the layout.");switch(e.parent=this.parent,o){case"tab-after":this._insertTab(e,i,u,!0);break;case"tab-before":this._insertTab(e,i,u,!1);break;case"split-top":this._insertSplit(e,i,u,"vertical",!1);break;case"split-left":this._insertSplit(e,i,u,"horizontal",!1);break;case"split-right":this._insertSplit(e,i,u,"horizontal",!0);break;case"split-bottom":this._insertSplit(e,i,u,"vertical",!0);break;case"merge-top":this._insertSplit(e,i,u,"vertical",!1,!0);break;case"merge-left":this._insertSplit(e,i,u,"horizontal",!1,!0);break;case"merge-right":this._insertSplit(e,i,u,"horizontal",!0,!0);break;case"merge-bottom":this._insertSplit(e,i,u,"vertical",!0,!0);break}this.parent&&(this.attachWidget(e),this.parent.fit())}removeWidget(e){this._removeWidget(e),this.parent&&(this.detachWidget(e),this.parent.fit())}hitTestTabAreas(e,n){if(!this._root||!this.parent||!this.parent.isVisible)return null;this._box||(this._box=ElementExt$1.boxSizing(this.parent.node));let i=this.parent.node.getBoundingClientRect(),o=e-i.left-this._box.borderLeft,u=n-i.top-this._box.borderTop,l=this._root.hitTestTabNodes(o,u);if(!l)return null;let{tabBar:c,top:f,left:d,width:m,height:g}=l,v=this._box.borderLeft+this._box.borderRight,y=this._box.borderTop+this._box.borderBottom,w=i.width-v-(d+m),T=i.height-y-(f+g);return{tabBar:c,x:o,y:u,top:f,left:d,right:w,bottom:T,width:m,height:g}}init(){super.init();for(const e of this)this.attachWidget(e);for(const e of this.handles())this.parent.node.appendChild(e);this.parent.fit()}attachWidget(e){this.parent.node!==e.node.parentNode&&(this._items.set(e,new LayoutItem$2(e)),this.parent.isAttached&&MessageLoop$2.sendMessage(e,Widget$2.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&MessageLoop$2.sendMessage(e,Widget$2.Msg.AfterAttach))}detachWidget(e){if(this.parent.node!==e.node.parentNode)return;this.parent.isAttached&&MessageLoop$2.sendMessage(e,Widget$2.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&MessageLoop$2.sendMessage(e,Widget$2.Msg.AfterDetach);let n=this._items.get(e);n&&(this._items.delete(e),n.dispose())}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_removeWidget(e){if(!this._root)return;let n=this._root.findTabNode(e);if(!n)return;if(Private$6$2.removeAria(e),n.tabBar.titles.length>1){if(n.tabBar.removeTab(e.title),this._hiddenMode===Widget$2.HiddenMode.Scale&&n.tabBar.titles.length==1){const v=n.tabBar.titles[0].owner;v.hiddenMode=Widget$2.HiddenMode.Display}return}if(n.tabBar.dispose(),this._root===n){this._root=null;return}this._root.holdAllSizes();let i=n.parent;n.parent=null;let o=ArrayExt$4.removeFirstOf(i.children,n),u=ArrayExt$4.removeAt(i.handles,o);if(ArrayExt$4.removeAt(i.sizers,o),u.parentNode&&u.parentNode.removeChild(u),i.children.length>1){i.syncHandles();return}let l=i.parent;i.parent=null;let c=i.children[0],f=i.handles[0];if(i.children.length=0,i.handles.length=0,i.sizers.length=0,f.parentNode&&f.parentNode.removeChild(f),this._root===i){c.parent=null,this._root=c;return}let d=l,m=d.children.indexOf(i);if(c instanceof Private$6$2.TabLayoutNode){c.parent=d,d.children[m]=c;return}let g=ArrayExt$4.removeAt(d.handles,m);ArrayExt$4.removeAt(d.children,m),ArrayExt$4.removeAt(d.sizers,m),g.parentNode&&g.parentNode.removeChild(g);for(let v=0,y=c.children.length;v<y;++v){let w=c.children[v],T=c.handles[v],P=c.sizers[v];ArrayExt$4.insert(d.children,m+v,w),ArrayExt$4.insert(d.handles,m+v,T),ArrayExt$4.insert(d.sizers,m+v,P),w.parent=d}c.children.length=0,c.handles.length=0,c.sizers.length=0,c.parent=null,d.syncHandles()}_createTabNode(e){let n=new Private$6$2.TabLayoutNode(this._createTabBar());return n.tabBar.addTab(e.title),Private$6$2.addAria(e,n.tabBar),n}_insertTab(e,n,i,o){if(e===n)return;if(!this._root){let l=new Private$6$2.TabLayoutNode(this._createTabBar());l.tabBar.addTab(e.title),this._root=l,Private$6$2.addAria(e,l.tabBar);return}i||(i=this._root.findFirstTabNode()),i.tabBar.titles.indexOf(e.title)===-1&&(this._removeWidget(e),e.hide());let u;if(n?u=i.tabBar.titles.indexOf(n.title):u=i.tabBar.currentIndex,this._hiddenMode===Widget$2.HiddenMode.Scale)if(i.tabBar.titles.length===0)e.hiddenMode=Widget$2.HiddenMode.Display;else if(i.tabBar.titles.length==1){const l=i.tabBar.titles[0].owner;l.hiddenMode=Widget$2.HiddenMode.Scale}else e.hiddenMode=Widget$2.HiddenMode.Scale;else e.hiddenMode=this._hiddenMode;i.tabBar.insertTab(u+(o?1:0),e.title),Private$6$2.addAria(e,i.tabBar)}_insertSplit(e,n,i,o,u,l=!1){if(e===n&&i&&i.tabBar.titles.length===1)return;if(this._removeWidget(e),!this._root){this._root=this._createTabNode(e);return}if(!i||!i.parent){let v=this._splitRoot(o),y=u?v.children.length:0;v.normalizeSizes();let w=Private$6$2.createSizer(i?1:Private$6$2.GOLDEN_RATIO),T=this._createTabNode(e);ArrayExt$4.insert(v.children,y,T),ArrayExt$4.insert(v.sizers,y,w),ArrayExt$4.insert(v.handles,y,this._createHandle()),T.parent=v,v.normalizeSizes(),v.syncHandles();return}let c=i.parent;if(c.orientation===o){let v=c.children.indexOf(i);if(l){let P=v+(u?1:-1),A=c.children[P];if(A instanceof Private$6$2.TabLayoutNode){this._insertTab(e,null,A,!0),++A.tabBar.currentIndex;return}}c.normalizeSizes();let y=c.sizers[v].sizeHint/=2,w=v+(u?1:0),T=this._createTabNode(e);ArrayExt$4.insert(c.children,w,T),ArrayExt$4.insert(c.sizers,w,Private$6$2.createSizer(y)),ArrayExt$4.insert(c.handles,w,this._createHandle()),T.parent=c,c.syncHandles();return}let f=ArrayExt$4.removeFirstOf(c.children,i),d=new Private$6$2.SplitLayoutNode(o);d.normalized=!0,d.children.push(i),d.sizers.push(Private$6$2.createSizer(.5)),d.handles.push(this._createHandle()),i.parent=d;let m=u?1:0,g=this._createTabNode(e);ArrayExt$4.insert(d.children,m,g),ArrayExt$4.insert(d.sizers,m,Private$6$2.createSizer(.5)),ArrayExt$4.insert(d.handles,m,this._createHandle()),g.parent=d,d.syncHandles(),ArrayExt$4.insert(c.children,f,d),d.parent=c}_splitRoot(e){let n=this._root;if(n instanceof Private$6$2.SplitLayoutNode&&n.orientation===e)return n;let i=this._root=new Private$6$2.SplitLayoutNode(e);return n&&(i.children.push(n),i.sizers.push(Private$6$2.createSizer(0)),i.handles.push(this._createHandle()),n.parent=i),i}_fit(){let e=0,n=0;if(this._root){let u=this._root.fit(this._spacing,this._items);e=u.minWidth,n=u.minHeight}let i=this._box=ElementExt$1.boxSizing(this.parent.node);e+=i.horizontalSum,n+=i.verticalSum;let o=this.parent.node.style;o.minWidth=`${e}px`,o.minHeight=`${n}px`,this._dirty=!0,this.parent.parent&&MessageLoop$2.sendMessage(this.parent.parent,Widget$2.Msg.FitRequest),this._dirty&&MessageLoop$2.sendMessage(this.parent,Widget$2.Msg.UpdateRequest)}_update(e,n){if(this._dirty=!1,!this._root)return;e<0&&(e=this.parent.node.offsetWidth),n<0&&(n=this.parent.node.offsetHeight),this._box||(this._box=ElementExt$1.boxSizing(this.parent.node));let i=this._box.paddingTop,o=this._box.paddingLeft,u=e-this._box.horizontalSum,l=n-this._box.verticalSum;this._root.update(i,o,u,l,this._spacing,this._items)}_createTabBar(){let e=this.renderer.createTabBar(this._document);return e.orientation="horizontal",this.parent&&this.attachWidget(e),e}_createHandle(){let e=this.renderer.createHandle(),n=e.style;return n.position="absolute",n.contain="strict",n.top="0",n.left="0",n.width="0",n.height="0",this.parent&&this.parent.node.appendChild(e),e}};var Private$6$2;(function(t){t.GOLDEN_RATIO=.618;function e(v){let y=new BoxSizer$2;return y.sizeHint=v,y.size=v,y}t.createSizer=e;function n(v,y){let w;return v.type==="tab-area"?w=f(v,y):w=d(v,y),w}t.normalizeAreaConfig=n;function i(v,y,w){let T;return v.type==="tab-area"?T=m(v,y,w):T=g(v,y,w),T}t.realizeAreaConfig=i;class o{constructor(y){this.parent=null,this._top=0,this._left=0,this._width=0,this._height=0;let w=new BoxSizer$2,T=new BoxSizer$2;w.stretch=0,T.stretch=1,this.tabBar=y,this.sizers=[w,T]}get top(){return this._top}get left(){return this._left}get width(){return this._width}get height(){return this._height}*iterAllWidgets(){yield this.tabBar,yield*this.iterUserWidgets()}*iterUserWidgets(){for(const y of this.tabBar.titles)yield y.owner}*iterSelectedWidgets(){let y=this.tabBar.currentTitle;y&&(yield y.owner)}*iterTabBars(){yield this.tabBar}*iterHandles(){}findTabNode(y){return this.tabBar.titles.indexOf(y.title)!==-1?this:null}findSplitNode(y){return null}findFirstTabNode(){return this}hitTestTabNodes(y,w){return y<this._left||y>=this._left+this._width||w<this._top||w>=this._top+this._height?null:this}createConfig(){let y=this.tabBar.titles.map(T=>T.owner),w=this.tabBar.currentIndex;return{type:"tab-area",widgets:y,currentIndex:w}}holdAllSizes(){}fit(y,w){let T=0,P=0,A=1/0,D=1/0,k=w.get(this.tabBar),j=this.tabBar.currentTitle,B=j?w.get(j.owner):void 0,[Z,R]=this.sizers;return k&&k.fit(),B&&B.fit(),k&&!k.isHidden?(T=Math.max(T,k.minWidth),P+=k.minHeight,Z.minSize=k.minHeight,Z.maxSize=k.maxHeight):(Z.minSize=0,Z.maxSize=0),B&&!B.isHidden?(T=Math.max(T,B.minWidth),P+=B.minHeight,R.minSize=B.minHeight,R.maxSize=1/0):(R.minSize=0,R.maxSize=1/0),{minWidth:T,minHeight:P,maxWidth:A,maxHeight:D}}update(y,w,T,P,A,D){this._top=w,this._left=y,this._width=T,this._height=P;let k=D.get(this.tabBar),j=this.tabBar.currentTitle,B=j?D.get(j.owner):void 0;if(BoxEngine$2.calc(this.sizers,P),k&&!k.isHidden){let Z=this.sizers[0].size;k.update(y,w,T,Z),w+=Z}if(B&&!B.isHidden){let Z=this.sizers[1].size;B.update(y,w,T,Z)}}}t.TabLayoutNode=o;class u{constructor(y){this.parent=null,this.normalized=!1,this.children=[],this.sizers=[],this.handles=[],this.orientation=y}*iterAllWidgets(){for(const y of this.children)yield*y.iterAllWidgets()}*iterUserWidgets(){for(const y of this.children)yield*y.iterUserWidgets()}*iterSelectedWidgets(){for(const y of this.children)yield*y.iterSelectedWidgets()}*iterTabBars(){for(const y of this.children)yield*y.iterTabBars()}*iterHandles(){yield*this.handles;for(const y of this.children)yield*y.iterHandles()}findTabNode(y){for(let w=0,T=this.children.length;w<T;++w){let P=this.children[w].findTabNode(y);if(P)return P}return null}findSplitNode(y){let w=this.handles.indexOf(y);if(w!==-1)return{index:w,node:this};for(let T=0,P=this.children.length;T<P;++T){let A=this.children[T].findSplitNode(y);if(A)return A}return null}findFirstTabNode(){return this.children.length===0?null:this.children[0].findFirstTabNode()}hitTestTabNodes(y,w){for(let T=0,P=this.children.length;T<P;++T){let A=this.children[T].hitTestTabNodes(y,w);if(A)return A}return null}createConfig(){let y=this.orientation,w=this.createNormalizedSizes(),T=this.children.map(P=>P.createConfig());return{type:"split-area",orientation:y,children:T,sizes:w}}syncHandles(){this.handles.forEach((y,w)=>{y.setAttribute("data-orientation",this.orientation),w===this.handles.length-1?y.classList.add("lm-mod-hidden"):y.classList.remove("lm-mod-hidden")})}holdSizes(){for(const y of this.sizers)y.sizeHint=y.size}holdAllSizes(){for(const y of this.children)y.holdAllSizes();this.holdSizes()}normalizeSizes(){let y=this.sizers.length;if(y===0)return;this.holdSizes();let w=this.sizers.reduce((T,P)=>T+P.sizeHint,0);if(w===0)for(const T of this.sizers)T.size=T.sizeHint=1/y;else for(const T of this.sizers)T.size=T.sizeHint/=w;this.normalized=!0}createNormalizedSizes(){let y=this.sizers.length;if(y===0)return[];let w=this.sizers.map(P=>P.size),T=w.reduce((P,A)=>P+A,0);if(T===0)for(let P=w.length-1;P>-1;P--)w[P]=1/y;else for(let P=w.length-1;P>-1;P--)w[P]/=T;return w}fit(y,w){let T=this.orientation==="horizontal",P=Math.max(0,this.children.length-1)*y,A=T?P:0,D=T?0:P,k=1/0,j=1/0;for(let B=0,Z=this.children.length;B<Z;++B){let R=this.children[B].fit(y,w);T?(D=Math.max(D,R.minHeight),A+=R.minWidth,this.sizers[B].minSize=R.minWidth):(A=Math.max(A,R.minWidth),D+=R.minHeight,this.sizers[B].minSize=R.minHeight)}return{minWidth:A,minHeight:D,maxWidth:k,maxHeight:j}}update(y,w,T,P,A,D){let k=this.orientation==="horizontal",j=Math.max(0,this.children.length-1)*A,B=Math.max(0,(k?T:P)-j);if(this.normalized){for(const Z of this.sizers)Z.sizeHint*=B;this.normalized=!1}BoxEngine$2.calc(this.sizers,B);for(let Z=0,R=this.children.length;Z<R;++Z){let G=this.children[Z],F=this.sizers[Z].size,K=this.handles[Z].style;k?(G.update(y,w,F,P,A,D),y+=F,K.top=`${w}px`,K.left=`${y}px`,K.width=`${A}px`,K.height=`${P}px`,y+=A):(G.update(y,w,T,F,A,D),w+=F,K.top=`${w}px`,K.left=`${y}px`,K.width=`${T}px`,K.height=`${A}px`,w+=A)}}}t.SplitLayoutNode=u;function l(v,y){v.node.setAttribute("role","tabpanel");let w=y.renderer;if(w instanceof TabBar$2.Renderer){let T=w.createTabKey({title:v.title,current:!1,zIndex:0});v.node.setAttribute("aria-labelledby",T)}}t.addAria=l;function c(v){v.node.removeAttribute("role"),v.node.removeAttribute("aria-labelledby")}t.removeAria=c;function f(v,y){if(v.widgets.length===0)return null;let w=[];for(const P of v.widgets)y.has(P)||(y.add(P),w.push(P));if(w.length===0)return null;let T=v.currentIndex;return T!==-1&&(T<0||T>=w.length)&&(T=0),{type:"tab-area",widgets:w,currentIndex:T}}function d(v,y){let w=v.orientation,T=[],P=[];for(let A=0,D=v.children.length;A<D;++A){let k=n(v.children[A],y);k&&(k.type==="tab-area"||k.orientation!==w?(T.push(k),P.push(Math.abs(v.sizes[A]||0))):(T.push(...k.children),P.push(...k.sizes)))}return T.length===0?null:T.length===1?T[0]:{type:"split-area",orientation:w,children:T,sizes:P}}function m(v,y,w){let T=y.createTabBar(w);for(const P of v.widgets)P.hide(),T.addTab(P.title),t.addAria(P,T);return T.currentIndex=v.currentIndex,new o(T)}function g(v,y,w){let T=new u(v.orientation);return v.children.forEach((P,A)=>{let D=i(P,y,w),k=e(v.sizes[A]),j=y.createHandle();T.children.push(D),T.handles.push(j),T.sizers.push(k),D.parent=T}),T.syncHandles(),T.normalizeSizes(),T}})(Private$6$2||(Private$6$2={}));let DockPanel$2=class id extends Widget$2{constructor(e={}){super(),this._drag=null,this._tabsMovable=!0,this._tabsConstrained=!1,this._addButtonEnabled=!1,this._pressData=null,this._layoutModified=new Signal$2(this),this._addRequested=new Signal$2(this),this.addClass("lm-DockPanel"),this._document=e.document||document,this._mode=e.mode||"multiple-document",this._renderer=e.renderer||id.defaultRenderer,this._edges=e.edges||Private$5$2.DEFAULT_EDGES,e.tabsMovable!==void 0&&(this._tabsMovable=e.tabsMovable),e.tabsConstrained!==void 0&&(this._tabsConstrained=e.tabsConstrained),e.addButtonEnabled!==void 0&&(this._addButtonEnabled=e.addButtonEnabled),this.dataset.mode=this._mode;let n={createTabBar:()=>this._createTabBar(),createHandle:()=>this._createHandle()};this.layout=new DockLayout$2({document:this._document,renderer:n,spacing:e.spacing,hiddenMode:e.hiddenMode}),this.overlay=e.overlay||new id.Overlay,this.node.appendChild(this.overlay.node)}dispose(){this._releaseMouse(),this.overlay.hide(0),this._drag&&this._drag.dispose(),super.dispose()}get hiddenMode(){return this.layout.hiddenMode}set hiddenMode(e){this.layout.hiddenMode=e}get layoutModified(){return this._layoutModified}get addRequested(){return this._addRequested}get renderer(){return this.layout.renderer}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get mode(){return this._mode}set mode(e){if(this._mode===e)return;this._mode=e,this.dataset.mode=e;let n=this.layout;switch(e){case"multiple-document":for(const i of n.tabBars())i.show();break;case"single-document":n.restoreLayout(Private$5$2.createSingleDocumentConfig(this));break;default:throw"unreachable"}MessageLoop$2.postMessage(this,Private$5$2.LayoutModified)}get tabsMovable(){return this._tabsMovable}set tabsMovable(e){this._tabsMovable=e;for(const n of this.tabBars())n.tabsMovable=e}get tabsConstrained(){return this._tabsConstrained}set tabsConstrained(e){this._tabsConstrained=e}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled=e;for(const n of this.tabBars())n.addButtonEnabled=e}get isEmpty(){return this.layout.isEmpty}*widgets(){yield*this.layout.widgets()}*selectedWidgets(){yield*this.layout.selectedWidgets()}*tabBars(){yield*this.layout.tabBars()}*handles(){yield*this.layout.handles()}selectWidget(e){let n=find$4(this.tabBars(),i=>i.titles.indexOf(e.title)!==-1);if(!n)throw new Error("Widget is not contained in the dock panel.");n.currentTitle=e.title}activateWidget(e){this.selectWidget(e),e.activate()}saveLayout(){return this.layout.saveLayout()}restoreLayout(e){this._mode="multiple-document",this.layout.restoreLayout(e),(Platform$1.IS_EDGE||Platform$1.IS_IE)&&MessageLoop$2.flush(),MessageLoop$2.postMessage(this,Private$5$2.LayoutModified)}addWidget(e,n={}){this._mode==="single-document"?this.layout.addWidget(e):this.layout.addWidget(e,n),MessageLoop$2.postMessage(this,Private$5$2.LayoutModified)}processMessage(e){e.type==="layout-modified"?this._layoutModified.emit(void 0):super.processMessage(e)}handleEvent(e){switch(e.type){case"lm-dragenter":this._evtDragEnter(e);break;case"lm-dragleave":this._evtDragLeave(e);break;case"lm-dragover":this._evtDragOver(e);break;case"lm-drop":this._evtDrop(e);break;case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("lm-dragenter",this),this.node.addEventListener("lm-dragleave",this),this.node.addEventListener("lm-dragover",this),this.node.addEventListener("lm-drop",this),this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("lm-dragenter",this),this.node.removeEventListener("lm-dragleave",this),this.node.removeEventListener("lm-dragover",this),this.node.removeEventListener("lm-drop",this),this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){Private$5$2.isGeneratedTabBarProperty.get(e.child)||e.child.addClass("lm-DockPanel-widget")}onChildRemoved(e){Private$5$2.isGeneratedTabBarProperty.get(e.child)||(e.child.removeClass("lm-DockPanel-widget"),MessageLoop$2.postMessage(this,Private$5$2.LayoutModified))}_evtDragEnter(e){e.mimeData.hasData("application/vnd.lumino.widget-factory")&&(e.preventDefault(),e.stopPropagation())}_evtDragLeave(e){e.preventDefault(),!(this._tabsConstrained&&e.source!==this)&&(e.stopPropagation(),this.overlay.hide(1))}_evtDragOver(e){e.preventDefault(),this._tabsConstrained&&e.source!==this||this._showOverlay(e.clientX,e.clientY)==="invalid"?e.dropAction="none":(e.stopPropagation(),e.dropAction=e.proposedAction)}_evtDrop(e){if(e.preventDefault(),this.overlay.hide(0),e.proposedAction==="none"){e.dropAction="none";return}let{clientX:n,clientY:i}=e,{zone:o,target:u}=Private$5$2.findDropTarget(this,n,i,this._edges);if(this._tabsConstrained&&e.source!==this||o==="invalid"){e.dropAction="none";return}let c=e.mimeData.getData("application/vnd.lumino.widget-factory");if(typeof c!="function"){e.dropAction="none";return}let f=c();if(!(f instanceof Widget$2)){e.dropAction="none";return}if(f.contains(this)){e.dropAction="none";return}let d=u?Private$5$2.getDropRef(u.tabBar):null;switch(o){case"root-all":this.addWidget(f);break;case"root-top":this.addWidget(f,{mode:"split-top"});break;case"root-left":this.addWidget(f,{mode:"split-left"});break;case"root-right":this.addWidget(f,{mode:"split-right"});break;case"root-bottom":this.addWidget(f,{mode:"split-bottom"});break;case"widget-all":this.addWidget(f,{mode:"tab-after",ref:d});break;case"widget-top":this.addWidget(f,{mode:"split-top",ref:d});break;case"widget-left":this.addWidget(f,{mode:"split-left",ref:d});break;case"widget-right":this.addWidget(f,{mode:"split-right",ref:d});break;case"widget-bottom":this.addWidget(f,{mode:"split-bottom",ref:d});break;case"widget-tab":this.addWidget(f,{mode:"tab-after",ref:d});break;default:throw"unreachable"}e.dropAction=e.proposedAction,e.stopPropagation(),this.activateWidget(f)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&(this._releaseMouse(),MessageLoop$2.postMessage(this,Private$5$2.LayoutModified))}_evtPointerDown(e){if(e.button!==0)return;let n=this.layout,i=e.target,o=find$4(n.handles(),m=>m.contains(i));if(!o)return;e.preventDefault(),e.stopPropagation(),this._document.addEventListener("keydown",this,!0),this._document.addEventListener("pointerup",this,!0),this._document.addEventListener("pointermove",this,!0),this._document.addEventListener("contextmenu",this,!0);let u=o.getBoundingClientRect(),l=e.clientX-u.left,c=e.clientY-u.top,f=window.getComputedStyle(o),d=Drag$2.overrideCursor(f.cursor,this._document);this._pressData={handle:o,deltaX:l,deltaY:c,override:d}}_evtPointerMove(e){if(!this._pressData)return;e.preventDefault(),e.stopPropagation();let n=this.node.getBoundingClientRect(),i=e.clientX-n.left-this._pressData.deltaX,o=e.clientY-n.top-this._pressData.deltaY;this.layout.moveHandle(this._pressData.handle,i,o)}_evtPointerUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse(),MessageLoop$2.postMessage(this,Private$5$2.LayoutModified))}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._document.removeEventListener("keydown",this,!0),this._document.removeEventListener("pointerup",this,!0),this._document.removeEventListener("pointermove",this,!0),this._document.removeEventListener("contextmenu",this,!0))}_showOverlay(e,n){let{zone:i,target:o}=Private$5$2.findDropTarget(this,e,n,this._edges);if(i==="invalid")return this.overlay.hide(100),i;let u,l,c,f,d=ElementExt$1.boxSizing(this.node),m=this.node.getBoundingClientRect();switch(i){case"root-all":u=d.paddingTop,l=d.paddingLeft,c=d.paddingRight,f=d.paddingBottom;break;case"root-top":u=d.paddingTop,l=d.paddingLeft,c=d.paddingRight,f=m.height*Private$5$2.GOLDEN_RATIO;break;case"root-left":u=d.paddingTop,l=d.paddingLeft,c=m.width*Private$5$2.GOLDEN_RATIO,f=d.paddingBottom;break;case"root-right":u=d.paddingTop,l=m.width*Private$5$2.GOLDEN_RATIO,c=d.paddingRight,f=d.paddingBottom;break;case"root-bottom":u=m.height*Private$5$2.GOLDEN_RATIO,l=d.paddingLeft,c=d.paddingRight,f=d.paddingBottom;break;case"widget-all":u=o.top,l=o.left,c=o.right,f=o.bottom;break;case"widget-top":u=o.top,l=o.left,c=o.right,f=o.bottom+o.height/2;break;case"widget-left":u=o.top,l=o.left,c=o.right+o.width/2,f=o.bottom;break;case"widget-right":u=o.top,l=o.left+o.width/2,c=o.right,f=o.bottom;break;case"widget-bottom":u=o.top+o.height/2,l=o.left,c=o.right,f=o.bottom;break;case"widget-tab":{const g=o.tabBar.node.getBoundingClientRect().height;u=o.top,l=o.left,c=o.right,f=o.bottom+o.height-g;break}default:throw"unreachable"}return this.overlay.show({top:u,left:l,right:c,bottom:f}),i}_createTabBar(){let e=this._renderer.createTabBar(this._document);return Private$5$2.isGeneratedTabBarProperty.set(e,!0),this._mode==="single-document"&&e.hide(),e.tabsMovable=this._tabsMovable,e.allowDeselect=!1,e.addButtonEnabled=this._addButtonEnabled,e.removeBehavior="select-previous-tab",e.insertBehavior="select-tab-if-needed",e.tabMoved.connect(this._onTabMoved,this),e.currentChanged.connect(this._onCurrentChanged,this),e.tabCloseRequested.connect(this._onTabCloseRequested,this),e.tabDetachRequested.connect(this._onTabDetachRequested,this),e.tabActivateRequested.connect(this._onTabActivateRequested,this),e.addRequested.connect(this._onTabAddRequested,this),e}_createHandle(){return this._renderer.createHandle()}_onTabMoved(){MessageLoop$2.postMessage(this,Private$5$2.LayoutModified)}_onCurrentChanged(e,n){let{previousTitle:i,currentTitle:o}=n;i&&i.owner.hide(),o&&o.owner.show(),(Platform$1.IS_EDGE||Platform$1.IS_IE)&&MessageLoop$2.flush(),MessageLoop$2.postMessage(this,Private$5$2.LayoutModified)}_onTabAddRequested(e){this._addRequested.emit(e)}_onTabActivateRequested(e,n){n.title.owner.activate()}_onTabCloseRequested(e,n){n.title.owner.close()}_onTabDetachRequested(e,n){if(this._drag)return;e.releaseMouse();let{title:i,tab:o,clientX:u,clientY:l,offset:c}=n,f=new MimeData$1,d=()=>i.owner;f.setData("application/vnd.lumino.widget-factory",d);let m=o.cloneNode(!0);c&&(m.style.top=`-${c.y}px`,m.style.left=`-${c.x}px`),this._drag=new Drag$2({document:this._document,mimeData:f,dragImage:m,proposedAction:"move",supportedActions:"move",source:this}),o.classList.add("lm-mod-hidden");let g=()=>{this._drag=null,o.classList.remove("lm-mod-hidden")};this._drag.start(u,l).then(g)}};(function(t){class e{constructor(){this._timer=-1,this._hidden=!0,this.node=document.createElement("div"),this.node.classList.add("lm-DockPanel-overlay"),this.node.classList.add("lm-mod-hidden"),this.node.style.position="absolute",this.node.style.contain="strict"}show(o){let u=this.node.style;u.top=`${o.top}px`,u.left=`${o.left}px`,u.right=`${o.right}px`,u.bottom=`${o.bottom}px`,clearTimeout(this._timer),this._timer=-1,this._hidden&&(this._hidden=!1,this.node.classList.remove("lm-mod-hidden"))}hide(o){if(!this._hidden){if(o<=0){clearTimeout(this._timer),this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden");return}this._timer===-1&&(this._timer=window.setTimeout(()=>{this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden")},o))}}}t.Overlay=e;class n{createTabBar(o){let u=new TabBar$2({document:o});return u.addClass("lm-DockPanel-tabBar"),u}createHandle(){let o=document.createElement("div");return o.className="lm-DockPanel-handle",o}}t.Renderer=n,t.defaultRenderer=new n})(DockPanel$2||(DockPanel$2={}));var Private$5$2;(function(t){t.GOLDEN_RATIO=.618,t.DEFAULT_EDGES={top:12,right:40,bottom:40,left:40},t.LayoutModified=new ConflatableMessage$2("layout-modified"),t.isGeneratedTabBarProperty=new AttachedProperty$2({name:"isGeneratedTabBar",create:()=>!1});function e(o){if(o.isEmpty)return{main:null};let u=Array.from(o.widgets()),l=o.selectedWidgets().next().value,c=l?u.indexOf(l):-1;return{main:{type:"tab-area",widgets:u,currentIndex:c}}}t.createSingleDocumentConfig=e;function n(o,u,l,c){if(!ElementExt$1.hitTest(o.node,u,l))return{zone:"invalid",target:null};let f=o.layout;if(f.isEmpty)return{zone:"root-all",target:null};if(o.mode==="multiple-document"){let k=o.node.getBoundingClientRect(),j=u-k.left+1,B=l-k.top+1,Z=k.right-u,R=k.bottom-l;switch(Math.min(B,Z,R,j)){case B:if(B<c.top)return{zone:"root-top",target:null};break;case Z:if(Z<c.right)return{zone:"root-right",target:null};break;case R:if(R<c.bottom)return{zone:"root-bottom",target:null};break;case j:if(j<c.left)return{zone:"root-left",target:null};break;default:throw"unreachable"}}let d=f.hitTestTabAreas(u,l);if(!d)return{zone:"invalid",target:null};if(o.mode==="single-document")return{zone:"widget-all",target:d};let m=d.x-d.left+1,g=d.y-d.top+1,v=d.left+d.width-d.x,y=d.top+d.height-d.y;const w=d.tabBar.node.getBoundingClientRect().height;if(g<w)return{zone:"widget-tab",target:d};let T=Math.round(d.width/3),P=Math.round(d.height/3);if(m>T&&v>T&&g>P&&y>P)return{zone:"widget-all",target:d};m/=T,g/=P,v/=T,y/=P;let A=Math.min(m,g,v,y),D;switch(A){case m:D="widget-left";break;case g:D="widget-top";break;case v:D="widget-right";break;case y:D="widget-bottom";break;default:throw"unreachable"}return{zone:D,target:d}}t.findDropTarget=n;function i(o){return o.titles.length===0?null:o.currentTitle?o.currentTitle.owner:o.titles[o.titles.length-1].owner}t.getDropRef=i})(Private$5$2||(Private$5$2={}));let GridLayout$2=class Ju extends Layout$2{constructor(e={}){super(e),this._dirty=!1,this._rowSpacing=4,this._columnSpacing=4,this._items=[],this._rowStarts=[],this._columnStarts=[],this._rowSizers=[new BoxSizer$2],this._columnSizers=[new BoxSizer$2],this._box=null,e.rowCount!==void 0&&Private$4$2.reallocSizers(this._rowSizers,e.rowCount),e.columnCount!==void 0&&Private$4$2.reallocSizers(this._columnSizers,e.columnCount),e.rowSpacing!==void 0&&(this._rowSpacing=Private$4$2.clampValue(e.rowSpacing)),e.columnSpacing!==void 0&&(this._columnSpacing=Private$4$2.clampValue(e.columnSpacing))}dispose(){for(const e of this._items){let n=e.widget;e.dispose(),n.dispose()}this._box=null,this._items.length=0,this._rowStarts.length=0,this._rowSizers.length=0,this._columnStarts.length=0,this._columnSizers.length=0,super.dispose()}get rowCount(){return this._rowSizers.length}set rowCount(e){e!==this.rowCount&&(Private$4$2.reallocSizers(this._rowSizers,e),this.parent&&this.parent.fit())}get columnCount(){return this._columnSizers.length}set columnCount(e){e!==this.columnCount&&(Private$4$2.reallocSizers(this._columnSizers,e),this.parent&&this.parent.fit())}get rowSpacing(){return this._rowSpacing}set rowSpacing(e){e=Private$4$2.clampValue(e),this._rowSpacing!==e&&(this._rowSpacing=e,this.parent&&this.parent.fit())}get columnSpacing(){return this._columnSpacing}set columnSpacing(e){e=Private$4$2.clampValue(e),this._columnSpacing!==e&&(this._columnSpacing=e,this.parent&&this.parent.fit())}rowStretch(e){let n=this._rowSizers[e];return n?n.stretch:-1}setRowStretch(e,n){let i=this._rowSizers[e];i&&(n=Private$4$2.clampValue(n),i.stretch!==n&&(i.stretch=n,this.parent&&this.parent.update()))}columnStretch(e){let n=this._columnSizers[e];return n?n.stretch:-1}setColumnStretch(e,n){let i=this._columnSizers[e];i&&(n=Private$4$2.clampValue(n),i.stretch!==n&&(i.stretch=n,this.parent&&this.parent.update()))}*[Symbol.iterator](){for(const e of this._items)yield e.widget}addWidget(e){ArrayExt$4.findFirstIndex(this._items,i=>i.widget===e)===-1&&(this._items.push(new LayoutItem$2(e)),this.parent&&this.attachWidget(e))}removeWidget(e){let n=ArrayExt$4.findFirstIndex(this._items,o=>o.widget===e);if(n===-1)return;let i=ArrayExt$4.removeAt(this._items,n);this.parent&&this.detachWidget(e),i.dispose()}init(){super.init();for(const e of this)this.attachWidget(e)}attachWidget(e){this.parent.isAttached&&MessageLoop$2.sendMessage(e,Widget$2.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&MessageLoop$2.sendMessage(e,Widget$2.Msg.AfterAttach),this.parent.fit()}detachWidget(e){this.parent.isAttached&&MessageLoop$2.sendMessage(e,Widget$2.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&MessageLoop$2.sendMessage(e,Widget$2.Msg.AfterDetach),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){for(let f=0,d=this.rowCount;f<d;++f)this._rowSizers[f].minSize=0;for(let f=0,d=this.columnCount;f<d;++f)this._columnSizers[f].minSize=0;let e=this._items.filter(f=>!f.isHidden);for(let f=0,d=e.length;f<d;++f)e[f].fit();let n=this.rowCount-1,i=this.columnCount-1;e.sort(Private$4$2.rowSpanCmp);for(let f=0,d=e.length;f<d;++f){let m=e[f],g=Ju.getCellConfig(m.widget),v=Math.min(g.row,n),y=Math.min(g.row+g.rowSpan-1,n);Private$4$2.distributeMin(this._rowSizers,v,y,m.minHeight)}e.sort(Private$4$2.columnSpanCmp);for(let f=0,d=e.length;f<d;++f){let m=e[f],g=Ju.getCellConfig(m.widget),v=Math.min(g.column,i),y=Math.min(g.column+g.columnSpan-1,i);Private$4$2.distributeMin(this._columnSizers,v,y,m.minWidth)}if(this.fitPolicy==="set-no-constraint"){MessageLoop$2.sendMessage(this.parent,Widget$2.Msg.UpdateRequest);return}let o=n*this._rowSpacing,u=i*this._columnSpacing;for(let f=0,d=this.rowCount;f<d;++f)o+=this._rowSizers[f].minSize;for(let f=0,d=this.columnCount;f<d;++f)u+=this._columnSizers[f].minSize;let l=this._box=ElementExt$1.boxSizing(this.parent.node);u+=l.horizontalSum,o+=l.verticalSum;let c=this.parent.node.style;c.minWidth=`${u}px`,c.minHeight=`${o}px`,this._dirty=!0,this.parent.parent&&MessageLoop$2.sendMessage(this.parent.parent,Widget$2.Msg.FitRequest),this._dirty&&MessageLoop$2.sendMessage(this.parent,Widget$2.Msg.UpdateRequest)}_update(e,n){this._dirty=!1,e<0&&(e=this.parent.node.offsetWidth),n<0&&(n=this.parent.node.offsetHeight),this._box||(this._box=ElementExt$1.boxSizing(this.parent.node));let i=this._box.paddingTop,o=this._box.paddingLeft,u=e-this._box.horizontalSum,l=n-this._box.verticalSum,c=this.rowCount-1,f=this.columnCount-1,d=c*this._rowSpacing,m=f*this._columnSpacing;BoxEngine$2.calc(this._rowSizers,Math.max(0,l-d)),BoxEngine$2.calc(this._columnSizers,Math.max(0,u-m));for(let g=0,v=i,y=this.rowCount;g<y;++g)this._rowStarts[g]=v,v+=this._rowSizers[g].size+this._rowSpacing;for(let g=0,v=o,y=this.columnCount;g<y;++g)this._columnStarts[g]=v,v+=this._columnSizers[g].size+this._columnSpacing;for(let g=0,v=this._items.length;g<v;++g){let y=this._items[g];if(y.isHidden)continue;let w=Ju.getCellConfig(y.widget),T=Math.min(w.row,c),P=Math.min(w.column,f),A=Math.min(w.row+w.rowSpan-1,c),D=Math.min(w.column+w.columnSpan-1,f),k=this._columnStarts[P],j=this._rowStarts[T],B=this._columnStarts[D]+this._columnSizers[D].size-k,Z=this._rowStarts[A]+this._rowSizers[A].size-j;y.update(k,j,B,Z)}}};(function(t){function e(i){return Private$4$2.cellConfigProperty.get(i)}t.getCellConfig=e;function n(i,o){Private$4$2.cellConfigProperty.set(i,Private$4$2.normalizeConfig(o))}t.setCellConfig=n})(GridLayout$2||(GridLayout$2={}));var Private$4$2;(function(t){t.cellConfigProperty=new AttachedProperty$2({name:"cellConfig",create:()=>({row:0,column:0,rowSpan:1,columnSpan:1}),changed:c});function e(f){let d=Math.max(0,Math.floor(f.row||0)),m=Math.max(0,Math.floor(f.column||0)),g=Math.max(1,Math.floor(f.rowSpan||0)),v=Math.max(1,Math.floor(f.columnSpan||0));return{row:d,column:m,rowSpan:g,columnSpan:v}}t.normalizeConfig=e;function n(f){return Math.max(0,Math.floor(f))}t.clampValue=n;function i(f,d){let m=t.cellConfigProperty.get(f.widget),g=t.cellConfigProperty.get(d.widget);return m.rowSpan-g.rowSpan}t.rowSpanCmp=i;function o(f,d){let m=t.cellConfigProperty.get(f.widget),g=t.cellConfigProperty.get(d.widget);return m.columnSpan-g.columnSpan}t.columnSpanCmp=o;function u(f,d){for(d=Math.max(1,Math.floor(d));f.length<d;)f.push(new BoxSizer$2);f.length>d&&(f.length=d)}t.reallocSizers=u;function l(f,d,m,g){if(m<d)return;if(d===m){let w=f[d];w.minSize=Math.max(w.minSize,g);return}let v=0;for(let w=d;w<=m;++w)v+=f[w].minSize;if(v>=g)return;let y=(g-v)/(m-d+1);for(let w=d;w<=m;++w)f[w].minSize+=y}t.distributeMin=l;function c(f){f.parent&&f.parent.layout instanceof GridLayout$2&&f.parent.fit()}})(Private$4$2||(Private$4$2={}));let MenuBar$2=class wp extends Widget$2{constructor(e={}){super({node:Private$3$2.createNode()}),this._activeIndex=-1,this._tabFocusIndex=0,this._menus=[],this._childMenu=null,this._overflowMenu=null,this._menuItemSizes=[],this._overflowIndex=-1,this.addClass("lm-MenuBar"),this.setFlag(Widget$2.Flag.DisallowLayout),this.renderer=e.renderer||wp.defaultRenderer,this._forceItemsPosition=e.forceItemsPosition||{forceX:!0,forceY:!0},this._overflowMenuOptions=e.overflowMenuOptions||{isVisible:!0}}dispose(){this._closeChildMenu(),this._menus.length=0,super.dispose()}get childMenu(){return this._childMenu}get overflowIndex(){return this._overflowIndex}get overflowMenu(){return this._overflowMenu}get contentNode(){return this.node.getElementsByClassName("lm-MenuBar-content")[0]}get activeMenu(){return this._menus[this._activeIndex]||null}set activeMenu(e){this.activeIndex=e?this._menus.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._menus.length)&&(e=-1),e>-1&&this._menus[e].items.length===0&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this.update())}get menus(){return this._menus}openActiveMenu(){this._activeIndex!==-1&&(this._openChildMenu(),this._childMenu&&(this._childMenu.activeIndex=-1,this._childMenu.activateNextItem()))}addMenu(e,n=!0){this.insertMenu(this._menus.length,e,n)}insertMenu(e,n,i=!0){this._closeChildMenu();let o=this._menus.indexOf(n),u=Math.max(0,Math.min(e,this._menus.length));if(o===-1){ArrayExt$4.insert(this._menus,u,n),n.addClass("lm-MenuBar-menu"),n.aboutToClose.connect(this._onMenuAboutToClose,this),n.menuRequested.connect(this._onMenuMenuRequested,this),n.title.changed.connect(this._onTitleChanged,this),i&&this.update();return}u===this._menus.length&&u--,o!==u&&(ArrayExt$4.move(this._menus,o,u),i&&this.update())}removeMenu(e,n=!0){this.removeMenuAt(this._menus.indexOf(e),n)}removeMenuAt(e,n=!0){this._closeChildMenu();let i=ArrayExt$4.removeAt(this._menus,e);i&&(i.aboutToClose.disconnect(this._onMenuAboutToClose,this),i.menuRequested.disconnect(this._onMenuMenuRequested,this),i.title.changed.disconnect(this._onTitleChanged,this),i.removeClass("lm-MenuBar-menu"),n&&this.update())}clearMenus(){if(this._menus.length!==0){this._closeChildMenu();for(let e of this._menus)e.aboutToClose.disconnect(this._onMenuAboutToClose,this),e.menuRequested.disconnect(this._onMenuMenuRequested,this),e.title.changed.disconnect(this._onTitleChanged,this),e.removeClass("lm-MenuBar-menu");this._menus.length=0,this.update()}}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":case"mouseleave":this._evtMouseMove(e);break;case"focusout":this._evtFocusOut(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("focusout",this),this.node.addEventListener("contextmenu",this)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("focusout",this),this.node.removeEventListener("contextmenu",this),this._closeChildMenu()}onActivateRequest(e){this.isAttached&&this._focusItemAt(0)}onResize(e){this.update(),super.onResize(e)}onUpdateRequest(e){var n;let i=this._menus,o=this.renderer,u=this._activeIndex,l=this._tabFocusIndex>=0&&this._tabFocusIndex<i.length?this._tabFocusIndex:0,c=this._overflowIndex>-1?this._overflowIndex:i.length,f=0,d=!1;c=this._overflowMenu!==null?c-1:c;let m=new Array(c);for(let g=0;g<c;++g)m[g]=o.renderItem({title:i[g].title,active:g===u,tabbable:g===l,disabled:i[g].items.length===0,onfocus:()=>{this._tabFocusIndex=g,this.activeIndex=g}}),f+=this._menuItemSizes[g],i[g].title.label===this._overflowMenuOptions.title&&(d=!0,c--);if(this._overflowMenuOptions.isVisible){if(this._overflowIndex>-1&&!d){if(this._overflowMenu===null){const g=(n=this._overflowMenuOptions.title)!==null&&n!==void 0?n:"...";this._overflowMenu=new Menu$2({commands:new CommandRegistry$1}),this._overflowMenu.title.label=g,this._overflowMenu.title.mnemonic=0,this.addMenu(this._overflowMenu,!1)}for(let g=i.length-2;g>=c;g--){const v=this.menus[g];v.title.mnemonic=0,this._overflowMenu.insertItem(0,{type:"submenu",submenu:v}),this.removeMenu(v,!1)}m[c]=o.renderItem({title:this._overflowMenu.title,active:c===u&&i[c].items.length!==0,tabbable:c===l,disabled:i[c].items.length===0,onfocus:()=>{this._tabFocusIndex=c,this.activeIndex=c}}),c++}else if(this._overflowMenu!==null){let g=this._overflowMenu.items,v=this.node.offsetWidth,y=this._overflowMenu.items.length;for(let w=0;w<y;++w){let T=i.length-1-w;if(v-f>this._menuItemSizes[T]){let P=g[0].submenu;this._overflowMenu.removeItemAt(0),this.insertMenu(c,P,!1),m[c]=o.renderItem({title:P.title,active:!1,tabbable:c===l,disabled:i[c].items.length===0,onfocus:()=>{this._tabFocusIndex=c,this.activeIndex=c}}),c++}}this._overflowMenu.items.length===0&&(this.removeMenu(this._overflowMenu,!1),m.pop(),this._overflowMenu=null,this._overflowIndex=-1)}}VirtualDOM$1.render(m,this.contentNode),this._updateOverflowIndex()}_updateOverflowIndex(){if(!this._overflowMenuOptions.isVisible)return;const e=this.contentNode.childNodes;let n=this.node.offsetWidth,i=0,o=-1,u=e.length;if(this._menuItemSizes.length==0)for(let l=0;l<u;l++){let c=e[l];i+=c.offsetWidth,this._menuItemSizes.push(c.offsetWidth),i>n&&o===-1&&(o=l)}else for(let l=0;l<this._menuItemSizes.length;l++)if(i+=this._menuItemSizes[l],i>n){o=l;break}this._overflowIndex=o}_evtKeyDown(e){let n=e.keyCode;if(n===9){this.activeIndex=-1;return}if(e.preventDefault(),e.stopPropagation(),n===13||n===32||n===38||n===40){if(this.activeIndex=this._tabFocusIndex,this.activeIndex!==this._tabFocusIndex)return;this.openActiveMenu();return}if(n===27){this._closeChildMenu(),this._focusItemAt(this.activeIndex);return}if(n===37||n===39){let l=n===37?-1:1,c=this._tabFocusIndex+l,f=this._menus.length;for(let d=0;d<f;d++){let m=(f+c+l*d)%f;if(this._menus[m].items.length){this._focusItemAt(m);return}}return}let i=getKeyboardLayout$1().keyForKeydownEvent(e);if(!i)return;let o=this._activeIndex+1,u=Private$3$2.findMnemonic(this._menus,i,o);u.index!==-1&&!u.multiple?(this.activeIndex=u.index,this.openActiveMenu()):u.index!==-1?(this.activeIndex=u.index,this._focusItemAt(this.activeIndex)):u.auto!==-1&&(this.activeIndex=u.auto,this._focusItemAt(this.activeIndex))}_evtMouseDown(e){if(!ElementExt$1.hitTest(this.node,e.clientX,e.clientY))return;e.stopPropagation(),e.stopImmediatePropagation();let n=ArrayExt$4.findFirstIndex(this.contentNode.children,i=>ElementExt$1.hitTest(i,e.clientX,e.clientY));if(n===-1){this._closeChildMenu();return}if(e.button===0)if(this._childMenu)this._closeChildMenu(),this.activeIndex=n;else{e.preventDefault();const i=this._positionForMenu(n);Menu$2.saveWindowData(),this.activeIndex=n,this._openChildMenu(i)}}_evtMouseMove(e){let n=ArrayExt$4.findFirstIndex(this.contentNode.children,o=>ElementExt$1.hitTest(o,e.clientX,e.clientY));if(n===this._activeIndex||n===-1&&this._childMenu)return;const i=n>=0&&this._childMenu?this._positionForMenu(n):null;Menu$2.saveWindowData(),this.activeIndex=n,i&&this._openChildMenu(i)}_positionForMenu(e){let n=this.contentNode.children[e],{left:i,bottom:o}=n.getBoundingClientRect();return{top:o,left:i}}_evtFocusOut(e){!this._childMenu&&!this.node.contains(e.relatedTarget)&&(this.activeIndex=-1)}_focusItemAt(e){const n=this.contentNode.childNodes[e];n&&n.focus()}_openChildMenu(e={}){let n=this.activeMenu;if(!n){this._closeChildMenu();return}let i=this._childMenu;if(i===n)return;this._childMenu=n,i?i.close():document.addEventListener("mousedown",this,!0),this._tabFocusIndex=this.activeIndex,MessageLoop$2.sendMessage(this,Widget$2.Msg.UpdateRequest);let{left:o,top:u}=e;(typeof o>"u"||typeof u>"u")&&({left:o,top:u}=this._positionForMenu(this._activeIndex)),i||this.addClass("lm-mod-active"),n.items.length>0&&n.open(o,u,this._forceItemsPosition)}_closeChildMenu(){if(!this._childMenu)return;this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0);let e=this._childMenu;this._childMenu=null,e.close(),this.activeIndex=-1}_onMenuAboutToClose(e){e===this._childMenu&&(this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0),this._childMenu=null,this.activeIndex=-1)}_onMenuMenuRequested(e,n){if(e!==this._childMenu)return;let i=this._activeIndex,o=this._menus.length;switch(n){case"next":this.activeIndex=i===o-1?0:i+1;break;case"previous":this.activeIndex=i===0?o-1:i-1;break}this.openActiveMenu()}_onTitleChanged(){this.update()}};(function(t){class e{renderItem(i){let o=this.createItemClass(i),u=this.createItemDataset(i),l=this.createItemARIA(i);return h$2.li({className:o,dataset:u,...i.disabled?{}:{tabindex:i.tabbable?"0":"-1"},onfocus:i.onfocus,...l},this.renderIcon(i),this.renderLabel(i))}renderIcon(i){let o=this.createIconClass(i);return h$2.div({className:o},i.title.icon,i.title.iconLabel)}renderLabel(i){let o=this.formatLabel(i);return h$2.div({className:"lm-MenuBar-itemLabel"},o)}createItemClass(i){let o="lm-MenuBar-item";return i.title.className&&(o+=` ${i.title.className}`),i.active&&!i.disabled&&(o+=" lm-mod-active"),o}createItemDataset(i){return i.title.dataset}createItemARIA(i){return{role:"menuitem","aria-haspopup":"true","aria-disabled":i.disabled?"true":"false"}}createIconClass(i){let o="lm-MenuBar-itemIcon",u=i.title.iconClass;return u?`${o} ${u}`:o}formatLabel(i){let{label:o,mnemonic:u}=i.title;if(u<0||u>=o.length)return o;let l=o.slice(0,u),c=o.slice(u+1),f=o[u],d=h$2.span({className:"lm-MenuBar-itemMnemonic"},f);return[l,d,c]}}t.Renderer=e,t.defaultRenderer=new e})(MenuBar$2||(MenuBar$2={}));var Private$3$2;(function(t){function e(){let i=document.createElement("div"),o=document.createElement("ul");return o.className="lm-MenuBar-content",i.appendChild(o),o.setAttribute("role","menubar"),i}t.createNode=e;function n(i,o,u){let l=-1,c=-1,f=!1,d=o.toUpperCase();for(let m=0,g=i.length;m<g;++m){let v=(m+u)%g,y=i[v].title;if(y.label.length===0)continue;let w=y.mnemonic;if(w>=0&&w<y.label.length){y.label[w].toUpperCase()===d&&(l===-1?l=v:f=!0);continue}c===-1&&y.label[0].toUpperCase()===d&&(c=v)}return{index:l,multiple:f,auto:c}}t.findMnemonic=n})(Private$3$2||(Private$3$2={}));var Private$2$2;(function(t){function e(){let i=document.createElement("div"),o=document.createElement("div"),u=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div");return o.className="lm-ScrollBar-button",u.className="lm-ScrollBar-button",o.dataset.action="decrement",u.dataset.action="increment",l.className="lm-ScrollBar-track",c.className="lm-ScrollBar-thumb",l.appendChild(c),i.appendChild(o),i.appendChild(l),i.appendChild(u),i}t.createNode=e;function n(i,o){return i.thumbNode.contains(o)?"thumb":i.trackNode.contains(o)?"track":i.decrementNode.contains(o)?"decrement":i.incrementNode.contains(o)?"increment":null}t.findPart=n})(Private$2$2||(Private$2$2={}));let StackedLayout$2=class extends PanelLayout$2{constructor(e={}){super(e),this._dirty=!1,this._items=[],this._box=null,this._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:Widget$2.HiddenMode.Display}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this._hiddenMode=e,this.widgets.length>1&&this.widgets.forEach(n=>{n.hiddenMode=this._hiddenMode}))}dispose(){for(const e of this._items)e.dispose();this._box=null,this._items.length=0,super.dispose()}attachWidget(e,n){this._hiddenMode===Widget$2.HiddenMode.Scale&&this._items.length>0?(this._items.length===1&&(this.widgets[0].hiddenMode=Widget$2.HiddenMode.Scale),n.hiddenMode=Widget$2.HiddenMode.Scale):n.hiddenMode=Widget$2.HiddenMode.Display,ArrayExt$4.insert(this._items,e,new LayoutItem$2(n)),this.parent.isAttached&&MessageLoop$2.sendMessage(n,Widget$2.Msg.BeforeAttach),this.parent.node.appendChild(n.node),this.parent.isAttached&&MessageLoop$2.sendMessage(n,Widget$2.Msg.AfterAttach),this.parent.fit()}moveWidget(e,n,i){ArrayExt$4.move(this._items,e,n),this.parent.update()}detachWidget(e,n){let i=ArrayExt$4.removeAt(this._items,e);this.parent.isAttached&&MessageLoop$2.sendMessage(n,Widget$2.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.isAttached&&MessageLoop$2.sendMessage(n,Widget$2.Msg.AfterDetach),i.widget.node.style.zIndex="",this._hiddenMode===Widget$2.HiddenMode.Scale&&(n.hiddenMode=Widget$2.HiddenMode.Display,this._items.length===1&&(this._items[0].widget.hiddenMode=Widget$2.HiddenMode.Display)),i.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0,n=0;for(let u=0,l=this._items.length;u<l;++u){let c=this._items[u];c.isHidden||(c.fit(),e=Math.max(e,c.minWidth),n=Math.max(n,c.minHeight))}let i=this._box=ElementExt$1.boxSizing(this.parent.node);e+=i.horizontalSum,n+=i.verticalSum;let o=this.parent.node.style;o.minWidth=`${e}px`,o.minHeight=`${n}px`,this._dirty=!0,this.parent.parent&&MessageLoop$2.sendMessage(this.parent.parent,Widget$2.Msg.FitRequest),this._dirty&&MessageLoop$2.sendMessage(this.parent,Widget$2.Msg.UpdateRequest)}_update(e,n){this._dirty=!1;let i=0;for(let f=0,d=this._items.length;f<d;++f)i+=+!this._items[f].isHidden;if(i===0)return;e<0&&(e=this.parent.node.offsetWidth),n<0&&(n=this.parent.node.offsetHeight),this._box||(this._box=ElementExt$1.boxSizing(this.parent.node));let o=this._box.paddingTop,u=this._box.paddingLeft,l=e-this._box.horizontalSum,c=n-this._box.verticalSum;for(let f=0,d=this._items.length;f<d;++f){let m=this._items[f];m.isHidden||(m.widget.node.style.zIndex=`${f}`,m.update(u,o,l,c))}}};var Private$1$3;(function(t){function e(n){return n.layout||new StackedLayout$2}t.createLayout=e})(Private$1$3||(Private$1$3={}));var Private$D;(function(t){function e(u){return i[u]}t.orientationFromPlacement=e;function n(u){return o[u]}t.directionFromPlacement=n;const i={top:"horizontal",left:"vertical",right:"vertical",bottom:"horizontal"},o={top:"top-to-bottom",left:"left-to-right",right:"right-to-left",bottom:"bottom-to-top"}})(Private$D||(Private$D={}));const OUTPUT_AREA_CLASS="jp-OutputArea",OUTPUT_AREA_ITEM_CLASS="jp-OutputArea-child",OUTPUT_AREA_OUTPUT_CLASS="jp-OutputArea-output",OUTPUT_AREA_PROMPT_CLASS="jp-OutputArea-prompt",OUTPUT_AREA_STDIN_HIDING_CLASS="jp-OutputArea-stdin-hiding",OUTPUT_PROMPT_CLASS="jp-OutputPrompt",EXECUTE_CLASS="jp-OutputArea-executeResult",OUTPUT_AREA_STDIN_ITEM_CLASS="jp-OutputArea-stdin-item",STDIN_CLASS="jp-Stdin",STDIN_PROMPT_CLASS="jp-Stdin-prompt",STDIN_INPUT_CLASS="jp-Stdin-input",OUTPUT_PROMPT_OVERLAY="jp-OutputArea-promptOverlay";class OutputArea extends Widget$2{constructor(e){var n,i,o,u,l;super(),this.outputLengthChanged=new Signal$2(this),this._onIOPub=f=>{const d=this.model,m=f.header.msg_type;let g;const y=(f.content.transient||{}).display_id;let w;switch(m){case"execute_result":case"display_data":case"stream":case"error":g={...f.content,output_type:m},d.add(g);break;case"clear_output":{const T=f.content.wait;d.clear(T);break}case"update_display_data":if(g={...f.content,output_type:"display_data"},w=this._displayIdMap.get(y),w)for(const T of w)d.set(T,g);break;case"status":{f.content.execution_state==="idle"&&(this._pendingInput=!1);break}}y&&m==="display_data"&&(w=this._displayIdMap.get(y)||[],w.push(d.length-1),this._displayIdMap.set(y,w))},this._onExecuteReply=f=>{const d=this.model,m=f.content;if(m.status!=="ok")return;const g=m&&m.payload;if(!g||!g.length)return;const v=g.filter(T=>T.source==="page");if(!v.length)return;const w={output_type:"display_data",data:JSON.parse(JSON.stringify(v[0])).data,metadata:{}};d.add(w)},this._displayIdMap=new Map,this._minHeightTimeout=null,this._inputRequested=new Signal$2(this),this._toggleScrolling=new Signal$2(this),this._initialize=new Signal$2(this),this._outputTracker=new WidgetTracker({namespace:UUID$2.uuid4()}),this._inputHistoryScope="global",this._pendingInput=!1,this._showInputPlaceholder=!0,super.layout=new PanelLayout$2,this.addClass(OUTPUT_AREA_CLASS),this.contentFactory=(n=e.contentFactory)!==null&&n!==void 0?n:OutputArea.defaultContentFactory,this.rendermime=e.rendermime,this._maxNumberOutputs=(i=e.maxNumberOutputs)!==null&&i!==void 0?i:1/0,this._translator=(o=e.translator)!==null&&o!==void 0?o:nullTranslator,this._inputHistoryScope=(u=e.inputHistoryScope)!==null&&u!==void 0?u:"global",this._showInputPlaceholder=(l=e.showInputPlaceholder)!==null&&l!==void 0?l:!0;const c=this.model=e.model;for(let f=0;f<Math.min(c.length,this._maxNumberOutputs+1);f++){const d=c.get(f);this._insertOutput(f,d),d.type==="stream"&&d.streamText.changed.connect((m,g)=>{this._setOutput(f,d)})}c.changed.connect(this.onModelChanged,this),c.stateChanged.connect(this.onStateChanged,this),e.promptOverlay&&this._addPromptOverlay()}get layout(){return super.layout}get widgets(){return this.layout.widgets}get future(){return this._future}set future(e){if(this.model.isDisposed)throw Error("Model is disposed");this._future!==e&&(this._future&&this._future.dispose(),this._future=e,e.done.finally(()=>{this._pendingInput=!1}).catch(()=>{}),this.model.clear(),this.widgets.length&&(this._clear(),this.outputLengthChanged.emit(Math.min(this.model.length,this._maxNumberOutputs))),e.onIOPub=this._onIOPub,e.onReply=this._onExecuteReply,e.onStdin=n=>{libExports$6.KernelMessage.isInputRequestMsg(n)&&this.onInputRequest(n,e)})}get inputRequested(){return this._inputRequested}get pendingInput(){return this._pendingInput}get maxNumberOutputs(){return this._maxNumberOutputs}set maxNumberOutputs(e){if(e<=0){console.warn("OutputArea.maxNumberOutputs must be strictly positive.");return}const n=this._maxNumberOutputs;this._maxNumberOutputs=e,n<e&&this._showTrimmedOutputs(n)}dispose(){this._future&&(this._future.dispose(),this._future=null),this._displayIdMap.clear(),this._outputTracker.dispose(),super.dispose()}onModelChanged(e,n){switch(n.type){case"add":const i=n.newValues[0];this._insertOutput(n.newIndex,i),i.type==="stream"&&i.streamText.changed.connect((o,u)=>{this._setOutput(n.newIndex,i)});break;case"remove":if(this.widgets.length)if(this.model.length===0)this._clear();else{const o=n.oldIndex;for(let u=0;u<n.oldValues.length&&o<this.widgets.length;++u){const l=this.widgets[o];l.parent=null,l.dispose()}this._moveDisplayIdIndices(o,n.oldValues.length),this._preventHeightChangeJitter()}break;case"clear":this._clear();break;case"set":this._setOutput(n.newIndex,n.newValues[0]);break}this.outputLengthChanged.emit(Math.min(this.model.length,this._maxNumberOutputs))}get toggleScrolling(){return this._toggleScrolling}get initialize(){return this._initialize}_addPromptOverlay(){const e=document.createElement("div");e.className=OUTPUT_PROMPT_OVERLAY,e.addEventListener("click",()=>{this._toggleScrolling.emit()}),this.node.appendChild(e);const n=()=>{const o=this.node.querySelector(".jp-OutputArea-child");o&&(e.style.height=`${Math.max(o.getBoundingClientRect().height,this.node.getBoundingClientRect().height)}px`)},i=new ResizeObserver(n);i.observe(this.node),this.disposed.connect(()=>{i.disconnect()}),requestAnimationFrame(()=>{this._initialize.emit()})}_moveDisplayIdIndices(e,n){this._displayIdMap.forEach(i=>{const o=e+n,u=i.length;for(let l=u-1;l>=0;--l){const c=i[l];c>=e&&c<o?i.splice(l,1):c>=o&&(i[l]-=n)}})}onStateChanged(e,n){const i=Math.min(this.model.length,this._maxNumberOutputs);if(n){if(n>=this._maxNumberOutputs)return;this._setOutput(n,this.model.get(n))}else for(let o=0;o<i;o++)this._setOutput(o,this.model.get(o));this.outputLengthChanged.emit(i)}_clear(){if(!this.widgets.length)return;const e=this.widgets.length;for(let n=0;n<e;n++){const i=this.widgets[0];i.parent=null,i.dispose()}this._displayIdMap.clear(),this._preventHeightChangeJitter()}_preventHeightChangeJitter(){const e=this.node.getBoundingClientRect();this.node.style.minHeight=`${e.height}px`,this._minHeightTimeout&&window.clearTimeout(this._minHeightTimeout),this._minHeightTimeout=window.setTimeout(()=>{this.isDisposed||(this.node.style.minHeight="")},50)}onInputRequest(e,n){const i=this.contentFactory,o=e.content.prompt,u=e.content.password,l=new Panel$2;l.addClass(OUTPUT_AREA_ITEM_CLASS),l.addClass(OUTPUT_AREA_STDIN_ITEM_CLASS);const c=i.createOutputPrompt();c.addClass(OUTPUT_AREA_PROMPT_CLASS),l.addWidget(c),this._pendingInput=!0;const f=i.createStdin({parent_header:e.header,prompt:o,password:u,future:n,translator:this._translator,inputHistoryScope:this._inputHistoryScope,showInputPlaceholder:this._showInputPlaceholder});f.addClass(OUTPUT_AREA_OUTPUT_CLASS),l.addWidget(f),this.model.length>=this.maxNumberOutputs&&(this.maxNumberOutputs=this.model.length),this._inputRequested.emit(f);const d=f.node.getElementsByTagName("input")[0];f.value.then(m=>{this.model.length>=this.maxNumberOutputs&&(this.maxNumberOutputs=this.model.length+1),l.addClass(OUTPUT_AREA_STDIN_HIDING_CLASS),this.model.add({output_type:"stream",name:"stdin",text:m+`
`}),d.focus(),this._pendingInput=!1,window.setTimeout(()=>{const g=document.activeElement;l.dispose(),g&&g instanceof HTMLElement&&g.focus()},500)}),this.layout.addWidget(l)}_setOutput(e,n){if(e>=this._maxNumberOutputs)return;const i=this.layout.widgets[e],o=i.widgets?i.widgets.filter(l=>"renderModel"in l).pop():i,u=this.rendermime.preferredMimeType(n.data,n.trusted?"any":"ensure");Private$C.currentPreferredMimetype.get(o)===u&&OutputArea.isIsolated(u,n.metadata)===o instanceof Private$C.IsolatedRenderer?o.renderModel(n):(this.layout.widgets[e].dispose(),this._insertOutput(e,n))}_insertOutput(e,n){if(e>this._maxNumberOutputs)return;const i=this.layout;if(e===this._maxNumberOutputs){const o=new Private$C.TrimmedOutputs(this._maxNumberOutputs,()=>{const u=this._maxNumberOutputs;this._maxNumberOutputs=1/0,this._showTrimmedOutputs(u)},this._translator);i.insertWidget(e,this._wrappedOutput(o))}else{let o=this.createOutputItem(n);o?o.toggleClass(EXECUTE_CLASS,n.executionCount!==null):o=new Widget$2,this._outputTracker.has(o)||this._outputTracker.add(o),i.insertWidget(e,o)}}get outputTracker(){return this._outputTracker}_showTrimmedOutputs(e){this.widgets[e].dispose();for(let n=e;n<this.model.length;n++)this._insertOutput(n,this.model.get(n));this.outputLengthChanged.emit(Math.min(this.model.length,this._maxNumberOutputs))}createOutputItem(e){const n=this.createRenderedMimetype(e);return n?this._wrappedOutput(n,e.executionCount):null}createRenderedMimetype(e){const n=this.rendermime.preferredMimeType(e.data,e.trusted?"any":"ensure");if(!n)return null;let i=this.rendermime.createRenderer(n);return OutputArea.isIsolated(n,e.metadata)===!0&&(i=new Private$C.IsolatedRenderer(i)),Private$C.currentPreferredMimetype.set(i,n),i.renderModel(e).catch(u=>{const l=document.createElement("pre"),c=this._translator.load("jupyterlab");l.textContent=c.__("Javascript Error: %1",u.message),i.node.appendChild(l),i.node.className="lm-Widget jp-RenderedText",i.node.setAttribute("data-mime-type","application/vnd.jupyter.stderr")}),i}_wrappedOutput(e,n=null){const i=new Private$C.OutputPanel;i.addClass(OUTPUT_AREA_ITEM_CLASS);const o=this.contentFactory.createOutputPrompt();return o.executionCount=n,o.addClass(OUTPUT_AREA_PROMPT_CLASS),i.addWidget(o),e.addClass(OUTPUT_AREA_OUTPUT_CLASS),i.addWidget(e),i}}(function(t){async function e(o,u,l,c){var f;let d=!0;c&&Array.isArray(c.tags)&&c.tags.indexOf("raises-exception")!==-1&&(d=!1);const m={code:o,stop_on_error:d},g=(f=l.session)===null||f===void 0?void 0:f.kernel;if(!g)throw new Error("Session has no kernel.");const v=g.requestExecute(m,!1,c);return u.future=v,v.done}t.execute=e;function n(o,u){const l=u[o];return l&&l.isolated!==void 0?!!l.isolated:!!u.isolated}t.isIsolated=n;class i{createOutputPrompt(){return new OutputPrompt}createStdin(u){return new Stdin(u)}}t.ContentFactory=i,t.defaultContentFactory=new i})(OutputArea||(OutputArea={}));class OutputPrompt extends Widget$2{constructor(){super(),this._executionCount=null,this.addClass(OUTPUT_PROMPT_CLASS)}get executionCount(){return this._executionCount}set executionCount(e){this._executionCount=e,e===null?this.node.textContent="":this.node.textContent=`[${e}]:`}}class Stdin extends Widget$2{static _historyIx(e,n){const i=Stdin._history.get(e);if(!i)return;const o=i.length;if(n<=0)return o+n}static _historyAt(e,n){const i=Stdin._history.get(e);if(!i)return;const o=i.length,u=Stdin._historyIx(e,n);if(u!==void 0&&u<o)return i[u]}static _historyPush(e,n){const i=Stdin._history.get(e);i.push(n),i.length>1e3&&i.shift()}static _historySearch(e,n,i,o=!0){const u=Stdin._history.get(e),l=u.length,c=Stdin._historyIx(e,i),f=d=>d.search(n)!==-1;if(c!==void 0)if(o){if(c===0)return;const d=u.slice(0,c).findLastIndex(f);if(d!==-1)return d-l}else{if(c>=l-1)return;const d=u.slice(c+1).findIndex(f);if(d!==-1)return d-l+c+1}}constructor(e){var n;super({node:Private$C.createInputWidgetNode(e.prompt,e.password)}),this._promise=new PromiseDelegate$1,this._resolved=!1,this.addClass(STDIN_CLASS),this._future=e.future,this._historyIndex=0,this._historyKey=e.inputHistoryScope==="session"?e.parent_header.session:"",this._historyPat="",this._parentHeader=e.parent_header,this._password=e.password,this._trans=((n=e.translator)!==null&&n!==void 0?n:nullTranslator).load("jupyterlab"),this._value=e.prompt+" ",this._input=this.node.getElementsByTagName("input")[0],e.showInputPlaceholder&&!this._password?this._input.placeholder=this._trans.__(" for history. Search history with c-/c-"):this._input.placeholder="",Stdin._history.has(this._historyKey)||Stdin._history.set(this._historyKey,[])}get value(){return this._promise.promise.then(()=>this._value)}handleEvent(e){if(e.stopPropagation(),this._resolved){e.preventDefault();return}const n=this._input;if(e.type==="keydown"){if(e.key==="Enter")this.resetSearch(),this._future.sendInputReply({status:"ok",value:n.value},this._parentHeader),this._password?this._value+="":(this._value+=n.value,Stdin._historyPush(this._historyKey,n.value)),this._resolved=!0,this._promise.resolve(void 0);else if(e.key==="Escape")this.resetSearch(),n.blur();else if(e.ctrlKey&&(e.key==="ArrowUp"||e.key==="ArrowDown")){this._historyPat===""&&(this._historyPat=n.value);const i=e.key==="ArrowUp",o=Stdin._historySearch(this._historyKey,this._historyPat,this._historyIndex,i);if(o!==void 0){const u=Stdin._historyAt(this._historyKey,o);u!==void 0&&(this._historyIndex===0&&(this._valueCache=n.value),this._setInputValue(u),this._historyIndex=o,e.preventDefault())}}else if(e.key==="ArrowUp"){this.resetSearch();const i=Stdin._historyAt(this._historyKey,this._historyIndex-1);i&&(this._historyIndex===0&&(this._valueCache=n.value),this._setInputValue(i),--this._historyIndex,e.preventDefault())}else if(e.key==="ArrowDown"&&(this.resetSearch(),this._historyIndex!==0))if(this._historyIndex===-1)this._setInputValue(this._valueCache),++this._historyIndex;else{const i=Stdin._historyAt(this._historyKey,this._historyIndex+1);i&&(this._setInputValue(i),++this._historyIndex)}}}resetSearch(){this._historyPat=""}onAfterAttach(e){this._input.addEventListener("keydown",this),this._input.focus()}onBeforeDetach(e){this._input.removeEventListener("keydown",this)}_setInputValue(e){this._input.value=e,this._input.setSelectionRange(e.length,e.length)}}Stdin._history=new Map;var Private$C;(function(t){function e(u,l){const c=document.createElement("div"),f=document.createElement("pre");f.className=STDIN_PROMPT_CLASS,f.textContent=u;const d=document.createElement("input");return d.className=STDIN_INPUT_CLASS,l&&(d.type="password"),c.appendChild(f),f.appendChild(d),c}t.createInputWidgetNode=e;class n extends Widget$2{constructor(l){super({node:document.createElement("iframe")}),this.addClass("jp-mod-isolated"),this._wrapped=l;const c=this.node;c.frameBorder="0",c.scrolling="auto",c.addEventListener("load",()=>{c.contentDocument.open(),c.contentDocument.write(this._wrapped.node.innerHTML),c.contentDocument.close();const f=c.contentDocument.body;c.style.height=`${f.scrollHeight}px`,c.heightChangeObserver=new ResizeObserver(()=>{c.style.height=`${f.scrollHeight}px`}),c.heightChangeObserver.observe(f)})}renderModel(l){return this._wrapped.renderModel(l)}}t.IsolatedRenderer=n,t.currentPreferredMimetype=new AttachedProperty$2({name:"preferredMimetype",create:u=>""});class i extends Panel$2{constructor(l){super(l)}_onContext(l){this.node.focus()}onAfterAttach(l){super.onAfterAttach(l),this.node.addEventListener("contextmenu",this._onContext.bind(this))}onBeforeDetach(l){super.onAfterDetach(l),this.node.removeEventListener("contextmenu",this._onContext.bind(this))}}t.OutputPanel=i;class o extends Widget$2{constructor(l,c,f){const d=document.createElement("div"),m=(f??nullTranslator).load("jupyterlab"),g=document.createElement("button");g.type="button",g.className="jp-TrimmedOutputs-button",g.title=m.__("The first %1 are displayed",l),g.textContent=m.__("Show more outputs"),d.appendChild(g),super({node:d}),this._onClick=c,this.addClass("jp-TrimmedOutputs")}handleEvent(l){l.type==="click"&&this._onClick(l)}onAfterAttach(l){super.onAfterAttach(l),this.node.addEventListener("click",this)}onBeforeDetach(l){super.onBeforeDetach(l),this.node.removeEventListener("click",this)}}t.TrimmedOutputs=o})(Private$C||(Private$C={}));var ArrayExt$3;(function(t){function e(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q=R.length;if(Q===0)return-1;F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);var ie;K<F?ie=K+1+(Q-F):ie=K-F+1;for(var te=0;te<ie;++te){var oe=(F+te)%Q;if(R[oe]===G)return oe}return-1}t.firstIndexOf=e;function n(R,G,F,K){F===void 0&&(F=-1),K===void 0&&(K=0);var Q=R.length;if(Q===0)return-1;F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);var ie;F<K?ie=F+1+(Q-K):ie=F-K+1;for(var te=0;te<ie;++te){var oe=(F-te+Q)%Q;if(R[oe]===G)return oe}return-1}t.lastIndexOf=n;function i(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q=R.length;if(Q===0)return-1;F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);var ie;K<F?ie=K+1+(Q-F):ie=K-F+1;for(var te=0;te<ie;++te){var oe=(F+te)%Q;if(G(R[oe],oe))return oe}return-1}t.findFirstIndex=i;function o(R,G,F,K){F===void 0&&(F=-1),K===void 0&&(K=0);var Q=R.length;if(Q===0)return-1;F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);var ie;F<K?ie=F+1+(Q-K):ie=F-K+1;for(var te=0;te<ie;++te){var oe=(F-te+Q)%Q;if(G(R[oe],oe))return oe}return-1}t.findLastIndex=o;function u(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q=i(R,G,F,K);return Q!==-1?R[Q]:void 0}t.findFirstValue=u;function l(R,G,F,K){F===void 0&&(F=-1),K===void 0&&(K=0);var Q=o(R,G,F,K);return Q!==-1?R[Q]:void 0}t.findLastValue=l;function c(R,G,F,K,Q){K===void 0&&(K=0),Q===void 0&&(Q=-1);var ie=R.length;if(ie===0)return 0;K<0?K=Math.max(0,K+ie):K=Math.min(K,ie-1),Q<0?Q=Math.max(0,Q+ie):Q=Math.min(Q,ie-1);for(var te=K,oe=Q-K+1;oe>0;){var le=oe>>1,de=te+le;F(R[de],G)<0?(te=de+1,oe-=le+1):oe=le}return te}t.lowerBound=c;function f(R,G,F,K,Q){K===void 0&&(K=0),Q===void 0&&(Q=-1);var ie=R.length;if(ie===0)return 0;K<0?K=Math.max(0,K+ie):K=Math.min(K,ie-1),Q<0?Q=Math.max(0,Q+ie):Q=Math.min(Q,ie-1);for(var te=K,oe=Q-K+1;oe>0;){var le=oe>>1,de=te+le;F(R[de],G)>0?oe=le:(te=de+1,oe-=le+1)}return te}t.upperBound=f;function d(R,G,F){if(R===G)return!0;if(R.length!==G.length)return!1;for(var K=0,Q=R.length;K<Q;++K)if(F?!F(R[K],G[K]):R[K]!==G[K])return!1;return!0}t.shallowEqual=d;function m(R,G){G===void 0&&(G={});var F=G.start,K=G.stop,Q=G.step;if(Q===void 0&&(Q=1),Q===0)throw new Error("Slice `step` cannot be zero.");var ie=R.length;F===void 0?F=Q<0?ie-1:0:F<0?F=Math.max(F+ie,Q<0?-1:0):F>=ie&&(F=Q<0?ie-1:ie),K===void 0?K=Q<0?-1:ie:K<0?K=Math.max(K+ie,Q<0?-1:0):K>=ie&&(K=Q<0?ie-1:ie);var te;Q<0&&K>=F||Q>0&&F>=K?te=0:Q<0?te=Math.floor((K-F+1)/Q+1):te=Math.floor((K-F-1)/Q+1);for(var oe=[],le=0;le<te;++le)oe[le]=R[F+le*Q];return oe}t.slice=m;function g(R,G,F){var K=R.length;if(!(K<=1)&&(G<0?G=Math.max(0,G+K):G=Math.min(G,K-1),F<0?F=Math.max(0,F+K):F=Math.min(F,K-1),G!==F)){for(var Q=R[G],ie=G<F?1:-1,te=G;te!==F;te+=ie)R[te]=R[te+ie];R[F]=Q}}t.move=g;function v(R,G,F){G===void 0&&(G=0),F===void 0&&(F=-1);var K=R.length;if(!(K<=1))for(G<0?G=Math.max(0,G+K):G=Math.min(G,K-1),F<0?F=Math.max(0,F+K):F=Math.min(F,K-1);G<F;){var Q=R[G],ie=R[F];R[G++]=ie,R[F--]=Q}}t.reverse=v;function y(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q=R.length;if(!(Q<=1)&&(F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1),!(F>=K))){var ie=K-F+1;if(G>0?G=G%ie:G<0&&(G=(G%ie+ie)%ie),G!==0){var te=F+G;v(R,F,te-1),v(R,te,K),v(R,F,K)}}}t.rotate=y;function w(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q=R.length;if(Q!==0){F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);var ie;K<F?ie=K+1+(Q-F):ie=K-F+1;for(var te=0;te<ie;++te)R[(F+te)%Q]=G}}t.fill=w;function T(R,G,F){var K=R.length;G<0?G=Math.max(0,G+K):G=Math.min(G,K);for(var Q=K;Q>G;--Q)R[Q]=R[Q-1];R[G]=F}t.insert=T;function P(R,G){var F=R.length;if(G<0&&(G+=F),!(G<0||G>=F)){for(var K=R[G],Q=G+1;Q<F;++Q)R[Q-1]=R[Q];return R.length=F-1,K}}t.removeAt=P;function A(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q=e(R,G,F,K);return Q!==-1&&P(R,Q),Q}t.removeFirstOf=A;function D(R,G,F,K){F===void 0&&(F=-1),K===void 0&&(K=0);var Q=n(R,G,F,K);return Q!==-1&&P(R,Q),Q}t.removeLastOf=D;function k(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q=R.length;if(Q===0)return 0;F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);for(var ie=0,te=0;te<Q;++te)F<=K&&te>=F&&te<=K&&R[te]===G||K<F&&(te<=K||te>=F)&&R[te]===G?ie++:ie>0&&(R[te-ie]=R[te]);return ie>0&&(R.length=Q-ie),ie}t.removeAllOf=k;function j(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q,ie=i(R,G,F,K);return ie!==-1&&(Q=P(R,ie)),{index:ie,value:Q}}t.removeFirstWhere=j;function B(R,G,F,K){F===void 0&&(F=-1),K===void 0&&(K=0);var Q,ie=o(R,G,F,K);return ie!==-1&&(Q=P(R,ie)),{index:ie,value:Q}}t.removeLastWhere=B;function Z(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q=R.length;if(Q===0)return 0;F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);for(var ie=0,te=0;te<Q;++te)F<=K&&te>=F&&te<=K&&G(R[te],te)||K<F&&(te<=K||te>=F)&&G(R[te],te)?ie++:ie>0&&(R[te-ie]=R[te]);return ie>0&&(R.length=Q-ie),ie}t.removeAllWhere=Z})(ArrayExt$3||(ArrayExt$3={}));function iter$3(t){var e;return typeof t.iter=="function"?e=t.iter():e=new ArrayIterator$3(t),e}function each$4(t,e){for(var n=0,i=iter$3(t),o;(o=i.next())!==void 0;)if(e(o,n++)===!1)return}function toArray$1(t){for(var e=0,n=[],i=iter$3(t),o;(o=i.next())!==void 0;)n[e++]=o;return n}var ArrayIterator$3=(function(){function t(e){this._index=0,this._source=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]},t})();function chain$1(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ChainIterator(iter$3(t.map(iter$3)))}var ChainIterator=(function(){function t(e){this._cloned=!1,this._source=e,this._active=void 0}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone());return e._active=this._active&&this._active.clone(),e._cloned=!0,this._cloned=!0,e},t.prototype.next=function(){if(this._active===void 0){var e=this._source.next();if(e===void 0)return;this._active=this._cloned?e.clone():e}var n=this._active.next();return n!==void 0?n:(this._active=void 0,this.next())},t})();function empty$9(){return new EmptyIterator$1}var EmptyIterator$1=(function(){function t(){}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t},t.prototype.next=function(){},t})();function filter$1(t,e){return new FilterIterator(iter$3(t),e)}var FilterIterator=(function(){function t(e,n){this._index=0,this._source=e,this._fn=n}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone(),this._fn);return e._index=this._index,e},t.prototype.next=function(){for(var e=this._fn,n=this._source,i;(i=n.next())!==void 0;)if(e(i,this._index++))return i},t})();function find$3(t,e){for(var n=0,i=iter$3(t),o;(o=i.next())!==void 0;)if(e(o,n++))return o}function max$1(t,e){var n=iter$3(t),i=n.next();if(i!==void 0){for(var o=i;(i=n.next())!==void 0;)e(i,o)>0&&(o=i);return o}}function map$2(t,e){return new MapIterator(iter$3(t),e)}var MapIterator=(function(){function t(e,n){this._index=0,this._source=e,this._fn=n}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone(),this._fn);return e._index=this._index,e},t.prototype.next=function(){var e=this._source.next();if(e!==void 0)return this._fn.call(void 0,e,this._index++)},t})(),Private$B;(function(t){function e(n,i,o){return o===0?1/0:n>i&&o>0||n<i&&o<0?0:Math.ceil((i-n)/o)}t.rangeLength=e})(Private$B||(Private$B={}));function reduce$1(t,e,n){var i=0,o=iter$3(t),u=o.next();if(u===void 0)return n;var l=o.next();if(l===void 0)return e(n,u,i++);var c;c=e(e(n,u,i++),l,i++);for(var f;(f=o.next())!==void 0;)c=e(c,f,i++);return c}function once$1(t){return new RepeatIterator(t,1)}var RepeatIterator=(function(){function t(e,n){this._value=e,this._count=n}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._value,this._count)},t.prototype.next=function(){if(!(this._count<=0))return this._count--,this._value},t})(),StringExt$3;(function(t){function e(l,c,f){f===void 0&&(f=0);for(var d=new Array(c.length),m=0,g=f,v=c.length;m<v;++m,++g){if(g=l.indexOf(c[m],g),g===-1)return null;d[m]=g}return d}t.findIndices=e;function n(l,c,f){f===void 0&&(f=0);var d=e(l,c,f);if(!d)return null;for(var m=0,g=0,v=d.length;g<v;++g){var y=d[g]-f;m+=y*y}return{score:m,indices:d}}t.matchSumOfSquares=n;function i(l,c,f){f===void 0&&(f=0);var d=e(l,c,f);if(!d)return null;for(var m=0,g=f-1,v=0,y=d.length;v<y;++v){var w=d[v];m+=w-g-1,g=w}return{score:m,indices:d}}t.matchSumOfDeltas=i;function o(l,c,f){for(var d=[],m=0,g=0,v=c.length;m<v;){for(var y=c[m],w=c[m];++m<v&&c[m]===w+1;)w++;g<y&&d.push(l.slice(g,y)),y<w+1&&d.push(f(l.slice(y,w+1))),g=w+1}return g<l.length&&d.push(l.slice(g)),d}t.highlight=o;function u(l,c){return l<c?-1:l>c?1:0}t.cmp=u})(StringExt$3||(StringExt$3={}));var ClipboardExt;(function(t){function e(n){var i=document.body,o=function(u){u.preventDefault(),u.stopPropagation(),u.clipboardData.setData("text",n),i.removeEventListener("copy",o,!0)};i.addEventListener("copy",o,!0),document.execCommand("copy")}t.copyText=e})(ClipboardExt||(ClipboardExt={}));var ElementExt;(function(t){function e(u){var l=window.getComputedStyle(u),c=parseFloat(l.borderTopWidth)||0,f=parseFloat(l.borderLeftWidth)||0,d=parseFloat(l.borderRightWidth)||0,m=parseFloat(l.borderBottomWidth)||0,g=parseFloat(l.paddingTop)||0,v=parseFloat(l.paddingLeft)||0,y=parseFloat(l.paddingRight)||0,w=parseFloat(l.paddingBottom)||0,T=f+v+y+d,P=c+g+w+m;return{borderTop:c,borderLeft:f,borderRight:d,borderBottom:m,paddingTop:g,paddingLeft:v,paddingRight:y,paddingBottom:w,horizontalSum:T,verticalSum:P}}t.boxSizing=e;function n(u){var l=window.getComputedStyle(u),c=parseFloat(l.minWidth)||0,f=parseFloat(l.minHeight)||0,d=parseFloat(l.maxWidth)||1/0,m=parseFloat(l.maxHeight)||1/0;return d=Math.max(c,d),m=Math.max(f,m),{minWidth:c,minHeight:f,maxWidth:d,maxHeight:m}}t.sizeLimits=n;function i(u,l,c){var f=u.getBoundingClientRect();return l>=f.left&&l<f.right&&c>=f.top&&c<f.bottom}t.hitTest=i;function o(u,l){var c=u.getBoundingClientRect(),f=l.getBoundingClientRect();if(!(f.top<=c.top&&f.bottom>=c.bottom)){if(f.top<c.top&&f.height<=c.height){u.scrollTop-=c.top-f.top;return}if(f.bottom>c.bottom&&f.height>=c.height){u.scrollTop-=c.top-f.top;return}if(f.top<c.top&&f.height>c.height){u.scrollTop-=c.bottom-f.bottom;return}if(f.bottom>c.bottom&&f.height<c.height){u.scrollTop-=c.bottom-f.bottom;return}}}t.scrollIntoViewIfNeeded=o})(ElementExt||(ElementExt={}));var Platform;(function(t){t.IS_MAC=!!navigator.platform.match(/Mac/i),t.IS_WIN=!!navigator.platform.match(/Win/i),t.IS_IE=/Trident/.test(navigator.userAgent),t.IS_EDGE=/Edge/.test(navigator.userAgent);function e(n){return t.IS_MAC?n.metaKey:n.ctrlKey}t.accelKey=e})(Platform||(Platform={}));var Selector;(function(t){function e(o){if(o in Private$A.specificityCache)return Private$A.specificityCache[o];var u=Private$A.calculateSingle(o);return Private$A.specificityCache[o]=u}t.calculateSpecificity=e;function n(o){if(o in Private$A.validityCache)return Private$A.validityCache[o];var u=!0;try{Private$A.testElem.querySelector(o)}catch{u=!1}return Private$A.validityCache[o]=u}t.isValid=n;function i(o,u){return Private$A.protoMatchFunc.call(o,u)}t.matches=i})(Selector||(Selector={}));var Private$A;(function(t){t.specificityCache=Object.create(null),t.validityCache=Object.create(null),t.testElem=document.createElement("div"),t.protoMatchFunc=(function(){var m=Element.prototype;return m.matches||m.matchesSelector||m.mozMatchesSelector||m.msMatchesSelector||m.oMatchesSelector||m.webkitMatchesSelector||function(g){var v=this,y=v.ownerDocument?v.ownerDocument.querySelectorAll(g):[];return Array.prototype.indexOf.call(y,v)!==-1}})();function e(m){m=m.split(",",1)[0];var g=0,v=0,y=0;function w(T){var P=m.match(T);return P===null?!1:(m=m.slice(P[0].length),!0)}for(m=m.replace(d," $1 ");m.length>0;){if(w(n)){g++;continue}if(w(i)){v++;continue}if(w(o)){v++;continue}if(w(l)){y++;continue}if(w(c)){v++;continue}if(w(u)){y++;continue}if(!w(f))return 0}return g=Math.min(g,255),v=Math.min(v,255),y=Math.min(y,255),g<<16|v<<8|y}t.calculateSingle=e;var n=/^#[^\s\+>~#\.\[:]+/,i=/^\.[^\s\+>~#\.\[:]+/,o=/^\[[^\]]+\]/,u=/^[^\s\+>~#\.\[:]+/,l=/^(::[^\s\+>~#\.\[:]+|:first-line|:first-letter|:before|:after)/,c=/^:[^\s\+>~#\.\[:]+/,f=/^[\s\+>~\*]+/,d=/:not\(([^\)]+)\)/g})(Private$A||(Private$A={}));var ArrayExt$2;(function(t){function e(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q=R.length;if(Q===0)return-1;F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);var ie;K<F?ie=K+1+(Q-F):ie=K-F+1;for(var te=0;te<ie;++te){var oe=(F+te)%Q;if(R[oe]===G)return oe}return-1}t.firstIndexOf=e;function n(R,G,F,K){F===void 0&&(F=-1),K===void 0&&(K=0);var Q=R.length;if(Q===0)return-1;F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);var ie;F<K?ie=F+1+(Q-K):ie=F-K+1;for(var te=0;te<ie;++te){var oe=(F-te+Q)%Q;if(R[oe]===G)return oe}return-1}t.lastIndexOf=n;function i(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q=R.length;if(Q===0)return-1;F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);var ie;K<F?ie=K+1+(Q-F):ie=K-F+1;for(var te=0;te<ie;++te){var oe=(F+te)%Q;if(G(R[oe],oe))return oe}return-1}t.findFirstIndex=i;function o(R,G,F,K){F===void 0&&(F=-1),K===void 0&&(K=0);var Q=R.length;if(Q===0)return-1;F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);var ie;F<K?ie=F+1+(Q-K):ie=F-K+1;for(var te=0;te<ie;++te){var oe=(F-te+Q)%Q;if(G(R[oe],oe))return oe}return-1}t.findLastIndex=o;function u(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q=i(R,G,F,K);return Q!==-1?R[Q]:void 0}t.findFirstValue=u;function l(R,G,F,K){F===void 0&&(F=-1),K===void 0&&(K=0);var Q=o(R,G,F,K);return Q!==-1?R[Q]:void 0}t.findLastValue=l;function c(R,G,F,K,Q){K===void 0&&(K=0),Q===void 0&&(Q=-1);var ie=R.length;if(ie===0)return 0;K<0?K=Math.max(0,K+ie):K=Math.min(K,ie-1),Q<0?Q=Math.max(0,Q+ie):Q=Math.min(Q,ie-1);for(var te=K,oe=Q-K+1;oe>0;){var le=oe>>1,de=te+le;F(R[de],G)<0?(te=de+1,oe-=le+1):oe=le}return te}t.lowerBound=c;function f(R,G,F,K,Q){K===void 0&&(K=0),Q===void 0&&(Q=-1);var ie=R.length;if(ie===0)return 0;K<0?K=Math.max(0,K+ie):K=Math.min(K,ie-1),Q<0?Q=Math.max(0,Q+ie):Q=Math.min(Q,ie-1);for(var te=K,oe=Q-K+1;oe>0;){var le=oe>>1,de=te+le;F(R[de],G)>0?oe=le:(te=de+1,oe-=le+1)}return te}t.upperBound=f;function d(R,G,F){if(R===G)return!0;if(R.length!==G.length)return!1;for(var K=0,Q=R.length;K<Q;++K)if(F?!F(R[K],G[K]):R[K]!==G[K])return!1;return!0}t.shallowEqual=d;function m(R,G){G===void 0&&(G={});var F=G.start,K=G.stop,Q=G.step;if(Q===void 0&&(Q=1),Q===0)throw new Error("Slice `step` cannot be zero.");var ie=R.length;F===void 0?F=Q<0?ie-1:0:F<0?F=Math.max(F+ie,Q<0?-1:0):F>=ie&&(F=Q<0?ie-1:ie),K===void 0?K=Q<0?-1:ie:K<0?K=Math.max(K+ie,Q<0?-1:0):K>=ie&&(K=Q<0?ie-1:ie);var te;Q<0&&K>=F||Q>0&&F>=K?te=0:Q<0?te=Math.floor((K-F+1)/Q+1):te=Math.floor((K-F-1)/Q+1);for(var oe=[],le=0;le<te;++le)oe[le]=R[F+le*Q];return oe}t.slice=m;function g(R,G,F){var K=R.length;if(!(K<=1)&&(G<0?G=Math.max(0,G+K):G=Math.min(G,K-1),F<0?F=Math.max(0,F+K):F=Math.min(F,K-1),G!==F)){for(var Q=R[G],ie=G<F?1:-1,te=G;te!==F;te+=ie)R[te]=R[te+ie];R[F]=Q}}t.move=g;function v(R,G,F){G===void 0&&(G=0),F===void 0&&(F=-1);var K=R.length;if(!(K<=1))for(G<0?G=Math.max(0,G+K):G=Math.min(G,K-1),F<0?F=Math.max(0,F+K):F=Math.min(F,K-1);G<F;){var Q=R[G],ie=R[F];R[G++]=ie,R[F--]=Q}}t.reverse=v;function y(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q=R.length;if(!(Q<=1)&&(F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1),!(F>=K))){var ie=K-F+1;if(G>0?G=G%ie:G<0&&(G=(G%ie+ie)%ie),G!==0){var te=F+G;v(R,F,te-1),v(R,te,K),v(R,F,K)}}}t.rotate=y;function w(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q=R.length;if(Q!==0){F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);var ie;K<F?ie=K+1+(Q-F):ie=K-F+1;for(var te=0;te<ie;++te)R[(F+te)%Q]=G}}t.fill=w;function T(R,G,F){var K=R.length;G<0?G=Math.max(0,G+K):G=Math.min(G,K);for(var Q=K;Q>G;--Q)R[Q]=R[Q-1];R[G]=F}t.insert=T;function P(R,G){var F=R.length;if(G<0&&(G+=F),!(G<0||G>=F)){for(var K=R[G],Q=G+1;Q<F;++Q)R[Q-1]=R[Q];return R.length=F-1,K}}t.removeAt=P;function A(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q=e(R,G,F,K);return Q!==-1&&P(R,Q),Q}t.removeFirstOf=A;function D(R,G,F,K){F===void 0&&(F=-1),K===void 0&&(K=0);var Q=n(R,G,F,K);return Q!==-1&&P(R,Q),Q}t.removeLastOf=D;function k(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q=R.length;if(Q===0)return 0;F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);for(var ie=0,te=0;te<Q;++te)F<=K&&te>=F&&te<=K&&R[te]===G||K<F&&(te<=K||te>=F)&&R[te]===G?ie++:ie>0&&(R[te-ie]=R[te]);return ie>0&&(R.length=Q-ie),ie}t.removeAllOf=k;function j(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q,ie=i(R,G,F,K);return ie!==-1&&(Q=P(R,ie)),{index:ie,value:Q}}t.removeFirstWhere=j;function B(R,G,F,K){F===void 0&&(F=-1),K===void 0&&(K=0);var Q,ie=o(R,G,F,K);return ie!==-1&&(Q=P(R,ie)),{index:ie,value:Q}}t.removeLastWhere=B;function Z(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q=R.length;if(Q===0)return 0;F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);for(var ie=0,te=0;te<Q;++te)F<=K&&te>=F&&te<=K&&G(R[te],te)||K<F&&(te<=K||te>=F)&&G(R[te],te)?ie++:ie>0&&(R[te-ie]=R[te]);return ie>0&&(R.length=Q-ie),ie}t.removeAllWhere=Z})(ArrayExt$2||(ArrayExt$2={}));function iter$2(t){var e;return typeof t.iter=="function"?e=t.iter():e=new ArrayIterator$2(t),e}function each$3(t,e){for(var n=0,i=iter$2(t),o;(o=i.next())!==void 0;)if(e(o,n++)===!1)return}function every$1(t,e){for(var n=0,i=iter$2(t),o;(o=i.next())!==void 0;)if(!e(o,n++))return!1;return!0}function some$1(t,e){for(var n=0,i=iter$2(t),o;(o=i.next())!==void 0;)if(e(o,n++))return!0;return!1}var ArrayIterator$2=(function(){function t(e){this._index=0,this._source=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]},t})(),Private$z;(function(t){function e(n,i,o){return o===0?1/0:n>i&&o>0||n<i&&o<0?0:Math.ceil((i-n)/o)}t.rangeLength=e})(Private$z||(Private$z={}));function retro(t){var e;return typeof t.retro=="function"?e=t.retro():e=new RetroArrayIterator(t),e}var RetroArrayIterator=(function(){function t(e){this._source=e,this._index=e.length-1}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index<0||this._index>=this._source.length))return this._source[this._index--]},t})(),StringExt$2;(function(t){function e(l,c,f){f===void 0&&(f=0);for(var d=new Array(c.length),m=0,g=f,v=c.length;m<v;++m,++g){if(g=l.indexOf(c[m],g),g===-1)return null;d[m]=g}return d}t.findIndices=e;function n(l,c,f){f===void 0&&(f=0);var d=e(l,c,f);if(!d)return null;for(var m=0,g=0,v=d.length;g<v;++g){var y=d[g]-f;m+=y*y}return{score:m,indices:d}}t.matchSumOfSquares=n;function i(l,c,f){f===void 0&&(f=0);var d=e(l,c,f);if(!d)return null;for(var m=0,g=f-1,v=0,y=d.length;v<y;++v){var w=d[v];m+=w-g-1,g=w}return{score:m,indices:d}}t.matchSumOfDeltas=i;function o(l,c,f){for(var d=[],m=0,g=0,v=c.length;m<v;){for(var y=c[m],w=c[m];++m<v&&c[m]===w+1;)w++;g<y&&d.push(l.slice(g,y)),y<w+1&&d.push(f(l.slice(y,w+1))),g=w+1}return g<l.length&&d.push(l.slice(g)),d}t.highlight=o;function u(l,c){return l<c?-1:l>c?1:0}t.cmp=u})(StringExt$2||(StringExt$2={}));var ArrayExt$1;(function(t){function e(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q=R.length;if(Q===0)return-1;F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);var ie;K<F?ie=K+1+(Q-F):ie=K-F+1;for(var te=0;te<ie;++te){var oe=(F+te)%Q;if(R[oe]===G)return oe}return-1}t.firstIndexOf=e;function n(R,G,F,K){F===void 0&&(F=-1),K===void 0&&(K=0);var Q=R.length;if(Q===0)return-1;F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);var ie;F<K?ie=F+1+(Q-K):ie=F-K+1;for(var te=0;te<ie;++te){var oe=(F-te+Q)%Q;if(R[oe]===G)return oe}return-1}t.lastIndexOf=n;function i(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q=R.length;if(Q===0)return-1;F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);var ie;K<F?ie=K+1+(Q-F):ie=K-F+1;for(var te=0;te<ie;++te){var oe=(F+te)%Q;if(G(R[oe],oe))return oe}return-1}t.findFirstIndex=i;function o(R,G,F,K){F===void 0&&(F=-1),K===void 0&&(K=0);var Q=R.length;if(Q===0)return-1;F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);var ie;F<K?ie=F+1+(Q-K):ie=F-K+1;for(var te=0;te<ie;++te){var oe=(F-te+Q)%Q;if(G(R[oe],oe))return oe}return-1}t.findLastIndex=o;function u(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q=i(R,G,F,K);return Q!==-1?R[Q]:void 0}t.findFirstValue=u;function l(R,G,F,K){F===void 0&&(F=-1),K===void 0&&(K=0);var Q=o(R,G,F,K);return Q!==-1?R[Q]:void 0}t.findLastValue=l;function c(R,G,F,K,Q){K===void 0&&(K=0),Q===void 0&&(Q=-1);var ie=R.length;if(ie===0)return 0;K<0?K=Math.max(0,K+ie):K=Math.min(K,ie-1),Q<0?Q=Math.max(0,Q+ie):Q=Math.min(Q,ie-1);for(var te=K,oe=Q-K+1;oe>0;){var le=oe>>1,de=te+le;F(R[de],G)<0?(te=de+1,oe-=le+1):oe=le}return te}t.lowerBound=c;function f(R,G,F,K,Q){K===void 0&&(K=0),Q===void 0&&(Q=-1);var ie=R.length;if(ie===0)return 0;K<0?K=Math.max(0,K+ie):K=Math.min(K,ie-1),Q<0?Q=Math.max(0,Q+ie):Q=Math.min(Q,ie-1);for(var te=K,oe=Q-K+1;oe>0;){var le=oe>>1,de=te+le;F(R[de],G)>0?oe=le:(te=de+1,oe-=le+1)}return te}t.upperBound=f;function d(R,G,F){if(R===G)return!0;if(R.length!==G.length)return!1;for(var K=0,Q=R.length;K<Q;++K)if(F?!F(R[K],G[K]):R[K]!==G[K])return!1;return!0}t.shallowEqual=d;function m(R,G){G===void 0&&(G={});var F=G.start,K=G.stop,Q=G.step;if(Q===void 0&&(Q=1),Q===0)throw new Error("Slice `step` cannot be zero.");var ie=R.length;F===void 0?F=Q<0?ie-1:0:F<0?F=Math.max(F+ie,Q<0?-1:0):F>=ie&&(F=Q<0?ie-1:ie),K===void 0?K=Q<0?-1:ie:K<0?K=Math.max(K+ie,Q<0?-1:0):K>=ie&&(K=Q<0?ie-1:ie);var te;Q<0&&K>=F||Q>0&&F>=K?te=0:Q<0?te=Math.floor((K-F+1)/Q+1):te=Math.floor((K-F-1)/Q+1);for(var oe=[],le=0;le<te;++le)oe[le]=R[F+le*Q];return oe}t.slice=m;function g(R,G,F){var K=R.length;if(!(K<=1)&&(G<0?G=Math.max(0,G+K):G=Math.min(G,K-1),F<0?F=Math.max(0,F+K):F=Math.min(F,K-1),G!==F)){for(var Q=R[G],ie=G<F?1:-1,te=G;te!==F;te+=ie)R[te]=R[te+ie];R[F]=Q}}t.move=g;function v(R,G,F){G===void 0&&(G=0),F===void 0&&(F=-1);var K=R.length;if(!(K<=1))for(G<0?G=Math.max(0,G+K):G=Math.min(G,K-1),F<0?F=Math.max(0,F+K):F=Math.min(F,K-1);G<F;){var Q=R[G],ie=R[F];R[G++]=ie,R[F--]=Q}}t.reverse=v;function y(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q=R.length;if(!(Q<=1)&&(F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1),!(F>=K))){var ie=K-F+1;if(G>0?G=G%ie:G<0&&(G=(G%ie+ie)%ie),G!==0){var te=F+G;v(R,F,te-1),v(R,te,K),v(R,F,K)}}}t.rotate=y;function w(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q=R.length;if(Q!==0){F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);var ie;K<F?ie=K+1+(Q-F):ie=K-F+1;for(var te=0;te<ie;++te)R[(F+te)%Q]=G}}t.fill=w;function T(R,G,F){var K=R.length;G<0?G=Math.max(0,G+K):G=Math.min(G,K);for(var Q=K;Q>G;--Q)R[Q]=R[Q-1];R[G]=F}t.insert=T;function P(R,G){var F=R.length;if(G<0&&(G+=F),!(G<0||G>=F)){for(var K=R[G],Q=G+1;Q<F;++Q)R[Q-1]=R[Q];return R.length=F-1,K}}t.removeAt=P;function A(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q=e(R,G,F,K);return Q!==-1&&P(R,Q),Q}t.removeFirstOf=A;function D(R,G,F,K){F===void 0&&(F=-1),K===void 0&&(K=0);var Q=n(R,G,F,K);return Q!==-1&&P(R,Q),Q}t.removeLastOf=D;function k(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q=R.length;if(Q===0)return 0;F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);for(var ie=0,te=0;te<Q;++te)F<=K&&te>=F&&te<=K&&R[te]===G||K<F&&(te<=K||te>=F)&&R[te]===G?ie++:ie>0&&(R[te-ie]=R[te]);return ie>0&&(R.length=Q-ie),ie}t.removeAllOf=k;function j(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q,ie=i(R,G,F,K);return ie!==-1&&(Q=P(R,ie)),{index:ie,value:Q}}t.removeFirstWhere=j;function B(R,G,F,K){F===void 0&&(F=-1),K===void 0&&(K=0);var Q,ie=o(R,G,F,K);return ie!==-1&&(Q=P(R,ie)),{index:ie,value:Q}}t.removeLastWhere=B;function Z(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q=R.length;if(Q===0)return 0;F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);for(var ie=0,te=0;te<Q;++te)F<=K&&te>=F&&te<=K&&G(R[te],te)||K<F&&(te<=K||te>=F)&&G(R[te],te)?ie++:ie>0&&(R[te-ie]=R[te]);return ie>0&&(R.length=Q-ie),ie}t.removeAllWhere=Z})(ArrayExt$1||(ArrayExt$1={}));function iter$1(t){var e;return typeof t.iter=="function"?e=t.iter():e=new ArrayIterator$1(t),e}function each$2(t,e){for(var n=0,i=iter$1(t),o;(o=i.next())!==void 0;)if(e(o,n++)===!1)return}var ArrayIterator$1=(function(){function t(e){this._index=0,this._source=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]},t})();function empty$8(){return new EmptyIterator}var EmptyIterator=(function(){function t(){}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t},t.prototype.next=function(){},t})(),Private$y;(function(t){function e(n,i,o){return o===0?1/0:n>i&&o>0||n<i&&o<0?0:Math.ceil((i-n)/o)}t.rangeLength=e})(Private$y||(Private$y={}));var StringExt$1;(function(t){function e(l,c,f){f===void 0&&(f=0);for(var d=new Array(c.length),m=0,g=f,v=c.length;m<v;++m,++g){if(g=l.indexOf(c[m],g),g===-1)return null;d[m]=g}return d}t.findIndices=e;function n(l,c,f){f===void 0&&(f=0);var d=e(l,c,f);if(!d)return null;for(var m=0,g=0,v=d.length;g<v;++g){var y=d[g]-f;m+=y*y}return{score:m,indices:d}}t.matchSumOfSquares=n;function i(l,c,f){f===void 0&&(f=0);var d=e(l,c,f);if(!d)return null;for(var m=0,g=f-1,v=0,y=d.length;v<y;++v){var w=d[v];m+=w-g-1,g=w}return{score:m,indices:d}}t.matchSumOfDeltas=i;function o(l,c,f){for(var d=[],m=0,g=0,v=c.length;m<v;){for(var y=c[m],w=c[m];++m<v&&c[m]===w+1;)w++;g<y&&d.push(l.slice(g,y)),y<w+1&&d.push(f(l.slice(y,w+1))),g=w+1}return g<l.length&&d.push(l.slice(g)),d}t.highlight=o;function u(l,c){return l<c?-1:l>c?1:0}t.cmp=u})(StringExt$1||(StringExt$1={}));var BPlusTree=(function(){function t(e){this._root=new Private$1$2.LeafNode,this.cmp=e}return Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this._root.size===0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._root.size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){var e=Private$1$2.firstLeaf(this._root);return e.size>0?e.items[0]:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){var e=Private$1$2.lastLeaf(this._root);return e.size>0?e.items[e.size-1]:void 0},enumerable:!0,configurable:!0}),t.prototype.iter=function(){return Private$1$2.iterItems(this._root)},t.prototype.retro=function(){return Private$1$2.retroItems(this._root)},t.prototype.slice=function(e,n){return Private$1$2.sliceItems(this._root,e,n)},t.prototype.retroSlice=function(e,n){return Private$1$2.retroSliceItems(this._root,e,n)},t.prototype.at=function(e){return Private$1$2.itemAt(this._root,e)},t.prototype.has=function(e,n){return Private$1$2.hasItem(this._root,e,n)},t.prototype.indexOf=function(e,n){return Private$1$2.indexOf(this._root,e,n)},t.prototype.get=function(e,n){return Private$1$2.getItem(this._root,e,n)},t.prototype.assign=function(e){this.clear(),this.update(e)},t.prototype.insert=function(e){var n=Private$1$2.insertItem(this._root,e,this.cmp);return this._root=Private$1$2.maybeSplitRoot(this._root),n},t.prototype.update=function(e){var n=this;each$2(e,function(i){n.insert(i)})},t.prototype.delete=function(e,n){var i=Private$1$2.deleteItem(this._root,e,n);return this._root=Private$1$2.maybeExtractRoot(this._root),i},t.prototype.remove=function(e){var n=Private$1$2.removeItem(this._root,e);return this._root=Private$1$2.maybeExtractRoot(this._root),n},t.prototype.clear=function(){Private$1$2.clear(this._root),this._root=new Private$1$2.LeafNode},t})();(function(t){function e(n,i){var o=new t(i);return o.assign(n),o}t.from=e})(BPlusTree||(BPlusTree={}));var Private$1$2;(function(t){var e=(function(){function te(){this.items=[],this.sizes=[],this.children=[]}return Object.defineProperty(te.prototype,"type",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(te.prototype,"size",{get:function(){return this.sizes[this.sizes.length-1]},enumerable:!0,configurable:!0}),Object.defineProperty(te.prototype,"width",{get:function(){return this.children.length},enumerable:!0,configurable:!0}),te})();t.BranchNode=e;var n=(function(){function te(){this.next=null,this.prev=null,this.items=[]}return Object.defineProperty(te.prototype,"type",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(te.prototype,"size",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(te.prototype,"width",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),te})();t.LeafNode=n;function i(te){for(;te.type===0;)te=te.children[0];return te}t.firstLeaf=i;function o(te){for(;te.type===0;)te=te.children[te.children.length-1];return te}t.lastLeaf=o;function u(te){var oe=i(te);return new B(oe,0,-1)}t.iterItems=u;function l(te){var oe=o(te);return new Z(oe,oe.size-1,-1)}t.retroItems=l;function c(te,oe,le){oe===void 0?oe=0:oe<0?oe=Math.max(0,oe+te.size):oe=Math.min(oe,te.size),le===void 0?le=te.size:le<0?le=Math.max(0,le+te.size):le=Math.min(le,te.size);var de=Math.max(0,le-oe);if(de===0)return empty$8();for(;te.type===0;){var ge=R(te.sizes,oe);ge>0&&(oe-=te.sizes[ge-1]),te=te.children[ge]}return new B(te,oe,de)}t.sliceItems=c;function f(te,oe,le){oe===void 0?oe=te.size-1:oe<0?oe=Math.max(-1,oe+te.size):oe=Math.min(oe,te.size-1),le===void 0?le=-1:le<0?le=Math.max(-1,le+te.size):le=Math.min(le,te.size-1);var de=Math.max(0,oe-le);if(de===0)return empty$8();for(;te.type===0;){var ge=R(te.sizes,oe);ge>0&&(oe-=te.sizes[ge-1]),te=te.children[ge]}return new Z(te,oe,de)}t.retroSliceItems=f;function d(te,oe){if(oe<0&&(oe+=te.size),!(oe<0||oe>=te.size)){for(;te.type===0;){var le=R(te.sizes,oe);le>0&&(oe-=te.sizes[le-1]),te=te.children[le]}return te.items[oe]}}t.itemAt=d;function m(te,oe,le){for(;te.type===0;){var de=G(te.items,oe,le);te=te.children[de]}var ge=F(te.items,oe,le);return ge>=0}t.hasItem=m;function g(te,oe,le){for(var de=0;te.type===0;){var ge=G(te.items,oe,le);ge>0&&(de+=te.sizes[ge-1]),te=te.children[ge]}var _e=F(te.items,oe,le);return _e>=0?de+_e:-de+_e}t.indexOf=g;function v(te,oe,le){for(;te.type===0;){var de=G(te.items,oe,le);te=te.children[de]}var ge=F(te.items,oe,le);return ge>=0?te.items[ge]:void 0}t.getItem=v;function y(te,oe,le){if(te.type===1){var de=F(te.items,oe,le),ge;return de>=0?(ge=te.items[de],te.items[de]=oe):(ge=void 0,ArrayExt$1.insert(te.items,-de-1,oe)),ge}var _e=G(te.items,oe,le),we=te.children[_e],Me=we.size,xe=y(we,oe,le),Re=we.size;if(te.items[_e]=we.items[0],Me===Re)return xe;if(we.width>k){var Se=Q(we);ArrayExt$1.insert(te.children,_e+1,Se),ArrayExt$1.insert(te.items,_e+1,Se.items[0])}return K(te,_e),xe}t.insertItem=y;function w(te,oe,le){if(te.type===1){var de=F(te.items,oe,le);return de<0?void 0:ArrayExt$1.removeAt(te.items,de)}var ge=G(te.items,oe,le),_e=te.children[ge],we=_e.size,Me=w(_e,oe,le),xe=_e.size;return we===xe||(te.items[ge]=_e.items[0],_e.width<j&&(ge=ie(te,ge)),K(te,ge)),Me}t.deleteItem=w;function T(te,oe){if(oe<0&&(oe+=te.size),!(oe<0||oe>=te.size)){if(te.type===1)return ArrayExt$1.removeAt(te.items,oe);var le=R(te.sizes,oe);le>0&&(oe-=te.sizes[le]);var de=te.children[le],ge=T(de,oe);return te.items[le]=de.items[0],de.width<j&&(le=ie(te,le)),K(te,le),ge}}t.removeItem=T;function P(te){te.type===0?(each$2(te.children,P),te.children.length=0,te.sizes.length=0,te.items.length=0):(te.items.length=0,te.next=null,te.prev=null)}t.clear=P;function A(te){if(te.width<=k)return te;var oe=new e,le=Q(te);return oe.sizes[0]=te.size,oe.sizes[1]=te.size+le.size,oe.children[0]=te,oe.children[1]=le,oe.items[0]=te.items[0],oe.items[1]=le.items[0],oe}t.maybeSplitRoot=A;function D(te){if(te.type===1||te.children.length>1)return te;var oe=te.children.pop();return P(te),oe}t.maybeExtractRoot=D;var k=32,j=k>>1,B=(function(){function te(oe,le,de){this._node=oe,this._index=le,this._count=de}return te.prototype.iter=function(){return this},te.prototype.clone=function(){return new te(this._node,this._index,this._count)},te.prototype.next=function(){if(!(this._node===null||this._count===0))return this._index>=this._node.size?(this._node=this._node.next,this._index=0,this.next()):(this._count>0&&this._count--,this._node.items[this._index++])},te})(),Z=(function(){function te(oe,le,de){this._node=oe,this._index=le,this._count=de}return te.prototype.iter=function(){return this},te.prototype.clone=function(){return new te(this._node,this._index,this._count)},te.prototype.next=function(){if(!(this._node===null||this._count===0))return this._index>=this._node.size&&(this._index=this._node.size-1),this._index<0?(this._node=this._node.prev,this._index=this._node?this._node.size-1:-1,this.next()):(this._count>0&&this._count--,this._node.items[this._index--])},te})();function R(te,oe){for(var le=te.length,de=0;de<le;++de)if(te[de]>oe)return de;return le-1}function G(te,oe,le){for(var de=te.length,ge=1;ge<de;++ge)if(le(te[ge],oe)>0)return ge-1;return de-1}function F(te,oe,le){for(var de=te.length,ge=0;ge<de;++ge){var _e=le(te[ge],oe);if(_e===0)return ge;if(_e>0)return-ge-1}return-de-1}function K(te,oe){for(var le=te.sizes,de=te.children,ge=oe>0?le[oe-1]:0,_e=de.length;oe<_e;++oe)ge=le[oe]=ge+de[oe].size;le.length=de.length}function Q(te){if(te.type===1){for(var oe=new n,le=te.items,de=oe.items,ge=j,_e=le.length;ge<_e;++ge)de.push(le[ge]);return le.length=j,te.next&&(te.next.prev=oe),oe.next=te.next,oe.prev=te,te.next=oe,oe}for(var we=new e,Me=te.children,xe=we.children,ge=j,_e=Me.length;ge<_e;++ge)xe.push(Me[ge]);Me.length=j;for(var Re=te.items,Se=we.items,ge=j,_e=Re.length;ge<_e;++ge)Se.push(Re[ge]);return Re.length=j,K(te,j),K(we,0),we}function ie(te,oe){var le,de,ge,_e,we,Me,xe=te.children[oe],Re=oe===0?te.children[oe+1]:te.children[oe-1],Se=oe===0,Ge=xe.type===1,Qe=Re.width>j;if(Ge&&Qe&&Se){var Je=xe,Xe=Re;return Je.items.push(Xe.items.shift()),te.items[oe+1]=Xe.items[0],oe}if(Ge&&Qe&&!Se){var Je=xe,Xe=Re;return Je.items.unshift(Xe.items.pop()),te.items[oe]=Je.items[0],oe-1}if(Ge&&!Qe&&Se){var Je=xe,Xe=Re;return(le=Xe.items).unshift.apply(le,Je.items),ArrayExt$1.removeAt(te.children,oe),ArrayExt$1.removeAt(te.items,oe+1),Je.prev&&(Je.prev.next=Xe),Xe.prev=Je.prev,P(Je),oe}if(Ge&&!Qe&&!Se){var Je=xe,Xe=Re;return(de=Xe.items).push.apply(de,Je.items),ArrayExt$1.removeAt(te.children,oe),ArrayExt$1.removeAt(te.items,oe),Je.next&&(Je.next.prev=Xe),Xe.next=Je.next,P(Je),oe-1}if(!Ge&&Qe&&Se){var Je=xe,Xe=Re;return Je.children.push(Xe.children.shift()),Je.items.push(Xe.items.shift()),te.items[oe+1]=Xe.items[0],K(Je,Je.width-1),K(Xe,0),oe}if(!Ge&&Qe&&!Se){var Je=xe,Xe=Re;return Je.children.unshift(Xe.children.pop()),Je.items.unshift(Xe.items.pop()),te.items[oe]=Je.items[0],K(Je,0),K(Xe,Xe.width-1),oe-1}if(!Ge&&!Qe&&Se){var Je=xe,Xe=Re;return(ge=Xe.children).unshift.apply(ge,Je.children),(_e=Xe.items).unshift.apply(_e,Je.items),ArrayExt$1.removeAt(te.children,oe),ArrayExt$1.removeAt(te.items,oe+1),K(Xe,0),Je.children.length=0,P(Je),oe}if(!Ge&&!Qe&&!Se){var Je=xe,Xe=Re;return(we=Xe.children).push.apply(we,Je.children),(Me=Xe.items).push.apply(Me,Je.items),ArrayExt$1.removeAt(te.children,oe),ArrayExt$1.removeAt(te.items,oe),K(Xe,0),Je.children.length=0,P(Je),oe-1}throw"unreachable"}})(Private$1$2||(Private$1$2={}));var LinkedList$1=(function(){function t(){this._first=null,this._last=null,this._size=0}return Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this._size===0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){return this._first?this._first.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this._last?this._last.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstNode",{get:function(){return this._first},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastNode",{get:function(){return this._last},enumerable:!0,configurable:!0}),t.prototype.iter=function(){return new t.ForwardValueIterator(this._first)},t.prototype.retro=function(){return new t.RetroValueIterator(this._last)},t.prototype.nodes=function(){return new t.ForwardNodeIterator(this._first)},t.prototype.retroNodes=function(){return new t.RetroNodeIterator(this._last)},t.prototype.assign=function(e){var n=this;this.clear(),each$2(e,function(i){n.addLast(i)})},t.prototype.push=function(e){this.addLast(e)},t.prototype.pop=function(){return this.removeLast()},t.prototype.shift=function(e){this.addFirst(e)},t.prototype.unshift=function(){return this.removeFirst()},t.prototype.addFirst=function(e){var n=new Private$x.LinkedListNode(this,e);return this._first?(n.next=this._first,this._first.prev=n,this._first=n):(this._first=n,this._last=n),this._size++,n},t.prototype.addLast=function(e){var n=new Private$x.LinkedListNode(this,e);return this._last?(n.prev=this._last,this._last.next=n,this._last=n):(this._first=n,this._last=n),this._size++,n},t.prototype.insertBefore=function(e,n){if(!n||n===this._first)return this.addFirst(e);if(!(n instanceof Private$x.LinkedListNode)||n.list!==this)throw new Error("Reference node is not owned by the list.");var i=new Private$x.LinkedListNode(this,e),o=n,u=o.prev;return i.next=o,i.prev=u,o.prev=i,u.next=i,this._size++,i},t.prototype.insertAfter=function(e,n){if(!n||n===this._last)return this.addLast(e);if(!(n instanceof Private$x.LinkedListNode)||n.list!==this)throw new Error("Reference node is not owned by the list.");var i=new Private$x.LinkedListNode(this,e),o=n,u=o.next;return i.next=u,i.prev=o,o.next=i,u.prev=i,this._size++,i},t.prototype.removeFirst=function(){var e=this._first;if(e)return e===this._last?(this._first=null,this._last=null):(this._first=e.next,this._first.prev=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value},t.prototype.removeLast=function(){var e=this._last;if(e)return e===this._first?(this._first=null,this._last=null):(this._last=e.prev,this._last.next=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value},t.prototype.removeNode=function(e){if(!(e instanceof Private$x.LinkedListNode)||e.list!==this)throw new Error("Node is not owned by the list.");var n=e;n===this._first&&n===this._last?(this._first=null,this._last=null):n===this._first?(this._first=n.next,this._first.prev=null):n===this._last?(this._last=n.prev,this._last.next=null):(n.next.prev=n.prev,n.prev.next=n.next),n.list=null,n.next=null,n.prev=null,this._size--},t.prototype.clear=function(){for(var e=this._first;e;){var n=e.next;e.list=null,e.prev=null,e.next=null,e=n}this._first=null,this._last=null,this._size=0},t})();(function(t){function e(l){var c=new t;return c.assign(l),c}t.from=e;var n=(function(){function l(c){this._node=c}return l.prototype.iter=function(){return this},l.prototype.clone=function(){return new l(this._node)},l.prototype.next=function(){if(this._node){var c=this._node;return this._node=c.next,c.value}},l})();t.ForwardValueIterator=n;var i=(function(){function l(c){this._node=c}return l.prototype.iter=function(){return this},l.prototype.clone=function(){return new l(this._node)},l.prototype.next=function(){if(this._node){var c=this._node;return this._node=c.prev,c.value}},l})();t.RetroValueIterator=i;var o=(function(){function l(c){this._node=c}return l.prototype.iter=function(){return this},l.prototype.clone=function(){return new l(this._node)},l.prototype.next=function(){if(this._node){var c=this._node;return this._node=c.next,c}},l})();t.ForwardNodeIterator=o;var u=(function(){function l(c){this._node=c}return l.prototype.iter=function(){return this},l.prototype.clone=function(){return new l(this._node)},l.prototype.next=function(){if(this._node){var c=this._node;return this._node=c.prev,c}},l})();t.RetroNodeIterator=u})(LinkedList$1||(LinkedList$1={}));var Private$x;(function(t){var e=(function(){function n(i,o){this.list=null,this.next=null,this.prev=null,this.list=i,this.value=o}return n})();t.LinkedListNode=e})(Private$x||(Private$x={}));var extendStatics$4=function(t,e){return extendStatics$4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},extendStatics$4(t,e)};function __extends$4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");extendStatics$4(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Message$1=(function(){function t(e){this.type=e}return Object.defineProperty(t.prototype,"isConflatable",{get:function(){return!1},enumerable:!0,configurable:!0}),t.prototype.conflate=function(e){return!1},t})(),ConflatableMessage$1=(function(t){__extends$4(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"isConflatable",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.conflate=function(n){return!0},e})(Message$1),MessageLoop$1;(function(t){function e(F,K){var Q=m.get(F);if(!Q||Q.length===0){D(F,K);return}var ie=every$1(retro(Q),function(te){return te?A(te,F,K):!0});ie&&D(F,K)}t.sendMessage=e;function n(F,K){if(!K.isConflatable){k(F,K);return}var Q=some$1(d,function(ie){return ie.handler!==F||!ie.msg||ie.msg.type!==K.type||!ie.msg.isConflatable?!1:ie.msg.conflate(K)});Q||k(F,K)}t.postMessage=n;function i(F,K){var Q=m.get(F);Q&&Q.indexOf(K)!==-1||(Q?Q.push(K):m.set(F,[K]))}t.installMessageHook=i;function o(F,K){var Q=m.get(F);if(Q){var ie=Q.indexOf(K);ie!==-1&&(Q[ie]=null,B(Q))}}t.removeMessageHook=o;function u(F){var K=m.get(F);K&&K.length>0&&(ArrayExt$2.fill(K,null),B(K)),each$3(d,function(Q){Q.handler===F&&(Q.handler=null,Q.msg=null)})}t.clearData=u;function l(){w||y===0||(P(y),w=!0,j(),w=!1)}t.flush=l;function c(){return v}t.getExceptionHandler=c;function f(F){var K=v;return v=F,K}t.setExceptionHandler=f;var d=new LinkedList$1,m=new WeakMap,g=new Set,v=function(F){console.error(F)},y=0,w=!1,T=(function(){var F=typeof requestAnimationFrame=="function";return F?requestAnimationFrame:setImmediate})(),P=(function(){var F=typeof cancelAnimationFrame=="function";return F?cancelAnimationFrame:clearImmediate})();function A(F,K,Q){var ie=!0;try{typeof F=="function"?ie=F(K,Q):ie=F.messageHook(K,Q)}catch(te){v(te)}return ie}function D(F,K){try{F.processMessage(K)}catch(Q){v(Q)}}function k(F,K){d.addLast({handler:F,msg:K}),y===0&&(y=T(j))}function j(){if(y=0,!d.isEmpty){var F={handler:null,msg:null};for(d.addLast(F);;){var K=d.removeFirst();if(K===F)return;K.handler&&K.msg&&e(K.handler,K.msg)}}}function B(F){g.size===0&&T(Z),g.add(F)}function Z(){g.forEach(R),g.clear()}function R(F){ArrayExt$2.removeAllWhere(F,G)}function G(F){return F===null}})(MessageLoop$1||(MessageLoop$1={}));var AttachedProperty$1=(function(){function t(e){this._pid=Private$w.nextPID(),this.name=e.name,this._create=e.create,this._coerce=e.coerce||null,this._compare=e.compare||null,this._changed=e.changed||null}return t.prototype.get=function(e){var n,i=Private$w.ensureMap(e);return this._pid in i?n=i[this._pid]:n=i[this._pid]=this._createValue(e),n},t.prototype.set=function(e,n){var i,o=Private$w.ensureMap(e);this._pid in o?i=o[this._pid]:i=o[this._pid]=this._createValue(e);var u=this._coerceValue(e,n);this._maybeNotify(e,i,o[this._pid]=u)},t.prototype.coerce=function(e){var n,i=Private$w.ensureMap(e);this._pid in i?n=i[this._pid]:n=i[this._pid]=this._createValue(e);var o=this._coerceValue(e,n);this._maybeNotify(e,n,i[this._pid]=o)},t.prototype._createValue=function(e){var n=this._create;return n(e)},t.prototype._coerceValue=function(e,n){var i=this._coerce;return i?i(e,n):n},t.prototype._compareValue=function(e,n){var i=this._compare;return i?i(e,n):e===n},t.prototype._maybeNotify=function(e,n,i){var o=this._changed;o&&!this._compareValue(n,i)&&o(e,n,i)},t})();(function(t){function e(n){Private$w.ownerData.delete(n)}t.clearData=e})(AttachedProperty$1||(AttachedProperty$1={}));var Private$w;(function(t){t.ownerData=new WeakMap,t.nextPID=(function(){var n=0;return function(){var i=Math.random(),o=(""+i).slice(2);return"pid-"+o+"-"+n++}})();function e(n){var i=t.ownerData.get(n);return i||(i=Object.create(null),t.ownerData.set(n,i),i)}t.ensureMap=e})(Private$w||(Private$w={}));var Signal$1=(function(){function t(e){this._blockedCount=0,this.sender=e}return t.prototype.block=function(e){this._blockedCount++;try{e()}finally{this._blockedCount--}},t.prototype.connect=function(e,n){return Private$v.connect(this,e,n)},t.prototype.disconnect=function(e,n){return Private$v.disconnect(this,e,n)},t.prototype.emit=function(e){this._blockedCount||Private$v.emit(this,e)},t})();(function(t){function e(d,m){var g=Private$v.blockedProperty;g.set(d,g.get(d)+1);try{m()}finally{g.set(d,g.get(d)-1)}}t.blockAll=e;function n(d,m){Private$v.disconnectBetween(d,m)}t.disconnectBetween=n;function i(d){Private$v.disconnectSender(d)}t.disconnectSender=i;function o(d){Private$v.disconnectReceiver(d)}t.disconnectReceiver=o;function u(d){Private$v.disconnectAll(d)}t.disconnectAll=u;function l(d){Private$v.disconnectAll(d)}t.clearData=l;function c(){return Private$v.exceptionHandler}t.getExceptionHandler=c;function f(d){var m=Private$v.exceptionHandler;return Private$v.exceptionHandler=d,m}t.setExceptionHandler=f})(Signal$1||(Signal$1={}));var Private$v;(function(t){t.exceptionHandler=function(D){console.error(D)};function e(D,k,j){j=j||void 0;var B=f.get(D.sender);if(B||(B=[],f.set(D.sender,B)),v(B,D,k,j))return!1;var Z=j||k,R=d.get(Z);R||(R=[],d.set(Z,R));var G={signal:D,slot:k,thisArg:j};return B.push(G),R.push(G),!0}t.connect=e;function n(D,k,j){j=j||void 0;var B=f.get(D.sender);if(!B||B.length===0)return!1;var Z=v(B,D,k,j);if(!Z)return!1;var R=j||k,G=d.get(R);return Z.signal=null,w(B),w(G),!0}t.disconnect=n;function i(D,k){var j=f.get(D);if(!(!j||j.length===0)){var B=d.get(k);!B||B.length===0||(each$4(B,function(Z){Z.signal&&Z.signal.sender===D&&(Z.signal=null)}),w(j),w(B))}}t.disconnectBetween=i;function o(D){var k=f.get(D);!k||k.length===0||(each$4(k,function(j){if(j.signal){var B=j.thisArg||j.slot;j.signal=null,w(d.get(B))}}),w(k))}t.disconnectSender=o;function u(D){var k=d.get(D);!k||k.length===0||(each$4(k,function(j){if(j.signal){var B=j.signal.sender;j.signal=null,w(f.get(B))}}),w(k))}t.disconnectReceiver=u;function l(D){o(D),u(D)}t.disconnectAll=l;function c(D,k){if(!(t.blockedProperty.get(D.sender)>0)){var j=f.get(D.sender);if(!(!j||j.length===0))for(var B=0,Z=j.length;B<Z;++B){var R=j[B];R.signal===D&&y(R,k)}}}t.emit=c;var f=new WeakMap,d=new WeakMap,m=new Set,g=(function(){var D=typeof requestAnimationFrame=="function";return D?requestAnimationFrame:setImmediate})();function v(D,k,j,B){return find$3(D,function(Z){return Z.signal===k&&Z.slot===j&&Z.thisArg===B})}function y(D,k){var j=D.signal,B=D.slot,Z=D.thisArg;try{B.call(Z,j.sender,k)}catch(R){t.exceptionHandler(R)}}function w(D){m.size===0&&g(T),m.add(D)}function T(){m.forEach(P),m.clear()}function P(D){ArrayExt$3.removeAllWhere(D,A)}function A(D){return D.signal===null}t.blockedProperty=new AttachedProperty$1({name:"blocked",create:function(){return 0}})})(Private$v||(Private$v={}));var ArrayExt;(function(t){function e(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q=R.length;if(Q===0)return-1;F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);var ie;K<F?ie=K+1+(Q-F):ie=K-F+1;for(var te=0;te<ie;++te){var oe=(F+te)%Q;if(R[oe]===G)return oe}return-1}t.firstIndexOf=e;function n(R,G,F,K){F===void 0&&(F=-1),K===void 0&&(K=0);var Q=R.length;if(Q===0)return-1;F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);var ie;F<K?ie=F+1+(Q-K):ie=F-K+1;for(var te=0;te<ie;++te){var oe=(F-te+Q)%Q;if(R[oe]===G)return oe}return-1}t.lastIndexOf=n;function i(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q=R.length;if(Q===0)return-1;F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);var ie;K<F?ie=K+1+(Q-F):ie=K-F+1;for(var te=0;te<ie;++te){var oe=(F+te)%Q;if(G(R[oe],oe))return oe}return-1}t.findFirstIndex=i;function o(R,G,F,K){F===void 0&&(F=-1),K===void 0&&(K=0);var Q=R.length;if(Q===0)return-1;F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);var ie;F<K?ie=F+1+(Q-K):ie=F-K+1;for(var te=0;te<ie;++te){var oe=(F-te+Q)%Q;if(G(R[oe],oe))return oe}return-1}t.findLastIndex=o;function u(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q=i(R,G,F,K);return Q!==-1?R[Q]:void 0}t.findFirstValue=u;function l(R,G,F,K){F===void 0&&(F=-1),K===void 0&&(K=0);var Q=o(R,G,F,K);return Q!==-1?R[Q]:void 0}t.findLastValue=l;function c(R,G,F,K,Q){K===void 0&&(K=0),Q===void 0&&(Q=-1);var ie=R.length;if(ie===0)return 0;K<0?K=Math.max(0,K+ie):K=Math.min(K,ie-1),Q<0?Q=Math.max(0,Q+ie):Q=Math.min(Q,ie-1);for(var te=K,oe=Q-K+1;oe>0;){var le=oe>>1,de=te+le;F(R[de],G)<0?(te=de+1,oe-=le+1):oe=le}return te}t.lowerBound=c;function f(R,G,F,K,Q){K===void 0&&(K=0),Q===void 0&&(Q=-1);var ie=R.length;if(ie===0)return 0;K<0?K=Math.max(0,K+ie):K=Math.min(K,ie-1),Q<0?Q=Math.max(0,Q+ie):Q=Math.min(Q,ie-1);for(var te=K,oe=Q-K+1;oe>0;){var le=oe>>1,de=te+le;F(R[de],G)>0?oe=le:(te=de+1,oe-=le+1)}return te}t.upperBound=f;function d(R,G,F){if(R===G)return!0;if(R.length!==G.length)return!1;for(var K=0,Q=R.length;K<Q;++K)if(F?!F(R[K],G[K]):R[K]!==G[K])return!1;return!0}t.shallowEqual=d;function m(R,G){G===void 0&&(G={});var F=G.start,K=G.stop,Q=G.step;if(Q===void 0&&(Q=1),Q===0)throw new Error("Slice `step` cannot be zero.");var ie=R.length;F===void 0?F=Q<0?ie-1:0:F<0?F=Math.max(F+ie,Q<0?-1:0):F>=ie&&(F=Q<0?ie-1:ie),K===void 0?K=Q<0?-1:ie:K<0?K=Math.max(K+ie,Q<0?-1:0):K>=ie&&(K=Q<0?ie-1:ie);var te;Q<0&&K>=F||Q>0&&F>=K?te=0:Q<0?te=Math.floor((K-F+1)/Q+1):te=Math.floor((K-F-1)/Q+1);for(var oe=[],le=0;le<te;++le)oe[le]=R[F+le*Q];return oe}t.slice=m;function g(R,G,F){var K=R.length;if(!(K<=1)&&(G<0?G=Math.max(0,G+K):G=Math.min(G,K-1),F<0?F=Math.max(0,F+K):F=Math.min(F,K-1),G!==F)){for(var Q=R[G],ie=G<F?1:-1,te=G;te!==F;te+=ie)R[te]=R[te+ie];R[F]=Q}}t.move=g;function v(R,G,F){G===void 0&&(G=0),F===void 0&&(F=-1);var K=R.length;if(!(K<=1))for(G<0?G=Math.max(0,G+K):G=Math.min(G,K-1),F<0?F=Math.max(0,F+K):F=Math.min(F,K-1);G<F;){var Q=R[G],ie=R[F];R[G++]=ie,R[F--]=Q}}t.reverse=v;function y(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q=R.length;if(!(Q<=1)&&(F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1),!(F>=K))){var ie=K-F+1;if(G>0?G=G%ie:G<0&&(G=(G%ie+ie)%ie),G!==0){var te=F+G;v(R,F,te-1),v(R,te,K),v(R,F,K)}}}t.rotate=y;function w(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q=R.length;if(Q!==0){F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);var ie;K<F?ie=K+1+(Q-F):ie=K-F+1;for(var te=0;te<ie;++te)R[(F+te)%Q]=G}}t.fill=w;function T(R,G,F){var K=R.length;G<0?G=Math.max(0,G+K):G=Math.min(G,K);for(var Q=K;Q>G;--Q)R[Q]=R[Q-1];R[G]=F}t.insert=T;function P(R,G){var F=R.length;if(G<0&&(G+=F),!(G<0||G>=F)){for(var K=R[G],Q=G+1;Q<F;++Q)R[Q-1]=R[Q];return R.length=F-1,K}}t.removeAt=P;function A(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q=e(R,G,F,K);return Q!==-1&&P(R,Q),Q}t.removeFirstOf=A;function D(R,G,F,K){F===void 0&&(F=-1),K===void 0&&(K=0);var Q=n(R,G,F,K);return Q!==-1&&P(R,Q),Q}t.removeLastOf=D;function k(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q=R.length;if(Q===0)return 0;F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);for(var ie=0,te=0;te<Q;++te)F<=K&&te>=F&&te<=K&&R[te]===G||K<F&&(te<=K||te>=F)&&R[te]===G?ie++:ie>0&&(R[te-ie]=R[te]);return ie>0&&(R.length=Q-ie),ie}t.removeAllOf=k;function j(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q,ie=i(R,G,F,K);return ie!==-1&&(Q=P(R,ie)),{index:ie,value:Q}}t.removeFirstWhere=j;function B(R,G,F,K){F===void 0&&(F=-1),K===void 0&&(K=0);var Q,ie=o(R,G,F,K);return ie!==-1&&(Q=P(R,ie)),{index:ie,value:Q}}t.removeLastWhere=B;function Z(R,G,F,K){F===void 0&&(F=0),K===void 0&&(K=-1);var Q=R.length;if(Q===0)return 0;F<0?F=Math.max(0,F+Q):F=Math.min(F,Q-1),K<0?K=Math.max(0,K+Q):K=Math.min(K,Q-1);for(var ie=0,te=0;te<Q;++te)F<=K&&te>=F&&te<=K&&G(R[te],te)||K<F&&(te<=K||te>=F)&&G(R[te],te)?ie++:ie>0&&(R[te-ie]=R[te]);return ie>0&&(R.length=Q-ie),ie}t.removeAllWhere=Z})(ArrayExt||(ArrayExt={}));function iter(t){var e;return typeof t.iter=="function"?e=t.iter():e=new ArrayIterator(t),e}function each$1(t,e){for(var n=0,i=iter(t),o;(o=i.next())!==void 0;)if(e(o,n++)===!1)return}var ArrayIterator=(function(){function t(e){this._index=0,this._source=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]},t})();function find$2(t,e){for(var n=0,i=iter(t),o;(o=i.next())!==void 0;)if(e(o,n++))return o}var Private$u;(function(t){function e(n,i,o){return o===0?1/0:n>i&&o>0||n<i&&o<0?0:Math.ceil((i-n)/o)}t.rangeLength=e})(Private$u||(Private$u={}));var StringExt;(function(t){function e(l,c,f){f===void 0&&(f=0);for(var d=new Array(c.length),m=0,g=f,v=c.length;m<v;++m,++g){if(g=l.indexOf(c[m],g),g===-1)return null;d[m]=g}return d}t.findIndices=e;function n(l,c,f){f===void 0&&(f=0);var d=e(l,c,f);if(!d)return null;for(var m=0,g=0,v=d.length;g<v;++g){var y=d[g]-f;m+=y*y}return{score:m,indices:d}}t.matchSumOfSquares=n;function i(l,c,f){f===void 0&&(f=0);var d=e(l,c,f);if(!d)return null;for(var m=0,g=f-1,v=0,y=d.length;v<y;++v){var w=d[v];m+=w-g-1,g=w}return{score:m,indices:d}}t.matchSumOfDeltas=i;function o(l,c,f){for(var d=[],m=0,g=0,v=c.length;m<v;){for(var y=c[m],w=c[m];++m<v&&c[m]===w+1;)w++;g<y&&d.push(l.slice(g,y)),y<w+1&&d.push(f(l.slice(y,w+1))),g=w+1}return g<l.length&&d.push(l.slice(g)),d}t.highlight=o;function u(l,c){return l<c?-1:l>c?1:0}t.cmp=u})(StringExt||(StringExt={}));var AttachedProperty=(function(){function t(e){this._pid=Private$t.nextPID(),this.name=e.name,this._create=e.create,this._coerce=e.coerce||null,this._compare=e.compare||null,this._changed=e.changed||null}return t.prototype.get=function(e){var n,i=Private$t.ensureMap(e);return this._pid in i?n=i[this._pid]:n=i[this._pid]=this._createValue(e),n},t.prototype.set=function(e,n){var i,o=Private$t.ensureMap(e);this._pid in o?i=o[this._pid]:i=o[this._pid]=this._createValue(e);var u=this._coerceValue(e,n);this._maybeNotify(e,i,o[this._pid]=u)},t.prototype.coerce=function(e){var n,i=Private$t.ensureMap(e);this._pid in i?n=i[this._pid]:n=i[this._pid]=this._createValue(e);var o=this._coerceValue(e,n);this._maybeNotify(e,n,i[this._pid]=o)},t.prototype._createValue=function(e){var n=this._create;return n(e)},t.prototype._coerceValue=function(e,n){var i=this._coerce;return i?i(e,n):n},t.prototype._compareValue=function(e,n){var i=this._compare;return i?i(e,n):e===n},t.prototype._maybeNotify=function(e,n,i){var o=this._changed;o&&!this._compareValue(n,i)&&o(e,n,i)},t})();(function(t){function e(n){Private$t.ownerData.delete(n)}t.clearData=e})(AttachedProperty||(AttachedProperty={}));var Private$t;(function(t){t.ownerData=new WeakMap,t.nextPID=(function(){var n=0;return function(){var i=Math.random(),o=(""+i).slice(2);return"pid-"+o+"-"+n++}})();function e(n){var i=t.ownerData.get(n);return i||(i=Object.create(null),t.ownerData.set(n,i),i)}t.ensureMap=e})(Private$t||(Private$t={}));var Signal=(function(){function t(e){this._blockedCount=0,this.sender=e}return t.prototype.block=function(e){this._blockedCount++;try{e()}finally{this._blockedCount--}},t.prototype.connect=function(e,n){return Private$s.connect(this,e,n)},t.prototype.disconnect=function(e,n){return Private$s.disconnect(this,e,n)},t.prototype.emit=function(e){this._blockedCount||Private$s.emit(this,e)},t})();(function(t){function e(d,m){var g=Private$s.blockedProperty;g.set(d,g.get(d)+1);try{m()}finally{g.set(d,g.get(d)-1)}}t.blockAll=e;function n(d,m){Private$s.disconnectBetween(d,m)}t.disconnectBetween=n;function i(d){Private$s.disconnectSender(d)}t.disconnectSender=i;function o(d){Private$s.disconnectReceiver(d)}t.disconnectReceiver=o;function u(d){Private$s.disconnectAll(d)}t.disconnectAll=u;function l(d){Private$s.disconnectAll(d)}t.clearData=l;function c(){return Private$s.exceptionHandler}t.getExceptionHandler=c;function f(d){var m=Private$s.exceptionHandler;return Private$s.exceptionHandler=d,m}t.setExceptionHandler=f})(Signal||(Signal={}));var Private$s;(function(t){t.exceptionHandler=function(D){console.error(D)};function e(D,k,j){j=j||void 0;var B=f.get(D.sender);if(B||(B=[],f.set(D.sender,B)),v(B,D,k,j))return!1;var Z=j||k,R=d.get(Z);R||(R=[],d.set(Z,R));var G={signal:D,slot:k,thisArg:j};return B.push(G),R.push(G),!0}t.connect=e;function n(D,k,j){j=j||void 0;var B=f.get(D.sender);if(!B||B.length===0)return!1;var Z=v(B,D,k,j);if(!Z)return!1;var R=j||k,G=d.get(R);return Z.signal=null,w(B),w(G),!0}t.disconnect=n;function i(D,k){var j=f.get(D);if(!(!j||j.length===0)){var B=d.get(k);!B||B.length===0||(each$1(B,function(Z){Z.signal&&Z.signal.sender===D&&(Z.signal=null)}),w(j),w(B))}}t.disconnectBetween=i;function o(D){var k=f.get(D);!k||k.length===0||(each$1(k,function(j){if(j.signal){var B=j.thisArg||j.slot;j.signal=null,w(d.get(B))}}),w(k))}t.disconnectSender=o;function u(D){var k=d.get(D);!k||k.length===0||(each$1(k,function(j){if(j.signal){var B=j.signal.sender;j.signal=null,w(f.get(B))}}),w(k))}t.disconnectReceiver=u;function l(D){o(D),u(D)}t.disconnectAll=l;function c(D,k){if(!(t.blockedProperty.get(D.sender)>0)){var j=f.get(D.sender);if(!(!j||j.length===0))for(var B=0,Z=j.length;B<Z;++B){var R=j[B];R.signal===D&&y(R,k)}}}t.emit=c;var f=new WeakMap,d=new WeakMap,m=new Set,g=(function(){var D=typeof requestAnimationFrame=="function";return D?requestAnimationFrame:setImmediate})();function v(D,k,j,B){return find$2(D,function(Z){return Z.signal===k&&Z.slot===j&&Z.thisArg===B})}function y(D,k){var j=D.signal,B=D.slot,Z=D.thisArg;try{B.call(Z,j.sender,k)}catch(R){t.exceptionHandler(R)}}function w(D){m.size===0&&g(T),m.add(D)}function T(){m.forEach(P),m.clear()}function P(D){ArrayExt.removeAllWhere(D,A)}function A(D){return D.signal===null}t.blockedProperty=new AttachedProperty({name:"blocked",create:function(){return 0}})})(Private$s||(Private$s={}));var extendStatics$3=function(t,e){return extendStatics$3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},extendStatics$3(t,e)};function __extends$3(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");extendStatics$3(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var DisposableDelegate$1=(function(){function t(e){this._fn=e}return Object.defineProperty(t.prototype,"isDisposed",{get:function(){return!this._fn},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){if(this._fn){var e=this._fn;this._fn=null,e()}},t})();(function(t){__extends$3(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n._disposed=new Signal(n),n}return Object.defineProperty(e.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.isDisposed||(t.prototype.dispose.call(this),this._disposed.emit(void 0),Signal.clearData(this))},e})(DisposableDelegate$1);var DisposableSet$1=(function(){function t(){this._isDisposed=!1,this._items=new Set}return Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this._items.forEach(function(e){e.dispose()}),this._items.clear())},t.prototype.contains=function(e){return this._items.has(e)},t.prototype.add=function(e){this._items.add(e)},t.prototype.remove=function(e){this._items.delete(e)},t.prototype.clear=function(){this._items.clear()},t})();(function(t){function e(n){var i=new t;return each$1(n,function(o){i.add(o)}),i}t.from=e})(DisposableSet$1||(DisposableSet$1={}));var ObservableDisposableSet$1=(function(t){__extends$3(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n._disposed=new Signal(n),n}return Object.defineProperty(e.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.isDisposed||(t.prototype.dispose.call(this),this._disposed.emit(void 0),Signal.clearData(this))},e})(DisposableSet$1);(function(t){function e(n){var i=new t;return each$1(n,function(o){i.add(o)}),i}t.from=e})(ObservableDisposableSet$1||(ObservableDisposableSet$1={}));var Drag$1=(function(){function t(e){var n=this;this._onScrollFrame=function(){if(n._scrollTarget){var i=n._scrollTarget,o=i.element,u=i.edge,l=i.distance,c=Private$r.SCROLL_EDGE_SIZE-l,f=Math.pow(c/Private$r.SCROLL_EDGE_SIZE,2),d=Math.max(1,Math.round(f*Private$r.SCROLL_EDGE_SIZE));switch(u){case"top":o.scrollTop-=d;break;case"left":o.scrollLeft-=d;break;case"right":o.scrollLeft+=d;break;case"bottom":o.scrollTop+=d;break}requestAnimationFrame(n._onScrollFrame)}},this._disposed=!1,this._dropAction="none",this._override=null,this._currentTarget=null,this._currentElement=null,this._promise=null,this._scrollTarget=null,this._resolve=null,this.document=e.document||document,this.mimeData=e.mimeData,this.dragImage=e.dragImage||null,this.proposedAction=e.proposedAction||"copy",this.supportedActions=e.supportedActions||"all",this.source=e.source||null}return t.prototype.dispose=function(){if(!this._disposed){if(this._disposed=!0,this._currentTarget){var e=Private$r.createMouseEvent("pointerup",-1,-1);Private$r.dispatchDragLeave(this,this._currentTarget,null,e)}this._finalize("none")}},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),t.prototype.start=function(e,n){var i=this;if(this._disposed)return Promise.resolve("none");if(this._promise)return this._promise;this._addListeners(),this._attachDragImage(e,n),this._promise=new Promise(function(u,l){i._resolve=u});var o=Private$r.createMouseEvent("pointermove",e,n);return document.dispatchEvent(o),this._promise},t.prototype.handleEvent=function(e){switch(e.type){case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"pointermove":this._evtMouseMove(e);break;case"pointerup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;default:e.preventDefault(),e.stopPropagation();break}},t.prototype.moveDragImage=function(e,n){if(this.dragImage){var i=this.dragImage.style;i.top=n+"px",i.left=e+"px"}},t.prototype._evtMouseMove=function(e){e.preventDefault(),e.stopPropagation(),this._updateCurrentTarget(e),this._updateDragScroll(e),this.moveDragImage(e.clientX,e.clientY)},t.prototype._evtMouseUp=function(e){if(e.preventDefault(),e.stopPropagation(),e.button===0){if(this._updateCurrentTarget(e),!this._currentTarget){this._finalize("none");return}if(this._dropAction==="none"){Private$r.dispatchDragLeave(this,this._currentTarget,null,e),this._finalize("none");return}var n=Private$r.dispatchDrop(this,this._currentTarget,e);this._finalize(n)}},t.prototype._evtKeyDown=function(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&this.dispose()},t.prototype._addListeners=function(){document.addEventListener("mousedown",this,!0),document.addEventListener("mousemove",this,!0),document.addEventListener("mouseup",this,!0),document.addEventListener("mouseenter",this,!0),document.addEventListener("mouseleave",this,!0),document.addEventListener("mouseover",this,!0),document.addEventListener("mouseout",this,!0),document.addEventListener("pointerdown",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("pointerup",this,!0),document.addEventListener("pointerenter",this,!0),document.addEventListener("pointerleave",this,!0),document.addEventListener("pointerover",this,!0),document.addEventListener("pointerout",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("keyup",this,!0),document.addEventListener("keypress",this,!0),document.addEventListener("contextmenu",this,!0)},t.prototype._removeListeners=function(){document.removeEventListener("mousedown",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("mouseenter",this,!0),document.removeEventListener("mouseleave",this,!0),document.removeEventListener("mouseover",this,!0),document.removeEventListener("mouseout",this,!0),document.removeEventListener("pointerdown",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointerenter",this,!0),document.removeEventListener("pointerleave",this,!0),document.removeEventListener("pointerover",this,!0),document.removeEventListener("pointerout",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("keyup",this,!0),document.removeEventListener("keypress",this,!0),document.removeEventListener("contextmenu",this,!0)},t.prototype._updateDragScroll=function(e){var n=Private$r.findScrollTarget(e);!this._scrollTarget&&!n||(this._scrollTarget||setTimeout(this._onScrollFrame,500),this._scrollTarget=n)},t.prototype._updateCurrentTarget=function(e){var n=this._currentTarget,i=this._currentTarget,o=this._currentElement,u=this.document.elementFromPoint(e.clientX,e.clientY);this._currentElement=u,u!==o&&u!==i&&Private$r.dispatchDragExit(this,i,u,e),u!==o&&u!==i&&(i=Private$r.dispatchDragEnter(this,u,i,e)),i!==n&&(this._currentTarget=i,Private$r.dispatchDragLeave(this,n,i,e));var l=Private$r.dispatchDragOver(this,i,e);this._setDropAction(l)},t.prototype._attachDragImage=function(e,n){if(this.dragImage){this.dragImage.classList.add("lm-mod-drag-image"),this.dragImage.classList.add("p-mod-drag-image");var i=this.dragImage.style;i.pointerEvents="none",i.position="fixed",i.top=n+"px",i.left=e+"px";var o=this.document instanceof Document?this.document.body:this.document.firstElementChild;o.appendChild(this.dragImage)}},t.prototype._detachDragImage=function(){if(this.dragImage){var e=this.dragImage.parentNode;e&&e.removeChild(this.dragImage)}},t.prototype._setDropAction=function(e){if(e=Private$r.validateAction(e,this.supportedActions),!(this._override&&this._dropAction===e))switch(e){case"none":this._dropAction=e,this._override=t.overrideCursor("no-drop",this.document);break;case"copy":this._dropAction=e,this._override=t.overrideCursor("copy",this.document);break;case"link":this._dropAction=e,this._override=t.overrideCursor("alias",this.document);break;case"move":this._dropAction=e,this._override=t.overrideCursor("move",this.document);break}},t.prototype._finalize=function(e){var n=this._resolve;this._removeListeners(),this._detachDragImage(),this._override&&(this._override.dispose(),this._override=null),this.mimeData.clear(),this._disposed=!0,this._dropAction="none",this._currentTarget=null,this._currentElement=null,this._scrollTarget=null,this._promise=null,this._resolve=null,n&&n(e)},t})();(function(t){function e(i,o){o===void 0&&(o=document);var u=++n,l=o instanceof Document?o.body:o.firstElementChild;return l.style.cursor=i,l.classList.add("lm-mod-override-cursor"),l.classList.add("p-mod-override-cursor"),new DisposableDelegate$1(function(){u===n&&(l.style.cursor="",l.classList.remove("lm-mod-override-cursor"),l.classList.remove("p-mod-override-cursor"))})}t.overrideCursor=e;var n=0})(Drag$1||(Drag$1={}));var Private$r;(function(t){t.SCROLL_EDGE_SIZE=20;function e(v,y){return d[v]&m[y]?v:"none"}t.validateAction=e;function n(v,y,w){var T=document.createEvent("MouseEvent");return T.initMouseEvent(v,!0,!0,window,0,0,0,y,w,!1,!1,!1,!1,0,null),T}t.createMouseEvent=n;function i(v){for(var y=v.clientX,w=v.clientY,T=document.elementFromPoint(y,w);T;T=T.parentElement){var P=T.hasAttribute("data-lm-dragscroll");if(P=P||T.hasAttribute("data-p-dragscroll"),!!P){var A=0,D=0;T===document.body&&(A=window.pageXOffset,D=window.pageYOffset);var k=T.getBoundingClientRect(),j=k.top+D,B=k.left+A,Z=B+k.width,R=j+k.height;if(!(y<B||y>=Z||w<j||w>=R)){var G=y-B+1,F=w-j+1,K=Z-y,Q=R-w,ie=Math.min(G,F,K,Q);if(!(ie>t.SCROLL_EDGE_SIZE)){var te=void 0;switch(ie){case Q:te="bottom";break;case F:te="top";break;case K:te="right";break;case G:te="left";break;default:throw"unreachable"}var oe=T.scrollWidth-T.clientWidth,le=T.scrollHeight-T.clientHeight,de=void 0;switch(te){case"top":de=le>0&&T.scrollTop>0;break;case"left":de=oe>0&&T.scrollLeft>0;break;case"right":de=oe>0&&T.scrollLeft<oe;break;case"bottom":de=le>0&&T.scrollTop<le;break;default:throw"unreachable"}if(de)return{element:T,edge:te,distance:ie}}}}}return null}t.findScrollTarget=i;function o(v,y,w,T){if(!y)return null;var P=g("lm-dragenter",v,T,w),A=!y.dispatchEvent(P);if(A||(P=g("p-dragenter",v,T,w),A=!y.dispatchEvent(P),A))return y;var D=v.document instanceof Document?v.document.body:v.document.firstElementChild;return y===D?w:(P=g("lm-dragenter",v,T,w),D.dispatchEvent(P),P=g("p-dragenter",v,T,w),D.dispatchEvent(P),D)}t.dispatchDragEnter=o;function u(v,y,w,T){if(y){var P=g("lm-dragexit",v,T,w);y.dispatchEvent(P),P=g("p-dragexit",v,T,w),y.dispatchEvent(P)}}t.dispatchDragExit=u;function l(v,y,w,T){if(y){var P=g("lm-dragleave",v,T,w);y.dispatchEvent(P),P=g("p-dragleave",v,T,w),y.dispatchEvent(P)}}t.dispatchDragLeave=l;function c(v,y,w){if(!y)return"none";var T=g("lm-dragover",v,w,null),P=!y.dispatchEvent(T);return P||(T=g("p-dragover",v,w,null),P=!y.dispatchEvent(T),P)?T.dropAction:"none"}t.dispatchDragOver=c;function f(v,y,w){if(!y)return"none";var T=g("lm-drop",v,w,null),P=!y.dispatchEvent(T);return P||(T=g("p-drop",v,w,null),P=!y.dispatchEvent(T),P)?T.dropAction:"none"}t.dispatchDrop=f;var d={none:0,copy:1,link:2,move:4},m={none:d.none,copy:d.copy,link:d.link,move:d.move,"copy-link":d.copy|d.link,"copy-move":d.copy|d.move,"link-move":d.link|d.move,all:d.copy|d.link|d.move};function g(v,y,w,T){var P=document.createEvent("MouseEvent");return P.initMouseEvent(v,!0,!0,window,0,w.screenX,w.screenY,w.clientX,w.clientY,w.ctrlKey,w.altKey,w.shiftKey,w.metaKey,w.button,T),P.dropAction="none",P.mimeData=y.mimeData,P.proposedAction=y.proposedAction,P.supportedActions=y.supportedActions,P.source=y.source,P}})(Private$r||(Private$r={}));var JSONExt$1;(function(t){t.emptyObject=Object.freeze({}),t.emptyArray=Object.freeze([]);function e(m){return m===null||typeof m=="boolean"||typeof m=="number"||typeof m=="string"}t.isPrimitive=e;function n(m){return Array.isArray(m)}t.isArray=n;function i(m){return!e(m)&&!n(m)}t.isObject=i;function o(m,g){if(m===g)return!0;if(e(m)||e(g))return!1;var v=n(m),y=n(g);return v!==y?!1:v&&y?l(m,g):c(m,g)}t.deepEqual=o;function u(m){return e(m)?m:n(m)?f(m):d(m)}t.deepCopy=u;function l(m,g){if(m===g)return!0;if(m.length!==g.length)return!1;for(var v=0,y=m.length;v<y;++v)if(!o(m[v],g[v]))return!1;return!0}function c(m,g){if(m===g)return!0;for(var v in m)if(m[v]!==void 0&&!(v in g))return!1;for(var v in g)if(g[v]!==void 0&&!(v in m))return!1;for(var v in m){var y=m[v],w=g[v];if(!(y===void 0&&w===void 0)&&(y===void 0||w===void 0||!o(y,w)))return!1}return!0}function f(m){for(var g=new Array(m.length),v=0,y=m.length;v<y;++v)g[v]=u(m[v]);return g}function d(m){var g={};for(var v in m){var y=m[v];y!==void 0&&(g[v]=u(y))}return g}})(JSONExt$1||(JSONExt$1={}));var MimeData=(function(){function t(){this._types=[],this._values=[]}return t.prototype.types=function(){return this._types.slice()},t.prototype.hasData=function(e){return this._types.indexOf(e)!==-1},t.prototype.getData=function(e){var n=this._types.indexOf(e);return n!==-1?this._values[n]:void 0},t.prototype.setData=function(e,n){this.clearData(e),this._types.push(e),this._values.push(n)},t.prototype.clearData=function(e){var n=this._types.indexOf(e);n!==-1&&(this._types.splice(n,1),this._values.splice(n,1))},t.prototype.clear=function(){this._types.length=0,this._values.length=0},t})();function fallbackRandomValues$1(t){for(var e=0,n=0,i=t.length;n<i;++n)n%4===0&&(e=Math.random()*4294967295>>>0),t[n]=e&255,e>>>=8}var Random$1;(function(t){t.getRandomValues=(function(){var e=typeof window<"u"&&(window.crypto||window.msCrypto)||null;return e&&typeof e.getRandomValues=="function"?function(i){return e.getRandomValues(i)}:fallbackRandomValues$1})()})(Random$1||(Random$1={}));function uuid4Factory$1(t){for(var e=new Uint8Array(16),n=new Array(256),i=0;i<16;++i)n[i]="0"+i.toString(16);for(var i=16;i<256;++i)n[i]=i.toString(16);return function(){return t(e),e[6]=64|e[6]&15,e[8]=128|e[8]&63,n[e[0]]+n[e[1]]+n[e[2]]+n[e[3]]+"-"+n[e[4]]+n[e[5]]+"-"+n[e[6]]+n[e[7]]+"-"+n[e[8]]+n[e[9]]+"-"+n[e[10]]+n[e[11]]+n[e[12]]+n[e[13]]+n[e[14]]+n[e[15]]}}var UUID$1;(function(t){t.uuid4=uuid4Factory$1(Random$1.getRandomValues)})(UUID$1||(UUID$1={}));var extendStatics$2=function(t,e){return extendStatics$2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},extendStatics$2(t,e)};function __extends$2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");extendStatics$2(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var DisposableDelegate=(function(){function t(e){this._fn=e}return Object.defineProperty(t.prototype,"isDisposed",{get:function(){return!this._fn},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){if(this._fn){var e=this._fn;this._fn=null,e()}},t})();(function(t){__extends$2(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n._disposed=new Signal$1(n),n}return Object.defineProperty(e.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.isDisposed||(t.prototype.dispose.call(this),this._disposed.emit(void 0),Signal$1.clearData(this))},e})(DisposableDelegate);var DisposableSet=(function(){function t(){this._isDisposed=!1,this._items=new Set}return Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this._items.forEach(function(e){e.dispose()}),this._items.clear())},t.prototype.contains=function(e){return this._items.has(e)},t.prototype.add=function(e){this._items.add(e)},t.prototype.remove=function(e){this._items.delete(e)},t.prototype.clear=function(){this._items.clear()},t})();(function(t){function e(n){var i=new t;return each$4(n,function(o){i.add(o)}),i}t.from=e})(DisposableSet||(DisposableSet={}));var ObservableDisposableSet=(function(t){__extends$2(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n._disposed=new Signal$1(n),n}return Object.defineProperty(e.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.isDisposed||(t.prototype.dispose.call(this),this._disposed.emit(void 0),Signal$1.clearData(this))},e})(DisposableSet);(function(t){function e(n){var i=new t;return each$4(n,function(o){i.add(o)}),i}t.from=e})(ObservableDisposableSet||(ObservableDisposableSet={}));function getKeyboardLayout(){return Private$q.keyboardLayout}var KeycodeLayout=(function(){function t(e,n,i){i===void 0&&(i=[]),this.name=e,this._codes=n,this._keys=t.extractKeys(n),this._modifierKeys=t.convertToKeySet(i)}return t.prototype.keys=function(){return Object.keys(this._keys)},t.prototype.isValidKey=function(e){return e in this._keys},t.prototype.isModifierKey=function(e){return e in this._modifierKeys},t.prototype.keyForKeydownEvent=function(e){return this._codes[e.keyCode]||""},t})();(function(t){function e(i){var o=Object.create(null);for(var u in i)o[i[u]]=!0;return o}t.extractKeys=e;function n(i){for(var o=Object(null),u=0,l=i.length;u<l;++u)o[i[u]]=!0;return o}t.convertToKeySet=n})(KeycodeLayout||(KeycodeLayout={}));var EN_US=new KeycodeLayout("en-us",{8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",27:"Escape",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"Meta",93:"ContextMenu",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Meta"},["Shift","Ctrl","Alt","Meta"]),Private$q;(function(t){t.keyboardLayout=EN_US})(Private$q||(Private$q={}));var __assign$1=function(){return __assign$1=Object.assign||function(e){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},__assign$1.apply(this,arguments)},CommandRegistry=(function(){function t(){this._timerID=0,this._replaying=!1,this._keystrokes=[],this._keydownEvents=[],this._keyBindings=[],this._exactKeyMatch=null,this._commands=Object.create(null),this._commandChanged=new Signal$1(this),this._commandExecuted=new Signal$1(this),this._keyBindingChanged=new Signal$1(this)}return Object.defineProperty(t.prototype,"commandChanged",{get:function(){return this._commandChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"commandExecuted",{get:function(){return this._commandExecuted},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyBindingChanged",{get:function(){return this._keyBindingChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyBindings",{get:function(){return this._keyBindings},enumerable:!0,configurable:!0}),t.prototype.listCommands=function(){return Object.keys(this._commands)},t.prototype.hasCommand=function(e){return e in this._commands},t.prototype.addCommand=function(e,n){var i=this;if(e in this._commands)throw new Error("Command '"+e+"' already registered.");return this._commands[e]=Private$p.createCommand(n),this._commandChanged.emit({id:e,type:"added"}),new DisposableDelegate(function(){delete i._commands[e],i._commandChanged.emit({id:e,type:"removed"})})},t.prototype.notifyCommandChanged=function(e){if(e!==void 0&&!(e in this._commands))throw new Error("Command '"+e+"' is not registered.");this._commandChanged.emit({id:e,type:e?"changed":"many-changed"})},t.prototype.describedBy=function(e){var n=this._commands[e];return n?n.describedBy||{args:null}:{args:null}},t.prototype.label=function(e,n){n===void 0&&(n=JSONExt$1.emptyObject);var i=this._commands[e];return i?i.label.call(void 0,n):""},t.prototype.mnemonic=function(e,n){n===void 0&&(n=JSONExt$1.emptyObject);var i=this._commands[e];return i?i.mnemonic.call(void 0,n):-1},t.prototype.icon=function(e,n){n===void 0&&(n=JSONExt$1.emptyObject);var i=this._commands[e];return i?i.icon.call(void 0,n):""},t.prototype.iconClass=function(e,n){n===void 0&&(n=JSONExt$1.emptyObject);var i=this._commands[e];return i?i.iconClass.call(void 0,n):""},t.prototype.iconLabel=function(e,n){n===void 0&&(n=JSONExt$1.emptyObject);var i=this._commands[e];return i?i.iconLabel.call(void 0,n):""},t.prototype.caption=function(e,n){n===void 0&&(n=JSONExt$1.emptyObject);var i=this._commands[e];return i?i.caption.call(void 0,n):""},t.prototype.usage=function(e,n){n===void 0&&(n=JSONExt$1.emptyObject);var i=this._commands[e];return i?i.usage.call(void 0,n):""},t.prototype.className=function(e,n){n===void 0&&(n=JSONExt$1.emptyObject);var i=this._commands[e];return i?i.className.call(void 0,n):""},t.prototype.dataset=function(e,n){n===void 0&&(n=JSONExt$1.emptyObject);var i=this._commands[e];return i?i.dataset.call(void 0,n):{}},t.prototype.isEnabled=function(e,n){n===void 0&&(n=JSONExt$1.emptyObject);var i=this._commands[e];return i?i.isEnabled.call(void 0,n):!1},t.prototype.isToggled=function(e,n){n===void 0&&(n=JSONExt$1.emptyObject);var i=this._commands[e];return i?i.isToggled.call(void 0,n):!1},t.prototype.isToggleable=function(e,n){var i=this._commands[e];return i?i.isToggleable:!1},t.prototype.isVisible=function(e,n){n===void 0&&(n=JSONExt$1.emptyObject);var i=this._commands[e];return i?i.isVisible.call(void 0,n):!1},t.prototype.execute=function(e,n){n===void 0&&(n=JSONExt$1.emptyObject);var i=this._commands[e];if(!i)return Promise.reject(new Error("Command '"+e+"' not registered."));var o;try{o=i.execute.call(void 0,n)}catch(l){o=Promise.reject(l)}var u=Promise.resolve(o);return this._commandExecuted.emit({id:e,args:n,result:u}),u},t.prototype.addKeyBinding=function(e){var n=this,i=Private$p.createKeyBinding(e);return this._keyBindings.push(i),this._keyBindingChanged.emit({binding:i,type:"added"}),new DisposableDelegate(function(){ArrayExt$3.removeFirstOf(n._keyBindings,i),n._keyBindingChanged.emit({binding:i,type:"removed"})})},t.prototype.processKeydownEvent=function(e){if(!(this._replaying||t.isModifierKeyPressed(e))){var n=t.keystrokeForKeydownEvent(e);if(!n){this._replayKeydownEvents(),this._clearPendingState();return}this._keystrokes.push(n);var i=Private$p.matchKeyBinding(this._keyBindings,this._keystrokes,e),o=i.exact,u=i.partial;if(!o&&!u){this._replayKeydownEvents(),this._clearPendingState();return}if(e.preventDefault(),e.stopPropagation(),o&&!u){this._executeKeyBinding(o),this._clearPendingState();return}o&&(this._exactKeyMatch=o),this._keydownEvents.push(e),this._startTimer()}},t.prototype._startTimer=function(){var e=this;this._clearTimer(),this._timerID=window.setTimeout(function(){e._onPendingTimeout()},Private$p.CHORD_TIMEOUT)},t.prototype._clearTimer=function(){this._timerID!==0&&(clearTimeout(this._timerID),this._timerID=0)},t.prototype._replayKeydownEvents=function(){this._keydownEvents.length!==0&&(this._replaying=!0,this._keydownEvents.forEach(Private$p.replayKeyEvent),this._replaying=!1)},t.prototype._executeKeyBinding=function(e){var n=e.command,i=e.args;if(!this.hasCommand(n)||!this.isEnabled(n,i)){var o=this.hasCommand(n)?"enabled":"registered",u=e.keys.join(", "),l="Cannot execute key binding '"+u+"':",c="command '"+n+"' is not "+o+".";console.warn(l+" "+c);return}this.execute(n,i)},t.prototype._clearPendingState=function(){this._clearTimer(),this._exactKeyMatch=null,this._keystrokes.length=0,this._keydownEvents.length=0},t.prototype._onPendingTimeout=function(){this._timerID=0,this._exactKeyMatch?this._executeKeyBinding(this._exactKeyMatch):this._replayKeydownEvents(),this._clearPendingState()},t})();(function(t){function e(c){for(var f="",d=!1,m=!1,g=!1,v=!1,y=0,w=c.split(/\s+/);y<w.length;y++){var T=w[y];T==="Accel"?Platform.IS_MAC?m=!0:g=!0:T==="Alt"?d=!0:T==="Cmd"?m=!0:T==="Ctrl"?g=!0:T==="Shift"?v=!0:T.length>0&&(f=T)}return{cmd:m,ctrl:g,alt:d,shift:v,key:f}}t.parseKeystroke=e;function n(c){var f="",d=e(c);return d.ctrl&&(f+="Ctrl "),d.alt&&(f+="Alt "),d.shift&&(f+="Shift "),d.cmd&&Platform.IS_MAC&&(f+="Cmd "),f+d.key}t.normalizeKeystroke=n;function i(c){var f;return Platform.IS_WIN?f=c.winKeys||c.keys:Platform.IS_MAC?f=c.macKeys||c.keys:f=c.linuxKeys||c.keys,f.map(n)}t.normalizeKeys=i;function o(c){return typeof c=="string"?f(c):c.map(f).join(", ");function f(d){var m=[],g=Platform.IS_MAC?" ":"+",v=e(d);return v.ctrl&&m.push("Ctrl"),v.alt&&m.push("Alt"),v.shift&&m.push("Shift"),Platform.IS_MAC&&v.cmd&&m.push("Cmd"),m.push(v.key),m.map(Private$p.formatKey).join(g)}}t.formatKeystroke=o;function u(c){var f=getKeyboardLayout(),d=f.keyForKeydownEvent(c);return f.isModifierKey(d)}t.isModifierKeyPressed=u;function l(c){var f=getKeyboardLayout(),d=f.keyForKeydownEvent(c);if(!d||f.isModifierKey(d))return"";var m=[];return c.ctrlKey&&m.push("Ctrl"),c.altKey&&m.push("Alt"),c.shiftKey&&m.push("Shift"),c.metaKey&&Platform.IS_MAC&&m.push("Cmd"),m.push(d),m.join(" ")}t.keystrokeForKeydownEvent=l})(CommandRegistry||(CommandRegistry={}));var Private$p;(function(t){t.CHORD_TIMEOUT=1e3;function e(k){var j,B;return!k.icon||typeof k.icon=="string"?(B=w(k.iconClass||k.icon,f),j=B):(B=w(k.iconClass,f),j=w(k.icon,y)),{execute:k.execute,describedBy:__assign$1({args:null},k.describedBy),label:w(k.label,f),mnemonic:w(k.mnemonic,d),icon:j,iconClass:B,iconLabel:w(k.iconLabel,f),caption:w(k.caption,f),usage:w(k.usage,f),className:w(k.className,f),dataset:w(k.dataset,v),isEnabled:k.isEnabled||m,isToggled:k.isToggled||g,isToggleable:k.isToggleable||!!k.isToggled,isVisible:k.isVisible||m}}t.createCommand=e;function n(k){return{keys:CommandRegistry.normalizeKeys(k),selector:T(k),command:k.command,args:k.args||JSONExt$1.emptyObject}}t.createKeyBinding=n;function i(k,j,B){for(var Z=null,R=!1,G=1/0,F=0,K=0,Q=k.length;K<Q;++K){var ie=k[K],te=P(ie.keys,j);if(te!==0){if(te===2){!R&&A(ie.selector,B)!==-1&&(R=!0);continue}var oe=A(ie.selector,B);if(!(oe===-1||oe>G)){var le=Selector.calculateSpecificity(ie.selector);(!Z||oe<G||le>=F)&&(Z=ie,G=oe,F=le)}}}return{exact:Z,partial:R}}t.matchKeyBinding=i;function o(k){k.target.dispatchEvent(D(k))}t.replayKeyEvent=o;function u(k){return Platform.IS_MAC?l.hasOwnProperty(k)?l[k]:k:c.hasOwnProperty(k)?c[k]:k}t.formatKey=u;var l={Backspace:"",Tab:"",Enter:"",Shift:"",Ctrl:"",Alt:"",Escape:"",PageUp:"",PageDown:"",End:"",Home:"",ArrowLeft:"",ArrowUp:"",ArrowRight:"",ArrowDown:"",Delete:"",Cmd:""},c={Escape:"Esc",PageUp:"Page Up",PageDown:"Page Down",ArrowLeft:"Left",ArrowUp:"Up",ArrowRight:"Right",ArrowDown:"Down",Delete:"Del"},f=function(){return""},d=function(){return-1},m=function(){return!0},g=function(){return!1},v=function(){return{}},y=function(){};function w(k,j){return k===void 0?j:typeof k=="function"?k:function(){return k}}function T(k){if(k.selector.indexOf(",")!==-1)throw new Error("Selector cannot contain commas: "+k.selector);if(!Selector.isValid(k.selector))throw new Error("Invalid selector: "+k.selector);return k.selector}function P(k,j){if(k.length<j.length)return 0;for(var B=0,Z=j.length;B<Z;++B)if(k[B]!==j[B])return 0;return k.length>j.length?2:1}function A(k,j){for(var B=j.target,Z=j.currentTarget,R=0;B!==null;B=B.parentElement,++R){if(B.hasAttribute("data-lm-suppress-shortcuts")||B.hasAttribute("data-p-suppress-shortcuts"))return-1;if(Selector.matches(B,k))return R;if(B===Z)return-1}return-1}function D(k){var j=document.createEvent("Event"),B=k.bubbles||!0,Z=k.cancelable||!0;return j.initEvent(k.type||"keydown",B,Z),j.key=k.key||"",j.keyCode=k.keyCode||0,j.which=k.keyCode||0,j.ctrlKey=k.ctrlKey||!1,j.altKey=k.altKey||!1,j.shiftKey=k.shiftKey||!1,j.metaKey=k.metaKey||!1,j.view=k.view||window,j}})(Private$p||(Private$p={}));var extendStatics$1=function(t,e){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},extendStatics$1(t,e)};function __extends$1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");extendStatics$1(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var VirtualText=(function(){function t(e){this.type="text",this.content=e}return t})(),VirtualElement=(function(){function t(e,n,i,o){this.type="element",this.tag=e,this.attrs=n,this.children=i,this.renderer=o}return t})();(function(t){__extends$1(e,t);function e(n,i,o){return t.call(this,n,i,[],o||void 0)||this}return e})(VirtualElement);function h$1(t){for(var e={},n,i=[],o=1,u=arguments.length;o<u;++o){var l=arguments[o];typeof l=="string"?i.push(new VirtualText(l)):l instanceof VirtualText||l instanceof VirtualElement?i.push(l):l instanceof Array?c(i,l):(o===1||o===2)&&l&&typeof l=="object"&&("render"in l?n=l:e=l)}return new VirtualElement(t,e,i,n);function c(f,d){for(var m=0,g=d;m<g.length;m++){var v=g[m];typeof v=="string"?f.push(new VirtualText(v)):(v instanceof VirtualText||v instanceof VirtualElement)&&f.push(v)}}}(function(t){t.a=t.bind(void 0,"a"),t.abbr=t.bind(void 0,"abbr"),t.address=t.bind(void 0,"address"),t.area=t.bind(void 0,"area"),t.article=t.bind(void 0,"article"),t.aside=t.bind(void 0,"aside"),t.audio=t.bind(void 0,"audio"),t.b=t.bind(void 0,"b"),t.bdi=t.bind(void 0,"bdi"),t.bdo=t.bind(void 0,"bdo"),t.blockquote=t.bind(void 0,"blockquote"),t.br=t.bind(void 0,"br"),t.button=t.bind(void 0,"button"),t.canvas=t.bind(void 0,"canvas"),t.caption=t.bind(void 0,"caption"),t.cite=t.bind(void 0,"cite"),t.code=t.bind(void 0,"code"),t.col=t.bind(void 0,"col"),t.colgroup=t.bind(void 0,"colgroup"),t.data=t.bind(void 0,"data"),t.datalist=t.bind(void 0,"datalist"),t.dd=t.bind(void 0,"dd"),t.del=t.bind(void 0,"del"),t.dfn=t.bind(void 0,"dfn"),t.div=t.bind(void 0,"div"),t.dl=t.bind(void 0,"dl"),t.dt=t.bind(void 0,"dt"),t.em=t.bind(void 0,"em"),t.embed=t.bind(void 0,"embed"),t.fieldset=t.bind(void 0,"fieldset"),t.figcaption=t.bind(void 0,"figcaption"),t.figure=t.bind(void 0,"figure"),t.footer=t.bind(void 0,"footer"),t.form=t.bind(void 0,"form"),t.h1=t.bind(void 0,"h1"),t.h2=t.bind(void 0,"h2"),t.h3=t.bind(void 0,"h3"),t.h4=t.bind(void 0,"h4"),t.h5=t.bind(void 0,"h5"),t.h6=t.bind(void 0,"h6"),t.header=t.bind(void 0,"header"),t.hr=t.bind(void 0,"hr"),t.i=t.bind(void 0,"i"),t.iframe=t.bind(void 0,"iframe"),t.img=t.bind(void 0,"img"),t.input=t.bind(void 0,"input"),t.ins=t.bind(void 0,"ins"),t.kbd=t.bind(void 0,"kbd"),t.label=t.bind(void 0,"label"),t.legend=t.bind(void 0,"legend"),t.li=t.bind(void 0,"li"),t.main=t.bind(void 0,"main"),t.map=t.bind(void 0,"map"),t.mark=t.bind(void 0,"mark"),t.meter=t.bind(void 0,"meter"),t.nav=t.bind(void 0,"nav"),t.noscript=t.bind(void 0,"noscript"),t.object=t.bind(void 0,"object"),t.ol=t.bind(void 0,"ol"),t.optgroup=t.bind(void 0,"optgroup"),t.option=t.bind(void 0,"option"),t.output=t.bind(void 0,"output"),t.p=t.bind(void 0,"p"),t.param=t.bind(void 0,"param"),t.pre=t.bind(void 0,"pre"),t.progress=t.bind(void 0,"progress"),t.q=t.bind(void 0,"q"),t.rp=t.bind(void 0,"rp"),t.rt=t.bind(void 0,"rt"),t.ruby=t.bind(void 0,"ruby"),t.s=t.bind(void 0,"s"),t.samp=t.bind(void 0,"samp"),t.section=t.bind(void 0,"section"),t.select=t.bind(void 0,"select"),t.small=t.bind(void 0,"small"),t.source=t.bind(void 0,"source"),t.span=t.bind(void 0,"span"),t.strong=t.bind(void 0,"strong"),t.sub=t.bind(void 0,"sub"),t.summary=t.bind(void 0,"summary"),t.sup=t.bind(void 0,"sup"),t.table=t.bind(void 0,"table"),t.tbody=t.bind(void 0,"tbody"),t.td=t.bind(void 0,"td"),t.textarea=t.bind(void 0,"textarea"),t.tfoot=t.bind(void 0,"tfoot"),t.th=t.bind(void 0,"th"),t.thead=t.bind(void 0,"thead"),t.time=t.bind(void 0,"time"),t.title=t.bind(void 0,"title"),t.tr=t.bind(void 0,"tr"),t.track=t.bind(void 0,"track"),t.u=t.bind(void 0,"u"),t.ul=t.bind(void 0,"ul"),t.var_=t.bind(void 0,"var"),t.video=t.bind(void 0,"video"),t.wbr=t.bind(void 0,"wbr")})(h$1||(h$1={}));var VirtualDOM;(function(t){function e(i){return Private$o.createDOMNode(i)}t.realize=e;function n(i,o){var u=Private$o.hostMap.get(o)||[],l=Private$o.asContentArray(i);Private$o.hostMap.set(o,l),Private$o.updateContent(o,u,l)}t.render=n})(VirtualDOM||(VirtualDOM={}));var Private$o;(function(t){t.hostMap=new WeakMap;function e(y){return y?y instanceof Array?y:[y]:[]}t.asContentArray=e;function n(y){var w=arguments[1]||null,T=arguments[2]||null;if(w)w.insertBefore(n(y),T);else{if(y.type==="text")return document.createTextNode(y.content);if(w=document.createElement(y.tag),l(w,y.attrs),y.renderer)return y.renderer.render(w,{attrs:y.attrs,children:y.children}),w;for(var P=0,A=y.children.length;P<A;++P)n(y.children[P],w)}return w}t.createDOMNode=n;function i(y,w,T){if(w!==T){for(var P=v(y,w),A=w.slice(),D=y.firstChild,k=T.length,j=0;j<k;++j){if(j>=A.length){n(T[j],y);continue}var B=A[j],Z=T[j];if(B===Z){D=D.nextSibling;continue}if(B.type==="text"&&Z.type==="text"){D.textContent!==Z.content&&(D.textContent=Z.content),D=D.nextSibling;continue}if(B.type==="text"||Z.type==="text"){ArrayExt$3.insert(A,j,Z),n(Z,y,D);continue}if(!B.renderer!=!Z.renderer){ArrayExt$3.insert(A,j,Z),n(Z,y,D);continue}var R=Z.attrs.key;if(R&&R in P){var G=P[R];G.vNode!==B&&(ArrayExt$3.move(A,A.indexOf(G.vNode,j+1),j),y.insertBefore(G.element,D),B=G.vNode,D=G.element)}if(B===Z){D=D.nextSibling;continue}var F=B.attrs.key;if(F&&F!==R){ArrayExt$3.insert(A,j,Z),n(Z,y,D);continue}if(B.tag!==Z.tag){ArrayExt$3.insert(A,j,Z),n(Z,y,D);continue}c(D,B.attrs,Z.attrs),Z.renderer?Z.renderer.render(D,{attrs:Z.attrs,children:Z.children}):i(D,B.children,Z.children),D=D.nextSibling}o(y,A,k,!0)}}t.updateContent=i;function o(y,w,T,P){for(var A=w.length-1;A>=T;--A){var D=w[A],k=P?y.lastChild:y.childNodes[A];D.type==="text"||(D.renderer&&D.renderer.unrender?D.renderer.unrender(k,{attrs:D.attrs,children:D.children}):o(k,D.children,0,!1)),P&&y.removeChild(k)}}var u={key:!0,className:!0,htmlFor:!0,dataset:!0,style:!0};function l(y,w){for(var T in w)T in u||(T.substr(0,2)==="on"?y[T]=w[T]:y.setAttribute(T,w[T]));w.className!==void 0&&y.setAttribute("class",w.className),w.htmlFor!==void 0&&y.setAttribute("for",w.htmlFor),w.dataset&&f(y,w.dataset),w.style&&m(y,w.style)}function c(y,w,T){if(w!==T){var P;for(P in w)P in u||P in T||(P.substr(0,2)==="on"?y[P]=null:y.removeAttribute(P));for(P in T)P in u||w[P]===T[P]||(P.substr(0,2)==="on"?y[P]=T[P]:y.setAttribute(P,T[P]));w.className!==T.className&&(T.className!==void 0?y.setAttribute("class",T.className):y.removeAttribute("class")),w.htmlFor!==T.htmlFor&&(T.htmlFor!==void 0?y.setAttribute("for",T.htmlFor):y.removeAttribute("for")),w.dataset!==T.dataset&&d(y,w.dataset||{},T.dataset||{}),w.style!==T.style&&g(y,w.style||{},T.style||{})}}function f(y,w){for(var T in w)y.setAttribute("data-"+T,w[T])}function d(y,w,T){for(var P in w)P in T||y.removeAttribute("data-"+P);for(var A in T)w[A]!==T[A]&&y.setAttribute("data-"+A,T[A])}function m(y,w){var T=y.style,P;for(P in w)T[P]=w[P]}function g(y,w,T){var P=y.style,A;for(A in w)A in T||(P[A]="");for(A in T)w[A]!==T[A]&&(P[A]=T[A])}function v(y,w){for(var T=y.firstChild,P=Object.create(null),A=0,D=w;A<D.length;A++){var k=D[A];k.type==="element"&&k.attrs.key&&(P[k.attrs.key]={vNode:k,element:T}),T=T.nextSibling}return P}})(Private$o||(Private$o={}));var extendStatics=function(t,e){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},extendStatics(t,e)};function __extends(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");extendStatics(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var __assign=function(){return __assign=Object.assign||function(e){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},__assign.apply(this,arguments)};function __spreadArrays(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),o=0,e=0;e<n;e++)for(var u=arguments[e],l=0,c=u.length;l<c;l++,o++)i[o]=u[l];return i}var BoxSizer$1=(function(){function t(){this.sizeHint=0,this.minSize=0,this.maxSize=1/0,this.stretch=1,this.size=0,this.done=!1}return t})(),BoxEngine$1;(function(t){function e(u,l){var c=u.length;if(c===0)return l;for(var f=0,d=0,m=0,g=0,v=0,y=0;y<c;++y){var w=u[y],T=w.minSize,P=w.maxSize,A=w.sizeHint;w.done=!1,w.size=Math.max(T,Math.min(A,P)),m+=w.size,f+=T,d+=P,w.stretch>0&&(g+=w.stretch,v++)}if(l===m)return 0;if(l<=f){for(var y=0;y<c;++y){var w=u[y];w.size=w.minSize}return l-f}if(l>=d){for(var y=0;y<c;++y){var w=u[y];w.size=w.maxSize}return l-d}var D=.01,k=c;if(l<m){for(var j=m-l;v>0&&j>D;)for(var B=j,Z=g,y=0;y<c;++y){var w=u[y];if(!(w.done||w.stretch===0)){var R=w.stretch*B/Z;w.size-R<=w.minSize?(j-=w.size-w.minSize,g-=w.stretch,w.size=w.minSize,w.done=!0,k--,v--):(j-=R,w.size-=R)}}for(;k>0&&j>D;)for(var R=j/k,y=0;y<c;++y){var w=u[y];w.done||(w.size-R<=w.minSize?(j-=w.size-w.minSize,w.size=w.minSize,w.done=!0,k--):(j-=R,w.size-=R))}}else{for(var j=l-m;v>0&&j>D;)for(var B=j,Z=g,y=0;y<c;++y){var w=u[y];if(!(w.done||w.stretch===0)){var R=w.stretch*B/Z;w.size+R>=w.maxSize?(j-=w.maxSize-w.size,g-=w.stretch,w.size=w.maxSize,w.done=!0,k--,v--):(j-=R,w.size+=R)}}for(;k>0&&j>D;)for(var R=j/k,y=0;y<c;++y){var w=u[y];w.done||(w.size+R>=w.maxSize?(j-=w.maxSize-w.size,w.size=w.maxSize,w.done=!0,k--):(j-=R,w.size+=R))}}return 0}t.calc=e;function n(u,l,c){u.length===0||c===0||(c>0?i(u,l,c):o(u,l,-c))}t.adjust=n;function i(u,l,c){for(var f=0,d=0;d<=l;++d){var m=u[d];f+=m.maxSize-m.size}for(var g=0,d=l+1,v=u.length;d<v;++d){var m=u[d];g+=m.size-m.minSize}c=Math.min(c,f,g);for(var y=c,d=l;d>=0&&y>0;--d){var m=u[d],w=m.maxSize-m.size;w>=y?(m.sizeHint=m.size+y,y=0):(m.sizeHint=m.size+w,y-=w)}for(var T=c,d=l+1,v=u.length;d<v&&T>0;++d){var m=u[d],w=m.size-m.minSize;w>=T?(m.sizeHint=m.size-T,T=0):(m.sizeHint=m.size-w,T-=w)}}function o(u,l,c){for(var f=0,d=l+1,m=u.length;d<m;++d){var g=u[d];f+=g.maxSize-g.size}for(var v=0,d=0;d<=l;++d){var g=u[d];v+=g.size-g.minSize}c=Math.min(c,f,v);for(var y=c,d=l+1,m=u.length;d<m&&y>0;++d){var g=u[d],w=g.maxSize-g.size;w>=y?(g.sizeHint=g.size+y,y=0):(g.sizeHint=g.size+w,y-=w)}for(var T=c,d=l;d>=0&&T>0;--d){var g=u[d],w=g.size-g.minSize;w>=T?(g.sizeHint=g.size-T,T=0):(g.sizeHint=g.size-w,T-=w)}}})(BoxEngine$1||(BoxEngine$1={}));var Title$1=(function(){function t(e){this._label="",this._caption="",this._mnemonic=-1,this._iconClass="",this._iconLabel="",this._className="",this._closable=!1,this._changed=new Signal$1(this),this._isDisposed=!1,this.owner=e.owner,e.label!==void 0&&(this._label=e.label),e.mnemonic!==void 0&&(this._mnemonic=e.mnemonic),e.icon!==void 0?typeof e.icon=="string"?(this._icon=null,this._iconClass=e.icon):this._icon=e.icon:this._icon=null,e.iconClass!==void 0&&(this._iconClass=e.iconClass),e.iconLabel!==void 0&&(this._iconLabel=e.iconLabel),e.iconRenderer!==void 0&&(this._icon=e.iconRenderer),e.caption!==void 0&&(this._caption=e.caption),e.className!==void 0&&(this._className=e.className),e.closable!==void 0&&(this._closable=e.closable),this._dataset=e.dataset||{}}return Object.defineProperty(t.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label},set:function(e){this._label!==e&&(this._label=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mnemonic",{get:function(){return this._mnemonic},set:function(e){this._mnemonic!==e&&(this._mnemonic=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return this._icon===null?this.iconClass:this._icon},set:function(e){if(typeof e=="string")this._icon=null,this.iconClass=e;else{if(this._icon===e)return;this._icon=e,this._changed.emit(void 0)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconClass",{get:function(){return this._iconClass},set:function(e){this._iconClass!==e&&(this._iconClass=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconLabel",{get:function(){return this._iconLabel},set:function(e){this._iconLabel!==e&&(this._iconLabel=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconRenderer",{get:function(){return this._icon||void 0},set:function(e){this.icon=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caption",{get:function(){return this._caption},set:function(e){this._caption!==e&&(this._caption=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return this._className},set:function(e){this._className!==e&&(this._className=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closable",{get:function(){return this._closable},set:function(e){this._closable!==e&&(this._closable=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataset",{get:function(){return this._dataset},set:function(e){this._dataset!==e&&(this._dataset=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.isDisposed||(this._isDisposed=!0,Signal$1.clearData(this))},t})(),Widget$1=(function(){function t(e){e===void 0&&(e={}),this._flags=0,this._layout=null,this._parent=null,this._disposed=new Signal$1(this),this._hiddenMode=t.HiddenMode.Display,this.node=Private$j$1.createNode(e),this.addClass("lm-Widget"),this.addClass("p-Widget")}return t.prototype.dispose=function(){this.isDisposed||(this.setFlag(t.Flag.IsDisposed),this._disposed.emit(void 0),this.parent?this.parent=null:this.isAttached&&t.detach(this),this._layout&&(this._layout.dispose(),this._layout=null),this.title.dispose(),Signal$1.clearData(this),MessageLoop$1.clearData(this),AttachedProperty$1.clearData(this))},Object.defineProperty(t.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this.testFlag(t.Flag.IsDisposed)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAttached",{get:function(){return this.testFlag(t.Flag.IsAttached)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHidden",{get:function(){return this.testFlag(t.Flag.IsHidden)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.testFlag(t.Flag.IsVisible)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return Private$j$1.titleProperty.get(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.node.id},set:function(e){this.node.id=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataset",{get:function(){return this.node.dataset},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hiddenMode",{get:function(){return this._hiddenMode},set:function(e){this._hiddenMode!==e&&(this.isHidden&&this._toggleHidden(!1),e==t.HiddenMode.Scale?this.node.style.willChange="transform":this.node.style.willChange="auto",this._hiddenMode=e,this.isHidden&&this._toggleHidden(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},set:function(e){if(this._parent!==e){if(e&&this.contains(e))throw new Error("Invalid parent widget.");if(this._parent&&!this._parent.isDisposed){var n=new t.ChildMessage("child-removed",this);MessageLoop$1.sendMessage(this._parent,n)}if(this._parent=e,this._parent&&!this._parent.isDisposed){var n=new t.ChildMessage("child-added",this);MessageLoop$1.sendMessage(this._parent,n)}this.isDisposed||MessageLoop$1.sendMessage(this,t.Msg.ParentChanged)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layout",{get:function(){return this._layout},set:function(e){if(this._layout!==e){if(this.testFlag(t.Flag.DisallowLayout))throw new Error("Cannot set widget layout.");if(this._layout)throw new Error("Cannot change widget layout.");if(e.parent)throw new Error("Cannot change layout parent.");this._layout=e,e.parent=this}},enumerable:!0,configurable:!0}),t.prototype.children=function(){return this._layout?this._layout.iter():empty$9()},t.prototype.contains=function(e){for(var n=e;n;n=n._parent)if(n===this)return!0;return!1},t.prototype.hasClass=function(e){return this.node.classList.contains(e)},t.prototype.addClass=function(e){this.node.classList.add(e)},t.prototype.removeClass=function(e){this.node.classList.remove(e)},t.prototype.toggleClass=function(e,n){return n===!0?(this.node.classList.add(e),!0):n===!1?(this.node.classList.remove(e),!1):this.node.classList.toggle(e)},t.prototype.update=function(){MessageLoop$1.postMessage(this,t.Msg.UpdateRequest)},t.prototype.fit=function(){MessageLoop$1.postMessage(this,t.Msg.FitRequest)},t.prototype.activate=function(){MessageLoop$1.postMessage(this,t.Msg.ActivateRequest)},t.prototype.close=function(){MessageLoop$1.sendMessage(this,t.Msg.CloseRequest)},t.prototype.show=function(){if(this.testFlag(t.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&MessageLoop$1.sendMessage(this,t.Msg.BeforeShow),this.clearFlag(t.Flag.IsHidden),this.node.removeAttribute("aria-hidden"),this._toggleHidden(!1),this.isAttached&&(!this.parent||this.parent.isVisible)&&MessageLoop$1.sendMessage(this,t.Msg.AfterShow),this.parent)){var e=new t.ChildMessage("child-shown",this);MessageLoop$1.sendMessage(this.parent,e)}},t.prototype.hide=function(){if(!this.testFlag(t.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&MessageLoop$1.sendMessage(this,t.Msg.BeforeHide),this.setFlag(t.Flag.IsHidden),this.node.setAttribute("aria-hidden","true"),this._toggleHidden(!0),this.isAttached&&(!this.parent||this.parent.isVisible)&&MessageLoop$1.sendMessage(this,t.Msg.AfterHide),this.parent)){var e=new t.ChildMessage("child-hidden",this);MessageLoop$1.sendMessage(this.parent,e)}},t.prototype.setHidden=function(e){e?this.hide():this.show()},t.prototype.testFlag=function(e){return(this._flags&e)!==0},t.prototype.setFlag=function(e){this._flags|=e},t.prototype.clearFlag=function(e){this._flags&=~e},t.prototype.processMessage=function(e){switch(e.type){case"resize":this.notifyLayout(e),this.onResize(e);break;case"update-request":this.notifyLayout(e),this.onUpdateRequest(e);break;case"fit-request":this.notifyLayout(e),this.onFitRequest(e);break;case"before-show":this.notifyLayout(e),this.onBeforeShow(e);break;case"after-show":this.setFlag(t.Flag.IsVisible),this.notifyLayout(e),this.onAfterShow(e);break;case"before-hide":this.notifyLayout(e),this.onBeforeHide(e);break;case"after-hide":this.clearFlag(t.Flag.IsVisible),this.notifyLayout(e),this.onAfterHide(e);break;case"before-attach":this.notifyLayout(e),this.onBeforeAttach(e);break;case"after-attach":!this.isHidden&&(!this.parent||this.parent.isVisible)&&this.setFlag(t.Flag.IsVisible),this.setFlag(t.Flag.IsAttached),this.notifyLayout(e),this.onAfterAttach(e);break;case"before-detach":this.notifyLayout(e),this.onBeforeDetach(e);break;case"after-detach":this.clearFlag(t.Flag.IsVisible),this.clearFlag(t.Flag.IsAttached),this.notifyLayout(e),this.onAfterDetach(e);break;case"activate-request":this.notifyLayout(e),this.onActivateRequest(e);break;case"close-request":this.notifyLayout(e),this.onCloseRequest(e);break;case"child-added":this.notifyLayout(e),this.onChildAdded(e);break;case"child-removed":this.notifyLayout(e),this.onChildRemoved(e);break;default:this.notifyLayout(e);break}},t.prototype.notifyLayout=function(e){this._layout&&this._layout.processParentMessage(e)},t.prototype.onCloseRequest=function(e){this.parent?this.parent=null:this.isAttached&&t.detach(this)},t.prototype.onResize=function(e){},t.prototype.onUpdateRequest=function(e){},t.prototype.onFitRequest=function(e){},t.prototype.onActivateRequest=function(e){},t.prototype.onBeforeShow=function(e){},t.prototype.onAfterShow=function(e){},t.prototype.onBeforeHide=function(e){},t.prototype.onAfterHide=function(e){},t.prototype.onBeforeAttach=function(e){},t.prototype.onAfterAttach=function(e){},t.prototype.onBeforeDetach=function(e){},t.prototype.onAfterDetach=function(e){},t.prototype.onChildAdded=function(e){},t.prototype.onChildRemoved=function(e){},t.prototype._toggleHidden=function(e){if(e)switch(this._hiddenMode){case t.HiddenMode.Display:this.addClass("lm-mod-hidden"),this.addClass("p-mod-hidden");break;case t.HiddenMode.Scale:this.node.style.transform="scale(0)";break;case t.HiddenMode.ContentVisibility:this.node.style.contentVisibility="hidden",this.node.style.zIndex="-1";break}else switch(this._hiddenMode){case t.HiddenMode.Display:this.removeClass("lm-mod-hidden"),this.removeClass("p-mod-hidden");break;case t.HiddenMode.Scale:this.node.style.transform="";break;case t.HiddenMode.ContentVisibility:this.node.style.contentVisibility="",this.node.style.zIndex="";break}},t})();(function(t){(function(u){u[u.Display=0]="Display",u[u.Scale=1]="Scale",u[u.ContentVisibility=2]="ContentVisibility"})(t.HiddenMode||(t.HiddenMode={})),(function(u){u[u.IsDisposed=1]="IsDisposed",u[u.IsAttached=2]="IsAttached",u[u.IsHidden=4]="IsHidden",u[u.IsVisible=8]="IsVisible",u[u.DisallowLayout=16]="DisallowLayout"})(t.Flag||(t.Flag={})),(function(u){u.BeforeShow=new Message$1("before-show"),u.AfterShow=new Message$1("after-show"),u.BeforeHide=new Message$1("before-hide"),u.AfterHide=new Message$1("after-hide"),u.BeforeAttach=new Message$1("before-attach"),u.AfterAttach=new Message$1("after-attach"),u.BeforeDetach=new Message$1("before-detach"),u.AfterDetach=new Message$1("after-detach"),u.ParentChanged=new Message$1("parent-changed"),u.UpdateRequest=new ConflatableMessage$1("update-request"),u.FitRequest=new ConflatableMessage$1("fit-request"),u.ActivateRequest=new ConflatableMessage$1("activate-request"),u.CloseRequest=new ConflatableMessage$1("close-request")})(t.Msg||(t.Msg={}));var e=(function(u){__extends(l,u);function l(c,f){var d=u.call(this,c)||this;return d.child=f,d}return l})(Message$1);t.ChildMessage=e;var n=(function(u){__extends(l,u);function l(c,f){var d=u.call(this,"resize")||this;return d.width=c,d.height=f,d}return l})(Message$1);t.ResizeMessage=n,(function(u){u.UnknownSize=new u(-1,-1)})(n=t.ResizeMessage||(t.ResizeMessage={}));function i(u,l,c){if(c===void 0&&(c=null),u.parent)throw new Error("Cannot attach a child widget.");if(u.isAttached||u.node.isConnected)throw new Error("Widget is already attached.");if(!l.isConnected)throw new Error("Host is not attached.");MessageLoop$1.sendMessage(u,t.Msg.BeforeAttach),l.insertBefore(u.node,c),MessageLoop$1.sendMessage(u,t.Msg.AfterAttach)}t.attach=i;function o(u){if(u.parent)throw new Error("Cannot detach a child widget.");if(!u.isAttached||!u.node.isConnected)throw new Error("Widget is not attached.");MessageLoop$1.sendMessage(u,t.Msg.BeforeDetach),u.node.parentNode.removeChild(u.node),MessageLoop$1.sendMessage(u,t.Msg.AfterDetach)}t.detach=o})(Widget$1||(Widget$1={}));var Private$j$1;(function(t){t.titleProperty=new AttachedProperty$1({name:"title",create:function(n){return new Title$1({owner:n})}});function e(n){return n.node||document.createElement(n.tag||"div")}t.createNode=e})(Private$j$1||(Private$j$1={}));var Layout$1=(function(){function t(e){e===void 0&&(e={}),this._disposed=!1,this._parent=null,this._fitPolicy=e.fitPolicy||"set-min-size"}return t.prototype.dispose=function(){this._parent=null,this._disposed=!0,Signal$1.clearData(this),AttachedProperty$1.clearData(this)},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},set:function(e){if(this._parent!==e){if(this._parent)throw new Error("Cannot change parent widget.");if(e.layout!==this)throw new Error("Invalid parent widget.");this._parent=e,this.init()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fitPolicy",{get:function(){return this._fitPolicy},set:function(e){if(this._fitPolicy!==e&&(this._fitPolicy=e,this._parent)){var n=this._parent.node.style;n.minWidth="",n.minHeight="",n.maxWidth="",n.maxHeight="",this._parent.fit()}},enumerable:!0,configurable:!0}),t.prototype.processParentMessage=function(e){switch(e.type){case"resize":this.onResize(e);break;case"update-request":this.onUpdateRequest(e);break;case"fit-request":this.onFitRequest(e);break;case"before-show":this.onBeforeShow(e);break;case"after-show":this.onAfterShow(e);break;case"before-hide":this.onBeforeHide(e);break;case"after-hide":this.onAfterHide(e);break;case"before-attach":this.onBeforeAttach(e);break;case"after-attach":this.onAfterAttach(e);break;case"before-detach":this.onBeforeDetach(e);break;case"after-detach":this.onAfterDetach(e);break;case"child-removed":this.onChildRemoved(e);break;case"child-shown":this.onChildShown(e);break;case"child-hidden":this.onChildHidden(e);break}},t.prototype.init=function(){var e=this;each$4(this,function(n){n.parent=e.parent})},t.prototype.onResize=function(e){each$4(this,function(n){MessageLoop$1.sendMessage(n,Widget$1.ResizeMessage.UnknownSize)})},t.prototype.onUpdateRequest=function(e){each$4(this,function(n){MessageLoop$1.sendMessage(n,Widget$1.ResizeMessage.UnknownSize)})},t.prototype.onBeforeAttach=function(e){each$4(this,function(n){MessageLoop$1.sendMessage(n,e)})},t.prototype.onAfterAttach=function(e){each$4(this,function(n){MessageLoop$1.sendMessage(n,e)})},t.prototype.onBeforeDetach=function(e){each$4(this,function(n){MessageLoop$1.sendMessage(n,e)})},t.prototype.onAfterDetach=function(e){each$4(this,function(n){MessageLoop$1.sendMessage(n,e)})},t.prototype.onBeforeShow=function(e){each$4(this,function(n){n.isHidden||MessageLoop$1.sendMessage(n,e)})},t.prototype.onAfterShow=function(e){each$4(this,function(n){n.isHidden||MessageLoop$1.sendMessage(n,e)})},t.prototype.onBeforeHide=function(e){each$4(this,function(n){n.isHidden||MessageLoop$1.sendMessage(n,e)})},t.prototype.onAfterHide=function(e){each$4(this,function(n){n.isHidden||MessageLoop$1.sendMessage(n,e)})},t.prototype.onChildRemoved=function(e){this.removeWidget(e.child)},t.prototype.onFitRequest=function(e){},t.prototype.onChildShown=function(e){},t.prototype.onChildHidden=function(e){},t})();(function(t){function e(u){return Private$i$1.horizontalAlignmentProperty.get(u)}t.getHorizontalAlignment=e;function n(u,l){Private$i$1.horizontalAlignmentProperty.set(u,l)}t.setHorizontalAlignment=n;function i(u){return Private$i$1.verticalAlignmentProperty.get(u)}t.getVerticalAlignment=i;function o(u,l){Private$i$1.verticalAlignmentProperty.set(u,l)}t.setVerticalAlignment=o})(Layout$1||(Layout$1={}));var LayoutItem$1=(function(){function t(e){this._top=NaN,this._left=NaN,this._width=NaN,this._height=NaN,this._minWidth=0,this._minHeight=0,this._maxWidth=1/0,this._maxHeight=1/0,this._disposed=!1,this.widget=e,this.widget.node.style.position="absolute"}return t.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var e=this.widget.node.style;e.position="",e.top="",e.left="",e.width="",e.height=""}},Object.defineProperty(t.prototype,"minWidth",{get:function(){return this._minWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minHeight",{get:function(){return this._minHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxHeight",{get:function(){return this._maxHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHidden",{get:function(){return this.widget.isHidden},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.widget.isVisible},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAttached",{get:function(){return this.widget.isAttached},enumerable:!0,configurable:!0}),t.prototype.fit=function(){var e=ElementExt.sizeLimits(this.widget.node);this._minWidth=e.minWidth,this._minHeight=e.minHeight,this._maxWidth=e.maxWidth,this._maxHeight=e.maxHeight},t.prototype.update=function(e,n,i,o){var u=Math.max(this._minWidth,Math.min(i,this._maxWidth)),l=Math.max(this._minHeight,Math.min(o,this._maxHeight));if(u<i)switch(Layout$1.getHorizontalAlignment(this.widget)){case"left":break;case"center":e+=(i-u)/2;break;case"right":e+=i-u;break;default:throw"unreachable"}if(l<o)switch(Layout$1.getVerticalAlignment(this.widget)){case"top":break;case"center":n+=(o-l)/2;break;case"bottom":n+=o-l;break;default:throw"unreachable"}var c=!1,f=this.widget.node.style;if(this._top!==n&&(this._top=n,f.top=n+"px"),this._left!==e&&(this._left=e,f.left=e+"px"),this._width!==u&&(c=!0,this._width=u,f.width=u+"px"),this._height!==l&&(c=!0,this._height=l,f.height=l+"px"),c){var d=new Widget$1.ResizeMessage(u,l);MessageLoop$1.sendMessage(this.widget,d)}},t})(),Private$i$1;(function(t){t.horizontalAlignmentProperty=new AttachedProperty$1({name:"horizontalAlignment",create:function(){return"center"},changed:e}),t.verticalAlignmentProperty=new AttachedProperty$1({name:"verticalAlignment",create:function(){return"top"},changed:e});function e(n){n.parent&&n.parent.layout&&n.parent.update()}})(Private$i$1||(Private$i$1={}));var PanelLayout$1=(function(t){__extends(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n._widgets=[],n}return e.prototype.dispose=function(){for(;this._widgets.length>0;)this._widgets.pop().dispose();t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"widgets",{get:function(){return this._widgets},enumerable:!0,configurable:!0}),e.prototype.iter=function(){return iter$3(this._widgets)},e.prototype.addWidget=function(n){this.insertWidget(this._widgets.length,n)},e.prototype.insertWidget=function(n,i){i.parent=this.parent;var o=this._widgets.indexOf(i),u=Math.max(0,Math.min(n,this._widgets.length));if(o===-1){ArrayExt$3.insert(this._widgets,u,i),this.parent&&this.attachWidget(u,i);return}u===this._widgets.length&&u--,o!==u&&(ArrayExt$3.move(this._widgets,o,u),this.parent&&this.moveWidget(o,u,i))},e.prototype.removeWidget=function(n){this.removeWidgetAt(this._widgets.indexOf(n))},e.prototype.removeWidgetAt=function(n){var i=ArrayExt$3.removeAt(this._widgets,n);i&&this.parent&&this.detachWidget(n,i)},e.prototype.init=function(){var n=this;t.prototype.init.call(this),each$4(this,function(i,o){n.attachWidget(o,i)})},e.prototype.attachWidget=function(n,i){var o=this.parent.node.children[n];this.parent.isAttached&&MessageLoop$1.sendMessage(i,Widget$1.Msg.BeforeAttach),this.parent.node.insertBefore(i.node,o),this.parent.isAttached&&MessageLoop$1.sendMessage(i,Widget$1.Msg.AfterAttach)},e.prototype.moveWidget=function(n,i,o){this.parent.isAttached&&MessageLoop$1.sendMessage(o,Widget$1.Msg.BeforeDetach),this.parent.node.removeChild(o.node),this.parent.isAttached&&MessageLoop$1.sendMessage(o,Widget$1.Msg.AfterDetach);var u=this.parent.node.children[i];this.parent.isAttached&&MessageLoop$1.sendMessage(o,Widget$1.Msg.BeforeAttach),this.parent.node.insertBefore(o.node,u),this.parent.isAttached&&MessageLoop$1.sendMessage(o,Widget$1.Msg.AfterAttach)},e.prototype.detachWidget=function(n,i){this.parent.isAttached&&MessageLoop$1.sendMessage(i,Widget$1.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&MessageLoop$1.sendMessage(i,Widget$1.Msg.AfterDetach)},e})(Layout$1),Utils$2;(function(t){function e(n){return Math.max(0,Math.floor(n))}t.clampDimension=e})(Utils$2||(Utils$2={}));var Utils$1$1=Utils$2,SplitLayout$1=(function(t){__extends(e,t);function e(n){var i=t.call(this)||this;return i.widgetOffset=0,i._fixed=0,i._spacing=4,i._dirty=!1,i._hasNormedSizes=!1,i._sizers=[],i._items=[],i._handles=[],i._box=null,i._alignment="start",i._orientation="horizontal",i.renderer=n.renderer,n.orientation!==void 0&&(i._orientation=n.orientation),n.alignment!==void 0&&(i._alignment=n.alignment),n.spacing!==void 0&&(i._spacing=Utils$2.clampDimension(n.spacing)),i}return e.prototype.dispose=function(){each$4(this._items,function(n){n.dispose()}),this._box=null,this._items.length=0,this._sizers.length=0,this._handles.length=0,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"orientation",{get:function(){return this._orientation},set:function(n){this._orientation!==n&&(this._orientation=n,this.parent&&(this.parent.dataset.orientation=n,this.parent.fit()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return this._alignment},set:function(n){this._alignment!==n&&(this._alignment=n,this.parent&&(this.parent.dataset.alignment=n,this.parent.update()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){return this._spacing},set:function(n){n=Utils$2.clampDimension(n),this._spacing!==n&&(this._spacing=n,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"handles",{get:function(){return this._handles},enumerable:!0,configurable:!0}),e.prototype.absoluteSizes=function(){return this._sizers.map(function(n){return n.size})},e.prototype.relativeSizes=function(){return Private$h$1.normalize(this._sizers.map(function(n){return n.size}))},e.prototype.setRelativeSizes=function(n,i){i===void 0&&(i=!0);for(var o=this._sizers.length,u=n.slice(0,o);u.length<o;)u.push(0);for(var l=Private$h$1.normalize(u),c=0;c<o;++c){var f=this._sizers[c];f.sizeHint=l[c],f.size=l[c]}this._hasNormedSizes=!0,i&&this.parent&&this.parent.update()},e.prototype.moveHandle=function(n,i){var o=this._handles[n];if(!(!o||o.classList.contains("lm-mod-hidden"))){var u;if(this._orientation==="horizontal"?u=i-o.offsetLeft:u=i-o.offsetTop,u!==0){for(var l=0,c=this._sizers;l<c.length;l++){var f=c[l];f.size>0&&(f.sizeHint=f.size)}BoxEngine$1.adjust(this._sizers,n,u),this.parent&&this.parent.update()}}},e.prototype.init=function(){this.parent.dataset.orientation=this.orientation,this.parent.dataset.alignment=this.alignment,t.prototype.init.call(this)},e.prototype.attachWidget=function(n,i){var o=new LayoutItem$1(i),u=Private$h$1.createHandle(this.renderer),l=Private$h$1.averageSize(this._sizers),c=Private$h$1.createSizer(l);ArrayExt$3.insert(this._items,n,o),ArrayExt$3.insert(this._sizers,n,c),ArrayExt$3.insert(this._handles,n,u),this.parent.isAttached&&MessageLoop$1.sendMessage(i,Widget$1.Msg.BeforeAttach),this.parent.node.appendChild(i.node),this.parent.node.appendChild(u),this.parent.isAttached&&MessageLoop$1.sendMessage(i,Widget$1.Msg.AfterAttach),this.parent.fit()},e.prototype.moveWidget=function(n,i,o){ArrayExt$3.move(this._items,n,i),ArrayExt$3.move(this._sizers,n,i),ArrayExt$3.move(this._handles,n,i),this.parent.fit()},e.prototype.detachWidget=function(n,i){var o=ArrayExt$3.removeAt(this._items,n),u=ArrayExt$3.removeAt(this._handles,n);ArrayExt$3.removeAt(this._sizers,n),this.parent.isAttached&&MessageLoop$1.sendMessage(i,Widget$1.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.node.removeChild(u),this.parent.isAttached&&MessageLoop$1.sendMessage(i,Widget$1.Msg.AfterDetach),o.dispose(),this.parent.fit()},e.prototype.onBeforeShow=function(n){t.prototype.onBeforeShow.call(this,n),this.parent.update()},e.prototype.onBeforeAttach=function(n){t.prototype.onBeforeAttach.call(this,n),this.parent.fit()},e.prototype.onChildShown=function(n){this.parent.fit()},e.prototype.onChildHidden=function(n){this.parent.fit()},e.prototype.onResize=function(n){this.parent.isVisible&&this._update(n.width,n.height)},e.prototype.onUpdateRequest=function(n){this.parent.isVisible&&this._update(-1,-1)},e.prototype.onFitRequest=function(n){this.parent.isAttached&&this._fit()},e.prototype.updateItemPosition=function(n,i,o,u,l,c,f){var d=this._items[n];if(!d.isHidden){var m=this._handles[n].style;i?(o+=this.widgetOffset,d.update(o,u,f,l),o+=f,m.top=u+"px",m.left=o+"px",m.width=this._spacing+"px",m.height=l+"px"):(u+=this.widgetOffset,d.update(o,u,c,f),u+=f,m.top=u+"px",m.left=o+"px",m.width=c+"px",m.height=this._spacing+"px")}},e.prototype._fit=function(){for(var n=0,i=-1,o=0,u=this._items.length;o<u;++o)this._items[o].isHidden?(this._handles[o].classList.add("lm-mod-hidden"),this._handles[o].classList.add("p-mod-hidden")):(this._handles[o].classList.remove("lm-mod-hidden"),this._handles[o].classList.remove("p-mod-hidden"),i=o,n++);i!==-1&&(this._handles[i].classList.add("lm-mod-hidden"),this._handles[i].classList.add("p-mod-hidden")),this._fixed=this._spacing*Math.max(0,n-1)+this.widgetOffset*this._items.length;for(var l=this._orientation==="horizontal",c=l?this._fixed:0,f=l?0:this._fixed,o=0,u=this._items.length;o<u;++o){var d=this._items[o],m=this._sizers[o];if(m.size>0&&(m.sizeHint=m.size),d.isHidden){m.minSize=0,m.maxSize=0;continue}d.fit(),m.stretch=e.getStretch(d.widget),l?(m.minSize=d.minWidth,m.maxSize=d.maxWidth,c+=d.minWidth,f=Math.max(f,d.minHeight)):(m.minSize=d.minHeight,m.maxSize=d.maxHeight,f+=d.minHeight,c=Math.max(c,d.minWidth))}var g=this._box=ElementExt.boxSizing(this.parent.node);c+=g.horizontalSum,f+=g.verticalSum;var v=this.parent.node.style;v.minWidth=c+"px",v.minHeight=f+"px",this._dirty=!0,this.parent.parent&&MessageLoop$1.sendMessage(this.parent.parent,Widget$1.Msg.FitRequest),this._dirty&&MessageLoop$1.sendMessage(this.parent,Widget$1.Msg.UpdateRequest)},e.prototype._update=function(n,i){this._dirty=!1;for(var o=0,u=0,l=this._items.length;u<l;++u)o+=+!this._items[u].isHidden;if(!(o===0&&this.widgetOffset===0)){n<0&&(n=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=ElementExt.boxSizing(this.parent.node));var c=this._box.paddingTop,f=this._box.paddingLeft,d=n-this._box.horizontalSum,m=i-this._box.verticalSum,g=0,v=0,y=this._orientation==="horizontal";if(o>0){var w=void 0;if(y?w=Math.max(0,d-this._fixed):w=Math.max(0,m-this._fixed),this._hasNormedSizes){for(var T=0,P=this._sizers;T<P.length;T++){var A=P[T];A.sizeHint*=w}this._hasNormedSizes=!1}var D=BoxEngine$1.calc(this._sizers,w);if(D>0)switch(this._alignment){case"start":break;case"center":g=0,v=D/2;break;case"end":g=0,v=D;break;case"justify":g=D/o,v=0;break;default:throw"unreachable"}}for(var u=0,l=this._items.length;u<l;++u){var k=this._items[u],j=k.isHidden?0:this._sizers[u].size+g;this.updateItemPosition(u,y,y?f+v:f,y?c:c+v,m,d,j);var B=this.widgetOffset+(this._handles[u].classList.contains("lm-mod-hidden")?0:this._spacing);y?f+=j+B:c+=j+B}}},e})(PanelLayout$1);(function(t){function e(i){return Private$h$1.stretchProperty.get(i)}t.getStretch=e;function n(i,o){Private$h$1.stretchProperty.set(i,o)}t.setStretch=n})(SplitLayout$1||(SplitLayout$1={}));var Private$h$1;(function(t){t.stretchProperty=new AttachedProperty$1({name:"stretch",create:function(){return 0},coerce:function(l,c){return Math.max(0,Math.floor(c))},changed:u});function e(l){var c=new BoxSizer$1;return c.sizeHint=Math.floor(l),c}t.createSizer=e;function n(l){var c=l.createHandle();return c.style.position="absolute",c}t.createHandle=n;function i(l){return l.reduce(function(c,f){return c+f.size},0)/l.length||0}t.averageSize=i;function o(l){var c=l.length;if(c===0)return[];var f=l.reduce(function(d,m){return d+Math.abs(m)},0);return f===0?l.map(function(d){return 1/c}):l.map(function(d){return d/f})}t.normalize=o;function u(l){l.parent&&l.parent.layout instanceof SplitLayout$1&&l.parent.fit()}})(Private$h$1||(Private$h$1={}));var AccordionLayout$1=(function(t){__extends(e,t);function e(n){var i=t.call(this,__assign(__assign({},n),{orientation:n.orientation||"vertical"}))||this;return i._titles=[],i.titleSpace=n.titleSpace||22,i}return Object.defineProperty(e.prototype,"titleSpace",{get:function(){return this.widgetOffset},set:function(n){n=Utils$1$1.clampDimension(n),this.widgetOffset!==n&&(this.widgetOffset=n,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"titles",{get:function(){return this._titles},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.isDisposed||(this._titles.length=0,t.prototype.dispose.call(this))},e.prototype.updateTitle=function(n,i){var o=this._titles[n],u=o.classList.contains("lm-mod-expanded"),l=Private$g$1.createTitle(this.renderer,i.title,u);this._titles[n]=l,this.parent.node.replaceChild(l,o)},e.prototype.attachWidget=function(n,i){var o=Private$g$1.createTitle(this.renderer,i.title);ArrayExt$3.insert(this._titles,n,o),this.parent.node.appendChild(o),i.node.setAttribute("role","region"),i.node.setAttribute("aria-labelledby",o.id),t.prototype.attachWidget.call(this,n,i)},e.prototype.moveWidget=function(n,i,o){ArrayExt$3.move(this._titles,n,i),t.prototype.moveWidget.call(this,n,i,o)},e.prototype.detachWidget=function(n,i){var o=ArrayExt$3.removeAt(this._titles,n);this.parent.node.removeChild(o),t.prototype.detachWidget.call(this,n,i)},e.prototype.updateItemPosition=function(n,i,o,u,l,c,f){var d=this._titles[n].style;d.top=u+"px",d.left=o+"px",d.height=this.widgetOffset+"px",i?d.width=l+"px":d.width=c+"px",t.prototype.updateItemPosition.call(this,n,i,o,u,l,c,f)},e})(SplitLayout$1),Private$g$1;(function(t){function e(n,i,o){o===void 0&&(o=!0);var u=n.createSectionTitle(i);return u.style.position="absolute",u.setAttribute("aria-label",i.label+" Section"),u.setAttribute("aria-expanded",o?"true":"false"),u.setAttribute("aria-controls",i.owner.id),o&&u.classList.add("lm-mod-expanded"),u}t.createTitle=e})(Private$g$1||(Private$g$1={}));var Panel$1=(function(t){__extends(e,t);function e(n){n===void 0&&(n={});var i=t.call(this)||this;return i.addClass("lm-Panel"),i.addClass("p-Panel"),i.layout=Private$f$1.createLayout(n),i}return Object.defineProperty(e.prototype,"widgets",{get:function(){return this.layout.widgets},enumerable:!0,configurable:!0}),e.prototype.addWidget=function(n){this.layout.addWidget(n)},e.prototype.insertWidget=function(n,i){this.layout.insertWidget(n,i)},e})(Widget$1),Private$f$1;(function(t){function e(n){return n.layout||new PanelLayout$1}t.createLayout=e})(Private$f$1||(Private$f$1={}));var SplitPanel$1=(function(t){__extends(e,t);function e(n){n===void 0&&(n={});var i=t.call(this,{layout:Private$e$1.createLayout(n)})||this;return i._handleMoved=new Signal$1(i),i._pressData=null,i.addClass("lm-SplitPanel"),i.addClass("p-SplitPanel"),i}return e.prototype.dispose=function(){this._releaseMouse(),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"orientation",{get:function(){return this.layout.orientation},set:function(n){this.layout.orientation=n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return this.layout.alignment},set:function(n){this.layout.alignment=n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(n){this.layout.spacing=n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderer",{get:function(){return this.layout.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"handleMoved",{get:function(){return this._handleMoved},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"handles",{get:function(){return this.layout.handles},enumerable:!0,configurable:!0}),e.prototype.relativeSizes=function(){return this.layout.relativeSizes()},e.prototype.setRelativeSizes=function(n,i){i===void 0&&(i=!0),this.layout.setRelativeSizes(n,i)},e.prototype.handleEvent=function(n){switch(n.type){case"mousedown":this._evtMouseDown(n);break;case"mousemove":this._evtMouseMove(n);break;case"mouseup":this._evtMouseUp(n);break;case"pointerdown":this._evtMouseDown(n);break;case"pointermove":this._evtMouseMove(n);break;case"pointerup":this._evtMouseUp(n);break;case"keydown":this._evtKeyDown(n);break;case"contextmenu":n.preventDefault(),n.stopPropagation();break}},e.prototype.onBeforeAttach=function(n){this.node.addEventListener("mousedown",this),this.node.addEventListener("pointerdown",this)},e.prototype.onAfterDetach=function(n){this.node.removeEventListener("mousedown",this),this.node.removeEventListener("pointerdown",this),this._releaseMouse()},e.prototype.onChildAdded=function(n){n.child.addClass("lm-SplitPanel-child"),n.child.addClass("p-SplitPanel-child"),this._releaseMouse()},e.prototype.onChildRemoved=function(n){n.child.removeClass("lm-SplitPanel-child"),n.child.removeClass("p-SplitPanel-child"),this._releaseMouse()},e.prototype._evtKeyDown=function(n){this._pressData&&(n.preventDefault(),n.stopPropagation()),n.keyCode===27&&this._releaseMouse()},e.prototype._evtMouseDown=function(n){if(n.button===0){var i=this.layout,o=ArrayExt$3.findFirstIndex(i.handles,function(m){return m.contains(n.target)});if(o!==-1){n.preventDefault(),n.stopPropagation(),document.addEventListener("mouseup",this,!0),document.addEventListener("mousemove",this,!0),document.addEventListener("pointerup",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0);var u,l=i.handles[o],c=l.getBoundingClientRect();i.orientation==="horizontal"?u=n.clientX-c.left:u=n.clientY-c.top;var f=window.getComputedStyle(l),d=Drag$1.overrideCursor(f.cursor);this._pressData={index:o,delta:u,override:d}}}},e.prototype._evtMouseMove=function(n){n.preventDefault(),n.stopPropagation();var i,o=this.layout,u=this.node.getBoundingClientRect();o.orientation==="horizontal"?i=n.clientX-u.left-this._pressData.delta:i=n.clientY-u.top-this._pressData.delta,o.moveHandle(this._pressData.index,i)},e.prototype._evtMouseUp=function(n){n.button===0&&(n.preventDefault(),n.stopPropagation(),this._releaseMouse())},e.prototype._releaseMouse=function(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._handleMoved.emit(),document.removeEventListener("mouseup",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("contextmenu",this,!0))},e})(Panel$1);(function(t){var e=(function(){function o(){}return o.prototype.createHandle=function(){var u=document.createElement("div");return u.className="lm-SplitPanel-handle",u.classList.add("p-SplitPanel-handle"),u},o})();t.Renderer=e,t.defaultRenderer=new e;function n(o){return SplitLayout$1.getStretch(o)}t.getStretch=n;function i(o,u){SplitLayout$1.setStretch(o,u)}t.setStretch=i})(SplitPanel$1||(SplitPanel$1={}));var Private$e$1;(function(t){function e(n){return n.layout||new SplitLayout$1({renderer:n.renderer||SplitPanel$1.defaultRenderer,orientation:n.orientation,alignment:n.alignment,spacing:n.spacing})}t.createLayout=e})(Private$e$1||(Private$e$1={}));var AccordionPanel$1=(function(t){__extends(e,t);function e(n){n===void 0&&(n={});var i=t.call(this,__assign(__assign({},n),{layout:Private$d$1.createLayout(n)}))||this;return i._widgetSizesCache=new WeakMap,i.addClass("lm-AccordionPanel"),i}return Object.defineProperty(e.prototype,"renderer",{get:function(){return this.layout.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"titleSpace",{get:function(){return this.layout.titleSpace},set:function(n){this.layout.titleSpace=n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"titles",{get:function(){return this.layout.titles},enumerable:!0,configurable:!0}),e.prototype.addWidget=function(n){t.prototype.addWidget.call(this,n),n.title.changed.connect(this._onTitleChanged,this)},e.prototype.collapse=function(n){var i=this.layout.widgets[n];i&&!i.isHidden&&this._toggleExpansion(n)},e.prototype.expand=function(n){var i=this.layout.widgets[n];i&&i.isHidden&&this._toggleExpansion(n)},e.prototype.insertWidget=function(n,i){t.prototype.insertWidget.call(this,n,i),i.title.changed.connect(this._onTitleChanged,this)},e.prototype.handleEvent=function(n){switch(t.prototype.handleEvent.call(this,n),n.type){case"click":this._evtClick(n);break;case"keydown":this._eventKeyDown(n);break}},e.prototype.onBeforeAttach=function(n){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),t.prototype.onBeforeAttach.call(this,n)},e.prototype.onAfterDetach=function(n){t.prototype.onAfterDetach.call(this,n),this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this)},e.prototype._onTitleChanged=function(n){var i=ArrayExt$3.findFirstIndex(this.widgets,function(o){return o.contains(n.owner)});i>=0&&(this.layout.updateTitle(i,n.owner),this.update())},e.prototype._computeWidgetSize=function(n){var i=this.layout,o=i.widgets[n];if(o){var u=o.isHidden,l=i.absoluteSizes(),c=(u?-1:1)*this.spacing,f=l.reduce(function(y,w){return y+w}),d=__spreadArrays(l);if(u){var v=this._widgetSizesCache.get(o);if(!v)return;d[n]+=v;var g=d.map(function(w){return w-v>0}).lastIndexOf(!0);g===-1?d.forEach(function(w,T){T!==n&&(d[T]-=l[T]/f*(v-c))}):d[g]-=v-c}else{var m=l[n];this._widgetSizesCache.set(o,m),d[n]=0;var g=d.map(function(y){return y>0}).lastIndexOf(!0);if(g===-1)return;d[g]=l[g]+m+c}return d.map(function(y){return y/(f+c)})}},e.prototype._evtClick=function(n){var i=n.target;if(i){var o=ArrayExt$3.findFirstIndex(this.titles,function(u){return u.contains(i)});o>=0&&(n.preventDefault(),n.stopPropagation(),this._toggleExpansion(o))}},e.prototype._eventKeyDown=function(n){if(!n.defaultPrevented){var i=n.target,o=!1;if(i){var u=ArrayExt$3.findFirstIndex(this.titles,function(m){return m.contains(i)});if(u>=0){var l=n.keyCode.toString();if(n.key.match(/Space|Enter/)||l.match(/13|32/))i.click(),o=!0;else if(this.orientation==="horizontal"?n.key.match(/ArrowLeft|ArrowRight/)||l.match(/37|39/):n.key.match(/ArrowUp|ArrowDown/)||l.match(/38|40/)){var c=n.key.match(/ArrowLeft|ArrowUp/)||l.match(/37|38/)?-1:1,f=this.titles.length,d=(u+f+c)%f;this.titles[d].focus(),o=!0}else n.key==="End"||l==="35"?(this.titles[this.titles.length-1].focus(),o=!0):(n.key==="Home"||l==="36")&&(this.titles[0].focus(),o=!0)}o&&n.preventDefault()}}},e.prototype._toggleExpansion=function(n){var i=this.titles[n],o=this.layout.widgets[n],u=this._computeWidgetSize(n);u&&this.setRelativeSizes(u,!1),o.isHidden?(i.classList.add("lm-mod-expanded"),i.setAttribute("aria-expanded","true"),o.show()):(i.classList.remove("lm-mod-expanded"),i.setAttribute("aria-expanded","false"),o.hide())},e})(SplitPanel$1);(function(t){var e=(function(n){__extends(i,n);function i(){var o=n.call(this)||this;return o.titleClassName="lm-AccordionPanel-title",o._titleID=0,o._titleKeys=new WeakMap,o._uuid=++i._nInstance,o}return i.prototype.createCollapseIcon=function(o){return document.createElement("span")},i.prototype.createSectionTitle=function(o){var u=document.createElement("h3");u.setAttribute("role","button"),u.setAttribute("tabindex","0"),u.id=this.createTitleKey(o),u.className=this.titleClassName;for(var l in o.dataset)u.dataset[l]=o.dataset[l];var c=u.appendChild(this.createCollapseIcon(o));c.className="lm-AccordionPanel-titleCollapser";var f=u.appendChild(document.createElement("span"));return f.className="lm-AccordionPanel-titleLabel",f.textContent=o.label,f.title=o.caption||o.label,u},i.prototype.createTitleKey=function(o){var u=this._titleKeys.get(o);return u===void 0&&(u="title-key-"+this._uuid+"-"+this._titleID++,this._titleKeys.set(o,u)),u},i._nInstance=0,i})(SplitPanel$1.Renderer);t.Renderer=e,t.defaultRenderer=new e})(AccordionPanel$1||(AccordionPanel$1={}));var Private$d$1;(function(t){function e(n){return n.layout||new AccordionLayout$1({renderer:n.renderer||AccordionPanel$1.defaultRenderer,orientation:n.orientation,alignment:n.alignment,spacing:n.spacing,titleSpace:n.titleSpace})}t.createLayout=e})(Private$d$1||(Private$d$1={}));var BoxLayout$1=(function(t){__extends(e,t);function e(n){n===void 0&&(n={});var i=t.call(this)||this;return i._fixed=0,i._spacing=4,i._dirty=!1,i._sizers=[],i._items=[],i._box=null,i._alignment="start",i._direction="top-to-bottom",n.direction!==void 0&&(i._direction=n.direction),n.alignment!==void 0&&(i._alignment=n.alignment),n.spacing!==void 0&&(i._spacing=Utils$1$1.clampDimension(n.spacing)),i}return e.prototype.dispose=function(){each$4(this._items,function(n){n.dispose()}),this._box=null,this._items.length=0,this._sizers.length=0,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"direction",{get:function(){return this._direction},set:function(n){this._direction!==n&&(this._direction=n,this.parent&&(this.parent.dataset.direction=n,this.parent.fit()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return this._alignment},set:function(n){this._alignment!==n&&(this._alignment=n,this.parent&&(this.parent.dataset.alignment=n,this.parent.update()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){return this._spacing},set:function(n){n=Utils$1$1.clampDimension(n),this._spacing!==n&&(this._spacing=n,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.parent.dataset.direction=this.direction,this.parent.dataset.alignment=this.alignment,t.prototype.init.call(this)},e.prototype.attachWidget=function(n,i){ArrayExt$3.insert(this._items,n,new LayoutItem$1(i)),ArrayExt$3.insert(this._sizers,n,new BoxSizer$1),this.parent.isAttached&&MessageLoop$1.sendMessage(i,Widget$1.Msg.BeforeAttach),this.parent.node.appendChild(i.node),this.parent.isAttached&&MessageLoop$1.sendMessage(i,Widget$1.Msg.AfterAttach),this.parent.fit()},e.prototype.moveWidget=function(n,i,o){ArrayExt$3.move(this._items,n,i),ArrayExt$3.move(this._sizers,n,i),this.parent.update()},e.prototype.detachWidget=function(n,i){var o=ArrayExt$3.removeAt(this._items,n);ArrayExt$3.removeAt(this._sizers,n),this.parent.isAttached&&MessageLoop$1.sendMessage(i,Widget$1.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&MessageLoop$1.sendMessage(i,Widget$1.Msg.AfterDetach),o.dispose(),this.parent.fit()},e.prototype.onBeforeShow=function(n){t.prototype.onBeforeShow.call(this,n),this.parent.update()},e.prototype.onBeforeAttach=function(n){t.prototype.onBeforeAttach.call(this,n),this.parent.fit()},e.prototype.onChildShown=function(n){this.parent.fit()},e.prototype.onChildHidden=function(n){this.parent.fit()},e.prototype.onResize=function(n){this.parent.isVisible&&this._update(n.width,n.height)},e.prototype.onUpdateRequest=function(n){this.parent.isVisible&&this._update(-1,-1)},e.prototype.onFitRequest=function(n){this.parent.isAttached&&this._fit()},e.prototype._fit=function(){for(var n=0,i=0,o=this._items.length;i<o;++i)n+=+!this._items[i].isHidden;this._fixed=this._spacing*Math.max(0,n-1);for(var u=Private$c$1.isHorizontal(this._direction),l=u?this._fixed:0,c=u?0:this._fixed,i=0,o=this._items.length;i<o;++i){var f=this._items[i],d=this._sizers[i];if(f.isHidden){d.minSize=0,d.maxSize=0;continue}f.fit(),d.sizeHint=e.getSizeBasis(f.widget),d.stretch=e.getStretch(f.widget),u?(d.minSize=f.minWidth,d.maxSize=f.maxWidth,l+=f.minWidth,c=Math.max(c,f.minHeight)):(d.minSize=f.minHeight,d.maxSize=f.maxHeight,c+=f.minHeight,l=Math.max(l,f.minWidth))}var m=this._box=ElementExt.boxSizing(this.parent.node);l+=m.horizontalSum,c+=m.verticalSum;var g=this.parent.node.style;g.minWidth=l+"px",g.minHeight=c+"px",this._dirty=!0,this.parent.parent&&MessageLoop$1.sendMessage(this.parent.parent,Widget$1.Msg.FitRequest),this._dirty&&MessageLoop$1.sendMessage(this.parent,Widget$1.Msg.UpdateRequest)},e.prototype._update=function(n,i){this._dirty=!1;for(var o=0,u=0,l=this._items.length;u<l;++u)o+=+!this._items[u].isHidden;if(o!==0){n<0&&(n=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=ElementExt.boxSizing(this.parent.node));var c=this._box.paddingTop,f=this._box.paddingLeft,d=n-this._box.horizontalSum,m=i-this._box.verticalSum,g;switch(this._direction){case"left-to-right":g=BoxEngine$1.calc(this._sizers,Math.max(0,d-this._fixed));break;case"top-to-bottom":g=BoxEngine$1.calc(this._sizers,Math.max(0,m-this._fixed));break;case"right-to-left":g=BoxEngine$1.calc(this._sizers,Math.max(0,d-this._fixed)),f+=d;break;case"bottom-to-top":g=BoxEngine$1.calc(this._sizers,Math.max(0,m-this._fixed)),c+=m;break;default:throw"unreachable"}var v=0,y=0;if(g>0)switch(this._alignment){case"start":break;case"center":v=0,y=g/2;break;case"end":v=0,y=g;break;case"justify":v=g/o,y=0;break;default:throw"unreachable"}for(var u=0,l=this._items.length;u<l;++u){var w=this._items[u];if(!w.isHidden){var T=this._sizers[u].size;switch(this._direction){case"left-to-right":w.update(f+y,c,T+v,m),f+=T+v+this._spacing;break;case"top-to-bottom":w.update(f,c+y,d,T+v),c+=T+v+this._spacing;break;case"right-to-left":w.update(f-y-T-v,c,T+v,m),f-=T+v+this._spacing;break;case"bottom-to-top":w.update(f,c-y-T-v,d,T+v),c-=T+v+this._spacing;break;default:throw"unreachable"}}}}},e})(PanelLayout$1);(function(t){function e(u){return Private$c$1.stretchProperty.get(u)}t.getStretch=e;function n(u,l){Private$c$1.stretchProperty.set(u,l)}t.setStretch=n;function i(u){return Private$c$1.sizeBasisProperty.get(u)}t.getSizeBasis=i;function o(u,l){Private$c$1.sizeBasisProperty.set(u,l)}t.setSizeBasis=o})(BoxLayout$1||(BoxLayout$1={}));var Private$c$1;(function(t){t.stretchProperty=new AttachedProperty$1({name:"stretch",create:function(){return 0},coerce:function(o,u){return Math.max(0,Math.floor(u))},changed:i}),t.sizeBasisProperty=new AttachedProperty$1({name:"sizeBasis",create:function(){return 0},coerce:function(o,u){return Math.max(0,Math.floor(u))},changed:i});function e(o){return o==="left-to-right"||o==="right-to-left"}t.isHorizontal=e;function n(o){return Math.max(0,Math.floor(o))}t.clampSpacing=n;function i(o){o.parent&&o.parent.layout instanceof BoxLayout$1&&o.parent.fit()}})(Private$c$1||(Private$c$1={}));var BoxPanel$1=(function(t){__extends(e,t);function e(n){n===void 0&&(n={});var i=t.call(this,{layout:Private$b$1.createLayout(n)})||this;return i.addClass("lm-BoxPanel"),i.addClass("p-BoxPanel"),i}return Object.defineProperty(e.prototype,"direction",{get:function(){return this.layout.direction},set:function(n){this.layout.direction=n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return this.layout.alignment},set:function(n){this.layout.alignment=n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(n){this.layout.spacing=n},enumerable:!0,configurable:!0}),e.prototype.onChildAdded=function(n){n.child.addClass("lm-BoxPanel-child"),n.child.addClass("p-BoxPanel-child")},e.prototype.onChildRemoved=function(n){n.child.removeClass("lm-BoxPanel-child"),n.child.removeClass("p-BoxPanel-child")},e})(Panel$1);(function(t){function e(u){return BoxLayout$1.getStretch(u)}t.getStretch=e;function n(u,l){BoxLayout$1.setStretch(u,l)}t.setStretch=n;function i(u){return BoxLayout$1.getSizeBasis(u)}t.getSizeBasis=i;function o(u,l){BoxLayout$1.setSizeBasis(u,l)}t.setSizeBasis=o})(BoxPanel$1||(BoxPanel$1={}));var Private$b$1;(function(t){function e(n){return n.layout||new BoxLayout$1(n)}t.createLayout=e})(Private$b$1||(Private$b$1={}));var CommandPalette$1=(function(t){__extends(e,t);function e(n){var i=t.call(this,{node:Private$a$1.createNode()})||this;return i._activeIndex=-1,i._items=[],i._results=null,i.addClass("lm-CommandPalette"),i.addClass("p-CommandPalette"),i.setFlag(Widget$1.Flag.DisallowLayout),i.commands=n.commands,i.renderer=n.renderer||e.defaultRenderer,i.commands.commandChanged.connect(i._onGenericChange,i),i.commands.keyBindingChanged.connect(i._onGenericChange,i),i}return e.prototype.dispose=function(){this._items.length=0,this._results=null,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"searchNode",{get:function(){return this.node.getElementsByClassName("lm-CommandPalette-search")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputNode",{get:function(){return this.node.getElementsByClassName("lm-CommandPalette-input")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-CommandPalette-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),e.prototype.addItem=function(n){var i=Private$a$1.createItem(this.commands,n);return this._items.push(i),this.refresh(),i},e.prototype.addItems=function(n){var i=this,o=n.map(function(u){return Private$a$1.createItem(i.commands,u)});return o.forEach(function(u){return i._items.push(u)}),this.refresh(),o},e.prototype.removeItem=function(n){this.removeItemAt(this._items.indexOf(n))},e.prototype.removeItemAt=function(n){var i=ArrayExt$3.removeAt(this._items,n);i&&this.refresh()},e.prototype.clearItems=function(){this._items.length!==0&&(this._items.length=0,this.refresh())},e.prototype.refresh=function(){if(this._results=null,this.inputNode.value!==""){var n=this.node.getElementsByClassName("lm-close-icon")[0];n.style.display="inherit"}else{var n=this.node.getElementsByClassName("lm-close-icon")[0];n.style.display="none"}this.update()},e.prototype.handleEvent=function(n){switch(n.type){case"click":this._evtClick(n);break;case"keydown":this._evtKeyDown(n);break;case"input":this.refresh();break;case"focus":case"blur":this._toggleFocused();break}},e.prototype.onBeforeAttach=function(n){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),this.node.addEventListener("input",this),this.node.addEventListener("focus",this,!0),this.node.addEventListener("blur",this,!0)},e.prototype.onAfterDetach=function(n){this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this),this.node.removeEventListener("input",this),this.node.removeEventListener("focus",this,!0),this.node.removeEventListener("blur",this,!0)},e.prototype.onActivateRequest=function(n){if(this.isAttached){var i=this.inputNode;i.focus(),i.select()}},e.prototype.onUpdateRequest=function(n){var i=this.inputNode.value,o=this.contentNode,u=this._results;if(u||(u=this._results=Private$a$1.search(this._items,i),this._activeIndex=i?ArrayExt$3.findFirstIndex(u,Private$a$1.canActivate):-1),!i&&u.length===0){VirtualDOM.render(null,o);return}if(i&&u.length===0){var l=this.renderer.renderEmptyMessage({query:i});VirtualDOM.render(l,o);return}for(var c=this.renderer,f=this._activeIndex,d=new Array(u.length),m=0,g=u.length;m<g;++m){var v=u[m];if(v.type==="header"){var y=v.indices,w=v.category;d[m]=c.renderHeader({category:w,indices:y})}else{var T=v.item,y=v.indices,P=m===f;d[m]=c.renderItem({item:T,indices:y,active:P})}}if(VirtualDOM.render(d,o),f<0||f>=u.length)o.scrollTop=0;else{var A=o.children[f];ElementExt.scrollIntoViewIfNeeded(o,A)}},e.prototype._evtClick=function(n){if(n.button===0){if(n.target.classList.contains("lm-close-icon")){this.inputNode.value="",this.refresh();return}var i=ArrayExt$3.findFirstIndex(this.contentNode.children,function(o){return o.contains(n.target)});i!==-1&&(n.preventDefault(),n.stopPropagation(),this._execute(i))}},e.prototype._evtKeyDown=function(n){if(!(n.altKey||n.ctrlKey||n.metaKey||n.shiftKey))switch(n.keyCode){case 13:n.preventDefault(),n.stopPropagation(),this._execute(this._activeIndex);break;case 38:n.preventDefault(),n.stopPropagation(),this._activatePreviousItem();break;case 40:n.preventDefault(),n.stopPropagation(),this._activateNextItem();break}},e.prototype._activateNextItem=function(){if(!(!this._results||this._results.length===0)){var n=this._activeIndex,i=this._results.length,o=n<i-1?n+1:0,u=o===0?i-1:o-1;this._activeIndex=ArrayExt$3.findFirstIndex(this._results,Private$a$1.canActivate,o,u),this.update()}},e.prototype._activatePreviousItem=function(){if(!(!this._results||this._results.length===0)){var n=this._activeIndex,i=this._results.length,o=n<=0?i-1:n-1,u=o===i-1?0:o+1;this._activeIndex=ArrayExt$3.findLastIndex(this._results,Private$a$1.canActivate,o,u),this.update()}},e.prototype._execute=function(n){if(this._results){var i=this._results[n];if(i){if(i.type==="header"){var o=this.inputNode;o.value=i.category.toLowerCase()+" ",o.focus(),this.refresh();return}i.item.isEnabled&&(this.commands.execute(i.item.command,i.item.args),this.inputNode.value="",this.refresh())}}},e.prototype._toggleFocused=function(){var n=document.activeElement===this.inputNode;this.toggleClass("lm-mod-focused",n),this.toggleClass("p-mod-focused",n)},e.prototype._onGenericChange=function(){this.refresh()},e})(Widget$1);(function(t){var e=(function(){function n(){}return n.prototype.renderHeader=function(i){var o=this.formatHeader(i);return h$1.li({className:"lm-CommandPalette-header p-CommandPalette-header"},o)},n.prototype.renderItem=function(i){var o=this.createItemClass(i),u=this.createItemDataset(i);return i.item.isToggleable?h$1.li({className:o,dataset:u,role:"checkbox","aria-checked":""+i.item.isToggled},this.renderItemIcon(i),this.renderItemContent(i),this.renderItemShortcut(i)):h$1.li({className:o,dataset:u},this.renderItemIcon(i),this.renderItemContent(i),this.renderItemShortcut(i))},n.prototype.renderEmptyMessage=function(i){var o=this.formatEmptyMessage(i);return h$1.li({className:"lm-CommandPalette-emptyMessage p-CommandPalette-emptyMessage"},o)},n.prototype.renderItemIcon=function(i){var o=this.createIconClass(i);return typeof i.item.icon=="string"?h$1.div({className:o},i.item.iconLabel):h$1.div({className:o},i.item.icon,i.item.iconLabel)},n.prototype.renderItemContent=function(i){return h$1.div({className:"lm-CommandPalette-itemContent p-CommandPalette-itemContent"},this.renderItemLabel(i),this.renderItemCaption(i))},n.prototype.renderItemLabel=function(i){var o=this.formatItemLabel(i);return h$1.div({className:"lm-CommandPalette-itemLabel p-CommandPalette-itemLabel"},o)},n.prototype.renderItemCaption=function(i){var o=this.formatItemCaption(i);return h$1.div({className:"lm-CommandPalette-itemCaption p-CommandPalette-itemCaption"},o)},n.prototype.renderItemShortcut=function(i){var o=this.formatItemShortcut(i);return h$1.div({className:"lm-CommandPalette-itemShortcut p-CommandPalette-itemShortcut"},o)},n.prototype.createItemClass=function(i){var o="lm-CommandPalette-item";o+=" p-CommandPalette-item",i.item.isEnabled||(o+=" lm-mod-disabled",o+=" p-mod-disabled"),i.item.isToggled&&(o+=" lm-mod-toggled",o+=" p-mod-toggled"),i.active&&(o+=" lm-mod-active",o+=" p-mod-active");var u=i.item.className;return u&&(o+=" "+u),o},n.prototype.createItemDataset=function(i){return __assign(__assign({},i.item.dataset),{command:i.item.command})},n.prototype.createIconClass=function(i){var o="lm-CommandPalette-itemIcon";o+=" p-CommandPalette-itemIcon";var u=i.item.iconClass;return u?o+" "+u:o},n.prototype.formatHeader=function(i){return!i.indices||i.indices.length===0?i.category:StringExt$3.highlight(i.category,i.indices,h$1.mark)},n.prototype.formatEmptyMessage=function(i){return"No commands found that match '"+i.query+"'"},n.prototype.formatItemShortcut=function(i){var o=i.item.keyBinding;return o?CommandRegistry.formatKeystroke(o.keys):null},n.prototype.formatItemLabel=function(i){return!i.indices||i.indices.length===0?i.item.label:StringExt$3.highlight(i.item.label,i.indices,h$1.mark)},n.prototype.formatItemCaption=function(i){return i.item.caption},n})();t.Renderer=e,t.defaultRenderer=new e})(CommandPalette$1||(CommandPalette$1={}));var Private$a$1;(function(t){function e(){var v=document.createElement("div"),y=document.createElement("div"),w=document.createElement("div"),T=document.createElement("input"),P=document.createElement("ul"),A=document.createElement("button");return y.className="lm-CommandPalette-search",w.className="lm-CommandPalette-wrapper",T.className="lm-CommandPalette-input",A.className="lm-close-icon",P.className="lm-CommandPalette-content",y.classList.add("p-CommandPalette-search"),w.classList.add("p-CommandPalette-wrapper"),T.classList.add("p-CommandPalette-input"),P.classList.add("p-CommandPalette-content"),T.spellcheck=!1,w.appendChild(T),w.appendChild(A),y.appendChild(w),v.appendChild(y),v.appendChild(P),v}t.createNode=e;function n(v,y){return new g(v,y)}t.createItem=n;function i(v,y){var w=c(v,y);return w.sort(d),m(w)}t.search=i;function o(v){return v.type==="item"&&v.item.isEnabled}t.canActivate=o;function u(v){return v.trim().replace(/\s+/g," ")}function l(v){return v.replace(/\s+/g,"").toLowerCase()}function c(v,y){y=l(y);for(var w=[],T=0,P=v.length;T<P;++T){var A=v[T];if(A.isVisible){if(!y){w.push({matchType:3,categoryIndices:null,labelIndices:null,score:0,item:A});continue}var D=f(A,y);D&&(A.isEnabled||(D.score+=1e3),w.push(D))}}return w}function f(v,y){for(var w=v.category.toLowerCase(),T=v.label.toLowerCase(),P=w+" "+T,A=1/0,D=null,k=/\b\w/g;;){var j=k.exec(P);if(!j)break;var B=StringExt$3.matchSumOfDeltas(P,y,j.index);if(!B)break;B&&B.score<=A&&(A=B.score,D=B.indices)}if(!D||A===1/0)return null;for(var Z=w.length+1,R=ArrayExt$3.lowerBound(D,Z,function(ie,te){return ie-te}),G=D.slice(0,R),F=D.slice(R),K=0,Q=F.length;K<Q;++K)F[K]-=Z;return G.length===0?{matchType:0,categoryIndices:null,labelIndices:F,score:A,item:v}:F.length===0?{matchType:1,categoryIndices:G,labelIndices:null,score:A,item:v}:{matchType:2,categoryIndices:G,labelIndices:F,score:A,item:v}}function d(v,y){var w=v.matchType-y.matchType;if(w!==0)return w;var T=v.score-y.score;if(T!==0)return T;var P=0,A=0;switch(v.matchType){case 0:P=v.labelIndices[0],A=y.labelIndices[0];break;case 1:case 2:P=v.categoryIndices[0],A=y.categoryIndices[0];break}if(P!==A)return P-A;var D=v.item.category.localeCompare(y.item.category);if(D!==0)return D;var k=v.item.rank,j=y.item.rank;return k!==j?k<j?-1:1:v.item.label.localeCompare(y.item.label)}function m(v){var y=new Array(v.length);ArrayExt$3.fill(y,!1);for(var w=[],T=0,P=v.length;T<P;++T)if(!y[T]){var A=v[T],D=A.item,k=A.categoryIndices,j=D.category;w.push({type:"header",category:j,indices:k});for(var B=T;B<P;++B)if(!y[B]){var Z=v[B],R=Z.item,G=Z.labelIndices;R.category===j&&(w.push({type:"item",item:R,indices:G}),y[B]=!0)}}return w}var g=(function(){function v(y,w){this._commands=y,this.category=u(w.category),this.command=w.command,this.args=w.args||JSONExt$1.emptyObject,this.rank=w.rank!==void 0?w.rank:1/0}return Object.defineProperty(v.prototype,"label",{get:function(){return this._commands.label(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"icon",{get:function(){return this._commands.icon(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"iconClass",{get:function(){return this._commands.iconClass(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"iconLabel",{get:function(){return this._commands.iconLabel(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"caption",{get:function(){return this._commands.caption(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"className",{get:function(){return this._commands.className(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"dataset",{get:function(){return this._commands.dataset(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"isEnabled",{get:function(){return this._commands.isEnabled(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"isToggled",{get:function(){return this._commands.isToggled(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"isToggleable",{get:function(){return this._commands.isToggleable(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"isVisible",{get:function(){return this._commands.isVisible(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"keyBinding",{get:function(){var y=this,w=y.command,T=y.args;return ArrayExt$3.findLastValue(this._commands.keyBindings,function(P){return P.command===w&&JSONExt$1.deepEqual(P.args,T)})||null},enumerable:!0,configurable:!0}),v})()})(Private$a$1||(Private$a$1={}));var Menu$1=(function(t){__extends(e,t);function e(n){var i=t.call(this,{node:Private$9$1.createNode()})||this;return i._childIndex=-1,i._activeIndex=-1,i._openTimerID=0,i._closeTimerID=0,i._items=[],i._childMenu=null,i._parentMenu=null,i._aboutToClose=new Signal$1(i),i._menuRequested=new Signal$1(i),i.addClass("lm-Menu"),i.addClass("p-Menu"),i.setFlag(Widget$1.Flag.DisallowLayout),i.commands=n.commands,i.renderer=n.renderer||e.defaultRenderer,i}return e.prototype.dispose=function(){this.close(),this._items.length=0,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"aboutToClose",{get:function(){return this._aboutToClose},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"menuRequested",{get:function(){return this._menuRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentMenu",{get:function(){return this._parentMenu},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"childMenu",{get:function(){return this._childMenu},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rootMenu",{get:function(){for(var n=this;n._parentMenu;)n=n._parentMenu;return n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leafMenu",{get:function(){for(var n=this;n._childMenu;)n=n._childMenu;return n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-Menu-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeItem",{get:function(){return this._items[this._activeIndex]||null},set:function(n){this.activeIndex=n?this._items.indexOf(n):-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(n){(n<0||n>=this._items.length)&&(n=-1),n!==-1&&!Private$9$1.canActivate(this._items[n])&&(n=-1),this._activeIndex!==n&&(this._activeIndex=n,this._activeIndex>=0&&this.contentNode.childNodes[this._activeIndex]&&this.contentNode.childNodes[this._activeIndex].focus(),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),e.prototype.activateNextItem=function(){var n=this._items.length,i=this._activeIndex,o=i<n-1?i+1:0,u=o===0?n-1:o-1;this.activeIndex=ArrayExt$3.findFirstIndex(this._items,Private$9$1.canActivate,o,u)},e.prototype.activatePreviousItem=function(){var n=this._items.length,i=this._activeIndex,o=i<=0?n-1:i-1,u=o===n-1?0:o+1;this.activeIndex=ArrayExt$3.findLastIndex(this._items,Private$9$1.canActivate,o,u)},e.prototype.triggerActiveItem=function(){if(this.isAttached){var n=this.activeItem;if(n){if(this._cancelOpenTimer(),this._cancelCloseTimer(),n.type==="submenu"){this._openChildMenu(!0);return}this.rootMenu.close();var i=n.command,o=n.args;this.commands.isEnabled(i,o)?this.commands.execute(i,o):console.log("Command '"+i+"' is disabled.")}}},e.prototype.addItem=function(n){return this.insertItem(this._items.length,n)},e.prototype.insertItem=function(n,i){this.isAttached&&this.close(),this.activeIndex=-1;var o=Math.max(0,Math.min(n,this._items.length)),u=Private$9$1.createItem(this,i);return ArrayExt$3.insert(this._items,o,u),this.update(),u},e.prototype.removeItem=function(n){this.removeItemAt(this._items.indexOf(n))},e.prototype.removeItemAt=function(n){this.isAttached&&this.close(),this.activeIndex=-1;var i=ArrayExt$3.removeAt(this._items,n);i&&this.update()},e.prototype.clearItems=function(){this.isAttached&&this.close(),this.activeIndex=-1,this._items.length!==0&&(this._items.length=0,this.update())},e.prototype.open=function(n,i,o){if(o===void 0&&(o={}),!this.isAttached){var u=o.forceX||!1,l=o.forceY||!1;Private$9$1.openRootMenu(this,n,i,u,l),this.activate()}},e.prototype.handleEvent=function(n){switch(n.type){case"keydown":this._evtKeyDown(n);break;case"mouseup":this._evtMouseUp(n);break;case"mousemove":this._evtMouseMove(n);break;case"mouseenter":this._evtMouseEnter(n);break;case"mouseleave":this._evtMouseLeave(n);break;case"mousedown":this._evtMouseDown(n);break;case"contextmenu":n.preventDefault(),n.stopPropagation();break}},e.prototype.onBeforeAttach=function(n){this.node.addEventListener("keydown",this),this.node.addEventListener("mouseup",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseenter",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this),document.addEventListener("mousedown",this,!0)},e.prototype.onAfterDetach=function(n){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mouseup",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseenter",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),document.removeEventListener("mousedown",this,!0)},e.prototype.onActivateRequest=function(n){this.isAttached&&this.node.focus()},e.prototype.onUpdateRequest=function(n){for(var i=this,o=this._items,u=this.renderer,l=this._activeIndex,c=Private$9$1.computeCollapsed(o),f=new Array(o.length),d=function(v,y){var w=o[v],T=v===l,P=c[v];f[v]=u.renderItem({item:w,active:T,collapsed:P,onfocus:function(){i.activeIndex=v}})},m=0,g=o.length;m<g;++m)d(m);VirtualDOM.render(f,this.contentNode)},e.prototype.onCloseRequest=function(n){this._cancelOpenTimer(),this._cancelCloseTimer(),this.activeIndex=-1;var i=this._childMenu;i&&(this._childIndex=-1,this._childMenu=null,i._parentMenu=null,i.close());var o=this._parentMenu;o&&(this._parentMenu=null,o._childIndex=-1,o._childMenu=null,o.activate()),this.isAttached&&this._aboutToClose.emit(void 0),t.prototype.onCloseRequest.call(this,n)},e.prototype._evtKeyDown=function(n){n.preventDefault(),n.stopPropagation();var i=n.keyCode;if(i===13){this.triggerActiveItem();return}if(i===27){this.close();return}if(i===37){this._parentMenu?this.close():this._menuRequested.emit("previous");return}if(i===38){this.activatePreviousItem();return}if(i===39){var o=this.activeItem;o&&o.type==="submenu"?this.triggerActiveItem():this.rootMenu._menuRequested.emit("next");return}if(i===40){this.activateNextItem();return}var u=getKeyboardLayout().keyForKeydownEvent(n);if(u){var l=this._activeIndex+1,c=Private$9$1.findMnemonic(this._items,u,l);c.index!==-1&&!c.multiple?(this.activeIndex=c.index,this.triggerActiveItem()):c.index!==-1?this.activeIndex=c.index:c.auto!==-1&&(this.activeIndex=c.auto)}},e.prototype._evtMouseUp=function(n){n.button===0&&(n.preventDefault(),n.stopPropagation(),this.triggerActiveItem())},e.prototype._evtMouseMove=function(n){var i=ArrayExt$3.findFirstIndex(this.contentNode.children,function(u){return ElementExt.hitTest(u,n.clientX,n.clientY)});if(i!==this._activeIndex){if(this.activeIndex=i,i=this.activeIndex,i===this._childIndex){this._cancelOpenTimer(),this._cancelCloseTimer();return}this._childIndex!==-1&&this._startCloseTimer(),this._cancelOpenTimer();var o=this.activeItem;!o||o.type!=="submenu"||!o.submenu||this._startOpenTimer()}},e.prototype._evtMouseEnter=function(n){for(var i=this._parentMenu;i;i=i._parentMenu)i._cancelOpenTimer(),i._cancelCloseTimer(),i.activeIndex=i._childIndex},e.prototype._evtMouseLeave=function(n){if(this._cancelOpenTimer(),!this._childMenu){this.activeIndex=-1;return}var i=n.clientX,o=n.clientY;if(ElementExt.hitTest(this._childMenu.node,i,o)){this._cancelCloseTimer();return}this.activeIndex=-1,this._startCloseTimer()},e.prototype._evtMouseDown=function(n){this._parentMenu||(Private$9$1.hitTestMenus(this,n.clientX,n.clientY)?(n.preventDefault(),n.stopPropagation()):this.close())},e.prototype._openChildMenu=function(n){n===void 0&&(n=!1);var i=this.activeItem;if(!i||i.type!=="submenu"||!i.submenu){this._closeChildMenu();return}var o=i.submenu;if(o!==this._childMenu){e.saveWindowData(),this._closeChildMenu(),this._childMenu=o,this._childIndex=this._activeIndex,o._parentMenu=this,MessageLoop$1.sendMessage(this,Widget$1.Msg.UpdateRequest);var u=this.contentNode.children[this._activeIndex];Private$9$1.openSubmenu(o,u),n&&(o.activeIndex=-1,o.activateNextItem()),o.activate()}},e.prototype._closeChildMenu=function(){this._childMenu&&this._childMenu.close()},e.prototype._startOpenTimer=function(){var n=this;this._openTimerID===0&&(this._openTimerID=window.setTimeout(function(){n._openTimerID=0,n._openChildMenu()},Private$9$1.TIMER_DELAY))},e.prototype._startCloseTimer=function(){var n=this;this._closeTimerID===0&&(this._closeTimerID=window.setTimeout(function(){n._closeTimerID=0,n._closeChildMenu()},Private$9$1.TIMER_DELAY))},e.prototype._cancelOpenTimer=function(){this._openTimerID!==0&&(clearTimeout(this._openTimerID),this._openTimerID=0)},e.prototype._cancelCloseTimer=function(){this._closeTimerID!==0&&(clearTimeout(this._closeTimerID),this._closeTimerID=0)},e.saveWindowData=function(){Private$9$1.saveWindowData()},e})(Widget$1);(function(t){var e=(function(){function n(){}return n.prototype.renderItem=function(i){var o=this.createItemClass(i),u=this.createItemDataset(i),l=this.createItemARIA(i);return h$1.li(__assign({className:o,dataset:u,tabindex:"0",onfocus:i.onfocus},l),this.renderIcon(i),this.renderLabel(i),this.renderShortcut(i),this.renderSubmenu(i))},n.prototype.renderIcon=function(i){var o=this.createIconClass(i);return typeof i.item.icon=="string"?h$1.div({className:o},i.item.iconLabel):h$1.div({className:o},i.item.icon,i.item.iconLabel)},n.prototype.renderLabel=function(i){var o=this.formatLabel(i);return h$1.div({className:"lm-Menu-itemLabel p-Menu-itemLabel"},o)},n.prototype.renderShortcut=function(i){var o=this.formatShortcut(i);return h$1.div({className:"lm-Menu-itemShortcut p-Menu-itemShortcut"},o)},n.prototype.renderSubmenu=function(i){return h$1.div({className:"lm-Menu-itemSubmenuIcon p-Menu-itemSubmenuIcon"})},n.prototype.createItemClass=function(i){var o="lm-Menu-item";o+=" p-Menu-item",i.item.isEnabled||(o+=" lm-mod-disabled",o+=" p-mod-disabled"),i.item.isToggled&&(o+=" lm-mod-toggled",o+=" p-mod-toggled"),i.item.isVisible||(o+=" lm-mod-hidden",o+=" p-mod-hidden"),i.active&&(o+=" lm-mod-active",o+=" p-mod-active"),i.collapsed&&(o+=" lm-mod-collapsed",o+=" p-mod-collapsed");var u=i.item.className;return u&&(o+=" "+u),o},n.prototype.createItemDataset=function(i){var o,u=i.item,l=u.type,c=u.command,f=u.dataset;return l==="command"?o=__assign(__assign({},f),{type:l,command:c}):o=__assign(__assign({},f),{type:l}),o},n.prototype.createIconClass=function(i){var o="lm-Menu-itemIcon";o+=" p-Menu-itemIcon";var u=i.item.iconClass;return u?o+" "+u:o},n.prototype.createItemARIA=function(i){var o={};switch(i.item.type){case"separator":o.role="presentation";break;case"submenu":o["aria-haspopup"]="true",i.item.isEnabled||(o["aria-disabled"]="true");break;default:i.item.isEnabled||(o["aria-disabled"]="true"),o.role="menuitem"}return o},n.prototype.formatLabel=function(i){var o=i.item,u=o.label,l=o.mnemonic;if(l<0||l>=u.length)return u;var c=u.slice(0,l),f=u.slice(l+1),d=u[l],m=h$1.span({className:"lm-Menu-itemMnemonic p-Menu-itemMnemonic"},d);return[c,m,f]},n.prototype.formatShortcut=function(i){var o=i.item.keyBinding;return o?CommandRegistry.formatKeystroke(o.keys):null},n})();t.Renderer=e,t.defaultRenderer=new e})(Menu$1||(Menu$1={}));var Private$9$1;(function(t){t.TIMER_DELAY=300,t.SUBMENU_OVERLAP=3;var e=null,n=0;function i(){return n>0?(n--,e):m()}function o(){e=m(),n++}t.saveWindowData=o;function u(){var T=document.createElement("div"),P=document.createElement("ul");return P.className="lm-Menu-content",P.classList.add("p-Menu-content"),T.appendChild(P),P.setAttribute("role","menu"),T.tabIndex=0,T}t.createNode=u;function l(T){return T.type!=="separator"&&T.isEnabled&&T.isVisible}t.canActivate=l;function c(T,P){return new w(T.commands,P)}t.createItem=c;function f(T,P,A){for(var D=T;D;D=D.childMenu)if(ElementExt.hitTest(D.node,P,A))return!0;return!1}t.hitTestMenus=f;function d(T){var P=new Array(T.length);ArrayExt$3.fill(P,!1);for(var A=0,D=T.length;A<D;++A){var k=T[A];if(k.isVisible){if(k.type!=="separator")break;P[A]=!0}}for(var j=D-1;j>=0;--j){var k=T[j];if(k.isVisible){if(k.type!=="separator")break;P[j]=!0}}for(var B=!1;++A<j;){var k=T[A];k.isVisible&&(k.type!=="separator"?B=!1:B?P[A]=!0:B=!0)}return P}t.computeCollapsed=d;function m(){return{pageXOffset:window.pageXOffset,pageYOffset:window.pageYOffset,clientWidth:document.documentElement.clientWidth,clientHeight:document.documentElement.clientHeight}}function g(T,P,A,D,k){var j=i(),B=j.pageXOffset,Z=j.pageYOffset,R=j.clientWidth,G=j.clientHeight;MessageLoop$1.sendMessage(T,Widget$1.Msg.UpdateRequest);var F=G-(k?A:0),K=T.node,Q=K.style;Q.opacity="0",Q.maxHeight=F+"px",Widget$1.attach(T,document.body);var ie=K.getBoundingClientRect(),te=ie.width,oe=ie.height;!D&&P+te>B+R&&(P=B+R-te),!k&&A+oe>Z+G&&(A>Z+G?A=Z+G-oe:A=A-oe),Q.transform="translate("+Math.max(0,P)+"px, "+Math.max(0,A)+"px",Q.opacity="1"}t.openRootMenu=g;function v(T,P){var A=i(),D=A.pageXOffset,k=A.pageYOffset,j=A.clientWidth,B=A.clientHeight;MessageLoop$1.sendMessage(T,Widget$1.Msg.UpdateRequest);var Z=B,R=T.node,G=R.style;G.opacity="0",G.maxHeight=Z+"px",Widget$1.attach(T,document.body);var F=R.getBoundingClientRect(),K=F.width,Q=F.height,ie=ElementExt.boxSizing(T.node),te=P.getBoundingClientRect(),oe=te.right-t.SUBMENU_OVERLAP;oe+K>D+j&&(oe=te.left+t.SUBMENU_OVERLAP-K);var le=te.top-ie.borderTop-ie.paddingTop;le+Q>k+B&&(le=te.bottom+ie.borderBottom+ie.paddingBottom-Q),G.transform="translate("+Math.max(0,oe)+"px, "+Math.max(0,le)+"px",G.opacity="1"}t.openSubmenu=v;function y(T,P,A){for(var D=-1,k=-1,j=!1,B=P.toUpperCase(),Z=0,R=T.length;Z<R;++Z){var G=(Z+A)%R,F=T[G];if(l(F)){var K=F.label;if(K.length!==0){var Q=F.mnemonic;if(Q>=0&&Q<K.length){K[Q].toUpperCase()===B&&(D===-1?D=G:j=!0);continue}k===-1&&K[0].toUpperCase()===B&&(k=G)}}}return{index:D,multiple:j,auto:k}}t.findMnemonic=y;var w=(function(){function T(P,A){this._commands=P,this.type=A.type||"command",this.command=A.command||"",this.args=A.args||JSONExt$1.emptyObject,this.submenu=A.submenu||null}return Object.defineProperty(T.prototype,"label",{get:function(){return this.type==="command"?this._commands.label(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.label:""},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"mnemonic",{get:function(){return this.type==="command"?this._commands.mnemonic(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.mnemonic:-1},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"icon",{get:function(){return this.type==="command"?this._commands.icon(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.icon:this.iconClass},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"iconClass",{get:function(){return this.type==="command"?this._commands.iconClass(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconClass:""},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"iconLabel",{get:function(){return this.type==="command"?this._commands.iconLabel(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconLabel:""},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"caption",{get:function(){return this.type==="command"?this._commands.caption(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.caption:""},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"className",{get:function(){return this.type==="command"?this._commands.className(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.className:""},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"dataset",{get:function(){return this.type==="command"?this._commands.dataset(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.dataset:{}},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"isEnabled",{get:function(){return this.type==="command"?this._commands.isEnabled(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"isToggled",{get:function(){return this.type==="command"?this._commands.isToggled(this.command,this.args):!1},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"isVisible",{get:function(){return this.type==="command"?this._commands.isVisible(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"keyBinding",{get:function(){if(this.type==="command"){var P=this,A=P.command,D=P.args;return ArrayExt$3.findLastValue(this._commands.keyBindings,function(k){return k.command===A&&JSONExt$1.deepEqual(k.args,D)})||null}return null},enumerable:!0,configurable:!0}),T})()})(Private$9$1||(Private$9$1={}));var Private$8$1;(function(t){function e(l,c){var f=i(l.selector),d=l.rank!==void 0?l.rank:1/0;return __assign(__assign({},l),{selector:f,rank:d,id:c})}t.createItem=e;function n(l,c,f,d){var m=c.target;if(!m)return null;var g=c.currentTarget;if(!g||!g.contains(m)&&(m=document.elementFromPoint(c.clientX,c.clientY),!m||!g.contains(m)))return null;for(var v=[],y=l.slice();m!==null;){for(var w=[],T=0,P=y.length;T<P;++T){var A=y[T];A&&Selector.matches(m,A.selector)&&(w.push(A),y[T]=null)}if(w.length!==0&&(f&&w.sort(d?u:o),v.push.apply(v,w)),m===g)break;m=m.parentElement}return f||v.sort(d?u:o),v}t.matchItems=n;function i(l){if(l.indexOf(",")!==-1)throw new Error("Selector cannot contain commas: "+l);if(!Selector.isValid(l))throw new Error("Invalid selector: "+l);return l}function o(l,c){var f=l.rank,d=c.rank;return f!==d?f<d?-1:1:l.id-c.id}function u(l,c){var f=Selector.calculateSpecificity(l.selector),d=Selector.calculateSpecificity(c.selector);return f!==d?d-f:o(l,c)}})(Private$8$1||(Private$8$1={}));var TabBar$1=(function(t){__extends(e,t);function e(n){n===void 0&&(n={});var i=t.call(this,{node:Private$7$1.createNode()})||this;return i._currentIndex=-1,i._titles=[],i._titlesEditable=!1,i._previousTitle=null,i._dragData=null,i._addButtonEnabled=!1,i._tabMoved=new Signal$1(i),i._currentChanged=new Signal$1(i),i._addRequested=new Signal$1(i),i._tabCloseRequested=new Signal$1(i),i._tabDetachRequested=new Signal$1(i),i._tabActivateRequested=new Signal$1(i),i.addClass("lm-TabBar"),i.addClass("p-TabBar"),i.contentNode.setAttribute("role","tablist"),i.setFlag(Widget$1.Flag.DisallowLayout),i._document=n.document||document,i.tabsMovable=n.tabsMovable||!1,i.titlesEditable=n.titlesEditable||!1,i.allowDeselect=n.allowDeselect||!1,i.addButtonEnabled=n.addButtonEnabled||!1,i.insertBehavior=n.insertBehavior||"select-tab-if-needed",i.name=n.name||"",i.orientation=n.orientation||"horizontal",i.removeBehavior=n.removeBehavior||"select-tab-after",i.renderer=n.renderer||e.defaultRenderer,i}return e.prototype.dispose=function(){this._releaseMouse(),this._titles.length=0,this._previousTitle=null,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabMoved",{get:function(){return this._tabMoved},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabActivateRequested",{get:function(){return this._tabActivateRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addRequested",{get:function(){return this._addRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabCloseRequested",{get:function(){return this._tabCloseRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabDetachRequested",{get:function(){return this._tabDetachRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"titlesEditable",{get:function(){return this._titlesEditable},set:function(n){this._titlesEditable=n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentTitle",{get:function(){return this._titles[this._currentIndex]||null},set:function(n){this.currentIndex=n?this._titles.indexOf(n):-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentIndex",{get:function(){return this._currentIndex},set:function(n){if((n<0||n>=this._titles.length)&&(n=-1),this._currentIndex!==n){var i=this._currentIndex,o=this._titles[i]||null,u=n,l=this._titles[u]||null;this._currentIndex=u,this._previousTitle=o,this.update(),this._currentChanged.emit({previousIndex:i,previousTitle:o,currentIndex:u,currentTitle:l})}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(n){this._name=n,n?this.contentNode.setAttribute("aria-label",n):this.contentNode.removeAttribute("aria-label")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orientation",{get:function(){return this._orientation},set:function(n){this._orientation!==n&&(this._releaseMouse(),this._orientation=n,this.dataset.orientation=n,this.contentNode.setAttribute("aria-orientation",n))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addButtonEnabled",{get:function(){return this._addButtonEnabled},set:function(n){this._addButtonEnabled!==n&&(this._addButtonEnabled=n,n?this.addButtonNode.classList.remove("lm-mod-hidden"):this.addButtonNode.classList.add("lm-mod-hidden"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"titles",{get:function(){return this._titles},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-TabBar-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addButtonNode",{get:function(){return this.node.getElementsByClassName("lm-TabBar-addButton")[0]},enumerable:!0,configurable:!0}),e.prototype.addTab=function(n){return this.insertTab(this._titles.length,n)},e.prototype.insertTab=function(n,i){this._releaseMouse();var o=Private$7$1.asTitle(i),u=this._titles.indexOf(o),l=Math.max(0,Math.min(n,this._titles.length));return u===-1?(ArrayExt$3.insert(this._titles,l,o),o.changed.connect(this._onTitleChanged,this),this.update(),this._adjustCurrentForInsert(l,o),o):(l===this._titles.length&&l--,u===l||(ArrayExt$3.move(this._titles,u,l),this.update(),this._adjustCurrentForMove(u,l)),o)},e.prototype.removeTab=function(n){this.removeTabAt(this._titles.indexOf(n))},e.prototype.removeTabAt=function(n){this._releaseMouse();var i=ArrayExt$3.removeAt(this._titles,n);i&&(i.changed.disconnect(this._onTitleChanged,this),i===this._previousTitle&&(this._previousTitle=null),this.update(),this._adjustCurrentForRemove(n,i))},e.prototype.clearTabs=function(){if(this._titles.length!==0){this._releaseMouse();for(var n=0,i=this._titles;n<i.length;n++){var o=i[n];o.changed.disconnect(this._onTitleChanged,this)}var u=this.currentIndex,l=this.currentTitle;this._currentIndex=-1,this._previousTitle=null,this._titles.length=0,this.update(),u!==-1&&this._currentChanged.emit({previousIndex:u,previousTitle:l,currentIndex:-1,currentTitle:null})}},e.prototype.releaseMouse=function(){this._releaseMouse()},e.prototype.handleEvent=function(n){switch(n.type){case"mousedown":this._evtMouseDown(n);break;case"mousemove":this._evtMouseMove(n);break;case"mouseup":this._evtMouseUp(n);break;case"pointerdown":this._evtMouseDown(n);break;case"pointermove":this._evtMouseMove(n);break;case"pointerup":this._evtMouseUp(n);break;case"dblclick":this._evtDblClick(n);break;case"keydown":this._evtKeyDown(n);break;case"contextmenu":n.preventDefault(),n.stopPropagation();break}},e.prototype.onBeforeAttach=function(n){this.node.addEventListener("mousedown",this),this.node.addEventListener("pointerdown",this),this.node.addEventListener("dblclick",this)},e.prototype.onAfterDetach=function(n){this.node.removeEventListener("mousedown",this),this.node.removeEventListener("pointerdown",this),this.node.removeEventListener("dblclick",this),this._releaseMouse()},e.prototype.onUpdateRequest=function(n){for(var i=this._titles,o=this.renderer,u=this.currentTitle,l=new Array(i.length),c=0,f=i.length;c<f;++c){var d=i[c],m=d===u,g=m?f:f-c-1;l[c]=o.renderTab({title:d,current:m,zIndex:g})}VirtualDOM.render(l,this.contentNode)},e.prototype._evtDblClick=function(n){if(this.titlesEditable){var i=this.contentNode.children,o=ArrayExt$3.findFirstIndex(i,function(g){return ElementExt.hitTest(g,n.clientX,n.clientY)});if(o!==-1){var u=this.titles[o],l=i[o].querySelector(".lm-TabBar-tabLabel");if(l&&l.contains(n.target)){var c=u.label||"",f=l.innerHTML;l.innerHTML="";var d=document.createElement("input");d.classList.add("lm-TabBar-tabInput"),d.value=c,l.appendChild(d);var m=function(){d.removeEventListener("blur",m),l.innerHTML=f};d.addEventListener("dblclick",function(g){return g.stopPropagation()}),d.addEventListener("blur",m),d.addEventListener("keydown",function(g){g.key==="Enter"?(d.value!==""&&(u.label=u.caption=d.value),m()):g.key==="Escape"&&m()}),d.select(),d.focus(),l.children.length>0&&l.children[0].focus()}}}},e.prototype._evtKeyDown=function(n){n.preventDefault(),n.stopPropagation(),n.keyCode===27&&this._releaseMouse()},e.prototype._evtMouseDown=function(n){if(!(n.button!==0&&n.button!==1)&&!this._dragData){var i=this.addButtonEnabled&&this.addButtonNode.contains(n.target),o=this.contentNode.children,u=ArrayExt$3.findFirstIndex(o,function(c){return ElementExt.hitTest(c,n.clientX,n.clientY)});if(!(u===-1&&!i)&&(n.preventDefault(),n.stopPropagation(),this._dragData={tab:o[u],index:u,pressX:n.clientX,pressY:n.clientY,tabPos:-1,tabSize:-1,tabPressPos:-1,targetIndex:-1,tabLayout:null,contentRect:null,override:null,dragActive:!1,dragAborted:!1,detachRequested:!1},this.document.addEventListener("mouseup",this,!0),this.document.addEventListener("pointerup",this,!0),!(n.button===1||i))){var l=o[u].querySelector(this.renderer.closeIconSelector);l&&l.contains(n.target)||(this.tabsMovable&&(this.document.addEventListener("mousemove",this,!0),this.document.addEventListener("pointermove",this,!0),this.document.addEventListener("keydown",this,!0),this.document.addEventListener("contextmenu",this,!0)),this.allowDeselect&&this.currentIndex===u?this.currentIndex=-1:this.currentIndex=u,this.currentIndex!==-1&&this._tabActivateRequested.emit({index:this.currentIndex,title:this.currentTitle}))}}},e.prototype._evtMouseMove=function(n){var i=this._dragData;if(i){n.preventDefault(),n.stopPropagation();var o=this.contentNode.children;if(!(!i.dragActive&&!Private$7$1.dragExceeded(i,n))){if(!i.dragActive){var u=i.tab.getBoundingClientRect();this._orientation==="horizontal"?(i.tabPos=i.tab.offsetLeft,i.tabSize=u.width,i.tabPressPos=i.pressX-u.left):(i.tabPos=i.tab.offsetTop,i.tabSize=u.height,i.tabPressPos=i.pressY-u.top),i.tabLayout=Private$7$1.snapTabLayout(o,this._orientation),i.contentRect=this.contentNode.getBoundingClientRect(),i.override=Drag$1.overrideCursor("default"),i.tab.classList.add("lm-mod-dragging"),this.addClass("lm-mod-dragging"),i.tab.classList.add("p-mod-dragging"),this.addClass("p-mod-dragging"),i.dragActive=!0}if(!i.detachRequested&&Private$7$1.detachExceeded(i,n)){i.detachRequested=!0;var l=i.index,c=n.clientX,f=n.clientY,d=o[l],m=this._titles[l];if(this._tabDetachRequested.emit({index:l,title:m,tab:d,clientX:c,clientY:f}),i.dragAborted)return}Private$7$1.layoutTabs(o,i,n,this._orientation)}}},e.prototype._evtMouseUp=function(n){var i=this;if(!(n.button!==0&&n.button!==1)){var o=this._dragData;if(o){if(n.preventDefault(),n.stopPropagation(),this.document.removeEventListener("mousemove",this,!0),this.document.removeEventListener("mouseup",this,!0),this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),!o.dragActive){this._dragData=null;var u=this.addButtonEnabled&&this.addButtonNode.contains(n.target);if(u){this._addRequested.emit(void 0);return}var l=this.contentNode.children,c=ArrayExt$3.findFirstIndex(l,function(g){return ElementExt.hitTest(g,n.clientX,n.clientY)});if(c!==o.index)return;var f=this._titles[c];if(!f.closable)return;if(n.button===1){this._tabCloseRequested.emit({index:c,title:f});return}var d=l[c].querySelector(this.renderer.closeIconSelector);if(d&&d.contains(n.target)){this._tabCloseRequested.emit({index:c,title:f});return}return}if(n.button===0){Private$7$1.finalizeTabPosition(o,this._orientation),o.tab.classList.remove("lm-mod-dragging"),o.tab.classList.remove("p-mod-dragging");var m=Private$7$1.parseTransitionDuration(o.tab);setTimeout(function(){if(!o.dragAborted){i._dragData=null,Private$7$1.resetTabPositions(i.contentNode.children,i._orientation),o.override.dispose(),i.removeClass("lm-mod-dragging"),i.removeClass("p-mod-dragging");var g=o.index,v=o.targetIndex;v===-1||g===v||(ArrayExt$3.move(i._titles,g,v),i._adjustCurrentForMove(g,v),i._tabMoved.emit({fromIndex:g,toIndex:v,title:i._titles[v]}),MessageLoop$1.sendMessage(i,Widget$1.Msg.UpdateRequest))}},m)}}}},e.prototype._releaseMouse=function(){var n=this._dragData;n&&(this._dragData=null,this.document.removeEventListener("mousemove",this,!0),this.document.removeEventListener("mouseup",this,!0),this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),n.dragAborted=!0,n.dragActive&&(Private$7$1.resetTabPositions(this.contentNode.children,this._orientation),n.override.dispose(),n.tab.classList.remove("lm-mod-dragging"),this.removeClass("lm-mod-dragging"),n.tab.classList.remove("p-mod-dragging"),this.removeClass("p-mod-dragging")))},e.prototype._adjustCurrentForInsert=function(n,i){var o=this.currentTitle,u=this._currentIndex,l=this.insertBehavior;if(l==="select-tab"||l==="select-tab-if-needed"&&u===-1){this._currentIndex=n,this._previousTitle=o,this._currentChanged.emit({previousIndex:u,previousTitle:o,currentIndex:n,currentTitle:i});return}u>=n&&this._currentIndex++},e.prototype._adjustCurrentForMove=function(n,i){this._currentIndex===n?this._currentIndex=i:this._currentIndex<n&&this._currentIndex>=i?this._currentIndex++:this._currentIndex>n&&this._currentIndex<=i&&this._currentIndex--},e.prototype._adjustCurrentForRemove=function(n,i){var o=this._currentIndex,u=this.removeBehavior;if(o!==n){o>n&&this._currentIndex--;return}if(this._titles.length===0){this._currentIndex=-1,this._currentChanged.emit({previousIndex:n,previousTitle:i,currentIndex:-1,currentTitle:null});return}if(u==="select-tab-after"){this._currentIndex=Math.min(n,this._titles.length-1),this._currentChanged.emit({previousIndex:n,previousTitle:i,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(u==="select-tab-before"){this._currentIndex=Math.max(0,n-1),this._currentChanged.emit({previousIndex:n,previousTitle:i,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(u==="select-previous-tab"){this._previousTitle?(this._currentIndex=this._titles.indexOf(this._previousTitle),this._previousTitle=null):this._currentIndex=Math.min(n,this._titles.length-1),this._currentChanged.emit({previousIndex:n,previousTitle:i,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}this._currentIndex=-1,this._currentChanged.emit({previousIndex:n,previousTitle:i,currentIndex:-1,currentTitle:null})},e.prototype._onTitleChanged=function(n){this.update()},e})(Widget$1);(function(t){var e=(function(){function n(){this.closeIconSelector=".lm-TabBar-tabCloseIcon",this._tabID=0,this._tabKeys=new WeakMap,this._uuid=++n._nInstance}return n.prototype.renderTab=function(i){var o=i.title.caption,u=this.createTabKey(i),l=u,c=this.createTabStyle(i),f=this.createTabClass(i),d=this.createTabDataset(i),m=this.createTabARIA(i);return i.title.closable?h$1.li(__assign({id:l,key:u,className:f,title:o,style:c,dataset:d},m),this.renderIcon(i),this.renderLabel(i),this.renderCloseIcon(i)):h$1.li(__assign({id:l,key:u,className:f,title:o,style:c,dataset:d},m),this.renderIcon(i),this.renderLabel(i))},n.prototype.renderIcon=function(i){var o=i.title,u=this.createIconClass(i);return typeof o.icon=="string"?h$1.div({className:u},o.iconLabel):h$1.div({className:u},o.icon,o.iconLabel)},n.prototype.renderLabel=function(i){return h$1.div({className:"lm-TabBar-tabLabel p-TabBar-tabLabel"},i.title.label)},n.prototype.renderCloseIcon=function(i){return h$1.div({className:"lm-TabBar-tabCloseIcon p-TabBar-tabCloseIcon"})},n.prototype.createTabKey=function(i){var o=this._tabKeys.get(i.title);return o===void 0&&(o="tab-key-"+this._uuid+"-"+this._tabID++,this._tabKeys.set(i.title,o)),o},n.prototype.createTabStyle=function(i){return{zIndex:""+i.zIndex}},n.prototype.createTabClass=function(i){var o="lm-TabBar-tab";return o+=" p-TabBar-tab",i.title.className&&(o+=" "+i.title.className),i.title.closable&&(o+=" lm-mod-closable",o+=" p-mod-closable"),i.current&&(o+=" lm-mod-current",o+=" p-mod-current"),o},n.prototype.createTabDataset=function(i){return i.title.dataset},n.prototype.createTabARIA=function(i){return{role:"tab","aria-selected":i.current.toString()}},n.prototype.createIconClass=function(i){var o="lm-TabBar-tabIcon";o+=" p-TabBar-tabIcon";var u=i.title.iconClass;return u?o+" "+u:o},n._nInstance=0,n})();t.Renderer=e,t.defaultRenderer=new e,t.addButtonSelector=".lm-TabBar-addButton"})(TabBar$1||(TabBar$1={}));var Private$7$1;(function(t){t.DRAG_THRESHOLD=5,t.DETACH_THRESHOLD=20;function e(){var m=document.createElement("div"),g=document.createElement("ul");g.setAttribute("role","tablist"),g.className="lm-TabBar-content",g.classList.add("p-TabBar-content"),m.appendChild(g);var v=document.createElement("div");return v.className="lm-TabBar-addButton lm-mod-hidden",m.appendChild(v),m}t.createNode=e;function n(m){return m instanceof Title$1?m:new Title$1(m)}t.asTitle=n;function i(m){var g=window.getComputedStyle(m);return 1e3*(parseFloat(g.transitionDuration)||0)}t.parseTransitionDuration=i;function o(m,g){for(var v=new Array(m.length),y=0,w=m.length;y<w;++y){var T=m[y],P=window.getComputedStyle(T);g==="horizontal"?v[y]={pos:T.offsetLeft,size:T.offsetWidth,margin:parseFloat(P.marginLeft)||0}:v[y]={pos:T.offsetTop,size:T.offsetHeight,margin:parseFloat(P.marginTop)||0}}return v}t.snapTabLayout=o;function u(m,g){var v=Math.abs(g.clientX-m.pressX),y=Math.abs(g.clientY-m.pressY);return v>=t.DRAG_THRESHOLD||y>=t.DRAG_THRESHOLD}t.dragExceeded=u;function l(m,g){var v=m.contentRect;return g.clientX<v.left-t.DETACH_THRESHOLD||g.clientX>=v.right+t.DETACH_THRESHOLD||g.clientY<v.top-t.DETACH_THRESHOLD||g.clientY>=v.bottom+t.DETACH_THRESHOLD}t.detachExceeded=l;function c(m,g,v,y){var w,T,P,A;y==="horizontal"?(w=g.pressX,T=v.clientX-g.contentRect.left,P=v.clientX,A=g.contentRect.width):(w=g.pressY,T=v.clientY-g.contentRect.top,P=v.clientY,A=g.contentRect.height);for(var D=g.index,k=T-g.tabPressPos,j=k+g.tabSize,B=0,Z=m.length;B<Z;++B){var R=void 0,G=g.tabLayout[B],F=G.pos+(G.size>>1);if(B<g.index&&k<F)R=g.tabSize+g.tabLayout[B+1].margin+"px",D=Math.min(D,B);else if(B>g.index&&j>F)R=-g.tabSize-G.margin+"px",D=Math.max(D,B);else if(B===g.index){var K=P-w,Q=A-(g.tabPos+g.tabSize);R=Math.max(-g.tabPos,Math.min(K,Q))+"px"}else R="";y==="horizontal"?m[B].style.left=R:m[B].style.top=R}g.targetIndex=D}t.layoutTabs=c;function f(m,g){var v;g==="horizontal"?v=m.contentRect.width:v=m.contentRect.height;var y;if(m.targetIndex===m.index)y=0;else if(m.targetIndex>m.index){var w=m.tabLayout[m.targetIndex];y=w.pos+w.size-m.tabSize-m.tabPos}else{var w=m.tabLayout[m.targetIndex];y=w.pos-m.tabPos}var T=v-(m.tabPos+m.tabSize),P=Math.max(-m.tabPos,Math.min(y,T));g==="horizontal"?m.tab.style.left=P+"px":m.tab.style.top=P+"px"}t.finalizeTabPosition=f;function d(m,g){each$4(m,function(v){g==="horizontal"?v.style.left="":v.style.top=""})}t.resetTabPositions=d})(Private$7$1||(Private$7$1={}));var DockLayout$1=(function(t){__extends(e,t);function e(n){var i=t.call(this)||this;return i._spacing=4,i._dirty=!1,i._root=null,i._box=null,i._items=new Map,i.renderer=n.renderer,n.spacing!==void 0&&(i._spacing=Utils$1$1.clampDimension(n.spacing)),i._document=n.document||document,i._hiddenMode=n.hiddenMode!==void 0?n.hiddenMode:Widget$1.HiddenMode.Display,i}return e.prototype.dispose=function(){var n=this.iter();this._items.forEach(function(i){i.dispose()}),this._box=null,this._root=null,this._items.clear(),each$4(n,function(i){i.dispose()}),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"hiddenMode",{get:function(){return this._hiddenMode},set:function(n){var i=this;this._hiddenMode!==n&&(this._hiddenMode=n,each$4(this.tabBars(),function(o){o.titles.length>1&&o.titles.forEach(function(u){u.owner.hiddenMode=i._hiddenMode})}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){return this._spacing},set:function(n){n=Utils$1$1.clampDimension(n),this._spacing!==n&&(this._spacing=n,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this._root===null},enumerable:!0,configurable:!0}),e.prototype.iter=function(){return this._root?this._root.iterAllWidgets():empty$9()},e.prototype.widgets=function(){return this._root?this._root.iterUserWidgets():empty$9()},e.prototype.selectedWidgets=function(){return this._root?this._root.iterSelectedWidgets():empty$9()},e.prototype.tabBars=function(){return this._root?this._root.iterTabBars():empty$9()},e.prototype.handles=function(){return this._root?this._root.iterHandles():empty$9()},e.prototype.moveHandle=function(n,i,o){var u=n.classList.contains("lm-mod-hidden");if(u=u||n.classList.contains("p-mod-hidden"),!(!this._root||u)){var l=this._root.findSplitNode(n);if(l){var c;l.node.orientation==="horizontal"?c=i-n.offsetLeft:c=o-n.offsetTop,c!==0&&(l.node.holdSizes(),BoxEngine$1.adjust(l.node.sizers,l.index,c),this.parent&&this.parent.update())}}},e.prototype.saveLayout=function(){return this._root?(this._root.holdAllSizes(),{main:this._root.createConfig()}):{main:null}},e.prototype.restoreLayout=function(n){var i=this,o=new Set,u;n.main?u=Private$6$1.normalizeAreaConfig(n.main,o):u=null;var l=this.widgets(),c=this.tabBars(),f=this.handles();this._root=null,each$4(l,function(d){o.has(d)||(d.parent=null)}),each$4(c,function(d){d.dispose()}),each$4(f,function(d){d.parentNode&&d.parentNode.removeChild(d)}),o.forEach(function(d){d.parent=i.parent}),u?this._root=Private$6$1.realizeAreaConfig(u,{createTabBar:function(d){return i._createTabBar()},createHandle:function(){return i._createHandle()}},this._document):this._root=null,this.parent&&(o.forEach(function(d){i.attachWidget(d)}),this.parent.fit())},e.prototype.addWidget=function(n,i){i===void 0&&(i={});var o=i.ref||null,u=i.mode||"tab-after",l=null;if(this._root&&o&&(l=this._root.findTabNode(o)),o&&!l)throw new Error("Reference widget is not in the layout.");switch(n.parent=this.parent,u){case"tab-after":this._insertTab(n,o,l,!0);break;case"tab-before":this._insertTab(n,o,l,!1);break;case"split-top":this._insertSplit(n,o,l,"vertical",!1);break;case"split-left":this._insertSplit(n,o,l,"horizontal",!1);break;case"split-right":this._insertSplit(n,o,l,"horizontal",!0);break;case"split-bottom":this._insertSplit(n,o,l,"vertical",!0);break}this.parent&&(this.attachWidget(n),this.parent.fit())},e.prototype.removeWidget=function(n){this._removeWidget(n),this.parent&&(this.detachWidget(n),this.parent.fit())},e.prototype.hitTestTabAreas=function(n,i){if(!this._root||!this.parent||!this.parent.isVisible)return null;this._box||(this._box=ElementExt.boxSizing(this.parent.node));var o=this.parent.node.getBoundingClientRect(),u=n-o.left-this._box.borderLeft,l=i-o.top-this._box.borderTop,c=this._root.hitTestTabNodes(u,l);if(!c)return null;var f=c.tabBar,d=c.top,m=c.left,g=c.width,v=c.height,y=this._box.borderLeft+this._box.borderRight,w=this._box.borderTop+this._box.borderBottom,T=o.width-y-(m+g),P=o.height-w-(d+v);return{tabBar:f,x:u,y:l,top:d,left:m,right:T,bottom:P,width:g,height:v}},e.prototype.init=function(){var n=this;t.prototype.init.call(this),each$4(this,function(i){n.attachWidget(i)}),each$4(this.handles(),function(i){n.parent.node.appendChild(i)}),this.parent.fit()},e.prototype.attachWidget=function(n){this.parent.node!==n.node.parentNode&&(this._items.set(n,new LayoutItem$1(n)),this.parent.isAttached&&MessageLoop$1.sendMessage(n,Widget$1.Msg.BeforeAttach),this.parent.node.appendChild(n.node),this.parent.isAttached&&MessageLoop$1.sendMessage(n,Widget$1.Msg.AfterAttach))},e.prototype.detachWidget=function(n){if(this.parent.node===n.node.parentNode){this.parent.isAttached&&MessageLoop$1.sendMessage(n,Widget$1.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.isAttached&&MessageLoop$1.sendMessage(n,Widget$1.Msg.AfterDetach);var i=this._items.get(n);i&&(this._items.delete(n),i.dispose())}},e.prototype.onBeforeShow=function(n){t.prototype.onBeforeShow.call(this,n),this.parent.update()},e.prototype.onBeforeAttach=function(n){t.prototype.onBeforeAttach.call(this,n),this.parent.fit()},e.prototype.onChildShown=function(n){this.parent.fit()},e.prototype.onChildHidden=function(n){this.parent.fit()},e.prototype.onResize=function(n){this.parent.isVisible&&this._update(n.width,n.height)},e.prototype.onUpdateRequest=function(n){this.parent.isVisible&&this._update(-1,-1)},e.prototype.onFitRequest=function(n){this.parent.isAttached&&this._fit()},e.prototype._removeWidget=function(n){if(this._root){var i=this._root.findTabNode(n);if(i){if(Private$6$1.removeAria(n),i.tabBar.titles.length>1){if(i.tabBar.removeTab(n.title),this._hiddenMode===Widget$1.HiddenMode.Scale&&i.tabBar.titles.length==1){var o=i.tabBar.titles[0].owner;o.hiddenMode=Widget$1.HiddenMode.Display}return}if(i.tabBar.dispose(),this._root===i){this._root=null;return}this._root.holdAllSizes();var u=i.parent;i.parent=null;var l=ArrayExt$3.removeFirstOf(u.children,i),c=ArrayExt$3.removeAt(u.handles,l);if(ArrayExt$3.removeAt(u.sizers,l),c.parentNode&&c.parentNode.removeChild(c),u.children.length>1){u.syncHandles();return}var f=u.parent;u.parent=null;var d=u.children[0],m=u.handles[0];if(u.children.length=0,u.handles.length=0,u.sizers.length=0,m.parentNode&&m.parentNode.removeChild(m),this._root===u){d.parent=null,this._root=d;return}var g=f,v=g.children.indexOf(u);if(d instanceof Private$6$1.TabLayoutNode){d.parent=g,g.children[v]=d;return}var y=ArrayExt$3.removeAt(g.handles,v);ArrayExt$3.removeAt(g.children,v),ArrayExt$3.removeAt(g.sizers,v),y.parentNode&&y.parentNode.removeChild(y);for(var w=0,T=d.children.length;w<T;++w){var P=d.children[w],A=d.handles[w],D=d.sizers[w];ArrayExt$3.insert(g.children,v+w,P),ArrayExt$3.insert(g.handles,v+w,A),ArrayExt$3.insert(g.sizers,v+w,D),P.parent=g}d.children.length=0,d.handles.length=0,d.sizers.length=0,d.parent=null,g.syncHandles()}}},e.prototype._insertTab=function(n,i,o,u){if(n!==i){if(!this._root){var l=new Private$6$1.TabLayoutNode(this._createTabBar());l.tabBar.addTab(n.title),this._root=l,Private$6$1.addAria(n,l.tabBar);return}o||(o=this._root.findFirstTabNode()),o.tabBar.titles.indexOf(n.title)===-1&&(this._removeWidget(n),n.hide());var c;if(i?c=o.tabBar.titles.indexOf(i.title):c=o.tabBar.currentIndex,this._hiddenMode===Widget$1.HiddenMode.Scale)if(o.tabBar.titles.length===0)n.hiddenMode=Widget$1.HiddenMode.Display;else if(o.tabBar.titles.length==1){var f=o.tabBar.titles[0].owner;f.hiddenMode=Widget$1.HiddenMode.Scale}else n.hiddenMode=Widget$1.HiddenMode.Scale;else n.hiddenMode=this._hiddenMode;o.tabBar.insertTab(c+(u?1:0),n.title),Private$6$1.addAria(n,o.tabBar)}},e.prototype._insertSplit=function(n,i,o,u,l){if(!(n===i&&o&&o.tabBar.titles.length===1)){this._removeWidget(n);var c=new Private$6$1.TabLayoutNode(this._createTabBar());if(c.tabBar.addTab(n.title),Private$6$1.addAria(n,c.tabBar),!this._root){this._root=c;return}if(!o||!o.parent){var f=this._splitRoot(u),d=l?f.children.length:0;f.normalizeSizes();var m=Private$6$1.createSizer(o?1:Private$6$1.GOLDEN_RATIO);ArrayExt$3.insert(f.children,d,c),ArrayExt$3.insert(f.sizers,d,m),ArrayExt$3.insert(f.handles,d,this._createHandle()),c.parent=f,f.normalizeSizes(),f.syncHandles();return}var g=o.parent;if(g.orientation===u){var v=g.children.indexOf(o);g.normalizeSizes();var y=g.sizers[v].sizeHint/=2,w=v+(l?1:0);ArrayExt$3.insert(g.children,w,c),ArrayExt$3.insert(g.sizers,w,Private$6$1.createSizer(y)),ArrayExt$3.insert(g.handles,w,this._createHandle()),c.parent=g,g.syncHandles();return}var T=ArrayExt$3.removeFirstOf(g.children,o),P=new Private$6$1.SplitLayoutNode(u);P.normalized=!0,P.children.push(o),P.sizers.push(Private$6$1.createSizer(.5)),P.handles.push(this._createHandle()),o.parent=P;var A=l?1:0;ArrayExt$3.insert(P.children,A,c),ArrayExt$3.insert(P.sizers,A,Private$6$1.createSizer(.5)),ArrayExt$3.insert(P.handles,A,this._createHandle()),c.parent=P,P.syncHandles(),ArrayExt$3.insert(g.children,T,P),P.parent=g}},e.prototype._splitRoot=function(n){var i=this._root;if(i instanceof Private$6$1.SplitLayoutNode&&i.orientation===n)return i;var o=this._root=new Private$6$1.SplitLayoutNode(n);return i&&(o.children.push(i),o.sizers.push(Private$6$1.createSizer(0)),o.handles.push(this._createHandle()),i.parent=o),o},e.prototype._fit=function(){var n=0,i=0;if(this._root){var o=this._root.fit(this._spacing,this._items);n=o.minWidth,i=o.minHeight}var u=this._box=ElementExt.boxSizing(this.parent.node);n+=u.horizontalSum,i+=u.verticalSum;var l=this.parent.node.style;l.minWidth=n+"px",l.minHeight=i+"px",this._dirty=!0,this.parent.parent&&MessageLoop$1.sendMessage(this.parent.parent,Widget$1.Msg.FitRequest),this._dirty&&MessageLoop$1.sendMessage(this.parent,Widget$1.Msg.UpdateRequest)},e.prototype._update=function(n,i){if(this._dirty=!1,!!this._root){n<0&&(n=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=ElementExt.boxSizing(this.parent.node));var o=this._box.paddingTop,u=this._box.paddingLeft,l=n-this._box.horizontalSum,c=i-this._box.verticalSum;this._root.update(o,u,l,c,this._spacing,this._items)}},e.prototype._createTabBar=function(){var n=this.renderer.createTabBar(this._document);return n.orientation="horizontal",this.parent&&(n.parent=this.parent,this.attachWidget(n)),n},e.prototype._createHandle=function(){var n=this.renderer.createHandle(),i=n.style;return i.position="absolute",i.top="0",i.left="0",i.width="0",i.height="0",this.parent&&this.parent.node.appendChild(n),n},e})(Layout$1),Private$6$1;(function(t){t.GOLDEN_RATIO=.618;function e(v){var y=new BoxSizer$1;return y.sizeHint=v,y.size=v,y}t.createSizer=e;function n(v,y){var w;return v.type==="tab-area"?w=f(v,y):w=d(v,y),w}t.normalizeAreaConfig=n;function i(v,y,w){var T;return v.type==="tab-area"?T=m(v,y,w):T=g(v,y,w),T}t.realizeAreaConfig=i;var o=(function(){function v(y){this.parent=null,this._top=0,this._left=0,this._width=0,this._height=0;var w=new BoxSizer$1,T=new BoxSizer$1;w.stretch=0,T.stretch=1,this.tabBar=y,this.sizers=[w,T]}return Object.defineProperty(v.prototype,"top",{get:function(){return this._top},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"left",{get:function(){return this._left},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),v.prototype.iterAllWidgets=function(){return chain$1(once$1(this.tabBar),this.iterUserWidgets())},v.prototype.iterUserWidgets=function(){return map$2(this.tabBar.titles,function(y){return y.owner})},v.prototype.iterSelectedWidgets=function(){var y=this.tabBar.currentTitle;return y?once$1(y.owner):empty$9()},v.prototype.iterTabBars=function(){return once$1(this.tabBar)},v.prototype.iterHandles=function(){return empty$9()},v.prototype.findTabNode=function(y){return this.tabBar.titles.indexOf(y.title)!==-1?this:null},v.prototype.findSplitNode=function(y){return null},v.prototype.findFirstTabNode=function(){return this},v.prototype.hitTestTabNodes=function(y,w){return y<this._left||y>=this._left+this._width||w<this._top||w>=this._top+this._height?null:this},v.prototype.createConfig=function(){var y=this.tabBar.titles.map(function(T){return T.owner}),w=this.tabBar.currentIndex;return{type:"tab-area",widgets:y,currentIndex:w}},v.prototype.holdAllSizes=function(){},v.prototype.fit=function(y,w){var T=0,P=0,A=1/0,D=1/0,k=w.get(this.tabBar),j=this.tabBar.currentTitle,B=j?w.get(j.owner):void 0,Z=this.sizers,R=Z[0],G=Z[1];return k&&k.fit(),B&&B.fit(),k&&!k.isHidden?(T=Math.max(T,k.minWidth),P+=k.minHeight,R.minSize=k.minHeight,R.maxSize=k.maxHeight):(R.minSize=0,R.maxSize=0),B&&!B.isHidden?(T=Math.max(T,B.minWidth),P+=B.minHeight,G.minSize=B.minHeight,G.maxSize=1/0):(G.minSize=0,G.maxSize=1/0),{minWidth:T,minHeight:P,maxWidth:A,maxHeight:D}},v.prototype.update=function(y,w,T,P,A,D){this._top=w,this._left=y,this._width=T,this._height=P;var k=D.get(this.tabBar),j=this.tabBar.currentTitle,B=j?D.get(j.owner):void 0;if(BoxEngine$1.calc(this.sizers,P),k&&!k.isHidden){var Z=this.sizers[0].size;k.update(y,w,T,Z),w+=Z}if(B&&!B.isHidden){var Z=this.sizers[1].size;B.update(y,w,T,Z)}},v})();t.TabLayoutNode=o;var u=(function(){function v(y){this.parent=null,this.normalized=!1,this.children=[],this.sizers=[],this.handles=[],this.orientation=y}return v.prototype.iterAllWidgets=function(){var y=map$2(this.children,function(w){return w.iterAllWidgets()});return new ChainIterator(y)},v.prototype.iterUserWidgets=function(){var y=map$2(this.children,function(w){return w.iterUserWidgets()});return new ChainIterator(y)},v.prototype.iterSelectedWidgets=function(){var y=map$2(this.children,function(w){return w.iterSelectedWidgets()});return new ChainIterator(y)},v.prototype.iterTabBars=function(){var y=map$2(this.children,function(w){return w.iterTabBars()});return new ChainIterator(y)},v.prototype.iterHandles=function(){var y=map$2(this.children,function(w){return w.iterHandles()});return chain$1(this.handles,new ChainIterator(y))},v.prototype.findTabNode=function(y){for(var w=0,T=this.children.length;w<T;++w){var P=this.children[w].findTabNode(y);if(P)return P}return null},v.prototype.findSplitNode=function(y){var w=this.handles.indexOf(y);if(w!==-1)return{index:w,node:this};for(var T=0,P=this.children.length;T<P;++T){var A=this.children[T].findSplitNode(y);if(A)return A}return null},v.prototype.findFirstTabNode=function(){return this.children.length===0?null:this.children[0].findFirstTabNode()},v.prototype.hitTestTabNodes=function(y,w){for(var T=0,P=this.children.length;T<P;++T){var A=this.children[T].hitTestTabNodes(y,w);if(A)return A}return null},v.prototype.createConfig=function(){var y=this.orientation,w=this.createNormalizedSizes(),T=this.children.map(function(P){return P.createConfig()});return{type:"split-area",orientation:y,children:T,sizes:w}},v.prototype.syncHandles=function(){var y=this;each$4(this.handles,function(w,T){w.setAttribute("data-orientation",y.orientation),T===y.handles.length-1?(w.classList.add("lm-mod-hidden"),w.classList.add("p-mod-hidden")):(w.classList.remove("lm-mod-hidden"),w.classList.remove("p-mod-hidden"))})},v.prototype.holdSizes=function(){each$4(this.sizers,function(y){y.sizeHint=y.size})},v.prototype.holdAllSizes=function(){each$4(this.children,function(y){return y.holdAllSizes()}),this.holdSizes()},v.prototype.normalizeSizes=function(){var y=this.sizers.length;if(y!==0){this.holdSizes();var w=reduce$1(this.sizers,function(T,P){return T+P.sizeHint},0);w===0?each$4(this.sizers,function(T){T.size=T.sizeHint=1/y}):each$4(this.sizers,function(T){T.size=T.sizeHint/=w}),this.normalized=!0}},v.prototype.createNormalizedSizes=function(){var y=this.sizers.length;if(y===0)return[];var w=this.sizers.map(function(P){return P.size}),T=reduce$1(w,function(P,A){return P+A},0);return T===0?each$4(w,function(P,A){w[A]=1/y}):each$4(w,function(P,A){w[A]=P/T}),w},v.prototype.fit=function(y,w){for(var T=this.orientation==="horizontal",P=Math.max(0,this.children.length-1)*y,A=T?P:0,D=T?0:P,k=1/0,j=1/0,B=0,Z=this.children.length;B<Z;++B){var R=this.children[B].fit(y,w);T?(D=Math.max(D,R.minHeight),A+=R.minWidth,this.sizers[B].minSize=R.minWidth):(A=Math.max(A,R.minWidth),D+=R.minHeight,this.sizers[B].minSize=R.minHeight)}return{minWidth:A,minHeight:D,maxWidth:k,maxHeight:j}},v.prototype.update=function(y,w,T,P,A,D){var k=this.orientation==="horizontal",j=Math.max(0,this.children.length-1)*A,B=Math.max(0,(k?T:P)-j);this.normalized&&(each$4(this.sizers,function(Q){Q.sizeHint*=B}),this.normalized=!1),BoxEngine$1.calc(this.sizers,B);for(var Z=0,R=this.children.length;Z<R;++Z){var G=this.children[Z],F=this.sizers[Z].size,K=this.handles[Z].style;k?(G.update(y,w,F,P,A,D),y+=F,K.top=w+"px",K.left=y+"px",K.width=A+"px",K.height=P+"px",y+=A):(G.update(y,w,T,F,A,D),w+=F,K.top=w+"px",K.left=y+"px",K.width=T+"px",K.height=A+"px",w+=A)}},v})();t.SplitLayoutNode=u;function l(v,y){v.node.setAttribute("role","tabpanel");var w=y.renderer;if(w instanceof TabBar$1.Renderer){var T=w.createTabKey({title:v.title,current:!1,zIndex:0});v.node.setAttribute("aria-labelledby",T)}}t.addAria=l;function c(v){v.node.removeAttribute("role"),v.node.removeAttribute("aria-labelledby")}t.removeAria=c;function f(v,y){if(v.widgets.length===0)return null;var w=[];if(each$4(v.widgets,function(P){y.has(P)||(y.add(P),w.push(P))}),w.length===0)return null;var T=v.currentIndex;return T!==-1&&(T<0||T>=w.length)&&(T=0),{type:"tab-area",widgets:w,currentIndex:T}}function d(v,y){for(var w=v.orientation,T=[],P=[],A=0,D=v.children.length;A<D;++A){var k=n(v.children[A],y);k&&(k.type==="tab-area"||k.orientation!==w?(T.push(k),P.push(Math.abs(v.sizes[A]||0))):(T.push.apply(T,k.children),P.push.apply(P,k.sizes)))}return T.length===0?null:T.length===1?T[0]:{type:"split-area",orientation:w,children:T,sizes:P}}function m(v,y,w){var T=y.createTabBar(w);return each$4(v.widgets,function(P){P.hide(),T.addTab(P.title),t.addAria(P,T)}),T.currentIndex=v.currentIndex,new o(T)}function g(v,y,w){var T=new u(v.orientation);return each$4(v.children,function(P,A){var D=i(P,y,w),k=e(v.sizes[A]),j=y.createHandle();T.children.push(D),T.handles.push(j),T.sizers.push(k),D.parent=T}),T.syncHandles(),T.normalizeSizes(),T}})(Private$6$1||(Private$6$1={}));var DockPanel$1=(function(t){__extends(e,t);function e(n){n===void 0&&(n={});var i=t.call(this)||this;i._drag=null,i._tabsMovable=!0,i._tabsConstrained=!1,i._addButtonEnabled=!1,i._pressData=null,i._layoutModified=new Signal$1(i),i._addRequested=new Signal$1(i),i.addClass("lm-DockPanel"),i.addClass("p-DockPanel"),i._document=n.document||document,i._mode=n.mode||"multiple-document",i._renderer=n.renderer||e.defaultRenderer,i._edges=n.edges||Private$5$1.DEFAULT_EDGES,n.tabsMovable!==void 0&&(i._tabsMovable=n.tabsMovable),n.tabsConstrained!==void 0&&(i._tabsConstrained=n.tabsConstrained),n.addButtonEnabled!==void 0&&(i._addButtonEnabled=n.addButtonEnabled),i.dataset.mode=i._mode;var o={createTabBar:function(){return i._createTabBar()},createHandle:function(){return i._createHandle()}};return i.layout=new DockLayout$1({document:i._document,renderer:o,spacing:n.spacing,hiddenMode:n.hiddenMode}),i.overlay=n.overlay||new e.Overlay,i.node.appendChild(i.overlay.node),i}return e.prototype.dispose=function(){this._releaseMouse(),this.overlay.hide(0),this._drag&&this._drag.dispose(),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"hiddenMode",{get:function(){return this.layout.hiddenMode},set:function(n){this.layout.hiddenMode=n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layoutModified",{get:function(){return this._layoutModified},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addRequested",{get:function(){return this._addRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderer",{get:function(){return this.layout.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(n){this.layout.spacing=n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mode",{get:function(){return this._mode},set:function(n){if(this._mode!==n){this._mode=n,this.dataset.mode=n;var i=this.layout;switch(n){case"multiple-document":each$4(i.tabBars(),function(o){o.show()});break;case"single-document":i.restoreLayout(Private$5$1.createSingleDocumentConfig(this));break;default:throw"unreachable"}MessageLoop$1.postMessage(this,Private$5$1.LayoutModified)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabsMovable",{get:function(){return this._tabsMovable},set:function(n){this._tabsMovable=n,each$4(this.tabBars(),function(i){i.tabsMovable=n})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabsConstrained",{get:function(){return this._tabsConstrained},set:function(n){this._tabsConstrained=n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addButtonEnabled",{get:function(){return this._addButtonEnabled},set:function(n){this._addButtonEnabled=n,each$4(this.tabBars(),function(i){i.addButtonEnabled=n})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this.layout.isEmpty},enumerable:!0,configurable:!0}),e.prototype.widgets=function(){return this.layout.widgets()},e.prototype.selectedWidgets=function(){return this.layout.selectedWidgets()},e.prototype.tabBars=function(){return this.layout.tabBars()},e.prototype.handles=function(){return this.layout.handles()},e.prototype.selectWidget=function(n){var i=find$3(this.tabBars(),function(o){return o.titles.indexOf(n.title)!==-1});if(!i)throw new Error("Widget is not contained in the dock panel.");i.currentTitle=n.title},e.prototype.activateWidget=function(n){this.selectWidget(n),n.activate()},e.prototype.saveLayout=function(){return this.layout.saveLayout()},e.prototype.restoreLayout=function(n){this._mode="multiple-document",this.layout.restoreLayout(n),(Platform.IS_EDGE||Platform.IS_IE)&&MessageLoop$1.flush(),MessageLoop$1.postMessage(this,Private$5$1.LayoutModified)},e.prototype.addWidget=function(n,i){i===void 0&&(i={}),this._mode==="single-document"?this.layout.addWidget(n):this.layout.addWidget(n,i),MessageLoop$1.postMessage(this,Private$5$1.LayoutModified)},e.prototype.processMessage=function(n){n.type==="layout-modified"?this._layoutModified.emit(void 0):t.prototype.processMessage.call(this,n)},e.prototype.handleEvent=function(n){switch(n.type){case"lm-dragenter":this._evtDragEnter(n);break;case"lm-dragleave":this._evtDragLeave(n);break;case"lm-dragover":this._evtDragOver(n);break;case"lm-drop":this._evtDrop(n);break;case"mousedown":this._evtMouseDown(n);break;case"mousemove":this._evtMouseMove(n);break;case"mouseup":this._evtMouseUp(n);break;case"pointerdown":this._evtMouseDown(n);break;case"pointermove":this._evtMouseMove(n);break;case"pointerup":this._evtMouseUp(n);break;case"keydown":this._evtKeyDown(n);break;case"contextmenu":n.preventDefault(),n.stopPropagation();break}},e.prototype.onBeforeAttach=function(n){this.node.addEventListener("lm-dragenter",this),this.node.addEventListener("lm-dragleave",this),this.node.addEventListener("lm-dragover",this),this.node.addEventListener("lm-drop",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("pointerdown",this)},e.prototype.onAfterDetach=function(n){this.node.removeEventListener("lm-dragenter",this),this.node.removeEventListener("lm-dragleave",this),this.node.removeEventListener("lm-dragover",this),this.node.removeEventListener("lm-drop",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("pointerdown",this),this._releaseMouse()},e.prototype.onChildAdded=function(n){Private$5$1.isGeneratedTabBarProperty.get(n.child)||(n.child.addClass("lm-DockPanel-widget"),n.child.addClass("p-DockPanel-widget"))},e.prototype.onChildRemoved=function(n){Private$5$1.isGeneratedTabBarProperty.get(n.child)||(n.child.removeClass("lm-DockPanel-widget"),n.child.removeClass("p-DockPanel-widget"),MessageLoop$1.postMessage(this,Private$5$1.LayoutModified))},e.prototype._evtDragEnter=function(n){n.mimeData.hasData("application/vnd.lumino.widget-factory")&&(n.preventDefault(),n.stopPropagation())},e.prototype._evtDragLeave=function(n){n.preventDefault(),!(this._tabsConstrained&&n.source!==this)&&(n.stopPropagation(),this.overlay.hide(1))},e.prototype._evtDragOver=function(n){n.preventDefault(),this._tabsConstrained&&n.source!==this||this._showOverlay(n.clientX,n.clientY)==="invalid"?n.dropAction="none":(n.stopPropagation(),n.dropAction=n.proposedAction)},e.prototype._evtDrop=function(n){if(n.preventDefault(),this.overlay.hide(0),n.proposedAction==="none"){n.dropAction="none";return}var i=n.clientX,o=n.clientY,u=Private$5$1.findDropTarget(this,i,o,this._edges),l=u.zone,c=u.target;if(this._tabsConstrained&&n.source!==this||l==="invalid"){n.dropAction="none";return}var f=n.mimeData,d=f.getData("application/vnd.lumino.widget-factory");if(typeof d!="function"){n.dropAction="none";return}var m=d();if(!(m instanceof Widget$1)){n.dropAction="none";return}if(m.contains(this)){n.dropAction="none";return}var g=c?Private$5$1.getDropRef(c.tabBar):null;switch(l){case"root-all":this.addWidget(m);break;case"root-top":this.addWidget(m,{mode:"split-top"});break;case"root-left":this.addWidget(m,{mode:"split-left"});break;case"root-right":this.addWidget(m,{mode:"split-right"});break;case"root-bottom":this.addWidget(m,{mode:"split-bottom"});break;case"widget-all":this.addWidget(m,{mode:"tab-after",ref:g});break;case"widget-top":this.addWidget(m,{mode:"split-top",ref:g});break;case"widget-left":this.addWidget(m,{mode:"split-left",ref:g});break;case"widget-right":this.addWidget(m,{mode:"split-right",ref:g});break;case"widget-bottom":this.addWidget(m,{mode:"split-bottom",ref:g});break;case"widget-tab":this.addWidget(m,{mode:"tab-after",ref:g});break;default:throw"unreachable"}n.dropAction=n.proposedAction,n.stopPropagation(),this.activateWidget(m)},e.prototype._evtKeyDown=function(n){n.preventDefault(),n.stopPropagation(),n.keyCode===27&&(this._releaseMouse(),MessageLoop$1.postMessage(this,Private$5$1.LayoutModified))},e.prototype._evtMouseDown=function(n){if(n.button===0){var i=this.layout,o=n.target,u=find$3(i.handles(),function(g){return g.contains(o)});if(u){n.preventDefault(),n.stopPropagation(),this._document.addEventListener("keydown",this,!0),this._document.addEventListener("mouseup",this,!0),this._document.addEventListener("mousemove",this,!0),this._document.addEventListener("pointerup",this,!0),this._document.addEventListener("pointermove",this,!0),this._document.addEventListener("contextmenu",this,!0);var l=u.getBoundingClientRect(),c=n.clientX-l.left,f=n.clientY-l.top,d=window.getComputedStyle(u),m=Drag$1.overrideCursor(d.cursor,this._document);this._pressData={handle:u,deltaX:c,deltaY:f,override:m}}}},e.prototype._evtMouseMove=function(n){if(this._pressData){n.preventDefault(),n.stopPropagation();var i=this.node.getBoundingClientRect(),o=n.clientX-i.left-this._pressData.deltaX,u=n.clientY-i.top-this._pressData.deltaY,l=this.layout;l.moveHandle(this._pressData.handle,o,u)}},e.prototype._evtMouseUp=function(n){n.button===0&&(n.preventDefault(),n.stopPropagation(),this._releaseMouse(),MessageLoop$1.postMessage(this,Private$5$1.LayoutModified))},e.prototype._releaseMouse=function(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._document.removeEventListener("keydown",this,!0),this._document.removeEventListener("mouseup",this,!0),this._document.removeEventListener("mousemove",this,!0),this._document.removeEventListener("pointerup",this,!0),this._document.removeEventListener("pointermove",this,!0),this._document.removeEventListener("contextmenu",this,!0))},e.prototype._showOverlay=function(n,i){var o=Private$5$1.findDropTarget(this,n,i,this._edges),u=o.zone,l=o.target;if(u==="invalid")return this.overlay.hide(100),u;var c,f,d,m,g=ElementExt.boxSizing(this.node),v=this.node.getBoundingClientRect();switch(u){case"root-all":c=g.paddingTop,f=g.paddingLeft,d=g.paddingRight,m=g.paddingBottom;break;case"root-top":c=g.paddingTop,f=g.paddingLeft,d=g.paddingRight,m=v.height*Private$5$1.GOLDEN_RATIO;break;case"root-left":c=g.paddingTop,f=g.paddingLeft,d=v.width*Private$5$1.GOLDEN_RATIO,m=g.paddingBottom;break;case"root-right":c=g.paddingTop,f=v.width*Private$5$1.GOLDEN_RATIO,d=g.paddingRight,m=g.paddingBottom;break;case"root-bottom":c=v.height*Private$5$1.GOLDEN_RATIO,f=g.paddingLeft,d=g.paddingRight,m=g.paddingBottom;break;case"widget-all":c=l.top,f=l.left,d=l.right,m=l.bottom;break;case"widget-top":c=l.top,f=l.left,d=l.right,m=l.bottom+l.height/2;break;case"widget-left":c=l.top,f=l.left,d=l.right+l.width/2,m=l.bottom;break;case"widget-right":c=l.top,f=l.left+l.width/2,d=l.right,m=l.bottom;break;case"widget-bottom":c=l.top+l.height/2,f=l.left,d=l.right,m=l.bottom;break;case"widget-tab":var y=l.tabBar.node.getBoundingClientRect().height;c=l.top,f=l.left,d=l.right,m=l.bottom+l.height-y;break;default:throw"unreachable"}return this.overlay.show({top:c,left:f,right:d,bottom:m}),u},e.prototype._createTabBar=function(){var n=this._renderer.createTabBar(this._document);return Private$5$1.isGeneratedTabBarProperty.set(n,!0),this._mode==="single-document"&&n.hide(),n.tabsMovable=this._tabsMovable,n.allowDeselect=!1,n.addButtonEnabled=this._addButtonEnabled,n.removeBehavior="select-previous-tab",n.insertBehavior="select-tab-if-needed",n.tabMoved.connect(this._onTabMoved,this),n.currentChanged.connect(this._onCurrentChanged,this),n.tabCloseRequested.connect(this._onTabCloseRequested,this),n.tabDetachRequested.connect(this._onTabDetachRequested,this),n.tabActivateRequested.connect(this._onTabActivateRequested,this),n.addRequested.connect(this._onTabAddRequested,this),n},e.prototype._createHandle=function(){return this._renderer.createHandle()},e.prototype._onTabMoved=function(){MessageLoop$1.postMessage(this,Private$5$1.LayoutModified)},e.prototype._onCurrentChanged=function(n,i){var o=i.previousTitle,u=i.currentTitle;o&&o.owner.hide(),u&&u.owner.show(),(Platform.IS_EDGE||Platform.IS_IE)&&MessageLoop$1.flush(),MessageLoop$1.postMessage(this,Private$5$1.LayoutModified)},e.prototype._onTabAddRequested=function(n){this._addRequested.emit(n)},e.prototype._onTabActivateRequested=function(n,i){i.title.owner.activate()},e.prototype._onTabCloseRequested=function(n,i){i.title.owner.close()},e.prototype._onTabDetachRequested=function(n,i){var o=this;if(!this._drag){n.releaseMouse();var u=i.title,l=i.tab,c=i.clientX,f=i.clientY,d=new MimeData,m=function(){return u.owner};d.setData("application/vnd.lumino.widget-factory",m);var g=l.cloneNode(!0);this._drag=new Drag$1({document:this._document,mimeData:d,dragImage:g,proposedAction:"move",supportedActions:"move",source:this}),l.classList.add("lm-mod-hidden"),l.classList.add("p-mod-hidden");var v=function(){o._drag=null,l.classList.remove("lm-mod-hidden"),l.classList.remove("p-mod-hidden")};this._drag.start(c,f).then(v)}},e})(Widget$1);(function(t){var e=(function(){function i(){this._timer=-1,this._hidden=!0,this.node=document.createElement("div"),this.node.classList.add("lm-DockPanel-overlay"),this.node.classList.add("lm-mod-hidden"),this.node.classList.add("p-DockPanel-overlay"),this.node.classList.add("p-mod-hidden"),this.node.style.position="absolute"}return i.prototype.show=function(o){var u=this.node.style;u.top=o.top+"px",u.left=o.left+"px",u.right=o.right+"px",u.bottom=o.bottom+"px",clearTimeout(this._timer),this._timer=-1,this._hidden&&(this._hidden=!1,this.node.classList.remove("lm-mod-hidden"),this.node.classList.remove("p-mod-hidden"))},i.prototype.hide=function(o){var u=this;if(!this._hidden){if(o<=0){clearTimeout(this._timer),this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden"),this.node.classList.add("p-mod-hidden");return}this._timer===-1&&(this._timer=window.setTimeout(function(){u._timer=-1,u._hidden=!0,u.node.classList.add("lm-mod-hidden"),u.node.classList.add("p-mod-hidden")},o))}},i})();t.Overlay=e;var n=(function(){function i(){}return i.prototype.createTabBar=function(o){var u=new TabBar$1({document:o});return u.addClass("lm-DockPanel-tabBar"),u.addClass("p-DockPanel-tabBar"),u},i.prototype.createHandle=function(){var o=document.createElement("div");return o.className="lm-DockPanel-handle",o.classList.add("p-DockPanel-handle"),o},i})();t.Renderer=n,t.defaultRenderer=new n})(DockPanel$1||(DockPanel$1={}));var Private$5$1;(function(t){t.GOLDEN_RATIO=.618,t.DEFAULT_EDGES={top:12,right:40,bottom:40,left:40},t.LayoutModified=new ConflatableMessage$1("layout-modified"),t.isGeneratedTabBarProperty=new AttachedProperty$1({name:"isGeneratedTabBar",create:function(){return!1}});function e(o){if(o.isEmpty)return{main:null};var u=toArray$1(o.widgets()),l=o.selectedWidgets().next(),c=l?u.indexOf(l):-1;return{main:{type:"tab-area",widgets:u,currentIndex:c}}}t.createSingleDocumentConfig=e;function n(o,u,l,c){if(!ElementExt.hitTest(o.node,u,l))return{zone:"invalid",target:null};var f=o.layout;if(f.isEmpty)return{zone:"root-all",target:null};if(o.mode==="multiple-document"){var d=o.node.getBoundingClientRect(),m=u-d.left+1,g=l-d.top+1,v=d.right-u,y=d.bottom-l,w=Math.min(g,v,y,m);switch(w){case g:if(g<c.top)return{zone:"root-top",target:null};break;case v:if(v<c.right)return{zone:"root-right",target:null};break;case y:if(y<c.bottom)return{zone:"root-bottom",target:null};break;case m:if(m<c.left)return{zone:"root-left",target:null};break;default:throw"unreachable"}}var T=f.hitTestTabAreas(u,l);if(!T)return{zone:"invalid",target:null};if(o.mode==="single-document")return{zone:"widget-all",target:T};var P=T.x-T.left+1,A=T.y-T.top+1,D=T.left+T.width-T.x,k=T.top+T.height-T.y,j=T.tabBar.node.getBoundingClientRect().height;if(A<j)return{zone:"widget-tab",target:T};var B=Math.round(T.width/3),Z=Math.round(T.height/3);if(P>B&&D>B&&A>Z&&k>Z)return{zone:"widget-all",target:T};P/=B,A/=Z,D/=B,k/=Z;var R=Math.min(P,A,D,k),G;switch(R){case P:G="widget-left";break;case A:G="widget-top";break;case D:G="widget-right";break;case k:G="widget-bottom";break;default:throw"unreachable"}return{zone:G,target:T}}t.findDropTarget=n;function i(o){return o.titles.length===0?null:o.currentTitle?o.currentTitle.owner:o.titles[o.titles.length-1].owner}t.getDropRef=i})(Private$5$1||(Private$5$1={}));(function(){function t(){this._counter=0,this._widgets=[],this._activeWidget=null,this._currentWidget=null,this._numbers=new Map,this._nodes=new Map,this._activeChanged=new Signal$1(this),this._currentChanged=new Signal$1(this)}return t.prototype.dispose=function(){var e=this;this._counter<0||(this._counter=-1,Signal$1.clearData(this),each$4(this._widgets,function(n){n.node.removeEventListener("focus",e,!0),n.node.removeEventListener("blur",e,!0)}),this._activeWidget=null,this._currentWidget=null,this._nodes.clear(),this._numbers.clear(),this._widgets.length=0)},Object.defineProperty(t.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeChanged",{get:function(){return this._activeChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._counter<0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentWidget",{get:function(){return this._currentWidget},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeWidget",{get:function(){return this._activeWidget},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widgets",{get:function(){return this._widgets},enumerable:!0,configurable:!0}),t.prototype.focusNumber=function(e){var n=this._numbers.get(e);return n===void 0?-1:n},t.prototype.has=function(e){return this._numbers.has(e)},t.prototype.add=function(e){if(!this._numbers.has(e)){var n=e.node.contains(document.activeElement),i=n?this._counter++:-1;this._widgets.push(e),this._numbers.set(e,i),this._nodes.set(e.node,e),e.node.addEventListener("focus",this,!0),e.node.addEventListener("blur",this,!0),e.disposed.connect(this._onWidgetDisposed,this),n&&this._setWidgets(e,e)}},t.prototype.remove=function(e){var n=this;if(this._numbers.has(e)&&(e.disposed.disconnect(this._onWidgetDisposed,this),e.node.removeEventListener("focus",this,!0),e.node.removeEventListener("blur",this,!0),ArrayExt$3.removeFirstOf(this._widgets,e),this._nodes.delete(e.node),this._numbers.delete(e),this._currentWidget===e)){var i=filter$1(this._widgets,function(u){return n._numbers.get(u)!==-1}),o=max$1(i,function(u,l){var c=n._numbers.get(u),f=n._numbers.get(l);return c-f})||null;this._setWidgets(o,null)}},t.prototype.handleEvent=function(e){switch(e.type){case"focus":this._evtFocus(e);break;case"blur":this._evtBlur(e);break}},t.prototype._setWidgets=function(e,n){var i=this._currentWidget;this._currentWidget=e;var o=this._activeWidget;this._activeWidget=n,i!==e&&this._currentChanged.emit({oldValue:i,newValue:e}),o!==n&&this._activeChanged.emit({oldValue:o,newValue:n})},t.prototype._evtFocus=function(e){var n=this._nodes.get(e.currentTarget);n!==this._currentWidget&&this._numbers.set(n,this._counter++),this._setWidgets(n,n)},t.prototype._evtBlur=function(e){var n=this._nodes.get(e.currentTarget),i=e.relatedTarget;if(!i){this._setWidgets(this._currentWidget,null);return}if(!n.node.contains(i)&&!find$3(this._widgets,function(o){return o.node.contains(i)})){this._setWidgets(this._currentWidget,null);return}},t.prototype._onWidgetDisposed=function(e){this.remove(e)},t})();var GridLayout$1=(function(t){__extends(e,t);function e(n){n===void 0&&(n={});var i=t.call(this,n)||this;return i._dirty=!1,i._rowSpacing=4,i._columnSpacing=4,i._items=[],i._rowStarts=[],i._columnStarts=[],i._rowSizers=[new BoxSizer$1],i._columnSizers=[new BoxSizer$1],i._box=null,n.rowCount!==void 0&&Private$4$1.reallocSizers(i._rowSizers,n.rowCount),n.columnCount!==void 0&&Private$4$1.reallocSizers(i._columnSizers,n.columnCount),n.rowSpacing!==void 0&&(i._rowSpacing=Private$4$1.clampValue(n.rowSpacing)),n.columnSpacing!==void 0&&(i._columnSpacing=Private$4$1.clampValue(n.columnSpacing)),i}return e.prototype.dispose=function(){each$4(this._items,function(n){var i=n.widget;n.dispose(),i.dispose()}),this._box=null,this._items.length=0,this._rowStarts.length=0,this._rowSizers.length=0,this._columnStarts.length=0,this._columnSizers.length=0,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"rowCount",{get:function(){return this._rowSizers.length},set:function(n){n!==this.rowCount&&(Private$4$1.reallocSizers(this._rowSizers,n),this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnCount",{get:function(){return this._columnSizers.length},set:function(n){n!==this.columnCount&&(Private$4$1.reallocSizers(this._columnSizers,n),this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowSpacing",{get:function(){return this._rowSpacing},set:function(n){n=Private$4$1.clampValue(n),this._rowSpacing!==n&&(this._rowSpacing=n,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnSpacing",{get:function(){return this._columnSpacing},set:function(n){n=Private$4$1.clampValue(n),this._columnSpacing!==n&&(this._columnSpacing=n,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),e.prototype.rowStretch=function(n){var i=this._rowSizers[n];return i?i.stretch:-1},e.prototype.setRowStretch=function(n,i){var o=this._rowSizers[n];o&&(i=Private$4$1.clampValue(i),o.stretch!==i&&(o.stretch=i,this.parent&&this.parent.update()))},e.prototype.columnStretch=function(n){var i=this._columnSizers[n];return i?i.stretch:-1},e.prototype.setColumnStretch=function(n,i){var o=this._columnSizers[n];o&&(i=Private$4$1.clampValue(i),o.stretch!==i&&(o.stretch=i,this.parent&&this.parent.update()))},e.prototype.iter=function(){return map$2(this._items,function(n){return n.widget})},e.prototype.addWidget=function(n){var i=ArrayExt$3.findFirstIndex(this._items,function(o){return o.widget===n});i===-1&&(this._items.push(new LayoutItem$1(n)),this.parent&&this.attachWidget(n))},e.prototype.removeWidget=function(n){var i=ArrayExt$3.findFirstIndex(this._items,function(u){return u.widget===n});if(i!==-1){var o=ArrayExt$3.removeAt(this._items,i);this.parent&&this.detachWidget(n),o.dispose()}},e.prototype.init=function(){var n=this;t.prototype.init.call(this),each$4(this,function(i){n.attachWidget(i)})},e.prototype.attachWidget=function(n){this.parent.isAttached&&MessageLoop$1.sendMessage(n,Widget$1.Msg.BeforeAttach),this.parent.node.appendChild(n.node),this.parent.isAttached&&MessageLoop$1.sendMessage(n,Widget$1.Msg.AfterAttach),this.parent.fit()},e.prototype.detachWidget=function(n){this.parent.isAttached&&MessageLoop$1.sendMessage(n,Widget$1.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.isAttached&&MessageLoop$1.sendMessage(n,Widget$1.Msg.AfterDetach),this.parent.fit()},e.prototype.onBeforeShow=function(n){t.prototype.onBeforeShow.call(this,n),this.parent.update()},e.prototype.onBeforeAttach=function(n){t.prototype.onBeforeAttach.call(this,n),this.parent.fit()},e.prototype.onChildShown=function(n){this.parent.fit()},e.prototype.onChildHidden=function(n){this.parent.fit()},e.prototype.onResize=function(n){this.parent.isVisible&&this._update(n.width,n.height)},e.prototype.onUpdateRequest=function(n){this.parent.isVisible&&this._update(-1,-1)},e.prototype.onFitRequest=function(n){this.parent.isAttached&&this._fit()},e.prototype._fit=function(){for(var n=0,i=this.rowCount;n<i;++n)this._rowSizers[n].minSize=0;for(var n=0,i=this.columnCount;n<i;++n)this._columnSizers[n].minSize=0;for(var o=this._items.filter(function(A){return!A.isHidden}),n=0,i=o.length;n<i;++n)o[n].fit();var u=this.rowCount-1,l=this.columnCount-1;o.sort(Private$4$1.rowSpanCmp);for(var n=0,i=o.length;n<i;++n){var c=o[n],f=e.getCellConfig(c.widget),d=Math.min(f.row,u),m=Math.min(f.row+f.rowSpan-1,u);Private$4$1.distributeMin(this._rowSizers,d,m,c.minHeight)}o.sort(Private$4$1.columnSpanCmp);for(var n=0,i=o.length;n<i;++n){var c=o[n],f=e.getCellConfig(c.widget),g=Math.min(f.column,l),v=Math.min(f.column+f.columnSpan-1,l);Private$4$1.distributeMin(this._columnSizers,g,v,c.minWidth)}if(this.fitPolicy==="set-no-constraint"){MessageLoop$1.sendMessage(this.parent,Widget$1.Msg.UpdateRequest);return}for(var y=u*this._rowSpacing,w=l*this._columnSpacing,n=0,i=this.rowCount;n<i;++n)y+=this._rowSizers[n].minSize;for(var n=0,i=this.columnCount;n<i;++n)w+=this._columnSizers[n].minSize;var T=this._box=ElementExt.boxSizing(this.parent.node);w+=T.horizontalSum,y+=T.verticalSum;var P=this.parent.node.style;P.minWidth=w+"px",P.minHeight=y+"px",this._dirty=!0,this.parent.parent&&MessageLoop$1.sendMessage(this.parent.parent,Widget$1.Msg.FitRequest),this._dirty&&MessageLoop$1.sendMessage(this.parent,Widget$1.Msg.UpdateRequest)},e.prototype._update=function(n,i){this._dirty=!1,n<0&&(n=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=ElementExt.boxSizing(this.parent.node));var o=this._box.paddingTop,u=this._box.paddingLeft,l=n-this._box.horizontalSum,c=i-this._box.verticalSum,f=this.rowCount-1,d=this.columnCount-1,m=f*this._rowSpacing,g=d*this._columnSpacing;BoxEngine$1.calc(this._rowSizers,Math.max(0,c-m)),BoxEngine$1.calc(this._columnSizers,Math.max(0,l-g));for(var v=0,y=o,w=this.rowCount;v<w;++v)this._rowStarts[v]=y,y+=this._rowSizers[v].size+this._rowSpacing;for(var v=0,y=u,w=this.columnCount;v<w;++v)this._columnStarts[v]=y,y+=this._columnSizers[v].size+this._columnSpacing;for(var v=0,w=this._items.length;v<w;++v){var T=this._items[v];if(!T.isHidden){var P=e.getCellConfig(T.widget),A=Math.min(P.row,f),D=Math.min(P.column,d),k=Math.min(P.row+P.rowSpan-1,f),j=Math.min(P.column+P.columnSpan-1,d),B=this._columnStarts[D],Z=this._rowStarts[A],R=this._columnStarts[j]+this._columnSizers[j].size-B,G=this._rowStarts[k]+this._rowSizers[k].size-Z;T.update(B,Z,R,G)}}},e})(Layout$1);(function(t){function e(i){return Private$4$1.cellConfigProperty.get(i)}t.getCellConfig=e;function n(i,o){Private$4$1.cellConfigProperty.set(i,Private$4$1.normalizeConfig(o))}t.setCellConfig=n})(GridLayout$1||(GridLayout$1={}));var Private$4$1;(function(t){t.cellConfigProperty=new AttachedProperty$1({name:"cellConfig",create:function(){return{row:0,column:0,rowSpan:1,columnSpan:1}},changed:c});function e(f){var d=Math.max(0,Math.floor(f.row||0)),m=Math.max(0,Math.floor(f.column||0)),g=Math.max(1,Math.floor(f.rowSpan||0)),v=Math.max(1,Math.floor(f.columnSpan||0));return{row:d,column:m,rowSpan:g,columnSpan:v}}t.normalizeConfig=e;function n(f){return Math.max(0,Math.floor(f))}t.clampValue=n;function i(f,d){var m=t.cellConfigProperty.get(f.widget),g=t.cellConfigProperty.get(d.widget);return m.rowSpan-g.rowSpan}t.rowSpanCmp=i;function o(f,d){var m=t.cellConfigProperty.get(f.widget),g=t.cellConfigProperty.get(d.widget);return m.columnSpan-g.columnSpan}t.columnSpanCmp=o;function u(f,d){for(d=Math.max(1,Math.floor(d));f.length<d;)f.push(new BoxSizer$1);f.length>d&&(f.length=d)}t.reallocSizers=u;function l(f,d,m,g){if(!(m<d)){if(d===m){var v=f[d];v.minSize=Math.max(v.minSize,g);return}for(var y=0,w=d;w<=m;++w)y+=f[w].minSize;if(!(y>=g))for(var T=(g-y)/(m-d+1),w=d;w<=m;++w)f[w].minSize+=T}}t.distributeMin=l;function c(f){f.parent&&f.parent.layout instanceof GridLayout$1&&f.parent.fit()}})(Private$4$1||(Private$4$1={}));var MenuBar$1=(function(t){__extends(e,t);function e(n){n===void 0&&(n={});var i=t.call(this,{node:Private$3$1.createNode()})||this;return i._activeIndex=-1,i._tabFocusIndex=0,i._menus=[],i._childMenu=null,i.addClass("lm-MenuBar"),i.addClass("p-MenuBar"),i.setFlag(Widget$1.Flag.DisallowLayout),i.renderer=n.renderer||e.defaultRenderer,i._forceItemsPosition=n.forceItemsPosition||{forceX:!0,forceY:!0},i}return e.prototype.dispose=function(){this._closeChildMenu(),this._menus.length=0,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"childMenu",{get:function(){return this._childMenu},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-MenuBar-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeMenu",{get:function(){return this._menus[this._activeIndex]||null},set:function(n){this.activeIndex=n?this._menus.indexOf(n):-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(n){(n<0||n>=this._menus.length)&&(n=-1),this._activeIndex!==n&&(this._activeIndex=n,n!==-1&&(this._tabFocusIndex=n),this._activeIndex>=0&&this.contentNode.childNodes[this._activeIndex]&&this.contentNode.childNodes[this._activeIndex].focus(),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"menus",{get:function(){return this._menus},enumerable:!0,configurable:!0}),e.prototype.openActiveMenu=function(){this._activeIndex!==-1&&(this._openChildMenu(),this._childMenu&&(this._childMenu.activeIndex=-1,this._childMenu.activateNextItem()))},e.prototype.addMenu=function(n){this.insertMenu(this._menus.length,n)},e.prototype.insertMenu=function(n,i){this._closeChildMenu();var o=this._menus.indexOf(i),u=Math.max(0,Math.min(n,this._menus.length));if(o===-1){ArrayExt$3.insert(this._menus,u,i),i.addClass("lm-MenuBar-menu"),i.addClass("p-MenuBar-menu"),i.aboutToClose.connect(this._onMenuAboutToClose,this),i.menuRequested.connect(this._onMenuMenuRequested,this),i.title.changed.connect(this._onTitleChanged,this),this.update();return}u===this._menus.length&&u--,o!==u&&(ArrayExt$3.move(this._menus,o,u),this.update())},e.prototype.removeMenu=function(n){this.removeMenuAt(this._menus.indexOf(n))},e.prototype.removeMenuAt=function(n){this._closeChildMenu();var i=ArrayExt$3.removeAt(this._menus,n);i&&(i.aboutToClose.disconnect(this._onMenuAboutToClose,this),i.menuRequested.disconnect(this._onMenuMenuRequested,this),i.title.changed.disconnect(this._onTitleChanged,this),i.removeClass("lm-MenuBar-menu"),i.removeClass("p-MenuBar-menu"),this.update())},e.prototype.clearMenus=function(){if(this._menus.length!==0){this._closeChildMenu();for(var n=0,i=this._menus;n<i.length;n++){var o=i[n];o.aboutToClose.disconnect(this._onMenuAboutToClose,this),o.menuRequested.disconnect(this._onMenuMenuRequested,this),o.title.changed.disconnect(this._onTitleChanged,this),o.removeClass("lm-MenuBar-menu"),o.removeClass("p-MenuBar-menu")}this._menus.length=0,this.update()}},e.prototype.handleEvent=function(n){switch(n.type){case"keydown":this._evtKeyDown(n);break;case"mousedown":this._evtMouseDown(n);break;case"mousemove":this._evtMouseMove(n);break;case"mouseleave":this._evtMouseLeave(n);break;case"contextmenu":n.preventDefault(),n.stopPropagation();break}},e.prototype.onBeforeAttach=function(n){this.node.addEventListener("keydown",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this)},e.prototype.onAfterDetach=function(n){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),this._closeChildMenu()},e.prototype.onActivateRequest=function(n){this.isAttached&&(this.activeIndex=0)},e.prototype.onUpdateRequest=function(n){for(var i=this,o=this._menus,u=this.renderer,l=this._activeIndex,c=this._tabFocusIndex>=0&&this._tabFocusIndex<o.length?this._tabFocusIndex:0,f=new Array(o.length),d=function(v,y){var w=o[v].title,T=v===l;T&&o[v].items.length==0&&(T=!1),f[v]=u.renderItem({title:w,active:T,tabbable:v===c,onfocus:function(){i.activeIndex=v}})},m=0,g=o.length;m<g;++m)d(m);VirtualDOM.render(f,this.contentNode)},e.prototype._evtKeyDown=function(n){var i=n.keyCode;if(i===9){this.activeIndex=-1;return}if(n.preventDefault(),n.stopPropagation(),i===13||i===32||i===38||i===40){this.openActiveMenu();return}if(i===27){this._closeChildMenu(),this.activeIndex=-1,this.node.blur();return}if(i===37){var o=this._activeIndex,u=this._menus.length;this.activeIndex=o===0?u-1:o-1;return}if(i===39){var o=this._activeIndex,u=this._menus.length;this.activeIndex=o===u-1?0:o+1;return}var l=getKeyboardLayout().keyForKeydownEvent(n);if(l){var c=this._activeIndex+1,f=Private$3$1.findMnemonic(this._menus,l,c);f.index!==-1&&!f.multiple?(this.activeIndex=f.index,this.openActiveMenu()):f.index!==-1?this.activeIndex=f.index:f.auto!==-1&&(this.activeIndex=f.auto)}},e.prototype._evtMouseDown=function(n){if(ElementExt.hitTest(this.node,n.clientX,n.clientY)){n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation();var i=ArrayExt$3.findFirstIndex(this.contentNode.children,function(u){return ElementExt.hitTest(u,n.clientX,n.clientY)});if(i===-1){this._closeChildMenu();return}if(n.button===0)if(this._childMenu)this._closeChildMenu(),this.activeIndex=i;else{var o=this._positionForMenu(i);Menu$1.saveWindowData(),this.activeIndex=i,this._openChildMenu(o)}}},e.prototype._evtMouseMove=function(n){var i=ArrayExt$3.findFirstIndex(this.contentNode.children,function(u){return ElementExt.hitTest(u,n.clientX,n.clientY)});if(i!==this._activeIndex&&!(i===-1&&this._childMenu)){var o=this._positionForMenu(i);Menu$1.saveWindowData(),this.activeIndex=i,this._childMenu&&this._openChildMenu(o)}},e.prototype._positionForMenu=function(n){var i=this.contentNode.children[n],o=i.getBoundingClientRect(),u=o.left,l=o.bottom;return{top:l,left:u}},e.prototype._evtMouseLeave=function(n){this._childMenu||(this.activeIndex=-1)},e.prototype._openChildMenu=function(n){var i;n===void 0&&(n={});var o=this.activeMenu;if(!o){this._closeChildMenu();return}var u=this._childMenu;if(u!==o){this._childMenu=o,u?u.close():document.addEventListener("mousedown",this,!0),MessageLoop$1.sendMessage(this,Widget$1.Msg.UpdateRequest);var l=n.left,c=n.top;(typeof l>"u"||typeof c>"u")&&(i=this._positionForMenu(this._activeIndex),l=i.left,c=i.top),u||(this.addClass("lm-mod-active"),this.addClass("p-mod-active")),o.items.length>0&&o.open(l,c,this._forceItemsPosition)}},e.prototype._closeChildMenu=function(){if(this._childMenu){this.removeClass("lm-mod-active"),this.removeClass("p-mod-active"),document.removeEventListener("mousedown",this,!0);var n=this._childMenu;this._childMenu=null,n.close(),this.activeIndex=-1}},e.prototype._onMenuAboutToClose=function(n){n===this._childMenu&&(this.removeClass("lm-mod-active"),this.removeClass("p-mod-active"),document.removeEventListener("mousedown",this,!0),this._childMenu=null,this.activeIndex=-1)},e.prototype._onMenuMenuRequested=function(n,i){if(n===this._childMenu){var o=this._activeIndex,u=this._menus.length;switch(i){case"next":this.activeIndex=o===u-1?0:o+1;break;case"previous":this.activeIndex=o===0?u-1:o-1;break}this.openActiveMenu()}},e.prototype._onTitleChanged=function(){this.update()},e})(Widget$1);(function(t){var e=(function(){function n(){}return n.prototype.renderItem=function(i){var o=this.createItemClass(i),u=this.createItemDataset(i),l=this.createItemARIA(i);return h$1.li(__assign({className:o,dataset:u,tabindex:i.tabbable?"0":"-1",onfocus:i.onfocus},l),this.renderIcon(i),this.renderLabel(i))},n.prototype.renderIcon=function(i){var o=this.createIconClass(i);return typeof i.title.icon=="string"?h$1.div({className:o},i.title.iconLabel):h$1.div({className:o},i.title.icon,i.title.iconLabel)},n.prototype.renderLabel=function(i){var o=this.formatLabel(i);return h$1.div({className:"lm-MenuBar-itemLabel p-MenuBar-itemLabel"},o)},n.prototype.createItemClass=function(i){var o="lm-MenuBar-item";return o+=" p-MenuBar-item",i.title.className&&(o+=" "+i.title.className),i.active&&(o+=" lm-mod-active",o+=" p-mod-active"),o},n.prototype.createItemDataset=function(i){return i.title.dataset},n.prototype.createItemARIA=function(i){return{role:"menuitem","aria-haspopup":"true"}},n.prototype.createIconClass=function(i){var o="lm-MenuBar-itemIcon";o+=" p-MenuBar-itemIcon";var u=i.title.iconClass;return u?o+" "+u:o},n.prototype.formatLabel=function(i){var o=i.title,u=o.label,l=o.mnemonic;if(l<0||l>=u.length)return u;var c=u.slice(0,l),f=u.slice(l+1),d=u[l],m=h$1.span({className:"lm-MenuBar-itemMnemonic p-MenuBar-itemMnemonic"},d);return[c,m,f]},n})();t.Renderer=e,t.defaultRenderer=new e})(MenuBar$1||(MenuBar$1={}));var Private$3$1;(function(t){function e(){var i=document.createElement("div"),o=document.createElement("ul");return o.className="lm-MenuBar-content",o.classList.add("p-MenuBar-content"),i.appendChild(o),o.setAttribute("role","menubar"),i}t.createNode=e;function n(i,o,u){for(var l=-1,c=-1,f=!1,d=o.toUpperCase(),m=0,g=i.length;m<g;++m){var v=(m+u)%g,y=i[v].title;if(y.label.length!==0){var w=y.mnemonic;if(w>=0&&w<y.label.length){y.label[w].toUpperCase()===d&&(l===-1?l=v:f=!0);continue}c===-1&&y.label[0].toUpperCase()===d&&(c=v)}}return{index:l,multiple:f,auto:c}}t.findMnemonic=n})(Private$3$1||(Private$3$1={}));(function(t){__extends(e,t);function e(n){n===void 0&&(n={});var i=t.call(this,{node:Private$2$1.createNode()})||this;return i._onRepeat=function(){if(i._repeatTimer=-1,!!i._pressData){var o=i._pressData.part;if(o!=="thumb"){i._repeatTimer=window.setTimeout(i._onRepeat,20);var u=i._pressData.mouseX,l=i._pressData.mouseY;if(o==="decrement"){if(!ElementExt.hitTest(i.decrementNode,u,l))return;i._stepRequested.emit("decrement");return}if(o==="increment"){if(!ElementExt.hitTest(i.incrementNode,u,l))return;i._stepRequested.emit("increment");return}if(o==="track"){if(!ElementExt.hitTest(i.trackNode,u,l))return;var c=i.thumbNode;if(ElementExt.hitTest(c,u,l))return;var f=c.getBoundingClientRect(),d=void 0;i._orientation==="horizontal"?d=u<f.left?"decrement":"increment":d=l<f.top?"decrement":"increment",i._pageRequested.emit(d);return}}}},i._value=0,i._page=10,i._maximum=100,i._repeatTimer=-1,i._pressData=null,i._thumbMoved=new Signal$1(i),i._stepRequested=new Signal$1(i),i._pageRequested=new Signal$1(i),i.addClass("lm-ScrollBar"),i.addClass("p-ScrollBar"),i.setFlag(Widget$1.Flag.DisallowLayout),i._orientation=n.orientation||"vertical",i.dataset.orientation=i._orientation,n.maximum!==void 0&&(i._maximum=Math.max(0,n.maximum)),n.page!==void 0&&(i._page=Math.max(0,n.page)),n.value!==void 0&&(i._value=Math.max(0,Math.min(n.value,i._maximum))),i}return Object.defineProperty(e.prototype,"thumbMoved",{get:function(){return this._thumbMoved},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stepRequested",{get:function(){return this._stepRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageRequested",{get:function(){return this._pageRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orientation",{get:function(){return this._orientation},set:function(n){this._orientation!==n&&(this._releaseMouse(),this._orientation=n,this.dataset.orientation=n,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(n){n=Math.max(0,Math.min(n,this._maximum)),this._value!==n&&(this._value=n,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"page",{get:function(){return this._page},set:function(n){n=Math.max(0,n),this._page!==n&&(this._page=n,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximum",{get:function(){return this._maximum},set:function(n){n=Math.max(0,n),this._maximum!==n&&(this._maximum=n,this._value=Math.min(this._value,n),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"decrementNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-button")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"incrementNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-button")[1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trackNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-track")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"thumbNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-thumb")[0]},enumerable:!0,configurable:!0}),e.prototype.handleEvent=function(n){switch(n.type){case"mousedown":this._evtMouseDown(n);break;case"mousemove":this._evtMouseMove(n);break;case"mouseup":this._evtMouseUp(n);break;case"keydown":this._evtKeyDown(n);break;case"contextmenu":n.preventDefault(),n.stopPropagation();break}},e.prototype.onBeforeAttach=function(n){this.node.addEventListener("mousedown",this),this.update()},e.prototype.onAfterDetach=function(n){this.node.removeEventListener("mousedown",this),this._releaseMouse()},e.prototype.onUpdateRequest=function(n){var i=this._value*100/this._maximum,o=this._page*100/(this._page+this._maximum);i=Math.max(0,Math.min(i,100)),o=Math.max(0,Math.min(o,100));var u=this.thumbNode.style;this._orientation==="horizontal"?(u.top="",u.height="",u.left=i+"%",u.width=o+"%",u.transform="translate("+-i+"%, 0%)"):(u.left="",u.width="",u.top=i+"%",u.height=o+"%",u.transform="translate(0%, "+-i+"%)")},e.prototype._evtKeyDown=function(n){if(n.preventDefault(),n.stopPropagation(),n.keyCode===27){var i=this._pressData?this._pressData.value:-1;this._releaseMouse(),i!==-1&&this._moveThumb(i)}},e.prototype._evtMouseDown=function(n){if(n.button===0&&(this.activate(),!this._pressData)){var i=Private$2$1.findPart(this,n.target);if(i){n.preventDefault(),n.stopPropagation();var o=Drag$1.overrideCursor("default");if(this._pressData={part:i,override:o,delta:-1,value:-1,mouseX:n.clientX,mouseY:n.clientY},document.addEventListener("mousemove",this,!0),document.addEventListener("mouseup",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0),i==="thumb"){var u=this.thumbNode,l=u.getBoundingClientRect();this._orientation==="horizontal"?this._pressData.delta=n.clientX-l.left:this._pressData.delta=n.clientY-l.top,u.classList.add("lm-mod-active"),u.classList.add("p-mod-active"),this._pressData.value=this._value;return}if(i==="track"){var l=this.thumbNode.getBoundingClientRect(),c=void 0;this._orientation==="horizontal"?c=n.clientX<l.left?"decrement":"increment":c=n.clientY<l.top?"decrement":"increment",this._repeatTimer=window.setTimeout(this._onRepeat,350),this._pageRequested.emit(c);return}if(i==="decrement"){this.decrementNode.classList.add("lm-mod-active"),this.decrementNode.classList.add("p-mod-active"),this._repeatTimer=window.setTimeout(this._onRepeat,350),this._stepRequested.emit("decrement");return}if(i==="increment"){this.incrementNode.classList.add("lm-mod-active"),this.incrementNode.classList.add("p-mod-active"),this._repeatTimer=window.setTimeout(this._onRepeat,350),this._stepRequested.emit("increment");return}}}},e.prototype._evtMouseMove=function(n){if(this._pressData&&(n.preventDefault(),n.stopPropagation(),this._pressData.mouseX=n.clientX,this._pressData.mouseY=n.clientY,this._pressData.part==="thumb")){var i=this.thumbNode.getBoundingClientRect(),o=this.trackNode.getBoundingClientRect(),u,l;this._orientation==="horizontal"?(u=n.clientX-o.left-this._pressData.delta,l=o.width-i.width):(u=n.clientY-o.top-this._pressData.delta,l=o.height-i.height);var c=l===0?0:u*this._maximum/l;this._moveThumb(c)}},e.prototype._evtMouseUp=function(n){n.button===0&&(n.preventDefault(),n.stopPropagation(),this._releaseMouse())},e.prototype._releaseMouse=function(){this._pressData&&(clearTimeout(this._repeatTimer),this._repeatTimer=-1,this._pressData.override.dispose(),this._pressData=null,document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("contextmenu",this,!0),this.thumbNode.classList.remove("lm-mod-active"),this.decrementNode.classList.remove("lm-mod-active"),this.incrementNode.classList.remove("lm-mod-active"),this.thumbNode.classList.remove("p-mod-active"),this.decrementNode.classList.remove("p-mod-active"),this.incrementNode.classList.remove("p-mod-active"))},e.prototype._moveThumb=function(n){n=Math.max(0,Math.min(n,this._maximum)),this._value!==n&&(this._value=n,this.update(),this._thumbMoved.emit(n))},e})(Widget$1);var Private$2$1;(function(t){function e(){var i=document.createElement("div"),o=document.createElement("div"),u=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div");return o.className="lm-ScrollBar-button",u.className="lm-ScrollBar-button",o.dataset.action="decrement",u.dataset.action="increment",l.className="lm-ScrollBar-track",c.className="lm-ScrollBar-thumb",o.classList.add("p-ScrollBar-button"),u.classList.add("p-ScrollBar-button"),l.classList.add("p-ScrollBar-track"),c.classList.add("p-ScrollBar-thumb"),l.appendChild(c),i.appendChild(o),i.appendChild(l),i.appendChild(u),i}t.createNode=e;function n(i,o){return i.thumbNode.contains(o)?"thumb":i.trackNode.contains(o)?"track":i.decrementNode.contains(o)?"decrement":i.incrementNode.contains(o)?"increment":null}t.findPart=n})(Private$2$1||(Private$2$1={}));(function(t){__extends(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n._widget=null,n}return e.prototype.dispose=function(){if(this._widget){var n=this._widget;this._widget=null,n.dispose()}t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"widget",{get:function(){return this._widget},set:function(n){n&&(n.parent=this.parent),this._widget!==n&&(this._widget&&this._widget.dispose(),this._widget=n,this.parent&&n&&this.attachWidget(n))},enumerable:!0,configurable:!0}),e.prototype.iter=function(){return this._widget?once$1(this._widget):empty$9()},e.prototype.removeWidget=function(n){this._widget===n&&(this._widget=null,this.parent&&this.detachWidget(n))},e.prototype.init=function(){var n=this;t.prototype.init.call(this),each$4(this,function(i){n.attachWidget(i)})},e.prototype.attachWidget=function(n){this.parent.isAttached&&MessageLoop$1.sendMessage(n,Widget$1.Msg.BeforeAttach),this.parent.node.appendChild(n.node),this.parent.isAttached&&MessageLoop$1.sendMessage(n,Widget$1.Msg.AfterAttach)},e.prototype.detachWidget=function(n){this.parent.isAttached&&MessageLoop$1.sendMessage(n,Widget$1.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.isAttached&&MessageLoop$1.sendMessage(n,Widget$1.Msg.AfterDetach)},e})(Layout$1);var StackedLayout$1=(function(t){__extends(e,t);function e(n){n===void 0&&(n={});var i=t.call(this,n)||this;return i._dirty=!1,i._items=[],i._box=null,i._hiddenMode=n.hiddenMode!==void 0?n.hiddenMode:Widget$1.HiddenMode.Display,i}return Object.defineProperty(e.prototype,"hiddenMode",{get:function(){return this._hiddenMode},set:function(n){var i=this;this._hiddenMode!==n&&(this._hiddenMode=n,this.widgets.length>1&&this.widgets.forEach(function(o){o.hiddenMode=i._hiddenMode}))},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){each$4(this._items,function(n){n.dispose()}),this._box=null,this._items.length=0,t.prototype.dispose.call(this)},e.prototype.attachWidget=function(n,i){this._hiddenMode===Widget$1.HiddenMode.Scale&&this._items.length>0?(this._items.length===1&&(this.widgets[0].hiddenMode=Widget$1.HiddenMode.Scale),i.hiddenMode=Widget$1.HiddenMode.Scale):i.hiddenMode=Widget$1.HiddenMode.Display,ArrayExt$3.insert(this._items,n,new LayoutItem$1(i)),this.parent.isAttached&&MessageLoop$1.sendMessage(i,Widget$1.Msg.BeforeAttach),this.parent.node.appendChild(i.node),this.parent.isAttached&&MessageLoop$1.sendMessage(i,Widget$1.Msg.AfterAttach),this.parent.fit()},e.prototype.moveWidget=function(n,i,o){ArrayExt$3.move(this._items,n,i),this.parent.update()},e.prototype.detachWidget=function(n,i){var o=ArrayExt$3.removeAt(this._items,n);this.parent.isAttached&&MessageLoop$1.sendMessage(i,Widget$1.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&MessageLoop$1.sendMessage(i,Widget$1.Msg.AfterDetach),o.widget.node.style.zIndex="",this._hiddenMode===Widget$1.HiddenMode.Scale&&(i.hiddenMode=Widget$1.HiddenMode.Display,this._items.length===1&&(this._items[0].widget.hiddenMode=Widget$1.HiddenMode.Display)),o.dispose(),this.parent.fit()},e.prototype.onBeforeShow=function(n){t.prototype.onBeforeShow.call(this,n),this.parent.update()},e.prototype.onBeforeAttach=function(n){t.prototype.onBeforeAttach.call(this,n),this.parent.fit()},e.prototype.onChildShown=function(n){this.parent.fit()},e.prototype.onChildHidden=function(n){this.parent.fit()},e.prototype.onResize=function(n){this.parent.isVisible&&this._update(n.width,n.height)},e.prototype.onUpdateRequest=function(n){this.parent.isVisible&&this._update(-1,-1)},e.prototype.onFitRequest=function(n){this.parent.isAttached&&this._fit()},e.prototype._fit=function(){for(var n=0,i=0,o=0,u=this._items.length;o<u;++o){var l=this._items[o];l.isHidden||(l.fit(),n=Math.max(n,l.minWidth),i=Math.max(i,l.minHeight))}var c=this._box=ElementExt.boxSizing(this.parent.node);n+=c.horizontalSum,i+=c.verticalSum;var f=this.parent.node.style;f.minWidth=n+"px",f.minHeight=i+"px",this._dirty=!0,this.parent.parent&&MessageLoop$1.sendMessage(this.parent.parent,Widget$1.Msg.FitRequest),this._dirty&&MessageLoop$1.sendMessage(this.parent,Widget$1.Msg.UpdateRequest)},e.prototype._update=function(n,i){this._dirty=!1;for(var o=0,u=0,l=this._items.length;u<l;++u)o+=+!this._items[u].isHidden;if(o!==0){n<0&&(n=this.parent.node.offsetWidth),i<0&&(i=this.parent.node.offsetHeight),this._box||(this._box=ElementExt.boxSizing(this.parent.node));for(var c=this._box.paddingTop,f=this._box.paddingLeft,d=n-this._box.horizontalSum,m=i-this._box.verticalSum,u=0,l=this._items.length;u<l;++u){var g=this._items[u];g.isHidden||(g.widget.node.style.zIndex=""+u,g.update(f,c,d,m))}}},e})(PanelLayout$1),StackedPanel=(function(t){__extends(e,t);function e(n){n===void 0&&(n={});var i=t.call(this,{layout:Private$1$1.createLayout(n)})||this;return i._widgetRemoved=new Signal$1(i),i.addClass("lm-StackedPanel"),i.addClass("p-StackedPanel"),i}return Object.defineProperty(e.prototype,"hiddenMode",{get:function(){return this.layout.hiddenMode},set:function(n){this.layout.hiddenMode=n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"widgetRemoved",{get:function(){return this._widgetRemoved},enumerable:!0,configurable:!0}),e.prototype.onChildAdded=function(n){n.child.addClass("lm-StackedPanel-child"),n.child.addClass("p-StackedPanel-child")},e.prototype.onChildRemoved=function(n){n.child.removeClass("lm-StackedPanel-child"),n.child.removeClass("p-StackedPanel-child"),this._widgetRemoved.emit(n.child)},e})(Panel$1),Private$1$1;(function(t){function e(n){return n.layout||new StackedLayout$1}t.createLayout=e})(Private$1$1||(Private$1$1={}));(function(t){__extends(e,t);function e(n){n===void 0&&(n={});var i=t.call(this)||this;i._currentChanged=new Signal$1(i),i._addRequested=new Signal$1(i),i.addClass("lm-TabPanel"),i.addClass("p-TabPanel"),i.tabBar=new TabBar$1(n),i.tabBar.addClass("lm-TabPanel-tabBar"),i.stackedPanel=new StackedPanel,i.stackedPanel.addClass("lm-TabPanel-stackedPanel"),i.tabBar.addClass("p-TabPanel-tabBar"),i.stackedPanel.addClass("p-TabPanel-stackedPanel"),i.tabBar.tabMoved.connect(i._onTabMoved,i),i.tabBar.currentChanged.connect(i._onCurrentChanged,i),i.tabBar.tabCloseRequested.connect(i._onTabCloseRequested,i),i.tabBar.tabActivateRequested.connect(i._onTabActivateRequested,i),i.tabBar.addRequested.connect(i._onTabAddRequested,i),i.stackedPanel.widgetRemoved.connect(i._onWidgetRemoved,i),i._tabPlacement=n.tabPlacement||"top";var o=Private$n.directionFromPlacement(i._tabPlacement),u=Private$n.orientationFromPlacement(i._tabPlacement);i.tabBar.orientation=u,i.tabBar.dataset.placement=i._tabPlacement;var l=new BoxLayout$1({direction:o,spacing:0});return BoxLayout$1.setStretch(i.tabBar,0),BoxLayout$1.setStretch(i.stackedPanel,1),l.addWidget(i.tabBar),l.addWidget(i.stackedPanel),i.layout=l,i}return Object.defineProperty(e.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentIndex",{get:function(){return this.tabBar.currentIndex},set:function(n){this.tabBar.currentIndex=n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentWidget",{get:function(){var n=this.tabBar.currentTitle;return n?n.owner:null},set:function(n){this.tabBar.currentTitle=n?n.title:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabsMovable",{get:function(){return this.tabBar.tabsMovable},set:function(n){this.tabBar.tabsMovable=n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addButtonEnabled",{get:function(){return this.tabBar.addButtonEnabled},set:function(n){this.tabBar.addButtonEnabled=n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabPlacement",{get:function(){return this._tabPlacement},set:function(n){if(this._tabPlacement!==n){this._tabPlacement=n;var i=Private$n.directionFromPlacement(n),o=Private$n.orientationFromPlacement(n);this.tabBar.orientation=o,this.tabBar.dataset.placement=n,this.layout.direction=i}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addRequested",{get:function(){return this._addRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"widgets",{get:function(){return this.stackedPanel.widgets},enumerable:!0,configurable:!0}),e.prototype.addWidget=function(n){this.insertWidget(this.widgets.length,n)},e.prototype.insertWidget=function(n,i){i!==this.currentWidget&&i.hide(),this.stackedPanel.insertWidget(n,i),this.tabBar.insertTab(n,i.title),i.node.setAttribute("role","tabpanel");var o=this.tabBar.renderer;if(o instanceof TabBar$1.Renderer){var u=o.createTabKey({title:i.title,current:!1,zIndex:0});i.node.setAttribute("aria-labelledby",u)}},e.prototype._onCurrentChanged=function(n,i){var o=i.previousIndex,u=i.previousTitle,l=i.currentIndex,c=i.currentTitle,f=u?u.owner:null,d=c?c.owner:null;f&&f.hide(),d&&d.show(),this._currentChanged.emit({previousIndex:o,previousWidget:f,currentIndex:l,currentWidget:d}),(Platform.IS_EDGE||Platform.IS_IE)&&MessageLoop$1.flush()},e.prototype._onTabAddRequested=function(n,i){this._addRequested.emit(n)},e.prototype._onTabActivateRequested=function(n,i){i.title.owner.activate()},e.prototype._onTabCloseRequested=function(n,i){i.title.owner.close()},e.prototype._onTabMoved=function(n,i){this.stackedPanel.insertWidget(i.toIndex,i.title.owner)},e.prototype._onWidgetRemoved=function(n,i){i.node.removeAttribute("role"),i.node.removeAttribute("aria-labelledby"),this.tabBar.removeTab(i.title)},e})(Widget$1);var Private$n;(function(t){function e(u){return i[u]}t.orientationFromPlacement=e;function n(u){return o[u]}t.directionFromPlacement=n;var i={top:"horizontal",left:"vertical",right:"vertical",bottom:"horizontal"},o={top:"top-to-bottom",left:"left-to-right",right:"right-to-left",bottom:"bottom-to-top"}})(Private$n||(Private$n={}));class WidgetRenderer extends Panel$1{constructor(e,n){super(),this._manager=new PromiseDelegate$1,this._rerenderMimeModel=null,this.mimeType=e.mimeType,n&&(this.manager=n)}set manager(e){e.restored.connect(this._rerender,this),this._manager.resolve(e)}async renderModel(e){const n=e.data[this.mimeType];this.node.textContent="Loading widget...";const i=await this._manager.promise;if(n.model_id==="")return this.hide(),Promise.resolve();let o;try{o=await i.get_model(n.model_id)}catch(l){if(i.restoredStatus){this.node.textContent="Error displaying widget: model not found",this.addClass("jupyter-widgets"),console.error(l);return}this._rerenderMimeModel=e;return}this._rerenderMimeModel=null;let u;try{const l=await i.create_view(o);u=l.luminoWidget||l.pWidget}catch(l){this.node.textContent="Error displaying widget",this.addClass("jupyter-widgets"),console.error(l);return}this.node.textContent="",this.addWidget(u),u.disposed.connect(()=>{this.hide(),n.model_id=""})}dispose(){this.isDisposed||(this._manager=null,super.dispose())}_rerender(){this._rerenderMimeModel&&(this.node.textContent="",this.removeClass("jupyter-widgets"),this.renderModel(this._rerenderMimeModel))}}var isEqualExports=requireIsEqual();const _isEqual=getDefaultExportFromCjs(isEqualExports);function difference$1(t,e){return t.filter(n=>e.indexOf(n)===-1)}function isEqual$1(t,e){return _isEqual(t,e)}const assign=Object.assign||function(t,...e){for(let n=1;n<e.length;n++){const i=e[n];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t};function uuid(){return UUID$2.uuid4()}function resolvePromisesDict(t){const e=Object.keys(t),n=[];return e.forEach(function(i){n.push(t[i])}),Promise.all(n).then(i=>{const o={};for(let u=0;u<e.length;u++)o[e[u]]=i[u];return o})}function reject$2(t,e){return function(i){throw e&&console.error(new Error(t)),i}}function put_buffers(t,e,n){for(let i=0;i<e.length;i++){const o=e[i];let u=n[i];u instanceof DataView||(u=new DataView(u instanceof ArrayBuffer?u:u.buffer));let l=t;for(let c=0;c<o.length-1;c++)l=l[o[c]];l[o[o.length-1]]=u}}function isSerializable(t){var e;return(e=typeof t=="object"&&t&&"toJSON"in t)!==null&&e!==void 0?e:!1}function isObject$2(t){return JSONExt$2.isObject(t)}function remove_buffers(t){const e=[],n=[];function i(u,l){if(isSerializable(u)&&(u=u.toJSON()),Array.isArray(u)){let c=!1;for(let f=0;f<u.length;f++){const d=u[f];if(d)if(d instanceof ArrayBuffer||ArrayBuffer.isView(d))c||(u=u.slice(),c=!0),e.push(ArrayBuffer.isView(d)?d.buffer:d),n.push(l.concat([f])),u[f]=null;else{const m=i(d,l.concat([f]));m!==d&&(c||(u=u.slice(),c=!0),u[f]=m)}}}else if(isObject$2(u))for(const c in u){let f=!1;if(Object.prototype.hasOwnProperty.call(u,c)){const d=u[c];if(d)if(d instanceof ArrayBuffer||ArrayBuffer.isView(d))f||(u=Object.assign({},u),f=!0),e.push(ArrayBuffer.isView(d)?d.buffer:d),n.push(l.concat([c])),delete u[c];else{const m=i(d,l.concat([c]));m!==d&&(f||(u=Object.assign({},u),f=!0),u[c]=m)}}}return u}return{state:i(t,[]),buffers:e,buffer_paths:n}}const BROKEN_FILE_SVG_ICON=`<svg style="height:50%;max-height: 50px;" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
<g >
  <g transform="translate(0.24520123,0.93464292)">
    <path  d="M 8.2494641,21.074514 V 5.6225142 c 0,-0.314 0.254,-0.567 0.57,-0.567 H 29.978464 c 2.388,0 9.268,5.8269998 9.268,8.3029998 v 5.5835 l -3.585749,4.407396 -2.772971,-3.535534 -5.126524,3.414213 -5.944543,-3.237436 -5.722718,3.06066 z m 30.9969999,3.8675 v 15.5835 c 0,0.314 -0.254,0.567 -0.57,0.567 H 8.8194641 c -0.315,0.002 -0.57,-0.251 -0.57,-0.566 v -15.452 l 7.8444949,2.628449 5.656854,-2.65165 4.24264,3.005204 5.833631,-3.237437 3.712311,3.944543 z" style="fill:url(#linearGradient3448);stroke:#888a85"  />
    <path d="m 30.383464,12.110514 c 4.108,0.159 7.304,-0.978 8.867,1.446 0.304,-3.9679998 -7.254,-8.8279998 -9.285,-8.4979998 0.813,0.498 0.418,7.0519998 0.418,7.0519998 z" style="fill:url(#linearGradient3445);stroke:#868a84" />
    <path enable-background="new" d="m 31.443464,11.086514 c 2.754,-0.019 4.106,-0.49 5.702,0.19 -1.299,-1.8809998 -4.358,-3.3439998 -5.728,-4.0279998 0.188,0.775 0.026,3.8379998 0.026,3.8379998 z" style="opacity:0.36930003;fill:none;stroke:url(#linearGradient3442)" />
  </g>
</g>
</svg>`;function set(t,e,n){if(t==null)return this;let i;if(JSONExt$2.isObject(t)?(i=t,n=e):(i={})[t]=e,n||(n={}),!this._validate(i,n))return!1;const o=n.unset,u=n.silent,l=[],c=this._changing;this._changing=!0;try{c||(this._previousAttributes=Object.assign({},this.attributes),this.changed={});const f=this.attributes,d=this.changed,m=this._previousAttributes;for(const g in i)e=i[g],isEqual$1(f[g],e)||l.push(g),isEqual$1(m[g],e)?delete d[g]:d[g]=e,o?delete f[g]:f[g]=e;if(this.id=this.get(this.idAttribute),!u){l.length&&(this._pending=n);for(let g=0;g<l.length;g++)this.trigger("change:"+l[g],this,f[l[g]],n)}if(c)return this;if(!u)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n)}finally{this._pending=!1,this._changing=!1}return this}var backbone={},VERSION="1.13.7",root$5=typeof self=="object"&&self.self===self&&self||typeof globalThis=="object"&&globalThis.global===globalThis&&globalThis||Function("return this")()||{},ArrayProto=Array.prototype,ObjProto=Object.prototype,SymbolProto=typeof Symbol<"u"?Symbol.prototype:null,push=ArrayProto.push,slice=ArrayProto.slice,toString$2=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,supportsArrayBuffer=typeof ArrayBuffer<"u",supportsDataView=typeof DataView<"u",nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeCreate=Object.create,nativeIsView=supportsArrayBuffer&&ArrayBuffer.isView,_isNaN=isNaN,_isFinite=isFinite,hasEnumBug=!{toString:null}.propertyIsEnumerable("toString"),nonEnumerableProps=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],MAX_ARRAY_INDEX=Math.pow(2,53)-1;function restArguments(t,e){return e=e==null?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),i=Array(n),o=0;o<n;o++)i[o]=arguments[o+e];switch(e){case 0:return t.call(this,i);case 1:return t.call(this,arguments[0],i);case 2:return t.call(this,arguments[0],arguments[1],i)}var u=Array(e+1);for(o=0;o<e;o++)u[o]=arguments[o];return u[e]=i,t.apply(this,u)}}function isObject$1(t){var e=typeof t;return e==="function"||e==="object"&&!!t}function isNull(t){return t===null}function isUndefined(t){return t===void 0}function isBoolean(t){return t===!0||t===!1||toString$2.call(t)==="[object Boolean]"}function isElement$1(t){return!!(t&&t.nodeType===1)}function tagTester(t){var e="[object "+t+"]";return function(n){return toString$2.call(n)===e}}const isString=tagTester("String"),isNumber$1=tagTester("Number"),isDate=tagTester("Date"),isRegExp=tagTester("RegExp"),isError=tagTester("Error"),isSymbol=tagTester("Symbol"),isArrayBuffer=tagTester("ArrayBuffer");var isFunction=tagTester("Function"),nodelist=root$5.document&&root$5.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof nodelist!="function"&&(isFunction=function(t){return typeof t=="function"||!1});const hasObjectTag=tagTester("Object");var hasDataViewBug=supportsDataView&&(!/\[native code\]/.test(String(DataView))||hasObjectTag(new DataView(new ArrayBuffer(8)))),isIE11=typeof Map<"u"&&hasObjectTag(new Map),isDataView=tagTester("DataView");function alternateIsDataView(t){return t!=null&&isFunction(t.getInt8)&&isArrayBuffer(t.buffer)}const isDataView$1=hasDataViewBug?alternateIsDataView:isDataView,isArray=nativeIsArray||tagTester("Array");function has$4(t,e){return t!=null&&hasOwnProperty.call(t,e)}var isArguments=tagTester("Arguments");(function(){isArguments(arguments)||(isArguments=function(t){return has$4(t,"callee")})})();function isFinite$1(t){return!isSymbol(t)&&_isFinite(t)&&!isNaN(parseFloat(t))}function isNaN$1(t){return isNumber$1(t)&&_isNaN(t)}function constant(t){return function(){return t}}function createSizePropertyCheck(t){return function(e){var n=t(e);return typeof n=="number"&&n>=0&&n<=MAX_ARRAY_INDEX}}function shallowProperty(t){return function(e){return e?.[t]}}const getByteLength=shallowProperty("byteLength"),isBufferLike=createSizePropertyCheck(getByteLength);var typedArrayPattern=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function isTypedArray(t){return nativeIsView?nativeIsView(t)&&!isDataView$1(t):isBufferLike(t)&&typedArrayPattern.test(toString$2.call(t))}const isTypedArray$1=supportsArrayBuffer?isTypedArray:constant(!1),getLength=shallowProperty("length");function emulatedSet(t){for(var e={},n=t.length,i=0;i<n;++i)e[t[i]]=!0;return{contains:function(o){return e[o]===!0},push:function(o){return e[o]=!0,t.push(o)}}}function collectNonEnumProps(t,e){e=emulatedSet(e);var n=nonEnumerableProps.length,i=t.constructor,o=isFunction(i)&&i.prototype||ObjProto,u="constructor";for(has$4(t,u)&&!e.contains(u)&&e.push(u);n--;)u=nonEnumerableProps[n],u in t&&t[u]!==o[u]&&!e.contains(u)&&e.push(u)}function keys$1(t){if(!isObject$1(t))return[];if(nativeKeys)return nativeKeys(t);var e=[];for(var n in t)has$4(t,n)&&e.push(n);return hasEnumBug&&collectNonEnumProps(t,e),e}function isEmpty(t){if(t==null)return!0;var e=getLength(t);return typeof e=="number"&&(isArray(t)||isString(t)||isArguments(t))?e===0:getLength(keys$1(t))===0}function isMatch(t,e){var n=keys$1(e),i=n.length;if(t==null)return!i;for(var o=Object(t),u=0;u<i;u++){var l=n[u];if(e[l]!==o[l]||!(l in o))return!1}return!0}function _$1(t){if(t instanceof _$1)return t;if(!(this instanceof _$1))return new _$1(t);this._wrapped=t}_$1.VERSION=VERSION;_$1.prototype.value=function(){return this._wrapped};_$1.prototype.valueOf=_$1.prototype.toJSON=_$1.prototype.value;_$1.prototype.toString=function(){return String(this._wrapped)};function toBufferView(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,getByteLength(t))}var tagDataView="[object DataView]";function eq(t,e,n,i){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var o=typeof t;return o!=="function"&&o!=="object"&&typeof e!="object"?!1:deepEq(t,e,n,i)}function deepEq(t,e,n,i){t instanceof _$1&&(t=t._wrapped),e instanceof _$1&&(e=e._wrapped);var o=toString$2.call(t);if(o!==toString$2.call(e))return!1;if(hasDataViewBug&&o=="[object Object]"&&isDataView$1(t)){if(!isDataView$1(e))return!1;o=tagDataView}switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return SymbolProto.valueOf.call(t)===SymbolProto.valueOf.call(e);case"[object ArrayBuffer]":case tagDataView:return deepEq(toBufferView(t),toBufferView(e),n,i)}var u=o==="[object Array]";if(!u&&isTypedArray$1(t)){var l=getByteLength(t);if(l!==getByteLength(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;u=!0}if(!u){if(typeof t!="object"||typeof e!="object")return!1;var c=t.constructor,f=e.constructor;if(c!==f&&!(isFunction(c)&&c instanceof c&&isFunction(f)&&f instanceof f)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var d=n.length;d--;)if(n[d]===t)return i[d]===e;if(n.push(t),i.push(e),u){if(d=t.length,d!==e.length)return!1;for(;d--;)if(!eq(t[d],e[d],n,i))return!1}else{var m=keys$1(t),g;if(d=m.length,keys$1(e).length!==d)return!1;for(;d--;)if(g=m[d],!(has$4(e,g)&&eq(t[g],e[g],n,i)))return!1}return n.pop(),i.pop(),!0}function isEqual(t,e){return eq(t,e)}function allKeys(t){if(!isObject$1(t))return[];var e=[];for(var n in t)e.push(n);return hasEnumBug&&collectNonEnumProps(t,e),e}function ie11fingerprint(t){var e=getLength(t);return function(n){if(n==null)return!1;var i=allKeys(n);if(getLength(i))return!1;for(var o=0;o<e;o++)if(!isFunction(n[t[o]]))return!1;return t!==weakMapMethods||!isFunction(n[forEachName])}}var forEachName="forEach",hasName="has",commonInit=["clear","delete"],mapTail=["get",hasName,"set"],mapMethods=commonInit.concat(forEachName,mapTail),weakMapMethods=commonInit.concat(mapTail),setMethods=["add"].concat(commonInit,forEachName,hasName);const isMap=isIE11?ie11fingerprint(mapMethods):tagTester("Map"),isWeakMap=isIE11?ie11fingerprint(weakMapMethods):tagTester("WeakMap"),isSet=isIE11?ie11fingerprint(setMethods):tagTester("Set"),isWeakSet=tagTester("WeakSet");function values(t){for(var e=keys$1(t),n=e.length,i=Array(n),o=0;o<n;o++)i[o]=t[e[o]];return i}function pairs(t){for(var e=keys$1(t),n=e.length,i=Array(n),o=0;o<n;o++)i[o]=[e[o],t[e[o]]];return i}function invert(t){for(var e={},n=keys$1(t),i=0,o=n.length;i<o;i++)e[t[n[i]]]=n[i];return e}function functions(t){var e=[];for(var n in t)isFunction(t[n])&&e.push(n);return e.sort()}function createAssigner(t,e){return function(n){var i=arguments.length;if(e&&(n=Object(n)),i<2||n==null)return n;for(var o=1;o<i;o++)for(var u=arguments[o],l=t(u),c=l.length,f=0;f<c;f++){var d=l[f];(!e||n[d]===void 0)&&(n[d]=u[d])}return n}}const extend$1=createAssigner(allKeys),extendOwn=createAssigner(keys$1),defaults=createAssigner(allKeys,!0);function ctor(){return function(){}}function baseCreate(t){if(!isObject$1(t))return{};if(nativeCreate)return nativeCreate(t);var e=ctor();e.prototype=t;var n=new e;return e.prototype=null,n}function create$4(t,e){var n=baseCreate(t);return e&&extendOwn(n,e),n}function clone(t){return isObject$1(t)?isArray(t)?t.slice():extend$1({},t):t}function tap(t,e){return e(t),t}function toPath$1(t){return isArray(t)?t:[t]}_$1.toPath=toPath$1;function toPath(t){return _$1.toPath(t)}function deepGet(t,e){for(var n=e.length,i=0;i<n;i++){if(t==null)return;t=t[e[i]]}return n?t:void 0}function get(t,e,n){var i=deepGet(t,toPath(e));return isUndefined(i)?n:i}function has$3(t,e){e=toPath(e);for(var n=e.length,i=0;i<n;i++){var o=e[i];if(!has$4(t,o))return!1;t=t[o]}return!!n}function identity$1(t){return t}function matcher(t){return t=extendOwn({},t),function(e){return isMatch(e,t)}}function property(t){return t=toPath(t),function(e){return deepGet(e,t)}}function optimizeCb(t,e,n){if(e===void 0)return t;switch(n??3){case 1:return function(i){return t.call(e,i)};case 3:return function(i,o,u){return t.call(e,i,o,u)};case 4:return function(i,o,u,l){return t.call(e,i,o,u,l)}}return function(){return t.apply(e,arguments)}}function baseIteratee(t,e,n){return t==null?identity$1:isFunction(t)?optimizeCb(t,e,n):isObject$1(t)&&!isArray(t)?matcher(t):property(t)}function iteratee(t,e){return baseIteratee(t,e,1/0)}_$1.iteratee=iteratee;function cb(t,e,n){return _$1.iteratee!==iteratee?_$1.iteratee(t,e):baseIteratee(t,e,n)}function mapObject(t,e,n){e=cb(e,n);for(var i=keys$1(t),o=i.length,u={},l=0;l<o;l++){var c=i[l];u[c]=e(t[c],c,t)}return u}function noop(){}function propertyOf(t){return t==null?noop:function(e){return get(t,e)}}function times(t,e,n){var i=Array(Math.max(0,t));e=optimizeCb(e,n,1);for(var o=0;o<t;o++)i[o]=e(o);return i}function random$1(t,e){return e==null&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}const now=Date.now||function(){return new Date().getTime()};function createEscaper(t){var e=function(u){return t[u]},n="(?:"+keys$1(t).join("|")+")",i=RegExp(n),o=RegExp(n,"g");return function(u){return u=u==null?"":""+u,i.test(u)?u.replace(o,e):u}}const escapeMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},escape=createEscaper(escapeMap),unescapeMap=invert(escapeMap),unescape$1=createEscaper(unescapeMap),templateSettings=_$1.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/(.)^/,escapes={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},escapeRegExp=/\\|'|\r|\n|\u2028|\u2029/g;function escapeChar(t){return"\\"+escapes[t]}var bareIdentifier=/^\s*(\w|\$)+\s*$/;function template(t,e,n){!e&&n&&(e=n),e=defaults({},e,_$1.templateSettings);var i=RegExp([(e.escape||noMatch).source,(e.interpolate||noMatch).source,(e.evaluate||noMatch).source].join("|")+"|$","g"),o=0,u="__p+='";t.replace(i,function(d,m,g,v,y){return u+=t.slice(o,y).replace(escapeRegExp,escapeChar),o=y+d.length,m?u+=`'+
((__t=(`+m+`))==null?'':_.escape(__t))+
'`:g?u+=`'+
((__t=(`+g+`))==null?'':__t)+
'`:v&&(u+=`';
`+v+`
__p+='`),d}),u+=`';
`;var l=e.variable;if(l){if(!bareIdentifier.test(l))throw new Error("variable is not a bare identifier: "+l)}else u=`with(obj||{}){
`+u+`}
`,l="obj";u=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+u+`return __p;
`;var c;try{c=new Function(l,"_",u)}catch(d){throw d.source=u,d}var f=function(d){return c.call(this,d,_$1)};return f.source="function("+l+`){
`+u+"}",f}function result(t,e,n){e=toPath(e);var i=e.length;if(!i)return isFunction(n)?n.call(t):n;for(var o=0;o<i;o++){var u=t?.[e[o]];u===void 0&&(u=n,o=i),t=isFunction(u)?u.call(t):u}return t}var idCounter=0;function uniqueId(t){var e=++idCounter+"";return t?t+e:e}function chain(t){var e=_$1(t);return e._chain=!0,e}function executeBound(t,e,n,i,o){if(!(i instanceof e))return t.apply(n,o);var u=baseCreate(t.prototype),l=t.apply(u,o);return isObject$1(l)?l:u}var partial=restArguments(function(t,e){var n=partial.placeholder,i=function(){for(var o=0,u=e.length,l=Array(u),c=0;c<u;c++)l[c]=e[c]===n?arguments[o++]:e[c];for(;o<arguments.length;)l.push(arguments[o++]);return executeBound(t,i,this,this,l)};return i});partial.placeholder=_$1;const bind=restArguments(function(t,e,n){if(!isFunction(t))throw new TypeError("Bind must be called on a function");var i=restArguments(function(o){return executeBound(t,i,e,this,n.concat(o))});return i}),isArrayLike=createSizePropertyCheck(getLength);function flatten$2(t,e,n,i){if(i=i||[],!e&&e!==0)e=1/0;else if(e<=0)return i.concat(t);for(var o=i.length,u=0,l=getLength(t);u<l;u++){var c=t[u];if(isArrayLike(c)&&(isArray(c)||isArguments(c)))if(e>1)flatten$2(c,e-1,n,i),o=i.length;else for(var f=0,d=c.length;f<d;)i[o++]=c[f++];else n||(i[o++]=c)}return i}const bindAll=restArguments(function(t,e){e=flatten$2(e,!1,!1);var n=e.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=e[n];t[i]=bind(t[i],t)}return t});function memoize(t,e){var n=function(i){var o=n.cache,u=""+(e?e.apply(this,arguments):i);return has$4(o,u)||(o[u]=t.apply(this,arguments)),o[u]};return n.cache={},n}const delay=restArguments(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),defer=partial(delay,_$1,1);function throttle(t,e,n){var i,o,u,l,c=0;n||(n={});var f=function(){c=n.leading===!1?0:now(),i=null,l=t.apply(o,u),i||(o=u=null)},d=function(){var m=now();!c&&n.leading===!1&&(c=m);var g=e-(m-c);return o=this,u=arguments,g<=0||g>e?(i&&(clearTimeout(i),i=null),c=m,l=t.apply(o,u),i||(o=u=null)):!i&&n.trailing!==!1&&(i=setTimeout(f,g)),l};return d.cancel=function(){clearTimeout(i),c=0,i=o=u=null},d}function debounce(t,e,n){var i,o,u,l,c,f=function(){var m=now()-o;e>m?i=setTimeout(f,e-m):(i=null,n||(l=t.apply(c,u)),i||(u=c=null))},d=restArguments(function(m){return c=this,u=m,o=now(),i||(i=setTimeout(f,e),n&&(l=t.apply(c,u))),l});return d.cancel=function(){clearTimeout(i),i=u=c=null},d}function wrap$1(t,e){return partial(e,t)}function negate(t){return function(){return!t.apply(this,arguments)}}function compose(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}}function after(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function before(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}const once=partial(before,2);function findKey(t,e,n){e=cb(e,n);for(var i=keys$1(t),o,u=0,l=i.length;u<l;u++)if(o=i[u],e(t[o],o,t))return o}function createPredicateIndexFinder(t){return function(e,n,i){n=cb(n,i);for(var o=getLength(e),u=t>0?0:o-1;u>=0&&u<o;u+=t)if(n(e[u],u,e))return u;return-1}}const findIndex=createPredicateIndexFinder(1),findLastIndex=createPredicateIndexFinder(-1);function sortedIndex(t,e,n,i){n=cb(n,i,1);for(var o=n(e),u=0,l=getLength(t);u<l;){var c=Math.floor((u+l)/2);n(t[c])<o?u=c+1:l=c}return u}function createIndexFinder(t,e,n){return function(i,o,u){var l=0,c=getLength(i);if(typeof u=="number")t>0?l=u>=0?u:Math.max(u+c,l):c=u>=0?Math.min(u+1,c):u+c+1;else if(n&&u&&c)return u=n(i,o),i[u]===o?u:-1;if(o!==o)return u=e(slice.call(i,l,c),isNaN$1),u>=0?u+l:-1;for(u=t>0?l:c-1;u>=0&&u<c;u+=t)if(i[u]===o)return u;return-1}}const indexOf=createIndexFinder(1,findIndex,sortedIndex),lastIndexOf=createIndexFinder(-1,findLastIndex);function find$1(t,e,n){var i=isArrayLike(t)?findIndex:findKey,o=i(t,e,n);if(o!==void 0&&o!==-1)return t[o]}function findWhere(t,e){return find$1(t,matcher(e))}function each(t,e,n){e=optimizeCb(e,n);var i,o;if(isArrayLike(t))for(i=0,o=t.length;i<o;i++)e(t[i],i,t);else{var u=keys$1(t);for(i=0,o=u.length;i<o;i++)e(t[u[i]],u[i],t)}return t}function map$1(t,e,n){e=cb(e,n);for(var i=!isArrayLike(t)&&keys$1(t),o=(i||t).length,u=Array(o),l=0;l<o;l++){var c=i?i[l]:l;u[l]=e(t[c],c,t)}return u}function createReduce(t){var e=function(n,i,o,u){var l=!isArrayLike(n)&&keys$1(n),c=(l||n).length,f=t>0?0:c-1;for(u||(o=n[l?l[f]:f],f+=t);f>=0&&f<c;f+=t){var d=l?l[f]:f;o=i(o,n[d],d,n)}return o};return function(n,i,o,u){var l=arguments.length>=3;return e(n,optimizeCb(i,u,4),o,l)}}const reduce=createReduce(1),reduceRight=createReduce(-1);function filter(t,e,n){var i=[];return e=cb(e,n),each(t,function(o,u,l){e(o,u,l)&&i.push(o)}),i}function reject$1(t,e,n){return filter(t,negate(cb(e)),n)}function every(t,e,n){e=cb(e,n);for(var i=!isArrayLike(t)&&keys$1(t),o=(i||t).length,u=0;u<o;u++){var l=i?i[u]:u;if(!e(t[l],l,t))return!1}return!0}function some(t,e,n){e=cb(e,n);for(var i=!isArrayLike(t)&&keys$1(t),o=(i||t).length,u=0;u<o;u++){var l=i?i[u]:u;if(e(t[l],l,t))return!0}return!1}function contains(t,e,n,i){return isArrayLike(t)||(t=values(t)),(typeof n!="number"||i)&&(n=0),indexOf(t,e,n)>=0}const invoke=restArguments(function(t,e,n){var i,o;return isFunction(e)?o=e:(e=toPath(e),i=e.slice(0,-1),e=e[e.length-1]),map$1(t,function(u){var l=o;if(!l){if(i&&i.length&&(u=deepGet(u,i)),u==null)return;l=u[e]}return l==null?l:l.apply(u,n)})});function pluck(t,e){return map$1(t,property(e))}function where(t,e){return filter(t,matcher(e))}function max(t,e,n){var i=-1/0,o=-1/0,u,l;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=isArrayLike(t)?t:values(t);for(var c=0,f=t.length;c<f;c++)u=t[c],u!=null&&u>i&&(i=u)}else e=cb(e,n),each(t,function(d,m,g){l=e(d,m,g),(l>o||l===-1/0&&i===-1/0)&&(i=d,o=l)});return i}function min(t,e,n){var i=1/0,o=1/0,u,l;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=isArrayLike(t)?t:values(t);for(var c=0,f=t.length;c<f;c++)u=t[c],u!=null&&u<i&&(i=u)}else e=cb(e,n),each(t,function(d,m,g){l=e(d,m,g),(l<o||l===1/0&&i===1/0)&&(i=d,o=l)});return i}var reStrSymbol=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function toArray(t){return t?isArray(t)?slice.call(t):isString(t)?t.match(reStrSymbol):isArrayLike(t)?map$1(t,identity$1):values(t):[]}function sample(t,e,n){if(e==null||n)return isArrayLike(t)||(t=values(t)),t[random$1(t.length-1)];var i=toArray(t),o=getLength(i);e=Math.max(Math.min(e,o),0);for(var u=o-1,l=0;l<e;l++){var c=random$1(l,u),f=i[l];i[l]=i[c],i[c]=f}return i.slice(0,e)}function shuffle(t){return sample(t,1/0)}function sortBy(t,e,n){var i=0;return e=cb(e,n),pluck(map$1(t,function(o,u,l){return{value:o,index:i++,criteria:e(o,u,l)}}).sort(function(o,u){var l=o.criteria,c=u.criteria;if(l!==c){if(l>c||l===void 0)return 1;if(l<c||c===void 0)return-1}return o.index-u.index}),"value")}function group(t,e){return function(n,i,o){var u=e?[[],[]]:{};return i=cb(i,o),each(n,function(l,c){var f=i(l,c,n);t(u,l,f)}),u}}const groupBy=group(function(t,e,n){has$4(t,n)?t[n].push(e):t[n]=[e]}),indexBy=group(function(t,e,n){t[n]=e}),countBy=group(function(t,e,n){has$4(t,n)?t[n]++:t[n]=1}),partition=group(function(t,e,n){t[n?0:1].push(e)},!0);function size(t){return t==null?0:isArrayLike(t)?t.length:keys$1(t).length}function keyInObj(t,e,n){return e in n}const pick=restArguments(function(t,e){var n={},i=e[0];if(t==null)return n;isFunction(i)?(e.length>1&&(i=optimizeCb(i,e[1])),e=allKeys(t)):(i=keyInObj,e=flatten$2(e,!1,!1),t=Object(t));for(var o=0,u=e.length;o<u;o++){var l=e[o],c=t[l];i(c,l,t)&&(n[l]=c)}return n}),omit=restArguments(function(t,e){var n=e[0],i;return isFunction(n)?(n=negate(n),e.length>1&&(i=e[1])):(e=map$1(flatten$2(e,!1,!1),String),n=function(o,u){return!contains(e,u)}),pick(t,n,i)});function initial(t,e,n){return slice.call(t,0,Math.max(0,t.length-(e==null||n?1:e)))}function first(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[0]:initial(t,t.length-e)}function rest(t,e,n){return slice.call(t,e==null||n?1:e)}function last$2(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[t.length-1]:rest(t,Math.max(0,t.length-e))}function compact(t){return filter(t,Boolean)}function flatten$1(t,e){return flatten$2(t,e,!1)}const difference=restArguments(function(t,e){return e=flatten$2(e,!0,!0),filter(t,function(n){return!contains(e,n)})}),without=restArguments(function(t,e){return difference(t,e)});function uniq(t,e,n,i){isBoolean(e)||(i=n,n=e,e=!1),n!=null&&(n=cb(n,i));for(var o=[],u=[],l=0,c=getLength(t);l<c;l++){var f=t[l],d=n?n(f,l,t):f;e&&!n?((!l||u!==d)&&o.push(f),u=d):n?contains(u,d)||(u.push(d),o.push(f)):contains(o,f)||o.push(f)}return o}const union=restArguments(function(t){return uniq(flatten$2(t,!0,!0))});function intersection(t){for(var e=[],n=arguments.length,i=0,o=getLength(t);i<o;i++){var u=t[i];if(!contains(e,u)){var l;for(l=1;l<n&&contains(arguments[l],u);l++);l===n&&e.push(u)}}return e}function unzip(t){for(var e=t&&max(t,getLength).length||0,n=Array(e),i=0;i<e;i++)n[i]=pluck(t,i);return n}const zip=restArguments(unzip);function object(t,e){for(var n={},i=0,o=getLength(t);i<o;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n}function range$1(t,e,n){e==null&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var i=Math.max(Math.ceil((e-t)/n),0),o=Array(i),u=0;u<i;u++,t+=n)o[u]=t;return o}function chunk(t,e){if(e==null||e<1)return[];for(var n=[],i=0,o=t.length;i<o;)n.push(slice.call(t,i,i+=e));return n}function chainResult(t,e){return t._chain?_$1(e).chain():e}function mixin(t){return each(functions(t),function(e){var n=_$1[e]=t[e];_$1.prototype[e]=function(){var i=[this._wrapped];return push.apply(i,arguments),chainResult(this,n.apply(_$1,i))}}),_$1}each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=ArrayProto[t];_$1.prototype[t]=function(){var n=this._wrapped;return n!=null&&(e.apply(n,arguments),(t==="shift"||t==="splice")&&n.length===0&&delete n[0]),chainResult(this,n)}});each(["concat","join","slice"],function(t){var e=ArrayProto[t];_$1.prototype[t]=function(){var n=this._wrapped;return n!=null&&(n=e.apply(n,arguments)),chainResult(this,n)}});const allExports=Object.freeze(Object.defineProperty({__proto__:null,VERSION,after,all:every,allKeys,any:some,assign:extendOwn,before,bind,bindAll,chain,chunk,clone,collect:map$1,compact,compose,constant,contains,countBy,create:create$4,debounce,default:_$1,defaults,defer,delay,detect:find$1,difference,drop:rest,each,escape,every,extend:extend$1,extendOwn,filter,find:find$1,findIndex,findKey,findLastIndex,findWhere,first,flatten:flatten$1,foldl:reduce,foldr:reduceRight,forEach:each,functions,get,groupBy,has:has$3,head:first,identity:identity$1,include:contains,includes:contains,indexBy,indexOf,initial,inject:reduce,intersection,invert,invoke,isArguments,isArray,isArrayBuffer,isBoolean,isDataView:isDataView$1,isDate,isElement:isElement$1,isEmpty,isEqual,isError,isFinite:isFinite$1,isFunction,isMap,isMatch,isNaN:isNaN$1,isNull,isNumber:isNumber$1,isObject:isObject$1,isRegExp,isSet,isString,isSymbol,isTypedArray:isTypedArray$1,isUndefined,isWeakMap,isWeakSet,iteratee,keys:keys$1,last:last$2,lastIndexOf,map:map$1,mapObject,matcher,matches:matcher,max,memoize,methods:functions,min,mixin,negate,noop,now,object,omit,once,pairs,partial,partition,pick,pluck,property,propertyOf,random:random$1,range:range$1,reduce,reduceRight,reject:reject$1,rest,restArguments,result,sample,select:filter,shuffle,size,some,sortBy,sortedIndex,tail:rest,take:first,tap,template,templateSettings,throttle,times,toArray,toPath:toPath$1,transpose:unzip,unescape:unescape$1,union,uniq,unique:uniq,uniqueId,unzip,values,where,without,wrap:wrap$1,zip},Symbol.toStringTag,{value:"Module"}));var _=mixin(allExports);_._=_;const indexAll=Object.freeze(Object.defineProperty({__proto__:null,VERSION,after,all:every,allKeys,any:some,assign:extendOwn,before,bind,bindAll,chain,chunk,clone,collect:map$1,compact,compose,constant,contains,countBy,create:create$4,debounce,default:_,defaults,defer,delay,detect:find$1,difference,drop:rest,each,escape,every,extend:extend$1,extendOwn,filter,find:find$1,findIndex,findKey,findLastIndex,findWhere,first,flatten:flatten$1,foldl:reduce,foldr:reduceRight,forEach:each,functions,get,groupBy,has:has$3,head:first,identity:identity$1,include:contains,includes:contains,indexBy,indexOf,initial,inject:reduce,intersection,invert,invoke,isArguments,isArray,isArrayBuffer,isBoolean,isDataView:isDataView$1,isDate,isElement:isElement$1,isEmpty,isEqual,isError,isFinite:isFinite$1,isFunction,isMap,isMatch,isNaN:isNaN$1,isNull,isNumber:isNumber$1,isObject:isObject$1,isRegExp,isSet,isString,isSymbol,isTypedArray:isTypedArray$1,isUndefined,isWeakMap,isWeakSet,iteratee,keys:keys$1,last:last$2,lastIndexOf,map:map$1,mapObject,matcher,matches:matcher,max,memoize,methods:functions,min,mixin,negate,noop,now,object,omit,once,pairs,partial,partition,pick,pluck,property,propertyOf,random:random$1,range:range$1,reduce,reduceRight,reject:reject$1,rest,restArguments,result,sample,select:filter,shuffle,size,some,sortBy,sortedIndex,tail:rest,take:first,tap,template,templateSettings,throttle,times,toArray,toPath:toPath$1,transpose:unzip,unescape:unescape$1,union,uniq,unique:uniq,uniqueId,unzip,values,where,without,wrap:wrap$1,zip},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(indexAll);var jquery$1={exports:{}};var jquery=jquery$1.exports,hasRequiredJquery;function requireJquery(){return hasRequiredJquery||(hasRequiredJquery=1,(function(t){(function(e,n){t.exports=e.document?n(e,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return n(i)}})(typeof window<"u"?window:jquery,function(e,n){var i=[],o=Object.getPrototypeOf,u=i.slice,l=i.flat?function(ee){return i.flat.call(ee)}:function(ee){return i.concat.apply([],ee)},c=i.push,f=i.indexOf,d={},m=d.toString,g=d.hasOwnProperty,v=g.toString,y=v.call(Object),w={},T=function(se){return typeof se=="function"&&typeof se.nodeType!="number"&&typeof se.item!="function"},P=function(se){return se!=null&&se===se.window},A=e.document,D={type:!0,src:!0,nonce:!0,noModule:!0};function k(ee,se,ue){ue=ue||A;var ce,pe,me=ue.createElement("script");if(me.text=ee,se)for(ce in D)pe=se[ce]||se.getAttribute&&se.getAttribute(ce),pe&&me.setAttribute(ce,pe);ue.head.appendChild(me).parentNode.removeChild(me)}function j(ee){return ee==null?ee+"":typeof ee=="object"||typeof ee=="function"?d[m.call(ee)]||"object":typeof ee}var B="3.7.1",Z=/HTML$/i,R=function(ee,se){return new R.fn.init(ee,se)};R.fn=R.prototype={jquery:B,constructor:R,length:0,toArray:function(){return u.call(this)},get:function(ee){return ee==null?u.call(this):ee<0?this[ee+this.length]:this[ee]},pushStack:function(ee){var se=R.merge(this.constructor(),ee);return se.prevObject=this,se},each:function(ee){return R.each(this,ee)},map:function(ee){return this.pushStack(R.map(this,function(se,ue){return ee.call(se,ue,se)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(R.grep(this,function(ee,se){return(se+1)%2}))},odd:function(){return this.pushStack(R.grep(this,function(ee,se){return se%2}))},eq:function(ee){var se=this.length,ue=+ee+(ee<0?se:0);return this.pushStack(ue>=0&&ue<se?[this[ue]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:i.sort,splice:i.splice},R.extend=R.fn.extend=function(){var ee,se,ue,ce,pe,me,ye=arguments[0]||{},ke=1,Ie=arguments.length,Ve=!1;for(typeof ye=="boolean"&&(Ve=ye,ye=arguments[ke]||{},ke++),typeof ye!="object"&&!T(ye)&&(ye={}),ke===Ie&&(ye=this,ke--);ke<Ie;ke++)if((ee=arguments[ke])!=null)for(se in ee)ce=ee[se],!(se==="__proto__"||ye===ce)&&(Ve&&ce&&(R.isPlainObject(ce)||(pe=Array.isArray(ce)))?(ue=ye[se],pe&&!Array.isArray(ue)?me=[]:!pe&&!R.isPlainObject(ue)?me={}:me=ue,pe=!1,ye[se]=R.extend(Ve,me,ce)):ce!==void 0&&(ye[se]=ce));return ye},R.extend({expando:"jQuery"+(B+Math.random()).replace(/\D/g,""),isReady:!0,error:function(ee){throw new Error(ee)},noop:function(){},isPlainObject:function(ee){var se,ue;return!ee||m.call(ee)!=="[object Object]"?!1:(se=o(ee),se?(ue=g.call(se,"constructor")&&se.constructor,typeof ue=="function"&&v.call(ue)===y):!0)},isEmptyObject:function(ee){var se;for(se in ee)return!1;return!0},globalEval:function(ee,se,ue){k(ee,{nonce:se&&se.nonce},ue)},each:function(ee,se){var ue,ce=0;if(G(ee))for(ue=ee.length;ce<ue&&se.call(ee[ce],ce,ee[ce])!==!1;ce++);else for(ce in ee)if(se.call(ee[ce],ce,ee[ce])===!1)break;return ee},text:function(ee){var se,ue="",ce=0,pe=ee.nodeType;if(!pe)for(;se=ee[ce++];)ue+=R.text(se);return pe===1||pe===11?ee.textContent:pe===9?ee.documentElement.textContent:pe===3||pe===4?ee.nodeValue:ue},makeArray:function(ee,se){var ue=se||[];return ee!=null&&(G(Object(ee))?R.merge(ue,typeof ee=="string"?[ee]:ee):c.call(ue,ee)),ue},inArray:function(ee,se,ue){return se==null?-1:f.call(se,ee,ue)},isXMLDoc:function(ee){var se=ee&&ee.namespaceURI,ue=ee&&(ee.ownerDocument||ee).documentElement;return!Z.test(se||ue&&ue.nodeName||"HTML")},merge:function(ee,se){for(var ue=+se.length,ce=0,pe=ee.length;ce<ue;ce++)ee[pe++]=se[ce];return ee.length=pe,ee},grep:function(ee,se,ue){for(var ce,pe=[],me=0,ye=ee.length,ke=!ue;me<ye;me++)ce=!se(ee[me],me),ce!==ke&&pe.push(ee[me]);return pe},map:function(ee,se,ue){var ce,pe,me=0,ye=[];if(G(ee))for(ce=ee.length;me<ce;me++)pe=se(ee[me],me,ue),pe!=null&&ye.push(pe);else for(me in ee)pe=se(ee[me],me,ue),pe!=null&&ye.push(pe);return l(ye)},guid:1,support:w}),typeof Symbol=="function"&&(R.fn[Symbol.iterator]=i[Symbol.iterator]),R.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(ee,se){d["[object "+se+"]"]=se.toLowerCase()});function G(ee){var se=!!ee&&"length"in ee&&ee.length,ue=j(ee);return T(ee)||P(ee)?!1:ue==="array"||se===0||typeof se=="number"&&se>0&&se-1 in ee}function F(ee,se){return ee.nodeName&&ee.nodeName.toLowerCase()===se.toLowerCase()}var K=i.pop,Q=i.sort,ie=i.splice,te="[\\x20\\t\\r\\n\\f]",oe=new RegExp("^"+te+"+|((?:^|[^\\\\])(?:\\\\.)*)"+te+"+$","g");R.contains=function(ee,se){var ue=se&&se.parentNode;return ee===ue||!!(ue&&ue.nodeType===1&&(ee.contains?ee.contains(ue):ee.compareDocumentPosition&&ee.compareDocumentPosition(ue)&16))};var le=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function de(ee,se){return se?ee==="\0"?"":ee.slice(0,-1)+"\\"+ee.charCodeAt(ee.length-1).toString(16)+" ":"\\"+ee}R.escapeSelector=function(ee){return(ee+"").replace(le,de)};var ge=A,_e=c;(function(){var ee,se,ue,ce,pe,me=_e,ye,ke,Ie,Ve,dt,mt=R.expando,st=0,At=0,gr=la(),Gr=la(),Cr=la(),Fn=la(),kn=function(Te,ze){return Te===ze&&(pe=!0),0},Hi="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",qi="(?:\\\\[\\da-fA-F]{1,6}"+te+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Br="\\["+te+"*("+qi+")(?:"+te+"*([*^$|!~]?=)"+te+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+qi+"))|)"+te+"*\\]",ys=":("+qi+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Br+")*)|.*)\\)|)",Jr=new RegExp(te+"+","g"),Mn=new RegExp("^"+te+"*,"+te+"*"),ua=new RegExp("^"+te+"*([>+~]|"+te+")"+te+"*"),no=new RegExp(te+"|>"),vi=new RegExp(ys),as=new RegExp("^"+qi+"$"),Fi={ID:new RegExp("^#("+qi+")"),CLASS:new RegExp("^\\.("+qi+")"),TAG:new RegExp("^("+qi+"|[*])"),ATTR:new RegExp("^"+Br),PSEUDO:new RegExp("^"+ys),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+te+"*(even|odd|(([+-]|)(\\d*)n|)"+te+"*(?:([+-]|)"+te+"*(\\d+)|))"+te+"*\\)|)","i"),bool:new RegExp("^(?:"+Hi+")$","i"),needsContext:new RegExp("^"+te+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+te+"*((?:-\\d)?\\d*)"+te+"*\\)|)(?=[^-]|$)","i")},os=/^(?:input|select|textarea|button)$/i,us=/^h\d$/i,pi=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ta=/[+~]/,Ui=new RegExp("\\\\[\\da-fA-F]{1,6}"+te+"?|\\\\([^\\r\\n\\f])","g"),di=function(Te,ze){var et="0x"+Te.slice(1)-65536;return ze||(et<0?String.fromCharCode(et+65536):String.fromCharCode(et>>10|55296,et&1023|56320))},Qu=function(){Vi()},Zu=Ra(function(Te){return Te.disabled===!0&&F(Te,"fieldset")},{dir:"parentNode",next:"legend"});function el(){try{return ye.activeElement}catch{}}try{me.apply(i=u.call(ge.childNodes),ge.childNodes),i[ge.childNodes.length].nodeType}catch{me={apply:function(ze,et){_e.apply(ze,u.call(et))},call:function(ze){_e.apply(ze,u.call(arguments,1))}}}function tn(Te,ze,et,lt){var ft,Dt,zt,Zt,Ft,vr,or,pr=ze&&ze.ownerDocument,Dr=ze?ze.nodeType:9;if(et=et||[],typeof Te!="string"||!Te||Dr!==1&&Dr!==9&&Dr!==11)return et;if(!lt&&(Vi(ze),ze=ze||ye,Ie)){if(Dr!==11&&(Ft=pi.exec(Te)))if(ft=Ft[1]){if(Dr===9)if(zt=ze.getElementById(ft)){if(zt.id===ft)return me.call(et,zt),et}else return et;else if(pr&&(zt=pr.getElementById(ft))&&tn.contains(ze,zt)&&zt.id===ft)return me.call(et,zt),et}else{if(Ft[2])return me.apply(et,ze.getElementsByTagName(Te)),et;if((ft=Ft[3])&&ze.getElementsByClassName)return me.apply(et,ze.getElementsByClassName(ft)),et}if(!Fn[Te+" "]&&(!Ve||!Ve.test(Te))){if(or=Te,pr=ze,Dr===1&&(no.test(Te)||ua.test(Te))){for(pr=Ta.test(Te)&&ca(ze.parentNode)||ze,(pr!=ze||!w.scope)&&((Zt=ze.getAttribute("id"))?Zt=R.escapeSelector(Zt):ze.setAttribute("id",Zt=mt)),vr=ks(Te),Dt=vr.length;Dt--;)vr[Dt]=(Zt?"#"+Zt:":scope")+" "+da(vr[Dt]);or=vr.join(",")}try{return me.apply(et,pr.querySelectorAll(or)),et}catch{Fn(Te,!0)}finally{Zt===mt&&ze.removeAttribute("id")}}}return uo(Te.replace(oe,"$1"),ze,et,lt)}function la(){var Te=[];function ze(et,lt){return Te.push(et+" ")>se.cacheLength&&delete ze[Te.shift()],ze[et+" "]=lt}return ze}function ri(Te){return Te[mt]=!0,Te}function Wi(Te){var ze=ye.createElement("fieldset");try{return!!Te(ze)}catch{return!1}finally{ze.parentNode&&ze.parentNode.removeChild(ze),ze=null}}function tl(Te){return function(ze){return F(ze,"input")&&ze.type===Te}}function Aa(Te){return function(ze){return(F(ze,"input")||F(ze,"button"))&&ze.type===Te}}function io(Te){return function(ze){return"form"in ze?ze.parentNode&&ze.disabled===!1?"label"in ze?"label"in ze.parentNode?ze.parentNode.disabled===Te:ze.disabled===Te:ze.isDisabled===Te||ze.isDisabled!==!Te&&Zu(ze)===Te:ze.disabled===Te:"label"in ze?ze.disabled===Te:!1}}function ps(Te){return ri(function(ze){return ze=+ze,ri(function(et,lt){for(var ft,Dt=Te([],et.length,ze),zt=Dt.length;zt--;)et[ft=Dt[zt]]&&(et[ft]=!(lt[ft]=et[ft]))})})}function ca(Te){return Te&&typeof Te.getElementsByTagName<"u"&&Te}function Vi(Te){var ze,et=Te?Te.ownerDocument||Te:ge;return et==ye||et.nodeType!==9||!et.documentElement||(ye=et,ke=ye.documentElement,Ie=!R.isXMLDoc(ye),dt=ke.matches||ke.webkitMatchesSelector||ke.msMatchesSelector,ke.msMatchesSelector&&ge!=ye&&(ze=ye.defaultView)&&ze.top!==ze&&ze.addEventListener("unload",Qu),w.getById=Wi(function(lt){return ke.appendChild(lt).id=R.expando,!ye.getElementsByName||!ye.getElementsByName(R.expando).length}),w.disconnectedMatch=Wi(function(lt){return dt.call(lt,"*")}),w.scope=Wi(function(){return ye.querySelectorAll(":scope")}),w.cssHas=Wi(function(){try{return ye.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),w.getById?(se.filter.ID=function(lt){var ft=lt.replace(Ui,di);return function(Dt){return Dt.getAttribute("id")===ft}},se.find.ID=function(lt,ft){if(typeof ft.getElementById<"u"&&Ie){var Dt=ft.getElementById(lt);return Dt?[Dt]:[]}}):(se.filter.ID=function(lt){var ft=lt.replace(Ui,di);return function(Dt){var zt=typeof Dt.getAttributeNode<"u"&&Dt.getAttributeNode("id");return zt&&zt.value===ft}},se.find.ID=function(lt,ft){if(typeof ft.getElementById<"u"&&Ie){var Dt,zt,Zt,Ft=ft.getElementById(lt);if(Ft){if(Dt=Ft.getAttributeNode("id"),Dt&&Dt.value===lt)return[Ft];for(Zt=ft.getElementsByName(lt),zt=0;Ft=Zt[zt++];)if(Dt=Ft.getAttributeNode("id"),Dt&&Dt.value===lt)return[Ft]}return[]}}),se.find.TAG=function(lt,ft){return typeof ft.getElementsByTagName<"u"?ft.getElementsByTagName(lt):ft.querySelectorAll(lt)},se.find.CLASS=function(lt,ft){if(typeof ft.getElementsByClassName<"u"&&Ie)return ft.getElementsByClassName(lt)},Ve=[],Wi(function(lt){var ft;ke.appendChild(lt).innerHTML="<a id='"+mt+"' href='' disabled='disabled'></a><select id='"+mt+"-\r\\' disabled='disabled'><option selected=''></option></select>",lt.querySelectorAll("[selected]").length||Ve.push("\\["+te+"*(?:value|"+Hi+")"),lt.querySelectorAll("[id~="+mt+"-]").length||Ve.push("~="),lt.querySelectorAll("a#"+mt+"+*").length||Ve.push(".#.+[+~]"),lt.querySelectorAll(":checked").length||Ve.push(":checked"),ft=ye.createElement("input"),ft.setAttribute("type","hidden"),lt.appendChild(ft).setAttribute("name","D"),ke.appendChild(lt).disabled=!0,lt.querySelectorAll(":disabled").length!==2&&Ve.push(":enabled",":disabled"),ft=ye.createElement("input"),ft.setAttribute("name",""),lt.appendChild(ft),lt.querySelectorAll("[name='']").length||Ve.push("\\["+te+"*name"+te+"*="+te+`*(?:''|"")`)}),w.cssHas||Ve.push(":has"),Ve=Ve.length&&new RegExp(Ve.join("|")),kn=function(lt,ft){if(lt===ft)return pe=!0,0;var Dt=!lt.compareDocumentPosition-!ft.compareDocumentPosition;return Dt||(Dt=(lt.ownerDocument||lt)==(ft.ownerDocument||ft)?lt.compareDocumentPosition(ft):1,Dt&1||!w.sortDetached&&ft.compareDocumentPosition(lt)===Dt?lt===ye||lt.ownerDocument==ge&&tn.contains(ge,lt)?-1:ft===ye||ft.ownerDocument==ge&&tn.contains(ge,ft)?1:ce?f.call(ce,lt)-f.call(ce,ft):0:Dt&4?-1:1)}),ye}tn.matches=function(Te,ze){return tn(Te,null,null,ze)},tn.matchesSelector=function(Te,ze){if(Vi(Te),Ie&&!Fn[ze+" "]&&(!Ve||!Ve.test(ze)))try{var et=dt.call(Te,ze);if(et||w.disconnectedMatch||Te.document&&Te.document.nodeType!==11)return et}catch{Fn(ze,!0)}return tn(ze,ye,null,[Te]).length>0},tn.contains=function(Te,ze){return(Te.ownerDocument||Te)!=ye&&Vi(Te),R.contains(Te,ze)},tn.attr=function(Te,ze){(Te.ownerDocument||Te)!=ye&&Vi(Te);var et=se.attrHandle[ze.toLowerCase()],lt=et&&g.call(se.attrHandle,ze.toLowerCase())?et(Te,ze,!Ie):void 0;return lt!==void 0?lt:Te.getAttribute(ze)},tn.error=function(Te){throw new Error("Syntax error, unrecognized expression: "+Te)},R.uniqueSort=function(Te){var ze,et=[],lt=0,ft=0;if(pe=!w.sortStable,ce=!w.sortStable&&u.call(Te,0),Q.call(Te,kn),pe){for(;ze=Te[ft++];)ze===Te[ft]&&(lt=et.push(ft));for(;lt--;)ie.call(Te,et[lt],1)}return ce=null,Te},R.fn.uniqueSort=function(){return this.pushStack(R.uniqueSort(u.apply(this)))},se=R.expr={cacheLength:50,createPseudo:ri,match:Fi,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Te){return Te[1]=Te[1].replace(Ui,di),Te[3]=(Te[3]||Te[4]||Te[5]||"").replace(Ui,di),Te[2]==="~="&&(Te[3]=" "+Te[3]+" "),Te.slice(0,4)},CHILD:function(Te){return Te[1]=Te[1].toLowerCase(),Te[1].slice(0,3)==="nth"?(Te[3]||tn.error(Te[0]),Te[4]=+(Te[4]?Te[5]+(Te[6]||1):2*(Te[3]==="even"||Te[3]==="odd")),Te[5]=+(Te[7]+Te[8]||Te[3]==="odd")):Te[3]&&tn.error(Te[0]),Te},PSEUDO:function(Te){var ze,et=!Te[6]&&Te[2];return Fi.CHILD.test(Te[0])?null:(Te[3]?Te[2]=Te[4]||Te[5]||"":et&&vi.test(et)&&(ze=ks(et,!0))&&(ze=et.indexOf(")",et.length-ze)-et.length)&&(Te[0]=Te[0].slice(0,ze),Te[2]=et.slice(0,ze)),Te.slice(0,3))}},filter:{TAG:function(Te){var ze=Te.replace(Ui,di).toLowerCase();return Te==="*"?function(){return!0}:function(et){return F(et,ze)}},CLASS:function(Te){var ze=gr[Te+" "];return ze||(ze=new RegExp("(^|"+te+")"+Te+"("+te+"|$)"))&&gr(Te,function(et){return ze.test(typeof et.className=="string"&&et.className||typeof et.getAttribute<"u"&&et.getAttribute("class")||"")})},ATTR:function(Te,ze,et){return function(lt){var ft=tn.attr(lt,Te);return ft==null?ze==="!=":ze?(ft+="",ze==="="?ft===et:ze==="!="?ft!==et:ze==="^="?et&&ft.indexOf(et)===0:ze==="*="?et&&ft.indexOf(et)>-1:ze==="$="?et&&ft.slice(-et.length)===et:ze==="~="?(" "+ft.replace(Jr," ")+" ").indexOf(et)>-1:ze==="|="?ft===et||ft.slice(0,et.length+1)===et+"-":!1):!0}},CHILD:function(Te,ze,et,lt,ft){var Dt=Te.slice(0,3)!=="nth",zt=Te.slice(-4)!=="last",Zt=ze==="of-type";return lt===1&&ft===0?(function(Ft){return!!Ft.parentNode}):function(Ft,vr,or){var pr,Dr,nr,mn,ii,Xn=Dt!==zt?"nextSibling":"previousSibling",yi=Ft.parentNode,Gi=Zt&&Ft.nodeName.toLowerCase(),js=!or&&!Zt,Qn=!1;if(yi){if(Dt){for(;Xn;){for(nr=Ft;nr=nr[Xn];)if(Zt?F(nr,Gi):nr.nodeType===1)return!1;ii=Xn=Te==="only"&&!ii&&"nextSibling"}return!0}if(ii=[zt?yi.firstChild:yi.lastChild],zt&&js){for(Dr=yi[mt]||(yi[mt]={}),pr=Dr[Te]||[],mn=pr[0]===st&&pr[1],Qn=mn&&pr[2],nr=mn&&yi.childNodes[mn];nr=++mn&&nr&&nr[Xn]||(Qn=mn=0)||ii.pop();)if(nr.nodeType===1&&++Qn&&nr===Ft){Dr[Te]=[st,mn,Qn];break}}else if(js&&(Dr=Ft[mt]||(Ft[mt]={}),pr=Dr[Te]||[],mn=pr[0]===st&&pr[1],Qn=mn),Qn===!1)for(;(nr=++mn&&nr&&nr[Xn]||(Qn=mn=0)||ii.pop())&&!((Zt?F(nr,Gi):nr.nodeType===1)&&++Qn&&(js&&(Dr=nr[mt]||(nr[mt]={}),Dr[Te]=[st,Qn]),nr===Ft)););return Qn-=ft,Qn===lt||Qn%lt===0&&Qn/lt>=0}}},PSEUDO:function(Te,ze){var et,lt=se.pseudos[Te]||se.setFilters[Te.toLowerCase()]||tn.error("unsupported pseudo: "+Te);return lt[mt]?lt(ze):lt.length>1?(et=[Te,Te,"",ze],se.setFilters.hasOwnProperty(Te.toLowerCase())?ri(function(ft,Dt){for(var zt,Zt=lt(ft,ze),Ft=Zt.length;Ft--;)zt=f.call(ft,Zt[Ft]),ft[zt]=!(Dt[zt]=Zt[Ft])}):function(ft){return lt(ft,0,et)}):lt}},pseudos:{not:ri(function(Te){var ze=[],et=[],lt=$a(Te.replace(oe,"$1"));return lt[mt]?ri(function(ft,Dt,zt,Zt){for(var Ft,vr=lt(ft,null,Zt,[]),or=ft.length;or--;)(Ft=vr[or])&&(ft[or]=!(Dt[or]=Ft))}):function(ft,Dt,zt){return ze[0]=ft,lt(ze,null,zt,et),ze[0]=null,!et.pop()}}),has:ri(function(Te){return function(ze){return tn(Te,ze).length>0}}),contains:ri(function(Te){return Te=Te.replace(Ui,di),function(ze){return(ze.textContent||R.text(ze)).indexOf(Te)>-1}}),lang:ri(function(Te){return as.test(Te||"")||tn.error("unsupported lang: "+Te),Te=Te.replace(Ui,di).toLowerCase(),function(ze){var et;do if(et=Ie?ze.lang:ze.getAttribute("xml:lang")||ze.getAttribute("lang"))return et=et.toLowerCase(),et===Te||et.indexOf(Te+"-")===0;while((ze=ze.parentNode)&&ze.nodeType===1);return!1}}),target:function(Te){var ze=e.location&&e.location.hash;return ze&&ze.slice(1)===Te.id},root:function(Te){return Te===ke},focus:function(Te){return Te===el()&&ye.hasFocus()&&!!(Te.type||Te.href||~Te.tabIndex)},enabled:io(!1),disabled:io(!0),checked:function(Te){return F(Te,"input")&&!!Te.checked||F(Te,"option")&&!!Te.selected},selected:function(Te){return Te.parentNode&&Te.parentNode.selectedIndex,Te.selected===!0},empty:function(Te){for(Te=Te.firstChild;Te;Te=Te.nextSibling)if(Te.nodeType<6)return!1;return!0},parent:function(Te){return!se.pseudos.empty(Te)},header:function(Te){return us.test(Te.nodeName)},input:function(Te){return os.test(Te.nodeName)},button:function(Te){return F(Te,"input")&&Te.type==="button"||F(Te,"button")},text:function(Te){var ze;return F(Te,"input")&&Te.type==="text"&&((ze=Te.getAttribute("type"))==null||ze.toLowerCase()==="text")},first:ps(function(){return[0]}),last:ps(function(Te,ze){return[ze-1]}),eq:ps(function(Te,ze,et){return[et<0?et+ze:et]}),even:ps(function(Te,ze){for(var et=0;et<ze;et+=2)Te.push(et);return Te}),odd:ps(function(Te,ze){for(var et=1;et<ze;et+=2)Te.push(et);return Te}),lt:ps(function(Te,ze,et){var lt;for(et<0?lt=et+ze:et>ze?lt=ze:lt=et;--lt>=0;)Te.push(lt);return Te}),gt:ps(function(Te,ze,et){for(var lt=et<0?et+ze:et;++lt<ze;)Te.push(lt);return Te})}},se.pseudos.nth=se.pseudos.eq;for(ee in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})se.pseudos[ee]=tl(ee);for(ee in{submit:!0,reset:!0})se.pseudos[ee]=Aa(ee);function so(){}so.prototype=se.filters=se.pseudos,se.setFilters=new so;function ks(Te,ze){var et,lt,ft,Dt,zt,Zt,Ft,vr=Gr[Te+" "];if(vr)return ze?0:vr.slice(0);for(zt=Te,Zt=[],Ft=se.preFilter;zt;){(!et||(lt=Mn.exec(zt)))&&(lt&&(zt=zt.slice(lt[0].length)||zt),Zt.push(ft=[])),et=!1,(lt=ua.exec(zt))&&(et=lt.shift(),ft.push({value:et,type:lt[0].replace(oe," ")}),zt=zt.slice(et.length));for(Dt in se.filter)(lt=Fi[Dt].exec(zt))&&(!Ft[Dt]||(lt=Ft[Dt](lt)))&&(et=lt.shift(),ft.push({value:et,type:Dt,matches:lt}),zt=zt.slice(et.length));if(!et)break}return ze?zt.length:zt?tn.error(Te):Gr(Te,Zt).slice(0)}function da(Te){for(var ze=0,et=Te.length,lt="";ze<et;ze++)lt+=Te[ze].value;return lt}function Ra(Te,ze,et){var lt=ze.dir,ft=ze.next,Dt=ft||lt,zt=et&&Dt==="parentNode",Zt=At++;return ze.first?(function(Ft,vr,or){for(;Ft=Ft[lt];)if(Ft.nodeType===1||zt)return Te(Ft,vr,or);return!1}):(function(Ft,vr,or){var pr,Dr,nr=[st,Zt];if(or){for(;Ft=Ft[lt];)if((Ft.nodeType===1||zt)&&Te(Ft,vr,or))return!0}else for(;Ft=Ft[lt];)if(Ft.nodeType===1||zt)if(Dr=Ft[mt]||(Ft[mt]={}),ft&&F(Ft,ft))Ft=Ft[lt]||Ft;else{if((pr=Dr[Dt])&&pr[0]===st&&pr[1]===Zt)return nr[2]=pr[2];if(Dr[Dt]=nr,nr[2]=Te(Ft,vr,or))return!0}return!1})}function ao(Te){return Te.length>1?function(ze,et,lt){for(var ft=Te.length;ft--;)if(!Te[ft](ze,et,lt))return!1;return!0}:Te[0]}function rl(Te,ze,et){for(var lt=0,ft=ze.length;lt<ft;lt++)tn(Te,ze[lt],et);return et}function Ma(Te,ze,et,lt,ft){for(var Dt,zt=[],Zt=0,Ft=Te.length,vr=ze!=null;Zt<Ft;Zt++)(Dt=Te[Zt])&&(!et||et(Dt,lt,ft))&&(zt.push(Dt),vr&&ze.push(Zt));return zt}function oo(Te,ze,et,lt,ft,Dt){return lt&&!lt[mt]&&(lt=oo(lt)),ft&&!ft[mt]&&(ft=oo(ft,Dt)),ri(function(zt,Zt,Ft,vr){var or,pr,Dr,nr,mn=[],ii=[],Xn=Zt.length,yi=zt||rl(ze||"*",Ft.nodeType?[Ft]:Ft,[]),Gi=Te&&(zt||!ze)?Ma(yi,mn,Te,Ft,vr):yi;if(et?(nr=ft||(zt?Te:Xn||lt)?[]:Zt,et(Gi,nr,Ft,vr)):nr=Gi,lt)for(or=Ma(nr,ii),lt(or,[],Ft,vr),pr=or.length;pr--;)(Dr=or[pr])&&(nr[ii[pr]]=!(Gi[ii[pr]]=Dr));if(zt){if(ft||Te){if(ft){for(or=[],pr=nr.length;pr--;)(Dr=nr[pr])&&or.push(Gi[pr]=Dr);ft(null,nr=[],or,vr)}for(pr=nr.length;pr--;)(Dr=nr[pr])&&(or=ft?f.call(zt,Dr):mn[pr])>-1&&(zt[or]=!(Zt[or]=Dr))}}else nr=Ma(nr===Zt?nr.splice(Xn,nr.length):nr),ft?ft(null,Zt,nr,vr):me.apply(Zt,nr)})}function ni(Te){for(var ze,et,lt,ft=Te.length,Dt=se.relative[Te[0].type],zt=Dt||se.relative[" "],Zt=Dt?1:0,Ft=Ra(function(pr){return pr===ze},zt,!0),vr=Ra(function(pr){return f.call(ze,pr)>-1},zt,!0),or=[function(pr,Dr,nr){var mn=!Dt&&(nr||Dr!=ue)||((ze=Dr).nodeType?Ft(pr,Dr,nr):vr(pr,Dr,nr));return ze=null,mn}];Zt<ft;Zt++)if(et=se.relative[Te[Zt].type])or=[Ra(ao(or),et)];else{if(et=se.filter[Te[Zt].type].apply(null,Te[Zt].matches),et[mt]){for(lt=++Zt;lt<ft&&!se.relative[Te[lt].type];lt++);return oo(Zt>1&&ao(or),Zt>1&&da(Te.slice(0,Zt-1).concat({value:Te[Zt-2].type===" "?"*":""})).replace(oe,"$1"),et,Zt<lt&&ni(Te.slice(Zt,lt)),lt<ft&&ni(Te=Te.slice(lt)),lt<ft&&da(Te))}or.push(et)}return ao(or)}function ha(Te,ze){var et=ze.length>0,lt=Te.length>0,ft=function(Dt,zt,Zt,Ft,vr){var or,pr,Dr,nr=0,mn="0",ii=Dt&&[],Xn=[],yi=ue,Gi=Dt||lt&&se.find.TAG("*",vr),js=st+=yi==null?1:Math.random()||.1,Qn=Gi.length;for(vr&&(ue=zt==ye||zt||vr);mn!==Qn&&(or=Gi[mn])!=null;mn++){if(lt&&or){for(pr=0,!zt&&or.ownerDocument!=ye&&(Vi(or),Zt=!Ie);Dr=Te[pr++];)if(Dr(or,zt||ye,Zt)){me.call(Ft,or);break}vr&&(st=js)}et&&((or=!Dr&&or)&&nr--,Dt&&ii.push(or))}if(nr+=mn,et&&mn!==nr){for(pr=0;Dr=ze[pr++];)Dr(ii,Xn,zt,Zt);if(Dt){if(nr>0)for(;mn--;)ii[mn]||Xn[mn]||(Xn[mn]=K.call(Ft));Xn=Ma(Xn)}me.apply(Ft,Xn),vr&&!Dt&&Xn.length>0&&nr+ze.length>1&&R.uniqueSort(Ft)}return vr&&(st=js,ue=yi),ii};return et?ri(ft):ft}function $a(Te,ze){var et,lt=[],ft=[],Dt=Cr[Te+" "];if(!Dt){for(ze||(ze=ks(Te)),et=ze.length;et--;)Dt=ni(ze[et]),Dt[mt]?lt.push(Dt):ft.push(Dt);Dt=Cr(Te,ha(ft,lt)),Dt.selector=Te}return Dt}function uo(Te,ze,et,lt){var ft,Dt,zt,Zt,Ft,vr=typeof Te=="function"&&Te,or=!lt&&ks(Te=vr.selector||Te);if(et=et||[],or.length===1){if(Dt=or[0]=or[0].slice(0),Dt.length>2&&(zt=Dt[0]).type==="ID"&&ze.nodeType===9&&Ie&&se.relative[Dt[1].type]){if(ze=(se.find.ID(zt.matches[0].replace(Ui,di),ze)||[])[0],ze)vr&&(ze=ze.parentNode);else return et;Te=Te.slice(Dt.shift().value.length)}for(ft=Fi.needsContext.test(Te)?0:Dt.length;ft--&&(zt=Dt[ft],!se.relative[Zt=zt.type]);)if((Ft=se.find[Zt])&&(lt=Ft(zt.matches[0].replace(Ui,di),Ta.test(Dt[0].type)&&ca(ze.parentNode)||ze))){if(Dt.splice(ft,1),Te=lt.length&&da(Dt),!Te)return me.apply(et,lt),et;break}}return(vr||$a(Te,or))(lt,ze,!Ie,et,!ze||Ta.test(Te)&&ca(ze.parentNode)||ze),et}w.sortStable=mt.split("").sort(kn).join("")===mt,Vi(),w.sortDetached=Wi(function(Te){return Te.compareDocumentPosition(ye.createElement("fieldset"))&1}),R.find=tn,R.expr[":"]=R.expr.pseudos,R.unique=R.uniqueSort,tn.compile=$a,tn.select=uo,tn.setDocument=Vi,tn.tokenize=ks,tn.escape=R.escapeSelector,tn.getText=R.text,tn.isXML=R.isXMLDoc,tn.selectors=R.expr,tn.support=R.support,tn.uniqueSort=R.uniqueSort})();var we=function(ee,se,ue){for(var ce=[],pe=ue!==void 0;(ee=ee[se])&&ee.nodeType!==9;)if(ee.nodeType===1){if(pe&&R(ee).is(ue))break;ce.push(ee)}return ce},Me=function(ee,se){for(var ue=[];ee;ee=ee.nextSibling)ee.nodeType===1&&ee!==se&&ue.push(ee);return ue},xe=R.expr.match.needsContext,Re=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Se(ee,se,ue){return T(se)?R.grep(ee,function(ce,pe){return!!se.call(ce,pe,ce)!==ue}):se.nodeType?R.grep(ee,function(ce){return ce===se!==ue}):typeof se!="string"?R.grep(ee,function(ce){return f.call(se,ce)>-1!==ue}):R.filter(se,ee,ue)}R.filter=function(ee,se,ue){var ce=se[0];return ue&&(ee=":not("+ee+")"),se.length===1&&ce.nodeType===1?R.find.matchesSelector(ce,ee)?[ce]:[]:R.find.matches(ee,R.grep(se,function(pe){return pe.nodeType===1}))},R.fn.extend({find:function(ee){var se,ue,ce=this.length,pe=this;if(typeof ee!="string")return this.pushStack(R(ee).filter(function(){for(se=0;se<ce;se++)if(R.contains(pe[se],this))return!0}));for(ue=this.pushStack([]),se=0;se<ce;se++)R.find(ee,pe[se],ue);return ce>1?R.uniqueSort(ue):ue},filter:function(ee){return this.pushStack(Se(this,ee||[],!1))},not:function(ee){return this.pushStack(Se(this,ee||[],!0))},is:function(ee){return!!Se(this,typeof ee=="string"&&xe.test(ee)?R(ee):ee||[],!1).length}});var Ge,Qe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Je=R.fn.init=function(ee,se,ue){var ce,pe;if(!ee)return this;if(ue=ue||Ge,typeof ee=="string")if(ee[0]==="<"&&ee[ee.length-1]===">"&&ee.length>=3?ce=[null,ee,null]:ce=Qe.exec(ee),ce&&(ce[1]||!se))if(ce[1]){if(se=se instanceof R?se[0]:se,R.merge(this,R.parseHTML(ce[1],se&&se.nodeType?se.ownerDocument||se:A,!0)),Re.test(ce[1])&&R.isPlainObject(se))for(ce in se)T(this[ce])?this[ce](se[ce]):this.attr(ce,se[ce]);return this}else return pe=A.getElementById(ce[2]),pe&&(this[0]=pe,this.length=1),this;else return!se||se.jquery?(se||ue).find(ee):this.constructor(se).find(ee);else{if(ee.nodeType)return this[0]=ee,this.length=1,this;if(T(ee))return ue.ready!==void 0?ue.ready(ee):ee(R)}return R.makeArray(ee,this)};Je.prototype=R.fn,Ge=R(A);var Xe=/^(?:parents|prev(?:Until|All))/,gt={children:!0,contents:!0,next:!0,prev:!0};R.fn.extend({has:function(ee){var se=R(ee,this),ue=se.length;return this.filter(function(){for(var ce=0;ce<ue;ce++)if(R.contains(this,se[ce]))return!0})},closest:function(ee,se){var ue,ce=0,pe=this.length,me=[],ye=typeof ee!="string"&&R(ee);if(!xe.test(ee)){for(;ce<pe;ce++)for(ue=this[ce];ue&&ue!==se;ue=ue.parentNode)if(ue.nodeType<11&&(ye?ye.index(ue)>-1:ue.nodeType===1&&R.find.matchesSelector(ue,ee))){me.push(ue);break}}return this.pushStack(me.length>1?R.uniqueSort(me):me)},index:function(ee){return ee?typeof ee=="string"?f.call(R(ee),this[0]):f.call(this,ee.jquery?ee[0]:ee):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(ee,se){return this.pushStack(R.uniqueSort(R.merge(this.get(),R(ee,se))))},addBack:function(ee){return this.add(ee==null?this.prevObject:this.prevObject.filter(ee))}});function Ct(ee,se){for(;(ee=ee[se])&&ee.nodeType!==1;);return ee}R.each({parent:function(ee){var se=ee.parentNode;return se&&se.nodeType!==11?se:null},parents:function(ee){return we(ee,"parentNode")},parentsUntil:function(ee,se,ue){return we(ee,"parentNode",ue)},next:function(ee){return Ct(ee,"nextSibling")},prev:function(ee){return Ct(ee,"previousSibling")},nextAll:function(ee){return we(ee,"nextSibling")},prevAll:function(ee){return we(ee,"previousSibling")},nextUntil:function(ee,se,ue){return we(ee,"nextSibling",ue)},prevUntil:function(ee,se,ue){return we(ee,"previousSibling",ue)},siblings:function(ee){return Me((ee.parentNode||{}).firstChild,ee)},children:function(ee){return Me(ee.firstChild)},contents:function(ee){return ee.contentDocument!=null&&o(ee.contentDocument)?ee.contentDocument:(F(ee,"template")&&(ee=ee.content||ee),R.merge([],ee.childNodes))}},function(ee,se){R.fn[ee]=function(ue,ce){var pe=R.map(this,se,ue);return ee.slice(-5)!=="Until"&&(ce=ue),ce&&typeof ce=="string"&&(pe=R.filter(ce,pe)),this.length>1&&(gt[ee]||R.uniqueSort(pe),Xe.test(ee)&&pe.reverse()),this.pushStack(pe)}});var ar=/[^\x20\t\r\n\f]+/g;function De(ee){var se={};return R.each(ee.match(ar)||[],function(ue,ce){se[ce]=!0}),se}R.Callbacks=function(ee){ee=typeof ee=="string"?De(ee):R.extend({},ee);var se,ue,ce,pe,me=[],ye=[],ke=-1,Ie=function(){for(pe=pe||ee.once,ce=se=!0;ye.length;ke=-1)for(ue=ye.shift();++ke<me.length;)me[ke].apply(ue[0],ue[1])===!1&&ee.stopOnFalse&&(ke=me.length,ue=!1);ee.memory||(ue=!1),se=!1,pe&&(ue?me=[]:me="")},Ve={add:function(){return me&&(ue&&!se&&(ke=me.length-1,ye.push(ue)),(function dt(mt){R.each(mt,function(st,At){T(At)?(!ee.unique||!Ve.has(At))&&me.push(At):At&&At.length&&j(At)!=="string"&&dt(At)})})(arguments),ue&&!se&&Ie()),this},remove:function(){return R.each(arguments,function(dt,mt){for(var st;(st=R.inArray(mt,me,st))>-1;)me.splice(st,1),st<=ke&&ke--}),this},has:function(dt){return dt?R.inArray(dt,me)>-1:me.length>0},empty:function(){return me&&(me=[]),this},disable:function(){return pe=ye=[],me=ue="",this},disabled:function(){return!me},lock:function(){return pe=ye=[],!ue&&!se&&(me=ue=""),this},locked:function(){return!!pe},fireWith:function(dt,mt){return pe||(mt=mt||[],mt=[dt,mt.slice?mt.slice():mt],ye.push(mt),se||Ie()),this},fire:function(){return Ve.fireWith(this,arguments),this},fired:function(){return!!ce}};return Ve};function Oe(ee){return ee}function Be(ee){throw ee}function he(ee,se,ue,ce){var pe;try{ee&&T(pe=ee.promise)?pe.call(ee).done(se).fail(ue):ee&&T(pe=ee.then)?pe.call(ee,se,ue):se.apply(void 0,[ee].slice(ce))}catch(me){ue.apply(void 0,[me])}}R.extend({Deferred:function(ee){var se=[["notify","progress",R.Callbacks("memory"),R.Callbacks("memory"),2],["resolve","done",R.Callbacks("once memory"),R.Callbacks("once memory"),0,"resolved"],["reject","fail",R.Callbacks("once memory"),R.Callbacks("once memory"),1,"rejected"]],ue="pending",ce={state:function(){return ue},always:function(){return pe.done(arguments).fail(arguments),this},catch:function(me){return ce.then(null,me)},pipe:function(){var me=arguments;return R.Deferred(function(ye){R.each(se,function(ke,Ie){var Ve=T(me[Ie[4]])&&me[Ie[4]];pe[Ie[1]](function(){var dt=Ve&&Ve.apply(this,arguments);dt&&T(dt.promise)?dt.promise().progress(ye.notify).done(ye.resolve).fail(ye.reject):ye[Ie[0]+"With"](this,Ve?[dt]:arguments)})}),me=null}).promise()},then:function(me,ye,ke){var Ie=0;function Ve(dt,mt,st,At){return function(){var gr=this,Gr=arguments,Cr=function(){var kn,Hi;if(!(dt<Ie)){if(kn=st.apply(gr,Gr),kn===mt.promise())throw new TypeError("Thenable self-resolution");Hi=kn&&(typeof kn=="object"||typeof kn=="function")&&kn.then,T(Hi)?At?Hi.call(kn,Ve(Ie,mt,Oe,At),Ve(Ie,mt,Be,At)):(Ie++,Hi.call(kn,Ve(Ie,mt,Oe,At),Ve(Ie,mt,Be,At),Ve(Ie,mt,Oe,mt.notifyWith))):(st!==Oe&&(gr=void 0,Gr=[kn]),(At||mt.resolveWith)(gr,Gr))}},Fn=At?Cr:function(){try{Cr()}catch(kn){R.Deferred.exceptionHook&&R.Deferred.exceptionHook(kn,Fn.error),dt+1>=Ie&&(st!==Be&&(gr=void 0,Gr=[kn]),mt.rejectWith(gr,Gr))}};dt?Fn():(R.Deferred.getErrorHook?Fn.error=R.Deferred.getErrorHook():R.Deferred.getStackHook&&(Fn.error=R.Deferred.getStackHook()),e.setTimeout(Fn))}}return R.Deferred(function(dt){se[0][3].add(Ve(0,dt,T(ke)?ke:Oe,dt.notifyWith)),se[1][3].add(Ve(0,dt,T(me)?me:Oe)),se[2][3].add(Ve(0,dt,T(ye)?ye:Be))}).promise()},promise:function(me){return me!=null?R.extend(me,ce):ce}},pe={};return R.each(se,function(me,ye){var ke=ye[2],Ie=ye[5];ce[ye[1]]=ke.add,Ie&&ke.add(function(){ue=Ie},se[3-me][2].disable,se[3-me][3].disable,se[0][2].lock,se[0][3].lock),ke.add(ye[3].fire),pe[ye[0]]=function(){return pe[ye[0]+"With"](this===pe?void 0:this,arguments),this},pe[ye[0]+"With"]=ke.fireWith}),ce.promise(pe),ee&&ee.call(pe,pe),pe},when:function(ee){var se=arguments.length,ue=se,ce=Array(ue),pe=u.call(arguments),me=R.Deferred(),ye=function(ke){return function(Ie){ce[ke]=this,pe[ke]=arguments.length>1?u.call(arguments):Ie,--se||me.resolveWith(ce,pe)}};if(se<=1&&(he(ee,me.done(ye(ue)).resolve,me.reject,!se),me.state()==="pending"||T(pe[ue]&&pe[ue].then)))return me.then();for(;ue--;)he(pe[ue],ye(ue),me.reject);return me.promise()}});var be=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;R.Deferred.exceptionHook=function(ee,se){e.console&&e.console.warn&&ee&&be.test(ee.name)&&e.console.warn("jQuery.Deferred exception: "+ee.message,ee.stack,se)},R.readyException=function(ee){e.setTimeout(function(){throw ee})};var Ce=R.Deferred();R.fn.ready=function(ee){return Ce.then(ee).catch(function(se){R.readyException(se)}),this},R.extend({isReady:!1,readyWait:1,ready:function(ee){(ee===!0?--R.readyWait:R.isReady)||(R.isReady=!0,!(ee!==!0&&--R.readyWait>0)&&Ce.resolveWith(A,[R]))}}),R.ready.then=Ce.then;function Le(){A.removeEventListener("DOMContentLoaded",Le),e.removeEventListener("load",Le),R.ready()}A.readyState==="complete"||A.readyState!=="loading"&&!A.documentElement.doScroll?e.setTimeout(R.ready):(A.addEventListener("DOMContentLoaded",Le),e.addEventListener("load",Le));var Ue=function(ee,se,ue,ce,pe,me,ye){var ke=0,Ie=ee.length,Ve=ue==null;if(j(ue)==="object"){pe=!0;for(ke in ue)Ue(ee,se,ke,ue[ke],!0,me,ye)}else if(ce!==void 0&&(pe=!0,T(ce)||(ye=!0),Ve&&(ye?(se.call(ee,ce),se=null):(Ve=se,se=function(dt,mt,st){return Ve.call(R(dt),st)})),se))for(;ke<Ie;ke++)se(ee[ke],ue,ye?ce:ce.call(ee[ke],ke,se(ee[ke],ue)));return pe?ee:Ve?se.call(ee):Ie?se(ee[0],ue):me},We=/^-ms-/,ot=/-([a-z])/g;function Rt(ee,se){return se.toUpperCase()}function Et(ee){return ee.replace(We,"ms-").replace(ot,Rt)}var yt=function(ee){return ee.nodeType===1||ee.nodeType===9||!+ee.nodeType};function Nt(){this.expando=R.expando+Nt.uid++}Nt.uid=1,Nt.prototype={cache:function(ee){var se=ee[this.expando];return se||(se={},yt(ee)&&(ee.nodeType?ee[this.expando]=se:Object.defineProperty(ee,this.expando,{value:se,configurable:!0}))),se},set:function(ee,se,ue){var ce,pe=this.cache(ee);if(typeof se=="string")pe[Et(se)]=ue;else for(ce in se)pe[Et(ce)]=se[ce];return pe},get:function(ee,se){return se===void 0?this.cache(ee):ee[this.expando]&&ee[this.expando][Et(se)]},access:function(ee,se,ue){return se===void 0||se&&typeof se=="string"&&ue===void 0?this.get(ee,se):(this.set(ee,se,ue),ue!==void 0?ue:se)},remove:function(ee,se){var ue,ce=ee[this.expando];if(ce!==void 0){if(se!==void 0)for(Array.isArray(se)?se=se.map(Et):(se=Et(se),se=se in ce?[se]:se.match(ar)||[]),ue=se.length;ue--;)delete ce[se[ue]];(se===void 0||R.isEmptyObject(ce))&&(ee.nodeType?ee[this.expando]=void 0:delete ee[this.expando])}},hasData:function(ee){var se=ee[this.expando];return se!==void 0&&!R.isEmptyObject(se)}};var St=new Nt,kt=new Nt,Pe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ve=/[A-Z]/g;function ut(ee){return ee==="true"?!0:ee==="false"?!1:ee==="null"?null:ee===+ee+""?+ee:Pe.test(ee)?JSON.parse(ee):ee}function wt(ee,se,ue){var ce;if(ue===void 0&&ee.nodeType===1)if(ce="data-"+se.replace(ve,"-$&").toLowerCase(),ue=ee.getAttribute(ce),typeof ue=="string"){try{ue=ut(ue)}catch{}kt.set(ee,se,ue)}else ue=void 0;return ue}R.extend({hasData:function(ee){return kt.hasData(ee)||St.hasData(ee)},data:function(ee,se,ue){return kt.access(ee,se,ue)},removeData:function(ee,se){kt.remove(ee,se)},_data:function(ee,se,ue){return St.access(ee,se,ue)},_removeData:function(ee,se){St.remove(ee,se)}}),R.fn.extend({data:function(ee,se){var ue,ce,pe,me=this[0],ye=me&&me.attributes;if(ee===void 0){if(this.length&&(pe=kt.get(me),me.nodeType===1&&!St.get(me,"hasDataAttrs"))){for(ue=ye.length;ue--;)ye[ue]&&(ce=ye[ue].name,ce.indexOf("data-")===0&&(ce=Et(ce.slice(5)),wt(me,ce,pe[ce])));St.set(me,"hasDataAttrs",!0)}return pe}return typeof ee=="object"?this.each(function(){kt.set(this,ee)}):Ue(this,function(ke){var Ie;if(me&&ke===void 0)return Ie=kt.get(me,ee),Ie!==void 0||(Ie=wt(me,ee),Ie!==void 0)?Ie:void 0;this.each(function(){kt.set(this,ee,ke)})},null,se,arguments.length>1,null,!0)},removeData:function(ee){return this.each(function(){kt.remove(this,ee)})}}),R.extend({queue:function(ee,se,ue){var ce;if(ee)return se=(se||"fx")+"queue",ce=St.get(ee,se),ue&&(!ce||Array.isArray(ue)?ce=St.access(ee,se,R.makeArray(ue)):ce.push(ue)),ce||[]},dequeue:function(ee,se){se=se||"fx";var ue=R.queue(ee,se),ce=ue.length,pe=ue.shift(),me=R._queueHooks(ee,se),ye=function(){R.dequeue(ee,se)};pe==="inprogress"&&(pe=ue.shift(),ce--),pe&&(se==="fx"&&ue.unshift("inprogress"),delete me.stop,pe.call(ee,ye,me)),!ce&&me&&me.empty.fire()},_queueHooks:function(ee,se){var ue=se+"queueHooks";return St.get(ee,ue)||St.access(ee,ue,{empty:R.Callbacks("once memory").add(function(){St.remove(ee,[se+"queue",ue])})})}}),R.fn.extend({queue:function(ee,se){var ue=2;return typeof ee!="string"&&(se=ee,ee="fx",ue--),arguments.length<ue?R.queue(this[0],ee):se===void 0?this:this.each(function(){var ce=R.queue(this,ee,se);R._queueHooks(this,ee),ee==="fx"&&ce[0]!=="inprogress"&&R.dequeue(this,ee)})},dequeue:function(ee){return this.each(function(){R.dequeue(this,ee)})},clearQueue:function(ee){return this.queue(ee||"fx",[])},promise:function(ee,se){var ue,ce=1,pe=R.Deferred(),me=this,ye=this.length,ke=function(){--ce||pe.resolveWith(me,[me])};for(typeof ee!="string"&&(se=ee,ee=void 0),ee=ee||"fx";ye--;)ue=St.get(me[ye],ee+"queueHooks"),ue&&ue.empty&&(ce++,ue.empty.add(ke));return ke(),pe.promise(se)}});var Tt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Vt=new RegExp("^(?:([+-])=|)("+Tt+")([a-z%]*)$","i"),Gt=["Top","Right","Bottom","Left"],Qt=A.documentElement,qt=function(ee){return R.contains(ee.ownerDocument,ee)},ht={composed:!0};Qt.getRootNode&&(qt=function(ee){return R.contains(ee.ownerDocument,ee)||ee.getRootNode(ht)===ee.ownerDocument});var jt=function(ee,se){return ee=se||ee,ee.style.display==="none"||ee.style.display===""&&qt(ee)&&R.css(ee,"display")==="none"};function tr(ee,se,ue,ce){var pe,me,ye=20,ke=ce?function(){return ce.cur()}:function(){return R.css(ee,se,"")},Ie=ke(),Ve=ue&&ue[3]||(R.cssNumber[se]?"":"px"),dt=ee.nodeType&&(R.cssNumber[se]||Ve!=="px"&&+Ie)&&Vt.exec(R.css(ee,se));if(dt&&dt[3]!==Ve){for(Ie=Ie/2,Ve=Ve||dt[3],dt=+Ie||1;ye--;)R.style(ee,se,dt+Ve),(1-me)*(1-(me=ke()/Ie||.5))<=0&&(ye=0),dt=dt/me;dt=dt*2,R.style(ee,se,dt+Ve),ue=ue||[]}return ue&&(dt=+dt||+Ie||0,pe=ue[1]?dt+(ue[1]+1)*ue[2]:+ue[2],ce&&(ce.unit=Ve,ce.start=dt,ce.end=pe)),pe}var It={};function Ar(ee){var se,ue=ee.ownerDocument,ce=ee.nodeName,pe=It[ce];return pe||(se=ue.body.appendChild(ue.createElement(ce)),pe=R.css(se,"display"),se.parentNode.removeChild(se),pe==="none"&&(pe="block"),It[ce]=pe,pe)}function cr(ee,se){for(var ue,ce,pe=[],me=0,ye=ee.length;me<ye;me++)ce=ee[me],ce.style&&(ue=ce.style.display,se?(ue==="none"&&(pe[me]=St.get(ce,"display")||null,pe[me]||(ce.style.display="")),ce.style.display===""&&jt(ce)&&(pe[me]=Ar(ce))):ue!=="none"&&(pe[me]="none",St.set(ce,"display",ue)));for(me=0;me<ye;me++)pe[me]!=null&&(ee[me].style.display=pe[me]);return ee}R.fn.extend({show:function(){return cr(this,!0)},hide:function(){return cr(this)},toggle:function(ee){return typeof ee=="boolean"?ee?this.show():this.hide():this.each(function(){jt(this)?R(this).show():R(this).hide()})}});var yr=/^(?:checkbox|radio)$/i,Wr=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ht=/^$|^module$|\/(?:java|ecma)script/i;(function(){var ee=A.createDocumentFragment(),se=ee.appendChild(A.createElement("div")),ue=A.createElement("input");ue.setAttribute("type","radio"),ue.setAttribute("checked","checked"),ue.setAttribute("name","t"),se.appendChild(ue),w.checkClone=se.cloneNode(!0).cloneNode(!0).lastChild.checked,se.innerHTML="<textarea>x</textarea>",w.noCloneChecked=!!se.cloneNode(!0).lastChild.defaultValue,se.innerHTML="<option></option>",w.option=!!se.lastChild})();var dr={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};dr.tbody=dr.tfoot=dr.colgroup=dr.caption=dr.thead,dr.th=dr.td,w.option||(dr.optgroup=dr.option=[1,"<select multiple='multiple'>","</select>"]);function ir(ee,se){var ue;return typeof ee.getElementsByTagName<"u"?ue=ee.getElementsByTagName(se||"*"):typeof ee.querySelectorAll<"u"?ue=ee.querySelectorAll(se||"*"):ue=[],se===void 0||se&&F(ee,se)?R.merge([ee],ue):ue}function Pr(ee,se){for(var ue=0,ce=ee.length;ue<ce;ue++)St.set(ee[ue],"globalEval",!se||St.get(se[ue],"globalEval"))}var Cn=/<|&#?\w+;/;function lr(ee,se,ue,ce,pe){for(var me,ye,ke,Ie,Ve,dt,mt=se.createDocumentFragment(),st=[],At=0,gr=ee.length;At<gr;At++)if(me=ee[At],me||me===0)if(j(me)==="object")R.merge(st,me.nodeType?[me]:me);else if(!Cn.test(me))st.push(se.createTextNode(me));else{for(ye=ye||mt.appendChild(se.createElement("div")),ke=(Wr.exec(me)||["",""])[1].toLowerCase(),Ie=dr[ke]||dr._default,ye.innerHTML=Ie[1]+R.htmlPrefilter(me)+Ie[2],dt=Ie[0];dt--;)ye=ye.lastChild;R.merge(st,ye.childNodes),ye=mt.firstChild,ye.textContent=""}for(mt.textContent="",At=0;me=st[At++];){if(ce&&R.inArray(me,ce)>-1){pe&&pe.push(me);continue}if(Ve=qt(me),ye=ir(mt.appendChild(me),"script"),Ve&&Pr(ye),ue)for(dt=0;me=ye[dt++];)Ht.test(me.type||"")&&ue.push(me)}return mt}var wn=/^([^.]*)(?:\.(.+)|)/;function pn(){return!0}function $e(){return!1}function qe(ee,se,ue,ce,pe,me){var ye,ke;if(typeof se=="object"){typeof ue!="string"&&(ce=ce||ue,ue=void 0);for(ke in se)qe(ee,ke,ue,ce,se[ke],me);return ee}if(ce==null&&pe==null?(pe=ue,ce=ue=void 0):pe==null&&(typeof ue=="string"?(pe=ce,ce=void 0):(pe=ce,ce=ue,ue=void 0)),pe===!1)pe=$e;else if(!pe)return ee;return me===1&&(ye=pe,pe=function(Ie){return R().off(Ie),ye.apply(this,arguments)},pe.guid=ye.guid||(ye.guid=R.guid++)),ee.each(function(){R.event.add(this,se,pe,ce,ue)})}R.event={global:{},add:function(ee,se,ue,ce,pe){var me,ye,ke,Ie,Ve,dt,mt,st,At,gr,Gr,Cr=St.get(ee);if(yt(ee))for(ue.handler&&(me=ue,ue=me.handler,pe=me.selector),pe&&R.find.matchesSelector(Qt,pe),ue.guid||(ue.guid=R.guid++),(Ie=Cr.events)||(Ie=Cr.events=Object.create(null)),(ye=Cr.handle)||(ye=Cr.handle=function(Fn){return typeof R<"u"&&R.event.triggered!==Fn.type?R.event.dispatch.apply(ee,arguments):void 0}),se=(se||"").match(ar)||[""],Ve=se.length;Ve--;)ke=wn.exec(se[Ve])||[],At=Gr=ke[1],gr=(ke[2]||"").split(".").sort(),At&&(mt=R.event.special[At]||{},At=(pe?mt.delegateType:mt.bindType)||At,mt=R.event.special[At]||{},dt=R.extend({type:At,origType:Gr,data:ce,handler:ue,guid:ue.guid,selector:pe,needsContext:pe&&R.expr.match.needsContext.test(pe),namespace:gr.join(".")},me),(st=Ie[At])||(st=Ie[At]=[],st.delegateCount=0,(!mt.setup||mt.setup.call(ee,ce,gr,ye)===!1)&&ee.addEventListener&&ee.addEventListener(At,ye)),mt.add&&(mt.add.call(ee,dt),dt.handler.guid||(dt.handler.guid=ue.guid)),pe?st.splice(st.delegateCount++,0,dt):st.push(dt),R.event.global[At]=!0)},remove:function(ee,se,ue,ce,pe){var me,ye,ke,Ie,Ve,dt,mt,st,At,gr,Gr,Cr=St.hasData(ee)&&St.get(ee);if(!(!Cr||!(Ie=Cr.events))){for(se=(se||"").match(ar)||[""],Ve=se.length;Ve--;){if(ke=wn.exec(se[Ve])||[],At=Gr=ke[1],gr=(ke[2]||"").split(".").sort(),!At){for(At in Ie)R.event.remove(ee,At+se[Ve],ue,ce,!0);continue}for(mt=R.event.special[At]||{},At=(ce?mt.delegateType:mt.bindType)||At,st=Ie[At]||[],ke=ke[2]&&new RegExp("(^|\\.)"+gr.join("\\.(?:.*\\.|)")+"(\\.|$)"),ye=me=st.length;me--;)dt=st[me],(pe||Gr===dt.origType)&&(!ue||ue.guid===dt.guid)&&(!ke||ke.test(dt.namespace))&&(!ce||ce===dt.selector||ce==="**"&&dt.selector)&&(st.splice(me,1),dt.selector&&st.delegateCount--,mt.remove&&mt.remove.call(ee,dt));ye&&!st.length&&((!mt.teardown||mt.teardown.call(ee,gr,Cr.handle)===!1)&&R.removeEvent(ee,At,Cr.handle),delete Ie[At])}R.isEmptyObject(Ie)&&St.remove(ee,"handle events")}},dispatch:function(ee){var se,ue,ce,pe,me,ye,ke=new Array(arguments.length),Ie=R.event.fix(ee),Ve=(St.get(this,"events")||Object.create(null))[Ie.type]||[],dt=R.event.special[Ie.type]||{};for(ke[0]=Ie,se=1;se<arguments.length;se++)ke[se]=arguments[se];if(Ie.delegateTarget=this,!(dt.preDispatch&&dt.preDispatch.call(this,Ie)===!1)){for(ye=R.event.handlers.call(this,Ie,Ve),se=0;(pe=ye[se++])&&!Ie.isPropagationStopped();)for(Ie.currentTarget=pe.elem,ue=0;(me=pe.handlers[ue++])&&!Ie.isImmediatePropagationStopped();)(!Ie.rnamespace||me.namespace===!1||Ie.rnamespace.test(me.namespace))&&(Ie.handleObj=me,Ie.data=me.data,ce=((R.event.special[me.origType]||{}).handle||me.handler).apply(pe.elem,ke),ce!==void 0&&(Ie.result=ce)===!1&&(Ie.preventDefault(),Ie.stopPropagation()));return dt.postDispatch&&dt.postDispatch.call(this,Ie),Ie.result}},handlers:function(ee,se){var ue,ce,pe,me,ye,ke=[],Ie=se.delegateCount,Ve=ee.target;if(Ie&&Ve.nodeType&&!(ee.type==="click"&&ee.button>=1)){for(;Ve!==this;Ve=Ve.parentNode||this)if(Ve.nodeType===1&&!(ee.type==="click"&&Ve.disabled===!0)){for(me=[],ye={},ue=0;ue<Ie;ue++)ce=se[ue],pe=ce.selector+" ",ye[pe]===void 0&&(ye[pe]=ce.needsContext?R(pe,this).index(Ve)>-1:R.find(pe,this,null,[Ve]).length),ye[pe]&&me.push(ce);me.length&&ke.push({elem:Ve,handlers:me})}}return Ve=this,Ie<se.length&&ke.push({elem:Ve,handlers:se.slice(Ie)}),ke},addProp:function(ee,se){Object.defineProperty(R.Event.prototype,ee,{enumerable:!0,configurable:!0,get:T(se)?function(){if(this.originalEvent)return se(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[ee]},set:function(ue){Object.defineProperty(this,ee,{enumerable:!0,configurable:!0,writable:!0,value:ue})}})},fix:function(ee){return ee[R.expando]?ee:new R.Event(ee)},special:{load:{noBubble:!0},click:{setup:function(ee){var se=this||ee;return yr.test(se.type)&&se.click&&F(se,"input")&&Ze(se,"click",!0),!1},trigger:function(ee){var se=this||ee;return yr.test(se.type)&&se.click&&F(se,"input")&&Ze(se,"click"),!0},_default:function(ee){var se=ee.target;return yr.test(se.type)&&se.click&&F(se,"input")&&St.get(se,"click")||F(se,"a")}},beforeunload:{postDispatch:function(ee){ee.result!==void 0&&ee.originalEvent&&(ee.originalEvent.returnValue=ee.result)}}}};function Ze(ee,se,ue){if(!ue){St.get(ee,se)===void 0&&R.event.add(ee,se,pn);return}St.set(ee,se,!1),R.event.add(ee,se,{namespace:!1,handler:function(ce){var pe,me=St.get(this,se);if(ce.isTrigger&1&&this[se]){if(me)(R.event.special[se]||{}).delegateType&&ce.stopPropagation();else if(me=u.call(arguments),St.set(this,se,me),this[se](),pe=St.get(this,se),St.set(this,se,!1),me!==pe)return ce.stopImmediatePropagation(),ce.preventDefault(),pe}else me&&(St.set(this,se,R.event.trigger(me[0],me.slice(1),this)),ce.stopPropagation(),ce.isImmediatePropagationStopped=pn)}})}R.removeEvent=function(ee,se,ue){ee.removeEventListener&&ee.removeEventListener(se,ue)},R.Event=function(ee,se){if(!(this instanceof R.Event))return new R.Event(ee,se);ee&&ee.type?(this.originalEvent=ee,this.type=ee.type,this.isDefaultPrevented=ee.defaultPrevented||ee.defaultPrevented===void 0&&ee.returnValue===!1?pn:$e,this.target=ee.target&&ee.target.nodeType===3?ee.target.parentNode:ee.target,this.currentTarget=ee.currentTarget,this.relatedTarget=ee.relatedTarget):this.type=ee,se&&R.extend(this,se),this.timeStamp=ee&&ee.timeStamp||Date.now(),this[R.expando]=!0},R.Event.prototype={constructor:R.Event,isDefaultPrevented:$e,isPropagationStopped:$e,isImmediatePropagationStopped:$e,isSimulated:!1,preventDefault:function(){var ee=this.originalEvent;this.isDefaultPrevented=pn,ee&&!this.isSimulated&&ee.preventDefault()},stopPropagation:function(){var ee=this.originalEvent;this.isPropagationStopped=pn,ee&&!this.isSimulated&&ee.stopPropagation()},stopImmediatePropagation:function(){var ee=this.originalEvent;this.isImmediatePropagationStopped=pn,ee&&!this.isSimulated&&ee.stopImmediatePropagation(),this.stopPropagation()}},R.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},R.event.addProp),R.each({focus:"focusin",blur:"focusout"},function(ee,se){function ue(ce){if(A.documentMode){var pe=St.get(this,"handle"),me=R.event.fix(ce);me.type=ce.type==="focusin"?"focus":"blur",me.isSimulated=!0,pe(ce),me.target===me.currentTarget&&pe(me)}else R.event.simulate(se,ce.target,R.event.fix(ce))}R.event.special[ee]={setup:function(){var ce;if(Ze(this,ee,!0),A.documentMode)ce=St.get(this,se),ce||this.addEventListener(se,ue),St.set(this,se,(ce||0)+1);else return!1},trigger:function(){return Ze(this,ee),!0},teardown:function(){var ce;if(A.documentMode)ce=St.get(this,se)-1,ce?St.set(this,se,ce):(this.removeEventListener(se,ue),St.remove(this,se));else return!1},_default:function(ce){return St.get(ce.target,ee)},delegateType:se},R.event.special[se]={setup:function(){var ce=this.ownerDocument||this.document||this,pe=A.documentMode?this:ce,me=St.get(pe,se);me||(A.documentMode?this.addEventListener(se,ue):ce.addEventListener(ee,ue,!0)),St.set(pe,se,(me||0)+1)},teardown:function(){var ce=this.ownerDocument||this.document||this,pe=A.documentMode?this:ce,me=St.get(pe,se)-1;me?St.set(pe,se,me):(A.documentMode?this.removeEventListener(se,ue):ce.removeEventListener(ee,ue,!0),St.remove(pe,se))}}}),R.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(ee,se){R.event.special[ee]={delegateType:se,bindType:se,handle:function(ue){var ce,pe=this,me=ue.relatedTarget,ye=ue.handleObj;return(!me||me!==pe&&!R.contains(pe,me))&&(ue.type=ye.origType,ce=ye.handler.apply(this,arguments),ue.type=se),ce}}}),R.fn.extend({on:function(ee,se,ue,ce){return qe(this,ee,se,ue,ce)},one:function(ee,se,ue,ce){return qe(this,ee,se,ue,ce,1)},off:function(ee,se,ue){var ce,pe;if(ee&&ee.preventDefault&&ee.handleObj)return ce=ee.handleObj,R(ee.delegateTarget).off(ce.namespace?ce.origType+"."+ce.namespace:ce.origType,ce.selector,ce.handler),this;if(typeof ee=="object"){for(pe in ee)this.off(pe,se,ee[pe]);return this}return(se===!1||typeof se=="function")&&(ue=se,se=void 0),ue===!1&&(ue=$e),this.each(function(){R.event.remove(this,ee,ue,se)})}});var _t=/<script|<style|<link/i,Mt=/checked\s*(?:[^=]|=\s*.checked.)/i,Xt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ot(ee,se){return F(ee,"table")&&F(se.nodeType!==11?se:se.firstChild,"tr")&&R(ee).children("tbody")[0]||ee}function Lt(ee){return ee.type=(ee.getAttribute("type")!==null)+"/"+ee.type,ee}function Bt(ee){return(ee.type||"").slice(0,5)==="true/"?ee.type=ee.type.slice(5):ee.removeAttribute("type"),ee}function Ut(ee,se){var ue,ce,pe,me,ye,ke,Ie;if(se.nodeType===1){if(St.hasData(ee)&&(me=St.get(ee),Ie=me.events,Ie)){St.remove(se,"handle events");for(pe in Ie)for(ue=0,ce=Ie[pe].length;ue<ce;ue++)R.event.add(se,pe,Ie[pe][ue])}kt.hasData(ee)&&(ye=kt.access(ee),ke=R.extend({},ye),kt.set(se,ke))}}function sr(ee,se){var ue=se.nodeName.toLowerCase();ue==="input"&&yr.test(ee.type)?se.checked=ee.checked:(ue==="input"||ue==="textarea")&&(se.defaultValue=ee.defaultValue)}function Kt(ee,se,ue,ce){se=l(se);var pe,me,ye,ke,Ie,Ve,dt=0,mt=ee.length,st=mt-1,At=se[0],gr=T(At);if(gr||mt>1&&typeof At=="string"&&!w.checkClone&&Mt.test(At))return ee.each(function(Gr){var Cr=ee.eq(Gr);gr&&(se[0]=At.call(this,Gr,Cr.html())),Kt(Cr,se,ue,ce)});if(mt&&(pe=lr(se,ee[0].ownerDocument,!1,ee,ce),me=pe.firstChild,pe.childNodes.length===1&&(pe=me),me||ce)){for(ye=R.map(ir(pe,"script"),Lt),ke=ye.length;dt<mt;dt++)Ie=pe,dt!==st&&(Ie=R.clone(Ie,!0,!0),ke&&R.merge(ye,ir(Ie,"script"))),ue.call(ee[dt],Ie,dt);if(ke)for(Ve=ye[ye.length-1].ownerDocument,R.map(ye,Bt),dt=0;dt<ke;dt++)Ie=ye[dt],Ht.test(Ie.type||"")&&!St.access(Ie,"globalEval")&&R.contains(Ve,Ie)&&(Ie.src&&(Ie.type||"").toLowerCase()!=="module"?R._evalUrl&&!Ie.noModule&&R._evalUrl(Ie.src,{nonce:Ie.nonce||Ie.getAttribute("nonce")},Ve):k(Ie.textContent.replace(Xt,""),Ie,Ve))}return ee}function xr(ee,se,ue){for(var ce,pe=se?R.filter(se,ee):ee,me=0;(ce=pe[me])!=null;me++)!ue&&ce.nodeType===1&&R.cleanData(ir(ce)),ce.parentNode&&(ue&&qt(ce)&&Pr(ir(ce,"script")),ce.parentNode.removeChild(ce));return ee}R.extend({htmlPrefilter:function(ee){return ee},clone:function(ee,se,ue){var ce,pe,me,ye,ke=ee.cloneNode(!0),Ie=qt(ee);if(!w.noCloneChecked&&(ee.nodeType===1||ee.nodeType===11)&&!R.isXMLDoc(ee))for(ye=ir(ke),me=ir(ee),ce=0,pe=me.length;ce<pe;ce++)sr(me[ce],ye[ce]);if(se)if(ue)for(me=me||ir(ee),ye=ye||ir(ke),ce=0,pe=me.length;ce<pe;ce++)Ut(me[ce],ye[ce]);else Ut(ee,ke);return ye=ir(ke,"script"),ye.length>0&&Pr(ye,!Ie&&ir(ee,"script")),ke},cleanData:function(ee){for(var se,ue,ce,pe=R.event.special,me=0;(ue=ee[me])!==void 0;me++)if(yt(ue)){if(se=ue[St.expando]){if(se.events)for(ce in se.events)pe[ce]?R.event.remove(ue,ce):R.removeEvent(ue,ce,se.handle);ue[St.expando]=void 0}ue[kt.expando]&&(ue[kt.expando]=void 0)}}}),R.fn.extend({detach:function(ee){return xr(this,ee,!0)},remove:function(ee){return xr(this,ee)},text:function(ee){return Ue(this,function(se){return se===void 0?R.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=se)})},null,ee,arguments.length)},append:function(){return Kt(this,arguments,function(ee){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var se=Ot(this,ee);se.appendChild(ee)}})},prepend:function(){return Kt(this,arguments,function(ee){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var se=Ot(this,ee);se.insertBefore(ee,se.firstChild)}})},before:function(){return Kt(this,arguments,function(ee){this.parentNode&&this.parentNode.insertBefore(ee,this)})},after:function(){return Kt(this,arguments,function(ee){this.parentNode&&this.parentNode.insertBefore(ee,this.nextSibling)})},empty:function(){for(var ee,se=0;(ee=this[se])!=null;se++)ee.nodeType===1&&(R.cleanData(ir(ee,!1)),ee.textContent="");return this},clone:function(ee,se){return ee=ee??!1,se=se??ee,this.map(function(){return R.clone(this,ee,se)})},html:function(ee){return Ue(this,function(se){var ue=this[0]||{},ce=0,pe=this.length;if(se===void 0&&ue.nodeType===1)return ue.innerHTML;if(typeof se=="string"&&!_t.test(se)&&!dr[(Wr.exec(se)||["",""])[1].toLowerCase()]){se=R.htmlPrefilter(se);try{for(;ce<pe;ce++)ue=this[ce]||{},ue.nodeType===1&&(R.cleanData(ir(ue,!1)),ue.innerHTML=se);ue=0}catch{}}ue&&this.empty().append(se)},null,ee,arguments.length)},replaceWith:function(){var ee=[];return Kt(this,arguments,function(se){var ue=this.parentNode;R.inArray(this,ee)<0&&(R.cleanData(ir(this)),ue&&ue.replaceChild(se,this))},ee)}}),R.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(ee,se){R.fn[ee]=function(ue){for(var ce,pe=[],me=R(ue),ye=me.length-1,ke=0;ke<=ye;ke++)ce=ke===ye?this:this.clone(!0),R(me[ke])[se](ce),c.apply(pe,ce.get());return this.pushStack(pe)}});var _r=new RegExp("^("+Tt+")(?!px)[a-z%]+$","i"),en=/^--/,zr=function(ee){var se=ee.ownerDocument.defaultView;return(!se||!se.opener)&&(se=e),se.getComputedStyle(ee)},sn=function(ee,se,ue){var ce,pe,me={};for(pe in se)me[pe]=ee.style[pe],ee.style[pe]=se[pe];ce=ue.call(ee);for(pe in se)ee.style[pe]=me[pe];return ce},Er=new RegExp(Gt.join("|"),"i");(function(){function ee(){if(Ve){Ie.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ve.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Qt.appendChild(Ie).appendChild(Ve);var dt=e.getComputedStyle(Ve);ue=dt.top!=="1%",ke=se(dt.marginLeft)===12,Ve.style.right="60%",me=se(dt.right)===36,ce=se(dt.width)===36,Ve.style.position="absolute",pe=se(Ve.offsetWidth/3)===12,Qt.removeChild(Ie),Ve=null}}function se(dt){return Math.round(parseFloat(dt))}var ue,ce,pe,me,ye,ke,Ie=A.createElement("div"),Ve=A.createElement("div");Ve.style&&(Ve.style.backgroundClip="content-box",Ve.cloneNode(!0).style.backgroundClip="",w.clearCloneStyle=Ve.style.backgroundClip==="content-box",R.extend(w,{boxSizingReliable:function(){return ee(),ce},pixelBoxStyles:function(){return ee(),me},pixelPosition:function(){return ee(),ue},reliableMarginLeft:function(){return ee(),ke},scrollboxSize:function(){return ee(),pe},reliableTrDimensions:function(){var dt,mt,st,At;return ye==null&&(dt=A.createElement("table"),mt=A.createElement("tr"),st=A.createElement("div"),dt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",mt.style.cssText="box-sizing:content-box;border:1px solid",mt.style.height="1px",st.style.height="9px",st.style.display="block",Qt.appendChild(dt).appendChild(mt).appendChild(st),At=e.getComputedStyle(mt),ye=parseInt(At.height,10)+parseInt(At.borderTopWidth,10)+parseInt(At.borderBottomWidth,10)===mt.offsetHeight,Qt.removeChild(dt)),ye}}))})();function an(ee,se,ue){var ce,pe,me,ye,ke=en.test(se),Ie=ee.style;return ue=ue||zr(ee),ue&&(ye=ue.getPropertyValue(se)||ue[se],ke&&ye&&(ye=ye.replace(oe,"$1")||void 0),ye===""&&!qt(ee)&&(ye=R.style(ee,se)),!w.pixelBoxStyles()&&_r.test(ye)&&Er.test(se)&&(ce=Ie.width,pe=Ie.minWidth,me=Ie.maxWidth,Ie.minWidth=Ie.maxWidth=Ie.width=ye,ye=ue.width,Ie.width=ce,Ie.minWidth=pe,Ie.maxWidth=me)),ye!==void 0?ye+"":ye}function In(ee,se){return{get:function(){if(ee()){delete this.get;return}return(this.get=se).apply(this,arguments)}}}var on=["Webkit","Moz","ms"],Pn=A.createElement("div").style,Dn={};function ei(ee){for(var se=ee[0].toUpperCase()+ee.slice(1),ue=on.length;ue--;)if(ee=on[ue]+se,ee in Pn)return ee}function zn(ee){var se=R.cssProps[ee]||Dn[ee];return se||(ee in Pn?ee:Dn[ee]=ei(ee)||ee)}var hi=/^(none|table(?!-c[ea]).+)/,gi={position:"absolute",visibility:"hidden",display:"block"},ci={letterSpacing:"0",fontWeight:"400"};function Sr(ee,se,ue){var ce=Vt.exec(se);return ce?Math.max(0,ce[2]-(ue||0))+(ce[3]||"px"):se}function Zr(ee,se,ue,ce,pe,me){var ye=se==="width"?1:0,ke=0,Ie=0,Ve=0;if(ue===(ce?"border":"content"))return 0;for(;ye<4;ye+=2)ue==="margin"&&(Ve+=R.css(ee,ue+Gt[ye],!0,pe)),ce?(ue==="content"&&(Ie-=R.css(ee,"padding"+Gt[ye],!0,pe)),ue!=="margin"&&(Ie-=R.css(ee,"border"+Gt[ye]+"Width",!0,pe))):(Ie+=R.css(ee,"padding"+Gt[ye],!0,pe),ue!=="padding"?Ie+=R.css(ee,"border"+Gt[ye]+"Width",!0,pe):ke+=R.css(ee,"border"+Gt[ye]+"Width",!0,pe));return!ce&&me>=0&&(Ie+=Math.max(0,Math.ceil(ee["offset"+se[0].toUpperCase()+se.slice(1)]-me-Ie-ke-.5))||0),Ie+Ve}function Hr(ee,se,ue){var ce=zr(ee),pe=!w.boxSizingReliable()||ue,me=pe&&R.css(ee,"boxSizing",!1,ce)==="border-box",ye=me,ke=an(ee,se,ce),Ie="offset"+se[0].toUpperCase()+se.slice(1);if(_r.test(ke)){if(!ue)return ke;ke="auto"}return(!w.boxSizingReliable()&&me||!w.reliableTrDimensions()&&F(ee,"tr")||ke==="auto"||!parseFloat(ke)&&R.css(ee,"display",!1,ce)==="inline")&&ee.getClientRects().length&&(me=R.css(ee,"boxSizing",!1,ce)==="border-box",ye=Ie in ee,ye&&(ke=ee[Ie])),ke=parseFloat(ke)||0,ke+Zr(ee,se,ue||(me?"border":"content"),ye,ce,ke)+"px"}R.extend({cssHooks:{opacity:{get:function(ee,se){if(se){var ue=an(ee,"opacity");return ue===""?"1":ue}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(ee,se,ue,ce){if(!(!ee||ee.nodeType===3||ee.nodeType===8||!ee.style)){var pe,me,ye,ke=Et(se),Ie=en.test(se),Ve=ee.style;if(Ie||(se=zn(ke)),ye=R.cssHooks[se]||R.cssHooks[ke],ue!==void 0){if(me=typeof ue,me==="string"&&(pe=Vt.exec(ue))&&pe[1]&&(ue=tr(ee,se,pe),me="number"),ue==null||ue!==ue)return;me==="number"&&!Ie&&(ue+=pe&&pe[3]||(R.cssNumber[ke]?"":"px")),!w.clearCloneStyle&&ue===""&&se.indexOf("background")===0&&(Ve[se]="inherit"),(!ye||!("set"in ye)||(ue=ye.set(ee,ue,ce))!==void 0)&&(Ie?Ve.setProperty(se,ue):Ve[se]=ue)}else return ye&&"get"in ye&&(pe=ye.get(ee,!1,ce))!==void 0?pe:Ve[se]}},css:function(ee,se,ue,ce){var pe,me,ye,ke=Et(se),Ie=en.test(se);return Ie||(se=zn(ke)),ye=R.cssHooks[se]||R.cssHooks[ke],ye&&"get"in ye&&(pe=ye.get(ee,!0,ue)),pe===void 0&&(pe=an(ee,se,ce)),pe==="normal"&&se in ci&&(pe=ci[se]),ue===""||ue?(me=parseFloat(pe),ue===!0||isFinite(me)?me||0:pe):pe}}),R.each(["height","width"],function(ee,se){R.cssHooks[se]={get:function(ue,ce,pe){if(ce)return hi.test(R.css(ue,"display"))&&(!ue.getClientRects().length||!ue.getBoundingClientRect().width)?sn(ue,gi,function(){return Hr(ue,se,pe)}):Hr(ue,se,pe)},set:function(ue,ce,pe){var me,ye=zr(ue),ke=!w.scrollboxSize()&&ye.position==="absolute",Ie=ke||pe,Ve=Ie&&R.css(ue,"boxSizing",!1,ye)==="border-box",dt=pe?Zr(ue,se,pe,Ve,ye):0;return Ve&&ke&&(dt-=Math.ceil(ue["offset"+se[0].toUpperCase()+se.slice(1)]-parseFloat(ye[se])-Zr(ue,se,"border",!1,ye)-.5)),dt&&(me=Vt.exec(ce))&&(me[3]||"px")!=="px"&&(ue.style[se]=ce,ce=R.css(ue,se)),Sr(ue,ce,dt)}}}),R.cssHooks.marginLeft=In(w.reliableMarginLeft,function(ee,se){if(se)return(parseFloat(an(ee,"marginLeft"))||ee.getBoundingClientRect().left-sn(ee,{marginLeft:0},function(){return ee.getBoundingClientRect().left}))+"px"}),R.each({margin:"",padding:"",border:"Width"},function(ee,se){R.cssHooks[ee+se]={expand:function(ue){for(var ce=0,pe={},me=typeof ue=="string"?ue.split(" "):[ue];ce<4;ce++)pe[ee+Gt[ce]+se]=me[ce]||me[ce-2]||me[0];return pe}},ee!=="margin"&&(R.cssHooks[ee+se].set=Sr)}),R.fn.extend({css:function(ee,se){return Ue(this,function(ue,ce,pe){var me,ye,ke={},Ie=0;if(Array.isArray(ce)){for(me=zr(ue),ye=ce.length;Ie<ye;Ie++)ke[ce[Ie]]=R.css(ue,ce[Ie],!1,me);return ke}return pe!==void 0?R.style(ue,ce,pe):R.css(ue,ce)},ee,se,arguments.length>1)}});function Lr(ee,se,ue,ce,pe){return new Lr.prototype.init(ee,se,ue,ce,pe)}R.Tween=Lr,Lr.prototype={constructor:Lr,init:function(ee,se,ue,ce,pe,me){this.elem=ee,this.prop=ue,this.easing=pe||R.easing._default,this.options=se,this.start=this.now=this.cur(),this.end=ce,this.unit=me||(R.cssNumber[ue]?"":"px")},cur:function(){var ee=Lr.propHooks[this.prop];return ee&&ee.get?ee.get(this):Lr.propHooks._default.get(this)},run:function(ee){var se,ue=Lr.propHooks[this.prop];return this.options.duration?this.pos=se=R.easing[this.easing](ee,this.options.duration*ee,0,1,this.options.duration):this.pos=se=ee,this.now=(this.end-this.start)*se+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),ue&&ue.set?ue.set(this):Lr.propHooks._default.set(this),this}},Lr.prototype.init.prototype=Lr.prototype,Lr.propHooks={_default:{get:function(ee){var se;return ee.elem.nodeType!==1||ee.elem[ee.prop]!=null&&ee.elem.style[ee.prop]==null?ee.elem[ee.prop]:(se=R.css(ee.elem,ee.prop,""),!se||se==="auto"?0:se)},set:function(ee){R.fx.step[ee.prop]?R.fx.step[ee.prop](ee):ee.elem.nodeType===1&&(R.cssHooks[ee.prop]||ee.elem.style[zn(ee.prop)]!=null)?R.style(ee.elem,ee.prop,ee.now+ee.unit):ee.elem[ee.prop]=ee.now}}},Lr.propHooks.scrollTop=Lr.propHooks.scrollLeft={set:function(ee){ee.elem.nodeType&&ee.elem.parentNode&&(ee.elem[ee.prop]=ee.now)}},R.easing={linear:function(ee){return ee},swing:function(ee){return .5-Math.cos(ee*Math.PI)/2},_default:"swing"},R.fx=Lr.prototype.init,R.fx.step={};var mr,ti,rs=/^(?:toggle|show|hide)$/,ns=/queueHooks$/;function Oi(){ti&&(A.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(Oi):e.setTimeout(Oi,R.fx.interval),R.fx.tick())}function Kn(){return e.setTimeout(function(){mr=void 0}),mr=Date.now()}function Ti(ee,se){var ue,ce=0,pe={height:ee};for(se=se?1:0;ce<4;ce+=2-se)ue=Gt[ce],pe["margin"+ue]=pe["padding"+ue]=ee;return se&&(pe.opacity=pe.width=ee),pe}function Hn(ee,se,ue){for(var ce,pe=(Yn.tweeners[se]||[]).concat(Yn.tweeners["*"]),me=0,ye=pe.length;me<ye;me++)if(ce=pe[me].call(ue,se,ee))return ce}function ki(ee,se,ue){var ce,pe,me,ye,ke,Ie,Ve,dt,mt="width"in se||"height"in se,st=this,At={},gr=ee.style,Gr=ee.nodeType&&jt(ee),Cr=St.get(ee,"fxshow");ue.queue||(ye=R._queueHooks(ee,"fx"),ye.unqueued==null&&(ye.unqueued=0,ke=ye.empty.fire,ye.empty.fire=function(){ye.unqueued||ke()}),ye.unqueued++,st.always(function(){st.always(function(){ye.unqueued--,R.queue(ee,"fx").length||ye.empty.fire()})}));for(ce in se)if(pe=se[ce],rs.test(pe)){if(delete se[ce],me=me||pe==="toggle",pe===(Gr?"hide":"show"))if(pe==="show"&&Cr&&Cr[ce]!==void 0)Gr=!0;else continue;At[ce]=Cr&&Cr[ce]||R.style(ee,ce)}if(Ie=!R.isEmptyObject(se),!(!Ie&&R.isEmptyObject(At))){mt&&ee.nodeType===1&&(ue.overflow=[gr.overflow,gr.overflowX,gr.overflowY],Ve=Cr&&Cr.display,Ve==null&&(Ve=St.get(ee,"display")),dt=R.css(ee,"display"),dt==="none"&&(Ve?dt=Ve:(cr([ee],!0),Ve=ee.style.display||Ve,dt=R.css(ee,"display"),cr([ee]))),(dt==="inline"||dt==="inline-block"&&Ve!=null)&&R.css(ee,"float")==="none"&&(Ie||(st.done(function(){gr.display=Ve}),Ve==null&&(dt=gr.display,Ve=dt==="none"?"":dt)),gr.display="inline-block")),ue.overflow&&(gr.overflow="hidden",st.always(function(){gr.overflow=ue.overflow[0],gr.overflowX=ue.overflow[1],gr.overflowY=ue.overflow[2]})),Ie=!1;for(ce in At)Ie||(Cr?"hidden"in Cr&&(Gr=Cr.hidden):Cr=St.access(ee,"fxshow",{display:Ve}),me&&(Cr.hidden=!Gr),Gr&&cr([ee],!0),st.done(function(){Gr||cr([ee]),St.remove(ee,"fxshow");for(ce in At)R.style(ee,ce,At[ce])})),Ie=Hn(Gr?Cr[ce]:0,ce,st),ce in Cr||(Cr[ce]=Ie.start,Gr&&(Ie.end=Ie.start,Ie.start=0))}}function vs(ee,se){var ue,ce,pe,me,ye;for(ue in ee)if(ce=Et(ue),pe=se[ce],me=ee[ue],Array.isArray(me)&&(pe=me[1],me=ee[ue]=me[0]),ue!==ce&&(ee[ce]=me,delete ee[ue]),ye=R.cssHooks[ce],ye&&"expand"in ye){me=ye.expand(me),delete ee[ce];for(ue in me)ue in ee||(ee[ue]=me[ue],se[ue]=pe)}else se[ce]=pe}function Yn(ee,se,ue){var ce,pe,me=0,ye=Yn.prefilters.length,ke=R.Deferred().always(function(){delete Ie.elem}),Ie=function(){if(pe)return!1;for(var mt=mr||Kn(),st=Math.max(0,Ve.startTime+Ve.duration-mt),At=st/Ve.duration||0,gr=1-At,Gr=0,Cr=Ve.tweens.length;Gr<Cr;Gr++)Ve.tweens[Gr].run(gr);return ke.notifyWith(ee,[Ve,gr,st]),gr<1&&Cr?st:(Cr||ke.notifyWith(ee,[Ve,1,0]),ke.resolveWith(ee,[Ve]),!1)},Ve=ke.promise({elem:ee,props:R.extend({},se),opts:R.extend(!0,{specialEasing:{},easing:R.easing._default},ue),originalProperties:se,originalOptions:ue,startTime:mr||Kn(),duration:ue.duration,tweens:[],createTween:function(mt,st){var At=R.Tween(ee,Ve.opts,mt,st,Ve.opts.specialEasing[mt]||Ve.opts.easing);return Ve.tweens.push(At),At},stop:function(mt){var st=0,At=mt?Ve.tweens.length:0;if(pe)return this;for(pe=!0;st<At;st++)Ve.tweens[st].run(1);return mt?(ke.notifyWith(ee,[Ve,1,0]),ke.resolveWith(ee,[Ve,mt])):ke.rejectWith(ee,[Ve,mt]),this}}),dt=Ve.props;for(vs(dt,Ve.opts.specialEasing);me<ye;me++)if(ce=Yn.prefilters[me].call(Ve,ee,dt,Ve.opts),ce)return T(ce.stop)&&(R._queueHooks(Ve.elem,Ve.opts.queue).stop=ce.stop.bind(ce)),ce;return R.map(dt,Hn,Ve),T(Ve.opts.start)&&Ve.opts.start.call(ee,Ve),Ve.progress(Ve.opts.progress).done(Ve.opts.done,Ve.opts.complete).fail(Ve.opts.fail).always(Ve.opts.always),R.fx.timer(R.extend(Ie,{elem:ee,anim:Ve,queue:Ve.opts.queue})),Ve}R.Animation=R.extend(Yn,{tweeners:{"*":[function(ee,se){var ue=this.createTween(ee,se);return tr(ue.elem,ee,Vt.exec(se),ue),ue}]},tweener:function(ee,se){T(ee)?(se=ee,ee=["*"]):ee=ee.match(ar);for(var ue,ce=0,pe=ee.length;ce<pe;ce++)ue=ee[ce],Yn.tweeners[ue]=Yn.tweeners[ue]||[],Yn.tweeners[ue].unshift(se)},prefilters:[ki],prefilter:function(ee,se){se?Yn.prefilters.unshift(ee):Yn.prefilters.push(ee)}}),R.speed=function(ee,se,ue){var ce=ee&&typeof ee=="object"?R.extend({},ee):{complete:ue||!ue&&se||T(ee)&&ee,duration:ee,easing:ue&&se||se&&!T(se)&&se};return R.fx.off?ce.duration=0:typeof ce.duration!="number"&&(ce.duration in R.fx.speeds?ce.duration=R.fx.speeds[ce.duration]:ce.duration=R.fx.speeds._default),(ce.queue==null||ce.queue===!0)&&(ce.queue="fx"),ce.old=ce.complete,ce.complete=function(){T(ce.old)&&ce.old.call(this),ce.queue&&R.dequeue(this,ce.queue)},ce},R.fn.extend({fadeTo:function(ee,se,ue,ce){return this.filter(jt).css("opacity",0).show().end().animate({opacity:se},ee,ue,ce)},animate:function(ee,se,ue,ce){var pe=R.isEmptyObject(ee),me=R.speed(se,ue,ce),ye=function(){var ke=Yn(this,R.extend({},ee),me);(pe||St.get(this,"finish"))&&ke.stop(!0)};return ye.finish=ye,pe||me.queue===!1?this.each(ye):this.queue(me.queue,ye)},stop:function(ee,se,ue){var ce=function(pe){var me=pe.stop;delete pe.stop,me(ue)};return typeof ee!="string"&&(ue=se,se=ee,ee=void 0),se&&this.queue(ee||"fx",[]),this.each(function(){var pe=!0,me=ee!=null&&ee+"queueHooks",ye=R.timers,ke=St.get(this);if(me)ke[me]&&ke[me].stop&&ce(ke[me]);else for(me in ke)ke[me]&&ke[me].stop&&ns.test(me)&&ce(ke[me]);for(me=ye.length;me--;)ye[me].elem===this&&(ee==null||ye[me].queue===ee)&&(ye[me].anim.stop(ue),pe=!1,ye.splice(me,1));(pe||!ue)&&R.dequeue(this,ee)})},finish:function(ee){return ee!==!1&&(ee=ee||"fx"),this.each(function(){var se,ue=St.get(this),ce=ue[ee+"queue"],pe=ue[ee+"queueHooks"],me=R.timers,ye=ce?ce.length:0;for(ue.finish=!0,R.queue(this,ee,[]),pe&&pe.stop&&pe.stop.call(this,!0),se=me.length;se--;)me[se].elem===this&&me[se].queue===ee&&(me[se].anim.stop(!0),me.splice(se,1));for(se=0;se<ye;se++)ce[se]&&ce[se].finish&&ce[se].finish.call(this);delete ue.finish})}}),R.each(["toggle","show","hide"],function(ee,se){var ue=R.fn[se];R.fn[se]=function(ce,pe,me){return ce==null||typeof ce=="boolean"?ue.apply(this,arguments):this.animate(Ti(se,!0),ce,pe,me)}}),R.each({slideDown:Ti("show"),slideUp:Ti("hide"),slideToggle:Ti("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(ee,se){R.fn[ee]=function(ue,ce,pe){return this.animate(se,ue,ce,pe)}}),R.timers=[],R.fx.tick=function(){var ee,se=0,ue=R.timers;for(mr=Date.now();se<ue.length;se++)ee=ue[se],!ee()&&ue[se]===ee&&ue.splice(se--,1);ue.length||R.fx.stop(),mr=void 0},R.fx.timer=function(ee){R.timers.push(ee),R.fx.start()},R.fx.interval=13,R.fx.start=function(){ti||(ti=!0,Oi())},R.fx.stop=function(){ti=null},R.fx.speeds={slow:600,fast:200,_default:400},R.fn.delay=function(ee,se){return ee=R.fx&&R.fx.speeds[ee]||ee,se=se||"fx",this.queue(se,function(ue,ce){var pe=e.setTimeout(ue,ee);ce.stop=function(){e.clearTimeout(pe)}})},(function(){var ee=A.createElement("input"),se=A.createElement("select"),ue=se.appendChild(A.createElement("option"));ee.type="checkbox",w.checkOn=ee.value!=="",w.optSelected=ue.selected,ee=A.createElement("input"),ee.value="t",ee.type="radio",w.radioValue=ee.value==="t"})();var _i,ji=R.expr.attrHandle;R.fn.extend({attr:function(ee,se){return Ue(this,R.attr,ee,se,arguments.length>1)},removeAttr:function(ee){return this.each(function(){R.removeAttr(this,ee)})}}),R.extend({attr:function(ee,se,ue){var ce,pe,me=ee.nodeType;if(!(me===3||me===8||me===2)){if(typeof ee.getAttribute>"u")return R.prop(ee,se,ue);if((me!==1||!R.isXMLDoc(ee))&&(pe=R.attrHooks[se.toLowerCase()]||(R.expr.match.bool.test(se)?_i:void 0)),ue!==void 0){if(ue===null){R.removeAttr(ee,se);return}return pe&&"set"in pe&&(ce=pe.set(ee,ue,se))!==void 0?ce:(ee.setAttribute(se,ue+""),ue)}return pe&&"get"in pe&&(ce=pe.get(ee,se))!==null?ce:(ce=R.find.attr(ee,se),ce??void 0)}},attrHooks:{type:{set:function(ee,se){if(!w.radioValue&&se==="radio"&&F(ee,"input")){var ue=ee.value;return ee.setAttribute("type",se),ue&&(ee.value=ue),se}}}},removeAttr:function(ee,se){var ue,ce=0,pe=se&&se.match(ar);if(pe&&ee.nodeType===1)for(;ue=pe[ce++];)ee.removeAttribute(ue)}}),_i={set:function(ee,se,ue){return se===!1?R.removeAttr(ee,ue):ee.setAttribute(ue,ue),ue}},R.each(R.expr.match.bool.source.match(/\w+/g),function(ee,se){var ue=ji[se]||R.find.attr;ji[se]=function(ce,pe,me){var ye,ke,Ie=pe.toLowerCase();return me||(ke=ji[Ie],ji[Ie]=ye,ye=ue(ce,pe,me)!=null?Ie:null,ji[Ie]=ke),ye}});var hs=/^(?:input|select|textarea|button)$/i,Bi=/^(?:a|area)$/i;R.fn.extend({prop:function(ee,se){return Ue(this,R.prop,ee,se,arguments.length>1)},removeProp:function(ee){return this.each(function(){delete this[R.propFix[ee]||ee]})}}),R.extend({prop:function(ee,se,ue){var ce,pe,me=ee.nodeType;if(!(me===3||me===8||me===2))return(me!==1||!R.isXMLDoc(ee))&&(se=R.propFix[se]||se,pe=R.propHooks[se]),ue!==void 0?pe&&"set"in pe&&(ce=pe.set(ee,ue,se))!==void 0?ce:ee[se]=ue:pe&&"get"in pe&&(ce=pe.get(ee,se))!==null?ce:ee[se]},propHooks:{tabIndex:{get:function(ee){var se=R.find.attr(ee,"tabindex");return se?parseInt(se,10):hs.test(ee.nodeName)||Bi.test(ee.nodeName)&&ee.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),w.optSelected||(R.propHooks.selected={get:function(ee){var se=ee.parentNode;return se&&se.parentNode&&se.parentNode.selectedIndex,null},set:function(ee){var se=ee.parentNode;se&&(se.selectedIndex,se.parentNode&&se.parentNode.selectedIndex)}}),R.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){R.propFix[this.toLowerCase()]=this});function Ai(ee){var se=ee.match(ar)||[];return se.join(" ")}function bi(ee){return ee.getAttribute&&ee.getAttribute("class")||""}function fi(ee){return Array.isArray(ee)?ee:typeof ee=="string"?ee.match(ar)||[]:[]}R.fn.extend({addClass:function(ee){var se,ue,ce,pe,me,ye;return T(ee)?this.each(function(ke){R(this).addClass(ee.call(this,ke,bi(this)))}):(se=fi(ee),se.length?this.each(function(){if(ce=bi(this),ue=this.nodeType===1&&" "+Ai(ce)+" ",ue){for(me=0;me<se.length;me++)pe=se[me],ue.indexOf(" "+pe+" ")<0&&(ue+=pe+" ");ye=Ai(ue),ce!==ye&&this.setAttribute("class",ye)}}):this)},removeClass:function(ee){var se,ue,ce,pe,me,ye;return T(ee)?this.each(function(ke){R(this).removeClass(ee.call(this,ke,bi(this)))}):arguments.length?(se=fi(ee),se.length?this.each(function(){if(ce=bi(this),ue=this.nodeType===1&&" "+Ai(ce)+" ",ue){for(me=0;me<se.length;me++)for(pe=se[me];ue.indexOf(" "+pe+" ")>-1;)ue=ue.replace(" "+pe+" "," ");ye=Ai(ue),ce!==ye&&this.setAttribute("class",ye)}}):this):this.attr("class","")},toggleClass:function(ee,se){var ue,ce,pe,me,ye=typeof ee,ke=ye==="string"||Array.isArray(ee);return T(ee)?this.each(function(Ie){R(this).toggleClass(ee.call(this,Ie,bi(this),se),se)}):typeof se=="boolean"&&ke?se?this.addClass(ee):this.removeClass(ee):(ue=fi(ee),this.each(function(){if(ke)for(me=R(this),pe=0;pe<ue.length;pe++)ce=ue[pe],me.hasClass(ce)?me.removeClass(ce):me.addClass(ce);else(ee===void 0||ye==="boolean")&&(ce=bi(this),ce&&St.set(this,"__className__",ce),this.setAttribute&&this.setAttribute("class",ce||ee===!1?"":St.get(this,"__className__")||""))}))},hasClass:function(ee){var se,ue,ce=0;for(se=" "+ee+" ";ue=this[ce++];)if(ue.nodeType===1&&(" "+Ai(bi(ue))+" ").indexOf(se)>-1)return!0;return!1}});var Ne=/\r/g;R.fn.extend({val:function(ee){var se,ue,ce,pe=this[0];return arguments.length?(ce=T(ee),this.each(function(me){var ye;this.nodeType===1&&(ce?ye=ee.call(this,me,R(this).val()):ye=ee,ye==null?ye="":typeof ye=="number"?ye+="":Array.isArray(ye)&&(ye=R.map(ye,function(ke){return ke==null?"":ke+""})),se=R.valHooks[this.type]||R.valHooks[this.nodeName.toLowerCase()],(!se||!("set"in se)||se.set(this,ye,"value")===void 0)&&(this.value=ye))})):pe?(se=R.valHooks[pe.type]||R.valHooks[pe.nodeName.toLowerCase()],se&&"get"in se&&(ue=se.get(pe,"value"))!==void 0?ue:(ue=pe.value,typeof ue=="string"?ue.replace(Ne,""):ue??"")):void 0}}),R.extend({valHooks:{option:{get:function(ee){var se=R.find.attr(ee,"value");return se??Ai(R.text(ee))}},select:{get:function(ee){var se,ue,ce,pe=ee.options,me=ee.selectedIndex,ye=ee.type==="select-one",ke=ye?null:[],Ie=ye?me+1:pe.length;for(me<0?ce=Ie:ce=ye?me:0;ce<Ie;ce++)if(ue=pe[ce],(ue.selected||ce===me)&&!ue.disabled&&(!ue.parentNode.disabled||!F(ue.parentNode,"optgroup"))){if(se=R(ue).val(),ye)return se;ke.push(se)}return ke},set:function(ee,se){for(var ue,ce,pe=ee.options,me=R.makeArray(se),ye=pe.length;ye--;)ce=pe[ye],(ce.selected=R.inArray(R.valHooks.option.get(ce),me)>-1)&&(ue=!0);return ue||(ee.selectedIndex=-1),me}}}}),R.each(["radio","checkbox"],function(){R.valHooks[this]={set:function(ee,se){if(Array.isArray(se))return ee.checked=R.inArray(R(ee).val(),se)>-1}},w.checkOn||(R.valHooks[this].get=function(ee){return ee.getAttribute("value")===null?"on":ee.value})});var Ke=e.location,it={guid:Date.now()},vt=/\?/;R.parseXML=function(ee){var se,ue;if(!ee||typeof ee!="string")return null;try{se=new e.DOMParser().parseFromString(ee,"text/xml")}catch{}return ue=se&&se.getElementsByTagName("parsererror")[0],(!se||ue)&&R.error("Invalid XML: "+(ue?R.map(ue.childNodes,function(ce){return ce.textContent}).join(`
`):ee)),se};var $t=/^(?:focusinfocus|focusoutblur)$/,Pt=function(ee){ee.stopPropagation()};R.extend(R.event,{trigger:function(ee,se,ue,ce){var pe,me,ye,ke,Ie,Ve,dt,mt,st=[ue||A],At=g.call(ee,"type")?ee.type:ee,gr=g.call(ee,"namespace")?ee.namespace.split("."):[];if(me=mt=ye=ue=ue||A,!(ue.nodeType===3||ue.nodeType===8)&&!$t.test(At+R.event.triggered)&&(At.indexOf(".")>-1&&(gr=At.split("."),At=gr.shift(),gr.sort()),Ie=At.indexOf(":")<0&&"on"+At,ee=ee[R.expando]?ee:new R.Event(At,typeof ee=="object"&&ee),ee.isTrigger=ce?2:3,ee.namespace=gr.join("."),ee.rnamespace=ee.namespace?new RegExp("(^|\\.)"+gr.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,ee.result=void 0,ee.target||(ee.target=ue),se=se==null?[ee]:R.makeArray(se,[ee]),dt=R.event.special[At]||{},!(!ce&&dt.trigger&&dt.trigger.apply(ue,se)===!1))){if(!ce&&!dt.noBubble&&!P(ue)){for(ke=dt.delegateType||At,$t.test(ke+At)||(me=me.parentNode);me;me=me.parentNode)st.push(me),ye=me;ye===(ue.ownerDocument||A)&&st.push(ye.defaultView||ye.parentWindow||e)}for(pe=0;(me=st[pe++])&&!ee.isPropagationStopped();)mt=me,ee.type=pe>1?ke:dt.bindType||At,Ve=(St.get(me,"events")||Object.create(null))[ee.type]&&St.get(me,"handle"),Ve&&Ve.apply(me,se),Ve=Ie&&me[Ie],Ve&&Ve.apply&&yt(me)&&(ee.result=Ve.apply(me,se),ee.result===!1&&ee.preventDefault());return ee.type=At,!ce&&!ee.isDefaultPrevented()&&(!dt._default||dt._default.apply(st.pop(),se)===!1)&&yt(ue)&&Ie&&T(ue[At])&&!P(ue)&&(ye=ue[Ie],ye&&(ue[Ie]=null),R.event.triggered=At,ee.isPropagationStopped()&&mt.addEventListener(At,Pt),ue[At](),ee.isPropagationStopped()&&mt.removeEventListener(At,Pt),R.event.triggered=void 0,ye&&(ue[Ie]=ye)),ee.result}},simulate:function(ee,se,ue){var ce=R.extend(new R.Event,ue,{type:ee,isSimulated:!0});R.event.trigger(ce,null,se)}}),R.fn.extend({trigger:function(ee,se){return this.each(function(){R.event.trigger(ee,se,this)})},triggerHandler:function(ee,se){var ue=this[0];if(ue)return R.event.trigger(ee,se,ue,!0)}});var Yt=/\[\]$/,er=/\r?\n/g,qr=/^(?:submit|button|image|reset|file)$/i,Vr=/^(?:input|select|textarea|keygen)/i;function Rr(ee,se,ue,ce){var pe;if(Array.isArray(se))R.each(se,function(me,ye){ue||Yt.test(ee)?ce(ee,ye):Rr(ee+"["+(typeof ye=="object"&&ye!=null?me:"")+"]",ye,ue,ce)});else if(!ue&&j(se)==="object")for(pe in se)Rr(ee+"["+pe+"]",se[pe],ue,ce);else ce(ee,se)}R.param=function(ee,se){var ue,ce=[],pe=function(me,ye){var ke=T(ye)?ye():ye;ce[ce.length]=encodeURIComponent(me)+"="+encodeURIComponent(ke??"")};if(ee==null)return"";if(Array.isArray(ee)||ee.jquery&&!R.isPlainObject(ee))R.each(ee,function(){pe(this.name,this.value)});else for(ue in ee)Rr(ue,ee[ue],se,pe);return ce.join("&")},R.fn.extend({serialize:function(){return R.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var ee=R.prop(this,"elements");return ee?R.makeArray(ee):this}).filter(function(){var ee=this.type;return this.name&&!R(this).is(":disabled")&&Vr.test(this.nodeName)&&!qr.test(ee)&&(this.checked||!yr.test(ee))}).map(function(ee,se){var ue=R(this).val();return ue==null?null:Array.isArray(ue)?R.map(ue,function(ce){return{name:se.name,value:ce.replace(er,`\r
`)}}):{name:se.name,value:ue.replace(er,`\r
`)}}).get()}});var un=/%20/g,wr=/#.*$/,fn=/([?&])_=[^&]*/,Tn=/^(.*?):[ \t]*([^\r\n]*)$/mg,bn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ln=/^(?:GET|HEAD)$/,ss=/^\/\//,Ri={},Mi={},zi="*/".concat("*"),Ae=A.createElement("a");Ae.href=Ke.href;function Fe(ee){return function(se,ue){typeof se!="string"&&(ue=se,se="*");var ce,pe=0,me=se.toLowerCase().match(ar)||[];if(T(ue))for(;ce=me[pe++];)ce[0]==="+"?(ce=ce.slice(1)||"*",(ee[ce]=ee[ce]||[]).unshift(ue)):(ee[ce]=ee[ce]||[]).push(ue)}}function tt(ee,se,ue,ce){var pe={},me=ee===Mi;function ye(ke){var Ie;return pe[ke]=!0,R.each(ee[ke]||[],function(Ve,dt){var mt=dt(se,ue,ce);if(typeof mt=="string"&&!me&&!pe[mt])return se.dataTypes.unshift(mt),ye(mt),!1;if(me)return!(Ie=mt)}),Ie}return ye(se.dataTypes[0])||!pe["*"]&&ye("*")}function Wt(ee,se){var ue,ce,pe=R.ajaxSettings.flatOptions||{};for(ue in se)se[ue]!==void 0&&((pe[ue]?ee:ce||(ce={}))[ue]=se[ue]);return ce&&R.extend(!0,ee,ce),ee}function Mr(ee,se,ue){for(var ce,pe,me,ye,ke=ee.contents,Ie=ee.dataTypes;Ie[0]==="*";)Ie.shift(),ce===void 0&&(ce=ee.mimeType||se.getResponseHeader("Content-Type"));if(ce){for(pe in ke)if(ke[pe]&&ke[pe].test(ce)){Ie.unshift(pe);break}}if(Ie[0]in ue)me=Ie[0];else{for(pe in ue){if(!Ie[0]||ee.converters[pe+" "+Ie[0]]){me=pe;break}ye||(ye=pe)}me=me||ye}if(me)return me!==Ie[0]&&Ie.unshift(me),ue[me]}function Xr(ee,se,ue,ce){var pe,me,ye,ke,Ie,Ve={},dt=ee.dataTypes.slice();if(dt[1])for(ye in ee.converters)Ve[ye.toLowerCase()]=ee.converters[ye];for(me=dt.shift();me;)if(ee.responseFields[me]&&(ue[ee.responseFields[me]]=se),!Ie&&ce&&ee.dataFilter&&(se=ee.dataFilter(se,ee.dataType)),Ie=me,me=dt.shift(),me){if(me==="*")me=Ie;else if(Ie!=="*"&&Ie!==me){if(ye=Ve[Ie+" "+me]||Ve["* "+me],!ye){for(pe in Ve)if(ke=pe.split(" "),ke[1]===me&&(ye=Ve[Ie+" "+ke[0]]||Ve["* "+ke[0]],ye)){ye===!0?ye=Ve[pe]:Ve[pe]!==!0&&(me=ke[0],dt.unshift(ke[1]));break}}if(ye!==!0)if(ye&&ee.throws)se=ye(se);else try{se=ye(se)}catch(mt){return{state:"parsererror",error:ye?mt:"No conversion from "+Ie+" to "+me}}}}return{state:"success",data:se}}R.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ke.href,type:"GET",isLocal:bn.test(Ke.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zi,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":R.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(ee,se){return se?Wt(Wt(ee,R.ajaxSettings),se):Wt(R.ajaxSettings,ee)},ajaxPrefilter:Fe(Ri),ajaxTransport:Fe(Mi),ajax:function(ee,se){typeof ee=="object"&&(se=ee,ee=void 0),se=se||{};var ue,ce,pe,me,ye,ke,Ie,Ve,dt,mt,st=R.ajaxSetup({},se),At=st.context||st,gr=st.context&&(At.nodeType||At.jquery)?R(At):R.event,Gr=R.Deferred(),Cr=R.Callbacks("once memory"),Fn=st.statusCode||{},kn={},Hi={},qi="canceled",Br={readyState:0,getResponseHeader:function(Jr){var Mn;if(Ie){if(!me)for(me={};Mn=Tn.exec(pe);)me[Mn[1].toLowerCase()+" "]=(me[Mn[1].toLowerCase()+" "]||[]).concat(Mn[2]);Mn=me[Jr.toLowerCase()+" "]}return Mn==null?null:Mn.join(", ")},getAllResponseHeaders:function(){return Ie?pe:null},setRequestHeader:function(Jr,Mn){return Ie==null&&(Jr=Hi[Jr.toLowerCase()]=Hi[Jr.toLowerCase()]||Jr,kn[Jr]=Mn),this},overrideMimeType:function(Jr){return Ie==null&&(st.mimeType=Jr),this},statusCode:function(Jr){var Mn;if(Jr)if(Ie)Br.always(Jr[Br.status]);else for(Mn in Jr)Fn[Mn]=[Fn[Mn],Jr[Mn]];return this},abort:function(Jr){var Mn=Jr||qi;return ue&&ue.abort(Mn),ys(0,Mn),this}};if(Gr.promise(Br),st.url=((ee||st.url||Ke.href)+"").replace(ss,Ke.protocol+"//"),st.type=se.method||se.type||st.method||st.type,st.dataTypes=(st.dataType||"*").toLowerCase().match(ar)||[""],st.crossDomain==null){ke=A.createElement("a");try{ke.href=st.url,ke.href=ke.href,st.crossDomain=Ae.protocol+"//"+Ae.host!=ke.protocol+"//"+ke.host}catch{st.crossDomain=!0}}if(st.data&&st.processData&&typeof st.data!="string"&&(st.data=R.param(st.data,st.traditional)),tt(Ri,st,se,Br),Ie)return Br;Ve=R.event&&st.global,Ve&&R.active++===0&&R.event.trigger("ajaxStart"),st.type=st.type.toUpperCase(),st.hasContent=!ln.test(st.type),ce=st.url.replace(wr,""),st.hasContent?st.data&&st.processData&&(st.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(st.data=st.data.replace(un,"+")):(mt=st.url.slice(ce.length),st.data&&(st.processData||typeof st.data=="string")&&(ce+=(vt.test(ce)?"&":"?")+st.data,delete st.data),st.cache===!1&&(ce=ce.replace(fn,"$1"),mt=(vt.test(ce)?"&":"?")+"_="+it.guid+++mt),st.url=ce+mt),st.ifModified&&(R.lastModified[ce]&&Br.setRequestHeader("If-Modified-Since",R.lastModified[ce]),R.etag[ce]&&Br.setRequestHeader("If-None-Match",R.etag[ce])),(st.data&&st.hasContent&&st.contentType!==!1||se.contentType)&&Br.setRequestHeader("Content-Type",st.contentType),Br.setRequestHeader("Accept",st.dataTypes[0]&&st.accepts[st.dataTypes[0]]?st.accepts[st.dataTypes[0]]+(st.dataTypes[0]!=="*"?", "+zi+"; q=0.01":""):st.accepts["*"]);for(dt in st.headers)Br.setRequestHeader(dt,st.headers[dt]);if(st.beforeSend&&(st.beforeSend.call(At,Br,st)===!1||Ie))return Br.abort();if(qi="abort",Cr.add(st.complete),Br.done(st.success),Br.fail(st.error),ue=tt(Mi,st,se,Br),!ue)ys(-1,"No Transport");else{if(Br.readyState=1,Ve&&gr.trigger("ajaxSend",[Br,st]),Ie)return Br;st.async&&st.timeout>0&&(ye=e.setTimeout(function(){Br.abort("timeout")},st.timeout));try{Ie=!1,ue.send(kn,ys)}catch(Jr){if(Ie)throw Jr;ys(-1,Jr)}}function ys(Jr,Mn,ua,no){var vi,as,Fi,os,us,pi=Mn;Ie||(Ie=!0,ye&&e.clearTimeout(ye),ue=void 0,pe=no||"",Br.readyState=Jr>0?4:0,vi=Jr>=200&&Jr<300||Jr===304,ua&&(os=Mr(st,Br,ua)),!vi&&R.inArray("script",st.dataTypes)>-1&&R.inArray("json",st.dataTypes)<0&&(st.converters["text script"]=function(){}),os=Xr(st,os,Br,vi),vi?(st.ifModified&&(us=Br.getResponseHeader("Last-Modified"),us&&(R.lastModified[ce]=us),us=Br.getResponseHeader("etag"),us&&(R.etag[ce]=us)),Jr===204||st.type==="HEAD"?pi="nocontent":Jr===304?pi="notmodified":(pi=os.state,as=os.data,Fi=os.error,vi=!Fi)):(Fi=pi,(Jr||!pi)&&(pi="error",Jr<0&&(Jr=0))),Br.status=Jr,Br.statusText=(Mn||pi)+"",vi?Gr.resolveWith(At,[as,pi,Br]):Gr.rejectWith(At,[Br,pi,Fi]),Br.statusCode(Fn),Fn=void 0,Ve&&gr.trigger(vi?"ajaxSuccess":"ajaxError",[Br,st,vi?as:Fi]),Cr.fireWith(At,[Br,pi]),Ve&&(gr.trigger("ajaxComplete",[Br,st]),--R.active||R.event.trigger("ajaxStop")))}return Br},getJSON:function(ee,se,ue){return R.get(ee,se,ue,"json")},getScript:function(ee,se){return R.get(ee,void 0,se,"script")}}),R.each(["get","post"],function(ee,se){R[se]=function(ue,ce,pe,me){return T(ce)&&(me=me||pe,pe=ce,ce=void 0),R.ajax(R.extend({url:ue,type:se,dataType:me,data:ce,success:pe},R.isPlainObject(ue)&&ue))}}),R.ajaxPrefilter(function(ee){var se;for(se in ee.headers)se.toLowerCase()==="content-type"&&(ee.contentType=ee.headers[se]||"")}),R._evalUrl=function(ee,se,ue){return R.ajax({url:ee,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(ce){R.globalEval(ce,se,ue)}})},R.fn.extend({wrapAll:function(ee){var se;return this[0]&&(T(ee)&&(ee=ee.call(this[0])),se=R(ee,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&se.insertBefore(this[0]),se.map(function(){for(var ue=this;ue.firstElementChild;)ue=ue.firstElementChild;return ue}).append(this)),this},wrapInner:function(ee){return T(ee)?this.each(function(se){R(this).wrapInner(ee.call(this,se))}):this.each(function(){var se=R(this),ue=se.contents();ue.length?ue.wrapAll(ee):se.append(ee)})},wrap:function(ee){var se=T(ee);return this.each(function(ue){R(this).wrapAll(se?ee.call(this,ue):ee)})},unwrap:function(ee){return this.parent(ee).not("body").each(function(){R(this).replaceWith(this.childNodes)}),this}}),R.expr.pseudos.hidden=function(ee){return!R.expr.pseudos.visible(ee)},R.expr.pseudos.visible=function(ee){return!!(ee.offsetWidth||ee.offsetHeight||ee.getClientRects().length)},R.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var vn={0:200,1223:204},$r=R.ajaxSettings.xhr();w.cors=!!$r&&"withCredentials"in $r,w.ajax=$r=!!$r,R.ajaxTransport(function(ee){var se,ue;if(w.cors||$r&&!ee.crossDomain)return{send:function(ce,pe){var me,ye=ee.xhr();if(ye.open(ee.type,ee.url,ee.async,ee.username,ee.password),ee.xhrFields)for(me in ee.xhrFields)ye[me]=ee.xhrFields[me];ee.mimeType&&ye.overrideMimeType&&ye.overrideMimeType(ee.mimeType),!ee.crossDomain&&!ce["X-Requested-With"]&&(ce["X-Requested-With"]="XMLHttpRequest");for(me in ce)ye.setRequestHeader(me,ce[me]);se=function(ke){return function(){se&&(se=ue=ye.onload=ye.onerror=ye.onabort=ye.ontimeout=ye.onreadystatechange=null,ke==="abort"?ye.abort():ke==="error"?typeof ye.status!="number"?pe(0,"error"):pe(ye.status,ye.statusText):pe(vn[ye.status]||ye.status,ye.statusText,(ye.responseType||"text")!=="text"||typeof ye.responseText!="string"?{binary:ye.response}:{text:ye.responseText},ye.getAllResponseHeaders()))}},ye.onload=se(),ue=ye.onerror=ye.ontimeout=se("error"),ye.onabort!==void 0?ye.onabort=ue:ye.onreadystatechange=function(){ye.readyState===4&&e.setTimeout(function(){se&&ue()})},se=se("abort");try{ye.send(ee.hasContent&&ee.data||null)}catch(ke){if(se)throw ke}},abort:function(){se&&se()}}}),R.ajaxPrefilter(function(ee){ee.crossDomain&&(ee.contents.script=!1)}),R.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(ee){return R.globalEval(ee),ee}}}),R.ajaxPrefilter("script",function(ee){ee.cache===void 0&&(ee.cache=!1),ee.crossDomain&&(ee.type="GET")}),R.ajaxTransport("script",function(ee){if(ee.crossDomain||ee.scriptAttrs){var se,ue;return{send:function(ce,pe){se=R("<script>").attr(ee.scriptAttrs||{}).prop({charset:ee.scriptCharset,src:ee.url}).on("load error",ue=function(me){se.remove(),ue=null,me&&pe(me.type==="error"?404:200,me.type)}),A.head.appendChild(se[0])},abort:function(){ue&&ue()}}}});var dn=[],On=/(=)\?(?=&|$)|\?\?/;R.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var ee=dn.pop()||R.expando+"_"+it.guid++;return this[ee]=!0,ee}}),R.ajaxPrefilter("json jsonp",function(ee,se,ue){var ce,pe,me,ye=ee.jsonp!==!1&&(On.test(ee.url)?"url":typeof ee.data=="string"&&(ee.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&On.test(ee.data)&&"data");if(ye||ee.dataTypes[0]==="jsonp")return ce=ee.jsonpCallback=T(ee.jsonpCallback)?ee.jsonpCallback():ee.jsonpCallback,ye?ee[ye]=ee[ye].replace(On,"$1"+ce):ee.jsonp!==!1&&(ee.url+=(vt.test(ee.url)?"&":"?")+ee.jsonp+"="+ce),ee.converters["script json"]=function(){return me||R.error(ce+" was not called"),me[0]},ee.dataTypes[0]="json",pe=e[ce],e[ce]=function(){me=arguments},ue.always(function(){pe===void 0?R(e).removeProp(ce):e[ce]=pe,ee[ce]&&(ee.jsonpCallback=se.jsonpCallback,dn.push(ce)),me&&T(pe)&&pe(me[0]),me=pe=void 0}),"script"}),w.createHTMLDocument=(function(){var ee=A.implementation.createHTMLDocument("").body;return ee.innerHTML="<form></form><form></form>",ee.childNodes.length===2})(),R.parseHTML=function(ee,se,ue){if(typeof ee!="string")return[];typeof se=="boolean"&&(ue=se,se=!1);var ce,pe,me;return se||(w.createHTMLDocument?(se=A.implementation.createHTMLDocument(""),ce=se.createElement("base"),ce.href=A.location.href,se.head.appendChild(ce)):se=A),pe=Re.exec(ee),me=!ue&&[],pe?[se.createElement(pe[1])]:(pe=lr([ee],se,me),me&&me.length&&R(me).remove(),R.merge([],pe.childNodes))},R.fn.load=function(ee,se,ue){var ce,pe,me,ye=this,ke=ee.indexOf(" ");return ke>-1&&(ce=Ai(ee.slice(ke)),ee=ee.slice(0,ke)),T(se)?(ue=se,se=void 0):se&&typeof se=="object"&&(pe="POST"),ye.length>0&&R.ajax({url:ee,type:pe||"GET",dataType:"html",data:se}).done(function(Ie){me=arguments,ye.html(ce?R("<div>").append(R.parseHTML(Ie)).find(ce):Ie)}).always(ue&&function(Ie,Ve){ye.each(function(){ue.apply(this,me||[Ie.responseText,Ve,Ie])})}),this},R.expr.pseudos.animated=function(ee){return R.grep(R.timers,function(se){return ee===se.elem}).length},R.offset={setOffset:function(ee,se,ue){var ce,pe,me,ye,ke,Ie,Ve,dt=R.css(ee,"position"),mt=R(ee),st={};dt==="static"&&(ee.style.position="relative"),ke=mt.offset(),me=R.css(ee,"top"),Ie=R.css(ee,"left"),Ve=(dt==="absolute"||dt==="fixed")&&(me+Ie).indexOf("auto")>-1,Ve?(ce=mt.position(),ye=ce.top,pe=ce.left):(ye=parseFloat(me)||0,pe=parseFloat(Ie)||0),T(se)&&(se=se.call(ee,ue,R.extend({},ke))),se.top!=null&&(st.top=se.top-ke.top+ye),se.left!=null&&(st.left=se.left-ke.left+pe),"using"in se?se.using.call(ee,st):mt.css(st)}},R.fn.extend({offset:function(ee){if(arguments.length)return ee===void 0?this:this.each(function(pe){R.offset.setOffset(this,ee,pe)});var se,ue,ce=this[0];if(ce)return ce.getClientRects().length?(se=ce.getBoundingClientRect(),ue=ce.ownerDocument.defaultView,{top:se.top+ue.pageYOffset,left:se.left+ue.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var ee,se,ue,ce=this[0],pe={top:0,left:0};if(R.css(ce,"position")==="fixed")se=ce.getBoundingClientRect();else{for(se=this.offset(),ue=ce.ownerDocument,ee=ce.offsetParent||ue.documentElement;ee&&(ee===ue.body||ee===ue.documentElement)&&R.css(ee,"position")==="static";)ee=ee.parentNode;ee&&ee!==ce&&ee.nodeType===1&&(pe=R(ee).offset(),pe.top+=R.css(ee,"borderTopWidth",!0),pe.left+=R.css(ee,"borderLeftWidth",!0))}return{top:se.top-pe.top-R.css(ce,"marginTop",!0),left:se.left-pe.left-R.css(ce,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var ee=this.offsetParent;ee&&R.css(ee,"position")==="static";)ee=ee.offsetParent;return ee||Qt})}}),R.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(ee,se){var ue=se==="pageYOffset";R.fn[ee]=function(ce){return Ue(this,function(pe,me,ye){var ke;if(P(pe)?ke=pe:pe.nodeType===9&&(ke=pe.defaultView),ye===void 0)return ke?ke[se]:pe[me];ke?ke.scrollTo(ue?ke.pageXOffset:ye,ue?ye:ke.pageYOffset):pe[me]=ye},ee,ce,arguments.length)}}),R.each(["top","left"],function(ee,se){R.cssHooks[se]=In(w.pixelPosition,function(ue,ce){if(ce)return ce=an(ue,se),_r.test(ce)?R(ue).position()[se]+"px":ce})}),R.each({Height:"height",Width:"width"},function(ee,se){R.each({padding:"inner"+ee,content:se,"":"outer"+ee},function(ue,ce){R.fn[ce]=function(pe,me){var ye=arguments.length&&(ue||typeof pe!="boolean"),ke=ue||(pe===!0||me===!0?"margin":"border");return Ue(this,function(Ie,Ve,dt){var mt;return P(Ie)?ce.indexOf("outer")===0?Ie["inner"+ee]:Ie.document.documentElement["client"+ee]:Ie.nodeType===9?(mt=Ie.documentElement,Math.max(Ie.body["scroll"+ee],mt["scroll"+ee],Ie.body["offset"+ee],mt["offset"+ee],mt["client"+ee])):dt===void 0?R.css(Ie,Ve,ke):R.style(Ie,Ve,dt,ke)},se,ye?pe:void 0,ye)}})}),R.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(ee,se){R.fn[se]=function(ue){return this.on(se,ue)}}),R.fn.extend({bind:function(ee,se,ue){return this.on(ee,null,se,ue)},unbind:function(ee,se){return this.off(ee,null,se)},delegate:function(ee,se,ue,ce){return this.on(se,ee,ue,ce)},undelegate:function(ee,se,ue){return arguments.length===1?this.off(ee,"**"):this.off(se,ee||"**",ue)},hover:function(ee,se){return this.on("mouseenter",ee).on("mouseleave",se||ee)}}),R.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(ee,se){R.fn[se]=function(ue,ce){return arguments.length>0?this.on(se,null,ue,ce):this.trigger(se)}});var qn=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;R.proxy=function(ee,se){var ue,ce,pe;if(typeof se=="string"&&(ue=ee[se],se=ee,ee=ue),!!T(ee))return ce=u.call(arguments,2),pe=function(){return ee.apply(se||this,ce.concat(u.call(arguments)))},pe.guid=ee.guid=ee.guid||R.guid++,pe},R.holdReady=function(ee){ee?R.readyWait++:R.ready(!0)},R.isArray=Array.isArray,R.parseJSON=JSON.parse,R.nodeName=F,R.isFunction=T,R.isWindow=P,R.camelCase=Et,R.type=j,R.now=Date.now,R.isNumeric=function(ee){var se=R.type(ee);return(se==="number"||se==="string")&&!isNaN(ee-parseFloat(ee))},R.trim=function(ee){return ee==null?"":(ee+"").replace(qn,"$1")};var fs=e.jQuery,oa=e.$;return R.noConflict=function(ee){return e.$===R&&(e.$=oa),ee&&e.jQuery===R&&(e.jQuery=fs),R},typeof n>"u"&&(e.jQuery=e.$=R),R})})(jquery$1)),jquery$1.exports}var hasRequiredBackbone;function requireBackbone(){return hasRequiredBackbone||(hasRequiredBackbone=1,(function(t){(function(e){var n=typeof self=="object"&&self.self===self&&self||typeof globalThis=="object"&&globalThis.global===globalThis&&globalThis;{var i=require$$0,o;try{o=requireJquery()}catch{}e(n,t,i,o)}})(function(e,n,i,o){var u=e.Backbone,l=Array.prototype.slice;n.VERSION="1.4.0",n.$=o,n.noConflict=function(){return e.Backbone=u,this},n.emulateHTTP=!1,n.emulateJSON=!1;var c=n.Events={},f=/\s+/,d,m=function(he,be,Ce,Le,Ue){var We=0,ot;if(Ce&&typeof Ce=="object")for(Le!==void 0&&("context"in Ue)&&Ue.context===void 0&&(Ue.context=Le),ot=i.keys(Ce);We<ot.length;We++)be=m(he,be,ot[We],Ce[ot[We]],Ue);else if(Ce&&f.test(Ce))for(ot=Ce.split(f);We<ot.length;We++)be=he(be,ot[We],Le,Ue);else be=he(be,Ce,Le,Ue);return be};c.on=function(he,be,Ce){if(this._events=m(g,this._events||{},he,be,{context:Ce,ctx:this,listening:d}),d){var Le=this._listeners||(this._listeners={});Le[d.id]=d,d.interop=!1}return this},c.listenTo=function(he,be,Ce){if(!he)return this;var Le=he._listenId||(he._listenId=i.uniqueId("l")),Ue=this._listeningTo||(this._listeningTo={}),We=d=Ue[Le];We||(this._listenId||(this._listenId=i.uniqueId("l")),We=d=Ue[Le]=new A(this,he));var ot=v(he,be,Ce,this);if(d=void 0,ot)throw ot;return We.interop&&We.on(be,Ce),this};var g=function(he,be,Ce,Le){if(Ce){var Ue=he[be]||(he[be]=[]),We=Le.context,ot=Le.ctx,Rt=Le.listening;Rt&&Rt.count++,Ue.push({callback:Ce,context:We,ctx:We||ot,listening:Rt})}return he},v=function(he,be,Ce,Le){try{he.on(be,Ce,Le)}catch(Ue){return Ue}};c.off=function(he,be,Ce){return this._events?(this._events=m(y,this._events,he,be,{context:Ce,listeners:this._listeners}),this):this},c.stopListening=function(he,be,Ce){var Le=this._listeningTo;if(!Le)return this;for(var Ue=he?[he._listenId]:i.keys(Le),We=0;We<Ue.length;We++){var ot=Le[Ue[We]];if(!ot)break;ot.obj.off(be,Ce,this),ot.interop&&ot.off(be,Ce)}return i.isEmpty(Le)&&(this._listeningTo=void 0),this};var y=function(he,be,Ce,Le){if(he){var Ue=Le.context,We=Le.listeners,ot=0,Rt;if(!be&&!Ue&&!Ce){for(Rt=i.keys(We);ot<Rt.length;ot++)We[Rt[ot]].cleanup();return}for(Rt=be?[be]:i.keys(he);ot<Rt.length;ot++){be=Rt[ot];var Et=he[be];if(!Et)break;for(var yt=[],Nt=0;Nt<Et.length;Nt++){var St=Et[Nt];if(Ce&&Ce!==St.callback&&Ce!==St.callback._callback||Ue&&Ue!==St.context)yt.push(St);else{var kt=St.listening;kt&&kt.off(be,Ce)}}yt.length?he[be]=yt:delete he[be]}return he}};c.once=function(he,be,Ce){var Le=m(w,{},he,be,this.off.bind(this));return typeof he=="string"&&Ce==null&&(be=void 0),this.on(Le,be,Ce)},c.listenToOnce=function(he,be,Ce){var Le=m(w,{},be,Ce,this.stopListening.bind(this,he));return this.listenTo(he,Le)};var w=function(he,be,Ce,Le){if(Ce){var Ue=he[be]=i.once(function(){Le(be,Ue),Ce.apply(this,arguments)});Ue._callback=Ce}return he};c.trigger=function(he){if(!this._events)return this;for(var be=Math.max(0,arguments.length-1),Ce=Array(be),Le=0;Le<be;Le++)Ce[Le]=arguments[Le+1];return m(T,this._events,he,void 0,Ce),this};var T=function(he,be,Ce,Le){if(he){var Ue=he[be],We=he.all;Ue&&We&&(We=We.slice()),Ue&&P(Ue,Le),We&&P(We,[be].concat(Le))}return he},P=function(he,be){var Ce,Le=-1,Ue=he.length,We=be[0],ot=be[1],Rt=be[2];switch(be.length){case 0:for(;++Le<Ue;)(Ce=he[Le]).callback.call(Ce.ctx);return;case 1:for(;++Le<Ue;)(Ce=he[Le]).callback.call(Ce.ctx,We);return;case 2:for(;++Le<Ue;)(Ce=he[Le]).callback.call(Ce.ctx,We,ot);return;case 3:for(;++Le<Ue;)(Ce=he[Le]).callback.call(Ce.ctx,We,ot,Rt);return;default:for(;++Le<Ue;)(Ce=he[Le]).callback.apply(Ce.ctx,be);return}},A=function(he,be){this.id=he._listenId,this.listener=he,this.obj=be,this.interop=!0,this.count=0,this._events=void 0};A.prototype.on=c.on,A.prototype.off=function(he,be){var Ce;this.interop?(this._events=m(y,this._events,he,be,{context:void 0,listeners:void 0}),Ce=!this._events):(this.count--,Ce=this.count===0),Ce&&this.cleanup()},A.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},c.bind=c.on,c.unbind=c.off,i.extend(n,c);var D=n.Model=function(he,be){var Ce=he||{};be||(be={}),this.preinitialize.apply(this,arguments),this.cid=i.uniqueId(this.cidPrefix),this.attributes={},be.collection&&(this.collection=be.collection),be.parse&&(Ce=this.parse(Ce,be)||{});var Le=i.result(this,"defaults");Ce=i.defaults(i.extend({},Le,Ce),Le),this.set(Ce,be),this.changed={},this.initialize.apply(this,arguments)};i.extend(D.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(he){return i.clone(this.attributes)},sync:function(){return n.sync.apply(this,arguments)},get:function(he){return this.attributes[he]},escape:function(he){return i.escape(this.get(he))},has:function(he){return this.get(he)!=null},matches:function(he){return!!i.iteratee(he,this)(this.attributes)},set:function(he,be,Ce){if(he==null)return this;var Le;if(typeof he=="object"?(Le=he,Ce=be):(Le={})[he]=be,Ce||(Ce={}),!this._validate(Le,Ce))return!1;var Ue=Ce.unset,We=Ce.silent,ot=[],Rt=this._changing;this._changing=!0,Rt||(this._previousAttributes=i.clone(this.attributes),this.changed={});var Et=this.attributes,yt=this.changed,Nt=this._previousAttributes;for(var St in Le)be=Le[St],i.isEqual(Et[St],be)||ot.push(St),i.isEqual(Nt[St],be)?delete yt[St]:yt[St]=be,Ue?delete Et[St]:Et[St]=be;if(this.idAttribute in Le&&(this.id=this.get(this.idAttribute)),!We){ot.length&&(this._pending=Ce);for(var kt=0;kt<ot.length;kt++)this.trigger("change:"+ot[kt],this,Et[ot[kt]],Ce)}if(Rt)return this;if(!We)for(;this._pending;)Ce=this._pending,this._pending=!1,this.trigger("change",this,Ce);return this._pending=!1,this._changing=!1,this},unset:function(he,be){return this.set(he,void 0,i.extend({},be,{unset:!0}))},clear:function(he){var be={};for(var Ce in this.attributes)be[Ce]=void 0;return this.set(be,i.extend({},he,{unset:!0}))},hasChanged:function(he){return he==null?!i.isEmpty(this.changed):i.has(this.changed,he)},changedAttributes:function(he){if(!he)return this.hasChanged()?i.clone(this.changed):!1;var be=this._changing?this._previousAttributes:this.attributes,Ce={},Le;for(var Ue in he){var We=he[Ue];i.isEqual(be[Ue],We)||(Ce[Ue]=We,Le=!0)}return Le?Ce:!1},previous:function(he){return he==null||!this._previousAttributes?null:this._previousAttributes[he]},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(he){he=i.extend({parse:!0},he);var be=this,Ce=he.success;return he.success=function(Le){var Ue=he.parse?be.parse(Le,he):Le;if(!be.set(Ue,he))return!1;Ce&&Ce.call(he.context,be,Le,he),be.trigger("sync",be,Le,he)},Be(this,he),this.sync("read",this,he)},save:function(he,be,Ce){var Le;he==null||typeof he=="object"?(Le=he,Ce=be):(Le={})[he]=be,Ce=i.extend({validate:!0,parse:!0},Ce);var Ue=Ce.wait;if(Le&&!Ue){if(!this.set(Le,Ce))return!1}else if(!this._validate(Le,Ce))return!1;var We=this,ot=Ce.success,Rt=this.attributes;Ce.success=function(Nt){We.attributes=Rt;var St=Ce.parse?We.parse(Nt,Ce):Nt;if(Ue&&(St=i.extend({},Le,St)),St&&!We.set(St,Ce))return!1;ot&&ot.call(Ce.context,We,Nt,Ce),We.trigger("sync",We,Nt,Ce)},Be(this,Ce),Le&&Ue&&(this.attributes=i.extend({},Rt,Le));var Et=this.isNew()?"create":Ce.patch?"patch":"update";Et==="patch"&&!Ce.attrs&&(Ce.attrs=Le);var yt=this.sync(Et,this,Ce);return this.attributes=Rt,yt},destroy:function(he){he=he?i.clone(he):{};var be=this,Ce=he.success,Le=he.wait,Ue=function(){be.stopListening(),be.trigger("destroy",be,be.collection,he)};he.success=function(ot){Le&&Ue(),Ce&&Ce.call(he.context,be,ot,he),be.isNew()||be.trigger("sync",be,ot,he)};var We=!1;return this.isNew()?i.defer(he.success):(Be(this,he),We=this.sync("delete",this,he)),Le||Ue(),We},url:function(){var he=i.result(this,"urlRoot")||i.result(this.collection,"url")||Oe();if(this.isNew())return he;var be=this.get(this.idAttribute);return he.replace(/[^\/]$/,"$&/")+encodeURIComponent(be)},parse:function(he,be){return he},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(he){return this._validate({},i.extend({},he,{validate:!0}))},_validate:function(he,be){if(!be.validate||!this.validate)return!0;he=i.extend({},this.attributes,he);var Ce=this.validationError=this.validate(he,be)||null;return Ce?(this.trigger("invalid",this,Ce,i.extend(be,{validationError:Ce})),!1):!0}});var k=n.Collection=function(he,be){be||(be={}),this.preinitialize.apply(this,arguments),be.model&&(this.model=be.model),be.comparator!==void 0&&(this.comparator=be.comparator),this._reset(),this.initialize.apply(this,arguments),he&&this.reset(he,i.extend({silent:!0},be))},j={add:!0,remove:!0,merge:!0},B={add:!0,remove:!1},Z=function(he,be,Ce){Ce=Math.min(Math.max(Ce,0),he.length);var Le=Array(he.length-Ce),Ue=be.length,We;for(We=0;We<Le.length;We++)Le[We]=he[We+Ce];for(We=0;We<Ue;We++)he[We+Ce]=be[We];for(We=0;We<Le.length;We++)he[We+Ue+Ce]=Le[We]};i.extend(k.prototype,c,{model:D,preinitialize:function(){},initialize:function(){},toJSON:function(he){return this.map(function(be){return be.toJSON(he)})},sync:function(){return n.sync.apply(this,arguments)},add:function(he,be){return this.set(he,i.extend({merge:!1},be,B))},remove:function(he,be){be=i.extend({},be);var Ce=!i.isArray(he);he=Ce?[he]:he.slice();var Le=this._removeModels(he,be);return!be.silent&&Le.length&&(be.changes={added:[],merged:[],removed:Le},this.trigger("update",this,be)),Ce?Le[0]:Le},set:function(he,be){if(he!=null){be=i.extend({},j,be),be.parse&&!this._isModel(he)&&(he=this.parse(he,be)||[]);var Ce=!i.isArray(he);he=Ce?[he]:he.slice();var Le=be.at;Le!=null&&(Le=+Le),Le>this.length&&(Le=this.length),Le<0&&(Le+=this.length+1);var Ue=[],We=[],ot=[],Rt=[],Et={},yt=be.add,Nt=be.merge,St=be.remove,kt=!1,Pe=this.comparator&&Le==null&&be.sort!==!1,ve=i.isString(this.comparator)?this.comparator:null,ut,wt;for(wt=0;wt<he.length;wt++){ut=he[wt];var Tt=this.get(ut);if(Tt){if(Nt&&ut!==Tt){var Vt=this._isModel(ut)?ut.attributes:ut;be.parse&&(Vt=Tt.parse(Vt,be)),Tt.set(Vt,be),ot.push(Tt),Pe&&!kt&&(kt=Tt.hasChanged(ve))}Et[Tt.cid]||(Et[Tt.cid]=!0,Ue.push(Tt)),he[wt]=Tt}else yt&&(ut=he[wt]=this._prepareModel(ut,be),ut&&(We.push(ut),this._addReference(ut,be),Et[ut.cid]=!0,Ue.push(ut)))}if(St){for(wt=0;wt<this.length;wt++)ut=this.models[wt],Et[ut.cid]||Rt.push(ut);Rt.length&&this._removeModels(Rt,be)}var Gt=!1,Qt=!Pe&&yt&&St;if(Ue.length&&Qt?(Gt=this.length!==Ue.length||i.some(this.models,function(qt,ht){return qt!==Ue[ht]}),this.models.length=0,Z(this.models,Ue,0),this.length=this.models.length):We.length&&(Pe&&(kt=!0),Z(this.models,We,Le??this.length),this.length=this.models.length),kt&&this.sort({silent:!0}),!be.silent){for(wt=0;wt<We.length;wt++)Le!=null&&(be.index=Le+wt),ut=We[wt],ut.trigger("add",ut,this,be);(kt||Gt)&&this.trigger("sort",this,be),(We.length||Rt.length||ot.length)&&(be.changes={added:We,removed:Rt,merged:ot},this.trigger("update",this,be))}return Ce?he[0]:he}},reset:function(he,be){be=be?i.clone(be):{};for(var Ce=0;Ce<this.models.length;Ce++)this._removeReference(this.models[Ce],be);return be.previousModels=this.models,this._reset(),he=this.add(he,i.extend({silent:!0},be)),be.silent||this.trigger("reset",this,be),he},push:function(he,be){return this.add(he,i.extend({at:this.length},be))},pop:function(he){var be=this.at(this.length-1);return this.remove(be,he)},unshift:function(he,be){return this.add(he,i.extend({at:0},be))},shift:function(he){var be=this.at(0);return this.remove(be,he)},slice:function(){return l.apply(this.models,arguments)},get:function(he){if(he!=null)return this._byId[he]||this._byId[this.modelId(this._isModel(he)?he.attributes:he)]||he.cid&&this._byId[he.cid]},has:function(he){return this.get(he)!=null},at:function(he){return he<0&&(he+=this.length),this.models[he]},where:function(he,be){return this[be?"find":"filter"](he)},findWhere:function(he){return this.where(he,!0)},sort:function(he){var be=this.comparator;if(!be)throw new Error("Cannot sort a set without a comparator");he||(he={});var Ce=be.length;return i.isFunction(be)&&(be=be.bind(this)),Ce===1||i.isString(be)?this.models=this.sortBy(be):this.models.sort(be),he.silent||this.trigger("sort",this,he),this},pluck:function(he){return this.map(he+"")},fetch:function(he){he=i.extend({parse:!0},he);var be=he.success,Ce=this;return he.success=function(Le){var Ue=he.reset?"reset":"set";Ce[Ue](Le,he),be&&be.call(he.context,Ce,Le,he),Ce.trigger("sync",Ce,Le,he)},Be(this,he),this.sync("read",this,he)},create:function(he,be){be=be?i.clone(be):{};var Ce=be.wait;if(he=this._prepareModel(he,be),!he)return!1;Ce||this.add(he,be);var Le=this,Ue=be.success;return be.success=function(We,ot,Rt){Ce&&Le.add(We,Rt),Ue&&Ue.call(Rt.context,We,ot,Rt)},he.save(null,be),he},parse:function(he,be){return he},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(he){return he[this.model.prototype.idAttribute||"id"]},values:function(){return new G(this,F)},keys:function(){return new G(this,K)},entries:function(){return new G(this,Q)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(he,be){if(this._isModel(he))return he.collection||(he.collection=this),he;be=be?i.clone(be):{},be.collection=this;var Ce=new this.model(he,be);return Ce.validationError?(this.trigger("invalid",this,Ce.validationError,be),!1):Ce},_removeModels:function(he,be){for(var Ce=[],Le=0;Le<he.length;Le++){var Ue=this.get(he[Le]);if(Ue){var We=this.indexOf(Ue);this.models.splice(We,1),this.length--,delete this._byId[Ue.cid];var ot=this.modelId(Ue.attributes);ot!=null&&delete this._byId[ot],be.silent||(be.index=We,Ue.trigger("remove",Ue,this,be)),Ce.push(Ue),this._removeReference(Ue,be)}}return Ce},_isModel:function(he){return he instanceof D},_addReference:function(he,be){this._byId[he.cid]=he;var Ce=this.modelId(he.attributes);Ce!=null&&(this._byId[Ce]=he),he.on("all",this._onModelEvent,this)},_removeReference:function(he,be){delete this._byId[he.cid];var Ce=this.modelId(he.attributes);Ce!=null&&delete this._byId[Ce],this===he.collection&&delete he.collection,he.off("all",this._onModelEvent,this)},_onModelEvent:function(he,be,Ce,Le){if(be){if((he==="add"||he==="remove")&&Ce!==this)return;if(he==="destroy"&&this.remove(be,Le),he==="change"){var Ue=this.modelId(be.previousAttributes()),We=this.modelId(be.attributes);Ue!==We&&(Ue!=null&&delete this._byId[Ue],We!=null&&(this._byId[We]=be))}}this.trigger.apply(this,arguments)}});var R=typeof Symbol=="function"&&Symbol.iterator;R&&(k.prototype[R]=k.prototype.values);var G=function(he,be){this._collection=he,this._kind=be,this._index=0},F=1,K=2,Q=3;R&&(G.prototype[R]=function(){return this}),G.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var he=this._collection.at(this._index);this._index++;var be;if(this._kind===F)be=he;else{var Ce=this._collection.modelId(he.attributes);this._kind===K?be=Ce:be=[Ce,he]}return{value:be,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var ie=n.View=function(he){this.cid=i.uniqueId("view"),this.preinitialize.apply(this,arguments),i.extend(this,i.pick(he,oe)),this._ensureElement(),this.initialize.apply(this,arguments)},te=/^(\S+)\s*(.*)$/,oe=["model","collection","el","id","attributes","className","tagName","events"];i.extend(ie.prototype,c,{tagName:"div",$:function(he){return this.$el.find(he)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(he){return this.undelegateEvents(),this._setElement(he),this.delegateEvents(),this},_setElement:function(he){this.$el=he instanceof n.$?he:n.$(he),this.el=this.$el[0]},delegateEvents:function(he){if(he||(he=i.result(this,"events")),!he)return this;this.undelegateEvents();for(var be in he){var Ce=he[be];if(i.isFunction(Ce)||(Ce=this[Ce]),!!Ce){var Le=be.match(te);this.delegate(Le[1],Le[2],Ce.bind(this))}}return this},delegate:function(he,be,Ce){return this.$el.on(he+".delegateEvents"+this.cid,be,Ce),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(he,be,Ce){return this.$el.off(he+".delegateEvents"+this.cid,be,Ce),this},_createElement:function(he){return document.createElement(he)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"));else{var he=i.extend({},i.result(this,"attributes"));this.id&&(he.id=i.result(this,"id")),this.className&&(he.class=i.result(this,"className")),this.setElement(this._createElement(i.result(this,"tagName"))),this._setAttributes(he)}},_setAttributes:function(he){this.$el.attr(he)}});var le=function(he,be,Ce,Le){switch(be){case 1:return function(){return he[Ce](this[Le])};case 2:return function(Ue){return he[Ce](this[Le],Ue)};case 3:return function(Ue,We){return he[Ce](this[Le],ge(Ue,this),We)};case 4:return function(Ue,We,ot){return he[Ce](this[Le],ge(Ue,this),We,ot)};default:return function(){var Ue=l.call(arguments);return Ue.unshift(this[Le]),he[Ce].apply(he,Ue)}}},de=function(he,be,Ce,Le){i.each(Ce,function(Ue,We){be[We]&&(he.prototype[We]=le(be,Ue,We,Le))})},ge=function(he,be){return i.isFunction(he)?he:i.isObject(he)&&!be._isModel(he)?_e(he):i.isString(he)?function(Ce){return Ce.get(he)}:he},_e=function(he){var be=i.matches(he);return function(Ce){return be(Ce.attributes)}},we={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},Me={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};i.each([[k,we,"models"],[D,Me,"attributes"]],function(he){var be=he[0],Ce=he[1],Le=he[2];be.mixin=function(Ue){var We=i.reduce(i.functions(Ue),function(ot,Rt){return ot[Rt]=0,ot},{});de(be,Ue,We,Le)},de(be,i,Ce,Le)}),n.sync=function(he,be,Ce){var Le=xe[he];i.defaults(Ce||(Ce={}),{emulateHTTP:n.emulateHTTP,emulateJSON:n.emulateJSON});var Ue={type:Le,dataType:"json"};if(Ce.url||(Ue.url=i.result(be,"url")||Oe()),Ce.data==null&&be&&(he==="create"||he==="update"||he==="patch")&&(Ue.contentType="application/json",Ue.data=JSON.stringify(Ce.attrs||be.toJSON(Ce))),Ce.emulateJSON&&(Ue.contentType="application/x-www-form-urlencoded",Ue.data=Ue.data?{model:Ue.data}:{}),Ce.emulateHTTP&&(Le==="PUT"||Le==="DELETE"||Le==="PATCH")){Ue.type="POST",Ce.emulateJSON&&(Ue.data._method=Le);var We=Ce.beforeSend;Ce.beforeSend=function(Et){if(Et.setRequestHeader("X-HTTP-Method-Override",Le),We)return We.apply(this,arguments)}}Ue.type!=="GET"&&!Ce.emulateJSON&&(Ue.processData=!1);var ot=Ce.error;Ce.error=function(Et,yt,Nt){Ce.textStatus=yt,Ce.errorThrown=Nt,ot&&ot.call(Ce.context,Et,yt,Nt)};var Rt=Ce.xhr=n.ajax(i.extend(Ue,Ce));return be.trigger("request",be,Rt,Ce),Rt};var xe={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};n.ajax=function(){return n.$.ajax.apply(n.$,arguments)};var Re=n.Router=function(he){he||(he={}),this.preinitialize.apply(this,arguments),he.routes&&(this.routes=he.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},Se=/\((.*?)\)/g,Ge=/(\(\?)?:\w+/g,Qe=/\*\w+/g,Je=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(Re.prototype,c,{preinitialize:function(){},initialize:function(){},route:function(he,be,Ce){i.isRegExp(he)||(he=this._routeToRegExp(he)),i.isFunction(be)&&(Ce=be,be=""),Ce||(Ce=this[be]);var Le=this;return n.history.route(he,function(Ue){var We=Le._extractParameters(he,Ue);Le.execute(Ce,We,be)!==!1&&(Le.trigger.apply(Le,["route:"+be].concat(We)),Le.trigger("route",be,We),n.history.trigger("route",Le,be,We))}),this},execute:function(he,be,Ce){he&&he.apply(this,be)},navigate:function(he,be){return n.history.navigate(he,be),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var he,be=i.keys(this.routes);(he=be.pop())!=null;)this.route(he,this.routes[he])}},_routeToRegExp:function(he){return he=he.replace(Je,"\\$&").replace(Se,"(?:$1)?").replace(Ge,function(be,Ce){return Ce?be:"([^/?]+)"}).replace(Qe,"([^?]*?)"),new RegExp("^"+he+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(he,be){var Ce=he.exec(be).slice(1);return i.map(Ce,function(Le,Ue){return Ue===Ce.length-1?Le||null:Le?decodeURIComponent(Le):null})}});var Xe=n.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},gt=/^[#\/]|\s+$/g,Ct=/^\/+|\/+$/g,ar=/#.*$/;Xe.started=!1,i.extend(Xe.prototype,c,{interval:50,atRoot:function(){var he=this.location.pathname.replace(/[^\/]$/,"$&/");return he===this.root&&!this.getSearch()},matchRoot:function(){var he=this.decodeFragment(this.location.pathname),be=he.slice(0,this.root.length-1)+"/";return be===this.root},decodeFragment:function(he){return decodeURI(he.replace(/%25/g,"%2525"))},getSearch:function(){var he=this.location.href.replace(/#.*/,"").match(/\?.+/);return he?he[0]:""},getHash:function(he){var be=(he||this).location.href.match(/#(.*)$/);return be?be[1]:""},getPath:function(){var he=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return he.charAt(0)==="/"?he.slice(1):he},getFragment:function(he){return he==null&&(this._usePushState||!this._wantsHashChange?he=this.getPath():he=this.getHash()),he.replace(gt,"")},start:function(he){if(Xe.started)throw new Error("Backbone.history has already been started");if(Xe.started=!0,this.options=i.extend({root:"/"},this.options,he),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(Ct,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var be=this.root.slice(0,-1)||"/";return this.location.replace(be+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var Ce=document.body,Le=Ce.insertBefore(this.iframe,Ce.firstChild).contentWindow;Le.document.open(),Le.document.close(),Le.location.hash="#"+this.fragment}var Ue=window.addEventListener||function(We,ot){return attachEvent("on"+We,ot)};if(this._usePushState?Ue("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?Ue("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var he=window.removeEventListener||function(be,Ce){return detachEvent("on"+be,Ce)};this._usePushState?he("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&he("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),Xe.started=!1},route:function(he,be){this.handlers.unshift({route:he,callback:be})},checkUrl:function(he){var be=this.getFragment();if(be===this.fragment&&this.iframe&&(be=this.getHash(this.iframe.contentWindow)),be===this.fragment)return!1;this.iframe&&this.navigate(be),this.loadUrl()},loadUrl:function(he){return this.matchRoot()?(he=this.fragment=this.getFragment(he),i.some(this.handlers,function(be){if(be.route.test(he))return be.callback(he),!0})):!1},navigate:function(he,be){if(!Xe.started)return!1;(!be||be===!0)&&(be={trigger:!!be}),he=this.getFragment(he||"");var Ce=this.root;(he===""||he.charAt(0)==="?")&&(Ce=Ce.slice(0,-1)||"/");var Le=Ce+he;he=he.replace(ar,"");var Ue=this.decodeFragment(he);if(this.fragment!==Ue){if(this.fragment=Ue,this._usePushState)this.history[be.replace?"replaceState":"pushState"]({},document.title,Le);else if(this._wantsHashChange){if(this._updateHash(this.location,he,be.replace),this.iframe&&he!==this.getHash(this.iframe.contentWindow)){var We=this.iframe.contentWindow;be.replace||(We.document.open(),We.document.close()),this._updateHash(We.location,he,be.replace)}}else return this.location.assign(Le);if(be.trigger)return this.loadUrl(he)}},_updateHash:function(he,be,Ce){if(Ce){var Le=he.href.replace(/(javascript:|#).*$/,"");he.replace(Le+"#"+be)}else he.hash="#"+be}}),n.history=new Xe;var De=function(he,be){var Ce=this,Le;return he&&i.has(he,"constructor")?Le=he.constructor:Le=function(){return Ce.apply(this,arguments)},i.extend(Le,Ce,be),Le.prototype=i.create(Ce.prototype,he),Le.prototype.constructor=Le,Le.__super__=Ce.prototype,Le};D.extend=k.extend=Re.extend=ie.extend=Xe.extend=De;var Oe=function(){throw new Error('A "url" property or function must be specified')},Be=function(he,be){var Ce=be.error;be.error=function(Le){Ce&&Ce.call(be.context,he,Le,be),he.trigger("error",he,Le,be)}};return n})})(backbone)),backbone}var backboneExports=requireBackbone(),jqueryExports=requireJquery();const $$1=getDefaultExportFromCjs(jqueryExports),ElementProto=typeof Element<"u"?Element.prototype:void 0;function matchesFallback(t){const e=(this.document||this.ownerDocument).querySelectorAll(t);let n=e.length;for(;--n>=0&&e.item(n)!==this;);return n>-1}const matchesSelector=ElementProto&&(ElementProto.matches||ElementProto.webkitMatchesSelector||ElementProto.mozMatchesSelector||ElementProto.msMatchesSelector||ElementProto.oMatchesSelector)||matchesFallback;class NativeView extends backboneExports.View{_removeElement(){this.undelegateEvents(),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}_setElement(e){this.el=e}_setAttributes(e){for(const n in e)n in this.el?this.el[n]=e[n]:this.el.setAttribute(n,e[n])}delegate(e,n,i){typeof n!="string"&&(i=n,n=null),this._domEvents===void 0&&(this._domEvents=[]);const o=this.el,u=n?function(l){let c=l.target||l.srcElement;for(;c&&c!==o;c=c.parentNode)if(matchesSelector.call(c,n))return l.delegateTarget=c,i.handleEvent?i.handleEvent(l):i(l)}:i;return this.el.addEventListener(e,u,!1),this._domEvents.push({eventName:e,handler:u,listener:i,selector:n}),u}undelegate(e,n,i){if(typeof n=="function"&&(i=n,n=null),this.el&&this._domEvents){const o=this._domEvents.slice();let u=o.length;for(;u--;){const l=o[u];l.eventName===e&&(!i||l.listener===i)&&(!n||l.selector===n)&&(this.el.removeEventListener(l.eventName,l.handler,!1),this._domEvents.splice(u,1))}}return this}undelegateEvents(){if(this.el&&this._domEvents){const e=this._domEvents.length;for(let n=0;n<e;n++){const i=this._domEvents[n];this.el.removeEventListener(i.eventName,i.handler,!1)}this._domEvents.length=0}return this}}const JUPYTER_WIDGETS_VERSION="2.0.0",PROTOCOL_VERSION="2.1.0",IPY_MODEL_="IPY_MODEL_";function unpack_models(t,e){if(Array.isArray(t)){const n=[];for(const i of t)n.push(unpack_models(i,e));return Promise.all(n)}else if(t instanceof Object&&typeof t!="string"){const n={};for(const[i,o]of Object.entries(t))n[i]=unpack_models(o,e);return resolvePromisesDict(n)}else return typeof t=="string"&&t.slice(0,10)===IPY_MODEL_?e.get_model(t.slice(10,t.length)):Promise.resolve(t)}function pack_models(t,e){if(Array.isArray(t)){const n=[];for(const i of t)n.push(pack_models(i));return n}else{if(t instanceof WidgetModel)return`${IPY_MODEL_}${t.model_id}`;if(t instanceof Object&&typeof t!="string"){const n={};for(const[i,o]of Object.entries(t))n[i]=pack_models(o);return n}else return t}}class WidgetModel extends backboneExports.Model{defaults(){return{_model_module:"@jupyter-widgets/base",_model_name:"WidgetModel",_model_module_version:JUPYTER_WIDGETS_VERSION,_view_module:"@jupyter-widgets/base",_view_name:null,_view_module_version:JUPYTER_WIDGETS_VERSION,_view_count:null}}isNew(){return!1}initialize(e,n){this._expectedEchoMsgIds=new Map,this._attrsToUpdate=new Set,super.initialize(e,n),this.widget_manager=n.widget_manager,this.model_id=n.model_id;const i=n.comm;this.views=Object.create(null),this.state_change=Promise.resolve(),this._closed=!1,this._state_lock=null,this._msg_buffer=null,this._msg_buffer_callbacks=null,this._pending_msgs=0,this._buffered_state_diff={},i?(this.comm=i,i.on_close(this._handle_comm_closed.bind(this)),i.on_msg(this._handle_comm_msg.bind(this)),this.comm_live=!0):this.comm_live=!1}get comm_live(){return this._comm_live}set comm_live(e){this._comm_live=e,this.trigger("comm_live_update")}send(e,n,i){if(this.comm!==void 0){const o={method:"custom",content:e};this.comm.send(o,n,{},i)}}close(e=!1){if(this._closed)return Promise.resolve();if(this._closed=!0,this.comm&&!e&&this.comm.close(),this.stopListening(),this.trigger("destroy",this),this.comm&&delete this.comm,this.views){const n=Object.keys(this.views).map(i=>this.views[i].then(o=>o.remove()));return delete this.views,Promise.all(n).then(()=>{})}return Promise.resolve()}_handle_comm_closed(e){this.trigger("comm:close"),this.close(!0)}_handle_comm_msg(e){const n=e.content.data,i=n.method;switch(i){case"update":case"echo_update":return this.state_change=this.state_change.then(()=>{var o,u,l;const c=n.state,f=(o=n.buffer_paths)!==null&&o!==void 0?o:[],d=(l=(u=e.buffers)===null||u===void 0?void 0:u.slice(0,f.length))!==null&&l!==void 0?l:[];if(put_buffers(c,f,d),e.parent_header&&i==="echo_update"){const m=e.parent_header.msg_id;Object.keys(c).filter(v=>this._expectedEchoMsgIds.has(v)).forEach(v=>{this._expectedEchoMsgIds.get(v)!==m?delete c[v]:(this._expectedEchoMsgIds.delete(v),this._msg_buffer!==null&&Object.prototype.hasOwnProperty.call(this._msg_buffer,v)&&delete c[v])})}return this.constructor._deserialize_state(c,this.widget_manager)}).then(o=>{this.set_state(o)}).catch(reject$2(`Could not process update msg for model id: ${this.model_id}`,!0)),this.state_change;case"custom":return this.trigger("msg:custom",n.content,e.buffers),Promise.resolve()}return Promise.resolve()}set_state(e){this._state_lock=e;try{this.set(e)}catch(n){console.error(`Error setting state: ${n instanceof Error?n.message:n}`)}finally{this._state_lock=null}}get_state(e){const n=this.attributes;if(e){const i=this.defaults,o=typeof i=="function"?i.call(this):i,u={};return Object.keys(n).forEach(l=>{isEqual$1(n[l],o[l])||(u[l]=n[l])}),u}else return Object.assign({},n)}_handle_status(e){if(this.comm!==void 0&&e.content.execution_state==="idle"&&(this._pending_msgs--,this._pending_msgs<0&&(console.error(`Jupyter Widgets message throttle: Pending messages < 0 (=${this._pending_msgs}), which is unexpected. Resetting to 0 to continue.`),this._pending_msgs=0),this._msg_buffer!==null&&this._pending_msgs<1)){const n=this.send_sync_message(this._msg_buffer,this._msg_buffer_callbacks);this.rememberLastUpdateFor(n),this._msg_buffer=null,this._msg_buffer_callbacks=null}}callbacks(e){return this.widget_manager.callbacks(e)}set(e,n,i){const o=set.call(this,e,n,i);if(this._buffered_state_diff!==void 0){const u=this.changedAttributes()||{};if(this._state_lock)for(const l of Object.keys(this._state_lock))u[l]===this._state_lock[l]&&delete u[l];if(this._buffered_state_diff_synced)for(const l of Object.keys(this._buffered_state_diff_synced))u[l]===this._buffered_state_diff_synced[l]&&delete u[l];this._buffered_state_diff=assign(this._buffered_state_diff,u)}return this._changing===!1&&(this._buffered_state_diff_synced={}),o}sync(e,n,i={}){if(this.comm===void 0)throw"Syncing error: no comm channel defined";const o=e==="patch"?i.attrs:n.get_state(i.drop_defaults);if(this._state_lock)for(const l of Object.keys(this._state_lock))o[l]===this._state_lock[l]&&delete o[l];Object.keys(o).forEach(l=>{this._attrsToUpdate.add(l)});const u=this.serialize(o);if(Object.keys(u).length>0){const l=i.callbacks||this.callbacks();if(this._pending_msgs>=1){switch(e){case"patch":this._msg_buffer=assign(this._msg_buffer||{},u);break;case"update":case"create":this._msg_buffer=u;break;default:throw"unrecognized syncing method"}this._msg_buffer_callbacks=l}else{const c=this.send_sync_message(o,l);this.rememberLastUpdateFor(c)}}}rememberLastUpdateFor(e){this._attrsToUpdate.forEach(n=>{this._expectedEchoMsgIds.set(n,e)}),this._attrsToUpdate=new Set}serialize(e){const n=this.constructor.serializers||JSONExt$2.emptyObject;for(const i of Object.keys(e))try{n[i]&&n[i].serialize?e[i]=n[i].serialize(e[i],this):e[i]=JSON.parse(JSON.stringify(e[i])),e[i]&&e[i].toJSON&&(e[i]=e[i].toJSON())}catch(o){throw console.error("Error serializing widget state attribute: ",i),o}return e}send_sync_message(e,n={}){if(!this.comm)return"";try{n={shell:Object.assign({},n.shell),iopub:Object.assign({},n.iopub),input:n.input};const i=n.iopub.status;n.iopub.status=l=>{this._handle_status(l),i&&i(l)};const o=remove_buffers(e),u=this.comm.send({method:"update",state:o.state,buffer_paths:o.buffer_paths},n,{},o.buffers);return this._pending_msgs++,u}catch(i){console.error("Could not send widget sync message",i)}return""}save_changes(e){if(this.comm_live){const n={patch:!0};e&&(n.callbacks=e),this.save(this._buffered_state_diff,n),this._changing&&assign(this._buffered_state_diff_synced,this._buffered_state_diff),this._buffered_state_diff={}}}on_some_change(e,n,i){this.on("change",(...o)=>{e.some(this.hasChanged,this)&&n.apply(i,o)},this)}toJSON(e){return`IPY_MODEL_${this.model_id}`}static _deserialize_state(e,n){const i=this.serializers;let o;if(i){o={};for(const u in e)i[u]&&i[u].deserialize?o[u]=i[u].deserialize(e[u],n):o[u]=e[u]}else o=e;return resolvePromisesDict(o)}}class DOMWidgetModel extends WidgetModel{defaults(){return assign(super.defaults(),{_dom_classes:[],tabbable:null,tooltip:null})}}DOMWidgetModel.serializers=Object.assign(Object.assign({},WidgetModel.serializers),{layout:{deserialize:unpack_models},style:{deserialize:unpack_models}});class WidgetView extends NativeView{constructor(e){super(e)}initialize(e){this.listenTo(this.model,"change",(n,i)=>{const o=Object.keys(this.model.changedAttributes()||{});o[0]==="_view_count"&&o.length===1||this.update(i)}),this.options=e.options,this.once("remove",()=>{typeof this.model.get("_view_count")=="number"&&(this.model.set("_view_count",this.model.get("_view_count")-1),this.model.save_changes())}),this.once("displayed",()=>{typeof this.model.get("_view_count")=="number"&&(this.model.set("_view_count",this.model.get("_view_count")+1),this.model.save_changes())}),this.displayed=new Promise((n,i)=>{this.once("displayed",n),this.model.on("msg:custom",this.handle_message.bind(this))})}handle_message(e){e.do==="focus"?this.el.focus():e.do==="blur"&&this.el.blur()}update(e){}render(){}create_child_view(e,n={}){return n=Object.assign({parent:this},n),this.model.widget_manager.create_view(e,n).catch(reject$2("Could not create child view",!0))}callbacks(){return this.model.callbacks(this)}send(e,n){this.model.send(e,this.callbacks(),n)}touch(){this.model.save_changes(this.callbacks())}remove(){return super.remove(),this.trigger("remove"),this}}class JupyterLuminoWidget extends Widget$1{constructor(e){const n=e.view;delete e.view,super(e),this._view=n}dispose(){this.isDisposed||(super.dispose(),this._view.remove(),this._view=null)}processMessage(e){super.processMessage(e),this._view.processLuminoMessage(e)}}const JupyterPhosphorWidget=JupyterLuminoWidget;class JupyterLuminoPanelWidget extends Panel$1{constructor(e){const n=e.view;delete e.view,super(e),this._view=n}processMessage(e){super.processMessage(e),this._view.processLuminoMessage(e)}dispose(){var e;this.isDisposed||(super.dispose(),(e=this._view)===null||e===void 0||e.remove(),this._view=null)}}const JupyterPhosphorPanelWidget=JupyterLuminoPanelWidget;class DOMWidgetView extends WidgetView{initialize(e){super.initialize(e),this.listenTo(this.model,"change:_dom_classes",(n,i)=>{const o=n.previous("_dom_classes");this.update_classes(o,i)}),this.layoutPromise=Promise.resolve(),this.listenTo(this.model,"change:layout",(n,i)=>{this.setLayout(i,n.previous("layout"))}),this.stylePromise=Promise.resolve(),this.listenTo(this.model,"change:style",(n,i)=>{this.setStyle(i,n.previous("style"))}),this.displayed.then(()=>{this.update_classes([],this.model.get("_dom_classes")),this.setLayout(this.model.get("layout")),this.setStyle(this.model.get("style"))}),this._comm_live_update(),this.listenTo(this.model,"comm_live_update",()=>{this._comm_live_update()}),this.listenTo(this.model,"change:tooltip",this.updateTooltip),this.updateTooltip()}setLayout(e,n){e&&(this.layoutPromise=this.layoutPromise.then(i=>(i&&(i.unlayout(),this.stopListening(i.model),i.remove()),this.create_child_view(e).then(o=>this.displayed.then(()=>(o.trigger("displayed"),this.listenTo(o.model,"change",()=>{MessageLoop$1.postMessage(this.luminoWidget,Widget$1.ResizeMessage.UnknownSize)}),MessageLoop$1.postMessage(this.luminoWidget,Widget$1.ResizeMessage.UnknownSize),this.trigger("layout-changed"),o))).catch(reject$2("Could not add LayoutView to DOMWidgetView",!0)))))}setStyle(e,n){e&&(this.stylePromise=this.stylePromise.then(i=>(i&&(i.unstyle(),this.stopListening(i.model),i.remove()),this.create_child_view(e).then(o=>this.displayed.then(()=>(o.trigger("displayed"),this.trigger("style-changed"),o))).catch(reject$2("Could not add styleView to DOMWidgetView",!0)))))}updateTooltip(){const e=this.model.get("tooltip");e?this.model.get("description").length===0&&this.el.setAttribute("title",e):this.el.removeAttribute("title")}update_classes(e,n,i){i===void 0&&(i=this.el),difference$1(e,n).map(function(o){i.classList?i.classList.remove(o):i.setAttribute("class",i.getAttribute("class").replace(o,""))}),difference$1(n,e).map(function(o){i.classList?i.classList.add(o):i.setAttribute("class",i.getAttribute("class").concat(" ",o))})}update_mapped_classes(e,n,i){let o=this.model.previous(n);const u=e[o]?e[o]:[];o=this.model.get(n);const l=e[o]?e[o]:[];this.update_classes(u,l,i||this.el)}set_mapped_classes(e,n,i){const o=this.model.get(n),u=e[o]?e[o]:[];this.update_classes([],u,i||this.el)}_setElement(e){this.luminoWidget&&this.luminoWidget.dispose(),this.$el=e instanceof $$1?e:$$1(e),this.el=this.$el[0],this.luminoWidget=new JupyterLuminoWidget({node:e,view:this})}remove(){return this.luminoWidget&&this.luminoWidget.dispose(),super.remove()}processPhosphorMessage(e){this.processLuminoMessage(e)}processLuminoMessage(e){switch(e.type){case"after-attach":this.trigger("displayed");break;case"show":this.trigger("shown");break}}_comm_live_update(){this.model.comm_live?this.luminoWidget.removeClass("jupyter-widgets-disconnected"):this.luminoWidget.addClass("jupyter-widgets-disconnected")}updateTabindex(){const e=this.model.get("tabbable");e===!0?this.el.setAttribute("tabIndex","0"):e===!1?this.el.setAttribute("tabIndex","-1"):e===null&&this.el.removeAttribute("tabIndex")}get pWidget(){return this.luminoWidget}set pWidget(e){this.luminoWidget=e}}const css_properties={align_content:null,align_items:null,align_self:null,border_top:null,border_right:null,border_bottom:null,border_left:null,bottom:null,display:null,flex:null,flex_flow:null,height:null,justify_content:null,justify_items:null,left:null,margin:null,max_height:null,max_width:null,min_height:null,min_width:null,overflow:null,order:null,padding:null,right:null,top:null,visibility:null,width:null,object_fit:null,object_position:null,grid_auto_columns:null,grid_auto_flow:null,grid_auto_rows:null,grid_gap:null,grid_template_rows:null,grid_template_columns:null,grid_template_areas:null,grid_row:null,grid_column:null,grid_area:null};class LayoutModel extends WidgetModel{defaults(){return assign(super.defaults(),{_model_name:"LayoutModel",_view_name:"LayoutView"},css_properties)}}class LayoutView extends WidgetView{initialize(e){this._traitNames=[],super.initialize(e);for(const n of Object.keys(css_properties))this.registerTrait(n)}registerTrait(e){this._traitNames.push(e),this.listenTo(this.model,"change:"+e,(n,i)=>{this.handleChange(e,i)}),this.handleChange(e,this.model.get(e))}css_name(e){return e.replace(/_/g,"-")}handleChange(e,n){const i=this.options.parent;i?n===null?i.el.style.removeProperty(this.css_name(e)):i.el.style.setProperty(this.css_name(e),n):console.warn("Style not applied because a parent view does not exist")}unlayout(){const e=this.options.parent;this._traitNames.forEach(n=>{e?e.el.style.removeProperty(this.css_name(n)):console.warn("Style not removed because a parent view does not exist")},this)}}class StyleModel extends WidgetModel{defaults(){const e=this.constructor;return assign(super.defaults(),{_model_name:"StyleModel",_view_name:"StyleView"},Object.keys(e.styleProperties).reduce((n,i)=>(n[i]=e.styleProperties[i].default,n),{}))}}StyleModel.styleProperties={};class StyleView extends WidgetView{initialize(e){this._traitNames=[],super.initialize(e);const n=this.model.constructor;for(const i of Object.keys(n.styleProperties))this.registerTrait(i);this.style()}registerTrait(e){this._traitNames.push(e),this.listenTo(this.model,"change:"+e,(n,i)=>{this.handleChange(e,i)})}handleChange(e,n){const i=this.options.parent;if(i){const u=this.model.constructor.styleProperties,l=u[e].attribute,c=u[e].selector,f=c?i.el.querySelectorAll(c):[i.el];if(n===null)for(let d=0;d!==f.length;++d)f[d].style.removeProperty(l);else for(let d=0;d!==f.length;++d)f[d].style.setProperty(l,n)}else console.warn("Style not applied because a parent view does not exist")}style(){for(const e of this._traitNames)this.handleChange(e,this.model.get(e))}unstyle(){const e=this.options.parent,i=this.model.constructor.styleProperties;this._traitNames.forEach(o=>{if(e){const u=i[o].attribute,l=i[o].selector,c=l?e.el.querySelectorAll(l):[e.el];for(let f=0;f!==c.length;++f)c[f].style.removeProperty(u)}else console.warn("Style not removed because a parent view does not exist")},this)}}var shims;(function(t){(function(e){class n{constructor(u){this.targets=Object.create(null),this.comms=Object.create(null),this.init_kernel(u)}init_kernel(u){this.kernel=u,this.jsServicesKernel=u}async new_comm(u,l,c,f,d,m){const g=this.jsServicesKernel.createComm(u,d),v=new i(g);return this.register_comm(v),v.open(l,c,f,m),v}register_target(u,l){const c=this.jsServicesKernel.registerCommTarget(u,(f,d)=>{const m=new i(f);this.register_comm(m);try{return l(m,d)}catch(g){m.close(),console.error(g),console.error(new Error("Exception opening new comm"))}});this.targets[u]=c}unregister_target(u,l){this.targets[u].dispose(),delete this.targets[u]}register_comm(u){return this.comms[u.comm_id]=Promise.resolve(u),u.kernel=this.kernel,u.comm_id}}e.CommManager=n;class i{constructor(u){this.jsServicesComm=u}get comm_id(){return this.jsServicesComm.commId}get target_name(){return this.jsServicesComm.targetName}open(u,l,c,f){const d=this.jsServicesComm.open(u,c,f);return this._hookupCallbacks(d,l),d.msg.header.msg_id}send(u,l,c,f){const d=this.jsServicesComm.send(u,c,f);return this._hookupCallbacks(d,l),d.msg.header.msg_id}close(u,l,c,f){const d=this.jsServicesComm.close(u,c,f);return this._hookupCallbacks(d,l),d.msg.header.msg_id}on_msg(u){this.jsServicesComm.onMsg=u.bind(this)}on_close(u){this.jsServicesComm.onClose=u.bind(this)}_hookupCallbacks(u,l){l&&(u.onReply=function(c){l.shell&&l.shell.reply&&l.shell.reply(c)},u.onStdin=function(c){l.input&&l.input(c)},u.onIOPub=function(c){if(l.iopub){if(l.iopub.status&&c.header.msg_type==="status")l.iopub.status(c);else if(l.iopub.clear_output&&c.header.msg_type==="clear_output")l.iopub.clear_output(c);else if(l.iopub.output)switch(c.header.msg_type){case"display_data":case"execute_result":case"stream":case"error":l.iopub.output(c);break}}})}}e.Comm=i})(t.services||(t.services={}))})(shims||(shims={}));class ViewList{constructor(e,n,i){this.initialize(e,n,i)}initialize(e,n,i){this._handler_context=i||this,this._models=[],this.views=[],this._create_view=e,this._remove_view=n||function(o){o.remove()}}update(e,n,i,o){const u=i||this._remove_view,l=n||this._create_view;o=o||this._handler_context;let c=0;for(;c<e.length&&!(c>=this._models.length||e[c]!==this._models[c]);c++);const f=c,d=this.views.splice(f,this.views.length-f);for(let m=0;m<d.length;m++)d[m].then(function(g){u.call(o,g)});for(;c<e.length;c++)this.views.push(Promise.resolve(l.call(o,e[c],c)));return this._models=e.slice(),Promise.all(this.views)}remove(){return Promise.all(this.views).then(e=>{e.forEach(n=>this._remove_view.call(this._handler_context,n)),this.views=[],this._models=[]})}dispose(){this.views=null,this._models=null}}const IJupyterWidgetRegistry=new Token("jupyter.extensions.jupyterWidgetRegistry");function createErrorWidgetModel(t,e){class n extends DOMWidgetModel{constructor(o,u){o=Object.assign(Object.assign({},o),{_view_name:"ErrorWidgetView",_view_module:"@jupyter-widgets/base",_model_module_version:JUPYTER_WIDGETS_VERSION,_view_module_version:JUPYTER_WIDGETS_VERSION,msg:e,error:t}),super(o,u),this.comm_live=!0}}return n}class ErrorWidgetView extends DOMWidgetView{generateErrorMessage(){return{msg:this.model.get("msg"),stack:String(this.model.get("error").stack)}}render(){const{msg:e,stack:n}=this.generateErrorMessage();this.el.classList.add("jupyter-widgets");const i=document.createElement("div");i.classList.add("jupyter-widgets-error-widget","icon-error"),i.innerHTML=BROKEN_FILE_SVG_ICON;const o=document.createElement("pre");o.style.textAlign="center",o.innerText="Click to show javascript error.",i.append(o),this.el.appendChild(i);let u,l;this.el.onclick=()=>{i.classList.contains("icon-error")&&(l=l||i.clientHeight,u=u||i.clientWidth,i.classList.remove("icon-error"),i.innerHTML=`
        <pre>[Open Browser Console for more detailed log - Double click to close this message]
${e}
${n}</pre>
        `,i.style.height=`${l}px`,i.style.width=`${u}px`,i.classList.add("text-error"))},this.el.ondblclick=()=>{i.classList.contains("text-error")&&(i.classList.remove("text-error"),i.innerHTML=BROKEN_FILE_SVG_ICON,i.append(o),i.classList.add("icon-error"))}}}function createErrorWidgetView(t,e){return class extends ErrorWidgetView{generateErrorMessage(){return{msg:e,stack:String(t instanceof Error?t.stack:t)}}}}const base$2=Object.freeze(Object.defineProperty({__proto__:null,BROKEN_FILE_SVG_ICON,DOMWidgetModel,DOMWidgetView,ErrorWidgetView,IJupyterWidgetRegistry,JUPYTER_WIDGETS_VERSION,JupyterLuminoPanelWidget,JupyterLuminoWidget,JupyterPhosphorPanelWidget,JupyterPhosphorWidget,LayoutModel,LayoutView,PROTOCOL_VERSION,StyleModel,StyleView,ViewList,WidgetModel,WidgetView,assign,createErrorWidgetModel,createErrorWidgetView,difference:difference$1,isEqual:isEqual$1,isObject:isObject$2,isSerializable,pack_models,put_buffers,reject:reject$2,remove_buffers,resolvePromisesDict,get shims(){return shims},unpack_models,uuid},Symbol.toStringTag,{value:"Module"}));var base64Js={},hasRequiredBase64Js;function requireBase64Js(){if(hasRequiredBase64Js)return base64Js;hasRequiredBase64Js=1,base64Js.byteLength=c,base64Js.toByteArray=d,base64Js.fromByteArray=v;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,u=i.length;o<u;++o)t[o]=i[o],e[i.charCodeAt(o)]=o;e[45]=62,e[95]=63;function l(y){var w=y.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var T=y.indexOf("=");T===-1&&(T=w);var P=T===w?0:4-T%4;return[T,P]}function c(y){var w=l(y),T=w[0],P=w[1];return(T+P)*3/4-P}function f(y,w,T){return(w+T)*3/4-T}function d(y){var w,T=l(y),P=T[0],A=T[1],D=new n(f(y,P,A)),k=0,j=A>0?P-4:P,B;for(B=0;B<j;B+=4)w=e[y.charCodeAt(B)]<<18|e[y.charCodeAt(B+1)]<<12|e[y.charCodeAt(B+2)]<<6|e[y.charCodeAt(B+3)],D[k++]=w>>16&255,D[k++]=w>>8&255,D[k++]=w&255;return A===2&&(w=e[y.charCodeAt(B)]<<2|e[y.charCodeAt(B+1)]>>4,D[k++]=w&255),A===1&&(w=e[y.charCodeAt(B)]<<10|e[y.charCodeAt(B+1)]<<4|e[y.charCodeAt(B+2)]>>2,D[k++]=w>>8&255,D[k++]=w&255),D}function m(y){return t[y>>18&63]+t[y>>12&63]+t[y>>6&63]+t[y&63]}function g(y,w,T){for(var P,A=[],D=w;D<T;D+=3)P=(y[D]<<16&16711680)+(y[D+1]<<8&65280)+(y[D+2]&255),A.push(m(P));return A.join("")}function v(y){for(var w,T=y.length,P=T%3,A=[],D=16383,k=0,j=T-P;k<j;k+=D)A.push(g(y,k,k+D>j?j:k+D));return P===1?(w=y[T-1],A.push(t[w>>2]+t[w<<4&63]+"==")):P===2&&(w=(y[T-2]<<8)+y[T-1],A.push(t[w>>10]+t[w>>4&63]+t[w<<2&63]+"=")),A.join("")}return base64Js}var base64JsExports=requireBase64Js();function hexToBuffer(t){const e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2)e[n/2]=parseInt(t.slice(n,n+2),16);return e.buffer}function bufferToBase64(t){return base64JsExports.fromByteArray(new Uint8Array(t))}function base64ToBuffer(t){return base64JsExports.toByteArray(t).buffer}const inline="$",MATHSPLIT=/(\$\$?|\\(?:begin|end)\{[a-z]*\*?\}|\\[{}$]|[{}]|(?:\n\s*)+|@@\d+@@|\\\\(?:\(|\)|\[|\]))/i;function removeMath(t){const e=[];let n=null,i=null,o=null,u=0,l;/`/.test(t)?(t=t.replace(/~/g,"~T").replace(/(^|[^\\])(`+)([^\n]*?[^`\n])\2(?!`)/gm,d=>d.replace(/\$/g,"~D")),l=d=>d.replace(/~([TD])/g,(m,g)=>g==="T"?"~":inline)):l=d=>d;let f=t.replace(/\r\n?/g,`
`).split(MATHSPLIT);for(let d=1,m=f.length;d<m;d+=2){const g=f[d];g.charAt(0)==="@"?(f[d]="@@"+e.length+"@@",e.push(g)):n!==null?g===i?u?o=d:(f=processMath(n,d,l,e,f),n=null,i=null,o=null):g.match(/\n.*\n/)?(o!==null&&(d=o,f=processMath(n,d,l,e,f)),n=null,i=null,o=null,u=0):g==="{"?u++:g==="}"&&u&&u--:g===inline||g==="$$"?(n=d,i=g,u=0):g==="\\\\("||g==="\\\\["?(n=d,i=g.slice(-1)==="("?"\\\\)":"\\\\]",u=0):g.substr(1,5)==="begin"&&(n=d,i="\\end"+g.substr(6),u=0)}return n!==null&&o!==null&&(f=processMath(n,o,l,e,f),n=null,i=null,o=null),{text:l(f.join("")),math:e}}function replaceMath(t,e){const n=(i,o)=>{let u=e[o];return u.substr(0,3)==="\\\\("&&u.substr(u.length-3)==="\\\\)"?u="\\("+u.substring(3,u.length-3)+"\\)":u.substr(0,3)==="\\\\["&&u.substr(u.length-3)==="\\\\]"&&(u="\\["+u.substring(3,u.length-3)+"\\]"),u};return t.replace(/@@(\d+)@@/g,n)}function processMath(t,e,n,i,o){let u=o.slice(t,e+1).join("").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");for(navigator&&navigator.appName==="Microsoft Internet Explorer"&&(u=u.replace(/(%[^\n]*)\n/g,`$1<br/>
`));e>t;)o[e]="",e--;return o[t]="@@"+i.length+"@@",n&&(u=n(u)),i.push(u),o}var sanitizeHtml_1,hasRequiredSanitizeHtml;function requireSanitizeHtml(){if(hasRequiredSanitizeHtml)return sanitizeHtml_1;hasRequiredSanitizeHtml=1;const t=requireLib$4(),e=requireEscapeStringRegexp(),{isPlainObject:n}=requireIsPlainObject(),i=requireCjs(),o=requireParseSrcset(),{parse:u}=requirePostcss(),l=["img","audio","video","picture","svg","object","map","iframe","embed"],c=["script","style"];function f(P,A){P&&Object.keys(P).forEach(function(D){A(P[D],D)})}function d(P,A){return{}.hasOwnProperty.call(P,A)}function m(P,A){const D=[];return f(P,function(k){A(k)&&D.push(k)}),D}function g(P){for(const A in P)if(d(P,A))return!1;return!0}function v(P){return P.map(function(A){if(!A.url)throw new Error("URL missing");return A.url+(A.w?` ${A.w}w`:"")+(A.h?` ${A.h}h`:"")+(A.d?` ${A.d}x`:"")}).join(", ")}sanitizeHtml_1=w;const y=/^[^\0\t\n\f\r /<=>]+$/;function w(P,A,D){if(P==null)return"";typeof P=="number"&&(P=P.toString());let k="",j="";function B(De,Oe){const Be=this;this.tag=De,this.attribs=Oe||{},this.tagPosition=k.length,this.text="",this.openingTagLength=0,this.mediaChildren=[],this.updateParentNodeText=function(){if(de.length){const he=de[de.length-1];he.text+=Be.text}},this.updateParentNodeMediaChildren=function(){de.length&&l.includes(this.tag)&&de[de.length-1].mediaChildren.push(this.tag)}}A=Object.assign({},w.defaults,A),A.parser=Object.assign({},T,A.parser);const Z=function(De){return A.allowedTags===!1||(A.allowedTags||[]).indexOf(De)>-1};c.forEach(function(De){Z(De)&&!A.allowVulnerableTags&&console.warn(`

 Your \`allowedTags\` option includes, \`${De}\`, which is inherently
vulnerable to XSS attacks. Please remove it from \`allowedTags\`.
Or, to disable this warning, add the \`allowVulnerableTags\` option
and ensure you are accounting for this risk.

`)});const R=A.nonTextTags||["script","style","textarea","option"];let G,F;A.allowedAttributes&&(G={},F={},f(A.allowedAttributes,function(De,Oe){G[Oe]=[];const Be=[];De.forEach(function(he){typeof he=="string"&&he.indexOf("*")>=0?Be.push(e(he).replace(/\\\*/g,".*")):G[Oe].push(he)}),Be.length&&(F[Oe]=new RegExp("^("+Be.join("|")+")$"))}));const K={},Q={},ie={};f(A.allowedClasses,function(De,Oe){if(G&&(d(G,Oe)||(G[Oe]=[]),G[Oe].push("class")),K[Oe]=De,Array.isArray(De)){const Be=[];K[Oe]=[],ie[Oe]=[],De.forEach(function(he){typeof he=="string"&&he.indexOf("*")>=0?Be.push(e(he).replace(/\\\*/g,".*")):he instanceof RegExp?ie[Oe].push(he):K[Oe].push(he)}),Be.length&&(Q[Oe]=new RegExp("^("+Be.join("|")+")$"))}});const te={};let oe;f(A.transformTags,function(De,Oe){let Be;typeof De=="function"?Be=De:typeof De=="string"&&(Be=w.simpleTransform(De)),Oe==="*"?oe=Be:te[Oe]=Be});let le,de,ge,_e,we,Me,xe=!1;Se();const Re=new t.Parser({onopentag:function(De,Oe){if(A.onOpenTag&&A.onOpenTag(De,Oe),A.enforceHtmlBoundary&&De==="html"&&Se(),we){Me++;return}const Be=new B(De,Oe);de.push(Be);let he=!1;const be=!!Be.text;let Ce;if(d(te,De)&&(Ce=te[De](De,Oe),Be.attribs=Oe=Ce.attribs,Ce.text!==void 0&&(Be.innerText=Ce.text),De!==Ce.tagName&&(Be.name=De=Ce.tagName,_e[le]=Ce.tagName)),oe&&(Ce=oe(De,Oe),Be.attribs=Oe=Ce.attribs,De!==Ce.tagName&&(Be.name=De=Ce.tagName,_e[le]=Ce.tagName)),(!Z(De)||A.disallowedTagsMode==="recursiveEscape"&&!g(ge)||A.nestingLimit!=null&&le>=A.nestingLimit)&&(he=!0,ge[le]=!0,(A.disallowedTagsMode==="discard"||A.disallowedTagsMode==="completelyDiscard")&&R.indexOf(De)!==-1&&(we=!0,Me=1)),le++,he){if(A.disallowedTagsMode==="discard"||A.disallowedTagsMode==="completelyDiscard"){if(Be.innerText&&!be){const We=Ge(Be.innerText);A.textFilter?k+=A.textFilter(We,De):k+=We,xe=!0}return}j=k,k=""}k+="<"+De,De==="script"&&(A.allowedScriptHostnames||A.allowedScriptDomains)&&(Be.innerText=""),he&&(A.disallowedTagsMode==="escape"||A.disallowedTagsMode==="recursiveEscape")&&A.preserveEscapedAttributes?f(Oe,function(We,ot){k+=" "+ot+'="'+Ge(We||"",!0)+'"'}):(!G||d(G,De)||G["*"])&&f(Oe,function(We,ot){if(!y.test(ot)){delete Be.attribs[ot];return}if(We===""&&!A.allowedEmptyAttributes.includes(ot)&&(A.nonBooleanAttributes.includes(ot)||A.nonBooleanAttributes.includes("*"))){delete Be.attribs[ot];return}let Rt=!1;if(!G||d(G,De)&&G[De].indexOf(ot)!==-1||G["*"]&&G["*"].indexOf(ot)!==-1||d(F,De)&&F[De].test(ot)||F["*"]&&F["*"].test(ot))Rt=!0;else if(G&&G[De]){for(const Et of G[De])if(n(Et)&&Et.name&&Et.name===ot){Rt=!0;let yt="";if(Et.multiple===!0){const Nt=We.split(" ");for(const St of Nt)Et.values.indexOf(St)!==-1&&(yt===""?yt=St:yt+=" "+St)}else Et.values.indexOf(We)>=0&&(yt=We);We=yt}}if(Rt){if(A.allowedSchemesAppliedToAttributes.indexOf(ot)!==-1&&Qe(De,We)){delete Be.attribs[ot];return}if(De==="script"&&ot==="src"){let Et=!0;try{const yt=Je(We);if(A.allowedScriptHostnames||A.allowedScriptDomains){const Nt=(A.allowedScriptHostnames||[]).find(function(kt){return kt===yt.url.hostname}),St=(A.allowedScriptDomains||[]).find(function(kt){return yt.url.hostname===kt||yt.url.hostname.endsWith(`.${kt}`)});Et=Nt||St}}catch{Et=!1}if(!Et){delete Be.attribs[ot];return}}if(De==="iframe"&&ot==="src"){let Et=!0;try{const yt=Je(We);if(yt.isRelativeUrl)Et=d(A,"allowIframeRelativeUrls")?A.allowIframeRelativeUrls:!A.allowedIframeHostnames&&!A.allowedIframeDomains;else if(A.allowedIframeHostnames||A.allowedIframeDomains){const Nt=(A.allowedIframeHostnames||[]).find(function(kt){return kt===yt.url.hostname}),St=(A.allowedIframeDomains||[]).find(function(kt){return yt.url.hostname===kt||yt.url.hostname.endsWith(`.${kt}`)});Et=Nt||St}}catch{Et=!1}if(!Et){delete Be.attribs[ot];return}}if(ot==="srcset")try{let Et=o(We);if(Et.forEach(function(yt){Qe("srcset",yt.url)&&(yt.evil=!0)}),Et=m(Et,function(yt){return!yt.evil}),Et.length)We=v(m(Et,function(yt){return!yt.evil})),Be.attribs[ot]=We;else{delete Be.attribs[ot];return}}catch{delete Be.attribs[ot];return}if(ot==="class"){const Et=K[De],yt=K["*"],Nt=Q[De],St=ie[De],kt=ie["*"],Pe=Q["*"],ve=[Nt,Pe].concat(St,kt).filter(function(ut){return ut});if(Et&&yt?We=ar(We,i(Et,yt),ve):We=ar(We,Et||yt,ve),!We.length){delete Be.attribs[ot];return}}if(ot==="style"){if(A.parseStyleAttributes)try{const Et=u(De+" {"+We+"}",{map:!1}),yt=Xe(Et,A.allowedStyles);if(We=gt(yt),We.length===0){delete Be.attribs[ot];return}}catch{typeof window<"u"&&console.warn('Failed to parse "'+De+" {"+We+`}", If you're running this in a browser, we recommend to disable style parsing: options.parseStyleAttributes: false, since this only works in a node environment due to a postcss dependency, More info: https://github.com/apostrophecms/sanitize-html/issues/547`),delete Be.attribs[ot];return}else if(A.allowedStyles)throw new Error("allowedStyles option cannot be used together with parseStyleAttributes: false.")}k+=" "+ot,We&&We.length?k+='="'+Ge(We,!0)+'"':A.allowedEmptyAttributes.includes(ot)&&(k+='=""')}else delete Be.attribs[ot]}),A.selfClosing.indexOf(De)!==-1?k+=" />":(k+=">",Be.innerText&&!be&&!A.textFilter&&(k+=Ge(Be.innerText),xe=!0)),he&&(k=j+Ge(k),j=""),Be.openingTagLength=k.length-Be.tagPosition},ontext:function(De){if(we)return;const Oe=de[de.length-1];let Be;if(Oe&&(Be=Oe.tag,De=Oe.innerText!==void 0?Oe.innerText:De),A.disallowedTagsMode==="completelyDiscard"&&!Z(Be))De="";else if((A.disallowedTagsMode==="discard"||A.disallowedTagsMode==="completelyDiscard")&&(Be==="script"||Be==="style"))k+=De;else if(!xe){const he=Ge(De,!1);A.textFilter?k+=A.textFilter(he,Be):k+=he}if(de.length){const he=de[de.length-1];he.text+=De}},onclosetag:function(De,Oe){if(A.onCloseTag&&A.onCloseTag(De,Oe),we)if(Me--,!Me)we=!1;else return;const Be=de.pop();if(!Be)return;if(Be.tag!==De){de.push(Be);return}we=A.enforceHtmlBoundary?De==="html":!1,le--;const he=ge[le];if(he){if(delete ge[le],A.disallowedTagsMode==="discard"||A.disallowedTagsMode==="completelyDiscard"){Be.updateParentNodeText();return}j=k,k=""}if(_e[le]&&(De=_e[le],delete _e[le]),A.exclusiveFilter){const be=A.exclusiveFilter(Be);if(be==="excludeTag"){he&&(k=j,j=""),k=k.substring(0,Be.tagPosition)+k.substring(Be.tagPosition+Be.openingTagLength);return}else if(be){k=k.substring(0,Be.tagPosition);return}}if(Be.updateParentNodeMediaChildren(),Be.updateParentNodeText(),A.selfClosing.indexOf(De)!==-1||Oe&&!Z(De)&&["escape","recursiveEscape"].indexOf(A.disallowedTagsMode)>=0){he&&(k=j,j="");return}k+="</"+De+">",he&&(k=j+Ge(k),j=""),xe=!1}},A.parser);return Re.write(P),Re.end(),k;function Se(){k="",le=0,de=[],ge={},_e={},we=!1,Me=0}function Ge(De,Oe){return typeof De!="string"&&(De=De+""),A.parser.decodeEntities&&(De=De.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Oe&&(De=De.replace(/"/g,"&quot;"))),De=De.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Oe&&(De=De.replace(/"/g,"&quot;")),De}function Qe(De,Oe){for(Oe=Oe.replace(/[\x00-\x20]+/g,"");;){const be=Oe.indexOf("<!--");if(be===-1)break;const Ce=Oe.indexOf("-->",be+4);if(Ce===-1)break;Oe=Oe.substring(0,be)+Oe.substring(Ce+3)}const Be=Oe.match(/^([a-zA-Z][a-zA-Z0-9.\-+]*):/);if(!Be)return Oe.match(/^[/\\]{2}/)?!A.allowProtocolRelative:!1;const he=Be[1].toLowerCase();return d(A.allowedSchemesByTag,De)?A.allowedSchemesByTag[De].indexOf(he)===-1:!A.allowedSchemes||A.allowedSchemes.indexOf(he)===-1}function Je(De){if(De=De.replace(/^(\w+:)?\s*[\\/]\s*[\\/]/,"$1//"),De.startsWith("relative:"))throw new Error("relative: exploit attempt");let Oe="relative://relative-site";for(let be=0;be<100;be++)Oe+=`/${be}`;const Be=new URL(De,Oe);return{isRelativeUrl:Be&&Be.hostname==="relative-site"&&Be.protocol==="relative:",url:Be}}function Xe(De,Oe){if(!Oe)return De;const Be=De.nodes[0];let he;return Oe[Be.selector]&&Oe["*"]?he=i(Oe[Be.selector],Oe["*"]):he=Oe[Be.selector]||Oe["*"],he&&(De.nodes[0].nodes=Be.nodes.reduce(Ct(he),[])),De}function gt(De){return De.nodes[0].nodes.reduce(function(Oe,Be){return Oe.push(`${Be.prop}:${Be.value}${Be.important?" !important":""}`),Oe},[]).join(";")}function Ct(De){return function(Oe,Be){return d(De,Be.prop)&&De[Be.prop].some(function(be){return be.test(Be.value)})&&Oe.push(Be),Oe}}function ar(De,Oe,Be){return Oe?(De=De.split(/\s+/),De.filter(function(he){return Oe.indexOf(he)!==-1||Be.some(function(be){return be.test(he)})}).join(" ")):De}}const T={decodeEntities:!0};return w.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","menu","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],nonBooleanAttributes:["abbr","accept","accept-charset","accesskey","action","allow","alt","as","autocapitalize","autocomplete","blocking","charset","cite","class","color","cols","colspan","content","contenteditable","coords","crossorigin","data","datetime","decoding","dir","dirname","download","draggable","enctype","enterkeyhint","fetchpriority","for","form","formaction","formenctype","formmethod","formtarget","headers","height","hidden","high","href","hreflang","http-equiv","id","imagesizes","imagesrcset","inputmode","integrity","is","itemid","itemprop","itemref","itemtype","kind","label","lang","list","loading","low","max","maxlength","media","method","min","minlength","name","nonce","optimum","pattern","ping","placeholder","popover","popovertarget","popovertargetaction","poster","preload","referrerpolicy","rel","rows","rowspan","sandbox","scope","shape","size","sizes","slot","span","spellcheck","src","srcdoc","srclang","srcset","start","step","style","tabindex","target","title","translate","type","usemap","value","width","wrap","onauxclick","onafterprint","onbeforematch","onbeforeprint","onbeforeunload","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onformdata","onhashchange","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onlanguagechange","onload","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmessageerror","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onoffline","ononline","onpagehide","onpageshow","onpaste","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreset","onresize","onrejectionhandled","onscroll","onscrollend","onsecuritypolicyviolation","onseeked","onseeking","onselect","onslotchange","onstalled","onstorage","onsubmit","onsuspend","ontimeupdate","ontoggle","onunhandledrejection","onunload","onvolumechange","onwaiting","onwheel"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src","srcset","alt","title","width","height","loading"]},allowedEmptyAttributes:["alt"],selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1,parseStyleAttributes:!0,preserveEscapedAttributes:!1},w.simpleTransform=function(P,A,D){return D=D===void 0?!0:D,A=A||{},function(k,j){let B;if(D)for(B in A)j[B]=A[B];else j=A;return{tagName:P,attribs:j}}},sanitizeHtml_1}var sanitizeHtmlExports=requireSanitizeHtml();const sanitize=getDefaultExportFromCjs(sanitizeHtmlExports),PROTOCOL_MAJOR_VERSION=PROTOCOL_VERSION.split(".",1)[0],CONTROL_COMM_TARGET="jupyter.widget.control",CONTROL_COMM_PROTOCOL_VERSION="1.0.0",CONTROL_COMM_TIMEOUT=4e3;function default_inline_sanitize(t){return sanitize(t,{allowedTags:["a","abbr","b","code","em","i","img","li","ol","span","strong","ul"],allowedAttributes:{"*":["aria-*","class","style","title"],a:["href"],img:["src"],style:["media","type"]}})}class ManagerBase{constructor(){this.comm_target_name="jupyter.widget",this._models=Object.create(null)}setViewOptions(e={}){return e}create_view(e,n={}){const i=uuid(),o=e.state_change=e.state_change.then(async()=>{const u=e.get("_view_name"),l=e.get("_view_module");try{const c=await this.loadViewClass(u,l,e.get("_view_module_version")),f=new c({model:e,options:this.setViewOptions(n)});return f.listenTo(e,"destroy",f.remove),await f.render(),f.once("remove",()=>{e.views&&delete e.views[i]}),f}catch(c){console.error(`Could not create a view for model id ${e.model_id}`);const f=`Failed to create view for '${u}' from module '${l}' with model '${e.name}' from module '${e.module}'`,d=createErrorWidgetModel(c,f),m=new d,g=new ErrorWidgetView({model:m,options:this.setViewOptions(n)});return await g.render(),g}});return e.views&&(e.views[i]=o),o}callbacks(e){return{}}async get_model(e){const n=this._models[e];if(n===void 0)throw new Error("widget model not found");return n}has_model(e){return this._models[e]!==void 0}handle_comm_open(e,n){const i=(n.metadata||{}).version||"";if(i.split(".",1)[0]!==PROTOCOL_MAJOR_VERSION){const c=`Wrong widget protocol version: received protocol version '${i}', but was expecting major version '${PROTOCOL_MAJOR_VERSION}'`;return console.error(c),Promise.reject(c)}const o=n.content.data,u=o.buffer_paths||[],l=n.buffers||[];return put_buffers(o.state,u,l),this.new_model({model_name:o.state._model_name,model_module:o.state._model_module,model_module_version:o.state._model_module_version,comm:e},o.state).catch(reject$2("Could not create a model.",!0))}new_widget(e,n={}){let i;if(e.view_name===void 0||e.view_module===void 0||e.view_module_version===void 0)return Promise.reject("new_widget(...) must be given view information in the options.");e.comm?i=Promise.resolve(e.comm):i=this._create_comm(this.comm_target_name,e.model_id,{state:{_model_module:e.model_module,_model_module_version:e.model_module_version,_model_name:e.model_name,_view_module:e.view_module,_view_module_version:e.view_module_version,_view_name:e.view_name}},{version:PROTOCOL_VERSION});const o=Object.assign({},e);return i.then(u=>(o.comm=u,this.new_model(o,n).then(c=>(c.sync("create",c),c))),()=>(o.model_id||(o.model_id=uuid()),this.new_model(o,n)))}register_model(e,n){this._models[e]=n,n.then(i=>{i.once("comm:close",()=>{delete this._models[e]})})}async new_model(e,n={}){var i,o;const u=(i=e.model_id)!==null&&i!==void 0?i:(o=e.comm)===null||o===void 0?void 0:o.comm_id;if(!u)throw new Error("Neither comm nor model_id provided in options object. At least one must exist.");e.model_id=u;const l=this._make_model(e,n);return this.register_model(u,l),await l}async _loadFromKernel(){let e,n;try{const c=await this._create_comm(CONTROL_COMM_TARGET,uuid(),{},{version:CONTROL_COMM_PROTOCOL_VERSION});await new Promise((f,d)=>{c.on_msg(m=>{if(e=m.content.data,e.method!=="update_states"){console.warn(`
              Unknown ${e.method} message on the Control channel
            `);return}n=(m.buffers||[]).map(g=>g instanceof DataView?g:new DataView(g instanceof ArrayBuffer?g:g.buffer)),f(null)}),c.on_close(()=>d("Control comm was closed too early")),c.send({method:"request_states"},{}),setTimeout(()=>d("Control comm did not respond in time"),CONTROL_COMM_TIMEOUT)}),c.close()}catch{return this._loadFromKernelModels()}const i=e.states,o={},u={};for(let c=0;c<e.buffer_paths.length;c++){const[f,...d]=e.buffer_paths[c],m=n[c];o[f]||(o[f]=[],u[f]=[]),o[f].push(d),u[f].push(m)}const l=await Promise.all(Object.keys(i).map(async c=>{const f=this.has_model(c)?void 0:await this._create_comm("jupyter.widget",c);return{widget_id:c,comm:f}}));await Promise.all(l.map(async({widget_id:c,comm:f})=>{const d=i[c];c in o&&put_buffers(d,o[c],u[c]);try{if(f)await this.new_model({model_name:d.model_name,model_module:d.model_module,model_module_version:d.model_module_version,model_id:c,comm:f},d.state);else{const m=await this.get_model(c),g=await m.constructor._deserialize_state(d.state,this);m.set_state(g)}}catch(m){console.error(m)}}))}async _loadFromKernelModels(){const e=await this._get_comm_info(),n=await Promise.all(Object.keys(e).map(async i=>{if(this.has_model(i))return;const o=await this._create_comm(this.comm_target_name,i);let u="";const l=new PromiseDelegate$1;return o.on_msg(c=>{if(c.parent_header.msg_id===u&&c.header.msg_type==="comm_msg"&&c.content.data.method==="update"){const f=c.content.data,d=f.buffer_paths||[],m=c.buffers||[];put_buffers(f.state,d,m),l.resolve({comm:o,msg:c})}}),u=o.send({method:"request_state"},this.callbacks(void 0)),l.promise}));await Promise.all(n.map(async i=>{if(!i)return;const o=i.msg.content;await this.new_model({model_name:o.data.state._model_name,model_module:o.data.state._model_module,model_module_version:o.data.state._model_module_version,comm:i.comm},o.data.state)}))}async _make_model(e,n={}){const i=e.model_id,o=this.loadModelClass(e.model_name,e.model_module,e.model_module_version);let u;const l=(f,d)=>{const m=createErrorWidgetModel(f,d);return new m};try{u=await o}catch(f){const d="Could not instantiate widget";return console.error(d),l(f,d)}if(!u){const f="Could not instantiate widget";console.error(f);const d=new Error(`Cannot find model module ${e.model_module}@${e.model_module_version}, ${e.model_name}`);return l(d,f)}let c;try{const f=await u._deserialize_state(n,this),d={widget_manager:this,model_id:i,comm:e.comm};c=new u(f,d)}catch(f){console.error(f);const d=`Model class '${e.model_name}' from module '${e.model_module}' is loaded but can not be instantiated`;c=l(f,d)}return c.name=e.model_name,c.module=e.model_module,c}clear_state(){return resolvePromisesDict(this._models).then(e=>{Object.keys(e).forEach(n=>e[n].close()),this._models=Object.create(null)})}get_state(e={}){const n=Object.keys(this._models).map(i=>this._models[i]);return Promise.all(n).then(i=>serialize_state(i,e))}set_state(e){if(!(e.version_major&&e.version_major<=2))throw"Unsupported widget state format";const n=e.state;return this._get_comm_info().then(o=>Promise.all(Object.keys(n).map(u=>{const l={base64:base64ToBuffer,hex:hexToBuffer},c=n[u],f=c.state;if(c.buffers){const m=c.buffers.map(v=>v.path),g=c.buffers.map(v=>new DataView(l[v.encoding](v.data)));put_buffers(c.state,m,g)}if(this.has_model(u))return this.get_model(u).then(m=>m.constructor._deserialize_state(f||{},this).then(g=>(m.set_state(g),m)));const d={model_id:u,model_name:c.model_name,model_module:c.model_module,model_module_version:c.model_module_version};return Object.prototype.hasOwnProperty.call(o,"model_id")?this._create_comm(this.comm_target_name,u).then(m=>(d.comm=m,this.new_model(d))):this.new_model(d,f)})))}disconnect(){Object.keys(this._models).forEach(e=>{this._models[e].then(n=>{n.comm_live=!1})})}resolveUrl(e){return Promise.resolve(e)}inline_sanitize(e){const n=removeMath(e),i=default_inline_sanitize(n.text);return replaceMath(i,n.math)}async loadModelClass(e,n,i){try{const o=this.loadClass(e,n,i);return await o,o}catch(o){console.error(o);const u=`Failed to load model class '${e}' from module '${n}'`;return createErrorWidgetModel(o,u)}}async loadViewClass(e,n,i){try{const o=this.loadClass(e,n,i);return await o,o}catch(o){console.error(o);const u=`Failed to load view class '${e}' from module '${n}'`;return createErrorWidgetView(o,u)}}filterExistingModelState(e){let n=e.state;return n=Object.keys(n).filter(i=>!this.has_model(i)).reduce((i,o)=>(i[o]=n[o],i),{}),Object.assign(Object.assign({},e),{state:n})}}function serialize_state(t,e={}){const n={};return t.forEach(i=>{const o=i.model_id,u=remove_buffers(i.serialize(i.get_state(e.drop_defaults))),l=u.buffers.map((c,f)=>({data:bufferToBase64(c),path:u.buffer_paths[f],encoding:"base64"}));n[o]={model_name:i.name,model_module:i.module,model_module_version:i.get("_model_module_version"),state:u.state},l.length>0&&(n[o].buffers=l)}),{version_major:2,version_minor:0,state:n}}var re$2={exports:{}},constants,hasRequiredConstants;function requireConstants(){if(hasRequiredConstants)return constants;hasRequiredConstants=1;const t="2.0.0",e=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,i=16,o=e-6;return constants={MAX_LENGTH:e,MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:o,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},constants}var debug_1,hasRequiredDebug;function requireDebug(){if(hasRequiredDebug)return debug_1;hasRequiredDebug=1;var t={};return debug_1=typeof process=="object"&&t&&t.NODE_DEBUG&&/\bsemver\b/i.test(t.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{},debug_1}var hasRequiredRe;function requireRe(){return hasRequiredRe||(hasRequiredRe=1,(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:o}=requireConstants(),u=requireDebug();e=t.exports={};const l=e.re=[],c=e.safeRe=[],f=e.src=[],d=e.safeSrc=[],m=e.t={};let g=0;const v="[a-zA-Z0-9-]",y=[["\\s",1],["\\d",o],[v,i]],w=P=>{for(const[A,D]of y)P=P.split(`${A}*`).join(`${A}{0,${D}}`).split(`${A}+`).join(`${A}{1,${D}}`);return P},T=(P,A,D)=>{const k=w(A),j=g++;u(P,j,A),m[P]=j,f[j]=A,d[j]=k,l[j]=new RegExp(A,D?"g":void 0),c[j]=new RegExp(k,D?"g":void 0)};T("NUMERICIDENTIFIER","0|[1-9]\\d*"),T("NUMERICIDENTIFIERLOOSE","\\d+"),T("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${v}*`),T("MAINVERSION",`(${f[m.NUMERICIDENTIFIER]})\\.(${f[m.NUMERICIDENTIFIER]})\\.(${f[m.NUMERICIDENTIFIER]})`),T("MAINVERSIONLOOSE",`(${f[m.NUMERICIDENTIFIERLOOSE]})\\.(${f[m.NUMERICIDENTIFIERLOOSE]})\\.(${f[m.NUMERICIDENTIFIERLOOSE]})`),T("PRERELEASEIDENTIFIER",`(?:${f[m.NONNUMERICIDENTIFIER]}|${f[m.NUMERICIDENTIFIER]})`),T("PRERELEASEIDENTIFIERLOOSE",`(?:${f[m.NONNUMERICIDENTIFIER]}|${f[m.NUMERICIDENTIFIERLOOSE]})`),T("PRERELEASE",`(?:-(${f[m.PRERELEASEIDENTIFIER]}(?:\\.${f[m.PRERELEASEIDENTIFIER]})*))`),T("PRERELEASELOOSE",`(?:-?(${f[m.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${f[m.PRERELEASEIDENTIFIERLOOSE]})*))`),T("BUILDIDENTIFIER",`${v}+`),T("BUILD",`(?:\\+(${f[m.BUILDIDENTIFIER]}(?:\\.${f[m.BUILDIDENTIFIER]})*))`),T("FULLPLAIN",`v?${f[m.MAINVERSION]}${f[m.PRERELEASE]}?${f[m.BUILD]}?`),T("FULL",`^${f[m.FULLPLAIN]}$`),T("LOOSEPLAIN",`[v=\\s]*${f[m.MAINVERSIONLOOSE]}${f[m.PRERELEASELOOSE]}?${f[m.BUILD]}?`),T("LOOSE",`^${f[m.LOOSEPLAIN]}$`),T("GTLT","((?:<|>)?=?)"),T("XRANGEIDENTIFIERLOOSE",`${f[m.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),T("XRANGEIDENTIFIER",`${f[m.NUMERICIDENTIFIER]}|x|X|\\*`),T("XRANGEPLAIN",`[v=\\s]*(${f[m.XRANGEIDENTIFIER]})(?:\\.(${f[m.XRANGEIDENTIFIER]})(?:\\.(${f[m.XRANGEIDENTIFIER]})(?:${f[m.PRERELEASE]})?${f[m.BUILD]}?)?)?`),T("XRANGEPLAINLOOSE",`[v=\\s]*(${f[m.XRANGEIDENTIFIERLOOSE]})(?:\\.(${f[m.XRANGEIDENTIFIERLOOSE]})(?:\\.(${f[m.XRANGEIDENTIFIERLOOSE]})(?:${f[m.PRERELEASELOOSE]})?${f[m.BUILD]}?)?)?`),T("XRANGE",`^${f[m.GTLT]}\\s*${f[m.XRANGEPLAIN]}$`),T("XRANGELOOSE",`^${f[m.GTLT]}\\s*${f[m.XRANGEPLAINLOOSE]}$`),T("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),T("COERCE",`${f[m.COERCEPLAIN]}(?:$|[^\\d])`),T("COERCEFULL",f[m.COERCEPLAIN]+`(?:${f[m.PRERELEASE]})?(?:${f[m.BUILD]})?(?:$|[^\\d])`),T("COERCERTL",f[m.COERCE],!0),T("COERCERTLFULL",f[m.COERCEFULL],!0),T("LONETILDE","(?:~>?)"),T("TILDETRIM",`(\\s*)${f[m.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",T("TILDE",`^${f[m.LONETILDE]}${f[m.XRANGEPLAIN]}$`),T("TILDELOOSE",`^${f[m.LONETILDE]}${f[m.XRANGEPLAINLOOSE]}$`),T("LONECARET","(?:\\^)"),T("CARETTRIM",`(\\s*)${f[m.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",T("CARET",`^${f[m.LONECARET]}${f[m.XRANGEPLAIN]}$`),T("CARETLOOSE",`^${f[m.LONECARET]}${f[m.XRANGEPLAINLOOSE]}$`),T("COMPARATORLOOSE",`^${f[m.GTLT]}\\s*(${f[m.LOOSEPLAIN]})$|^$`),T("COMPARATOR",`^${f[m.GTLT]}\\s*(${f[m.FULLPLAIN]})$|^$`),T("COMPARATORTRIM",`(\\s*)${f[m.GTLT]}\\s*(${f[m.LOOSEPLAIN]}|${f[m.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",T("HYPHENRANGE",`^\\s*(${f[m.XRANGEPLAIN]})\\s+-\\s+(${f[m.XRANGEPLAIN]})\\s*$`),T("HYPHENRANGELOOSE",`^\\s*(${f[m.XRANGEPLAINLOOSE]})\\s+-\\s+(${f[m.XRANGEPLAINLOOSE]})\\s*$`),T("STAR","(<|>)?=?\\s*\\*"),T("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),T("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(re$2,re$2.exports)),re$2.exports}var parseOptions_1,hasRequiredParseOptions;function requireParseOptions(){if(hasRequiredParseOptions)return parseOptions_1;hasRequiredParseOptions=1;const t=Object.freeze({loose:!0}),e=Object.freeze({});return parseOptions_1=i=>i?typeof i!="object"?t:i:e,parseOptions_1}var identifiers,hasRequiredIdentifiers;function requireIdentifiers(){if(hasRequiredIdentifiers)return identifiers;hasRequiredIdentifiers=1;const t=/^[0-9]+$/,e=(i,o)=>{if(typeof i=="number"&&typeof o=="number")return i===o?0:i<o?-1:1;const u=t.test(i),l=t.test(o);return u&&l&&(i=+i,o=+o),i===o?0:u&&!l?-1:l&&!u?1:i<o?-1:1};return identifiers={compareIdentifiers:e,rcompareIdentifiers:(i,o)=>e(o,i)},identifiers}var semver$1,hasRequiredSemver$1;function requireSemver$1(){if(hasRequiredSemver$1)return semver$1;hasRequiredSemver$1=1;const t=requireDebug(),{MAX_LENGTH:e,MAX_SAFE_INTEGER:n}=requireConstants(),{safeRe:i,t:o}=requireRe(),u=requireParseOptions(),{compareIdentifiers:l}=requireIdentifiers();class c{constructor(d,m){if(m=u(m),d instanceof c){if(d.loose===!!m.loose&&d.includePrerelease===!!m.includePrerelease)return d;d=d.version}else if(typeof d!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof d}".`);if(d.length>e)throw new TypeError(`version is longer than ${e} characters`);t("SemVer",d,m),this.options=m,this.loose=!!m.loose,this.includePrerelease=!!m.includePrerelease;const g=d.trim().match(m.loose?i[o.LOOSE]:i[o.FULL]);if(!g)throw new TypeError(`Invalid Version: ${d}`);if(this.raw=d,this.major=+g[1],this.minor=+g[2],this.patch=+g[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");g[4]?this.prerelease=g[4].split(".").map(v=>{if(/^[0-9]+$/.test(v)){const y=+v;if(y>=0&&y<n)return y}return v}):this.prerelease=[],this.build=g[5]?g[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(d){if(t("SemVer.compare",this.version,this.options,d),!(d instanceof c)){if(typeof d=="string"&&d===this.version)return 0;d=new c(d,this.options)}return d.version===this.version?0:this.compareMain(d)||this.comparePre(d)}compareMain(d){return d instanceof c||(d=new c(d,this.options)),this.major<d.major?-1:this.major>d.major?1:this.minor<d.minor?-1:this.minor>d.minor?1:this.patch<d.patch?-1:this.patch>d.patch?1:0}comparePre(d){if(d instanceof c||(d=new c(d,this.options)),this.prerelease.length&&!d.prerelease.length)return-1;if(!this.prerelease.length&&d.prerelease.length)return 1;if(!this.prerelease.length&&!d.prerelease.length)return 0;let m=0;do{const g=this.prerelease[m],v=d.prerelease[m];if(t("prerelease compare",m,g,v),g===void 0&&v===void 0)return 0;if(v===void 0)return 1;if(g===void 0)return-1;if(g===v)continue;return l(g,v)}while(++m)}compareBuild(d){d instanceof c||(d=new c(d,this.options));let m=0;do{const g=this.build[m],v=d.build[m];if(t("build compare",m,g,v),g===void 0&&v===void 0)return 0;if(v===void 0)return 1;if(g===void 0)return-1;if(g===v)continue;return l(g,v)}while(++m)}inc(d,m,g){if(d.startsWith("pre")){if(!m&&g===!1)throw new Error("invalid increment argument: identifier is empty");if(m){const v=`-${m}`.match(this.options.loose?i[o.PRERELEASELOOSE]:i[o.PRERELEASE]);if(!v||v[1]!==m)throw new Error(`invalid identifier: ${m}`)}}switch(d){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",m,g);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",m,g);break;case"prepatch":this.prerelease.length=0,this.inc("patch",m,g),this.inc("pre",m,g);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",m,g),this.inc("pre",m,g);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const v=Number(g)?1:0;if(this.prerelease.length===0)this.prerelease=[v];else{let y=this.prerelease.length;for(;--y>=0;)typeof this.prerelease[y]=="number"&&(this.prerelease[y]++,y=-2);if(y===-1){if(m===this.prerelease.join(".")&&g===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(v)}}if(m){let y=[m,v];g===!1&&(y=[m]),l(this.prerelease[0],m)===0?isNaN(this.prerelease[1])&&(this.prerelease=y):this.prerelease=y}break}default:throw new Error(`invalid increment argument: ${d}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return semver$1=c,semver$1}var parse_1,hasRequiredParse;function requireParse(){if(hasRequiredParse)return parse_1;hasRequiredParse=1;const t=requireSemver$1();return parse_1=(n,i,o=!1)=>{if(n instanceof t)return n;try{return new t(n,i)}catch(u){if(!o)return null;throw u}},parse_1}var valid_1,hasRequiredValid$1;function requireValid$1(){if(hasRequiredValid$1)return valid_1;hasRequiredValid$1=1;const t=requireParse();return valid_1=(n,i)=>{const o=t(n,i);return o?o.version:null},valid_1}var clean_1,hasRequiredClean;function requireClean(){if(hasRequiredClean)return clean_1;hasRequiredClean=1;const t=requireParse();return clean_1=(n,i)=>{const o=t(n.trim().replace(/^[=v]+/,""),i);return o?o.version:null},clean_1}var inc_1,hasRequiredInc;function requireInc(){if(hasRequiredInc)return inc_1;hasRequiredInc=1;const t=requireSemver$1();return inc_1=(n,i,o,u,l)=>{typeof o=="string"&&(l=u,u=o,o=void 0);try{return new t(n instanceof t?n.version:n,o).inc(i,u,l).version}catch{return null}},inc_1}var diff_1,hasRequiredDiff;function requireDiff(){if(hasRequiredDiff)return diff_1;hasRequiredDiff=1;const t=requireParse();return diff_1=(n,i)=>{const o=t(n,null,!0),u=t(i,null,!0),l=o.compare(u);if(l===0)return null;const c=l>0,f=c?o:u,d=c?u:o,m=!!f.prerelease.length;if(!!d.prerelease.length&&!m){if(!d.patch&&!d.minor)return"major";if(d.compareMain(f)===0)return d.minor&&!d.patch?"minor":"patch"}const v=m?"pre":"";return o.major!==u.major?v+"major":o.minor!==u.minor?v+"minor":o.patch!==u.patch?v+"patch":"prerelease"},diff_1}var major_1,hasRequiredMajor;function requireMajor(){if(hasRequiredMajor)return major_1;hasRequiredMajor=1;const t=requireSemver$1();return major_1=(n,i)=>new t(n,i).major,major_1}var minor_1,hasRequiredMinor;function requireMinor(){if(hasRequiredMinor)return minor_1;hasRequiredMinor=1;const t=requireSemver$1();return minor_1=(n,i)=>new t(n,i).minor,minor_1}var patch_1,hasRequiredPatch;function requirePatch(){if(hasRequiredPatch)return patch_1;hasRequiredPatch=1;const t=requireSemver$1();return patch_1=(n,i)=>new t(n,i).patch,patch_1}var prerelease_1,hasRequiredPrerelease;function requirePrerelease(){if(hasRequiredPrerelease)return prerelease_1;hasRequiredPrerelease=1;const t=requireParse();return prerelease_1=(n,i)=>{const o=t(n,i);return o&&o.prerelease.length?o.prerelease:null},prerelease_1}var compare_1,hasRequiredCompare;function requireCompare(){if(hasRequiredCompare)return compare_1;hasRequiredCompare=1;const t=requireSemver$1();return compare_1=(n,i,o)=>new t(n,o).compare(new t(i,o)),compare_1}var rcompare_1,hasRequiredRcompare;function requireRcompare(){if(hasRequiredRcompare)return rcompare_1;hasRequiredRcompare=1;const t=requireCompare();return rcompare_1=(n,i,o)=>t(i,n,o),rcompare_1}var compareLoose_1,hasRequiredCompareLoose;function requireCompareLoose(){if(hasRequiredCompareLoose)return compareLoose_1;hasRequiredCompareLoose=1;const t=requireCompare();return compareLoose_1=(n,i)=>t(n,i,!0),compareLoose_1}var compareBuild_1,hasRequiredCompareBuild;function requireCompareBuild(){if(hasRequiredCompareBuild)return compareBuild_1;hasRequiredCompareBuild=1;const t=requireSemver$1();return compareBuild_1=(n,i,o)=>{const u=new t(n,o),l=new t(i,o);return u.compare(l)||u.compareBuild(l)},compareBuild_1}var sort_1,hasRequiredSort;function requireSort(){if(hasRequiredSort)return sort_1;hasRequiredSort=1;const t=requireCompareBuild();return sort_1=(n,i)=>n.sort((o,u)=>t(o,u,i)),sort_1}var rsort_1,hasRequiredRsort;function requireRsort(){if(hasRequiredRsort)return rsort_1;hasRequiredRsort=1;const t=requireCompareBuild();return rsort_1=(n,i)=>n.sort((o,u)=>t(u,o,i)),rsort_1}var gt_1,hasRequiredGt;function requireGt(){if(hasRequiredGt)return gt_1;hasRequiredGt=1;const t=requireCompare();return gt_1=(n,i,o)=>t(n,i,o)>0,gt_1}var lt_1,hasRequiredLt;function requireLt(){if(hasRequiredLt)return lt_1;hasRequiredLt=1;const t=requireCompare();return lt_1=(n,i,o)=>t(n,i,o)<0,lt_1}var eq_1,hasRequiredEq;function requireEq(){if(hasRequiredEq)return eq_1;hasRequiredEq=1;const t=requireCompare();return eq_1=(n,i,o)=>t(n,i,o)===0,eq_1}var neq_1,hasRequiredNeq;function requireNeq(){if(hasRequiredNeq)return neq_1;hasRequiredNeq=1;const t=requireCompare();return neq_1=(n,i,o)=>t(n,i,o)!==0,neq_1}var gte_1,hasRequiredGte;function requireGte(){if(hasRequiredGte)return gte_1;hasRequiredGte=1;const t=requireCompare();return gte_1=(n,i,o)=>t(n,i,o)>=0,gte_1}var lte_1,hasRequiredLte;function requireLte(){if(hasRequiredLte)return lte_1;hasRequiredLte=1;const t=requireCompare();return lte_1=(n,i,o)=>t(n,i,o)<=0,lte_1}var cmp_1,hasRequiredCmp;function requireCmp(){if(hasRequiredCmp)return cmp_1;hasRequiredCmp=1;const t=requireEq(),e=requireNeq(),n=requireGt(),i=requireGte(),o=requireLt(),u=requireLte();return cmp_1=(c,f,d,m)=>{switch(f){case"===":return typeof c=="object"&&(c=c.version),typeof d=="object"&&(d=d.version),c===d;case"!==":return typeof c=="object"&&(c=c.version),typeof d=="object"&&(d=d.version),c!==d;case"":case"=":case"==":return t(c,d,m);case"!=":return e(c,d,m);case">":return n(c,d,m);case">=":return i(c,d,m);case"<":return o(c,d,m);case"<=":return u(c,d,m);default:throw new TypeError(`Invalid operator: ${f}`)}},cmp_1}var coerce_1,hasRequiredCoerce;function requireCoerce(){if(hasRequiredCoerce)return coerce_1;hasRequiredCoerce=1;const t=requireSemver$1(),e=requireParse(),{safeRe:n,t:i}=requireRe();return coerce_1=(u,l)=>{if(u instanceof t)return u;if(typeof u=="number"&&(u=String(u)),typeof u!="string")return null;l=l||{};let c=null;if(!l.rtl)c=u.match(l.includePrerelease?n[i.COERCEFULL]:n[i.COERCE]);else{const y=l.includePrerelease?n[i.COERCERTLFULL]:n[i.COERCERTL];let w;for(;(w=y.exec(u))&&(!c||c.index+c[0].length!==u.length);)(!c||w.index+w[0].length!==c.index+c[0].length)&&(c=w),y.lastIndex=w.index+w[1].length+w[2].length;y.lastIndex=-1}if(c===null)return null;const f=c[2],d=c[3]||"0",m=c[4]||"0",g=l.includePrerelease&&c[5]?`-${c[5]}`:"",v=l.includePrerelease&&c[6]?`+${c[6]}`:"";return e(`${f}.${d}.${m}${g}${v}`,l)},coerce_1}var lrucache,hasRequiredLrucache;function requireLrucache(){if(hasRequiredLrucache)return lrucache;hasRequiredLrucache=1;class t{constructor(){this.max=1e3,this.map=new Map}get(n){const i=this.map.get(n);if(i!==void 0)return this.map.delete(n),this.map.set(n,i),i}delete(n){return this.map.delete(n)}set(n,i){if(!this.delete(n)&&i!==void 0){if(this.map.size>=this.max){const u=this.map.keys().next().value;this.delete(u)}this.map.set(n,i)}return this}}return lrucache=t,lrucache}var range,hasRequiredRange;function requireRange(){if(hasRequiredRange)return range;hasRequiredRange=1;const t=/\s+/g;class e{constructor(le,de){if(de=o(de),le instanceof e)return le.loose===!!de.loose&&le.includePrerelease===!!de.includePrerelease?le:new e(le.raw,de);if(le instanceof u)return this.raw=le.value,this.set=[[le]],this.formatted=void 0,this;if(this.options=de,this.loose=!!de.loose,this.includePrerelease=!!de.includePrerelease,this.raw=le.trim().replace(t," "),this.set=this.raw.split("||").map(ge=>this.parseRange(ge.trim())).filter(ge=>ge.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const ge=this.set[0];if(this.set=this.set.filter(_e=>!T(_e[0])),this.set.length===0)this.set=[ge];else if(this.set.length>1){for(const _e of this.set)if(_e.length===1&&P(_e[0])){this.set=[_e];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let le=0;le<this.set.length;le++){le>0&&(this.formatted+="||");const de=this.set[le];for(let ge=0;ge<de.length;ge++)ge>0&&(this.formatted+=" "),this.formatted+=de[ge].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(le){const ge=((this.options.includePrerelease&&y)|(this.options.loose&&w))+":"+le,_e=i.get(ge);if(_e)return _e;const we=this.options.loose,Me=we?f[d.HYPHENRANGELOOSE]:f[d.HYPHENRANGE];le=le.replace(Me,ie(this.options.includePrerelease)),l("hyphen replace",le),le=le.replace(f[d.COMPARATORTRIM],m),l("comparator trim",le),le=le.replace(f[d.TILDETRIM],g),l("tilde trim",le),le=le.replace(f[d.CARETTRIM],v),l("caret trim",le);let xe=le.split(" ").map(Qe=>D(Qe,this.options)).join(" ").split(/\s+/).map(Qe=>Q(Qe,this.options));we&&(xe=xe.filter(Qe=>(l("loose invalid filter",Qe,this.options),!!Qe.match(f[d.COMPARATORLOOSE])))),l("range list",xe);const Re=new Map,Se=xe.map(Qe=>new u(Qe,this.options));for(const Qe of Se){if(T(Qe))return[Qe];Re.set(Qe.value,Qe)}Re.size>1&&Re.has("")&&Re.delete("");const Ge=[...Re.values()];return i.set(ge,Ge),Ge}intersects(le,de){if(!(le instanceof e))throw new TypeError("a Range is required");return this.set.some(ge=>A(ge,de)&&le.set.some(_e=>A(_e,de)&&ge.every(we=>_e.every(Me=>we.intersects(Me,de)))))}test(le){if(!le)return!1;if(typeof le=="string")try{le=new c(le,this.options)}catch{return!1}for(let de=0;de<this.set.length;de++)if(te(this.set[de],le,this.options))return!0;return!1}}range=e;const n=requireLrucache(),i=new n,o=requireParseOptions(),u=requireComparator(),l=requireDebug(),c=requireSemver$1(),{safeRe:f,t:d,comparatorTrimReplace:m,tildeTrimReplace:g,caretTrimReplace:v}=requireRe(),{FLAG_INCLUDE_PRERELEASE:y,FLAG_LOOSE:w}=requireConstants(),T=oe=>oe.value==="<0.0.0-0",P=oe=>oe.value==="",A=(oe,le)=>{let de=!0;const ge=oe.slice();let _e=ge.pop();for(;de&&ge.length;)de=ge.every(we=>_e.intersects(we,le)),_e=ge.pop();return de},D=(oe,le)=>(oe=oe.replace(f[d.BUILD],""),l("comp",oe,le),oe=Z(oe,le),l("caret",oe),oe=j(oe,le),l("tildes",oe),oe=G(oe,le),l("xrange",oe),oe=K(oe,le),l("stars",oe),oe),k=oe=>!oe||oe.toLowerCase()==="x"||oe==="*",j=(oe,le)=>oe.trim().split(/\s+/).map(de=>B(de,le)).join(" "),B=(oe,le)=>{const de=le.loose?f[d.TILDELOOSE]:f[d.TILDE];return oe.replace(de,(ge,_e,we,Me,xe)=>{l("tilde",oe,ge,_e,we,Me,xe);let Re;return k(_e)?Re="":k(we)?Re=`>=${_e}.0.0 <${+_e+1}.0.0-0`:k(Me)?Re=`>=${_e}.${we}.0 <${_e}.${+we+1}.0-0`:xe?(l("replaceTilde pr",xe),Re=`>=${_e}.${we}.${Me}-${xe} <${_e}.${+we+1}.0-0`):Re=`>=${_e}.${we}.${Me} <${_e}.${+we+1}.0-0`,l("tilde return",Re),Re})},Z=(oe,le)=>oe.trim().split(/\s+/).map(de=>R(de,le)).join(" "),R=(oe,le)=>{l("caret",oe,le);const de=le.loose?f[d.CARETLOOSE]:f[d.CARET],ge=le.includePrerelease?"-0":"";return oe.replace(de,(_e,we,Me,xe,Re)=>{l("caret",oe,_e,we,Me,xe,Re);let Se;return k(we)?Se="":k(Me)?Se=`>=${we}.0.0${ge} <${+we+1}.0.0-0`:k(xe)?we==="0"?Se=`>=${we}.${Me}.0${ge} <${we}.${+Me+1}.0-0`:Se=`>=${we}.${Me}.0${ge} <${+we+1}.0.0-0`:Re?(l("replaceCaret pr",Re),we==="0"?Me==="0"?Se=`>=${we}.${Me}.${xe}-${Re} <${we}.${Me}.${+xe+1}-0`:Se=`>=${we}.${Me}.${xe}-${Re} <${we}.${+Me+1}.0-0`:Se=`>=${we}.${Me}.${xe}-${Re} <${+we+1}.0.0-0`):(l("no pr"),we==="0"?Me==="0"?Se=`>=${we}.${Me}.${xe}${ge} <${we}.${Me}.${+xe+1}-0`:Se=`>=${we}.${Me}.${xe}${ge} <${we}.${+Me+1}.0-0`:Se=`>=${we}.${Me}.${xe} <${+we+1}.0.0-0`),l("caret return",Se),Se})},G=(oe,le)=>(l("replaceXRanges",oe,le),oe.split(/\s+/).map(de=>F(de,le)).join(" ")),F=(oe,le)=>{oe=oe.trim();const de=le.loose?f[d.XRANGELOOSE]:f[d.XRANGE];return oe.replace(de,(ge,_e,we,Me,xe,Re)=>{l("xRange",oe,ge,_e,we,Me,xe,Re);const Se=k(we),Ge=Se||k(Me),Qe=Ge||k(xe),Je=Qe;return _e==="="&&Je&&(_e=""),Re=le.includePrerelease?"-0":"",Se?_e===">"||_e==="<"?ge="<0.0.0-0":ge="*":_e&&Je?(Ge&&(Me=0),xe=0,_e===">"?(_e=">=",Ge?(we=+we+1,Me=0,xe=0):(Me=+Me+1,xe=0)):_e==="<="&&(_e="<",Ge?we=+we+1:Me=+Me+1),_e==="<"&&(Re="-0"),ge=`${_e+we}.${Me}.${xe}${Re}`):Ge?ge=`>=${we}.0.0${Re} <${+we+1}.0.0-0`:Qe&&(ge=`>=${we}.${Me}.0${Re} <${we}.${+Me+1}.0-0`),l("xRange return",ge),ge})},K=(oe,le)=>(l("replaceStars",oe,le),oe.trim().replace(f[d.STAR],"")),Q=(oe,le)=>(l("replaceGTE0",oe,le),oe.trim().replace(f[le.includePrerelease?d.GTE0PRE:d.GTE0],"")),ie=oe=>(le,de,ge,_e,we,Me,xe,Re,Se,Ge,Qe,Je)=>(k(ge)?de="":k(_e)?de=`>=${ge}.0.0${oe?"-0":""}`:k(we)?de=`>=${ge}.${_e}.0${oe?"-0":""}`:Me?de=`>=${de}`:de=`>=${de}${oe?"-0":""}`,k(Se)?Re="":k(Ge)?Re=`<${+Se+1}.0.0-0`:k(Qe)?Re=`<${Se}.${+Ge+1}.0-0`:Je?Re=`<=${Se}.${Ge}.${Qe}-${Je}`:oe?Re=`<${Se}.${Ge}.${+Qe+1}-0`:Re=`<=${Re}`,`${de} ${Re}`.trim()),te=(oe,le,de)=>{for(let ge=0;ge<oe.length;ge++)if(!oe[ge].test(le))return!1;if(le.prerelease.length&&!de.includePrerelease){for(let ge=0;ge<oe.length;ge++)if(l(oe[ge].semver),oe[ge].semver!==u.ANY&&oe[ge].semver.prerelease.length>0){const _e=oe[ge].semver;if(_e.major===le.major&&_e.minor===le.minor&&_e.patch===le.patch)return!0}return!1}return!0};return range}var comparator,hasRequiredComparator;function requireComparator(){if(hasRequiredComparator)return comparator;hasRequiredComparator=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(m,g){if(g=n(g),m instanceof e){if(m.loose===!!g.loose)return m;m=m.value}m=m.trim().split(/\s+/).join(" "),l("comparator",m,g),this.options=g,this.loose=!!g.loose,this.parse(m),this.semver===t?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(m){const g=this.options.loose?i[o.COMPARATORLOOSE]:i[o.COMPARATOR],v=m.match(g);if(!v)throw new TypeError(`Invalid comparator: ${m}`);this.operator=v[1]!==void 0?v[1]:"",this.operator==="="&&(this.operator=""),v[2]?this.semver=new c(v[2],this.options.loose):this.semver=t}toString(){return this.value}test(m){if(l("Comparator.test",m,this.options.loose),this.semver===t||m===t)return!0;if(typeof m=="string")try{m=new c(m,this.options)}catch{return!1}return u(m,this.operator,this.semver,this.options)}intersects(m,g){if(!(m instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new f(m.value,g).test(this.value):m.operator===""?m.value===""?!0:new f(this.value,g).test(m.semver):(g=n(g),g.includePrerelease&&(this.value==="<0.0.0-0"||m.value==="<0.0.0-0")||!g.includePrerelease&&(this.value.startsWith("<0.0.0")||m.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&m.operator.startsWith(">")||this.operator.startsWith("<")&&m.operator.startsWith("<")||this.semver.version===m.semver.version&&this.operator.includes("=")&&m.operator.includes("=")||u(this.semver,"<",m.semver,g)&&this.operator.startsWith(">")&&m.operator.startsWith("<")||u(this.semver,">",m.semver,g)&&this.operator.startsWith("<")&&m.operator.startsWith(">")))}}comparator=e;const n=requireParseOptions(),{safeRe:i,t:o}=requireRe(),u=requireCmp(),l=requireDebug(),c=requireSemver$1(),f=requireRange();return comparator}var satisfies_1,hasRequiredSatisfies;function requireSatisfies(){if(hasRequiredSatisfies)return satisfies_1;hasRequiredSatisfies=1;const t=requireRange();return satisfies_1=(n,i,o)=>{try{i=new t(i,o)}catch{return!1}return i.test(n)},satisfies_1}var toComparators_1,hasRequiredToComparators;function requireToComparators(){if(hasRequiredToComparators)return toComparators_1;hasRequiredToComparators=1;const t=requireRange();return toComparators_1=(n,i)=>new t(n,i).set.map(o=>o.map(u=>u.value).join(" ").trim().split(" ")),toComparators_1}var maxSatisfying_1,hasRequiredMaxSatisfying;function requireMaxSatisfying(){if(hasRequiredMaxSatisfying)return maxSatisfying_1;hasRequiredMaxSatisfying=1;const t=requireSemver$1(),e=requireRange();return maxSatisfying_1=(i,o,u)=>{let l=null,c=null,f=null;try{f=new e(o,u)}catch{return null}return i.forEach(d=>{f.test(d)&&(!l||c.compare(d)===-1)&&(l=d,c=new t(l,u))}),l},maxSatisfying_1}var minSatisfying_1,hasRequiredMinSatisfying;function requireMinSatisfying(){if(hasRequiredMinSatisfying)return minSatisfying_1;hasRequiredMinSatisfying=1;const t=requireSemver$1(),e=requireRange();return minSatisfying_1=(i,o,u)=>{let l=null,c=null,f=null;try{f=new e(o,u)}catch{return null}return i.forEach(d=>{f.test(d)&&(!l||c.compare(d)===1)&&(l=d,c=new t(l,u))}),l},minSatisfying_1}var minVersion_1,hasRequiredMinVersion;function requireMinVersion(){if(hasRequiredMinVersion)return minVersion_1;hasRequiredMinVersion=1;const t=requireSemver$1(),e=requireRange(),n=requireGt();return minVersion_1=(o,u)=>{o=new e(o,u);let l=new t("0.0.0");if(o.test(l)||(l=new t("0.0.0-0"),o.test(l)))return l;l=null;for(let c=0;c<o.set.length;++c){const f=o.set[c];let d=null;f.forEach(m=>{const g=new t(m.semver.version);switch(m.operator){case">":g.prerelease.length===0?g.patch++:g.prerelease.push(0),g.raw=g.format();case"":case">=":(!d||n(g,d))&&(d=g);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${m.operator}`)}}),d&&(!l||n(l,d))&&(l=d)}return l&&o.test(l)?l:null},minVersion_1}var valid$1,hasRequiredValid;function requireValid(){if(hasRequiredValid)return valid$1;hasRequiredValid=1;const t=requireRange();return valid$1=(n,i)=>{try{return new t(n,i).range||"*"}catch{return null}},valid$1}var outside_1,hasRequiredOutside;function requireOutside(){if(hasRequiredOutside)return outside_1;hasRequiredOutside=1;const t=requireSemver$1(),e=requireComparator(),{ANY:n}=e,i=requireRange(),o=requireSatisfies(),u=requireGt(),l=requireLt(),c=requireLte(),f=requireGte();return outside_1=(m,g,v,y)=>{m=new t(m,y),g=new i(g,y);let w,T,P,A,D;switch(v){case">":w=u,T=c,P=l,A=">",D=">=";break;case"<":w=l,T=f,P=u,A="<",D="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(o(m,g,y))return!1;for(let k=0;k<g.set.length;++k){const j=g.set[k];let B=null,Z=null;if(j.forEach(R=>{R.semver===n&&(R=new e(">=0.0.0")),B=B||R,Z=Z||R,w(R.semver,B.semver,y)?B=R:P(R.semver,Z.semver,y)&&(Z=R)}),B.operator===A||B.operator===D||(!Z.operator||Z.operator===A)&&T(m,Z.semver))return!1;if(Z.operator===D&&P(m,Z.semver))return!1}return!0},outside_1}var gtr_1,hasRequiredGtr;function requireGtr(){if(hasRequiredGtr)return gtr_1;hasRequiredGtr=1;const t=requireOutside();return gtr_1=(n,i,o)=>t(n,i,">",o),gtr_1}var ltr_1,hasRequiredLtr;function requireLtr(){if(hasRequiredLtr)return ltr_1;hasRequiredLtr=1;const t=requireOutside();return ltr_1=(n,i,o)=>t(n,i,"<",o),ltr_1}var intersects_1,hasRequiredIntersects;function requireIntersects(){if(hasRequiredIntersects)return intersects_1;hasRequiredIntersects=1;const t=requireRange();return intersects_1=(n,i,o)=>(n=new t(n,o),i=new t(i,o),n.intersects(i,o)),intersects_1}var simplify,hasRequiredSimplify;function requireSimplify(){if(hasRequiredSimplify)return simplify;hasRequiredSimplify=1;const t=requireSatisfies(),e=requireCompare();return simplify=(n,i,o)=>{const u=[];let l=null,c=null;const f=n.sort((v,y)=>e(v,y,o));for(const v of f)t(v,i,o)?(c=v,l||(l=v)):(c&&u.push([l,c]),c=null,l=null);l&&u.push([l,null]);const d=[];for(const[v,y]of u)v===y?d.push(v):!y&&v===f[0]?d.push("*"):y?v===f[0]?d.push(`<=${y}`):d.push(`${v} - ${y}`):d.push(`>=${v}`);const m=d.join(" || "),g=typeof i.raw=="string"?i.raw:String(i);return m.length<g.length?m:i},simplify}var subset_1,hasRequiredSubset;function requireSubset(){if(hasRequiredSubset)return subset_1;hasRequiredSubset=1;const t=requireRange(),e=requireComparator(),{ANY:n}=e,i=requireSatisfies(),o=requireCompare(),u=(g,v,y={})=>{if(g===v)return!0;g=new t(g,y),v=new t(v,y);let w=!1;e:for(const T of g.set){for(const P of v.set){const A=f(T,P,y);if(w=w||A!==null,A)continue e}if(w)return!1}return!0},l=[new e(">=0.0.0-0")],c=[new e(">=0.0.0")],f=(g,v,y)=>{if(g===v)return!0;if(g.length===1&&g[0].semver===n){if(v.length===1&&v[0].semver===n)return!0;y.includePrerelease?g=l:g=c}if(v.length===1&&v[0].semver===n){if(y.includePrerelease)return!0;v=c}const w=new Set;let T,P;for(const G of g)G.operator===">"||G.operator===">="?T=d(T,G,y):G.operator==="<"||G.operator==="<="?P=m(P,G,y):w.add(G.semver);if(w.size>1)return null;let A;if(T&&P){if(A=o(T.semver,P.semver,y),A>0)return null;if(A===0&&(T.operator!==">="||P.operator!=="<="))return null}for(const G of w){if(T&&!i(G,String(T),y)||P&&!i(G,String(P),y))return null;for(const F of v)if(!i(G,String(F),y))return!1;return!0}let D,k,j,B,Z=P&&!y.includePrerelease&&P.semver.prerelease.length?P.semver:!1,R=T&&!y.includePrerelease&&T.semver.prerelease.length?T.semver:!1;Z&&Z.prerelease.length===1&&P.operator==="<"&&Z.prerelease[0]===0&&(Z=!1);for(const G of v){if(B=B||G.operator===">"||G.operator===">=",j=j||G.operator==="<"||G.operator==="<=",T){if(R&&G.semver.prerelease&&G.semver.prerelease.length&&G.semver.major===R.major&&G.semver.minor===R.minor&&G.semver.patch===R.patch&&(R=!1),G.operator===">"||G.operator===">="){if(D=d(T,G,y),D===G&&D!==T)return!1}else if(T.operator===">="&&!i(T.semver,String(G),y))return!1}if(P){if(Z&&G.semver.prerelease&&G.semver.prerelease.length&&G.semver.major===Z.major&&G.semver.minor===Z.minor&&G.semver.patch===Z.patch&&(Z=!1),G.operator==="<"||G.operator==="<="){if(k=m(P,G,y),k===G&&k!==P)return!1}else if(P.operator==="<="&&!i(P.semver,String(G),y))return!1}if(!G.operator&&(P||T)&&A!==0)return!1}return!(T&&j&&!P&&A!==0||P&&B&&!T&&A!==0||R||Z)},d=(g,v,y)=>{if(!g)return v;const w=o(g.semver,v.semver,y);return w>0?g:w<0||v.operator===">"&&g.operator===">="?v:g},m=(g,v,y)=>{if(!g)return v;const w=o(g.semver,v.semver,y);return w<0?g:w>0||v.operator==="<"&&g.operator==="<="?v:g};return subset_1=u,subset_1}var semver,hasRequiredSemver;function requireSemver(){if(hasRequiredSemver)return semver;hasRequiredSemver=1;const t=requireRe(),e=requireConstants(),n=requireSemver$1(),i=requireIdentifiers(),o=requireParse(),u=requireValid$1(),l=requireClean(),c=requireInc(),f=requireDiff(),d=requireMajor(),m=requireMinor(),g=requirePatch(),v=requirePrerelease(),y=requireCompare(),w=requireRcompare(),T=requireCompareLoose(),P=requireCompareBuild(),A=requireSort(),D=requireRsort(),k=requireGt(),j=requireLt(),B=requireEq(),Z=requireNeq(),R=requireGte(),G=requireLte(),F=requireCmp(),K=requireCoerce(),Q=requireComparator(),ie=requireRange(),te=requireSatisfies(),oe=requireToComparators(),le=requireMaxSatisfying(),de=requireMinSatisfying(),ge=requireMinVersion(),_e=requireValid(),we=requireOutside(),Me=requireGtr(),xe=requireLtr(),Re=requireIntersects(),Se=requireSimplify(),Ge=requireSubset();return semver={parse:o,valid:u,clean:l,inc:c,diff:f,major:d,minor:m,patch:g,prerelease:v,compare:y,rcompare:w,compareLoose:T,compareBuild:P,sort:A,rsort:D,gt:k,lt:j,eq:B,neq:Z,gte:R,lte:G,cmp:F,coerce:K,Comparator:Q,Range:ie,satisfies:te,toComparators:oe,maxSatisfying:le,minSatisfying:de,minVersion:ge,validRange:_e,outside:we,gtr:Me,ltr:xe,intersects:Re,simplifyRange:Se,subset:Ge,SemVer:n,re:t.re,src:t.src,tokens:t.t,SEMVER_SPEC_VERSION:e.SEMVER_SPEC_VERSION,RELEASE_TYPES:e.RELEASE_TYPES,compareIdentifiers:i.compareIdentifiers,rcompareIdentifiers:i.rcompareIdentifiers},semver}var semverExports=requireSemver();class SemVerCache{constructor(){this._cache=Object.create(null)}set(e,n,i){if(e in this._cache||(this._cache[e]=Object.create(null)),!(n in this._cache[e]))this._cache[e][n]=i;else throw`Version ${n} of key ${e} already registered.`}get(e,n){if(e in this._cache){const i=this._cache[e],o=semverExports.maxSatisfying(Object.keys(i),n);if(o!==null)return i[o]}}getAllVersions(e){if(e in this._cache)return this._cache[e]}}const WIDGET_STATE_MIMETYPE="application/vnd.jupyter.widget-state+json";class LabWidgetManager extends ManagerBase{constructor(e){super(),this._handleCommOpen=async(n,i)=>{const o=new shims.services.Comm(n);await this.handle_comm_open(o,i)},this._restored=new Signal$2(this),this._restoredStatus=!1,this._kernelRestoreInProgress=!1,this._isDisposed=!1,this._registry=new SemVerCache,this._modelsSync=new Map,this._onUnhandledIOPubMessage=new Signal$2(this),this._rendermime=e}callbacks(e){return{iopub:{output:n=>{this._onUnhandledIOPubMessage.emit(n)}}}}_handleKernelChanged({oldValue:e,newValue:n}){e&&e.removeCommTarget(this.comm_target_name,this._handleCommOpen),n&&n.registerCommTarget(this.comm_target_name,this._handleCommOpen)}disconnect(){super.disconnect(),this._restoredStatus=!1}async _loadFromKernel(){var e;if(!this.kernel)throw new Error("Kernel not set");if(((e=this.kernel)===null||e===void 0?void 0:e.handleComms)!==!1)return super._loadFromKernel()}async _create_comm(e,n,i,o,u){const l=this.kernel;if(!l)throw new Error("No current kernel");const c=l.createComm(e,n);return(i||o)&&c.open(i,o,u),new shims.services.Comm(c)}async _get_comm_info(){const e=this.kernel;if(!e)throw new Error("No current kernel");const n=await e.requestCommInfo({target_name:this.comm_target_name});return n.content.status==="ok"?n.content.comms:{}}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,this._commRegistration&&this._commRegistration.dispose())}async resolveUrl(e){return e}async loadClass(e,n,i){(n==="@jupyter-widgets/base"||n==="@jupyter-widgets/controls")&&semverExports.valid(i)&&(i=`^${i}`);const o=this._registry.getAllVersions(n);if(!o)throw new Error(`No version of module ${n} is registered`);const u=this._registry.get(n,i);if(!u){const f=Object.keys(o);throw new Error(`Module ${n}, version ${i} is not registered, however,         ${f.join(",")} ${f.length>1?"are":"is"}`)}let l;typeof u=="function"?l=await u():l=await u;const c=l[e];if(!c)throw new Error(`Class ${e} not found in module ${n}`);return c}get rendermime(){return this._rendermime}get restored(){return this._restored}get restoredStatus(){return this._restoredStatus}get onUnhandledIOPubMessage(){return this._onUnhandledIOPubMessage}register(e){this._registry.set(e.name,e.version,e.exports)}register_model(e,n){super.register_model(e,n),n.then(i=>{this._modelsSync.set(e,i),i.once("comm:close",()=>{this._modelsSync.delete(e)})})}async clear_state(){await super.clear_state(),this._modelsSync=new Map}get_state_sync(e={}){const n=[];for(const i of this._modelsSync.values())i.comm_live&&n.push(i);return serialize_state(n,e)}}class KernelWidgetManager extends LabWidgetManager{constructor(e,n){super(n),this._kernel=e,e.statusChanged.connect((i,o)=>{this._handleKernelStatusChange(o)}),e.connectionStatusChanged.connect((i,o)=>{this._handleKernelConnectionStatusChange(o)}),this._handleKernelChanged({name:"kernel",oldValue:null,newValue:e}),this.restoreWidgets()}_handleKernelConnectionStatusChange(e){e==="connected"&&(this._kernelRestoreInProgress||this.restoreWidgets())}_handleKernelStatusChange(e){e==="restarting"&&this.disconnect()}async restoreWidgets(){try{this._kernelRestoreInProgress=!0,await this._loadFromKernel(),this._restoredStatus=!0,this._restored.emit()}catch{}this._kernelRestoreInProgress=!1}dispose(){this.isDisposed||(this._kernel=null,super.dispose())}get kernel(){return this._kernel}}class WidgetManager extends LabWidgetManager{constructor(e,n,i){var o,u;super(n),this._context=e,e.sessionContext.kernelChanged.connect((l,c)=>{this._handleKernelChanged(c)}),e.sessionContext.statusChanged.connect((l,c)=>{this._handleKernelStatusChange(c)}),e.sessionContext.connectionStatusChanged.connect((l,c)=>{this._handleKernelConnectionStatusChange(c)}),!((o=e.sessionContext.session)===null||o===void 0)&&o.kernel&&this._handleKernelChanged({name:"kernel",oldValue:null,newValue:(u=e.sessionContext.session)===null||u===void 0?void 0:u.kernel}),this.restoreWidgets(this._context.model),this._settings=i,e.saveState.connect((l,c)=>{c==="started"&&i.saveState&&this._saveState()})}_saveState(){const e=this.get_state_sync({drop_defaults:!0});this._context.model.setMetadata?this._context.model.setMetadata("widgets",{"application/vnd.jupyter.widget-state+json":e}):this._context.model.metadata.set("widgets",{"application/vnd.jupyter.widget-state+json":e})}_handleKernelConnectionStatusChange(e){e==="connected"&&(this._kernelRestoreInProgress||this.restoreWidgets(this._context.model,{loadKernel:!0,loadNotebook:!1}))}_handleKernelStatusChange(e){e==="restarting"&&this.disconnect()}async restoreWidgets(e,{loadKernel:n,loadNotebook:i}={loadKernel:!0,loadNotebook:!0}){try{if(await this.context.sessionContext.ready,n)try{this._kernelRestoreInProgress=!0,await this._loadFromKernel()}finally{this._kernelRestoreInProgress=!1}i&&await this._loadFromNotebook(e),this._restoredStatus=!0,this._restored.emit()}catch{}}async _loadFromNotebook(e){const n=e.getMetadata?e.getMetadata("widgets"):e.metadata.get("widgets");if(n&&n[WIDGET_STATE_MIMETYPE]){let i=n[WIDGET_STATE_MIMETYPE];i=this.filterExistingModelState(i),await this.set_state(i)}}dispose(){this.isDisposed||(this._context=null,super.dispose())}async resolveUrl(e){const n=await this.context.urlResolver.resolveUrl(e);return this.context.urlResolver.getDownloadUrl(n)}get context(){return this._context}get kernel(){var e,n,i;return(i=(n=(e=this._context.sessionContext)===null||e===void 0?void 0:e.session)===null||n===void 0?void 0:n.kernel)!==null&&i!==void 0?i:null}register_model(e,n){super.register_model(e,n),this.setDirty()}async clear_state(){await super.clear_state(),this.setDirty()}setDirty(){this._settings.saveState&&(this._context.model.dirty=!0)}}const OUTPUT_WIDGET_VERSION$1="1.0.0";let OutputModel$1=class extends DOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"OutputModel",_view_name:"OutputView",_model_module:"@jupyter-widgets/output",_view_module:"@jupyter-widgets/output",_model_module_version:OUTPUT_WIDGET_VERSION$1,_view_module_version:OUTPUT_WIDGET_VERSION$1})}},OutputView$1=class extends DOMWidgetView{};const OUTPUT_WIDGET_VERSION=OUTPUT_WIDGET_VERSION$1;class OutputModel extends OutputModel$1{defaults(){return Object.assign(Object.assign({},super.defaults()),{msg_id:"",outputs:[]})}initialize(e,n){super.initialize(e,n),this._outputs=new OutputAreaModel({trusted:!0}),this._msgHook=i=>(this.add(i),!1),this.widget_manager instanceof WidgetManager&&this.widget_manager.context.sessionContext.kernelChanged.connect((i,o)=>{this._handleKernelChanged(o)}),this.listenTo(this,"change:msg_id",this.reset_msg_id),this.listenTo(this,"change:outputs",this.setOutputs),this.setOutputs()}_handleKernelChanged({oldValue:e}){const n=this.get("msg_id");n&&e&&(e.removeMessageHook(n,this._msgHook),this.set("msg_id",null))}reset_msg_id(){const e=this.widget_manager.kernel,n=this.get("msg_id"),i=this.previous("msg_id");i&&e&&e.removeMessageHook(i,this._msgHook),n&&e&&e.registerMessageHook(n,this._msgHook)}add(e){const n=e.header.msg_type;switch(n){case"execute_result":case"display_data":case"stream":case"error":{const i=e.content;i.output_type=n,this._outputs.add(i);break}case"clear_output":this.clear_output(e.content.wait);break}this.set("outputs",this._outputs.toJSON(),{newMessage:!0}),this.save_changes()}clear_output(e=!1){this._outputs.clear(e)}get outputs(){return this._outputs}setOutputs(e,n,i){i&&i.newMessage||(this.clear_output(),this._outputs.fromJSON(JSON.parse(JSON.stringify(this.get("outputs")))))}}class OutputView extends OutputView$1{_createElement(e){return this.luminoWidget=new JupyterLuminoPanelWidget({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=$$1(this.luminoWidget.node)}render(){super.render(),this._outputView=new OutputArea({rendermime:this.model.widget_manager.rendermime,contentFactory:OutputArea.defaultContentFactory,model:this.model.outputs}),this.luminoWidget.insertWidget(0,this._outputView),this.luminoWidget.addClass("jupyter-widgets"),this.luminoWidget.addClass("widget-output"),this.update()}remove(){return this._outputView.dispose(),super.remove()}}const output=Object.freeze(Object.defineProperty({__proto__:null,OUTPUT_WIDGET_VERSION,OutputModel,OutputView},Symbol.toStringTag,{value:"Module"})),JUPYTER_CONTROLS_VERSION="2.0.0";function typeset(t,e){e!==void 0&&(t.textContent=e),window.MathJax!==void 0&&MathJax.Hub.Queue(["Typeset",MathJax.Hub,t])}function escape_html(t){const e=document.createElement("div");return e.textContent=t,e.innerHTML}function reject(t,e){return function(i){throw e&&console.error(new Error(t)),i}}class DescriptionStyleModel extends StyleModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"DescriptionStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:JUPYTER_CONTROLS_VERSION})}}DescriptionStyleModel.styleProperties={description_width:{selector:".widget-label",attribute:"width",default:null}};class DescriptionModel extends DOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"DescriptionModel",_view_name:"DescriptionView",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:JUPYTER_CONTROLS_VERSION,_model_module_version:JUPYTER_CONTROLS_VERSION,description:"",description_allow_html:!1})}}class DescriptionView extends DOMWidgetView{render(){this.label=document.createElement("label"),this.el.appendChild(this.label),this.label.className="widget-label",this.label.style.display="none",this.listenTo(this.model,"change:description",this.updateDescription),this.listenTo(this.model,"change:description_allow_html",this.updateDescription),this.listenTo(this.model,"change:tabbable",this.updateTabindex),this.updateDescription(),this.updateTabindex(),this.updateTooltip()}typeset(e,n){this.displayed.then(()=>{var i;const u=(i=this.model.widget_manager._rendermime)===null||i===void 0?void 0:i.latexTypesetter;if(u)n!==void 0&&(e.textContent=n),u.typeset(e);else return typeset(e,n)})}updateDescription(){const e=this.model.get("description");e.length===0?this.label.style.display="none":(this.model.get("description_allow_html")?this.label.innerHTML=this.model.widget_manager.inline_sanitize(e):this.label.textContent=e,this.typeset(this.label),this.label.style.display="")}updateTooltip(){this.label&&(this.label.title=this.model.get("tooltip"))}}class LabeledDOMWidgetModel extends DescriptionModel{}class LabeledDOMWidgetView extends DescriptionView{}class CoreWidgetModel extends WidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"CoreWidgetModel",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:JUPYTER_CONTROLS_VERSION,_model_module_version:JUPYTER_CONTROLS_VERSION})}}class CoreDOMWidgetModel extends DOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"CoreDOMWidgetModel",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:JUPYTER_CONTROLS_VERSION,_model_module_version:JUPYTER_CONTROLS_VERSION})}}class CoreDescriptionModel extends DescriptionModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"CoreDescriptionModel",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:JUPYTER_CONTROLS_VERSION,_model_module_version:JUPYTER_CONTROLS_VERSION})}}class DirectionalLinkModel extends CoreWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{target:void 0,source:void 0,_model_name:"DirectionalLinkModel"})}initialize(e,n){super.initialize(e,n),this.on("change",this.updateBindings,this),this.updateBindings()}updateValue(e,n,i,o){if(!this._updating){this._updating=!0;try{i&&(i.set(o,e.get(n)),i.save_changes())}finally{this._updating=!1}}}updateBindings(){this.cleanup(),[this.sourceModel,this.sourceAttr]=this.get("source")||[null,null],[this.targetModel,this.targetAttr]=this.get("target")||[null,null],this.sourceModel&&(this.listenTo(this.sourceModel,"change:"+this.sourceAttr,()=>{this.updateValue(this.sourceModel,this.sourceAttr,this.targetModel,this.targetAttr)}),this.updateValue(this.sourceModel,this.sourceAttr,this.targetModel,this.targetAttr),this.listenToOnce(this.sourceModel,"destroy",this.cleanup)),this.targetModel&&this.listenToOnce(this.targetModel,"destroy",this.cleanup)}cleanup(){this.sourceModel&&(this.stopListening(this.sourceModel,"change:"+this.sourceAttr,void 0),this.stopListening(this.sourceModel,"destroy",void 0)),this.targetModel&&this.stopListening(this.targetModel,"destroy",void 0)}}DirectionalLinkModel.serializers=Object.assign(Object.assign({},CoreWidgetModel.serializers),{target:{deserialize:unpack_models},source:{deserialize:unpack_models}});class LinkModel extends DirectionalLinkModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"LinkModel"})}updateBindings(){super.updateBindings(),this.targetModel&&this.listenTo(this.targetModel,"change:"+this.targetAttr,()=>{this.updateValue(this.targetModel,this.targetAttr,this.sourceModel,this.sourceAttr)})}cleanup(){super.cleanup(),this.targetModel&&this.stopListening(this.targetModel,"change:"+this.targetAttr,void 0)}}class CheckboxStyleModel extends DescriptionStyleModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"CheckboxStyleModel"})}}CheckboxStyleModel.styleProperties=Object.assign(Object.assign({},DescriptionStyleModel.styleProperties),{background:{selector:"",attribute:"background",default:null}});class ToggleButtonStyleModel extends DescriptionStyleModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ToggleButtonStyleModel"})}}ToggleButtonStyleModel.styleProperties=Object.assign(Object.assign({},DescriptionStyleModel.styleProperties),{font_family:{selector:"",attribute:"font-family",default:""},font_size:{selector:"",attribute:"font-size",default:""},font_style:{selector:"",attribute:"font-style",default:""},font_variant:{selector:"",attribute:"font-variant",default:""},font_weight:{selector:"",attribute:"font-weight",default:""},text_color:{selector:"",attribute:"color",default:""},text_decoration:{selector:"",attribute:"text-decoration",default:""}});class BoolModel extends CoreDescriptionModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:!1,disabled:!1,_model_name:"BoolModel"})}}class CheckboxModel extends CoreDescriptionModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{indent:!0,style:null,_view_name:"CheckboxView",_model_name:"CheckboxModel"})}}class CheckboxView extends DescriptionView{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-checkbox"),this.label.innerHTML="&#8203;",this.checkboxLabel=document.createElement("label"),this.checkboxLabel.classList.add("widget-label-basic"),this.el.appendChild(this.checkboxLabel),this.checkbox=document.createElement("input"),this.checkbox.setAttribute("type","checkbox"),this.checkboxLabel.appendChild(this.checkbox),this.descriptionSpan=document.createElement("span"),this.checkboxLabel.appendChild(this.descriptionSpan),this.listenTo(this.model,"change:indent",this.updateIndent),this.listenTo(this.model,"change:tabbable",this.updateTabindex),this.update(),this.updateDescription(),this.updateIndent(),this.updateTabindex(),this.updateTooltip()}updateDescription(){if(this.checkboxLabel==null)return;const e=this.model.get("description");this.model.get("description_allow_html")?this.descriptionSpan.innerHTML=this.model.widget_manager.inline_sanitize(e):this.descriptionSpan.textContent=e,this.typeset(this.descriptionSpan),this.descriptionSpan.title=e,this.checkbox.title=e}updateIndent(){const e=this.model.get("indent");this.label.style.display=e?"":"none"}updateTabindex(){if(!this.checkbox)return;const e=this.model.get("tabbable");e===!0?this.checkbox.setAttribute("tabIndex","0"):e===!1?this.checkbox.setAttribute("tabIndex","-1"):e===null&&this.checkbox.removeAttribute("tabIndex")}updateTooltip(){if(!this.checkbox)return;const e=this.model.get("tooltip");e?this.model.get("description").length===0&&this.checkbox.setAttribute("title",e):this.checkbox.removeAttribute("title")}events(){return{'click input[type="checkbox"]':"_handle_click"}}_handle_click(){const e=this.model.get("value");this.model.set("value",!e,{updated_view:this}),this.touch()}update(e){return this.checkbox.checked=this.model.get("value"),(e===void 0||e.updated_view!=this)&&(this.checkbox.disabled=this.model.get("disabled")),super.update()}handle_message(e){e.do=="focus"?this.checkbox.focus():e.do=="blur"&&this.checkbox.blur()}}class ToggleButtonModel extends BoolModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"ToggleButtonView",_model_name:"ToggleButtonModel",tooltip:"",icon:"",button_style:"",style:null})}}class ToggleButtonView extends DOMWidgetView{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("jupyter-button"),this.el.classList.add("widget-toggle-button"),this.listenTo(this.model,"change:button_style",this.update_button_style),this.listenTo(this.model,"change:tabbable",this.updateTabindex),this.set_button_style(),this.update()}update_button_style(){this.update_mapped_classes(ToggleButtonView.class_map,"button_style")}set_button_style(){this.set_mapped_classes(ToggleButtonView.class_map,"button_style")}update(e){if(this.model.get("value")?this.el.classList.add("mod-active"):this.el.classList.remove("mod-active"),e===void 0||e.updated_view!==this){this.el.disabled=this.model.get("disabled"),this.el.setAttribute("tabbable",this.model.get("tabbable")),this.el.setAttribute("title",this.model.get("tooltip"));const n=this.model.get("description"),i=this.model.get("icon");if(n.trim().length===0&&i.trim().length===0)this.el.innerHTML="&nbsp;";else{if(this.el.textContent="",i.trim().length){const o=document.createElement("i");this.el.appendChild(o),o.classList.add("fa"),o.classList.add("fa-"+i)}this.el.appendChild(document.createTextNode(n))}}return this.updateTabindex(),super.update()}events(){return{click:"_handle_click"}}_handle_click(e){e.preventDefault();const n=this.model.get("value");this.model.set("value",!n,{updated_view:this}),this.touch()}preinitialize(){this.tagName="button"}}ToggleButtonView.class_map={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]};class ValidModel extends BoolModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{readout:"Invalid",_view_name:"ValidView",_model_name:"ValidModel"})}}class ValidView extends DescriptionView{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-valid"),this.el.classList.add("widget-inline-hbox"),this.icon=document.createElement("i"),this.icon.classList.add("fa","fa-fw"),this.el.appendChild(this.icon),this.readout=document.createElement("span"),this.readout.classList.add("widget-valid-readout"),this.readout.classList.add("widget-readout"),this.el.appendChild(this.readout),this.update()}update(){this.el.classList.remove("mod-valid"),this.el.classList.remove("mod-invalid"),this.icon.classList.remove("fa-check"),this.icon.classList.remove("fa-times"),this.readout.textContent=this.model.get("readout"),this.model.get("value")?(this.el.classList.add("mod-valid"),this.icon.classList.add("fa-check")):(this.el.classList.add("mod-invalid"),this.icon.classList.add("fa-times"))}}class ButtonStyleModel extends StyleModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ButtonStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:JUPYTER_CONTROLS_VERSION})}}ButtonStyleModel.styleProperties={button_color:{selector:"",attribute:"background-color",default:null},font_family:{selector:"",attribute:"font-family",default:""},font_size:{selector:"",attribute:"font-size",default:""},font_style:{selector:"",attribute:"font-style",default:""},font_variant:{selector:"",attribute:"font-variant",default:""},font_weight:{selector:"",attribute:"font-weight",default:""},text_color:{selector:"",attribute:"color",default:""},text_decoration:{selector:"",attribute:"text-decoration",default:""}};class ButtonModel extends CoreDOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{description:"",tooltip:"",disabled:!1,icon:"",button_style:"",_view_name:"ButtonView",_model_name:"ButtonModel",style:null})}}class ButtonView extends DOMWidgetView{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("jupyter-button"),this.el.classList.add("widget-button"),this.listenTo(this.model,"change:button_style",this.update_button_style),this.listenTo(this.model,"change:tabbable",this.updateTabindex),this.set_button_style(),this.update()}update(){this.el.disabled=this.model.get("disabled"),this.updateTabindex();const e=this.model.get("tooltip"),n=this.model.get("description"),i=this.model.get("icon");if(this.el.setAttribute("title",e??n),n.length||i.length){if(this.el.textContent="",i.length){const o=document.createElement("i");o.classList.add("fa"),o.classList.add(...i.split(/[\s]+/).filter(Boolean).map(u=>`fa-${u}`)),n.length===0&&o.classList.add("center"),this.el.appendChild(o)}this.el.appendChild(document.createTextNode(n))}return super.update()}update_button_style(){this.update_mapped_classes(ButtonView.class_map,"button_style")}set_button_style(){this.set_mapped_classes(ButtonView.class_map,"button_style")}events(){return{click:"_handle_click"}}_handle_click(e){e.preventDefault(),this.send({event:"click"})}preinitialize(){this.tagName="button"}}ButtonView.class_map={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]};class BoxModel extends CoreDOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"BoxView",_model_name:"BoxModel",children:[],box_style:""})}}BoxModel.serializers=Object.assign(Object.assign({},CoreDOMWidgetModel.serializers),{children:{deserialize:unpack_models}});class HBoxModel extends BoxModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"HBoxView",_model_name:"HBoxModel"})}}class VBoxModel extends BoxModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"VBoxView",_model_name:"VBoxModel"})}}class BoxView extends DOMWidgetView{_createElement(e){return this.luminoWidget=new JupyterLuminoPanelWidget({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=$$1(this.luminoWidget.node)}initialize(e){super.initialize(e),this.children_views=new ViewList(this.add_child_model,null,this),this.listenTo(this.model,"change:children",this.update_children),this.listenTo(this.model,"change:box_style",this.update_box_style),this.luminoWidget.addClass("jupyter-widgets"),this.luminoWidget.addClass("widget-container"),this.luminoWidget.addClass("widget-box")}render(){super.render(),this.update_children(),this.set_box_style()}update_children(){var e;(e=this.children_views)===null||e===void 0||e.update(this.model.get("children")).then(n=>{n.forEach(i=>{MessageLoop$1.postMessage(i.luminoWidget,Widget$1.ResizeMessage.UnknownSize)})})}update_box_style(){this.update_mapped_classes(BoxView.class_map,"box_style")}set_box_style(){this.set_mapped_classes(BoxView.class_map,"box_style")}add_child_model(e){const n=new Widget$1;return this.luminoWidget.addWidget(n),this.create_child_view(e).then(i=>{const o=ArrayExt$4.firstIndexOf(this.luminoWidget.widgets,n);return this.luminoWidget.insertWidget(o,i.luminoWidget),n.dispose(),i}).catch(reject$2("Could not add child view to box",!0))}remove(){this.children_views=null,super.remove()}}BoxView.class_map={success:["alert","alert-success"],info:["alert","alert-info"],warning:["alert","alert-warning"],danger:["alert","alert-danger"]};class HBoxView extends BoxView{initialize(e){super.initialize(e),this.luminoWidget.addClass("widget-hbox")}}class VBoxView extends BoxView{initialize(e){super.initialize(e),this.luminoWidget.addClass("widget-vbox")}}class GridBoxView extends BoxView{initialize(e){super.initialize(e),this.luminoWidget.addClass("widget-gridbox"),this.luminoWidget.removeClass("widget-box")}}class GridBoxModel extends BoxModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"GridBoxView",_model_name:"GridBoxModel"})}}class ImageModel extends CoreDOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ImageModel",_view_name:"ImageView",format:"png",width:"",height:"",value:new DataView(new ArrayBuffer(0))})}}ImageModel.serializers=Object.assign(Object.assign({},CoreDOMWidgetModel.serializers),{value:{serialize:t=>new DataView(t.buffer.slice(0))}});class ImageView extends DOMWidgetView{render(){super.render(),this.luminoWidget.addClass("jupyter-widgets"),this.luminoWidget.addClass("widget-image"),this.update()}update(){let e;const n=this.model.get("format"),i=this.model.get("value");if(n!=="url"){const c=new Blob([i],{type:`image/${this.model.get("format")}`});e=URL.createObjectURL(c)}else e=new TextDecoder("utf-8").decode(i.buffer);const o=this.el.src;this.el.src=e,o&&URL.revokeObjectURL(o);const u=this.model.get("width");u!==void 0&&u.length>0?this.el.setAttribute("width",u):this.el.removeAttribute("width");const l=this.model.get("height");return l!==void 0&&l.length>0?this.el.setAttribute("height",l):this.el.removeAttribute("height"),super.update()}remove(){this.el.src&&URL.revokeObjectURL(this.el.src),super.remove()}preinitialize(){this.tagName="img"}}class VideoModel extends CoreDOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"VideoModel",_view_name:"VideoView",format:"mp4",width:"",height:"",autoplay:!0,loop:!0,controls:!0,value:new DataView(new ArrayBuffer(0))})}}VideoModel.serializers=Object.assign(Object.assign({},CoreDOMWidgetModel.serializers),{value:{serialize:t=>new DataView(t.buffer.slice(0))}});class VideoView extends DOMWidgetView{render(){super.render(),this.luminoWidget.addClass("jupyter-widgets"),this.luminoWidget.addClass("widget-image"),this.update()}update(){let e;const n=this.model.get("format"),i=this.model.get("value");if(n!=="url"){const c=new Blob([i],{type:`video/${this.model.get("format")}`});e=URL.createObjectURL(c)}else e=new TextDecoder("utf-8").decode(i.buffer);const o=this.el.src;this.el.src=e,o&&URL.revokeObjectURL(o);const u=this.model.get("width");u!==void 0&&u.length>0?this.el.setAttribute("width",u):this.el.removeAttribute("width");const l=this.model.get("height");return l!==void 0&&l.length>0?this.el.setAttribute("height",l):this.el.removeAttribute("height"),this.el.loop=this.model.get("loop"),this.el.autoplay=this.model.get("autoplay"),this.el.controls=this.model.get("controls"),super.update()}remove(){this.el.src&&URL.revokeObjectURL(this.el.src),super.remove()}preinitialize(){this.tagName="video"}}class AudioModel extends CoreDOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"AudioModel",_view_name:"AudioView",format:"mp3",autoplay:!0,loop:!0,controls:!0,value:new DataView(new ArrayBuffer(0))})}}AudioModel.serializers=Object.assign(Object.assign({},CoreDOMWidgetModel.serializers),{value:{serialize:t=>new DataView(t.buffer.slice(0))}});class AudioView extends DOMWidgetView{render(){super.render(),this.luminoWidget.addClass("jupyter-widgets"),this.update()}update(){let e;const n=this.model.get("format"),i=this.model.get("value");if(n!=="url"){const u=new Blob([i],{type:`audio/${this.model.get("format")}`});e=URL.createObjectURL(u)}else e=new TextDecoder("utf-8").decode(i.buffer);const o=this.el.src;return this.el.src=e,o&&URL.revokeObjectURL(o),this.el.loop=this.model.get("loop"),this.el.autoplay=this.model.get("autoplay"),this.el.controls=this.model.get("controls"),super.update()}remove(){this.el.src&&URL.revokeObjectURL(this.el.src),super.remove()}preinitialize(){this.tagName="audio"}}const named_colors={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgreen:"#90ee90",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};class ColorPickerModel extends CoreDescriptionModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:"black",concise:!1,_model_name:"ColorPickerModel",_view_name:"ColorPickerView"})}}class ColorPickerView extends DescriptionView{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-colorpicker"),this._color_container=document.createElement("div"),this._color_container.className="widget-inline-hbox widget-colorpicker-input",this.el.appendChild(this._color_container),this._textbox=document.createElement("input"),this._textbox.setAttribute("type","text"),this._textbox.id=this.label.htmlFor=uuid(),this._color_container.appendChild(this._textbox),this._textbox.value=this.model.get("value"),this._colorpicker=document.createElement("input"),this._colorpicker.setAttribute("type","color"),this._color_container.appendChild(this._colorpicker),this.listenTo(this.model,"change:value",this._update_value),this.listenTo(this.model,"change:concise",this._update_concise),this._update_concise(),this._update_value(),this.update()}update(e){if(e===void 0||e.updated_view!=this){const n=this.model.get("disabled");this._textbox.disabled=n,this._colorpicker.disabled=n}return super.update()}events(){return this._picker_change,this._text_change,{'change [type="color"]':"_picker_change",'change [type="text"]':"_text_change"}}_update_value(){const e=this.model.get("value");this._colorpicker.value=color2hex(e),this._textbox.value=e}_update_concise(){this.model.get("concise")?(this.el.classList.add("concise"),this._textbox.style.display="none"):(this.el.classList.remove("concise"),this._textbox.style.display="")}_picker_change(){this.model.set("value",this._colorpicker.value),this.touch()}_text_change(){const e=this._validate_color(this._textbox.value,this.model.get("value"));this.model.set("value",e),this.touch()}_validate_color(e,n){return e.match(/#[a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?$/)||named_colors[e.toLowerCase()]?e:n}}function color2hex(t){return named_colors[t.toLowerCase()]||rgb3_to_rgb6(t)}function rgb3_to_rgb6(t){return t.length===7?t:"#"+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)+t.charAt(3)+t.charAt(3)}function serialize_date(t){return t===null?null:{year:t.getUTCFullYear(),month:t.getUTCMonth(),date:t.getUTCDate()}}function deserialize_date(t){if(t===null)return null;{const e=new Date;return e.setUTCFullYear(t.year,t.month,t.date),e.setUTCHours(0,0,0,0),e}}class DatePickerModel extends CoreDescriptionModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:null,_model_name:"DatePickerModel",_view_name:"DatePickerView"})}}DatePickerModel.serializers=Object.assign(Object.assign({},CoreDescriptionModel.serializers),{value:{serialize:serialize_date,deserialize:deserialize_date}});class DatePickerView extends DescriptionView{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-datepicker"),this._datepicker=document.createElement("input"),this._datepicker.setAttribute("type","date"),this._datepicker.id=this.label.htmlFor=uuid(),this.el.appendChild(this._datepicker),this.listenTo(this.model,"change:value",this._update_value),this._update_value(),this.update()}update(e){return(e===void 0||e.updated_view!==this)&&(this._datepicker.disabled=this.model.get("disabled")),super.update()}events(){return this._picker_change,this._picker_focusout,{'change [type="date"]':"_picker_change",'focusout [type="date"]':"_picker_focusout"}}_update_value(){const e=this.model.get("value");this._datepicker.valueAsDate=e}_picker_change(){this._datepicker.validity.badInput||(this.model.set("value",this._datepicker.valueAsDate),this.touch())}_picker_focusout(){this._datepicker.validity.badInput&&(this.model.set("value",null),this.touch())}}const PARSER=/(\d\d):(\d\d)(:(\d\d)(.(\d{1,3})\d*)?)?/;function serialize_time(t){if(t===null)return null;{const e=PARSER.exec(t);return e===null?null:{hours:Math.min(23,parseInt(e[1],10)),minutes:Math.min(59,parseInt(e[2],10)),seconds:e[4]?Math.min(59,parseInt(e[4],10)):0,milliseconds:e[6]?parseInt(e[6],10):0}}}function deserialize_time(t){if(t===null)return null;{const e=[`${t.hours.toString().padStart(2,"0")}:${t.minutes.toString().padStart(2,"0")}`];return(t.seconds>0||t.milliseconds>0)&&(e.push(`:${t.seconds.toString().padStart(2,"0")}`),t.milliseconds>0&&e.push(`.${t.milliseconds.toString().padStart(3,"0")}`)),e.join("")}}const time_serializers={serialize:serialize_time,deserialize:deserialize_time};class TimeModel extends CoreDescriptionModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:TimeModel.model_name,_view_name:TimeModel.view_name,value:null,disabled:!1,min:null,max:null,step:60})}}TimeModel.serializers=Object.assign(Object.assign({},CoreDescriptionModel.serializers),{value:time_serializers,min:time_serializers,max:time_serializers});TimeModel.model_name="TimeModel";TimeModel.view_name="TimeView";class TimeView extends DescriptionView{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-timepicker"),this._timepicker=document.createElement("input"),this._timepicker.setAttribute("type","time"),this._timepicker.id=this.label.htmlFor=uuid(),this.el.appendChild(this._timepicker),this.listenTo(this.model,"change:value",this._update_value),this.listenTo(this.model,"change",this.update2),this._update_value(),this.update2()}update2(e,n){return(n===void 0||n.updated_view!==this)&&(this._timepicker.disabled=this.model.get("disabled"),this._timepicker.min=this.model.get("min"),this._timepicker.max=this.model.get("max"),this._timepicker.step=this.model.get("step")),super.update()}events(){return this._picker_change,this._picker_focusout,{'change [type="time"]':"_picker_change",'focusout [type="time"]':"_picker_focusout"}}_update_value(e,n,i){(i===void 0||i.updated_view!==this)&&(this._timepicker.value=this.model.get("value"))}_picker_change(){this._timepicker.validity.badInput||(this.model.set("value",this._timepicker.value,{updated_view:this}),this.touch())}_picker_focusout(){this._timepicker.validity.badInput&&(this.model.set("value",null,{updated_view:this}),this.touch())}}function serialize_datetime(t){return t===null?null:{year:t.getUTCFullYear(),month:t.getUTCMonth(),date:t.getUTCDate(),hours:t.getUTCHours(),minutes:t.getUTCMinutes(),seconds:t.getUTCSeconds(),milliseconds:t.getUTCMilliseconds()}}function deserialize_datetime(t){if(t===null)return null;{const e=new Date;return e.setUTCFullYear(t.year,t.month,t.date),e.setUTCHours(t.hours,t.minutes,t.seconds,t.milliseconds),e}}const datetime_serializers={serialize:serialize_datetime,deserialize:deserialize_datetime};class DatetimeModel extends CoreDescriptionModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"DatetimeModel",_view_name:"DatetimeView",value:null,disabled:!1,min:null,max:null})}}DatetimeModel.serializers=Object.assign(Object.assign({},CoreDescriptionModel.serializers),{value:datetime_serializers,min:datetime_serializers,max:datetime_serializers});class DatetimeView extends DescriptionView{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-datetimepicker");const e=document.createElement("input");e.type="datetime-local",e.type==="text"?(this._datepicker=document.createElement("input"),this._datepicker.setAttribute("type","date"),this._datepicker.id=this.label.htmlFor=uuid(),this._timepicker=document.createElement("input"),this._timepicker.setAttribute("type","time"),this._timepicker.id=uuid(),this.el.appendChild(this._datepicker),this.el.appendChild(this._timepicker)):(this._datetimepicker=e,this._datetimepicker.id=this.label.htmlFor=uuid(),this.el.appendChild(this._datetimepicker)),this.listenTo(this.model,"change:value",this._update_value),this.listenTo(this.model,"change",this.update2),this._update_value(),this.update2()}update2(e,n){if(n===void 0||n.updated_view!==this){const i=this.model.get("min"),o=this.model.get("max");this._datetimepicker?(this._datetimepicker.disabled=this.model.get("disabled"),this._datetimepicker.min=Private$m.dt_as_dt_string(i),this._datetimepicker.max=Private$m.dt_as_dt_string(o)):(this._datepicker.disabled=this.model.get("disabled"),this._datepicker.min=Private$m.dt_as_date_string(i),this._datepicker.max=Private$m.dt_as_date_string(o),this._timepicker.disabled=this.model.get("disabled"))}}events(){return this._picker_change,this._picker_focusout,{'change [type="date"]':"_picker_change",'change [type="time"]':"_picker_change",'change [type="datetime-local"]':"_picker_change",'focusout [type="date"]':"_picker_focusout",'focusout [type="datetime-local"]':"_picker_focusout",'focusout [type="time"]':"_picker_focusout"}}_update_value(e,n,i){if(i===void 0||i.updated_view!==this){const o=this.model.get("value");this._datetimepicker?this._datetimepicker.value=Private$m.dt_as_dt_string(o):(this._datepicker.valueAsDate=o,this._timepicker.value=Private$m.dt_as_time_string(o))}}_picker_change(){if(this._datetimepicker){if(!this._datetimepicker.validity.badInput){const e=this._datetimepicker.value;let n=e?new Date(e):null;n&&isNaN(n.valueOf())&&(n=null),this.model.set("value",n,{updated_view:this}),this.touch()}}else if(!this._datepicker.validity.badInput&&!this._timepicker.validity.badInput){const e=this._datepicker.valueAsDate,n=serialize_time(this._timepicker.value);e!==null&&n!==null&&e.setHours(n.hours,n.minutes,n.seconds,n.milliseconds),this.model.set("value",n!==null&&e,{updated_view:this}),this.touch()}}_picker_focusout(){[this._datetimepicker,this._datepicker,this._timepicker].some(n=>n&&n.validity.badInput)&&(this.model.set("value",null),this.touch())}}var Private$m;(function(t){function e(o){if(o===null)return"";const u=[];return u.push(`${o.getFullYear().toString().padStart(4,"0")}`),u.push(`-${(o.getMonth()+1).toString().padStart(2,"0")}`),u.push(`-${o.getDate().toString().padStart(2,"0")}`),u.push(`T${o.getHours().toString().padStart(2,"0")}`),u.push(`:${o.getMinutes().toString().padStart(2,"0")}`),(o.getSeconds()>0||o.getMilliseconds()>0)&&(u.push(`:${o.getSeconds().toString().padStart(2,"0")}`),o.getMilliseconds()>0&&u.push(`.${o.getMilliseconds().toString().padStart(3,"0")}`)),u.join("")}t.dt_as_dt_string=e;function n(o){return o?e(o).split("T",2)[0]:""}t.dt_as_date_string=n;function i(o){return o?e(o).split("T",2)[1]:""}t.dt_as_time_string=i})(Private$m||(Private$m={}));function serialize_naive(t){return t===null?null:{year:t.getFullYear(),month:t.getMonth(),date:t.getDate(),hours:t.getHours(),minutes:t.getMinutes(),seconds:t.getSeconds(),milliseconds:t.getMilliseconds()}}function deserialize_naive(t){if(t===null)return null;{const e=new Date;return e.setFullYear(t.year,t.month,t.date),e.setHours(t.hours,t.minutes,t.seconds,t.milliseconds),e}}const naive_serializers={serialize:serialize_naive,deserialize:deserialize_naive};class NaiveDatetimeModel extends DatetimeModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"NaiveDatetimeModel"})}}NaiveDatetimeModel.serializers=Object.assign(Object.assign({},CoreDescriptionModel.serializers),{value:naive_serializers,min:naive_serializers,max:naive_serializers});function formatDecimal(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function formatDecimalParts(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function exponent(t){return t=formatDecimalParts(Math.abs(t)),t?t[1]:NaN}function formatGroup(t,e){return function(n,i){for(var o=n.length,u=[],l=0,c=t[0],f=0;o>0&&c>0&&(f+c+1>i&&(c=Math.max(1,i-f)),u.push(n.substring(o-=c,o+c)),!((f+=c+1)>i));)c=t[l=(l+1)%t.length];return u.reverse().join(e)}}function formatNumerals(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var re$1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(t){if(!(e=re$1.exec(t)))throw new Error("invalid format: "+t);var e;return new FormatSpecifier({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(t){e:for(var e=t.length,n=1,i=-1,o;n<e;++n)switch(t[n]){case".":i=o=n;break;case"0":i===0&&(i=n),o=n;break;default:if(!+t[n])break e;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(o+1):t}var prefixExponent;function formatPrefixAuto(t,e){var n=formatDecimalParts(t,e);if(!n)return t+"";var i=n[0],o=n[1],u=o-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,l=i.length;return u===l?i:u>l?i+new Array(u-l+1).join("0"):u>0?i.slice(0,u)+"."+i.slice(u):"0."+new Array(1-u).join("0")+formatDecimalParts(t,Math.max(0,e+u-1))[0]}function formatRounded(t,e){var n=formatDecimalParts(t,e);if(!n)return t+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}const formatTypes={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:formatDecimal,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>formatRounded(t*100,e),r:formatRounded,s:formatPrefixAuto,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function identity(t){return t}var map=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale(t){var e=t.grouping===void 0||t.thousands===void 0?identity:formatGroup(map.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",u=t.numerals===void 0?identity:formatNumerals(map.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function d(g){g=formatSpecifier(g);var v=g.fill,y=g.align,w=g.sign,T=g.symbol,P=g.zero,A=g.width,D=g.comma,k=g.precision,j=g.trim,B=g.type;B==="n"?(D=!0,B="g"):formatTypes[B]||(k===void 0&&(k=12),j=!0,B="g"),(P||v==="0"&&y==="=")&&(P=!0,v="0",y="=");var Z=T==="$"?n:T==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():"",R=T==="$"?i:/[%p]/.test(B)?l:"",G=formatTypes[B],F=/[defgprs%]/.test(B);k=k===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function K(Q){var ie=Z,te=R,oe,le,de;if(B==="c")te=G(Q)+te,Q="";else{Q=+Q;var ge=Q<0||1/Q<0;if(Q=isNaN(Q)?f:G(Math.abs(Q),k),j&&(Q=formatTrim(Q)),ge&&+Q==0&&w!=="+"&&(ge=!1),ie=(ge?w==="("?w:c:w==="-"||w==="("?"":w)+ie,te=(B==="s"?prefixes[8+prefixExponent/3]:"")+te+(ge&&w==="("?")":""),F){for(oe=-1,le=Q.length;++oe<le;)if(de=Q.charCodeAt(oe),48>de||de>57){te=(de===46?o+Q.slice(oe+1):Q.slice(oe))+te,Q=Q.slice(0,oe);break}}}D&&!P&&(Q=e(Q,1/0));var _e=ie.length+Q.length+te.length,we=_e<A?new Array(A-_e+1).join(v):"";switch(D&&P&&(Q=e(we+Q,we.length?A-te.length:1/0),we=""),y){case"<":Q=ie+Q+te+we;break;case"=":Q=ie+we+Q+te;break;case"^":Q=we.slice(0,_e=we.length>>1)+ie+Q+te+we.slice(_e);break;default:Q=we+ie+Q+te;break}return u(Q)}return K.toString=function(){return g+""},K}function m(g,v){var y=d((g=formatSpecifier(g),g.type="f",g)),w=Math.max(-8,Math.min(8,Math.floor(exponent(v)/3)))*3,T=Math.pow(10,-w),P=prefixes[8+w/3];return function(A){return y(T*A)+P}}return{format:d,formatPrefix:m}}var locale,format,formatPrefix;defaultLocale({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale(t){return locale=formatLocale(t),format=locale.format,formatPrefix=locale.formatPrefix,locale}var nouislider$1={exports:{}},nouislider=nouislider$1.exports,hasRequiredNouislider;function requireNouislider(){return hasRequiredNouislider||(hasRequiredNouislider=1,(function(t,e){(function(n,i){i(e)})(nouislider,(function(n){n.PipsMode=void 0,(function(Pe){Pe.Range="range",Pe.Steps="steps",Pe.Positions="positions",Pe.Count="count",Pe.Values="values"})(n.PipsMode||(n.PipsMode={})),n.PipsType=void 0,(function(Pe){Pe[Pe.None=-1]="None",Pe[Pe.NoValue=0]="NoValue",Pe[Pe.LargeValue=1]="LargeValue",Pe[Pe.SmallValue=2]="SmallValue"})(n.PipsType||(n.PipsType={}));function i(Pe){return o(Pe)&&typeof Pe.from=="function"}function o(Pe){return typeof Pe=="object"&&typeof Pe.to=="function"}function u(Pe){Pe.parentElement.removeChild(Pe)}function l(Pe){return Pe!=null}function c(Pe){Pe.preventDefault()}function f(Pe){return Pe.filter(function(ve){return this[ve]?!1:this[ve]=!0},{})}function d(Pe,ve){return Math.round(Pe/ve)*ve}function m(Pe,ve){var ut=Pe.getBoundingClientRect(),wt=Pe.ownerDocument,Tt=wt.documentElement,Vt=k(wt);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(Vt.x=0),ve?ut.top+Vt.y-Tt.clientTop:ut.left+Vt.x-Tt.clientLeft}function g(Pe){return typeof Pe=="number"&&!isNaN(Pe)&&isFinite(Pe)}function v(Pe,ve,ut){ut>0&&(P(Pe,ve),setTimeout(function(){A(Pe,ve)},ut))}function y(Pe){return Math.max(Math.min(Pe,100),0)}function w(Pe){return Array.isArray(Pe)?Pe:[Pe]}function T(Pe){Pe=String(Pe);var ve=Pe.split(".");return ve.length>1?ve[1].length:0}function P(Pe,ve){Pe.classList&&!/\s/.test(ve)?Pe.classList.add(ve):Pe.className+=" "+ve}function A(Pe,ve){Pe.classList&&!/\s/.test(ve)?Pe.classList.remove(ve):Pe.className=Pe.className.replace(new RegExp("(^|\\b)"+ve.split(" ").join("|")+"(\\b|$)","gi")," ")}function D(Pe,ve){return Pe.classList?Pe.classList.contains(ve):new RegExp("\\b"+ve+"\\b").test(Pe.className)}function k(Pe){var ve=window.pageXOffset!==void 0,ut=(Pe.compatMode||"")==="CSS1Compat",wt=ve?window.pageXOffset:ut?Pe.documentElement.scrollLeft:Pe.body.scrollLeft,Tt=ve?window.pageYOffset:ut?Pe.documentElement.scrollTop:Pe.body.scrollTop;return{x:wt,y:Tt}}function j(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function B(){var Pe=!1;try{var ve=Object.defineProperty({},"passive",{get:function(){Pe=!0}});window.addEventListener("test",null,ve)}catch{}return Pe}function Z(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function R(Pe,ve){return 100/(ve-Pe)}function G(Pe,ve,ut){return ve*100/(Pe[ut+1]-Pe[ut])}function F(Pe,ve){return G(Pe,Pe[0]<0?ve+Math.abs(Pe[0]):ve-Pe[0],0)}function K(Pe,ve){return ve*(Pe[1]-Pe[0])/100+Pe[0]}function Q(Pe,ve){for(var ut=1;Pe>=ve[ut];)ut+=1;return ut}function ie(Pe,ve,ut){if(ut>=Pe.slice(-1)[0])return 100;var wt=Q(ut,Pe),Tt=Pe[wt-1],Vt=Pe[wt],Gt=ve[wt-1],Qt=ve[wt];return Gt+F([Tt,Vt],ut)/R(Gt,Qt)}function te(Pe,ve,ut){if(ut>=100)return Pe.slice(-1)[0];var wt=Q(ut,ve),Tt=Pe[wt-1],Vt=Pe[wt],Gt=ve[wt-1],Qt=ve[wt];return K([Tt,Vt],(ut-Gt)*R(Gt,Qt))}function oe(Pe,ve,ut,wt){if(wt===100)return wt;var Tt=Q(wt,Pe),Vt=Pe[Tt-1],Gt=Pe[Tt];return ut?wt-Vt>(Gt-Vt)/2?Gt:Vt:ve[Tt-1]?Pe[Tt-1]+d(wt-Pe[Tt-1],ve[Tt-1]):wt}var le=(function(){function Pe(ve,ut,wt){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[wt||!1],this.xNumSteps=[!1],this.snap=ut;var Tt,Vt=[];for(Object.keys(ve).forEach(function(Gt){Vt.push([w(ve[Gt]),Gt])}),Vt.sort(function(Gt,Qt){return Gt[0][0]-Qt[0][0]}),Tt=0;Tt<Vt.length;Tt++)this.handleEntryPoint(Vt[Tt][1],Vt[Tt][0]);for(this.xNumSteps=this.xSteps.slice(0),Tt=0;Tt<this.xNumSteps.length;Tt++)this.handleStepPoint(Tt,this.xNumSteps[Tt])}return Pe.prototype.getDistance=function(ve){var ut,wt=[];for(ut=0;ut<this.xNumSteps.length-1;ut++){var Tt=this.xNumSteps[ut];if(Tt&&ve/Tt%1!==0)throw new Error("noUiSlider: 'limit', 'margin' and 'padding' of "+this.xPct[ut]+"% range must be divisible by step.");wt[ut]=G(this.xVal,ve,ut)}return wt},Pe.prototype.getAbsoluteDistance=function(ve,ut,wt){var Tt=0;if(ve<this.xPct[this.xPct.length-1])for(;ve>this.xPct[Tt+1];)Tt++;else ve===this.xPct[this.xPct.length-1]&&(Tt=this.xPct.length-2);!wt&&ve===this.xPct[Tt+1]&&Tt++,ut===null&&(ut=[]);var Vt,Gt=1,Qt=ut[Tt],qt=0,ht=0,jt=0,tr=0;for(wt?Vt=(ve-this.xPct[Tt])/(this.xPct[Tt+1]-this.xPct[Tt]):Vt=(this.xPct[Tt+1]-ve)/(this.xPct[Tt+1]-this.xPct[Tt]);Qt>0;)qt=this.xPct[Tt+1+tr]-this.xPct[Tt+tr],ut[Tt+tr]*Gt+100-Vt*100>100?(ht=qt*Vt,Gt=(Qt-100*Vt)/ut[Tt+tr],Vt=1):(ht=ut[Tt+tr]*qt/100*Gt,Gt=0),wt?(jt=jt-ht,this.xPct.length+tr>=1&&tr--):(jt=jt+ht,this.xPct.length-tr>=1&&tr++),Qt=ut[Tt+tr]*Gt;return ve+jt},Pe.prototype.toStepping=function(ve){return ve=ie(this.xVal,this.xPct,ve),ve},Pe.prototype.fromStepping=function(ve){return te(this.xVal,this.xPct,ve)},Pe.prototype.getStep=function(ve){return ve=oe(this.xPct,this.xSteps,this.snap,ve),ve},Pe.prototype.getDefaultStep=function(ve,ut,wt){var Tt=Q(ve,this.xPct);return(ve===100||ut&&ve===this.xPct[Tt-1])&&(Tt=Math.max(Tt-1,1)),(this.xVal[Tt]-this.xVal[Tt-1])/wt},Pe.prototype.getNearbySteps=function(ve){var ut=Q(ve,this.xPct);return{stepBefore:{startValue:this.xVal[ut-2],step:this.xNumSteps[ut-2],highestStep:this.xHighestCompleteStep[ut-2]},thisStep:{startValue:this.xVal[ut-1],step:this.xNumSteps[ut-1],highestStep:this.xHighestCompleteStep[ut-1]},stepAfter:{startValue:this.xVal[ut],step:this.xNumSteps[ut],highestStep:this.xHighestCompleteStep[ut]}}},Pe.prototype.countStepDecimals=function(){var ve=this.xNumSteps.map(T);return Math.max.apply(null,ve)},Pe.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},Pe.prototype.convert=function(ve){return this.getStep(this.toStepping(ve))},Pe.prototype.handleEntryPoint=function(ve,ut){var wt;if(ve==="min"?wt=0:ve==="max"?wt=100:wt=parseFloat(ve),!g(wt)||!g(ut[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(wt),this.xVal.push(ut[0]);var Tt=Number(ut[1]);wt?this.xSteps.push(isNaN(Tt)?!1:Tt):isNaN(Tt)||(this.xSteps[0]=Tt),this.xHighestCompleteStep.push(0)},Pe.prototype.handleStepPoint=function(ve,ut){if(ut){if(this.xVal[ve]===this.xVal[ve+1]){this.xSteps[ve]=this.xHighestCompleteStep[ve]=this.xVal[ve];return}this.xSteps[ve]=G([this.xVal[ve],this.xVal[ve+1]],ut,0)/R(this.xPct[ve],this.xPct[ve+1]);var wt=(this.xVal[ve+1]-this.xVal[ve])/this.xNumSteps[ve],Tt=Math.ceil(Number(wt.toFixed(3))-1),Vt=this.xVal[ve]+this.xNumSteps[ve]*Tt;this.xHighestCompleteStep[ve]=Vt}},Pe})(),de={to:function(Pe){return Pe===void 0?"":Pe.toFixed(2)},from:Number},ge={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},_e={tooltips:".__tooltips",aria:".__aria"};function we(Pe,ve){if(!g(ve))throw new Error("noUiSlider: 'step' is not numeric.");Pe.singleStep=ve}function Me(Pe,ve){if(!g(ve))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");Pe.keyboardPageMultiplier=ve}function xe(Pe,ve){if(!g(ve))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");Pe.keyboardMultiplier=ve}function Re(Pe,ve){if(!g(ve))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");Pe.keyboardDefaultStep=ve}function Se(Pe,ve){if(typeof ve!="object"||Array.isArray(ve))throw new Error("noUiSlider: 'range' is not an object.");if(ve.min===void 0||ve.max===void 0)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");Pe.spectrum=new le(ve,Pe.snap||!1,Pe.singleStep)}function Ge(Pe,ve){if(ve=w(ve),!Array.isArray(ve)||!ve.length)throw new Error("noUiSlider: 'start' option is incorrect.");Pe.handles=ve.length,Pe.start=ve}function Qe(Pe,ve){if(typeof ve!="boolean")throw new Error("noUiSlider: 'snap' option must be a boolean.");Pe.snap=ve}function Je(Pe,ve){if(typeof ve!="boolean")throw new Error("noUiSlider: 'animate' option must be a boolean.");Pe.animate=ve}function Xe(Pe,ve){if(typeof ve!="number")throw new Error("noUiSlider: 'animationDuration' option must be a number.");Pe.animationDuration=ve}function gt(Pe,ve){var ut=[!1],wt;if(ve==="lower"?ve=[!0,!1]:ve==="upper"&&(ve=[!1,!0]),ve===!0||ve===!1){for(wt=1;wt<Pe.handles;wt++)ut.push(ve);ut.push(!1)}else{if(!Array.isArray(ve)||!ve.length||ve.length!==Pe.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");ut=ve}Pe.connect=ut}function Ct(Pe,ve){switch(ve){case"horizontal":Pe.ort=0;break;case"vertical":Pe.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function ar(Pe,ve){if(!g(ve))throw new Error("noUiSlider: 'margin' option must be numeric.");ve!==0&&(Pe.margin=Pe.spectrum.getDistance(ve))}function De(Pe,ve){if(!g(ve))throw new Error("noUiSlider: 'limit' option must be numeric.");if(Pe.limit=Pe.spectrum.getDistance(ve),!Pe.limit||Pe.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function Oe(Pe,ve){var ut;if(!g(ve)&&!Array.isArray(ve))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(ve)&&!(ve.length===2||g(ve[0])||g(ve[1])))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(ve!==0){for(Array.isArray(ve)||(ve=[ve,ve]),Pe.padding=[Pe.spectrum.getDistance(ve[0]),Pe.spectrum.getDistance(ve[1])],ut=0;ut<Pe.spectrum.xNumSteps.length-1;ut++)if(Pe.padding[0][ut]<0||Pe.padding[1][ut]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var wt=ve[0]+ve[1],Tt=Pe.spectrum.xVal[0],Vt=Pe.spectrum.xVal[Pe.spectrum.xVal.length-1];if(wt/(Vt-Tt)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function Be(Pe,ve){switch(ve){case"ltr":Pe.dir=0;break;case"rtl":Pe.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function he(Pe,ve){if(typeof ve!="string")throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var ut=ve.indexOf("tap")>=0,wt=ve.indexOf("drag")>=0,Tt=ve.indexOf("fixed")>=0,Vt=ve.indexOf("snap")>=0,Gt=ve.indexOf("hover")>=0,Qt=ve.indexOf("unconstrained")>=0,qt=ve.indexOf("drag-all")>=0;if(Tt){if(Pe.handles!==2)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");ar(Pe,Pe.start[1]-Pe.start[0])}if(Qt&&(Pe.margin||Pe.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");Pe.events={tap:ut||Vt,drag:wt,dragAll:qt,fixed:Tt,snap:Vt,hover:Gt,unconstrained:Qt}}function be(Pe,ve){if(ve!==!1)if(ve===!0||o(ve)){Pe.tooltips=[];for(var ut=0;ut<Pe.handles;ut++)Pe.tooltips.push(ve)}else{if(ve=w(ve),ve.length!==Pe.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");ve.forEach(function(wt){if(typeof wt!="boolean"&&!o(wt))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),Pe.tooltips=ve}}function Ce(Pe,ve){if(ve.length!==Pe.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");Pe.handleAttributes=ve}function Le(Pe,ve){if(!o(ve))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");Pe.ariaFormat=ve}function Ue(Pe,ve){if(!i(ve))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");Pe.format=ve}function We(Pe,ve){if(typeof ve!="boolean")throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");Pe.keyboardSupport=ve}function ot(Pe,ve){Pe.documentElement=ve}function Rt(Pe,ve){if(typeof ve!="string"&&ve!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");Pe.cssPrefix=ve}function Et(Pe,ve){if(typeof ve!="object")throw new Error("noUiSlider: 'cssClasses' must be an object.");typeof Pe.cssPrefix=="string"?(Pe.cssClasses={},Object.keys(ve).forEach(function(ut){Pe.cssClasses[ut]=Pe.cssPrefix+ve[ut]})):Pe.cssClasses=ve}function yt(Pe){var ve={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:de,format:de},ut={step:{r:!1,t:we},keyboardPageMultiplier:{r:!1,t:Me},keyboardMultiplier:{r:!1,t:xe},keyboardDefaultStep:{r:!1,t:Re},start:{r:!0,t:Ge},connect:{r:!0,t:gt},direction:{r:!0,t:Be},snap:{r:!1,t:Qe},animate:{r:!1,t:Je},animationDuration:{r:!1,t:Xe},range:{r:!0,t:Se},orientation:{r:!1,t:Ct},margin:{r:!1,t:ar},limit:{r:!1,t:De},padding:{r:!1,t:Oe},behaviour:{r:!0,t:he},ariaFormat:{r:!1,t:Le},format:{r:!1,t:Ue},tooltips:{r:!1,t:be},keyboardSupport:{r:!0,t:We},documentElement:{r:!1,t:ot},cssPrefix:{r:!0,t:Rt},cssClasses:{r:!0,t:Et},handleAttributes:{r:!1,t:Ce}},wt={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:ge,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};Pe.format&&!Pe.ariaFormat&&(Pe.ariaFormat=Pe.format),Object.keys(ut).forEach(function(qt){if(!l(Pe[qt])&&wt[qt]===void 0){if(ut[qt].r)throw new Error("noUiSlider: '"+qt+"' is required.");return}ut[qt].t(ve,l(Pe[qt])?Pe[qt]:wt[qt])}),ve.pips=Pe.pips;var Tt=document.createElement("div"),Vt=Tt.style.msTransform!==void 0,Gt=Tt.style.transform!==void 0;ve.transformRule=Gt?"transform":Vt?"msTransform":"webkitTransform";var Qt=[["left","top"],["right","bottom"]];return ve.style=Qt[ve.dir][ve.ort],ve}function Nt(Pe,ve,ut){var wt=j(),Tt=Z(),Vt=Tt&&B(),Gt=Pe,Qt,qt,ht,jt,tr,It=ve.spectrum,Ar=[],cr=[],yr=[],Wr=0,Ht={},dr=Pe.ownerDocument,ir=ve.documentElement||dr.documentElement,Pr=dr.body,Cn=dr.dir==="rtl"||ve.ort===1?0:100;function lr(Ne,Ke){var it=dr.createElement("div");return Ke&&P(it,Ke),Ne.appendChild(it),it}function wn(Ne,Ke){var it=lr(Ne,ve.cssClasses.origin),vt=lr(it,ve.cssClasses.handle);if(lr(vt,ve.cssClasses.touchArea),vt.setAttribute("data-handle",String(Ke)),ve.keyboardSupport&&(vt.setAttribute("tabindex","0"),vt.addEventListener("keydown",function(Pt){return hi(Pt,Ke)})),ve.handleAttributes!==void 0){var $t=ve.handleAttributes[Ke];Object.keys($t).forEach(function(Pt){vt.setAttribute(Pt,$t[Pt])})}return vt.setAttribute("role","slider"),vt.setAttribute("aria-orientation",ve.ort?"vertical":"horizontal"),Ke===0?P(vt,ve.cssClasses.handleLower):Ke===ve.handles-1&&P(vt,ve.cssClasses.handleUpper),it}function pn(Ne,Ke){return Ke?lr(Ne,ve.cssClasses.connect):!1}function $e(Ne,Ke){var it=lr(Ke,ve.cssClasses.connects);qt=[],ht=[],ht.push(pn(it,Ne[0]));for(var vt=0;vt<ve.handles;vt++)qt.push(wn(Ke,vt)),yr[vt]=vt,ht.push(pn(it,Ne[vt+1]))}function qe(Ne){P(Ne,ve.cssClasses.target),ve.dir===0?P(Ne,ve.cssClasses.ltr):P(Ne,ve.cssClasses.rtl),ve.ort===0?P(Ne,ve.cssClasses.horizontal):P(Ne,ve.cssClasses.vertical);var Ke=getComputedStyle(Ne).direction;return Ke==="rtl"?P(Ne,ve.cssClasses.textDirectionRtl):P(Ne,ve.cssClasses.textDirectionLtr),lr(Ne,ve.cssClasses.base)}function Ze(Ne,Ke){return!ve.tooltips||!ve.tooltips[Ke]?!1:lr(Ne.firstChild,ve.cssClasses.tooltip)}function _t(){return Gt.hasAttribute("disabled")}function Mt(Ne){var Ke=qt[Ne];return Ke.hasAttribute("disabled")}function Xt(){tr&&(Zr("update"+_e.tooltips),tr.forEach(function(Ne){Ne&&u(Ne)}),tr=null)}function Ot(){Xt(),tr=qt.map(Ze),ci("update"+_e.tooltips,function(Ne,Ke,it){if(!(!tr||!ve.tooltips)&&tr[Ke]!==!1){var vt=Ne[Ke];ve.tooltips[Ke]!==!0&&(vt=ve.tooltips[Ke].to(it[Ke])),tr[Ke].innerHTML=vt}})}function Lt(){Zr("update"+_e.aria),ci("update"+_e.aria,function(Ne,Ke,it,vt,$t){yr.forEach(function(Pt){var Yt=qt[Pt],er=Lr(cr,Pt,0,!0,!0,!0),qr=Lr(cr,Pt,100,!0,!0,!0),Vr=$t[Pt],Rr=String(ve.ariaFormat.to(it[Pt]));er=It.fromStepping(er).toFixed(1),qr=It.fromStepping(qr).toFixed(1),Vr=It.fromStepping(Vr).toFixed(1),Yt.children[0].setAttribute("aria-valuemin",er),Yt.children[0].setAttribute("aria-valuemax",qr),Yt.children[0].setAttribute("aria-valuenow",Vr),Yt.children[0].setAttribute("aria-valuetext",Rr)})})}function Bt(Ne){if(Ne.mode===n.PipsMode.Range||Ne.mode===n.PipsMode.Steps)return It.xVal;if(Ne.mode===n.PipsMode.Count){if(Ne.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var Ke=Ne.values-1,it=100/Ke,vt=[];Ke--;)vt[Ke]=Ke*it;return vt.push(100),Ut(vt,Ne.stepped)}return Ne.mode===n.PipsMode.Positions?Ut(Ne.values,Ne.stepped):Ne.mode===n.PipsMode.Values?Ne.stepped?Ne.values.map(function($t){return It.fromStepping(It.getStep(It.toStepping($t)))}):Ne.values:[]}function Ut(Ne,Ke){return Ne.map(function(it){return It.fromStepping(Ke?It.getStep(it):it)})}function sr(Ne){function Ke(Vr,Rr){return Number((Vr+Rr).toFixed(7))}var it=Bt(Ne),vt={},$t=It.xVal[0],Pt=It.xVal[It.xVal.length-1],Yt=!1,er=!1,qr=0;return it=f(it.slice().sort(function(Vr,Rr){return Vr-Rr})),it[0]!==$t&&(it.unshift($t),Yt=!0),it[it.length-1]!==Pt&&(it.push(Pt),er=!0),it.forEach(function(Vr,Rr){var un,wr,fn,Tn=Vr,bn=it[Rr+1],ln,ss,Ri,Mi,zi,Ae,Fe,tt=Ne.mode===n.PipsMode.Steps;for(tt&&(un=It.xNumSteps[Rr]),un||(un=bn-Tn),bn===void 0&&(bn=Tn),un=Math.max(un,1e-7),wr=Tn;wr<=bn;wr=Ke(wr,un)){for(ln=It.toStepping(wr),ss=ln-qr,zi=ss/(Ne.density||1),Ae=Math.round(zi),Fe=ss/Ae,fn=1;fn<=Ae;fn+=1)Ri=qr+fn*Fe,vt[Ri.toFixed(5)]=[It.fromStepping(Ri),0];Mi=it.indexOf(wr)>-1?n.PipsType.LargeValue:tt?n.PipsType.SmallValue:n.PipsType.NoValue,!Rr&&Yt&&wr!==bn&&(Mi=0),wr===bn&&er||(vt[ln.toFixed(5)]=[wr,Mi]),qr=ln}}),vt}function Kt(Ne,Ke,it){var vt,$t,Pt=dr.createElement("div"),Yt=(vt={},vt[n.PipsType.None]="",vt[n.PipsType.NoValue]=ve.cssClasses.valueNormal,vt[n.PipsType.LargeValue]=ve.cssClasses.valueLarge,vt[n.PipsType.SmallValue]=ve.cssClasses.valueSub,vt),er=($t={},$t[n.PipsType.None]="",$t[n.PipsType.NoValue]=ve.cssClasses.markerNormal,$t[n.PipsType.LargeValue]=ve.cssClasses.markerLarge,$t[n.PipsType.SmallValue]=ve.cssClasses.markerSub,$t),qr=[ve.cssClasses.valueHorizontal,ve.cssClasses.valueVertical],Vr=[ve.cssClasses.markerHorizontal,ve.cssClasses.markerVertical];P(Pt,ve.cssClasses.pips),P(Pt,ve.ort===0?ve.cssClasses.pipsHorizontal:ve.cssClasses.pipsVertical);function Rr(wr,fn){var Tn=fn===ve.cssClasses.value,bn=Tn?qr:Vr,ln=Tn?Yt:er;return fn+" "+bn[ve.ort]+" "+ln[wr]}function un(wr,fn,Tn){if(Tn=Ke?Ke(fn,Tn):Tn,Tn!==n.PipsType.None){var bn=lr(Pt,!1);bn.className=Rr(Tn,ve.cssClasses.marker),bn.style[ve.style]=wr+"%",Tn>n.PipsType.NoValue&&(bn=lr(Pt,!1),bn.className=Rr(Tn,ve.cssClasses.value),bn.setAttribute("data-value",String(fn)),bn.style[ve.style]=wr+"%",bn.innerHTML=String(it.to(fn)))}}return Object.keys(Ne).forEach(function(wr){un(wr,Ne[wr][0],Ne[wr][1])}),Pt}function xr(){jt&&(u(jt),jt=null)}function _r(Ne){xr();var Ke=sr(Ne),it=Ne.filter,vt=Ne.format||{to:function($t){return String(Math.round($t))}};return jt=Gt.appendChild(Kt(Ke,it,vt)),jt}function en(){var Ne=Qt.getBoundingClientRect(),Ke="offset"+["Width","Height"][ve.ort];return ve.ort===0?Ne.width||Qt[Ke]:Ne.height||Qt[Ke]}function zr(Ne,Ke,it,vt){var $t=function(Yt){var er=sn(Yt,vt.pageOffset,vt.target||Ke);if(!er||_t()&&!vt.doNotReject||D(Gt,ve.cssClasses.tap)&&!vt.doNotReject||Ne===wt.start&&er.buttons!==void 0&&er.buttons>1||vt.hover&&er.buttons)return!1;Vt||er.preventDefault(),er.calcPoint=er.points[ve.ort],it(er,vt)},Pt=[];return Ne.split(" ").forEach(function(Yt){Ke.addEventListener(Yt,$t,Vt?{passive:!0}:!1),Pt.push([Yt,$t])}),Pt}function sn(Ne,Ke,it){var vt=Ne.type.indexOf("touch")===0,$t=Ne.type.indexOf("mouse")===0,Pt=Ne.type.indexOf("pointer")===0,Yt=0,er=0;if(Ne.type.indexOf("MSPointer")===0&&(Pt=!0),Ne.type==="mousedown"&&!Ne.buttons&&!Ne.touches)return!1;if(vt){var qr=function(un){var wr=un.target;return wr===it||it.contains(wr)||Ne.composed&&Ne.composedPath().shift()===it};if(Ne.type==="touchstart"){var Vr=Array.prototype.filter.call(Ne.touches,qr);if(Vr.length>1)return!1;Yt=Vr[0].pageX,er=Vr[0].pageY}else{var Rr=Array.prototype.find.call(Ne.changedTouches,qr);if(!Rr)return!1;Yt=Rr.pageX,er=Rr.pageY}}return Ke=Ke||k(dr),($t||Pt)&&(Yt=Ne.clientX+Ke.x,er=Ne.clientY+Ke.y),Ne.pageOffset=Ke,Ne.points=[Yt,er],Ne.cursor=$t||Pt,Ne}function Er(Ne){var Ke=Ne-m(Qt,ve.ort),it=Ke*100/en();return it=y(it),ve.dir?100-it:it}function an(Ne){var Ke=100,it=!1;return qt.forEach(function(vt,$t){if(!Mt($t)){var Pt=cr[$t],Yt=Math.abs(Pt-Ne),er=Yt===100&&Ke===100,qr=Yt<Ke,Vr=Yt<=Ke&&Ne>Pt;(qr||Vr||er)&&(it=$t,Ke=Yt)}}),it}function In(Ne,Ke){Ne.type==="mouseout"&&Ne.target.nodeName==="HTML"&&Ne.relatedTarget===null&&Pn(Ne,Ke)}function on(Ne,Ke){if(navigator.appVersion.indexOf("MSIE 9")===-1&&Ne.buttons===0&&Ke.buttonsProperty!==0)return Pn(Ne,Ke);var it=(ve.dir?-1:1)*(Ne.calcPoint-Ke.startCalcPoint),vt=it*100/Ke.baseSize;ti(it>0,vt,Ke.locations,Ke.handleNumbers,Ke.connect)}function Pn(Ne,Ke){Ke.handle&&(A(Ke.handle,ve.cssClasses.active),Wr-=1),Ke.listeners.forEach(function(it){ir.removeEventListener(it[0],it[1])}),Wr===0&&(A(Gt,ve.cssClasses.drag),Oi(),Ne.cursor&&(Pr.style.cursor="",Pr.removeEventListener("selectstart",c))),Ke.handleNumbers.forEach(function(it){Hr("change",it),Hr("set",it),Hr("end",it)})}function Dn(Ne,Ke){if(!Ke.handleNumbers.some(Mt)){var it;if(Ke.handleNumbers.length===1){var vt=qt[Ke.handleNumbers[0]];it=vt.children[0],Wr+=1,P(it,ve.cssClasses.active)}Ne.stopPropagation();var $t=[],Pt=zr(wt.move,ir,on,{target:Ne.target,handle:it,connect:Ke.connect,listeners:$t,startCalcPoint:Ne.calcPoint,baseSize:en(),pageOffset:Ne.pageOffset,handleNumbers:Ke.handleNumbers,buttonsProperty:Ne.buttons,locations:cr.slice()}),Yt=zr(wt.end,ir,Pn,{target:Ne.target,handle:it,listeners:$t,doNotReject:!0,handleNumbers:Ke.handleNumbers}),er=zr("mouseout",ir,In,{target:Ne.target,handle:it,listeners:$t,doNotReject:!0,handleNumbers:Ke.handleNumbers});$t.push.apply($t,Pt.concat(Yt,er)),Ne.cursor&&(Pr.style.cursor=getComputedStyle(Ne.target).cursor,qt.length>1&&P(Gt,ve.cssClasses.drag),Pr.addEventListener("selectstart",c,!1)),Ke.handleNumbers.forEach(function(qr){Hr("start",qr)})}}function ei(Ne){Ne.stopPropagation();var Ke=Er(Ne.calcPoint),it=an(Ke);it!==!1&&(ve.events.snap||v(Gt,ve.cssClasses.tap,ve.animationDuration),Kn(it,Ke,!0,!0),Oi(),Hr("slide",it,!0),Hr("update",it,!0),ve.events.snap?Dn(Ne,{handleNumbers:[it]}):(Hr("change",it,!0),Hr("set",it,!0)))}function zn(Ne){var Ke=Er(Ne.calcPoint),it=It.getStep(Ke),vt=It.fromStepping(it);Object.keys(Ht).forEach(function($t){$t.split(".")[0]==="hover"&&Ht[$t].forEach(function(Pt){Pt.call(fi,vt)})})}function hi(Ne,Ke){if(_t()||Mt(Ke))return!1;var it=["Left","Right"],vt=["Down","Up"],$t=["PageDown","PageUp"],Pt=["Home","End"];ve.dir&&!ve.ort?it.reverse():ve.ort&&!ve.dir&&(vt.reverse(),$t.reverse());var Yt=Ne.key.replace("Arrow",""),er=Yt===$t[0],qr=Yt===$t[1],Vr=Yt===vt[0]||Yt===it[0]||er,Rr=Yt===vt[1]||Yt===it[1]||qr,un=Yt===Pt[0],wr=Yt===Pt[1];if(!Vr&&!Rr&&!un&&!wr)return!0;Ne.preventDefault();var fn;if(Rr||Vr){var Tn=Vr?0:1,bn=hs(Ke),ln=bn[Tn];if(ln===null)return!1;ln===!1&&(ln=It.getDefaultStep(cr[Ke],Vr,ve.keyboardDefaultStep)),qr||er?ln*=ve.keyboardPageMultiplier:ln*=ve.keyboardMultiplier,ln=Math.max(ln,1e-7),ln=(Vr?-1:1)*ln,fn=Ar[Ke]+ln}else wr?fn=ve.spectrum.xVal[ve.spectrum.xVal.length-1]:fn=ve.spectrum.xVal[0];return Kn(Ke,It.toStepping(fn),!0,!0),Hr("slide",Ke),Hr("update",Ke),Hr("change",Ke),Hr("set",Ke),!1}function gi(Ne){Ne.fixed||qt.forEach(function(Ke,it){zr(wt.start,Ke.children[0],Dn,{handleNumbers:[it]})}),Ne.tap&&zr(wt.start,Qt,ei,{}),Ne.hover&&zr(wt.move,Qt,zn,{hover:!0}),Ne.drag&&ht.forEach(function(Ke,it){if(!(Ke===!1||it===0||it===ht.length-1)){var vt=qt[it-1],$t=qt[it],Pt=[Ke],Yt=[vt,$t],er=[it-1,it];P(Ke,ve.cssClasses.draggable),Ne.fixed&&(Pt.push(vt.children[0]),Pt.push($t.children[0])),Ne.dragAll&&(Yt=qt,er=yr),Pt.forEach(function(qr){zr(wt.start,qr,Dn,{handles:Yt,handleNumbers:er,connect:Ke})})}})}function ci(Ne,Ke){Ht[Ne]=Ht[Ne]||[],Ht[Ne].push(Ke),Ne.split(".")[0]==="update"&&qt.forEach(function(it,vt){Hr("update",vt)})}function Sr(Ne){return Ne===_e.aria||Ne===_e.tooltips}function Zr(Ne){var Ke=Ne&&Ne.split(".")[0],it=Ke?Ne.substring(Ke.length):Ne;Object.keys(Ht).forEach(function(vt){var $t=vt.split(".")[0],Pt=vt.substring($t.length);(!Ke||Ke===$t)&&(!it||it===Pt)&&(!Sr(Pt)||it===Pt)&&delete Ht[vt]})}function Hr(Ne,Ke,it){Object.keys(Ht).forEach(function(vt){var $t=vt.split(".")[0];Ne===$t&&Ht[vt].forEach(function(Pt){Pt.call(fi,Ar.map(ve.format.to),Ke,Ar.slice(),it||!1,cr.slice(),fi)})})}function Lr(Ne,Ke,it,vt,$t,Pt){var Yt;return qt.length>1&&!ve.events.unconstrained&&(vt&&Ke>0&&(Yt=It.getAbsoluteDistance(Ne[Ke-1],ve.margin,!1),it=Math.max(it,Yt)),$t&&Ke<qt.length-1&&(Yt=It.getAbsoluteDistance(Ne[Ke+1],ve.margin,!0),it=Math.min(it,Yt))),qt.length>1&&ve.limit&&(vt&&Ke>0&&(Yt=It.getAbsoluteDistance(Ne[Ke-1],ve.limit,!1),it=Math.min(it,Yt)),$t&&Ke<qt.length-1&&(Yt=It.getAbsoluteDistance(Ne[Ke+1],ve.limit,!0),it=Math.max(it,Yt))),ve.padding&&(Ke===0&&(Yt=It.getAbsoluteDistance(0,ve.padding[0],!1),it=Math.max(it,Yt)),Ke===qt.length-1&&(Yt=It.getAbsoluteDistance(100,ve.padding[1],!0),it=Math.min(it,Yt))),it=It.getStep(it),it=y(it),it===Ne[Ke]&&!Pt?!1:it}function mr(Ne,Ke){var it=ve.ort;return(it?Ke:Ne)+", "+(it?Ne:Ke)}function ti(Ne,Ke,it,vt,$t){var Pt=it.slice(),Yt=vt[0],er=[!Ne,Ne],qr=[Ne,!Ne];vt=vt.slice(),Ne&&vt.reverse(),vt.length>1?vt.forEach(function(Rr,un){var wr=Lr(Pt,Rr,Pt[Rr]+Ke,er[un],qr[un],!1);wr===!1?Ke=0:(Ke=wr-Pt[Rr],Pt[Rr]=wr)}):er=qr=[!0];var Vr=!1;vt.forEach(function(Rr,un){Vr=Kn(Rr,it[Rr]+Ke,er[un],qr[un])||Vr}),Vr&&(vt.forEach(function(Rr){Hr("update",Rr),Hr("slide",Rr)}),$t!=null&&Hr("drag",Yt))}function rs(Ne,Ke){return ve.dir?100-Ne-Ke:Ne}function ns(Ne,Ke){cr[Ne]=Ke,Ar[Ne]=It.fromStepping(Ke);var it=10*(rs(Ke,0)-Cn),vt="translate("+mr(it+"%","0")+")";qt[Ne].style[ve.transformRule]=vt,Ti(Ne),Ti(Ne+1)}function Oi(){yr.forEach(function(Ne){var Ke=cr[Ne]>50?-1:1,it=3+(qt.length+Ke*Ne);qt[Ne].style.zIndex=String(it)})}function Kn(Ne,Ke,it,vt,$t){return $t||(Ke=Lr(cr,Ne,Ke,it,vt,!1)),Ke===!1?!1:(ns(Ne,Ke),!0)}function Ti(Ne){if(ht[Ne]){var Ke=0,it=100;Ne!==0&&(Ke=cr[Ne-1]),Ne!==ht.length-1&&(it=cr[Ne]);var vt=it-Ke,$t="translate("+mr(rs(Ke,vt)+"%","0")+")",Pt="scale("+mr(vt/100,"1")+")";ht[Ne].style[ve.transformRule]=$t+" "+Pt}}function Hn(Ne,Ke){return Ne===null||Ne===!1||Ne===void 0||(typeof Ne=="number"&&(Ne=String(Ne)),Ne=ve.format.from(Ne),Ne!==!1&&(Ne=It.toStepping(Ne)),Ne===!1||isNaN(Ne))?cr[Ke]:Ne}function ki(Ne,Ke,it){var vt=w(Ne),$t=cr[0]===void 0;Ke=Ke===void 0?!0:Ke,ve.animate&&!$t&&v(Gt,ve.cssClasses.tap,ve.animationDuration),yr.forEach(function(er){Kn(er,Hn(vt[er],er),!0,!1,it)});var Pt=yr.length===1?0:1;if($t&&It.hasNoSize()&&(it=!0,cr[0]=0,yr.length>1)){var Yt=100/(yr.length-1);yr.forEach(function(er){cr[er]=er*Yt})}for(;Pt<yr.length;++Pt)yr.forEach(function(er){Kn(er,cr[er],!0,!0,it)});Oi(),yr.forEach(function(er){Hr("update",er),vt[er]!==null&&Ke&&Hr("set",er)})}function vs(Ne){ki(ve.start,Ne)}function Yn(Ne,Ke,it,vt){if(Ne=Number(Ne),!(Ne>=0&&Ne<yr.length))throw new Error("noUiSlider: invalid handle number, got: "+Ne);Kn(Ne,Hn(Ke,Ne),!0,!0,vt),Hr("update",Ne),it&&Hr("set",Ne)}function _i(Ne){if(Ne===void 0&&(Ne=!1),Ne)return Ar.length===1?Ar[0]:Ar.slice(0);var Ke=Ar.map(ve.format.to);return Ke.length===1?Ke[0]:Ke}function ji(){for(Zr(_e.aria),Zr(_e.tooltips),Object.keys(ve.cssClasses).forEach(function(Ne){A(Gt,ve.cssClasses[Ne])});Gt.firstChild;)Gt.removeChild(Gt.firstChild);delete Gt.noUiSlider}function hs(Ne){var Ke=cr[Ne],it=It.getNearbySteps(Ke),vt=Ar[Ne],$t=it.thisStep.step,Pt=null;if(ve.snap)return[vt-it.stepBefore.startValue||null,it.stepAfter.startValue-vt||null];$t!==!1&&vt+$t>it.stepAfter.startValue&&($t=it.stepAfter.startValue-vt),vt>it.thisStep.startValue?Pt=it.thisStep.step:it.stepBefore.step===!1?Pt=!1:Pt=vt-it.stepBefore.highestStep,Ke===100?$t=null:Ke===0&&(Pt=null);var Yt=It.countStepDecimals();return $t!==null&&$t!==!1&&($t=Number($t.toFixed(Yt))),Pt!==null&&Pt!==!1&&(Pt=Number(Pt.toFixed(Yt))),[Pt,$t]}function Bi(){return yr.map(hs)}function Ai(Ne,Ke){var it=_i(),vt=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];vt.forEach(function(Pt){Ne[Pt]!==void 0&&(ut[Pt]=Ne[Pt])});var $t=yt(ut);vt.forEach(function(Pt){Ne[Pt]!==void 0&&(ve[Pt]=$t[Pt])}),It=$t.spectrum,ve.margin=$t.margin,ve.limit=$t.limit,ve.padding=$t.padding,ve.pips?_r(ve.pips):xr(),ve.tooltips?Ot():Xt(),cr=[],ki(l(Ne.start)?Ne.start:it,Ke)}function bi(){Qt=qe(Gt),$e(ve.connect,Qt),gi(ve.events),ki(ve.start),ve.pips&&_r(ve.pips),ve.tooltips&&Ot(),Lt()}bi();var fi={destroy:ji,steps:Bi,on:ci,off:Zr,get:_i,set:ki,setHandle:Yn,reset:vs,__moveHandles:function(Ne,Ke,it){ti(Ne,Ke,cr,it)},options:ut,updateOptions:Ai,target:Gt,removePips:xr,removeTooltips:Xt,getPositions:function(){return cr.slice()},getTooltips:function(){return tr},getOrigins:function(){return qt},pips:_r};return fi}function St(Pe,ve){if(!Pe||!Pe.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+Pe);if(Pe.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var ut=yt(ve),wt=Nt(Pe,ut,ve);return Pe.noUiSlider=wt,wt}var kt={__spectrum:le,cssClasses:ge,create:St};n.create=St,n.cssClasses=ge,n.default=kt,Object.defineProperty(n,"__esModule",{value:!0})}))})(nouislider$1,nouislider$1.exports)),nouislider$1.exports}var nouisliderExports=requireNouislider();const noUiSlider=getDefaultExportFromCjs(nouisliderExports);class IntModel extends CoreDescriptionModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"IntModel",value:0})}}class BoundedIntModel extends IntModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"BoundedIntModel",max:100,min:0})}}class SliderStyleModel extends DescriptionStyleModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SliderStyleModel"})}}SliderStyleModel.styleProperties=Object.assign(Object.assign({},DescriptionStyleModel.styleProperties),{handle_color:{selector:".noUi-handle",attribute:"background-color",default:null}});class IntSliderModel extends BoundedIntModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"IntSliderModel",_view_name:"IntSliderView",step:1,orientation:"horizontal",readout:!0,readout_format:"d",continuous_update:!0,style:null,disabled:!1})}initialize(e,n){super.initialize(e,n),this.on("change:readout_format",this.update_readout_format,this),this.update_readout_format()}update_readout_format(){this.readout_formatter=format(this.get("readout_format"))}}class IntRangeSliderModel extends IntSliderModel{}class BaseIntSliderView extends DescriptionView{constructor(){super(...arguments),this._parse_value=parseInt}render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-slider"),this.el.classList.add("widget-hslider"),this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.slider_container=document.createElement("div"),this.slider_container.classList.add("slider-container"),this.slider_container.appendChild(this.$slider),this.el.appendChild(this.slider_container),this.readout=document.createElement("div"),this.el.appendChild(this.readout),this.readout.classList.add("widget-readout"),this.readout.contentEditable="true",this.readout.style.display="none",this.createSlider(),this.model.on("change:orientation",this.regenSlider,this),this.model.on("change:max",this.updateSliderOptions,this),this.model.on("change:min",this.updateSliderOptions,this),this.model.on("change:step",this.updateSliderOptions,this),this.model.on("change:value",this.updateSliderValue,this),this.update()}update(e){return(e===void 0||e.updated_view!==this)&&(this.model.get("disabled")?(this.readout.contentEditable="false",this.$slider.setAttribute("disabled",!0)):(this.readout.contentEditable="true",this.$slider.removeAttribute("disabled")),this.model.get("orientation")==="vertical"?(this.el.classList.remove("widget-hslider"),this.el.classList.add("widget-vslider"),this.el.classList.remove("widget-inline-hbox"),this.el.classList.add("widget-inline-vbox")):(this.el.classList.remove("widget-vslider"),this.el.classList.add("widget-hslider"),this.el.classList.remove("widget-inline-vbox"),this.el.classList.add("widget-inline-hbox")),this.model.get("readout")?(this.readout.style.display="",this.displayed.then(()=>{this.readout_overflow()?this.readout.classList.add("overflow"):this.readout.classList.remove("overflow")})):this.readout.style.display="none"),super.update()}readout_overflow(){return this.readout.scrollWidth>this.readout.clientWidth}events(){return{"blur [contentEditable=true]":"handleTextChange","keydown [contentEditable=true]":"handleKeyDown"}}handleKeyDown(e){e.keyCode===13&&(e.preventDefault(),this.handleTextChange())}createSlider(){const e=this.model.get("orientation"),n=this.model.get("behavior");noUiSlider.create(this.$slider,{start:this.model.get("value"),connect:!0,behaviour:n,range:{min:this.model.get("min"),max:this.model.get("max")},step:this.model.get("step"),animate:!1,orientation:e,direction:e==="horizontal"?"ltr":"rtl",format:{from:i=>Number(i),to:i=>this._validate_slide_value(i)}}),this.$slider.noUiSlider.on("update",(i,o)=>{this.handleSliderUpdateEvent(i,o)}),this.$slider.noUiSlider.on("change",(i,o)=>{this.handleSliderChangeEvent(i,o)})}regenSlider(e){this.$slider.noUiSlider.destroy(),this.createSlider()}_validate_slide_value(e){return Math.round(e)}}class IntRangeSliderView extends BaseIntSliderView{constructor(){super(...arguments),this._range_regex=/^\s*([+-]?\d+)\s*[-:]\s*([+-]?\d+)/}update(e){super.update(e);const n=this.model.get("value");this.readout.textContent=this.valueToString(n),this.model.get("value")!==n&&(this.model.set("value",n,{updated_view:this}),this.touch())}valueToString(e){const n=this.model.readout_formatter;return e.map(function(i){return n(i)}).join("  ")}stringToValue(e){if(e===null)return null;const n=this._range_regex.exec(e);return n?[this._parse_value(n[1]),this._parse_value(n[2])]:null}handleTextChange(){let e=this.stringToValue(this.readout.textContent);const n=this.model.get("min"),i=this.model.get("max");e===null||isNaN(e[0])||isNaN(e[1])||e[0]>e[1]?this.readout.textContent=this.valueToString(this.model.get("value")):(e=[Math.max(Math.min(e[0],i),n),Math.max(Math.min(e[1],i),n)],e[0]!==this.model.get("value")[0]||e[1]!==this.model.get("value")[1]?(this.readout.textContent=this.valueToString(e),this.model.set("value",e),this.touch()):this.readout.textContent=this.valueToString(this.model.get("value")))}handleSliderChangeEvent(e,n){const i=e.map(this._validate_slide_value);this.readout.textContent=this.valueToString(i),this.handleSliderChanged(e,n)}handleSliderUpdateEvent(e,n){const i=e.map(this._validate_slide_value);this.readout.textContent=this.valueToString(i),this.model.get("continuous_update")&&this.handleSliderChanged(e,n)}handleSliderChanged(e,n){const i=e.map(this._validate_slide_value);this.model.set("value",i,{updated_view:this}),this.touch()}updateSliderOptions(e){this.$slider.noUiSlider.updateOptions({start:this.model.get("value"),range:{min:this.model.get("min"),max:this.model.get("max")},step:this.model.get("step")})}updateSliderValue(e,n,i){if(i.updated_view===this)return;const o=this.$slider.noUiSlider.get(),u=this.model.get("value");(o[0]!==u[0]||o[1]!==u[1])&&this.$slider.noUiSlider.set(u)}}class IntSliderView extends BaseIntSliderView{update(e){super.update(e);const n=this.model.get("min"),i=this.model.get("max");let o=this.model.get("value");o>i?o=i:o<n&&(o=n),this.readout.textContent=this.valueToString(o),this.model.get("value")!==o&&(this.model.set("value",o,{updated_view:this}),this.touch())}valueToString(e){const n=this.model.readout_formatter;return n(e)}stringToValue(e){return this._parse_value(e)}handleTextChange(){var e;let n=this.stringToValue((e=this.readout.textContent)!==null&&e!==void 0?e:"");const i=this.model.get("min"),o=this.model.get("max");isNaN(n)?this.readout.textContent=this.valueToString(this.model.get("value")):(n=Math.max(Math.min(n,o),i),n!==this.model.get("value")?(this.readout.textContent=this.valueToString(n),this.model.set("value",n),this.touch()):this.readout.textContent=this.valueToString(this.model.get("value")))}handleSliderChangeEvent(e,n){const i=e.map(this._validate_slide_value);this.readout.textContent=this.valueToString(i),this.handleSliderChanged(e,n)}handleSliderUpdateEvent(e,n){const i=e.map(this._validate_slide_value);this.readout.textContent=this.valueToString(i),this.model.get("continuous_update")&&this.handleSliderChanged(e,n)}handleSliderChanged(e,n){const i=this._validate_slide_value(e[n]),o=this.model.get("value");parseFloat(o)!==i&&(this.model.set("value",i,{updated_view:this}),this.touch())}updateSliderOptions(e){this.$slider.noUiSlider.updateOptions({start:this.model.get("value"),range:{min:this.model.get("min"),max:this.model.get("max")},step:this.model.get("step")})}updateSliderValue(e,n,i){if(i.updated_view===this)return;const o=this.$slider.noUiSlider.get(),u=this.model.get("value");o!==u&&this.$slider.noUiSlider.set(u)}}class IntTextModel extends IntModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"IntTextModel",_view_name:"IntTextView",disabled:!1,continuous_update:!1})}}class BoundedIntTextModel extends BoundedIntModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"BoundedIntTextModel",_view_name:"IntTextView",disabled:!1,continuous_update:!1,step:1})}}class IntTextView extends DescriptionView{constructor(){super(...arguments),this._parse_value=parseInt,this._default_step="1"}render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-text"),this.textbox=document.createElement("input"),this.textbox.type="number",this.textbox.required=!0,this.textbox.id=this.label.htmlFor=uuid(),this.el.appendChild(this.textbox),this.update()}update(e){if(e===void 0||e.updated_view!==this){const n=this.model.get("value");this._parse_value(this.textbox.value)!==n&&(this.textbox.value=n.toString()),this.model.get("min")!==void 0&&(this.textbox.min=this.model.get("min")),this.model.get("max")!==void 0&&(this.textbox.max=this.model.get("max")),this.model.get("step")!==void 0&&this.model.get("step")!==null?this.textbox.step=this.model.get("step"):this.textbox.step=this._default_step,this.textbox.disabled=this.model.get("disabled")}return super.update()}events(){return{"keydown input":"handleKeyDown","keypress input":"handleKeypress","keyup input":"handleKeyUp","input input":"handleChanging","change input":"handleChanged"}}handleKeyDown(e){e.stopPropagation()}handleKeypress(e){/[e,. ]/.test(String.fromCharCode(e.keyCode))&&e.preventDefault()}handleKeyUp(e){if(e.altKey||e.ctrlKey)return;const n=e.target;let i=n.value;if(i=i.replace(/[e,.\s]/g,""),i.length>=1){const o=i.substr(1);i=i[0]+o.replace(/[+-]/g,"")}n.value!==i&&(e.preventDefault(),n.value=i)}handleChanging(e){const i=e.target.value.trim();i===""||["-","-.",".","+.","+"].indexOf(i)>=0||this.model.get("continuous_update")&&this.handleChanged(e)}handleChanged(e){const n=e.target;let i=this._parse_value(n.value);if(isNaN(i))n.value=this.model.get("value");else{let o=i;this.model.get("max")!==void 0&&(o=Math.min(this.model.get("max"),o)),this.model.get("min")!==void 0&&(o=Math.max(this.model.get("min"),o)),o!==i&&(n.value=o,i=o),i!==this.model.get("value")&&(this.model.set("value",i,{updated_view:this}),this.touch())}}}class ProgressStyleModel extends DescriptionStyleModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ProgressStyleModel"})}}ProgressStyleModel.styleProperties=Object.assign(Object.assign({},DescriptionStyleModel.styleProperties),{bar_color:{selector:".progress-bar",attribute:"background-color",default:null}});class IntProgressModel extends BoundedIntModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"IntProgressModel",_view_name:"ProgressView",orientation:"horizontal",bar_style:"",style:null})}}class ProgressView extends DescriptionView{initialize(e){super.initialize(e),this.listenTo(this.model,"change:bar_style",this.update_bar_style),this.luminoWidget.addClass("jupyter-widgets")}render(){super.render();const n=this.model.get("orientation")==="horizontal"?"widget-hprogress":"widget-vprogress";this.el.classList.add(n),this.progress=document.createElement("div"),this.progress.classList.add("progress"),this.progress.style.position="relative",this.el.appendChild(this.progress),this.bar=document.createElement("div"),this.bar.classList.add("progress-bar"),this.bar.style.position="absolute",this.bar.style.bottom="0px",this.bar.style.left="0px",this.progress.appendChild(this.bar),this.update(),this.set_bar_style()}update(){const e=this.model.get("value"),n=this.model.get("max"),i=this.model.get("min"),o=this.model.get("orientation"),u=100*(e-i)/(n-i);return o==="horizontal"?(this.el.classList.remove("widget-inline-vbox"),this.el.classList.remove("widget-vprogress"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-hprogress"),this.bar.style.width=u+"%",this.bar.style.height="100%"):(this.el.classList.remove("widget-inline-hbox"),this.el.classList.remove("widget-hprogress"),this.el.classList.add("widget-inline-vbox"),this.el.classList.add("widget-vprogress"),this.bar.style.width="100%",this.bar.style.height=u+"%"),super.update()}update_bar_style(){this.update_mapped_classes(ProgressView.class_map,"bar_style",this.bar)}set_bar_style(){this.set_mapped_classes(ProgressView.class_map,"bar_style",this.bar)}}ProgressView.class_map={success:["progress-bar-success"],info:["progress-bar-info"],warning:["progress-bar-warning"],danger:["progress-bar-danger"]};class PlayModel extends BoundedIntModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"PlayModel",_view_name:"PlayView",repeat:!1,playing:!1,show_repeat:!0,interval:100,step:1,disabled:!1})}initialize(e,n){super.initialize(e,n)}loop(){if(!this.get("playing"))return;const e=this.get("value")+this.get("step");e<=this.get("max")?(this.set("value",e),this.schedule_next()):this.get("repeat")?(this.set("value",this.get("min")),this.schedule_next()):this.pause(),this.save_changes()}schedule_next(){this._timerId=window.setTimeout(this.loop.bind(this),this.get("interval"))}stop(){this.pause(),this.set("value",this.get("min")),this.save_changes()}pause(){window.clearTimeout(this._timerId),this._timerId=void 0,this.set("playing",!1),this.save_changes()}animate(){this._timerId===void 0&&(this.get("value")===this.get("max")?(this.set("value",this.get("min")),this.schedule_next(),this.save_changes()):this.loop(),this.save_changes())}play(){this.set("playing",!this.get("playing")),this.save_changes()}repeat(){this.set("repeat",!this.get("repeat")),this.save_changes()}}class PlayView extends DOMWidgetView{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-play"),this.playPauseButton=document.createElement("button"),this.stopButton=document.createElement("button"),this.repeatButton=document.createElement("button"),this.playPauseButton.className="jupyter-button",this.stopButton.className="jupyter-button",this.repeatButton.className="jupyter-button",this.el.appendChild(this.playPauseButton),this.el.appendChild(this.stopButton),this.el.appendChild(this.repeatButton);const e=document.createElement("i");e.className="fa fa-play",this.playPauseButton.appendChild(e);const n=document.createElement("i");n.className="fa fa-stop",this.stopButton.appendChild(n);const i=document.createElement("i");i.className="fa fa-retweet",this.repeatButton.appendChild(i),this.playPauseButton.onclick=this.model.play.bind(this.model),this.stopButton.onclick=this.model.stop.bind(this.model),this.repeatButton.onclick=this.model.repeat.bind(this.model),this.listenTo(this.model,"change:playing",this.onPlayingChanged),this.listenTo(this.model,"change:repeat",this.updateRepeat),this.listenTo(this.model,"change:show_repeat",this.updateRepeat),this.updatePlaying(),this.updateRepeat(),this.update()}update(){const e=this.model.get("disabled");this.playPauseButton.disabled=e,this.stopButton.disabled=e,this.repeatButton.disabled=e,this.updatePlaying()}onPlayingChanged(){this.updatePlaying();const e=this.model.previous("playing"),n=this.model.get("playing");!e&&n?this.model.animate():this.model.pause()}updatePlaying(){const e=this.model.get("playing"),n=this.playPauseButton.getElementsByTagName("i")[0];e?n.className="fa fa-pause":n.className="fa fa-play"}updateRepeat(){const e=this.model.get("repeat");this.repeatButton.style.display=this.model.get("show_repeat")?this.playPauseButton.style.display:"none",e?this.repeatButton.classList.add("mod-active"):this.repeatButton.classList.remove("mod-active")}}class FloatModel extends CoreDescriptionModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatModel",value:0})}}class BoundedFloatModel extends FloatModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"BoundedFloatModel",max:100,min:0})}}class FloatSliderModel extends BoundedFloatModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatSliderModel",_view_name:"FloatSliderView",step:1,orientation:"horizontal",_range:!1,readout:!0,readout_format:".2f",slider_color:null,continuous_update:!0,disabled:!1})}initialize(e,n){super.initialize(e,n),this.on("change:readout_format",this.update_readout_format,this),this.update_readout_format()}update_readout_format(){this.readout_formatter=format(this.get("readout_format"))}}class FloatLogSliderModel extends BoundedFloatModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatLogSliderModel",_view_name:"FloatLogSliderView",step:.1,orientation:"horizontal",_range:!1,readout:!0,readout_format:".3g",slider_color:null,continuous_update:!0,disabled:!1,base:10,value:1,min:0,max:4})}initialize(e,n){super.initialize(e,n),this.on("change:readout_format",this.update_readout_format,this),this.update_readout_format()}update_readout_format(){this.readout_formatter=format(this.get("readout_format"))}}class FloatRangeSliderModel extends FloatSliderModel{}class FloatSliderView extends IntSliderView{constructor(){super(...arguments),this._parse_value=parseFloat}_validate_slide_value(e){return e}}class FloatLogSliderView extends BaseIntSliderView{constructor(){super(...arguments),this._parse_value=parseFloat}update(e){super.update(e);const n=this.model.get("value");this.readout.textContent=this.valueToString(n)}logCalc(e){const n=this.model.get("min"),i=this.model.get("max"),o=this.model.get("base");let u=Math.log(e)/Math.log(o);return u>i?u=i:u<n&&(u=n),u}createSlider(){var e;const n=this.model.get("orientation"),i=this.model.get("behavior");noUiSlider.create(this.$slider,{start:this.logCalc(this.model.get("value")),behaviour:i,range:{min:this.model.get("min"),max:this.model.get("max")},step:(e=this.model.get("step"))!==null&&e!==void 0?e:void 0,animate:!1,orientation:n,direction:n==="horizontal"?"ltr":"rtl",format:{from:o=>Number(o),to:o=>o}}),this.$slider.noUiSlider.on("update",(o,u)=>{this.handleSliderUpdateEvent(o,u)}),this.$slider.noUiSlider.on("change",(o,u)=>{this.handleSliderChangeEvent(o,u)})}valueToString(e){const n=this.model.readout_formatter;return n(e)}stringToValue(e){return e===null?NaN:this._parse_value(e)}handleTextChange(){let e=this.stringToValue(this.readout.textContent);const n=this.model.get("min"),i=this.model.get("max"),o=this.model.get("base");isNaN(e)?this.readout.textContent=this.valueToString(this.model.get("value")):(e=Math.max(Math.min(e,Math.pow(o,i)),Math.pow(o,n)),e!==this.model.get("value")?(this.readout.textContent=this.valueToString(e),this.model.set("value",e),this.touch()):this.readout.textContent=this.valueToString(this.model.get("value")))}handleSliderUpdateEvent(e,n){const i=this.model.get("base"),o=Math.pow(i,this._validate_slide_value(e[0]));this.readout.textContent=this.valueToString(o),this.model.get("continuous_update")&&this.handleSliderChanged(e,n)}handleSliderChangeEvent(e,n){const i=this.model.get("base"),o=Math.pow(i,this._validate_slide_value(e[0]));this.readout.textContent=this.valueToString(o),this.handleSliderChanged(e,n)}handleSliderChanged(e,n){if(this._updating_slider)return;const i=this.model.get("base"),o=Math.pow(i,this._validate_slide_value(e[0]));this.model.set("value",o,{updated_view:this}),this.touch()}updateSliderValue(e,n,i){if(i.updated_view===this)return;const o=this.logCalc(this.model.get("value"));this.$slider.noUiSlider.set(o)}updateSliderOptions(e){this.$slider.noUiSlider.updateOptions({start:this.logCalc(this.model.get("value")),range:{min:this.model.get("min"),max:this.model.get("max")},step:this.model.get("step")})}_validate_slide_value(e){return e}}class FloatRangeSliderView extends IntRangeSliderView{constructor(){super(...arguments),this._parse_value=parseFloat,this._range_regex=/^\s*([+-]?(?:\d*\.?\d+|\d+\.)(?:[eE][-:]?\d+)?)\s*[-:]\s*([+-]?(?:\d*\.?\d+|\d+\.)(?:[eE][+-]?\d+)?)/}_validate_slide_value(e){return e}}class FloatTextModel extends FloatModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatTextModel",_view_name:"FloatTextView",disabled:!1,continuous_update:!1})}}class BoundedFloatTextModel extends BoundedFloatModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"BoundedFloatTextModel",_view_name:"FloatTextView",disabled:!1,continuous_update:!1,step:.1})}}class FloatTextView extends IntTextView{constructor(){super(...arguments),this._parse_value=parseFloat,this._default_step="any"}handleKeypress(e){e.stopPropagation()}handleKeyUp(e){}}class FloatProgressModel extends BoundedFloatModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatProgressModel",_view_name:"ProgressView",orientation:"horizontal",bar_style:"",style:null})}}class ControllerButtonModel extends CoreDOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ControllerButtonModel",_view_name:"ControllerButtonView",value:0,pressed:!1})}}class ControllerButtonView extends DOMWidgetView{render(){this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-controller-button"),this.el.style.width="fit-content",this.support=document.createElement("div"),this.support.style.position="relative",this.support.style.margin="1px",this.support.style.width="16px",this.support.style.height="16px",this.support.style.border="1px solid black",this.support.style.background="lightgray",this.el.appendChild(this.support),this.bar=document.createElement("div"),this.bar.style.position="absolute",this.bar.style.width="100%",this.bar.style.bottom="0px",this.bar.style.background="gray",this.support.appendChild(this.bar),this.update(),this.label=document.createElement("div"),this.label.textContent=this.model.get("description"),this.label.style.textAlign="center",this.el.appendChild(this.label)}update(){this.bar.style.height=100*this.model.get("value")+"%"}}class ControllerAxisModel extends CoreDOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ControllerAxisModel",_view_name:"ControllerAxisView",value:0})}}class ControllerAxisView extends DOMWidgetView{render(){this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-controller-axis"),this.el.style.width="16px",this.el.style.padding="4px",this.support=document.createElement("div"),this.support.style.position="relative",this.support.style.margin="1px",this.support.style.width="4px",this.support.style.height="64px",this.support.style.border="1px solid black",this.support.style.background="lightgray",this.bullet=document.createElement("div"),this.bullet.style.position="absolute",this.bullet.style.margin="-3px",this.bullet.style.boxSizing="unset",this.bullet.style.width="10px",this.bullet.style.height="10px",this.bullet.style.background="gray",this.label=document.createElement("div"),this.label.textContent=this.model.get("description"),this.label.style.textAlign="center",this.support.appendChild(this.bullet),this.el.appendChild(this.support),this.el.appendChild(this.label),this.update()}update(){this.bullet.style.top=50*(this.model.get("value")+1)+"%"}}class ControllerModel extends CoreDOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ControllerModel",_view_name:"ControllerView",index:0,name:"",mapping:"",connected:!1,timestamp:0,buttons:[],axes:[]})}initialize(e,n){super.initialize(e,n),navigator.getGamepads===void 0?(this.readout="This browser does not support gamepads.",console.error(this.readout)):(this.readout="Connect gamepad and press any button.",this.get("connected")?this.update_loop():this.wait_loop())}wait_loop(){const e=this.get("index"),n=navigator.getGamepads()[e];n?this.setup(n).then(i=>{this.set(i),this.save_changes(),window.requestAnimationFrame(this.update_loop.bind(this))}):window.requestAnimationFrame(this.wait_loop.bind(this))}setup(e){return this.set({name:e.id,mapping:e.mapping,connected:e.connected,timestamp:e.timestamp}),resolvePromisesDict({buttons:Promise.all(e.buttons.map((n,i)=>this._create_button_model(i))),axes:Promise.all(e.axes.map((n,i)=>this._create_axis_model(i)))})}update_loop(){const e=this.get("index"),n=this.get("name"),i=navigator.getGamepads()[e];i&&e===i.index&&n===i.id?(this.set({timestamp:i.timestamp,connected:i.connected}),this.save_changes(),this.get("buttons").forEach(function(o,u){o.set({value:i.buttons[u].value,pressed:i.buttons[u].pressed}),o.save_changes()}),this.get("axes").forEach(function(o,u){o.set("value",i.axes[u]),o.save_changes()}),window.requestAnimationFrame(this.update_loop.bind(this))):this.reset_gamepad()}reset_gamepad(){this.get("buttons").forEach(function(e){e.close()}),this.get("axes").forEach(function(e){e.close()}),this.set({name:"",mapping:"",connected:!1,timestamp:0,buttons:[],axes:[]}),this.save_changes(),window.requestAnimationFrame(this.wait_loop.bind(this))}_create_button_model(e){return this.widget_manager.new_widget({model_name:"ControllerButtonModel",model_module:"@jupyter-widgets/controls",model_module_version:this.get("_model_module_version"),view_name:"ControllerButtonView",view_module:"@jupyter-widgets/controls",view_module_version:this.get("_view_module_version")}).then(function(n){return n.set("description",e),n})}_create_axis_model(e){return this.widget_manager.new_widget({model_name:"ControllerAxisModel",model_module:"@jupyter-widgets/controls",model_module_version:this.get("_model_module_version"),view_name:"ControllerAxisView",view_module:"@jupyter-widgets/controls",view_module_version:this.get("_view_module_version")}).then(function(n){return n.set("description",e),n})}}ControllerModel.serializers=Object.assign(Object.assign({},CoreDOMWidgetModel.serializers),{buttons:{deserialize:unpack_models},axes:{deserialize:unpack_models}});class ControllerView extends DOMWidgetView{_createElement(e){return this.luminoWidget=new JupyterLuminoPanelWidget({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=$$1(this.luminoWidget.node)}initialize(e){super.initialize(e),this.button_views=new ViewList(this.add_button,null,this),this.listenTo(this.model,"change:buttons",(n,i)=>{this.button_views.update(i)}),this.axis_views=new ViewList(this.add_axis,null,this),this.listenTo(this.model,"change:axes",(n,i)=>{this.axis_views.update(i)}),this.listenTo(this.model,"change:name",this.update_label)}render(){this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-controller"),this.label=document.createElement("div"),this.el.appendChild(this.label),this.axis_box=new Panel$1,this.axis_box.node.style.display="flex",this.luminoWidget.addWidget(this.axis_box),this.button_box=new Panel$1,this.button_box.node.style.display="flex",this.luminoWidget.addWidget(this.button_box),this.button_views.update(this.model.get("buttons")),this.axis_views.update(this.model.get("axes")),this.update_label()}update_label(){this.label.textContent=this.model.get("name")||this.model.readout}add_button(e){const n=new Widget$1;return this.button_box.addWidget(n),this.create_child_view(e).then(i=>{const o=ArrayExt$4.firstIndexOf(this.button_box.widgets,n);return this.button_box.insertWidget(o,i.luminoWidget),n.dispose(),i}).catch(reject$2("Could not add child button view to controller",!0))}add_axis(e){const n=new Widget$1;return this.axis_box.addWidget(n),this.create_child_view(e).then(i=>{const o=ArrayExt$4.firstIndexOf(this.axis_box.widgets,n);return this.axis_box.insertWidget(o,i.luminoWidget),n.dispose(),i}).catch(reject$2("Could not add child axis view to controller",!0))}remove(){super.remove(),this.button_views.remove(),this.axis_views.remove()}}class SelectionModel extends CoreDescriptionModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectionModel",index:"",_options_labels:[],disabled:!1})}}class SelectionView extends DescriptionView{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox")}update(){super.update(),this.listbox&&(this.listbox.disabled=this.model.get("disabled")),this.updateTabindex(),this.updateTooltip()}updateTabindex(){if(!this.listbox)return;const e=this.model.get("tabbable");e===!0?this.listbox.setAttribute("tabIndex","0"):e===!1?this.listbox.setAttribute("tabIndex","-1"):e===null&&this.listbox.removeAttribute("tabIndex")}updateTooltip(){if(!this.listbox)return;const e=this.model.get("tooltip");e?this.model.get("description").length===0&&this.listbox.setAttribute("title",e):this.listbox.removeAttribute("title")}}class DropdownModel extends SelectionModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"DropdownModel",_view_name:"DropdownView",button_style:""})}}class DropdownView extends SelectionView{render(){super.render(),this.el.classList.add("widget-dropdown"),this.listbox=document.createElement("select"),this.listbox.id=this.label.htmlFor=uuid(),this.el.appendChild(this.listbox),this._updateOptions(),this.update()}update(e){e?.updated_view!==this&&this.model.hasChanged("_options_labels")&&this._updateOptions();const n=this.model.get("index");return this.listbox.selectedIndex=n===null?-1:n,super.update()}_updateOptions(){this.listbox.textContent="";const e=this.model.get("_options_labels");for(let n=0;n<e.length;n++){const i=e[n],o=document.createElement("option");o.textContent=i.replace(/ /g,""),o.setAttribute("data-value",encodeURIComponent(i)),o.value=i,this.listbox.appendChild(o)}}events(){return{"change select":"_handle_change"}}_handle_change(){this.model.set("index",this.listbox.selectedIndex===-1?null:this.listbox.selectedIndex,{updated_view:this}),this.touch()}handle_message(e){e.do==="focus"?this.listbox.focus():e.do==="blur"&&this.listbox.blur()}}class SelectModel extends SelectionModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectModel",_view_name:"SelectView",rows:5})}}class SelectView extends SelectionView{initialize(e){super.initialize(e),this.listbox=document.createElement("select")}render(){super.render(),this.el.classList.add("widget-select"),this.listbox.id=this.label.htmlFor=uuid(),this.el.appendChild(this.listbox),this._updateOptions(),this.update(),this.updateSelection()}update(e){if(e?.updated_view!==this){const i=this.model.hasChanged("_options_labels"),o=this.model.hasChanged("index");if(i||o){const u=this.model.get("index");i&&this._updateOptions(),this.updateSelection(u)}}super.update();let n=this.model.get("rows");n===null&&(n=""),this.listbox.setAttribute("size",n)}updateSelection(e){e=e||this.model.get("index"),this.listbox.selectedIndex=e===null?-1:e}_updateOptions(){this.listbox.textContent="";const e=this.model.get("_options_labels");for(let n=0;n<e.length;n++){const i=e[n],o=document.createElement("option");o.textContent=i.replace(/ /g,""),o.setAttribute("data-value",encodeURIComponent(i)),o.value=i,this.listbox.appendChild(o)}}events(){return{"change select":"_handle_change"}}_handle_change(){this.model.set("index",this.listbox.selectedIndex,{updated_view:this}),this.touch()}handle_message(e){e.do=="focus"?this.listbox.focus():e.do=="blur"&&this.listbox.blur()}}class RadioButtonsModel extends SelectionModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"RadioButtonsModel",_view_name:"RadioButtonsView",tooltips:[],icons:[],button_style:"",orientation:"vertical"})}}class RadioButtonsView extends DescriptionView{render(){super.render(),this.el.classList.add("widget-radio"),this.container=document.createElement("div"),this.el.appendChild(this.container),this.container.classList.add("widget-radio-box"),this.update()}update(e){this.model.get("orientation")==="vertical"?(this.container.classList.remove("widget-radio-box-horizontal"),this.container.classList.add("widget-radio-box-vertical")):(this.container.classList.remove("widget-radio-box-vertical"),this.container.classList.add("widget-radio-box-horizontal"));const n=this.model.get("_options_labels"),i=Array.from(this.container.querySelectorAll('input[type="radio"]')).map(u=>u.value);let o=n.length!==i.length;if(!o){for(let u=0,l=n.length;u<l;++u)if(i[u]!==n[u]){o=!0;break}}return o&&(e===void 0||e.updated_view!==this)&&(this.container.textContent="",n.forEach((u,l)=>{const c=document.createElement("label");c.textContent=u,this.container.appendChild(c);const f=document.createElement("input");f.setAttribute("type","radio"),f.value=l.toString(),f.setAttribute("data-value",encodeURIComponent(u)),c.appendChild(f)})),n.forEach((u,l)=>{const c='input[data-value="'+encodeURIComponent(u)+'"]',f=this.container.querySelectorAll(c);if(f.length>0){const d=f[0];d.checked=this.model.get("index")===l,d.disabled=this.model.get("disabled")}}),setTimeout(this.adjustPadding,0,this),super.update(e)}adjustPadding(e){const n=window.getComputedStyle(e.el),i=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),o=e.label.offsetHeight+i,u=window.getComputedStyle(e.container),l=parseInt(u.marginBottom,10),c=(e.el.offsetHeight+i-l)%o,f=c===0?0:o-c;e.container.style.marginBottom=f+"px"}events(){return{'click input[type="radio"]':"_handle_click"}}_handle_click(e){const n=e.target;this.model.set("index",parseInt(n.value,10),{updated_view:this}),this.touch()}handle_message(e){if(e.do=="focus")this.container.firstElementChild.focus();else if(e.do=="blur")for(let n=0;n<this.container.children.length;n++)this.container.children[n].blur()}}class ToggleButtonsStyleModel extends DescriptionStyleModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ToggleButtonsStyleModel"})}}ToggleButtonsStyleModel.styleProperties=Object.assign(Object.assign({},DescriptionStyleModel.styleProperties),{button_width:{selector:".widget-toggle-button",attribute:"width",default:null},font_weight:{selector:".widget-toggle-button",attribute:"font-weight",default:""}});class ToggleButtonsModel extends SelectionModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ToggleButtonsModel",_view_name:"ToggleButtonsView"})}}class ToggleButtonsView extends DescriptionView{initialize(e){this._css_state={},super.initialize(e),this.listenTo(this.model,"change:button_style",this.update_button_style)}render(){super.render(),this.el.classList.add("widget-toggle-buttons"),this.buttongroup=document.createElement("div"),this.el.appendChild(this.buttongroup),this.update(),this.set_button_style()}update(e){const n=this.model.get("_options_labels"),i=this.model.get("icons")||[],o=this.model.previous("icons")||[],u=ToggleButtonsView.classMap[this.model.previous("button_style")]||"",l=this.model.get("tooltips")||[],c=this.model.get("disabled"),f=this.buttongroup.querySelectorAll("button"),d=Array.from(f).map(g=>g.value);let m=!1;for(let g=0,v=n.length;g<v;++g)if(d[g]!==n[g]||i[g]!==o[g]){m=!0;break}return m&&(e===void 0||e.updated_view!==this)&&(this.buttongroup.textContent="",n.forEach((g,v)=>{let y;g.trim().length===0&&(!i[v]||i[v].trim().length===0)?y="&nbsp;":y=escape_html(g);const T=document.createElement("i"),P=document.createElement("button");i[v]&&(T.className="fa fa-"+i[v]),P.setAttribute("type","button"),P.className="widget-toggle-button jupyter-button",u&&P.classList.add(u),P.innerHTML=y,P.setAttribute("data-value",encodeURIComponent(g)),P.setAttribute("value",v.toString()),P.appendChild(T),P.disabled=c,l[v]&&P.setAttribute("title",l[v]),this.update_style_traits(P),this.buttongroup.appendChild(P)})),n.forEach((g,v)=>{const y='[data-value="'+encodeURIComponent(g)+'"]',w=this.buttongroup.querySelector(y);this.model.get("index")===v?w.classList.add("mod-active"):w.classList.remove("mod-active")}),this.stylePromise.then(function(g){g&&g.style()}),super.update(e)}update_style_traits(e){for(const n in this._css_state)if(Object.prototype.hasOwnProperty.call(this._css_state,"name")){if(n==="margin")this.buttongroup.style[n]=this._css_state[n];else if(n!=="width")if(e)e.style[n]=this._css_state[n];else{const i=this.buttongroup.querySelectorAll("button");i.length&&(i[0].style[n]=this._css_state[n])}}}update_button_style(){const e=this.buttongroup.querySelectorAll("button");for(let n=0;n<e.length;n++)this.update_mapped_classes(ToggleButtonsView.classMap,"button_style",e[n])}set_button_style(){const e=this.buttongroup.querySelectorAll("button");for(let n=0;n<e.length;n++)this.set_mapped_classes(ToggleButtonsView.classMap,"button_style",e[n])}events(){return{"click button":"_handle_click"}}_handle_click(e){const n=e.target;this.model.set("index",parseInt(n.value,10),{updated_view:this}),this.touch(),this.send({event:"click"})}}(function(t){t.classMap={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]}})(ToggleButtonsView||(ToggleButtonsView={}));class SelectionSliderModel extends SelectionModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectionSliderModel",_view_name:"SelectionSliderView",orientation:"horizontal",readout:!0,continuous_update:!0})}}class SelectionSliderView extends DescriptionView{render(){super.render(),this.el.classList.add("widget-hslider"),this.el.classList.add("widget-slider"),this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.slider_container=document.createElement("div"),this.slider_container.classList.add("slider-container"),this.slider_container.appendChild(this.$slider),this.el.appendChild(this.slider_container),this.readout=document.createElement("div"),this.el.appendChild(this.readout),this.readout.classList.add("widget-readout"),this.readout.style.display="none",this.createSlider(),this.model.on("change:orientation",this.regenSlider,this),this.model.on("change:index",this.updateSliderValue,this),this.update()}update(e){if(e?.updated_view!==this){this.updateSliderOptions(this.model);const n=this.model.get("orientation");this.model.get("disabled")?(this.readout.contentEditable="false",this.$slider.setAttribute("disabled",!0)):(this.readout.contentEditable="true",this.$slider.removeAttribute("disabled")),n==="vertical"?(this.el.classList.remove("widget-hslider"),this.el.classList.remove("widget-inline-hbox"),this.el.classList.add("widget-vslider"),this.el.classList.add("widget-inline-vbox")):(this.el.classList.remove("widget-vslider"),this.el.classList.remove("widget-inline-vbox"),this.el.classList.add("widget-hslider"),this.el.classList.add("widget-inline-hbox")),this.model.get("readout")?this.readout.style.display="":this.readout.style.display="none",this.updateSelection()}return super.update(e)}regenSlider(e){this.$slider.noUiSlider.destroy(),this.createSlider()}createSlider(){const e=this.model.get("_options_labels"),n=0,i=e.length-1,o=this.model.get("orientation"),u=this.model.get("behavior");noUiSlider.create(this.$slider,{start:this.model.get("index"),connect:!0,behaviour:u,range:{min:n,max:i},step:1,animate:!1,orientation:o,direction:o==="horizontal"?"ltr":"rtl",format:{from:l=>Number(l),to:l=>Math.round(l)}}),this.$slider.noUiSlider.on("update",(l,c)=>{this.handleSliderUpdateEvent(l,c)}),this.$slider.noUiSlider.on("change",(l,c)=>{this.handleSliderChangeEvent(l,c)})}events(){return{slide:"handleSliderChange",slidestop:"handleSliderChanged"}}updateSelection(){const e=this.model.get("index");this.updateReadout(e)}updateReadout(e){const n=this.model.get("_options_labels")[e];this.readout.textContent=n}handleSliderUpdateEvent(e,n){const i=e[0];this.updateReadout(i),this.model.get("continuous_update")&&this.handleSliderChanged(e,n)}handleSliderChangeEvent(e,n){const i=e[0];this.updateReadout(i),this.handleSliderChanged(e,n)}handleSliderChanged(e,n){const i=e[0];this.updateReadout(i),this.model.set("index",i,{updated_view:this}),this.touch()}updateSliderOptions(e){const n=this.model.get("_options_labels"),i=0,o=n.length-1;this.$slider.noUiSlider.updateOptions({start:this.model.get("index"),range:{min:i,max:o},step:1})}updateSliderValue(e,n,i){if(i.updated_view===this)return;const o=this.$slider.noUiSlider.get(),u=this.model.get("index");o!==u&&this.$slider.noUiSlider.set(u)}}class MultipleSelectionModel extends SelectionModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"MultipleSelectionModel"})}}class SelectMultipleModel extends MultipleSelectionModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectMultipleModel",_view_name:"SelectMultipleView",rows:null})}}class SelectMultipleView extends SelectView{initialize(e){super.initialize(e),this.listbox.multiple=!0}render(){super.render(),this.el.classList.add("widget-select-multiple")}updateSelection(){const e=this.model.get("index")||[],n=this.listbox.options;this.listbox.selectedIndex=-1,e.forEach(i=>{n[i].selected=!0})}_handle_change(){const e=Array.prototype.map.call(this.listbox.selectedOptions||[],function(n){return n.index});this.model.set("index",e,{updated_view:this}),this.touch()}}class SelectionRangeSliderModel extends MultipleSelectionModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectionSliderModel",_view_name:"SelectionSliderView",orientation:"horizontal",readout:!0,continuous_update:!0})}}class SelectionRangeSliderView extends SelectionSliderView{render(){super.render()}updateSelection(e){e=e||this.model.get("index"),this.updateReadout(e)}updateReadout(e){const n=this.model.get("_options_labels"),i=n[e[0]],o=n[e[1]];this.readout.textContent=`${i}-${o}`}handleSliderUpdateEvent(e,n){const i=e.map(Math.trunc);this.updateReadout(i),this.model.get("continuous_update")&&this.handleSliderChanged(e,n)}handleSliderChanged(e,n){const i=e.map(Math.round);this.updateReadout(i),this.model.set("index",i.slice(),{updated_view:this}),this.touch()}updateSliderValue(e,n,i){if(i.updated_view===this)return;const o=this.$slider.noUiSlider.get().map(Math.round),u=this.model.get("index").map(Math.round);(o[0]!==u[0]||o[1]!==u[1])&&this.$slider.noUiSlider.set(u)}}class EventedPanel extends Panel$1{constructor(){super(...arguments),this._widgetRemoved=new Signal$2(this)}get widgetRemoved(){return this._widgetRemoved}onChildRemoved(e){this._widgetRemoved.emit(e.child)}}class TabPanel extends Widget$1{constructor(e={}){super(),this._currentChanged=new Signal$2(this),this.addClass("jupyter-widget-TabPanel"),this.tabBar=new TabBar$1(e),this.tabBar.addClass("jupyter-widget-TabPanel-tabBar"),this.tabContents=new EventedPanel,this.tabContents.addClass("jupyter-widget-TabPanel-tabContents"),this.tabBar.tabMoved.connect(this._onTabMoved,this),this.tabBar.currentChanged.connect(this._onCurrentChanged,this),this.tabBar.tabCloseRequested.connect(this._onTabCloseRequested,this),this.tabBar.tabActivateRequested.connect(this._onTabActivateRequested,this),this.tabContents.widgetRemoved.connect(this._onWidgetRemoved,this);const n=new PanelLayout$1;n.addWidget(this.tabBar),n.addWidget(this.tabContents),this.layout=n}get currentChanged(){return this._currentChanged}get currentIndex(){const e=this.tabBar.currentIndex;return e===-1?null:e}set currentIndex(e){this.tabBar.currentIndex=e===null?-1:e}get currentWidget(){const e=this.tabBar.currentTitle;return e?e.owner:null}set currentWidget(e){this.tabBar.currentTitle=e?e.title:null}get tabsMovable(){return this.tabBar.tabsMovable}set tabsMovable(e){this.tabBar.tabsMovable=e}get widgets(){return this.tabContents.widgets}addWidget(e){this.insertWidget(this.widgets.length,e)}insertWidget(e,n){n!==this.currentWidget&&n.hide(),this.tabContents.insertWidget(e,n),this.tabBar.insertTab(e,n.title)}_onCurrentChanged(e,n){const{previousIndex:i,previousTitle:o,currentIndex:u,currentTitle:l}=n,c=o?o.owner:null,f=l?l.owner:null;c&&c.hide(),f&&f.show(),this._currentChanged.emit({previousIndex:i,previousWidget:c,currentIndex:u,currentWidget:f}),(Platform$1.IS_EDGE||Platform$1.IS_IE)&&MessageLoop$1.flush()}_onTabActivateRequested(e,n){n.title.owner.activate()}_onTabCloseRequested(e,n){n.title.owner.close()}_onTabMoved(e,n){this.tabContents.insertWidget(n.toIndex,n.title.owner)}_onWidgetRemoved(e,n){this.tabBar.removeTab(n.title)}}let Selection$1=class{constructor(e,n={}){this._array=null,this._value=null,this._previousValue=null,this._selectionChanged=new Signal$2(this),this._array=e,this._insertBehavior=n.insertBehavior||"select-item-if-needed",this._removeBehavior=n.removeBehavior||"select-item-after"}get selectionChanged(){return this._selectionChanged}adjustSelectionForSet(e){const n=this.index,i=this.value;if(e!==n)return;this._updateSelectedValue();const o=this.value;this._previousValue=null,i!==o&&this._selectionChanged.emit({previousIndex:n,previousValue:i,currentIndex:n,currentValue:o})}get value(){return this._value}set value(e){e===null||this._array===null?this.index=null:this.index=ArrayExt$4.firstIndexOf(this._array,e)}get index(){return this._index}set index(e){let n;if(e!==null&&this._array!==null?(n=Math.floor(e),(n<0||n>=this._array.length)&&(n=null)):n=null,this._index===n)return;const i=this._index,o=this._value;this._index=n,this._updateSelectedValue(),this._previousValue=o,this._selectionChanged.emit({previousIndex:i,previousValue:o,currentIndex:n,currentValue:this._value})}get insertBehavior(){return this._insertBehavior}set insertBehavior(e){this._insertBehavior=e}get removeBehavior(){return this._removeBehavior}set removeBehavior(e){this._removeBehavior=e}adjustSelectionForInsert(e,n){const i=this._value,o=this._index,u=this._insertBehavior;if(u==="select-item"||u==="select-item-if-needed"&&o===null){this._index=e,this._value=n,this._previousValue=i,this._selectionChanged.emit({previousIndex:o,previousValue:i,currentIndex:e,currentValue:n});return}o!==null&&o>=e&&this._index++}clearSelection(){const e=this._index,n=this._value;this._index=null,this._value=null,this._previousValue=null,e!==null&&this._selectionChanged.emit({previousIndex:e,previousValue:n,currentIndex:this._index,currentValue:this._value})}adjustSelectionForRemove(e,n){if(this._index===null)return;const i=this._index,o=this._removeBehavior;if(i!==e){i>e&&this._index--;return}if(!this._array||this._array.length===0){this._index=null,this._value=null,this._previousValue=null,this._selectionChanged.emit({previousIndex:e,previousValue:n,currentIndex:this._index,currentValue:this._value});return}if(o==="select-item-after"){this._index=Math.min(e,this._array.length-1),this._updateSelectedValue(),this._previousValue=null,this._selectionChanged.emit({previousIndex:e,previousValue:n,currentIndex:this._index,currentValue:this._value});return}if(o==="select-item-before"){this._index=Math.max(0,e-1),this._updateSelectedValue(),this._previousValue=null,this._selectionChanged.emit({previousIndex:e,previousValue:n,currentIndex:this._index,currentValue:this._value});return}if(o==="select-previous-item"){this._previousValue?this.value=this._previousValue:(this._index=Math.min(e,this._array.length-1),this._updateSelectedValue()),this._previousValue=null,this._selectionChanged.emit({previousIndex:e,previousValue:n,currentIndex:this._index,currentValue:this.value});return}this._index=null,this._value=null,this._previousValue=null,this._selectionChanged.emit({previousIndex:e,previousValue:n,currentIndex:this._index,currentValue:this._value})}_updateSelectedValue(){const e=this._index;this._value=e!==null&&this._array?this._array[e]:null}};const COLLAPSE_CLASS="jupyter-widget-Collapse",COLLAPSE_HEADER_CLASS="jupyter-widget-Collapse-header",COLLAPSE_CONTENTS_CLASS="jupyter-widget-Collapse-contents",COLLAPSE_CLASS_OPEN="jupyter-widget-Collapse-open";class Collapse extends Widget$1{constructor(e){super(e),this._collapseChanged=new Signal$2(this),this.addClass(COLLAPSE_CLASS),this._header=new Widget$1,this._header.addClass(COLLAPSE_HEADER_CLASS),this._header.node.addEventListener("click",this);const n=document.createElement("i");n.classList.add("fa","fa-fw","fa-caret-right"),this._header.node.appendChild(n),this._header.node.appendChild(document.createElement("span")),this._content=new Panel$1,this._content.addClass(COLLAPSE_CONTENTS_CLASS);const i=new PanelLayout$1;this.layout=i,i.addWidget(this._header),i.addWidget(this._content),e.widget&&(this.widget=e.widget),this.collapsed=!1}dispose(){this.isDisposed||(super.dispose(),this._header=null,this._widget=null,this._content=null)}get widget(){return this._widget}set widget(e){const n=this._widget;n&&(n.disposed.disconnect(this._onChildDisposed,this),n.title.changed.disconnect(this._onTitleChanged,this),n.parent=null),this._widget=e,e.disposed.connect(this._onChildDisposed,this),e.title.changed.connect(this._onTitleChanged,this),this._onTitleChanged(e.title),this._content.addWidget(e)}get collapsed(){return this._collapsed}set collapsed(e){e!==this._collapsed&&(e?this._collapse():this._uncollapse())}toggle(){this.collapsed=!this.collapsed}get collapseChanged(){return this._collapseChanged}_collapse(){this._collapsed=!0,this._content&&this._content.hide(),this.removeClass(COLLAPSE_CLASS_OPEN),this._header.node.children[0].classList.add("fa-caret-right"),this._header.node.children[0].classList.remove("fa-caret-down"),this._collapseChanged.emit(void 0)}_uncollapse(){this._collapsed=!1,this._content&&this._content.show(),this.addClass(COLLAPSE_CLASS_OPEN),this._header.node.children[0].classList.add("fa-caret-down"),this._header.node.children[0].classList.remove("fa-caret-right"),this._collapseChanged.emit(void 0)}handleEvent(e){e.type==="click"&&this._evtClick(e)}_evtClick(e){this.toggle()}_onTitleChanged(e){this._header.node.children[1].textContent=this._widget.title.label}_onChildDisposed(e){this.dispose()}}const ACCORDION_CLASS="jupyter-widget-Accordion",ACCORDION_CHILD_CLASS="jupyter-widget-Accordion-child",ACCORDION_CHILD_ACTIVE_CLASS="jupyter-widget-Accordion-child-active";class Accordion extends Panel$1{constructor(e){super(e),this._selection=new Selection$1(this.widgets),this._selection.selectionChanged.connect(this._onSelectionChanged,this),this.addClass(ACCORDION_CLASS)}get collapseWidgets(){return this.layout.widgets}get selection(){return this._selection}indexOf(e){return ArrayExt$4.findFirstIndex(this.collapseWidgets,n=>n.widget===e)}addWidget(e){const n=this._wrapWidget(e);return n.collapsed=!0,super.addWidget(n),this._selection.adjustSelectionForInsert(this.widgets.length-1,n),n}insertWidget(e,n){const i=this._wrapWidget(n);i.collapsed=!0,super.insertWidget(e,i),this._selection.adjustSelectionForInsert(e,i)}removeWidget(e){const n=this.indexOf(e);if(n>=0){const i=this.collapseWidgets[n];e.parent=null,i.dispose(),this._selection.adjustSelectionForRemove(n,null)}}_wrapWidget(e){const n=new Collapse({widget:e});return n.addClass(ACCORDION_CHILD_CLASS),n.collapseChanged.connect(this._onCollapseChange,this),n}_onCollapseChange(e){e.collapsed?this._selection.value===e&&e.collapsed&&(this._selection.value=null):this._selection.value=e}_onSelectionChanged(e,n){const i=n.previousValue,o=n.currentValue;i&&(i.collapsed=!0,i.removeClass(ACCORDION_CHILD_ACTIVE_CLASS)),o&&(o.collapsed=!1,o.addClass(ACCORDION_CHILD_ACTIVE_CLASS))}}class SelectionContainerModel extends BoxModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectionContainerModel",selected_index:null,titles:[]})}}class AccordionModel extends SelectionContainerModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"AccordionModel",_view_name:"AccordionView"})}}class JupyterLuminoAccordionWidget extends Accordion{constructor(e){const n=e.view;delete e.view,super(e),this._view=n}processMessage(e){var n;super.processMessage(e),(n=this._view)===null||n===void 0||n.processLuminoMessage(e)}dispose(){this.isDisposed||(super.dispose(),this._view.remove(),this._view=null)}}class AccordionView extends DOMWidgetView{_createElement(e){return this.luminoWidget=new JupyterLuminoAccordionWidget({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=$$1(this.luminoWidget.node)}initialize(e){super.initialize(e),this.children_views=new ViewList(this.add_child_view,this.remove_child_view,this),this.listenTo(this.model,"change:children",()=>this.updateChildren()),this.listenTo(this.model,"change:selected_index",()=>this.update_selected_index()),this.listenTo(this.model,"change:titles",()=>this.update_titles())}render(){var e;super.render();const n=this.luminoWidget;n.addClass("jupyter-widgets"),n.addClass("widget-accordion"),n.addClass("widget-container"),n.selection.selectionChanged.connect(i=>{this.updatingChildren||(this.model.set("selected_index",n.selection.index),this.touch())}),(e=this.children_views)===null||e===void 0||e.update(this.model.get("children")),this.update_titles(),this.update_selected_index()}updateChildren(){var e;this.updatingChildren=!0,this.luminoWidget.selection.index=null,(e=this.children_views)===null||e===void 0||e.update(this.model.get("children")),this.update_selected_index(),this.updatingChildren=!1}update_titles(){const e=this.luminoWidget.collapseWidgets,n=this.model.get("titles");for(let i=0;i<e.length;i++)n[i]!==void 0&&(e[i].widget.title.label=n[i])}update_selected_index(){this.luminoWidget.selection.index=this.model.get("selected_index")}remove_child_view(e){this.luminoWidget.removeWidget(e.luminoWidget),e.remove()}add_child_view(e,n){const i=this.luminoWidget,o=new Widget$1;return o.title.label=this.model.get("titles")[n]||"",i.addWidget(o),this.create_child_view(e).then(u=>{const l=u.luminoWidget;l.title.label=o.title.label;const c=i.collapseWidgets[i.indexOf(o)];return c.widget=l,o.dispose(),u}).catch(reject$2("Could not add child view to box",!0))}remove(){this.children_views=null,super.remove()}}class TabModel extends SelectionContainerModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"TabModel",_view_name:"TabView"})}}class JupyterLuminoTabPanelWidget extends TabPanel{constructor(e){const n=e.view;delete e.view,super(e),this._view=n,MessageLoop$1.installMessageHook(this.tabContents,(i,o)=>(this._view.processLuminoMessage(o),!0))}dispose(){this.isDisposed||(super.dispose(),this._view.remove(),this._view=null)}}class TabView extends DOMWidgetView{constructor(){super(...arguments),this.updatingTabs=!1}_createElement(e){return this.luminoWidget=new JupyterLuminoTabPanelWidget({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=$$1(this.luminoWidget.node)}initialize(e){super.initialize(e),this.childrenViews=new ViewList(this.addChildView,n=>{n.remove()},this),this.listenTo(this.model,"change:children",()=>this.updateTabs()),this.listenTo(this.model,"change:titles",()=>this.updateTitles())}render(){super.render();const e=this.luminoWidget;e.addClass("jupyter-widgets"),e.addClass("widget-container"),e.addClass("jupyter-widget-tab"),e.addClass("widget-tab"),e.tabsMovable=!0,e.tabBar.insertBehavior="none",e.tabBar.currentChanged.connect(this._onTabChanged,this),e.tabBar.tabMoved.connect(this._onTabMoved,this),e.tabBar.addClass("widget-tab-bar"),e.tabContents.addClass("widget-tab-contents"),e.tabBar.tabsMovable=!1,this.updateTabs(),this.update()}updateTabs(){var e;this.updatingTabs=!0,this.luminoWidget.currentIndex=null,(e=this.childrenViews)===null||e===void 0||e.update(this.model.get("children")),this.luminoWidget.currentIndex=this.model.get("selected_index"),this.updatingTabs=!1}addChildView(e,n){const i=this.model.get("titles")[n]||"",o=this.luminoWidget,u=new Widget$1;return u.title.label=i,o.addWidget(u),this.create_child_view(e).then(l=>{const c=l.luminoWidget;c.title.label=u.title.label,c.title.closable=!1;const f=ArrayExt$4.firstIndexOf(o.widgets,u);return o.insertWidget(f+1,c),u.dispose(),l}).catch(reject$2("Could not add child view to box",!0))}update(){return this.updateSelectedIndex(),super.update()}updateTitles(){const e=this.model.get("titles")||[];each$5(this.luminoWidget.widgets,(n,i)=>{n.title.label=e[i]||""})}updateSelectedIndex(){this.luminoWidget.currentIndex=this.model.get("selected_index")}remove(){this.childrenViews=null,super.remove()}_onTabChanged(e,n){if(!this.updatingTabs){const i=n.currentIndex;this.model.set("selected_index",i===-1?null:i),this.touch()}}_onTabMoved(e,n){const i=this.model.get("children").slice();ArrayExt$4.move(i,n.fromIndex,n.toIndex),this.model.set("children",i),this.touch()}}class StackModel extends SelectionContainerModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"StackModel",_view_name:"StackView"})}}class StackView extends BoxView{initialize(e){super.initialize(e),this.listenTo(this.model,"change:selected_index",this.update_children)}update_children(){var e;let n;this.model.get("selected_index")===null?n=[]:n=[this.model.get("children")[this.model.get("selected_index")]],(e=this.children_views)===null||e===void 0||e.update(n).then(i=>{i.forEach(o=>{MessageLoop$1.postMessage(o.luminoWidget,Widget$1.ResizeMessage.UnknownSize)})})}}function define(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function extend(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color$1,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color$1(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=reHex.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?rgbn(e):n===3?new Rgb(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?rgba(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?rgba(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=reRgbInteger.exec(t))?new Rgb(e[1],e[2],e[3],1):(e=reRgbPercent.exec(t))?new Rgb(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=reRgbaInteger.exec(t))?rgba(e[1],e[2],e[3],e[4]):(e=reRgbaPercent.exec(t))?rgba(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=reHslPercent.exec(t))?hsla(e[1],e[2]/100,e[3]/100,1):(e=reHslaPercent.exec(t))?hsla(e[1],e[2]/100,e[3]/100,e[4]):named.hasOwnProperty(t)?rgbn(named[t]):t==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(t){return new Rgb(t>>16&255,t>>8&255,t&255,1)}function rgba(t,e,n,i){return i<=0&&(t=e=n=NaN),new Rgb(t,e,n,i)}function rgbConvert(t){return t instanceof Color||(t=color$1(t)),t?(t=t.rgb(),new Rgb(t.r,t.g,t.b,t.opacity)):new Rgb}function rgb(t,e,n,i){return arguments.length===1?rgbConvert(t):new Rgb(t,e,n,i??1)}function Rgb(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}define(Rgb,rgb,extend(Color,{brighter(t){return t=t==null?brighter:Math.pow(brighter,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?darker:Math.pow(darker,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const t=clampa(this.opacity);return`${t===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${t===1?")":`, ${t})`}`}function clampa(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function clampi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function hex(t){return t=clampi(t),(t<16?"0":"")+t.toString(16)}function hsla(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Hsl(t,e,n,i)}function hslConvert(t){if(t instanceof Hsl)return new Hsl(t.h,t.s,t.l,t.opacity);if(t instanceof Color||(t=color$1(t)),!t)return new Hsl;if(t instanceof Hsl)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),u=Math.max(e,n,i),l=NaN,c=u-o,f=(u+o)/2;return c?(e===u?l=(n-i)/c+(n<i)*6:n===u?l=(i-e)/c+2:l=(e-n)/c+4,c/=f<.5?u+o:2-u-o,l*=60):c=f>0&&f<1?0:l,new Hsl(l,c,f,t.opacity)}function hsl(t,e,n,i){return arguments.length===1?hslConvert(t):new Hsl(t,e,n,i??1)}function Hsl(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}define(Hsl,hsl,extend(Color,{brighter(t){return t=t==null?brighter:Math.pow(brighter,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?darker:Math.pow(darker,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new Rgb(hsl2rgb(t>=240?t-240:t+120,o,i),hsl2rgb(t,o,i),hsl2rgb(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=clampa(this.opacity);return`${t===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function clamph(t){return t=(t||0)%360,t<0?t+360:t}function clampt(t){return Math.max(0,Math.min(1,t||0))}function hsl2rgb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}function trim(t){return t.replace(/^\s+|\s+$/g,"")}function clamp(t,e,n){return Math.min(Math.max(t,e),n)}function removeChildren(t){for(;t.firstChild;)t.removeChild(t.firstChild)}class Selection{constructor(e,n,i){this.start=e,this.dx=n,this.max=i}isSelected(e){let n,i;return this.dx>=0?(n=this.start,i=this.start+this.dx):(n=this.start+this.dx,i=this.start),n<=e&&e<i}updateSelection(e){this.dx+=e,this.start+this.dx>this.max&&(this.dx=this.max-this.start),this.start+this.dx<0&&(this.dx=-this.start)}}class TagsInputBaseModel extends CoreDOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:[],placeholder:"",allowed_tags:null,allow_duplicates:!0})}}class TagsInputBaseView extends DOMWidgetView{constructor(){super(...arguments),this.hoveredTag=null,this.hoveredTagIndex=null}render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("jupyter-widget-tagsinput"),this.taginputWrapper=document.createElement("div"),this.model.get("value").length?this.taginputWrapper.style.display="none":this.taginputWrapper.style.display="inline-block",this.datalistID=uuid(),this.taginput=document.createElement("input"),this.taginput.classList.add("jupyter-widget-tag"),this.taginput.classList.add("jupyter-widget-taginput"),this.taginput.setAttribute("list",this.datalistID),this.taginput.setAttribute("type","text"),this.autocompleteList=document.createElement("datalist"),this.autocompleteList.id=this.datalistID,this.updateAutocomplete(),this.model.on("change:allowed_tags",this.updateAutocomplete.bind(this)),this.updatePlaceholder(),this.model.on("change:placeholder",this.updatePlaceholder.bind(this)),this.taginputWrapper.classList.add("widget-text"),this.taginputWrapper.appendChild(this.taginput),this.taginputWrapper.appendChild(this.autocompleteList),this.el.onclick=this.focus.bind(this),this.el.ondrop=e=>{const n=this.hoveredTagIndex==null?this.tags.length:this.hoveredTagIndex;return this.ondrop(e,n)},this.el.ondragover=this.ondragover.bind(this),this.taginput.onchange=this.handleValueAdded.bind(this),this.taginput.oninput=this.resizeInput.bind(this),this.taginput.onkeydown=this.handleKeyEvent.bind(this),this.taginput.onblur=this.loseFocus.bind(this),this.resizeInput(),this.inputIndex=this.model.get("value").length,this.selection=null,this.preventLoosingFocus=!1,this.update()}update(){this.preventLoosingFocus=!0,removeChildren(this.el),this.tags=[];const e=this.model.get("value");this.inputIndex=e.length;for(const n in e){const i=parseInt(n),o=this.createTag(e[i],i,this.selection!=null&&this.selection.isSelected(i));o.draggable=!0,o.ondragstart=((u,l)=>c=>{this.ondragstart(c,u,l,this.model.model_id)})(i,e[i]),o.ondrop=(u=>l=>{this.ondrop(l,u)})(i),o.ondragover=this.ondragover.bind(this),o.ondragenter=(u=>l=>{this.ondragenter(l,u)})(i),o.ondragend=this.ondragend.bind(this),this.tags.push(o),this.el.appendChild(o)}return this.el.insertBefore(this.taginputWrapper,this.el.children[this.inputIndex]),this.model.get("value").length?this.taginputWrapper.style.display="none":this.taginputWrapper.style.display="inline-block",this.preventLoosingFocus=!1,super.update()}updateAutocomplete(){removeChildren(this.autocompleteList);const e=this.model.get("allowed_tags");for(const n of e){const i=document.createElement("option");i.value=n,this.autocompleteList.appendChild(i)}}updatePlaceholder(){this.taginput.placeholder=this.model.get("placeholder"),this.resizeInput()}updateTags(){const e=this.model.get("value");for(const n in this.tags){const i=parseInt(n);this.updateTag(this.tags[i],e[i],i,this.selection!=null&&this.selection.isSelected(i))}}handleValueAdded(e){const n=trim(this.taginput.value),i=this.inputIndex;if(n=="")return;this.inputIndex++,this.addTag(i,n)&&(this.taginput.value="",this.resizeInput(),this.focus())}addTag(e,n){const i=this.model.get("value");let o;try{o=this.validateValue(n)}catch{return!1}const u=this.model.get("allowed_tags");if(u.length&&!u.includes(o)||!this.model.get("allow_duplicates")&&i.includes(o))return!1;this.selection=null;const l=[...i];return l.splice(e,0,o),this.model.set("value",l),this.model.save_changes(),!0}resizeInput(){let e;this.taginput.value.length!=0?e=this.taginput.value:e=this.model.get("placeholder");const n=e.length+1;this.taginput.setAttribute("size",String(n))}handleKeyEvent(e){const n=this.model.get("value").length;if(this.taginput.value.length)return;const i=this.inputIndex;switch(e.key){case"ArrowLeft":e.ctrlKey&&e.shiftKey&&this.select(i,-i),!e.ctrlKey&&e.shiftKey&&this.select(i,-1),e.ctrlKey?this.inputIndex=0:this.inputIndex--;break;case"ArrowRight":e.ctrlKey&&e.shiftKey&&this.select(i,n-i),!e.ctrlKey&&e.shiftKey&&this.select(i,1),e.ctrlKey?this.inputIndex=n:this.inputIndex++;break;case"Backspace":this.selection?this.removeSelectedTags():this.removeTag(this.inputIndex-1);break;case"Delete":this.selection?this.removeSelectedTags():this.removeTag(this.inputIndex);break;default:return}e.shiftKey||(this.selection=null),this.inputIndex=clamp(this.inputIndex,0,n),this.update(),this.focus()}ondragstart(e,n,i,o){e.dataTransfer!=null&&(e.dataTransfer.setData("index",String(n)),e.dataTransfer.setData("tagValue",String(i)),e.dataTransfer.setData("origin",o))}ondrop(e,n){if(e.dataTransfer==null)return;e.preventDefault(),e.stopPropagation();const i=e.dataTransfer.getData("tagValue"),o=parseInt(e.dataTransfer.getData("index")),u=e.dataTransfer.getData("origin")==this.model.model_id;if(!isNaN(o)){if(u){const c=[...this.model.get("value")];o<n&&n--,c.splice(o,1),c.splice(n,0,i),this.model.set("value",c),this.model.save_changes();return}this.addTag(n,i)}}ondragover(e){e.preventDefault()}ondragenter(e,n){this.hoveredTag!=null&&this.hoveredTag!=this.tags[n]&&(this.hoveredTag.style.marginLeft="1px"),this.hoveredTag=this.tags[n],this.hoveredTagIndex=n,this.hoveredTag.style.marginLeft="30px"}ondragend(){this.hoveredTag!=null&&(this.hoveredTag.style.marginLeft="1px"),this.hoveredTag=null,this.hoveredTagIndex=null}select(e,n){const i=this.model.get("value").length;this.selection?this.selection.updateSelection(n):this.selection=new Selection(e,n,i)}removeSelectedTags(){const e=[...this.model.get("value")],n=e.length;for(let i=n-1;i>=0;i--)this.selection!=null&&this.selection.isSelected(i)&&(e.splice(i,1),i<this.inputIndex&&this.inputIndex--);this.model.set("value",e),this.model.save_changes()}removeTag(e){const n=[...this.model.get("value")];n.splice(e,1),e<this.inputIndex&&this.inputIndex--,this.model.set("value",n),this.model.save_changes()}focus(){this.taginputWrapper.style.display="inline-block",this.taginput.focus()}loseFocus(){this.preventLoosingFocus||(this.model.get("value").length&&(this.taginputWrapper.style.display="none"),this.selection=null,this.updateTags())}preinitialize(){this.tagName="div"}validateValue(e){return e}}class TagsInputModel extends TagsInputBaseModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:[],tag_style:"",_view_name:"TagsInputView",_model_name:"TagsInputModel"})}}class TagsInputView extends TagsInputBaseView{createTag(e,n,i){const o=document.createElement("div"),u=this.model.get("tag_style");o.classList.add("jupyter-widget-tag"),o.classList.add(TagsInputView.class_map[u]),i&&o.classList.add("mod-active"),o.appendChild(document.createTextNode(this.getTagText(e)));const l=document.createElement("i");return l.classList.add("fa"),l.classList.add("fa-times"),l.classList.add("jupyter-widget-tag-close"),o.appendChild(l),l.onmousedown=(c=>()=>{this.removeTag(c),this.loseFocus()})(n),o}getTagText(e){return e}updateTag(e,n,i,o){o?e.classList.add("mod-active"):e.classList.remove("mod-active")}}TagsInputView.class_map={primary:"mod-primary",success:"mod-success",info:"mod-info",warning:"mod-warning",danger:"mod-danger"};class ColorsInputModel extends TagsInputBaseModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:[],_view_name:"ColorsInputView",_model_name:"ColorsInputModel"})}}class ColorsInputView extends TagsInputBaseView{createTag(e,n,i){const o=document.createElement("div"),u=e,l=color$1(e).darker().toString();o.classList.add("jupyter-widget-tag"),o.classList.add("jupyter-widget-colortag"),i?(o.classList.add("mod-active"),o.style.backgroundColor=l):o.style.backgroundColor=u;const c=document.createElement("i");return c.classList.add("fa"),c.classList.add("fa-times"),c.classList.add("jupyter-widget-tag-close"),o.appendChild(c),c.onmousedown=(f=>()=>{this.removeTag(f),this.loseFocus()})(n),o}updateTag(e,n,i,o){const u=n,l=color$1(n).darker().toString();o?(e.classList.add("mod-active"),e.style.backgroundColor=l):(e.classList.remove("mod-active"),e.style.backgroundColor=u)}validateValue(e){if(color$1(e)==null)throw e+" is not a valid Color";return e}}class NumbersInputModel extends TagsInputModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{min:null,max:null})}}class NumbersInputView extends TagsInputView{render(){this.model.on("change:format",()=>{this.formatter=format(this.model.get("format")),this.update()}),this.formatter=format(this.model.get("format")),super.render()}getTagText(e){return this.formatter(this.parseNumber(e))}validateValue(e){const n=this.parseNumber(e),i=this.model.get("min"),o=this.model.get("max");if(isNaN(n)||i!=null&&n<i||o!=null&&n>o)throw e+" is not a valid number, it should be in the range ["+i+", "+o+"]";return n}}class FloatsInputModel extends NumbersInputModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"FloatsInputView",_model_name:"FloatsInputModel",format:".1f"})}}class FloatsInputView extends NumbersInputView{parseNumber(e){return parseFloat(e)}}class IntsInputModel extends NumbersInputModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"IntsInputView",_model_name:"IntsInputModel",format:"d"})}}class IntsInputView extends NumbersInputView{parseNumber(e){const n=parseInt(e);if(n!=parseFloat(e))throw e+" should be an integer";return n}}const INVALID_VALUE_CLASS="jpwidgets-invalidComboValue";class StringStyleModel extends DescriptionStyleModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"StringStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:JUPYTER_CONTROLS_VERSION})}}StringStyleModel.styleProperties=Object.assign(Object.assign({},DescriptionStyleModel.styleProperties),{background:{selector:"",attribute:"background",default:null},font_size:{selector:"",attribute:"font-size",default:""},text_color:{selector:"",attribute:"color",default:""}});class HTMLStyleModel extends StringStyleModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"HTMLStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:JUPYTER_CONTROLS_VERSION})}}HTMLStyleModel.styleProperties=Object.assign({},StringStyleModel.styleProperties);class HTMLMathStyleModel extends StringStyleModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"HTMLMathStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:JUPYTER_CONTROLS_VERSION})}}HTMLMathStyleModel.styleProperties=Object.assign({},StringStyleModel.styleProperties);class LabelStyleModel extends StringStyleModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"LabelStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:JUPYTER_CONTROLS_VERSION})}}LabelStyleModel.styleProperties=Object.assign(Object.assign({},StringStyleModel.styleProperties),{font_family:{selector:"",attribute:"font-family",default:""},font_style:{selector:"",attribute:"font-style",default:""},font_variant:{selector:"",attribute:"font-variant",default:""},font_weight:{selector:"",attribute:"font-weight",default:""},text_decoration:{selector:"",attribute:"text-decoration",default:""}});class TextStyleModel extends DescriptionStyleModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"TextStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:JUPYTER_CONTROLS_VERSION})}}TextStyleModel.styleProperties=Object.assign(Object.assign({},DescriptionStyleModel.styleProperties),{background:{selector:".widget-input",attribute:"background",default:null},font_size:{selector:".widget-input",attribute:"font-size",default:""},text_color:{selector:".widget-input",attribute:"color",default:""}});class StringModel extends CoreDescriptionModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:"",disabled:!1,placeholder:"",_model_name:"StringModel"})}}class StringView extends DescriptionView{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox")}}class HTMLModel extends StringModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"HTMLView",_model_name:"HTMLModel"})}}class HTMLView extends StringView{render(){super.render(),this.el.classList.add("widget-html"),this.content=document.createElement("div"),this.content.classList.add("widget-html-content"),this.el.appendChild(this.content),this.update()}update(){return this.content.innerHTML=this.model.get("value"),super.update()}handle_message(e){e.do==="focus"?this.content.focus():e.do==="blur"&&this.content.blur()}}class HTMLMathModel extends StringModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"HTMLMathView",_model_name:"HTMLMathModel"})}}class HTMLMathView extends StringView{render(){super.render(),this.el.classList.add("widget-htmlmath"),this.content=document.createElement("div"),this.content.classList.add("widget-htmlmath-content"),this.el.appendChild(this.content),this.update()}update(){return this.content.innerHTML=this.model.get("value"),this.typeset(this.content),super.update()}handle_message(e){e.do==="focus"?this.content.focus():e.do==="blur"&&this.content.blur()}}class LabelModel extends StringModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"LabelView",_model_name:"LabelModel"})}}class LabelView extends StringView{render(){super.render(),this.el.classList.add("widget-label"),this.update()}update(){return this.typeset(this.el,this.model.get("value")),super.update()}}class TextareaModel extends StringModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"TextareaView",_model_name:"TextareaModel",rows:null,continuous_update:!0})}}class TextareaView extends StringView{render(){super.render(),this.el.classList.add("widget-textarea"),this.textbox=document.createElement("textarea"),this.textbox.setAttribute("rows","5"),this.textbox.id=this.label.htmlFor=uuid(),this.textbox.classList.add("widget-input"),this.el.appendChild(this.textbox),this.update(),this.listenTo(this.model,"change:placeholder",(e,n,i)=>{this.update_placeholder(n)}),this.update_placeholder(),this.updateTooltip()}update_placeholder(e){const n=e||this.model.get("placeholder");this.textbox.setAttribute("placeholder",n.toString())}update(e){if(e===void 0||e.updated_view!==this){this.textbox.value=this.model.get("value");let n=this.model.get("rows");n===null&&(n=""),this.textbox.setAttribute("rows",n),this.textbox.disabled=this.model.get("disabled")}return this.updateTabindex(),this.updateTooltip(),super.update()}updateTabindex(){if(!this.textbox)return;const e=this.model.get("tabbable");e===!0?this.textbox.setAttribute("tabIndex","0"):e===!1?this.textbox.setAttribute("tabIndex","-1"):e===null&&this.textbox.removeAttribute("tabIndex")}updateTooltip(){if(!this.textbox)return;const e=this.model.get("tooltip");e?this.model.get("description").length===0&&this.textbox.setAttribute("title",e):this.textbox.removeAttribute("title")}events(){return{"keydown textarea":"handleKeyDown","keypress textarea":"handleKeypress","input textarea":"handleChanging","change textarea":"handleChanged"}}handleKeyDown(e){e.stopPropagation()}handleKeypress(e){e.stopPropagation()}handleChanging(e){this.model.get("continuous_update")&&this.handleChanged(e)}handleChanged(e){const n=e.target;this.model.set("value",n.value,{updated_view:this}),this.touch()}handle_message(e){e.do==="focus"?this.textbox.focus():e.do==="blur"&&this.textbox.blur()}}class TextModel extends StringModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"TextView",_model_name:"TextModel",continuous_update:!0})}}class TextView extends StringView{constructor(){super(...arguments),this.inputType="text"}render(){super.render(),this.el.classList.add("widget-text"),this.textbox=document.createElement("input"),this.textbox.setAttribute("type",this.inputType),this.textbox.id=this.label.htmlFor=uuid(),this.textbox.classList.add("widget-input"),this.el.appendChild(this.textbox),this.update(),this.listenTo(this.model,"change:placeholder",(e,n,i)=>{this.update_placeholder(n)}),this.update_placeholder(),this.updateTabindex(),this.updateTooltip()}update_placeholder(e){this.textbox.setAttribute("placeholder",e||this.model.get("placeholder"))}updateTabindex(){if(!this.textbox)return;const e=this.model.get("tabbable");e===!0?this.textbox.setAttribute("tabIndex","0"):e===!1?this.textbox.setAttribute("tabIndex","-1"):e===null&&this.textbox.removeAttribute("tabIndex")}updateTooltip(){if(!this.textbox)return;const e=this.model.get("tooltip");e?this.model.get("description").length===0&&this.textbox.setAttribute("title",e):this.textbox.removeAttribute("title")}update(e){return(e===void 0||e.updated_view!==this)&&(this.textbox.value!==this.model.get("value")&&(this.textbox.value=this.model.get("value")),this.textbox.disabled=this.model.get("disabled")),super.update()}events(){return{"keydown input":"handleKeyDown","keypress input":"handleKeypress","input input":"handleChanging","change input":"handleChanged"}}handleKeyDown(e){e.stopPropagation()}handleKeypress(e){e.stopPropagation(),e.keyCode===13&&this.send({event:"submit"})}handleChanging(e){this.model.get("continuous_update")&&this.handleChanged(e)}handleChanged(e){const n=e.target;this.model.set("value",n.value,{updated_view:this}),this.touch()}handle_message(e){e.do==="focus"?this.textbox.focus():e.do==="blur"&&this.textbox.blur()}}class PasswordModel extends TextModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"PasswordView",_model_name:"PasswordModel"})}}class PasswordView extends TextView{constructor(){super(...arguments),this.inputType="password"}}class ComboboxModel extends TextModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ComboboxModel",_view_name:"ComboboxView",options:[],ensure_options:!1})}}class ComboboxView extends TextView{constructor(){super(...arguments),this.isInitialRender=!0}render(){this.datalist=document.createElement("datalist"),this.datalist.id=uuid(),super.render(),this.textbox.setAttribute("list",this.datalist.id),this.el.appendChild(this.datalist),this.updateTooltip()}update(e){if(super.update(e),!this.datalist)return;const n=this.isValid(this.model.get("value"));if(this.highlightValidState(n),e!==void 0&&e.updated_view||!this.model.hasChanged("options")&&!this.isInitialRender)return;this.isInitialRender=!1;const i=this.model.get("options"),o=document.createDocumentFragment();for(const u of i){const l=document.createElement("option");l.value=u,o.appendChild(l)}this.datalist.replaceChildren(...o.children)}isValid(e){return!(this.model.get("ensure_option")===!0&&this.model.get("options").indexOf(e)===-1)}handleChanging(e){const n=e.target,i=this.isValid(n.value);this.highlightValidState(i),i&&super.handleChanging(e)}handleChanged(e){const n=e.target,i=this.isValid(n.value);this.highlightValidState(i),i&&super.handleChanged(e)}handle_message(e){e.do==="focus"?this.textbox.focus():e.do==="blur"&&this.textbox.blur()}highlightValidState(e){this.textbox.classList.toggle(INVALID_VALUE_CLASS,!e)}}class FileUploadModel extends CoreDOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FileUploadModel",_view_name:"FileUploadView",accept:"",description:"Upload",disabled:!1,icon:"upload",button_style:"",multiple:!1,value:[],error:"",style:null})}}FileUploadModel.serializers=Object.assign(Object.assign({},CoreDOMWidgetModel.serializers),{value:{serialize:t=>t}});class FileUploadView extends DOMWidgetView{preinitialize(){this.tagName="button"}render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-upload"),this.el.classList.add("jupyter-button"),this.fileInput=document.createElement("input"),this.fileInput.type="file",this.fileInput.style.display="none",this.el.addEventListener("click",()=>{this.fileInput.click()}),this.fileInput.addEventListener("click",()=>{this.fileInput.value=""}),this.fileInput.addEventListener("change",()=>{var e;const n=[];Array.from((e=this.fileInput.files)!==null&&e!==void 0?e:[]).forEach(i=>{n.push(new Promise((o,u)=>{const l=new FileReader;l.onload=()=>{const c=l.result;o({content:c,name:i.name,type:i.type,size:i.size,last_modified:i.lastModified})},l.onerror=()=>{u()},l.onabort=l.onerror,l.readAsArrayBuffer(i)}))}),Promise.all(n).then(i=>{this.model.set({value:i,error:""}),this.touch()}).catch(i=>{console.error("error in file upload: %o",i),this.model.set({error:i}),this.touch()})}),this.listenTo(this.model,"change:button_style",this.update_button_style),this.set_button_style(),this.update()}update(){this.el.disabled=this.model.get("disabled"),this.el.setAttribute("title",this.model.get("tooltip"));const e=this.model.get("value"),n=`${this.model.get("description")} (${e.length})`,i=this.model.get("icon");if(n.length||i.length){if(this.el.textContent="",i.length){const o=document.createElement("i");o.classList.add("fa"),o.classList.add("fa-"+i),n.length===0&&o.classList.add("center"),this.el.appendChild(o)}this.el.appendChild(document.createTextNode(n))}return this.fileInput.accept=this.model.get("accept"),this.fileInput.multiple=this.model.get("multiple"),super.update()}update_button_style(){this.update_mapped_classes(FileUploadView.class_map,"button_style",this.el)}set_button_style(){this.set_mapped_classes(FileUploadView.class_map,"button_style",this.el)}}FileUploadView.class_map={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]};const version$1="5.0.12",controls=Object.freeze(Object.defineProperty({__proto__:null,AccordionModel,AccordionView,AudioModel,AudioView,BaseIntSliderView,BoolModel,BoundedFloatModel,BoundedFloatTextModel,BoundedIntModel,BoundedIntTextModel,BoxModel,BoxView,ButtonModel,ButtonStyleModel,ButtonView,CheckboxModel,CheckboxStyleModel,CheckboxView,ColorPickerModel,ColorPickerView,ColorsInputModel,ColorsInputView,ComboboxModel,ComboboxView,ControllerAxisModel,ControllerAxisView,ControllerButtonModel,ControllerButtonView,ControllerModel,ControllerView,DatePickerModel,DatePickerView,DatetimeModel,DatetimeView,DescriptionModel,DescriptionStyleModel,DescriptionView,DirectionalLinkModel,DropdownModel,DropdownView,FileUploadModel,FileUploadView,FloatLogSliderModel,FloatLogSliderView,FloatModel,FloatProgressModel,FloatRangeSliderModel,FloatRangeSliderView,FloatSliderModel,FloatSliderView,FloatTextModel,FloatTextView,FloatsInputModel,FloatsInputView,GridBoxModel,GridBoxView,HBoxModel,HBoxView,HTMLMathModel,HTMLMathStyleModel,HTMLMathView,HTMLModel,HTMLStyleModel,HTMLView,ImageModel,ImageView,IntModel,IntProgressModel,IntRangeSliderModel,IntRangeSliderView,IntSliderModel,IntSliderView,IntTextModel,IntTextView,IntsInputModel,IntsInputView,JUPYTER_CONTROLS_VERSION,JupyterLuminoAccordionWidget,JupyterLuminoTabPanelWidget,LabelModel,LabelStyleModel,LabelView,LabeledDOMWidgetModel,LabeledDOMWidgetView,LinkModel,MultipleSelectionModel,NaiveDatetimeModel,PasswordModel,PasswordView,PlayModel,PlayView,ProgressStyleModel,ProgressView,RadioButtonsModel,RadioButtonsView,SelectModel,SelectMultipleModel,SelectMultipleView,SelectView,SelectionContainerModel,SelectionModel,SelectionRangeSliderModel,SelectionRangeSliderView,SelectionSliderModel,SelectionSliderView,SelectionView,SliderStyleModel,StackModel,StackView,StringModel,StringView,TabModel,TabView,TagsInputModel,TagsInputView,TextModel,TextStyleModel,TextView,TextareaModel,TextareaView,TimeModel,TimeView,ToggleButtonModel,ToggleButtonStyleModel,ToggleButtonView,ToggleButtonsModel,ToggleButtonsStyleModel,get ToggleButtonsView(){return ToggleButtonsView},VBoxModel,VBoxView,ValidModel,ValidView,VideoModel,VideoView,datetime_serializers,deserialize_date,deserialize_datetime,deserialize_naive,deserialize_time,escape_html,naive_serializers,reject,resolvePromisesDict,serialize_date,serialize_datetime,serialize_naive,serialize_time,time_serializers,typeset,uuid,version:version$1},Symbol.toStringTag,{value:"Module"}));let random=t=>crypto.getRandomValues(new Uint8Array(t)),customRandom=(t,e,n)=>{let i=(2<<Math.log(t.length-1)/Math.LN2)-1,o=-~(1.6*i*e/t.length);return(u=e)=>{let l="";for(;;){let c=n(o),f=o|0;for(;f--;)if(l+=t[c[f]&i]||"",l.length===u)return l}}},customAlphabet=(t,e=21)=>customRandom(t,e,random);const nanoid=customAlphabet("1234567890abcdef",8);function shortId(){return nanoid()}function ensureString(t){return Array.isArray(t)?t.join(`
`):t}function isMimeBundle({output_type:t}){return t==="display_data"||t==="execute_result"}function placeholder(t){return`
<div class="thebe-ipywidgets-placeholder">
  <div class="thebe-ipywidgets-placeholder-image"></div>
  <div class="thebe-ipywidgets-placeholder-message"><code>ipywidgets</code> - a Jupyter kernel connection is required to fully display this output.</div>
  ${t&&`<pre>${t}</pre>`}
</div>
`}function stripWidgets(t,e=!0,n=placeholder){return t.map(i=>{if(!isMimeBundle(i))return i;const o=i.data,u=WIDGET_MIMETYPE,l=o[u],c=__rest(o,[u+""]);if(!l)return i;let f=i.data;return e&&(f=Object.assign({},c)),n&&!("text/html"in f)&&(f["text/html"]=n(ensureString(f["text/plain"]))),Object.assign(Object.assign({},i),{data:f})})}const REQUIREJS_CDN_URL="https://cdn.jsdelivr.net/npm/",REQUIREJS_URL="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js";function fetchAndLoadInFrame(t){return __awaiter$2(this,void 0,void 0,function*(){if(typeof document>"u")throw new Error("Cannot load requirejs outside of the browser");const e=yield fetch(REQUIREJS_URL);if(!e.ok)throw new Error(`Could not fetch requirejs ${e.status} ${e.statusText}`);const n=yield e.text();return new Promise((i,o)=>{const u=document.createElement("iframe");u.style.display="none",u.onload=()=>{const l=u.contentWindow;if(!l)return o("Cannot load in isolated: no contentWindow, origin error?");l.window.eval(n);const c={require:l.window.require,define:l.window.define};if(!c.require||!c.define)return o("Require.js loading did not result in `require` and `define` objects attachment to window");c.require.config({baseUrl:t}),i(c),u.onload=null},document.body.appendChild(u)})})}class RequireJsLoader{constructor(e){this.baseUrl=e??REQUIREJS_CDN_URL,this.requested=!1,this.resolveFn=()=>({}),this.ready=new Promise(n=>this.resolveFn=n)}load(e){return __awaiter$2(this,void 0,void 0,function*(){return this.requested||(this.requested=!0,this.requirejs=yield fetchAndLoadInFrame(this.baseUrl),yield e?.(this.requirejs.require,this.requirejs.define),this.resolveFn(this.requirejs)),this.ready})}}const cdn="https://cdn.jsdelivr.net/npm/";function requirePromise(t,e){return new Promise((n,i)=>t.require([`${e}`],n,i))}function moduleNameToCDNUrl(t,e){let n=t,i="index",o=t.indexOf("/");return o!==-1&&t[0]==="@"&&(o=t.indexOf("/",o+1)),o!==-1&&(i=t.substr(o+1),n=t.substr(0,o)),`${cdn}${n}@${e}/dist/${i}`}function requireFromCDN(t,e,n){return __awaiter$2(this,void 0,void 0,function*(){const i=moduleNameToCDNUrl(e,n),o={paths:{}};o.paths[e]=i,t.require.config(o);try{return yield requirePromise(t,e)}catch(u){throw console.error("thebe:loader requirejs error on cdn require",u),u}})}function requireLoader(t,e,n,i=!1){return __awaiter$2(this,void 0,void 0,function*(){return console.debug(`thebe:loader loading ${e}@${n}`),i?requireFromCDN(t,e,n):t.require.defined(e)?requirePromise(t,e):(console.debug(`thebe:loader falling back to ${cdn} for ${e}@${n}`),requireFromCDN(t,e,n))})}const WIDGET_MIMETYPE="application/vnd.jupyter.widget-view+json";class ThebeManager extends KernelWidgetManager{constructor(e,n){super(e,n),this.id=shortId(),this.addWidgetFactories(),this._registerWidgets(),this._loader=new RequireJsLoader}addWidgetFactories(){this.rendermime.addFactory({safe:!1,mimeTypes:[WIDGET_MIMETYPE],createRenderer:e=>new WidgetRenderer(e,this)},1)}removeWidgetFactories(){this.rendermime.removeMimeType(WIDGET_MIMETYPE)}build_widgets(){return __awaiter$2(this,void 0,void 0,function*(){throw new Error("ThebeManager:build_widgets not implmented")})}display_view(e,n,i){return __awaiter$2(this,void 0,void 0,function*(){return i.el&&Widget$5.attach(n.luminoWidget,i.el),n.el&&(n.el.setAttribute("data-thebe-jupyter-widget",""),n.el.addEventListener("jupyterWidgetResize",()=>{MessageLoop$6.postMessage(n.luminoWidget,Widget$5.ResizeMessage.UnknownSize)})),n.luminoWidget})}loadClass(e,n,i){const o=Object.create(null,{loadClass:{get:()=>super.loadClass}});return __awaiter$2(this,void 0,void 0,function*(){this._loader.requested||(console.debug(`thebe:manager:loadClass initial requirejs load ${this.id}`),this._loader.load((l,c)=>{c("@jupyter-widgets/base",base$2),c("@jupyter-widgets/controls",controls),c("@jupyter-widgets/output",output)})),console.debug(`thebe:manager:loadClass ${n}@${i}`);const u=yield this._loader.ready;if(n==="@jupyter-widgets/base"||n==="@jupyter-widgets/controls"||n==="@jupyter-widgets/output")return o.loadClass.call(this,e,n,i);{let l;try{l=yield requireLoader(u,n,i)}catch(c){throw console.error("thebe:manager:loadClass loader error",c),c}if(l[e])return l[e];throw console.error(`thebe:manager:loadClass ${e} not found in module ${n}@${i}`),new Error(`Class ${e} not found in module ${n}@${i}`)}})}_registerWidgets(){this.register({name:"@jupyter-widgets/base",version:JUPYTER_WIDGETS_VERSION,exports:base$2}),this.register({name:"@jupyter-widgets/controls",version:JUPYTER_CONTROLS_VERSION,exports:controls}),this.register({name:"@jupyter-widgets/output",version:OUTPUT_WIDGET_VERSION,exports:output})}}class EventEmitter{constructor(e,n,i,o){this._id=e,this._config=n,this._subject=i,this._object=o}triggerStatus({status:e,message:n}){console.debug(`${e} ${n}`),this._config.events.trigger(ThebeEventType.status,{subject:this._subject,id:this._id,object:this._object,status:e,message:n})}triggerError({status:e,message:n}){console.debug(`Error [${this._subject}][${this._id}] ${n}`),this._config.events.trigger(ThebeEventType.error,{subject:this._subject,id:this._id,object:this._object,status:e,message:n})}}class ThebeSession{constructor(e,n,i){var o;if(this.server=e,this.connection=n,this.events=new EventEmitter(this.connection.id,e.config,EventSubject.session,this),this.connection.kernel==null)throw Error("ThebeSession - kernel is null");this.manager=new ThebeManager(this.connection.kernel,i),this.connection.statusChanged.connect((u,l)=>{let c;switch(l){case"starting":case"restarting":case"autorestarting":c=SessionStatusEvent.starting;break;case"idle":case"busy":c=SessionStatusEvent.ready;break;default:c=SessionStatusEvent.shutdown;break}this.events.triggerStatus({status:c,message:`kernel ${this.connection.name} status changed to ${c}[${l}]`}),l==="dead"&&(this.events.triggerError({status:ErrorStatusEvent.session,message:`kernel ${this.connection.name} is dead`}),this.dispose())}),this.connection.disposed.connect(()=>{this.events.triggerStatus({status:SessionStatusEvent.shutdown,message:`kernel ${this.connection.name} disposed`})}),this.events.triggerStatus({status:SessionStatusEvent.ready,message:`ThebeSession created, kernel '${(o=this.connection.kernel)===null||o===void 0?void 0:o.name}' available`})}get id(){return this.connection.id}get kernel(){var e;return(e=this.connection)===null||e===void 0?void 0:e.kernel}get path(){return this.connection.path}get name(){return this.connection.name}restart(){var e,n;return __awaiter$2(this,void 0,void 0,function*(){console.debug(`requesting restart for kernel ${this.id}`);const i=(e=this.connection.kernel)===null||e===void 0?void 0:e.restart();this.events.triggerStatus({status:SessionStatusEvent.starting,message:"Kernel restart requested"}),yield i,this.events.triggerStatus({status:SessionStatusEvent.ready,message:`session restarted, kernel '${(n=this.connection.kernel)===null||n===void 0?void 0:n.name}' available`})})}shutdown(){return __awaiter$2(this,void 0,void 0,function*(){this.connection.isDisposed||(yield this.connection.shutdown(),this.events.triggerStatus({status:SessionStatusEvent.shutdown,message:`session ${this.name}`}),this.dispose())})}dispose(){this.connection.isDisposed||this.connection.dispose()}}function responseToJson(t){return __awaiter$2(this,void 0,void 0,function*(){if(!t.ok)throw Error(`${t.status} - ${t.statusText}`);return yield t.json()})}function errorAsString(t){return typeof t=="string"?t:t.message?t.message:t.status&&t.statusText?`${t.status} - ${t.statusText}`:JSON.stringify(t)}class ThebeServer{constructor(e){this.id=shortId(),this.config=e,this.events=new EventEmitter(this.id,e,EventSubject.server,this),this.ready=new Promise((n,i)=>{this.resolveReadyFn=n,this.rejectReadyFn=i}),this._isDisposed=!1}get isBinder(){return!!this.binderUrls}get isReady(){var e,n;return(n=(e=this.sessionManager)===null||e===void 0?void 0:e.isReady)!==null&&n!==void 0?n:!1}get isDisposed(){return this._isDisposed}get settings(){var e;return(e=this.sessionManager)===null||e===void 0?void 0:e.serverSettings}shutdownSession(e){var n;return __awaiter$2(this,void 0,void 0,function*(){return(n=this.sessionManager)===null||n===void 0?void 0:n.shutdown(e)})}shutdownAllSessions(){var e;return __awaiter$2(this,void 0,void 0,function*(){return(e=this.sessionManager)===null||e===void 0?void 0:e.shutdownAll()})}check(){var e,n;return __awaiter$2(this,void 0,void 0,function*(){return(yield ThebeServer.status((n=(e=this.sessionManager)===null||e===void 0?void 0:e.serverSettings)!==null&&n!==void 0?n:this.config.serverSettings)).ok})}dispose(){var e,n,i,o;this._isDisposed||(!((e=this.serviceManager)===null||e===void 0)&&e.isDisposed||(n=this.serviceManager)===null||n===void 0||n.dispose(),!((i=this.sessionManager)===null||i===void 0)&&i.isDisposed||(o=this.sessionManager)===null||o===void 0||o.dispose(),this._isDisposed=!0)}startNewSession(e,n){var i,o,u;return __awaiter$2(this,void 0,void 0,function*(){if(yield this.ready,!this.sessionManager)throw Error("Requesting session from a server, with no SessionManager available");yield this.sessionManager.ready;let l=(i=n?.path)!==null&&i!==void 0?i:this.config.kernels.path,c="thebe.ipynb";const f=l.match(/\/*([a-zA-Z0-9-]+.ipynb)$/);f&&(c=f[1]);const d=(o=n?.kernelName)!==null&&o!==void 0?o:this.config.kernels.kernelName;console.debug("thebe:api:startNewSession server",this),console.debug("thebe:api:startNewSession",{name:c,path:l,kernelName:d}),this.serviceManager&&(l=l.slice(1).replace(/\//g,"-"));const m=yield(u=this.sessionManager)===null||u===void 0?void 0:u.startNew({name:c,path:l,type:"notebook",kernel:{name:d}});return new ThebeSession(this,m,e)})}listRunningSessions(){var e;return __awaiter$2(this,void 0,void 0,function*(){yield this.ready;const n=(e=this.sessionManager)===null||e===void 0?void 0:e.running(),i=[];let o=n?.next();for(;o&&!o.done;)i.push(o.value),o=n?.next();return i})}refreshRunningSessions(){var e;return __awaiter$2(this,void 0,void 0,function*(){return yield this.ready,yield(e=this.sessionManager)===null||e===void 0?void 0:e.refreshRunning(),this.listRunningSessions()})}connectToExistingSession(e,n){var i;return __awaiter$2(this,void 0,void 0,function*(){if(yield this.ready,!this.sessionManager)throw Error("Requesting session from a server, with no SessionManager available");yield this.sessionManager.ready;const o=(i=this.sessionManager)===null||i===void 0?void 0:i.connectTo({model:e});return new ThebeSession(this,o,n)})}clearSavedBinderSessions(){return __awaiter$2(this,void 0,void 0,function*(){const e=this.makeBinderUrls();window.localStorage.removeItem(e.storageKey)})}connectToJupyterServer(){var e;return __awaiter$2(this,void 0,void 0,function*(){console.debug("thebe:api:connectToJupyterServer:serverSettings:",this.config.serverSettings);const n=libExports$6.ServerConnection.makeSettings(this.config.serverSettings);try{this.events.triggerStatus({status:ServerStatusEvent.launching,message:"Checking server url"}),yield ThebeServer.status(n),this.events.triggerStatus({status:ServerStatusEvent.launching,message:"Server reachable"})}catch(o){const u=`Server not reachable (${n.baseUrl}) - ${o}`;this.events.triggerError({status:ErrorStatusEvent.error,message:u}),(e=this.rejectReadyFn)===null||e===void 0||e.call(this,u);return}const i=new libExports$6.KernelManager({serverSettings:n});return this.events.triggerStatus({status:ServerStatusEvent.launching,message:"Created KernelManager"}),this.sessionManager=new libExports$6.SessionManager({kernelManager:i,serverSettings:n}),this.sessionManager.connectionFailure.connect((o,u)=>{this.events.triggerError({status:ErrorStatusEvent.server,message:`connection failure: ${u}`})}),this.sessionManager.runningChanged.connect((o,u)=>{this.events.triggerStatus({status:ServerStatusEvent.ready,message:`${u.length} running sessions changed: ${u.map(l=>l.name).join(",")}`})}),this.events.triggerStatus({status:ServerStatusEvent.ready,message:"Created SessionManager"}),this.sessionManager.ready.then(()=>{var o;this.userServerUrl=`${n.baseUrl}?token=${n.token}`,this.events.triggerStatus({status:ServerStatusEvent.ready,message:"Server connection ready"}),(o=this.resolveReadyFn)===null||o===void 0||o.call(this,this)},o=>{var u;return(u=this.rejectReadyFn)===null||u===void 0?void 0:u.call(this,errorAsString(o))})})}connectToJupyterLiteServer(e){var n;return __awaiter$2(this,void 0,void 0,function*(){if(this.events.triggerStatus({status:ServerStatusEvent.launching,message:"Connecting to JupyterLite"}),!window.thebeLite)throw new Error("thebe-lite is not available at window.thebeLite - load this onto your page before loading thebe or thebe-core.");return this.serviceManager=yield window.thebeLite.startJupyterLiteServer(e),this.events.triggerStatus({status:ServerStatusEvent.launching,message:"Started JupyterLite server"}),console.debug("thebe:api:connectToJupyterLiteServer:serverSettings:",this.serviceManager.serverSettings),this.sessionManager=this.serviceManager.sessions,this.events.triggerStatus({status:ServerStatusEvent.launching,message:"Received SessionMananger from JupyterLite"}),(n=this.sessionManager)===null||n===void 0?void 0:n.ready.then(()=>{var i;this.userServerUrl="/",this.events.triggerStatus({status:ServerStatusEvent.ready,message:"Server connection established"}),(i=this.resolveReadyFn)===null||i===void 0||i.call(this,this)},i=>{var o;return(o=this.rejectReadyFn)===null||o===void 0?void 0:o.call(this,errorAsString(i))})})}makeBinderUrls(){var e;return makeBinderUrls(this.config,(e=this.repoProviders)!==null&&e!==void 0?e:WELL_KNOWN_REPO_PROVIDERS)}checkForSavedBinderSession(){var e;return __awaiter$2(this,void 0,void 0,function*(){try{const{storageKey:n}=makeBinderUrls(this.config,(e=this.repoProviders)!==null&&e!==void 0?e:WELL_KNOWN_REPO_PROVIDERS);return getExistingServer(this.config.savedSessions,n)}catch(n){return this.events.triggerError({status:ErrorStatusEvent.error,message:`${n} - Failed to check for saved session.`}),null}})}connectToServerViaBinder(e){return __awaiter$2(this,void 0,void 0,function*(){this.events.triggerStatus({status:ServerStatusEvent.launching,message:`Connecting to binderhub at ${this.config.binder.binderUrl}`}),this.repoProviders=[...WELL_KNOWN_REPO_PROVIDERS,...e??[]];try{this.binderUrls=makeBinderUrls(this.config,this.repoProviders)}catch(u){this.events.triggerError({status:ErrorStatusEvent.error,message:`${u} - Failed to connect to binderhub at ${this.config.binder.binderUrl}`});return}const n=this.binderUrls;if(this.events.triggerStatus({status:ServerStatusEvent.launching,message:`Binder build url is ${n.build}`}),this.config.savedSessions.enabled){console.debug("thebe:server:connectToServerViaBinder Checking for saved session...");const u=yield this.checkForSavedBinderSession();if(u){const l=libExports$6.ServerConnection.makeSettings(u),c=new libExports$6.KernelManager({serverSettings:l});return this.events.triggerStatus({status:ServerStatusEvent.launching,message:"Created KernelManager"}),this.sessionManager=new libExports$6.SessionManager({kernelManager:c,serverSettings:l}),this.events.triggerStatus({status:ServerStatusEvent.launching,message:"Created KernelManager"}),this.sessionManager.ready.then(()=>{var f;this.userServerUrl=`${l.baseUrl}?token=${l.token}`,this.events.triggerStatus({status:ServerStatusEvent.ready,message:"Re-connected to binder server"}),(f=this.resolveReadyFn)===null||f===void 0||f.call(this,this)},f=>{var d;return(d=this.rejectReadyFn)===null||d===void 0?void 0:d.call(this,errorAsString(f))})}}const i={status:ServerStatusEvent.launching},o=new EventSource(n.build);this.events.triggerStatus({status:i.status,message:`Opened connection to binder: ${n.build}`}),o.onerror=u=>{var l;console.error(`Lost connection to binder: ${n.build}`,u),o?.close(),i.status=ErrorStatusEvent.error;const c=u?.data,f=c?c.phase:"unknown",d=`Lost connection to binder: ${n.build}
phase: ${f} - ${c?c.message:"no message"}`;this.events.triggerError({status:ErrorStatusEvent.error,message:d}),(l=this.rejectReadyFn)===null||l===void 0||l.call(this,d)},o.onmessage=u=>__awaiter$2(this,void 0,void 0,function*(){var l,c,f,d;const m=JSON.parse(u.data),g=(c=(l=m.phase)===null||l===void 0?void 0:l.toLowerCase())!==null&&c!==void 0?c:"";switch(g){case"failed":o?.close(),i.status=ErrorStatusEvent.error,this.events.triggerError({status:ErrorStatusEvent.error,message:`Binder: failed to build - ${n.build} - ${m.message}`}),(f=this.rejectReadyFn)===null||f===void 0||f.call(this,m.message);break;case"ready":{o?.close();const v={baseUrl:m.url,wsUrl:"ws"+m.url.slice(4),token:m.token,appendToken:!0},y=libExports$6.ServerConnection.makeSettings(v),w=new libExports$6.KernelManager({serverSettings:y});this.sessionManager=new libExports$6.SessionManager({kernelManager:w,serverSettings:y}),this.config.savedSessions.enabled&&(saveServerInfo(n.storageKey,this.id,y),console.debug(`thebe:server:connectToServerViaBinder Saved session for ${this.id} at ${n.build}`)),yield this.sessionManager.ready,this.userServerUrl=`${m.url}?token=${m.token}`,i.status=ServerStatusEvent.ready,this.events.triggerStatus({status:i.status,message:`Binder server is ready: ${m.message}`}),(d=this.resolveReadyFn)===null||d===void 0||d.call(this,this)}break;default:this.events.triggerStatus({status:i.status,message:`Binder is: ${g} - ${m.message}`})}})})}getFetchUrl(e){var n,i;if(!this.sessionManager)throw new Error("Must connect to a server before requesting KernelSpecs");if(!(!((n=this.sessionManager)===null||n===void 0)&&n.serverSettings))throw new Error("No server settings available in session manager");const o=(i=this.sessionManager)===null||i===void 0?void 0:i.serverSettings,u=new URL(o.baseUrl),l=new URL(`${u.pathname}${e}`.replace("//","/"),u.origin);return l.searchParams.append("token",o.token),l}static status(e){return libExports$6.ServerConnection.makeRequest(`${e.baseUrl}api/status`,{},libExports$6.ServerConnection.makeSettings(e))}getKernelSpecs(){var e;return __awaiter$2(this,void 0,void 0,function*(){if(!this.sessionManager)throw new Error("Must connect to a server before requesting KernelSpecs");return libExports$6.KernelSpecAPI.getSpecs(libExports$6.ServerConnection.makeSettings((e=this.sessionManager)===null||e===void 0?void 0:e.serverSettings))})}getContents(e){return __awaiter$2(this,void 0,void 0,function*(){const n=this.getFetchUrl(`/api/contents/${e.path}`);return e.type&&n.searchParams.append("type",e.type),e.format&&n.searchParams.append("format",e.format),n.searchParams.append("content",e.returnContent?"1":"0"),responseToJson(yield fetch(n))})}duplicateFile(e){return __awaiter$2(this,void 0,void 0,function*(){const n=this.getFetchUrl(`/api/contents/${e.path}`),{copy_from:i,ext:o,type:u}=e;return responseToJson(yield fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({copy_from:i,ext:o,type:u})}))})}createDirectory(e){return __awaiter$2(this,void 0,void 0,function*(){const n=this.getFetchUrl(`/api/contents/${e.path}`);return responseToJson(yield fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"directory"})}))})}renameContents(e){return __awaiter$2(this,void 0,void 0,function*(){const{path:n,newPath:i}=e,o=this.getFetchUrl(`/api/contents/${n}`);return responseToJson(yield fetch(o,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:i})}))})}uploadFile(e){return __awaiter$2(this,void 0,void 0,function*(){const{path:n,content:i,format:o,type:u}=e,l=this.getFetchUrl(`/api/contents/${n}`);return console.debug("thebe:api:server:uploadFile",l),responseToJson(yield fetch(l,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:n,content:i,format:o??"json",type:u??"notebook"})}))})}}var JSONExt;(function(t){t.emptyObject=Object.freeze({}),t.emptyArray=Object.freeze([]);function e(m){return m===null||typeof m=="boolean"||typeof m=="number"||typeof m=="string"}t.isPrimitive=e;function n(m){return Array.isArray(m)}t.isArray=n;function i(m){return!e(m)&&!n(m)}t.isObject=i;function o(m,g){if(m===g)return!0;if(e(m)||e(g))return!1;var v=n(m),y=n(g);return v!==y?!1:v&&y?l(m,g):c(m,g)}t.deepEqual=o;function u(m){return e(m)?m:n(m)?f(m):d(m)}t.deepCopy=u;function l(m,g){if(m===g)return!0;if(m.length!==g.length)return!1;for(var v=0,y=m.length;v<y;++v)if(!o(m[v],g[v]))return!1;return!0}function c(m,g){if(m===g)return!0;for(var v in m)if(m[v]!==void 0&&!(v in g))return!1;for(var v in g)if(g[v]!==void 0&&!(v in m))return!1;for(var v in m){var y=m[v],w=g[v];if(!(y===void 0&&w===void 0)&&(y===void 0||w===void 0||!o(y,w)))return!1}return!0}function f(m){for(var g=new Array(m.length),v=0,y=m.length;v<y;++v)g[v]=u(m[v]);return g}function d(m){var g={};for(var v in m){var y=m[v];y!==void 0&&(g[v]=u(y))}return g}})(JSONExt||(JSONExt={}));var PromiseDelegate=(function(){function t(){var e=this;this.promise=new Promise(function(n,i){e._resolve=n,e._reject=i})}return t.prototype.resolve=function(e){var n=this._resolve;n(e)},t.prototype.reject=function(e){var n=this._reject;n(e)},t})();function fallbackRandomValues(t){for(var e=0,n=0,i=t.length;n<i;++n)n%4===0&&(e=Math.random()*4294967295>>>0),t[n]=e&255,e>>>=8}var Random;(function(t){t.getRandomValues=(function(){var e=typeof window<"u"&&(window.crypto||window.msCrypto)||null;return e&&typeof e.getRandomValues=="function"?function(i){return e.getRandomValues(i)}:fallbackRandomValues})()})(Random||(Random={}));function uuid4Factory(t){for(var e=new Uint8Array(16),n=new Array(256),i=0;i<16;++i)n[i]="0"+i.toString(16);for(var i=16;i<256;++i)n[i]=i.toString(16);return function(){return t(e),e[6]=64|e[6]&15,e[8]=128|e[8]&63,n[e[0]]+n[e[1]]+n[e[2]]+n[e[3]]+"-"+n[e[4]]+n[e[5]]+"-"+n[e[6]]+n[e[7]]+"-"+n[e[8]]+n[e[9]]+"-"+n[e[10]]+n[e[11]]+n[e[12]]+n[e[13]]+n[e[14]]+n[e[15]]}}var UUID;(function(t){t.uuid4=uuid4Factory(Random.getRandomValues)})(UUID||(UUID={}));class MathJaxTypesetter{constructor(e){this._initPromise=new PromiseDelegate,this._initialized=!1,this._url=e.url,this._config=e.config}typeset(e){this._initialized||this._init(),this._initPromise.promise.then(()=>{MathJax.Hub.Queue(["Typeset",MathJax.Hub,e]);try{MathJax.Hub.Queue(["Require",MathJax.Ajax,"[MathJax]/extensions/TeX/AMSmath.js"],()=>{MathJax.InputJax.TeX.resetEquationNumbers()})}catch(n){console.error("Error queueing resetEquationNumbers:",n)}})}_init(){const e=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.src=`${this._url}?config=${this._config}&amp;delayStartupUntil=configured`,n.charset="utf-8",e.appendChild(n),n.addEventListener("load",()=>{this._onLoad()}),this._initialized=!0}_onLoad(){MathJax.Hub.Config({tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0},displayAlign:"center",CommonHTML:{linebreaks:{automatic:!0}},"HTML-CSS":{availableFonts:[],imageFont:null,preferredFont:null,webFont:"STIX-Web",styles:{".MathJax_Display":{margin:0}},linebreaks:{automatic:!0}},skipStartupTypeset:!0,messageStyle:"none"}),MathJax.Hub.Register.StartupHook("End Config",()=>{var e,n,i,o,u,l;(i=(n=(e=MathJax.Hub)===null||e===void 0?void 0:e.config)===null||n===void 0?void 0:n.MathEvents)===null||i===void 0||delete i.styles[".MathJax_Hover_Arrow:hover span"],(l=(u=(o=MathJax.Hub)===null||o===void 0?void 0:o.config)===null||u===void 0?void 0:u.MathMenu)===null||l===void 0||delete l.styles[".MathJax_MenuClose:hover span"]}),MathJax.Hub.Configured(),this._initPromise.resolve(void 0)}}const TEXT_JAVASCRIPT_MIMETYPE="text/javascript",APPLICATION_JAVASCRIPT_MIMETYPE="application/javascript";function evalInContext(code,element,document,window){return eval(code)}class ExperimentalRenderedJavascript extends RenderedJavaScript{render(e){const n=this.translator.load("jupyterlab"),i=()=>{try{const o=e.data[this.mimeType];return o&&evalInContext(o,this.node,document,window),Promise.resolve()}catch(o){return Promise.reject(o)}};if(!e.trusted){const o=document.createElement("pre");o.textContent=n.__("Are you sure that you want to run arbitrary Javascript within your JupyterLab session?");const u=document.createElement("button");return u.textContent=n.__("Run"),this.node.appendChild(o),this.node.appendChild(u),u.onclick=l=>{this.node.textContent="",i()},Promise.resolve()}return i()}}const rendererFactory$1={safe:!1,mimeTypes:[TEXT_JAVASCRIPT_MIMETYPE,APPLICATION_JAVASCRIPT_MIMETYPE],createRenderer:t=>new ExperimentalRenderedJavascript(t)};class LinkedList{constructor(){this._first=null,this._last=null,this._size=0}get isEmpty(){return this._size===0}get size(){return this._size}get length(){return this._size}get first(){return this._first?this._first.value:void 0}get last(){return this._last?this._last.value:void 0}get firstNode(){return this._first}get lastNode(){return this._last}*[Symbol.iterator](){let e=this._first;for(;e;)yield e.value,e=e.next}*retro(){let e=this._last;for(;e;)yield e.value,e=e.prev}*nodes(){let e=this._first;for(;e;)yield e,e=e.next}*retroNodes(){let e=this._last;for(;e;)yield e,e=e.prev}assign(e){this.clear();for(const n of e)this.addLast(n)}push(e){this.addLast(e)}pop(){return this.removeLast()}shift(e){this.addFirst(e)}unshift(){return this.removeFirst()}addFirst(e){let n=new Private$l.LinkedListNode(this,e);return this._first?(n.next=this._first,this._first.prev=n,this._first=n):(this._first=n,this._last=n),this._size++,n}addLast(e){let n=new Private$l.LinkedListNode(this,e);return this._last?(n.prev=this._last,this._last.next=n,this._last=n):(this._first=n,this._last=n),this._size++,n}insertBefore(e,n){if(!n||n===this._first)return this.addFirst(e);if(!(n instanceof Private$l.LinkedListNode)||n.list!==this)throw new Error("Reference node is not owned by the list.");let i=new Private$l.LinkedListNode(this,e),o=n,u=o.prev;return i.next=o,i.prev=u,o.prev=i,u.next=i,this._size++,i}insertAfter(e,n){if(!n||n===this._last)return this.addLast(e);if(!(n instanceof Private$l.LinkedListNode)||n.list!==this)throw new Error("Reference node is not owned by the list.");let i=new Private$l.LinkedListNode(this,e),o=n,u=o.next;return i.next=u,i.prev=o,o.next=i,u.prev=i,this._size++,i}removeFirst(){let e=this._first;if(e)return e===this._last?(this._first=null,this._last=null):(this._first=e.next,this._first.prev=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeLast(){let e=this._last;if(e)return e===this._first?(this._first=null,this._last=null):(this._last=e.prev,this._last.next=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value}removeNode(e){if(!(e instanceof Private$l.LinkedListNode)||e.list!==this)throw new Error("Node is not owned by the list.");let n=e;n===this._first&&n===this._last?(this._first=null,this._last=null):n===this._first?(this._first=n.next,this._first.prev=null):n===this._last?(this._last=n.prev,this._last.next=null):(n.next.prev=n.prev,n.prev.next=n.next),n.list=null,n.next=null,n.prev=null,this._size--}clear(){let e=this._first;for(;e;){let n=e.next;e.list=null,e.prev=null,e.next=null,e=n}this._first=null,this._last=null,this._size=0}}(function(t){function e(n){let i=new t;return i.assign(n),i}t.from=e})(LinkedList||(LinkedList={}));var Private$l;(function(t){class e{constructor(i,o){this.list=null,this.next=null,this.prev=null,this.list=i,this.value=o}}t.LinkedListNode=e})(Private$l||(Private$l={}));class Message{constructor(e){this.type=e}get isConflatable(){return!1}conflate(e){return!1}}class ConflatableMessage extends Message{get isConflatable(){return!0}conflate(e){return!0}}var MessageLoop;(function(t){let e=null;const n=(G=>F=>{let K=!1;return G.then(()=>!K&&F()),()=>{K=!0}})(Promise.resolve());function i(G,F){let K=v.get(G);if(!K||K.length===0){A(G,F);return}every$2(retro$1(K),ie=>ie?P(ie,G,F):!0)&&A(G,F)}t.sendMessage=i;function o(G,F){if(!F.isConflatable){D(G,F);return}some$2(g,Q=>Q.handler!==G||!Q.msg||Q.msg.type!==F.type||!Q.msg.isConflatable?!1:Q.msg.conflate(F))||D(G,F)}t.postMessage=o;function u(G,F){let K=v.get(G);K&&K.indexOf(F)!==-1||(K?K.push(F):v.set(G,[F]))}t.installMessageHook=u;function l(G,F){let K=v.get(G);if(!K)return;let Q=K.indexOf(F);Q!==-1&&(K[Q]=null,j(K))}t.removeMessageHook=l;function c(G){let F=v.get(G);F&&F.length>0&&(ArrayExt$4.fill(F,null),j(F));for(const K of g)K.handler===G&&(K.handler=null,K.msg=null)}t.clearData=c;function f(){T||e===null||(e(),e=null,T=!0,k(),T=!1)}t.flush=f;function d(){return w}t.getExceptionHandler=d;function m(G){let F=w;return w=G,F}t.setExceptionHandler=m;const g=new LinkedList,v=new WeakMap,y=new Set;let w=G=>{console.error(G)},T=!1;function P(G,F,K){let Q=!0;try{typeof G=="function"?Q=G(F,K):Q=G.messageHook(F,K)}catch(ie){w(ie)}return Q}function A(G,F){try{G.processMessage(F)}catch(K){w(K)}}function D(G,F){g.addLast({handler:G,msg:F}),e===null&&(e=n(k))}function k(){if(e=null,g.isEmpty)return;let G={handler:null,msg:null};for(g.addLast(G);;){let F=g.removeFirst();if(F===G)return;F.handler&&F.msg&&i(F.handler,F.msg)}}function j(G){y.size===0&&n(B),y.add(G)}function B(){y.forEach(Z),y.clear()}function Z(G){ArrayExt$4.removeAllWhere(G,R)}function R(G){return G===null}})(MessageLoop||(MessageLoop={}));class Drag{constructor(e){this._onScrollFrame=()=>{if(!this._scrollTarget)return;let{element:n,edge:i,distance:o}=this._scrollTarget,u=Private$k.SCROLL_EDGE_SIZE-o,l=Math.pow(u/Private$k.SCROLL_EDGE_SIZE,2),c=Math.max(1,Math.round(l*Private$k.SCROLL_EDGE_SIZE));switch(i){case"top":n.scrollTop-=c;break;case"left":n.scrollLeft-=c;break;case"right":n.scrollLeft+=c;break;case"bottom":n.scrollTop+=c;break}requestAnimationFrame(this._onScrollFrame)},this._disposed=!1,this._dropAction="none",this._override=null,this._currentTarget=null,this._currentElement=null,this._promise=null,this._scrollTarget=null,this._resolve=null,this.document=e.document||document,this.mimeData=e.mimeData,this.dragImage=e.dragImage||null,this.proposedAction=e.proposedAction||"copy",this.supportedActions=e.supportedActions||"all",this.source=e.source||null}dispose(){if(!this._disposed){if(this._disposed=!0,this._currentTarget){let e=new PointerEvent("pointerup",{bubbles:!0,cancelable:!0,clientX:-1,clientY:-1});Private$k.dispatchDragLeave(this,this._currentTarget,null,e)}this._finalize("none")}}get isDisposed(){return this._disposed}start(e,n){if(this._disposed)return Promise.resolve("none");if(this._promise)return this._promise;this._addListeners(),this._attachDragImage(e,n),this._promise=new Promise(o=>{this._resolve=o});let i=new PointerEvent("pointermove",{bubbles:!0,cancelable:!0,clientX:e,clientY:n});return document.dispatchEvent(i),this._promise}handleEvent(e){switch(e.type){case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;default:e.preventDefault(),e.stopPropagation();break}}moveDragImage(e,n){if(!this.dragImage)return;let i=this.dragImage.style;i.transform=`translate(${e}px, ${n}px)`}_evtPointerMove(e){e.preventDefault(),e.stopPropagation(),this._updateCurrentTarget(e),this._updateDragScroll(e),this.moveDragImage(e.clientX,e.clientY)}_evtPointerUp(e){if(e.preventDefault(),e.stopPropagation(),e.button!==0)return;if(this._updateCurrentTarget(e),!this._currentTarget){this._finalize("none");return}if(this._dropAction==="none"){Private$k.dispatchDragLeave(this,this._currentTarget,null,e),this._finalize("none");return}let n=Private$k.dispatchDrop(this,this._currentTarget,e);this._finalize(n)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&this.dispose()}_addListeners(){document.addEventListener("pointerdown",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("pointerup",this,!0),document.addEventListener("pointerenter",this,!0),document.addEventListener("pointerleave",this,!0),document.addEventListener("pointerover",this,!0),document.addEventListener("pointerout",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("keyup",this,!0),document.addEventListener("keypress",this,!0),document.addEventListener("contextmenu",this,!0)}_removeListeners(){document.removeEventListener("pointerdown",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointerenter",this,!0),document.removeEventListener("pointerleave",this,!0),document.removeEventListener("pointerover",this,!0),document.removeEventListener("pointerout",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("keyup",this,!0),document.removeEventListener("keypress",this,!0),document.removeEventListener("contextmenu",this,!0)}_updateDragScroll(e){let n=Private$k.findScrollTarget(e);!this._scrollTarget&&!n||(this._scrollTarget||setTimeout(this._onScrollFrame,500),this._scrollTarget=n)}_updateCurrentTarget(e){let n=this._currentTarget,i=this._currentTarget,o=this._currentElement,u=Private$k.findElementBehindBackdrop(e,this.document);this._currentElement=u,u!==o&&u!==i&&Private$k.dispatchDragExit(this,i,u,e),u!==o&&u!==i&&(i=Private$k.dispatchDragEnter(this,u,i,e)),i!==n&&(this._currentTarget=i,Private$k.dispatchDragLeave(this,n,i,e));let l=Private$k.dispatchDragOver(this,i,e);this._setDropAction(l)}_attachDragImage(e,n){if(!this.dragImage)return;this.dragImage.classList.add("lm-mod-drag-image");let i=this.dragImage.style;i.pointerEvents="none",i.position="fixed",i.transform=`translate(${e}px, ${n}px)`,(this.document instanceof Document?this.document.body:this.document.firstElementChild).appendChild(this.dragImage)}_detachDragImage(){if(!this.dragImage)return;let e=this.dragImage.parentNode;e&&e.removeChild(this.dragImage)}_setDropAction(e){if(e=Private$k.validateAction(e,this.supportedActions),!(this._override&&this._dropAction===e))switch(e){case"none":this._dropAction=e,this._override=Drag.overrideCursor("no-drop",this.document);break;case"copy":this._dropAction=e,this._override=Drag.overrideCursor("copy",this.document);break;case"link":this._dropAction=e,this._override=Drag.overrideCursor("alias",this.document);break;case"move":this._dropAction=e,this._override=Drag.overrideCursor("move",this.document);break}}_finalize(e){let n=this._resolve;this._removeListeners(),this._detachDragImage(),this._override&&(this._override.dispose(),this._override=null),this.mimeData.clear(),this._disposed=!0,this._dropAction="none",this._currentTarget=null,this._currentElement=null,this._scrollTarget=null,this._promise=null,this._resolve=null,n&&n(e)}}(function(t){class e extends DragEvent{constructor(o,u){super(u.type,{bubbles:!0,cancelable:!0,altKey:o.altKey,button:o.button,clientX:o.clientX,clientY:o.clientY,ctrlKey:o.ctrlKey,detail:0,metaKey:o.metaKey,relatedTarget:u.related,screenX:o.screenX,screenY:o.screenY,shiftKey:o.shiftKey,view:window});const{drag:l}=u;this.dropAction="none",this.mimeData=l.mimeData,this.proposedAction=l.proposedAction,this.supportedActions=l.supportedActions,this.source=l.source}}t.Event=e;function n(i,o=document){return Private$k.overrideCursor(i,o)}t.overrideCursor=n})(Drag||(Drag={}));var Private$k;(function(t){t.SCROLL_EDGE_SIZE=20;function e(j,B){return g[j]&v[B]?j:"none"}t.validateAction=e;function n(j,B=document){if(j){if(i&&j==i.event)return i.element;t.cursorBackdrop.style.zIndex="-1000";const Z=B.elementFromPoint(j.clientX,j.clientY);return t.cursorBackdrop.style.zIndex="",i={event:j,element:Z},Z}else{const Z=t.cursorBackdrop.style.transform;if(o&&Z===o.transform)return o.element;const R=t.cursorBackdrop.getBoundingClientRect();t.cursorBackdrop.style.zIndex="-1000";const G=B.elementFromPoint(R.left+R.width/2,R.top+R.height/2);return t.cursorBackdrop.style.zIndex="",o={transform:Z,element:G},G}}t.findElementBehindBackdrop=n;let i=null,o=null;function u(j){let B=j.clientX,Z=j.clientY,R=n(j);for(;R;R=R.parentElement){if(!R.hasAttribute("data-lm-dragscroll"))continue;let G=0,F=0;R===document.body&&(G=window.pageXOffset,F=window.pageYOffset);let K=R.getBoundingClientRect(),Q=K.top+F,ie=K.left+G,te=ie+K.width,oe=Q+K.height;if(B<ie||B>=te||Z<Q||Z>=oe)continue;let le=B-ie+1,de=Z-Q+1,ge=te-B,_e=oe-Z,we=Math.min(le,de,ge,_e);if(we>t.SCROLL_EDGE_SIZE)continue;let Me;switch(we){case _e:Me="bottom";break;case de:Me="top";break;case ge:Me="right";break;case le:Me="left";break;default:throw"unreachable"}let xe=R.scrollWidth-R.clientWidth,Re=R.scrollHeight-R.clientHeight,Se;switch(Me){case"top":Se=Re>0&&R.scrollTop>0;break;case"left":Se=xe>0&&R.scrollLeft>0;break;case"right":Se=xe>0&&R.scrollLeft<xe;break;case"bottom":Se=Re>0&&R.scrollTop<Re;break;default:throw"unreachable"}if(Se)return{element:R,edge:Me,distance:we}}return null}t.findScrollTarget=u;function l(j,B,Z,R){if(!B)return null;let G=new Drag.Event(R,{drag:j,related:Z,type:"lm-dragenter"});if(!B.dispatchEvent(G))return B;const K=j.document instanceof Document?j.document.body:j.document.firstElementChild;return B===K?Z:(G=new Drag.Event(R,{drag:j,related:Z,type:"lm-dragenter"}),K.dispatchEvent(G),K)}t.dispatchDragEnter=l;function c(j,B,Z,R){if(!B)return;let G=new Drag.Event(R,{drag:j,related:Z,type:"lm-dragexit"});B.dispatchEvent(G)}t.dispatchDragExit=c;function f(j,B,Z,R){if(!B)return;let G=new Drag.Event(R,{drag:j,related:Z,type:"lm-dragleave"});B.dispatchEvent(G)}t.dispatchDragLeave=f;function d(j,B,Z){if(!B)return"none";let R=new Drag.Event(Z,{drag:j,related:null,type:"lm-dragover"});return B.dispatchEvent(R)?"none":R.dropAction}t.dispatchDragOver=d;function m(j,B,Z){if(!B)return"none";let R=new Drag.Event(Z,{drag:j,related:null,type:"lm-drop"});return B.dispatchEvent(R)?"none":R.dropAction}t.dispatchDrop=m;const g={none:0,copy:1,link:2,move:4},v={none:g.none,copy:g.copy,link:g.link,move:g.move,"copy-link":g.copy|g.link,"copy-move":g.copy|g.move,"link-move":g.link|g.move,all:g.copy|g.link|g.move};function y(j,B=document){let Z=++k;const R=B instanceof Document?B.body:B.firstElementChild;return t.cursorBackdrop.isConnected||(t.cursorBackdrop.style.transform="scale(0)",R.appendChild(t.cursorBackdrop),P(),document.addEventListener("pointermove",w,{capture:!0,passive:!0}),t.cursorBackdrop.addEventListener("scroll",T,{capture:!0,passive:!0})),t.cursorBackdrop.style.cursor=j,new DisposableDelegate$2(()=>{Z===k&&t.cursorBackdrop.isConnected&&(document.removeEventListener("pointermove",w,!0),t.cursorBackdrop.removeEventListener("scroll",T,!0),R.removeChild(t.cursorBackdrop))})}t.overrideCursor=y;function w(j){t.cursorBackdrop&&(t.cursorBackdrop.style.transform=`translate(${j.clientX}px, ${j.clientY}px)`)}function T(j){if(!t.cursorBackdrop)return;let B=n();if(!B)return;const Z=B.closest("[data-lm-dragscroll]");Z&&(Z.scrollTop+=t.cursorBackdrop.scrollTop-A,Z.scrollLeft+=t.cursorBackdrop.scrollLeft-A,P())}function P(){t.cursorBackdrop.scrollTop=A,t.cursorBackdrop.scrollLeft=A}const A=500;function D(){const j=document.createElement("div");return j.classList.add("lm-cursor-backdrop"),j}let k=0;t.cursorBackdrop=D()})(Private$k||(Private$k={}));class BoxSizer{constructor(){this.sizeHint=0,this.minSize=0,this.maxSize=1/0,this.stretch=1,this.size=0,this.done=!1}}var BoxEngine;(function(t){function e(u,l){let c=u.length;if(c===0)return l;let f=0,d=0,m=0,g=0,v=0;for(let T=0;T<c;++T){let P=u[T],A=P.minSize,D=P.maxSize,k=P.sizeHint;P.done=!1,P.size=Math.max(A,Math.min(k,D)),m+=P.size,f+=A,d+=D,P.stretch>0&&(g+=P.stretch,v++)}if(l===m)return 0;if(l<=f){for(let T=0;T<c;++T){let P=u[T];P.size=P.minSize}return l-f}if(l>=d){for(let T=0;T<c;++T){let P=u[T];P.size=P.maxSize}return l-d}let y=.01,w=c;if(l<m){let T=m-l;for(;v>0&&T>y;){let P=T,A=g;for(let D=0;D<c;++D){let k=u[D];if(k.done||k.stretch===0)continue;let j=k.stretch*P/A;k.size-j<=k.minSize?(T-=k.size-k.minSize,g-=k.stretch,k.size=k.minSize,k.done=!0,w--,v--):(T-=j,k.size-=j)}}for(;w>0&&T>y;){let P=T/w;for(let A=0;A<c;++A){let D=u[A];D.done||(D.size-P<=D.minSize?(T-=D.size-D.minSize,D.size=D.minSize,D.done=!0,w--):(T-=P,D.size-=P))}}}else{let T=l-m;for(;v>0&&T>y;){let P=T,A=g;for(let D=0;D<c;++D){let k=u[D];if(k.done||k.stretch===0)continue;let j=k.stretch*P/A;k.size+j>=k.maxSize?(T-=k.maxSize-k.size,g-=k.stretch,k.size=k.maxSize,k.done=!0,w--,v--):(T-=j,k.size+=j)}}for(;w>0&&T>y;){let P=T/w;for(let A=0;A<c;++A){let D=u[A];D.done||(D.size+P>=D.maxSize?(T-=D.maxSize-D.size,D.size=D.maxSize,D.done=!0,w--):(T-=P,D.size+=P))}}}return 0}t.calc=e;function n(u,l,c){u.length===0||c===0||(c>0?i(u,l,c):o(u,l,-c))}t.adjust=n;function i(u,l,c){let f=0;for(let v=0;v<=l;++v){let y=u[v];f+=y.maxSize-y.size}let d=0;for(let v=l+1,y=u.length;v<y;++v){let w=u[v];d+=w.size-w.minSize}c=Math.min(c,f,d);let m=c;for(let v=l;v>=0&&m>0;--v){let y=u[v],w=y.maxSize-y.size;w>=m?(y.sizeHint=y.size+m,m=0):(y.sizeHint=y.size+w,m-=w)}let g=c;for(let v=l+1,y=u.length;v<y&&g>0;++v){let w=u[v],T=w.size-w.minSize;T>=g?(w.sizeHint=w.size-g,g=0):(w.sizeHint=w.size-T,g-=T)}}function o(u,l,c){let f=0;for(let v=l+1,y=u.length;v<y;++v){let w=u[v];f+=w.maxSize-w.size}let d=0;for(let v=0;v<=l;++v){let y=u[v];d+=y.size-y.minSize}c=Math.min(c,f,d);let m=c;for(let v=l+1,y=u.length;v<y&&m>0;++v){let w=u[v],T=w.maxSize-w.size;T>=m?(w.sizeHint=w.size+m,m=0):(w.sizeHint=w.size+T,m-=T)}let g=c;for(let v=l;v>=0&&g>0;--v){let y=u[v],w=y.size-y.minSize;w>=g?(y.sizeHint=y.size-g,g=0):(y.sizeHint=y.size-w,g-=w)}}})(BoxEngine||(BoxEngine={}));class Title{constructor(e){this._label="",this._caption="",this._mnemonic=-1,this._icon=void 0,this._iconClass="",this._iconLabel="",this._className="",this._closable=!1,this._changed=new Signal$2(this),this._isDisposed=!1,this.owner=e.owner,e.label!==void 0&&(this._label=e.label),e.mnemonic!==void 0&&(this._mnemonic=e.mnemonic),e.icon!==void 0&&(this._icon=e.icon),e.iconClass!==void 0&&(this._iconClass=e.iconClass),e.iconLabel!==void 0&&(this._iconLabel=e.iconLabel),e.caption!==void 0&&(this._caption=e.caption),e.className!==void 0&&(this._className=e.className),e.closable!==void 0&&(this._closable=e.closable),this._dataset=e.dataset||{}}get changed(){return this._changed}get label(){return this._label}set label(e){this._label!==e&&(this._label=e,this._changed.emit(void 0))}get mnemonic(){return this._mnemonic}set mnemonic(e){this._mnemonic!==e&&(this._mnemonic=e,this._changed.emit(void 0))}get icon(){return this._icon}set icon(e){this._icon!==e&&(this._icon=e,this._changed.emit(void 0))}get iconClass(){return this._iconClass}set iconClass(e){this._iconClass!==e&&(this._iconClass=e,this._changed.emit(void 0))}get iconLabel(){return this._iconLabel}set iconLabel(e){this._iconLabel!==e&&(this._iconLabel=e,this._changed.emit(void 0))}get caption(){return this._caption}set caption(e){this._caption!==e&&(this._caption=e,this._changed.emit(void 0))}get className(){return this._className}set className(e){this._className!==e&&(this._className=e,this._changed.emit(void 0))}get closable(){return this._closable}set closable(e){this._closable!==e&&(this._closable=e,this._changed.emit(void 0))}get dataset(){return this._dataset}set dataset(e){this._dataset!==e&&(this._dataset=e,this._changed.emit(void 0))}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,Signal$2.clearData(this))}}class Widget{constructor(e={}){this._flags=0,this._layout=null,this._parent=null,this._disposed=new Signal$2(this),this._hiddenMode=Widget.HiddenMode.Display,this.node=Private$j.createNode(e),this.addClass("lm-Widget")}dispose(){this.isDisposed||(this.setFlag(Widget.Flag.IsDisposed),this._disposed.emit(void 0),this.parent?this.parent=null:this.isAttached&&Widget.detach(this),this._layout&&(this._layout.dispose(),this._layout=null),this.title.dispose(),Signal$2.clearData(this),MessageLoop.clearData(this),AttachedProperty$2.clearData(this))}get disposed(){return this._disposed}get isDisposed(){return this.testFlag(Widget.Flag.IsDisposed)}get isAttached(){return this.testFlag(Widget.Flag.IsAttached)}get isHidden(){return this.testFlag(Widget.Flag.IsHidden)}get isVisible(){let e=this;do{if(e.isHidden||!e.isAttached)return!1;e=e.parent}while(e!=null);return!0}get title(){return Private$j.titleProperty.get(this)}get id(){return this.node.id}set id(e){this.node.id=e}get dataset(){return this.node.dataset}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this.isHidden&&this._toggleHidden(!1),e==Widget.HiddenMode.Scale?this.node.style.willChange="transform":this.node.style.willChange="auto",this._hiddenMode=e,this.isHidden&&this._toggleHidden(!0))}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(e&&this.contains(e))throw new Error("Invalid parent widget.");if(this._parent&&!this._parent.isDisposed){let n=new Widget.ChildMessage("child-removed",this);MessageLoop.sendMessage(this._parent,n)}if(this._parent=e,this._parent&&!this._parent.isDisposed){let n=new Widget.ChildMessage("child-added",this);MessageLoop.sendMessage(this._parent,n)}this.isDisposed||MessageLoop.sendMessage(this,Widget.Msg.ParentChanged)}}get layout(){return this._layout}set layout(e){if(this._layout!==e){if(this.testFlag(Widget.Flag.DisallowLayout))throw new Error("Cannot set widget layout.");if(this._layout)throw new Error("Cannot change widget layout.");if(e.parent)throw new Error("Cannot change layout parent.");this._layout=e,e.parent=this}}*children(){this._layout&&(yield*this._layout)}contains(e){for(let n=e;n;n=n._parent)if(n===this)return!0;return!1}hasClass(e){return this.node.classList.contains(e)}addClass(e){this.node.classList.add(e)}removeClass(e){this.node.classList.remove(e)}toggleClass(e,n){return n===!0?(this.node.classList.add(e),!0):n===!1?(this.node.classList.remove(e),!1):this.node.classList.toggle(e)}update(){MessageLoop.postMessage(this,Widget.Msg.UpdateRequest)}fit(){MessageLoop.postMessage(this,Widget.Msg.FitRequest)}activate(){MessageLoop.postMessage(this,Widget.Msg.ActivateRequest)}close(){MessageLoop.sendMessage(this,Widget.Msg.CloseRequest)}show(){if(this.testFlag(Widget.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&MessageLoop.sendMessage(this,Widget.Msg.BeforeShow),this.clearFlag(Widget.Flag.IsHidden),this._toggleHidden(!1),this.isAttached&&(!this.parent||this.parent.isVisible)&&MessageLoop.sendMessage(this,Widget.Msg.AfterShow),this.parent)){let e=new Widget.ChildMessage("child-shown",this);MessageLoop.sendMessage(this.parent,e)}}hide(){if(!this.testFlag(Widget.Flag.IsHidden)&&(this.isAttached&&(!this.parent||this.parent.isVisible)&&MessageLoop.sendMessage(this,Widget.Msg.BeforeHide),this.setFlag(Widget.Flag.IsHidden),this._toggleHidden(!0),this.isAttached&&(!this.parent||this.parent.isVisible)&&MessageLoop.sendMessage(this,Widget.Msg.AfterHide),this.parent)){let e=new Widget.ChildMessage("child-hidden",this);MessageLoop.sendMessage(this.parent,e)}}setHidden(e){e?this.hide():this.show()}testFlag(e){return(this._flags&e)!==0}setFlag(e){this._flags|=e}clearFlag(e){this._flags&=~e}processMessage(e){switch(e.type){case"resize":this.notifyLayout(e),this.onResize(e);break;case"update-request":this.notifyLayout(e),this.onUpdateRequest(e);break;case"fit-request":this.notifyLayout(e),this.onFitRequest(e);break;case"before-show":this.notifyLayout(e),this.onBeforeShow(e);break;case"after-show":this.setFlag(Widget.Flag.IsVisible),this.notifyLayout(e),this.onAfterShow(e);break;case"before-hide":this.notifyLayout(e),this.onBeforeHide(e);break;case"after-hide":this.clearFlag(Widget.Flag.IsVisible),this.notifyLayout(e),this.onAfterHide(e);break;case"before-attach":this.notifyLayout(e),this.onBeforeAttach(e);break;case"after-attach":!this.isHidden&&(!this.parent||this.parent.isVisible)&&this.setFlag(Widget.Flag.IsVisible),this.setFlag(Widget.Flag.IsAttached),this.notifyLayout(e),this.onAfterAttach(e);break;case"before-detach":this.notifyLayout(e),this.onBeforeDetach(e);break;case"after-detach":this.clearFlag(Widget.Flag.IsVisible),this.clearFlag(Widget.Flag.IsAttached),this.notifyLayout(e),this.onAfterDetach(e);break;case"activate-request":this.notifyLayout(e),this.onActivateRequest(e);break;case"close-request":this.notifyLayout(e),this.onCloseRequest(e);break;case"child-added":this.notifyLayout(e),this.onChildAdded(e);break;case"child-removed":this.notifyLayout(e),this.onChildRemoved(e);break;default:this.notifyLayout(e);break}}notifyLayout(e){this._layout&&this._layout.processParentMessage(e)}onCloseRequest(e){this.parent?this.parent=null:this.isAttached&&Widget.detach(this)}onResize(e){}onUpdateRequest(e){}onFitRequest(e){}onActivateRequest(e){}onBeforeShow(e){}onAfterShow(e){}onBeforeHide(e){}onAfterHide(e){}onBeforeAttach(e){}onAfterAttach(e){}onBeforeDetach(e){}onAfterDetach(e){}onChildAdded(e){}onChildRemoved(e){}_toggleHidden(e){if(e)switch(this._hiddenMode){case Widget.HiddenMode.Display:this.addClass("lm-mod-hidden");break;case Widget.HiddenMode.Scale:this.node.style.transform="scale(0)",this.node.setAttribute("aria-hidden","true");break;case Widget.HiddenMode.ContentVisibility:this.node.style.contentVisibility="hidden",this.node.style.zIndex="-1";break}else switch(this._hiddenMode){case Widget.HiddenMode.Display:this.removeClass("lm-mod-hidden");break;case Widget.HiddenMode.Scale:this.node.style.transform="",this.node.removeAttribute("aria-hidden");break;case Widget.HiddenMode.ContentVisibility:this.node.style.contentVisibility="",this.node.style.zIndex="";break}}}(function(t){(function(u){u[u.Display=0]="Display",u[u.Scale=1]="Scale",u[u.ContentVisibility=2]="ContentVisibility"})(t.HiddenMode||(t.HiddenMode={})),(function(u){u[u.IsDisposed=1]="IsDisposed",u[u.IsAttached=2]="IsAttached",u[u.IsHidden=4]="IsHidden",u[u.IsVisible=8]="IsVisible",u[u.DisallowLayout=16]="DisallowLayout"})(t.Flag||(t.Flag={})),(function(u){u.BeforeShow=new Message("before-show"),u.AfterShow=new Message("after-show"),u.BeforeHide=new Message("before-hide"),u.AfterHide=new Message("after-hide"),u.BeforeAttach=new Message("before-attach"),u.AfterAttach=new Message("after-attach"),u.BeforeDetach=new Message("before-detach"),u.AfterDetach=new Message("after-detach"),u.ParentChanged=new Message("parent-changed"),u.UpdateRequest=new ConflatableMessage("update-request"),u.FitRequest=new ConflatableMessage("fit-request"),u.ActivateRequest=new ConflatableMessage("activate-request"),u.CloseRequest=new ConflatableMessage("close-request")})(t.Msg||(t.Msg={}));class e extends Message{constructor(l,c){super(l),this.child=c}}t.ChildMessage=e;class n extends Message{constructor(l,c){super("resize"),this.width=l,this.height=c}}t.ResizeMessage=n,(function(u){u.UnknownSize=new u(-1,-1)})(n=t.ResizeMessage||(t.ResizeMessage={}));function i(u,l,c=null){if(u.parent)throw new Error("Cannot attach a child widget.");if(u.isAttached||u.node.isConnected)throw new Error("Widget is already attached.");if(!l.isConnected)throw new Error("Host is not attached.");MessageLoop.sendMessage(u,t.Msg.BeforeAttach),l.insertBefore(u.node,c),MessageLoop.sendMessage(u,t.Msg.AfterAttach)}t.attach=i;function o(u){if(u.parent)throw new Error("Cannot detach a child widget.");if(!u.isAttached||!u.node.isConnected)throw new Error("Widget is not attached.");MessageLoop.sendMessage(u,t.Msg.BeforeDetach),u.node.parentNode.removeChild(u.node),MessageLoop.sendMessage(u,t.Msg.AfterDetach)}t.detach=o})(Widget||(Widget={}));var Private$j;(function(t){t.titleProperty=new AttachedProperty$2({name:"title",create:n=>new Title({owner:n})});function e(n){return n.node||document.createElement(n.tag||"div")}t.createNode=e})(Private$j||(Private$j={}));class Layout{constructor(e={}){this._disposed=!1,this._parent=null,this._fitPolicy=e.fitPolicy||"set-min-size"}dispose(){this._parent=null,this._disposed=!0,Signal$2.clearData(this),AttachedProperty$2.clearData(this)}get isDisposed(){return this._disposed}get parent(){return this._parent}set parent(e){if(this._parent!==e){if(this._parent)throw new Error("Cannot change parent widget.");if(e.layout!==this)throw new Error("Invalid parent widget.");this._parent=e,this.init()}}get fitPolicy(){return this._fitPolicy}set fitPolicy(e){if(this._fitPolicy!==e&&(this._fitPolicy=e,this._parent)){let n=this._parent.node.style;n.minWidth="",n.minHeight="",n.maxWidth="",n.maxHeight="",this._parent.fit()}}processParentMessage(e){switch(e.type){case"resize":this.onResize(e);break;case"update-request":this.onUpdateRequest(e);break;case"fit-request":this.onFitRequest(e);break;case"before-show":this.onBeforeShow(e);break;case"after-show":this.onAfterShow(e);break;case"before-hide":this.onBeforeHide(e);break;case"after-hide":this.onAfterHide(e);break;case"before-attach":this.onBeforeAttach(e);break;case"after-attach":this.onAfterAttach(e);break;case"before-detach":this.onBeforeDetach(e);break;case"after-detach":this.onAfterDetach(e);break;case"child-removed":this.onChildRemoved(e);break;case"child-shown":this.onChildShown(e);break;case"child-hidden":this.onChildHidden(e);break}}init(){for(const e of this)e.parent=this.parent}onResize(e){for(const n of this)MessageLoop.sendMessage(n,Widget.ResizeMessage.UnknownSize)}onUpdateRequest(e){for(const n of this)MessageLoop.sendMessage(n,Widget.ResizeMessage.UnknownSize)}onBeforeAttach(e){for(const n of this)MessageLoop.sendMessage(n,e)}onAfterAttach(e){for(const n of this)MessageLoop.sendMessage(n,e)}onBeforeDetach(e){for(const n of this)MessageLoop.sendMessage(n,e)}onAfterDetach(e){for(const n of this)MessageLoop.sendMessage(n,e)}onBeforeShow(e){for(const n of this)n.isHidden||MessageLoop.sendMessage(n,e)}onAfterShow(e){for(const n of this)n.isHidden||MessageLoop.sendMessage(n,e)}onBeforeHide(e){for(const n of this)n.isHidden||MessageLoop.sendMessage(n,e)}onAfterHide(e){for(const n of this)n.isHidden||MessageLoop.sendMessage(n,e)}onChildRemoved(e){this.removeWidget(e.child)}onFitRequest(e){}onChildShown(e){}onChildHidden(e){}}(function(t){function e(u){return Private$i.horizontalAlignmentProperty.get(u)}t.getHorizontalAlignment=e;function n(u,l){Private$i.horizontalAlignmentProperty.set(u,l)}t.setHorizontalAlignment=n;function i(u){return Private$i.verticalAlignmentProperty.get(u)}t.getVerticalAlignment=i;function o(u,l){Private$i.verticalAlignmentProperty.set(u,l)}t.setVerticalAlignment=o})(Layout||(Layout={}));class LayoutItem{constructor(e){this._top=NaN,this._left=NaN,this._width=NaN,this._height=NaN,this._minWidth=0,this._minHeight=0,this._maxWidth=1/0,this._maxHeight=1/0,this._disposed=!1,this.widget=e,this.widget.node.style.position="absolute",this.widget.node.style.contain="strict"}dispose(){if(this._disposed)return;this._disposed=!0;let e=this.widget.node.style;e.position="",e.top="",e.left="",e.width="",e.height="",e.contain=""}get minWidth(){return this._minWidth}get minHeight(){return this._minHeight}get maxWidth(){return this._maxWidth}get maxHeight(){return this._maxHeight}get isDisposed(){return this._disposed}get isHidden(){return this.widget.isHidden}get isVisible(){return this.widget.isVisible}get isAttached(){return this.widget.isAttached}fit(){let e=ElementExt$1.sizeLimits(this.widget.node);this._minWidth=e.minWidth,this._minHeight=e.minHeight,this._maxWidth=e.maxWidth,this._maxHeight=e.maxHeight}update(e,n,i,o){let u=Math.max(this._minWidth,Math.min(i,this._maxWidth)),l=Math.max(this._minHeight,Math.min(o,this._maxHeight));if(u<i)switch(Layout.getHorizontalAlignment(this.widget)){case"left":break;case"center":e+=(i-u)/2;break;case"right":e+=i-u;break;default:throw"unreachable"}if(l<o)switch(Layout.getVerticalAlignment(this.widget)){case"top":break;case"center":n+=(o-l)/2;break;case"bottom":n+=o-l;break;default:throw"unreachable"}let c=!1,f=this.widget.node.style;if(this._top!==n&&(this._top=n,f.top=`${n}px`),this._left!==e&&(this._left=e,f.left=`${e}px`),this._width!==u&&(c=!0,this._width=u,f.width=`${u}px`),this._height!==l&&(c=!0,this._height=l,f.height=`${l}px`),c){let d=new Widget.ResizeMessage(u,l);MessageLoop.sendMessage(this.widget,d)}}}var Private$i;(function(t){t.horizontalAlignmentProperty=new AttachedProperty$2({name:"horizontalAlignment",create:()=>"center",changed:e}),t.verticalAlignmentProperty=new AttachedProperty$2({name:"verticalAlignment",create:()=>"top",changed:e});function e(n){n.parent&&n.parent.layout&&n.parent.update()}})(Private$i||(Private$i={}));class PanelLayout extends Layout{constructor(){super(...arguments),this._widgets=[]}dispose(){for(;this._widgets.length>0;)this._widgets.pop().dispose();super.dispose()}get widgets(){return this._widgets}*[Symbol.iterator](){yield*this._widgets}addWidget(e){this.insertWidget(this._widgets.length,e)}insertWidget(e,n){n.parent=this.parent;let i=this._widgets.indexOf(n),o=Math.max(0,Math.min(e,this._widgets.length));if(i===-1){ArrayExt$4.insert(this._widgets,o,n),this.parent&&this.attachWidget(o,n);return}o===this._widgets.length&&o--,i!==o&&(ArrayExt$4.move(this._widgets,i,o),this.parent&&this.moveWidget(i,o,n))}removeWidget(e){this.removeWidgetAt(this._widgets.indexOf(e))}removeWidgetAt(e){let n=ArrayExt$4.removeAt(this._widgets,e);n&&this.parent&&this.detachWidget(e,n)}init(){super.init();let e=0;for(const n of this)this.attachWidget(e++,n)}attachWidget(e,n){let i=this.parent.node.children[e];this.parent.isAttached&&MessageLoop.sendMessage(n,Widget.Msg.BeforeAttach),this.parent.node.insertBefore(n.node,i),this.parent.isAttached&&MessageLoop.sendMessage(n,Widget.Msg.AfterAttach)}moveWidget(e,n,i){this.parent.isAttached&&MessageLoop.sendMessage(i,Widget.Msg.BeforeDetach),this.parent.node.removeChild(i.node),this.parent.isAttached&&MessageLoop.sendMessage(i,Widget.Msg.AfterDetach);let o=this.parent.node.children[n];this.parent.isAttached&&MessageLoop.sendMessage(i,Widget.Msg.BeforeAttach),this.parent.node.insertBefore(i.node,o),this.parent.isAttached&&MessageLoop.sendMessage(i,Widget.Msg.AfterAttach)}detachWidget(e,n){this.parent.isAttached&&MessageLoop.sendMessage(n,Widget.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.isAttached&&MessageLoop.sendMessage(n,Widget.Msg.AfterDetach)}}var Utils;(function(t){function e(n){return Math.max(0,Math.floor(n))}t.clampDimension=e})(Utils||(Utils={}));var Utils$1=Utils;class SplitLayout extends PanelLayout{constructor(e){super(),this.widgetOffset=0,this._fixed=0,this._spacing=4,this._dirty=!1,this._hasNormedSizes=!1,this._sizers=[],this._items=[],this._handles=[],this._box=null,this._alignment="start",this._orientation="horizontal",this.renderer=e.renderer,e.orientation!==void 0&&(this._orientation=e.orientation),e.alignment!==void 0&&(this._alignment=e.alignment),e.spacing!==void 0&&(this._spacing=Utils.clampDimension(e.spacing))}dispose(){for(const e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,this._handles.length=0,super.dispose()}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this.parent&&(this.parent.dataset.orientation=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=Utils.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get handles(){return this._handles}absoluteSizes(){return this._sizers.map(e=>e.size)}relativeSizes(){return Private$h.normalize(this._sizers.map(e=>e.size))}setRelativeSizes(e,n=!0){let i=this._sizers.length,o=e.slice(0,i);for(;o.length<i;)o.push(0);let u=Private$h.normalize(o);for(let l=0;l<i;++l){let c=this._sizers[l];c.sizeHint=u[l],c.size=u[l]}this._hasNormedSizes=!0,n&&this.parent&&this.parent.update()}moveHandle(e,n){let i=this._handles[e];if(!i||i.classList.contains("lm-mod-hidden"))return;let o;if(this._orientation==="horizontal"?o=n-i.offsetLeft:o=n-i.offsetTop,o!==0){for(let u of this._sizers)u.size>0&&(u.sizeHint=u.size);BoxEngine.adjust(this._sizers,e,o),this.parent&&this.parent.update()}}init(){this.parent.dataset.orientation=this.orientation,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,n){let i=new LayoutItem(n),o=Private$h.createHandle(this.renderer),u=Private$h.averageSize(this._sizers),l=Private$h.createSizer(u);ArrayExt$4.insert(this._items,e,i),ArrayExt$4.insert(this._sizers,e,l),ArrayExt$4.insert(this._handles,e,o),this.parent.isAttached&&MessageLoop.sendMessage(n,Widget.Msg.BeforeAttach),this.parent.node.appendChild(n.node),this.parent.node.appendChild(o),this.parent.isAttached&&MessageLoop.sendMessage(n,Widget.Msg.AfterAttach),this.parent.fit()}moveWidget(e,n,i){ArrayExt$4.move(this._items,e,n),ArrayExt$4.move(this._sizers,e,n),ArrayExt$4.move(this._handles,e,n),this.parent.fit()}detachWidget(e,n){let i=ArrayExt$4.removeAt(this._items,e),o=ArrayExt$4.removeAt(this._handles,e);ArrayExt$4.removeAt(this._sizers,e),this.parent.isAttached&&MessageLoop.sendMessage(n,Widget.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.node.removeChild(o),this.parent.isAttached&&MessageLoop.sendMessage(n,Widget.Msg.AfterDetach),i.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}updateItemPosition(e,n,i,o,u,l,c){const f=this._items[e];if(f.isHidden)return;let d=this._handles[e].style;n?(i+=this.widgetOffset,f.update(i,o,c,u),i+=c,d.top=`${o}px`,d.left=`${i}px`,d.width=`${this._spacing}px`,d.height=`${u}px`):(o+=this.widgetOffset,f.update(i,o,l,c),o+=c,d.top=`${o}px`,d.left=`${i}px`,d.width=`${l}px`,d.height=`${this._spacing}px`)}_fit(){let e=0,n=-1;for(let f=0,d=this._items.length;f<d;++f)this._items[f].isHidden?this._handles[f].classList.add("lm-mod-hidden"):(this._handles[f].classList.remove("lm-mod-hidden"),n=f,e++);n!==-1&&this._handles[n].classList.add("lm-mod-hidden"),this._fixed=this._spacing*Math.max(0,e-1)+this.widgetOffset*this._items.length;let i=this._orientation==="horizontal",o=i?this._fixed:0,u=i?0:this._fixed;for(let f=0,d=this._items.length;f<d;++f){let m=this._items[f],g=this._sizers[f];if(g.size>0&&(g.sizeHint=g.size),m.isHidden){g.minSize=0,g.maxSize=0;continue}m.fit(),g.stretch=SplitLayout.getStretch(m.widget),i?(g.minSize=m.minWidth,g.maxSize=m.maxWidth,o+=m.minWidth,u=Math.max(u,m.minHeight)):(g.minSize=m.minHeight,g.maxSize=m.maxHeight,u+=m.minHeight,o=Math.max(o,m.minWidth))}let l=this._box=ElementExt$1.boxSizing(this.parent.node);o+=l.horizontalSum,u+=l.verticalSum;let c=this.parent.node.style;c.minWidth=`${o}px`,c.minHeight=`${u}px`,this._dirty=!0,this.parent.parent&&MessageLoop.sendMessage(this.parent.parent,Widget.Msg.FitRequest),this._dirty&&MessageLoop.sendMessage(this.parent,Widget.Msg.UpdateRequest)}_update(e,n){this._dirty=!1;let i=0;for(let g=0,v=this._items.length;g<v;++g)i+=+!this._items[g].isHidden;if(i===0&&this.widgetOffset===0)return;e<0&&(e=this.parent.node.offsetWidth),n<0&&(n=this.parent.node.offsetHeight),this._box||(this._box=ElementExt$1.boxSizing(this.parent.node));let o=this._box.paddingTop,u=this._box.paddingLeft,l=e-this._box.horizontalSum,c=n-this._box.verticalSum,f=0,d=0,m=this._orientation==="horizontal";if(i>0){let g;if(m?g=Math.max(0,l-this._fixed):g=Math.max(0,c-this._fixed),this._hasNormedSizes){for(let y of this._sizers)y.sizeHint*=g;this._hasNormedSizes=!1}let v=BoxEngine.calc(this._sizers,g);if(v>0)switch(this._alignment){case"start":break;case"center":f=0,d=v/2;break;case"end":f=0,d=v;break;case"justify":f=v/i,d=0;break;default:throw"unreachable"}}for(let g=0,v=this._items.length;g<v;++g){const w=this._items[g].isHidden?0:this._sizers[g].size+f;this.updateItemPosition(g,m,m?u+d:u,m?o:o+d,c,l,w);const T=this.widgetOffset+(this._handles[g].classList.contains("lm-mod-hidden")?0:this._spacing);m?u+=w+T:o+=w+T}}}(function(t){function e(i){return Private$h.stretchProperty.get(i)}t.getStretch=e;function n(i,o){Private$h.stretchProperty.set(i,o)}t.setStretch=n})(SplitLayout||(SplitLayout={}));var Private$h;(function(t){t.stretchProperty=new AttachedProperty$2({name:"stretch",create:()=>0,coerce:(l,c)=>Math.max(0,Math.floor(c)),changed:u});function e(l){let c=new BoxSizer;return c.sizeHint=Math.floor(l),c}t.createSizer=e;function n(l){let c=l.createHandle();return c.style.position="absolute",c.style.contain="style",c}t.createHandle=n;function i(l){return l.reduce((c,f)=>c+f.size,0)/l.length||0}t.averageSize=i;function o(l){let c=l.length;if(c===0)return[];let f=l.reduce((d,m)=>d+Math.abs(m),0);return f===0?l.map(d=>1/c):l.map(d=>d/f)}t.normalize=o;function u(l){l.parent&&l.parent.layout instanceof SplitLayout&&l.parent.fit()}})(Private$h||(Private$h={}));class AccordionLayout extends SplitLayout{constructor(e){super({...e,orientation:e.orientation||"vertical"}),this._titles=[],this.titleSpace=e.titleSpace||22}get titleSpace(){return this.widgetOffset}set titleSpace(e){e=Utils$1.clampDimension(e),this.widgetOffset!==e&&(this.widgetOffset=e,this.parent&&this.parent.fit())}get titles(){return this._titles}dispose(){this.isDisposed||(this._titles.length=0,super.dispose())}updateTitle(e,n){const i=this._titles[e],o=i.classList.contains("lm-mod-expanded"),u=Private$g.createTitle(this.renderer,n.title,o);this._titles[e]=u,this.parent.node.replaceChild(u,i)}insertWidget(e,n){n.id||(n.id=`id-${UUID$2.uuid4()}`),super.insertWidget(e,n)}attachWidget(e,n){const i=Private$g.createTitle(this.renderer,n.title);ArrayExt$4.insert(this._titles,e,i),this.parent.node.appendChild(i),n.node.setAttribute("role","region"),n.node.setAttribute("aria-labelledby",i.id),super.attachWidget(e,n)}moveWidget(e,n,i){ArrayExt$4.move(this._titles,e,n),super.moveWidget(e,n,i)}detachWidget(e,n){const i=ArrayExt$4.removeAt(this._titles,e);this.parent.node.removeChild(i),super.detachWidget(e,n)}updateItemPosition(e,n,i,o,u,l,c){const f=this._titles[e].style;f.top=`${o}px`,f.left=`${i}px`,f.height=`${this.widgetOffset}px`,n?f.width=`${u}px`:f.width=`${l}px`,super.updateItemPosition(e,n,i,o,u,l,c)}}var Private$g;(function(t){function e(n,i,o=!0){const u=n.createSectionTitle(i);return u.style.position="absolute",u.style.contain="strict",u.setAttribute("aria-label",`${i.label} Section`),u.setAttribute("aria-expanded",o?"true":"false"),u.setAttribute("aria-controls",i.owner.id),o&&u.classList.add("lm-mod-expanded"),u}t.createTitle=e})(Private$g||(Private$g={}));class Panel extends Widget{constructor(e={}){super(),this.addClass("lm-Panel"),this.layout=Private$f.createLayout(e)}get widgets(){return this.layout.widgets}addWidget(e){this.layout.addWidget(e)}insertWidget(e,n){this.layout.insertWidget(e,n)}}var Private$f;(function(t){function e(n){return n.layout||new PanelLayout}t.createLayout=e})(Private$f||(Private$f={}));class SplitPanel extends Panel{constructor(e={}){super({layout:Private$e.createLayout(e)}),this._handleMoved=new Signal$2(this),this._pressData=null,this.addClass("lm-SplitPanel")}dispose(){this._releaseMouse(),super.dispose()}get orientation(){return this.layout.orientation}set orientation(e){this.layout.orientation=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get renderer(){return this.layout.renderer}get handleMoved(){return this._handleMoved}get handles(){return this.layout.handles}relativeSizes(){return this.layout.relativeSizes()}setRelativeSizes(e,n=!0){this.layout.setRelativeSizes(e,n)}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){e.child.addClass("lm-SplitPanel-child"),this._releaseMouse()}onChildRemoved(e){e.child.removeClass("lm-SplitPanel-child"),this._releaseMouse()}_evtKeyDown(e){this._pressData&&(e.preventDefault(),e.stopPropagation()),e.keyCode===27&&this._releaseMouse()}_evtPointerDown(e){if(e.button!==0)return;let n=this.layout,i=ArrayExt$4.findFirstIndex(n.handles,d=>d.contains(e.target));if(i===-1)return;e.preventDefault(),e.stopPropagation(),document.addEventListener("pointerup",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0);let o,u=n.handles[i],l=u.getBoundingClientRect();n.orientation==="horizontal"?o=e.clientX-l.left:o=e.clientY-l.top;let c=window.getComputedStyle(u),f=Drag.overrideCursor(c.cursor);this._pressData={index:i,delta:o,override:f}}_evtPointerMove(e){e.preventDefault(),e.stopPropagation();let n,i=this.layout,o=this.node.getBoundingClientRect();i.orientation==="horizontal"?n=e.clientX-o.left-this._pressData.delta:n=e.clientY-o.top-this._pressData.delta,i.moveHandle(this._pressData.index,n)}_evtPointerUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse())}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._handleMoved.emit(),document.removeEventListener("keydown",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("contextmenu",this,!0))}}(function(t){class e{createHandle(){let u=document.createElement("div");return u.className="lm-SplitPanel-handle",u}}t.Renderer=e,t.defaultRenderer=new e;function n(o){return SplitLayout.getStretch(o)}t.getStretch=n;function i(o,u){SplitLayout.setStretch(o,u)}t.setStretch=i})(SplitPanel||(SplitPanel={}));var Private$e;(function(t){function e(n){return n.layout||new SplitLayout({renderer:n.renderer||SplitPanel.defaultRenderer,orientation:n.orientation,alignment:n.alignment,spacing:n.spacing})}t.createLayout=e})(Private$e||(Private$e={}));class AccordionPanel extends SplitPanel{constructor(e={}){super({...e,layout:Private$d.createLayout(e)}),this._widgetSizesCache=new WeakMap,this._expansionToggled=new Signal$2(this),this.addClass("lm-AccordionPanel")}get renderer(){return this.layout.renderer}get titleSpace(){return this.layout.titleSpace}set titleSpace(e){this.layout.titleSpace=e}get titles(){return this.layout.titles}get expansionToggled(){return this._expansionToggled}addWidget(e){super.addWidget(e),e.title.changed.connect(this._onTitleChanged,this)}collapse(e){const n=this.layout.widgets[e];n&&!n.isHidden&&this._toggleExpansion(e)}expand(e){const n=this.layout.widgets[e];n&&n.isHidden&&this._toggleExpansion(e)}insertWidget(e,n){super.insertWidget(e,n),n.title.changed.connect(this._onTitleChanged,this)}handleEvent(e){switch(super.handleEvent(e),e.type){case"click":this._evtClick(e);break;case"keydown":this._eventKeyDown(e);break}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),super.onBeforeAttach(e)}onAfterDetach(e){super.onAfterDetach(e),this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this)}_onTitleChanged(e){const n=ArrayExt$4.findFirstIndex(this.widgets,i=>i.contains(e.owner));n>=0&&(this.layout.updateTitle(n,e.owner),this.update())}_computeWidgetSize(e){const n=this.layout,i=n.widgets[e];if(!i)return;const o=i.isHidden,u=n.absoluteSizes(),l=(o?-1:1)*this.spacing,c=u.reduce((d,m)=>d+m);let f=[...u];if(o){const d=this._widgetSizesCache.get(i);if(!d)return;f[e]+=d;const m=f.map(g=>g-d>0).lastIndexOf(!0);m===-1?f.forEach((g,v)=>{v!==e&&(f[v]-=u[v]/c*(d-l))}):f[m]-=d-l}else{const d=u[e];this._widgetSizesCache.set(i,d),f[e]=0;const m=f.map(g=>g>0).lastIndexOf(!0);if(m===-1)return;f[m]=u[m]+d+l}return f.map(d=>d/(c+l))}_evtClick(e){const n=e.target;if(n){const i=ArrayExt$4.findFirstIndex(this.titles,o=>o.contains(n));i>=0&&(e.preventDefault(),e.stopPropagation(),this._toggleExpansion(i))}}_eventKeyDown(e){if(e.defaultPrevented)return;const n=e.target;let i=!1;if(n){const o=ArrayExt$4.findFirstIndex(this.titles,u=>u.contains(n));if(o>=0){const u=e.keyCode.toString();if(e.key.match(/Space|Enter/)||u.match(/13|32/))n.click(),i=!0;else if(this.orientation==="horizontal"?e.key.match(/ArrowLeft|ArrowRight/)||u.match(/37|39/):e.key.match(/ArrowUp|ArrowDown/)||u.match(/38|40/)){const l=e.key.match(/ArrowLeft|ArrowUp/)||u.match(/37|38/)?-1:1,c=this.titles.length,f=(o+c+l)%c;this.titles[f].focus(),i=!0}else e.key==="End"||u==="35"?(this.titles[this.titles.length-1].focus(),i=!0):(e.key==="Home"||u==="36")&&(this.titles[0].focus(),i=!0)}i&&e.preventDefault()}}_toggleExpansion(e){const n=this.titles[e],i=this.layout.widgets[e],o=this._computeWidgetSize(e);o&&this.setRelativeSizes(o,!1),i.isHidden?(n.classList.add("lm-mod-expanded"),n.setAttribute("aria-expanded","true"),i.show()):(n.classList.remove("lm-mod-expanded"),n.setAttribute("aria-expanded","false"),i.hide()),this._expansionToggled.emit(e)}}(function(t){class e extends SplitPanel.Renderer{constructor(){super(),this.titleClassName="lm-AccordionPanel-title",this._titleID=0,this._titleKeys=new WeakMap,this._uuid=++e._nInstance}createCollapseIcon(i){return document.createElement("span")}createSectionTitle(i){const o=document.createElement("h3");o.setAttribute("tabindex","0"),o.id=this.createTitleKey(i),o.className=this.titleClassName;for(const c in i.dataset)o.dataset[c]=i.dataset[c];const u=o.appendChild(this.createCollapseIcon(i));u.className="lm-AccordionPanel-titleCollapser";const l=o.appendChild(document.createElement("span"));return l.className="lm-AccordionPanel-titleLabel",l.textContent=i.label,l.title=i.caption||i.label,o}createTitleKey(i){let o=this._titleKeys.get(i);return o===void 0&&(o=`title-key-${this._uuid}-${this._titleID++}`,this._titleKeys.set(i,o)),o}}e._nInstance=0,t.Renderer=e,t.defaultRenderer=new e})(AccordionPanel||(AccordionPanel={}));var Private$d;(function(t){function e(n){return n.layout||new AccordionLayout({renderer:n.renderer||AccordionPanel.defaultRenderer,orientation:n.orientation,alignment:n.alignment,spacing:n.spacing,titleSpace:n.titleSpace})}t.createLayout=e})(Private$d||(Private$d={}));class BoxLayout extends PanelLayout{constructor(e={}){super(),this._fixed=0,this._spacing=4,this._dirty=!1,this._sizers=[],this._items=[],this._box=null,this._alignment="start",this._direction="top-to-bottom",e.direction!==void 0&&(this._direction=e.direction),e.alignment!==void 0&&(this._alignment=e.alignment),e.spacing!==void 0&&(this._spacing=Utils$1.clampDimension(e.spacing))}dispose(){for(const e of this._items)e.dispose();this._box=null,this._items.length=0,this._sizers.length=0,super.dispose()}get direction(){return this._direction}set direction(e){this._direction!==e&&(this._direction=e,this.parent&&(this.parent.dataset.direction=e,this.parent.fit()))}get alignment(){return this._alignment}set alignment(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))}get spacing(){return this._spacing}set spacing(e){e=Utils$1.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}init(){this.parent.dataset.direction=this.direction,this.parent.dataset.alignment=this.alignment,super.init()}attachWidget(e,n){ArrayExt$4.insert(this._items,e,new LayoutItem(n)),ArrayExt$4.insert(this._sizers,e,new BoxSizer),this.parent.isAttached&&MessageLoop.sendMessage(n,Widget.Msg.BeforeAttach),this.parent.node.appendChild(n.node),this.parent.isAttached&&MessageLoop.sendMessage(n,Widget.Msg.AfterAttach),this.parent.fit()}moveWidget(e,n,i){ArrayExt$4.move(this._items,e,n),ArrayExt$4.move(this._sizers,e,n),this.parent.update()}detachWidget(e,n){let i=ArrayExt$4.removeAt(this._items,e);ArrayExt$4.removeAt(this._sizers,e),this.parent.isAttached&&MessageLoop.sendMessage(n,Widget.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.isAttached&&MessageLoop.sendMessage(n,Widget.Msg.AfterDetach),i.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0;for(let c=0,f=this._items.length;c<f;++c)e+=+!this._items[c].isHidden;this._fixed=this._spacing*Math.max(0,e-1);let n=Private$c.isHorizontal(this._direction),i=n?this._fixed:0,o=n?0:this._fixed;for(let c=0,f=this._items.length;c<f;++c){let d=this._items[c],m=this._sizers[c];if(d.isHidden){m.minSize=0,m.maxSize=0;continue}d.fit(),m.sizeHint=BoxLayout.getSizeBasis(d.widget),m.stretch=BoxLayout.getStretch(d.widget),n?(m.minSize=d.minWidth,m.maxSize=d.maxWidth,i+=d.minWidth,o=Math.max(o,d.minHeight)):(m.minSize=d.minHeight,m.maxSize=d.maxHeight,o+=d.minHeight,i=Math.max(i,d.minWidth))}let u=this._box=ElementExt$1.boxSizing(this.parent.node);i+=u.horizontalSum,o+=u.verticalSum;let l=this.parent.node.style;l.minWidth=`${i}px`,l.minHeight=`${o}px`,this._dirty=!0,this.parent.parent&&MessageLoop.sendMessage(this.parent.parent,Widget.Msg.FitRequest),this._dirty&&MessageLoop.sendMessage(this.parent,Widget.Msg.UpdateRequest)}_update(e,n){this._dirty=!1;let i=0;for(let g=0,v=this._items.length;g<v;++g)i+=+!this._items[g].isHidden;if(i===0)return;e<0&&(e=this.parent.node.offsetWidth),n<0&&(n=this.parent.node.offsetHeight),this._box||(this._box=ElementExt$1.boxSizing(this.parent.node));let o=this._box.paddingTop,u=this._box.paddingLeft,l=e-this._box.horizontalSum,c=n-this._box.verticalSum,f;switch(this._direction){case"left-to-right":f=BoxEngine.calc(this._sizers,Math.max(0,l-this._fixed));break;case"top-to-bottom":f=BoxEngine.calc(this._sizers,Math.max(0,c-this._fixed));break;case"right-to-left":f=BoxEngine.calc(this._sizers,Math.max(0,l-this._fixed)),u+=l;break;case"bottom-to-top":f=BoxEngine.calc(this._sizers,Math.max(0,c-this._fixed)),o+=c;break;default:throw"unreachable"}let d=0,m=0;if(f>0)switch(this._alignment){case"start":break;case"center":d=0,m=f/2;break;case"end":d=0,m=f;break;case"justify":d=f/i,m=0;break;default:throw"unreachable"}for(let g=0,v=this._items.length;g<v;++g){let y=this._items[g];if(y.isHidden)continue;let w=this._sizers[g].size;switch(this._direction){case"left-to-right":y.update(u+m,o,w+d,c),u+=w+d+this._spacing;break;case"top-to-bottom":y.update(u,o+m,l,w+d),o+=w+d+this._spacing;break;case"right-to-left":y.update(u-m-w-d,o,w+d,c),u-=w+d+this._spacing;break;case"bottom-to-top":y.update(u,o-m-w-d,l,w+d),o-=w+d+this._spacing;break;default:throw"unreachable"}}}}(function(t){function e(u){return Private$c.stretchProperty.get(u)}t.getStretch=e;function n(u,l){Private$c.stretchProperty.set(u,l)}t.setStretch=n;function i(u){return Private$c.sizeBasisProperty.get(u)}t.getSizeBasis=i;function o(u,l){Private$c.sizeBasisProperty.set(u,l)}t.setSizeBasis=o})(BoxLayout||(BoxLayout={}));var Private$c;(function(t){t.stretchProperty=new AttachedProperty$2({name:"stretch",create:()=>0,coerce:(o,u)=>Math.max(0,Math.floor(u)),changed:i}),t.sizeBasisProperty=new AttachedProperty$2({name:"sizeBasis",create:()=>0,coerce:(o,u)=>Math.max(0,Math.floor(u)),changed:i});function e(o){return o==="left-to-right"||o==="right-to-left"}t.isHorizontal=e;function n(o){return Math.max(0,Math.floor(o))}t.clampSpacing=n;function i(o){o.parent&&o.parent.layout instanceof BoxLayout&&o.parent.fit()}})(Private$c||(Private$c={}));class BoxPanel extends Panel{constructor(e={}){super({layout:Private$b.createLayout(e)}),this.addClass("lm-BoxPanel")}get direction(){return this.layout.direction}set direction(e){this.layout.direction=e}get alignment(){return this.layout.alignment}set alignment(e){this.layout.alignment=e}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}onChildAdded(e){e.child.addClass("lm-BoxPanel-child")}onChildRemoved(e){e.child.removeClass("lm-BoxPanel-child")}}(function(t){function e(u){return BoxLayout.getStretch(u)}t.getStretch=e;function n(u,l){BoxLayout.setStretch(u,l)}t.setStretch=n;function i(u){return BoxLayout.getSizeBasis(u)}t.getSizeBasis=i;function o(u,l){BoxLayout.setSizeBasis(u,l)}t.setSizeBasis=o})(BoxPanel||(BoxPanel={}));var Private$b;(function(t){function e(n){return n.layout||new BoxLayout(n)}t.createLayout=e})(Private$b||(Private$b={}));class CommandPalette extends Widget{constructor(e){super({node:Private$a.createNode()}),this._activeIndex=-1,this._items=[],this._results=null,this.addClass("lm-CommandPalette"),this.setFlag(Widget.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||CommandPalette.defaultRenderer,this.commands.commandChanged.connect(this._onGenericChange,this),this.commands.keyBindingChanged.connect(this._onGenericChange,this)}dispose(){this._items.length=0,this._results=null,super.dispose()}get searchNode(){return this.node.getElementsByClassName("lm-CommandPalette-search")[0]}get inputNode(){return this.node.getElementsByClassName("lm-CommandPalette-input")[0]}get contentNode(){return this.node.getElementsByClassName("lm-CommandPalette-content")[0]}get items(){return this._items}addItem(e){let n=Private$a.createItem(this.commands,e);return this._items.push(n),this.refresh(),n}addItems(e){const n=e.map(i=>Private$a.createItem(this.commands,i));return n.forEach(i=>this._items.push(i)),this.refresh(),n}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){ArrayExt$4.removeAt(this._items,e)&&this.refresh()}clearItems(){this._items.length!==0&&(this._items.length=0,this.refresh())}refresh(){if(this._results=null,this.inputNode.value!==""){let e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="inherit"}else{let e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="none"}this.update()}handleEvent(e){switch(e.type){case"click":this._evtClick(e);break;case"keydown":this._evtKeyDown(e);break;case"input":this.refresh();break;case"focus":case"blur":this._toggleFocused();break}}onBeforeAttach(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),this.node.addEventListener("input",this),this.node.addEventListener("focus",this,!0),this.node.addEventListener("blur",this,!0)}onAfterDetach(e){this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this),this.node.removeEventListener("input",this),this.node.removeEventListener("focus",this,!0),this.node.removeEventListener("blur",this,!0)}onAfterShow(e){this.update(),super.onAfterShow(e)}onActivateRequest(e){if(this.isAttached){let n=this.inputNode;n.focus(),n.select()}}onUpdateRequest(e){if(!this.isVisible){VirtualDOM$1.render(null,this.contentNode);return}let n=this.inputNode.value,i=this.contentNode,o=this._results;if(o||(o=this._results=Private$a.search(this._items,n),this._activeIndex=n?ArrayExt$4.findFirstIndex(o,Private$a.canActivate):-1),!n&&o.length===0){VirtualDOM$1.render(null,i);return}if(n&&o.length===0){let f=this.renderer.renderEmptyMessage({query:n});VirtualDOM$1.render(f,i);return}let u=this.renderer,l=this._activeIndex,c=new Array(o.length);for(let f=0,d=o.length;f<d;++f){let m=o[f];if(m.type==="header"){let g=m.indices,v=m.category;c[f]=u.renderHeader({category:v,indices:g})}else{let g=m.item,v=m.indices,y=f===l;c[f]=u.renderItem({item:g,indices:v,active:y})}}if(VirtualDOM$1.render(c,i),l<0||l>=o.length)i.scrollTop=0;else{let f=i.children[l];ElementExt$1.scrollIntoViewIfNeeded(i,f)}}_evtClick(e){if(e.button!==0)return;if(e.target.classList.contains("lm-close-icon")){this.inputNode.value="",this.refresh();return}let n=ArrayExt$4.findFirstIndex(this.contentNode.children,i=>i.contains(e.target));n!==-1&&(e.preventDefault(),e.stopPropagation(),this._execute(n))}_evtKeyDown(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey))switch(e.keyCode){case 13:e.preventDefault(),e.stopPropagation(),this._execute(this._activeIndex);break;case 38:e.preventDefault(),e.stopPropagation(),this._activatePreviousItem();break;case 40:e.preventDefault(),e.stopPropagation(),this._activateNextItem();break}}_activateNextItem(){if(!this._results||this._results.length===0)return;let e=this._activeIndex,n=this._results.length,i=e<n-1?e+1:0,o=i===0?n-1:i-1;this._activeIndex=ArrayExt$4.findFirstIndex(this._results,Private$a.canActivate,i,o),this.update()}_activatePreviousItem(){if(!this._results||this._results.length===0)return;let e=this._activeIndex,n=this._results.length,i=e<=0?n-1:e-1,o=i===n-1?0:i+1;this._activeIndex=ArrayExt$4.findLastIndex(this._results,Private$a.canActivate,i,o),this.update()}_execute(e){if(!this._results)return;let n=this._results[e];if(n){if(n.type==="header"){let i=this.inputNode;i.value=`${n.category.toLowerCase()} `,i.focus(),this.refresh();return}n.item.isEnabled&&(this.commands.execute(n.item.command,n.item.args),this.inputNode.value="",this.refresh())}}_toggleFocused(){let e=document.activeElement===this.inputNode;this.toggleClass("lm-mod-focused",e)}_onGenericChange(){this.refresh()}}(function(t){class e{renderHeader(i){let o=this.formatHeader(i);return h$2.li({className:"lm-CommandPalette-header"},o)}renderItem(i){let o=this.createItemClass(i),u=this.createItemDataset(i);return i.item.isToggleable?h$2.li({className:o,dataset:u,role:"menuitemcheckbox","aria-checked":`${i.item.isToggled}`},this.renderItemIcon(i),this.renderItemContent(i),this.renderItemShortcut(i)):h$2.li({className:o,dataset:u,role:"menuitem"},this.renderItemIcon(i),this.renderItemContent(i),this.renderItemShortcut(i))}renderEmptyMessage(i){let o=this.formatEmptyMessage(i);return h$2.li({className:"lm-CommandPalette-emptyMessage"},o)}renderItemIcon(i){let o=this.createIconClass(i);return h$2.div({className:o},i.item.icon,i.item.iconLabel)}renderItemContent(i){return h$2.div({className:"lm-CommandPalette-itemContent"},this.renderItemLabel(i),this.renderItemCaption(i))}renderItemLabel(i){let o=this.formatItemLabel(i);return h$2.div({className:"lm-CommandPalette-itemLabel"},o)}renderItemCaption(i){let o=this.formatItemCaption(i);return h$2.div({className:"lm-CommandPalette-itemCaption"},o)}renderItemShortcut(i){let o=this.formatItemShortcut(i);return h$2.div({className:"lm-CommandPalette-itemShortcut"},o)}createItemClass(i){let o="lm-CommandPalette-item";i.item.isEnabled||(o+=" lm-mod-disabled"),i.item.isToggled&&(o+=" lm-mod-toggled"),i.active&&(o+=" lm-mod-active");let u=i.item.className;return u&&(o+=` ${u}`),o}createItemDataset(i){return{...i.item.dataset,command:i.item.command}}createIconClass(i){let o="lm-CommandPalette-itemIcon",u=i.item.iconClass;return u?`${o} ${u}`:o}formatHeader(i){return!i.indices||i.indices.length===0?i.category:StringExt$4.highlight(i.category,i.indices,h$2.mark)}formatEmptyMessage(i){return`No commands found that match '${i.query}'`}formatItemShortcut(i){let o=i.item.keyBinding;return o?CommandRegistry$1.formatKeystroke(o.keys):null}formatItemLabel(i){return!i.indices||i.indices.length===0?i.item.label:StringExt$4.highlight(i.item.label,i.indices,h$2.mark)}formatItemCaption(i){return i.item.caption}}t.Renderer=e,t.defaultRenderer=new e})(CommandPalette||(CommandPalette={}));var Private$a;(function(t){function e(){let v=document.createElement("div"),y=document.createElement("div"),w=document.createElement("div"),T=document.createElement("input"),P=document.createElement("ul"),A=document.createElement("button");return y.className="lm-CommandPalette-search",w.className="lm-CommandPalette-wrapper",T.className="lm-CommandPalette-input",A.className="lm-close-icon",P.className="lm-CommandPalette-content",P.setAttribute("role","menu"),T.spellcheck=!1,w.appendChild(T),w.appendChild(A),y.appendChild(w),v.appendChild(y),v.appendChild(P),v}t.createNode=e;function n(v,y){return new g(v,y)}t.createItem=n;function i(v,y){let w=c(v,y);return w.sort(d),m(w)}t.search=i;function o(v){return v.type==="item"&&v.item.isEnabled}t.canActivate=o;function u(v){return v.trim().replace(/\s+/g," ")}function l(v){return v.replace(/\s+/g,"").toLowerCase()}function c(v,y){y=l(y);let w=[];for(let T=0,P=v.length;T<P;++T){let A=v[T];if(!A.isVisible)continue;if(!y){w.push({matchType:3,categoryIndices:null,labelIndices:null,score:0,item:A});continue}let D=f(A,y);D&&(A.isEnabled||(D.score+=1e3),w.push(D))}return w}function f(v,y){let w=v.category.toLowerCase(),T=v.label.toLowerCase(),P=`${w} ${T}`,A=1/0,D=null,k=/\b\w/g;for(;;){let G=k.exec(P);if(!G)break;let F=StringExt$4.matchSumOfDeltas(P,y,G.index);if(!F)break;F.score<=A&&(A=F.score,D=F.indices)}if(!D||A===1/0)return null;let j=w.length+1,B=ArrayExt$4.lowerBound(D,j,(G,F)=>G-F),Z=D.slice(0,B),R=D.slice(B);for(let G=0,F=R.length;G<F;++G)R[G]-=j;return Z.length===0?{matchType:0,categoryIndices:null,labelIndices:R,score:A,item:v}:R.length===0?{matchType:1,categoryIndices:Z,labelIndices:null,score:A,item:v}:{matchType:2,categoryIndices:Z,labelIndices:R,score:A,item:v}}function d(v,y){let w=v.matchType-y.matchType;if(w!==0)return w;let T=v.score-y.score;if(T!==0)return T;let P=0,A=0;switch(v.matchType){case 0:P=v.labelIndices[0],A=y.labelIndices[0];break;case 1:case 2:P=v.categoryIndices[0],A=y.categoryIndices[0];break}if(P!==A)return P-A;let D=v.item.category.localeCompare(y.item.category);if(D!==0)return D;let k=v.item.rank,j=y.item.rank;return k!==j?k<j?-1:1:v.item.label.localeCompare(y.item.label)}function m(v){let y=[];for(let w=0,T=v.length;w<T;++w){let{item:P,categoryIndices:A,labelIndices:D}=v[w],k=P.category;(w===0||k!==v[w-1].item.category)&&y.push({type:"header",category:k,indices:A}),y.push({type:"item",item:P,indices:D})}return y}class g{constructor(y,w){this._commands=y,this.category=u(w.category),this.command=w.command,this.args=w.args||JSONExt$2.emptyObject,this.rank=w.rank!==void 0?w.rank:1/0}get label(){return this._commands.label(this.command,this.args)}get icon(){return this._commands.icon(this.command,this.args)}get iconClass(){return this._commands.iconClass(this.command,this.args)}get iconLabel(){return this._commands.iconLabel(this.command,this.args)}get caption(){return this._commands.caption(this.command,this.args)}get className(){return this._commands.className(this.command,this.args)}get dataset(){return this._commands.dataset(this.command,this.args)}get isEnabled(){return this._commands.isEnabled(this.command,this.args)}get isToggled(){return this._commands.isToggled(this.command,this.args)}get isToggleable(){return this._commands.isToggleable(this.command,this.args)}get isVisible(){return this._commands.isVisible(this.command,this.args)}get keyBinding(){let{command:y,args:w}=this;return ArrayExt$4.findLastValue(this._commands.keyBindings,T=>T.command===y&&JSONExt$2.deepEqual(T.args,w))||null}}})(Private$a||(Private$a={}));class Menu extends Widget{constructor(e){super({node:Private$9.createNode()}),this._childIndex=-1,this._activeIndex=-1,this._openTimerID=0,this._closeTimerID=0,this._items=[],this._childMenu=null,this._parentMenu=null,this._aboutToClose=new Signal$2(this),this._menuRequested=new Signal$2(this),this.addClass("lm-Menu"),this.setFlag(Widget.Flag.DisallowLayout),this.commands=e.commands,this.renderer=e.renderer||Menu.defaultRenderer}dispose(){this.close(),this._items.length=0,super.dispose()}get aboutToClose(){return this._aboutToClose}get menuRequested(){return this._menuRequested}get parentMenu(){return this._parentMenu}get childMenu(){return this._childMenu}get rootMenu(){let e=this;for(;e._parentMenu;)e=e._parentMenu;return e}get leafMenu(){let e=this;for(;e._childMenu;)e=e._childMenu;return e}get contentNode(){return this.node.getElementsByClassName("lm-Menu-content")[0]}get activeItem(){return this._items[this._activeIndex]||null}set activeItem(e){this.activeIndex=e?this._items.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._items.length)&&(e=-1),e!==-1&&!Private$9.canActivate(this._items[e])&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this._activeIndex>=0&&this.contentNode.childNodes[this._activeIndex]&&this.contentNode.childNodes[this._activeIndex].focus(),this.update())}get items(){return this._items}activateNextItem(){let e=this._items.length,n=this._activeIndex,i=n<e-1?n+1:0,o=i===0?e-1:i-1;this.activeIndex=ArrayExt$4.findFirstIndex(this._items,Private$9.canActivate,i,o)}activatePreviousItem(){let e=this._items.length,n=this._activeIndex,i=n<=0?e-1:n-1,o=i===e-1?0:i+1;this.activeIndex=ArrayExt$4.findLastIndex(this._items,Private$9.canActivate,i,o)}triggerActiveItem(){if(!this.isAttached)return;let e=this.activeItem;if(!e)return;if(this._cancelOpenTimer(),this._cancelCloseTimer(),e.type==="submenu"){this._openChildMenu(!0);return}this.rootMenu.close();let{command:n,args:i}=e;this.commands.isEnabled(n,i)?this.commands.execute(n,i):console.log(`Command '${n}' is disabled.`)}addItem(e){return this.insertItem(this._items.length,e)}insertItem(e,n){this.isAttached&&this.close(),this.activeIndex=-1;let i=Math.max(0,Math.min(e,this._items.length)),o=Private$9.createItem(this,n);return ArrayExt$4.insert(this._items,i,o),this.update(),o}removeItem(e){this.removeItemAt(this._items.indexOf(e))}removeItemAt(e){this.isAttached&&this.close(),this.activeIndex=-1,ArrayExt$4.removeAt(this._items,e)&&this.update()}clearItems(){this.isAttached&&this.close(),this.activeIndex=-1,this._items.length!==0&&(this._items.length=0,this.update())}open(e,n,i={}){var o,u,l;if(this.isAttached)return;let c=i.forceX||!1,f=i.forceY||!1;const d=(o=i.host)!==null&&o!==void 0?o:null,m=(u=i.ref)!==null&&u!==void 0?u:null,g=(l=i.horizontalAlignment)!==null&&l!==void 0?l:document.documentElement.dir==="rtl"?"right":"left";Private$9.openRootMenu(this,e,n,c,f,g,d,m),this.activate()}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mouseup":this._evtMouseUp(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseenter":this._evtMouseEnter(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"mousedown":this._evtMouseDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mouseup",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseenter",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this),document.addEventListener("mousedown",this,!0)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mouseup",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseenter",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),document.removeEventListener("mousedown",this,!0)}onActivateRequest(e){this.isAttached&&this.node.focus()}onUpdateRequest(e){let n=this._items,i=this.renderer,o=this._activeIndex,u=Private$9.computeCollapsed(n),l=new Array(n.length);for(let c=0,f=n.length;c<f;++c){let d=n[c],m=c===o,g=u[c];l[c]=i.renderItem({item:d,active:m,collapsed:g,onfocus:()=>{this.activeIndex=c}})}VirtualDOM$1.render(l,this.contentNode)}onCloseRequest(e){this._cancelOpenTimer(),this._cancelCloseTimer(),this.activeIndex=-1;let n=this._childMenu;n&&(this._childIndex=-1,this._childMenu=null,n._parentMenu=null,n.close());let i=this._parentMenu;i&&(this._parentMenu=null,i._childIndex=-1,i._childMenu=null,i.activate()),this.isAttached&&this._aboutToClose.emit(void 0),super.onCloseRequest(e)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation();let n=e.keyCode;if(n===13){this.triggerActiveItem();return}if(n===27){this.close();return}if(n===37){this._parentMenu?this.close():this._menuRequested.emit("previous");return}if(n===38){this.activatePreviousItem();return}if(n===39){let l=this.activeItem;l&&l.type==="submenu"?this.triggerActiveItem():this.rootMenu._menuRequested.emit("next");return}if(n===40){this.activateNextItem();return}let i=getKeyboardLayout$1().keyForKeydownEvent(e);if(!i)return;let o=this._activeIndex+1,u=Private$9.findMnemonic(this._items,i,o);u.index!==-1&&!u.multiple?(this.activeIndex=u.index,this.triggerActiveItem()):u.index!==-1?this.activeIndex=u.index:u.auto!==-1&&(this.activeIndex=u.auto)}_evtMouseUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this.triggerActiveItem())}_evtMouseMove(e){let n=ArrayExt$4.findFirstIndex(this.contentNode.children,o=>ElementExt$1.hitTest(o,e.clientX,e.clientY));if(n===this._activeIndex)return;if(this.activeIndex=n,n=this.activeIndex,n===this._childIndex){this._cancelOpenTimer(),this._cancelCloseTimer();return}this._childIndex!==-1&&this._startCloseTimer(),this._cancelOpenTimer();let i=this.activeItem;!i||i.type!=="submenu"||!i.submenu||this._startOpenTimer()}_evtMouseEnter(e){for(let n=this._parentMenu;n;n=n._parentMenu)n._cancelOpenTimer(),n._cancelCloseTimer(),n.activeIndex=n._childIndex}_evtMouseLeave(e){if(this._cancelOpenTimer(),!this._childMenu){this.activeIndex=-1;return}let{clientX:n,clientY:i}=e;if(ElementExt$1.hitTest(this._childMenu.node,n,i)){this._cancelCloseTimer();return}this.activeIndex=-1,this._startCloseTimer()}_evtMouseDown(e){this._parentMenu||(Private$9.hitTestMenus(this,e.clientX,e.clientY)?(e.preventDefault(),e.stopPropagation()):this.close())}_openChildMenu(e=!1){let n=this.activeItem;if(!n||n.type!=="submenu"||!n.submenu){this._closeChildMenu();return}let i=n.submenu;if(i===this._childMenu)return;Menu.saveWindowData(),this._closeChildMenu(),this._childMenu=i,this._childIndex=this._activeIndex,i._parentMenu=this,MessageLoop.sendMessage(this,Widget.Msg.UpdateRequest);let o=this.contentNode.children[this._activeIndex];Private$9.openSubmenu(i,o),e&&(i.activeIndex=-1,i.activateNextItem()),i.activate()}_closeChildMenu(){this._childMenu&&this._childMenu.close()}_startOpenTimer(){this._openTimerID===0&&(this._openTimerID=window.setTimeout(()=>{this._openTimerID=0,this._openChildMenu()},Private$9.TIMER_DELAY))}_startCloseTimer(){this._closeTimerID===0&&(this._closeTimerID=window.setTimeout(()=>{this._closeTimerID=0,this._closeChildMenu()},Private$9.TIMER_DELAY))}_cancelOpenTimer(){this._openTimerID!==0&&(clearTimeout(this._openTimerID),this._openTimerID=0)}_cancelCloseTimer(){this._closeTimerID!==0&&(clearTimeout(this._closeTimerID),this._closeTimerID=0)}static saveWindowData(){Private$9.saveWindowData()}}(function(t){class e{renderItem(i){let o=this.createItemClass(i),u=this.createItemDataset(i),l=this.createItemARIA(i);return h$2.li({className:o,dataset:u,tabindex:"0",onfocus:i.onfocus,...l},this.renderIcon(i),this.renderLabel(i),this.renderShortcut(i),this.renderSubmenu(i))}renderIcon(i){let o=this.createIconClass(i);return h$2.div({className:o},i.item.icon,i.item.iconLabel)}renderLabel(i){let o=this.formatLabel(i);return h$2.div({className:"lm-Menu-itemLabel"},o)}renderShortcut(i){let o=this.formatShortcut(i);return h$2.div({className:"lm-Menu-itemShortcut"},o)}renderSubmenu(i){return h$2.div({className:"lm-Menu-itemSubmenuIcon"})}createItemClass(i){let o="lm-Menu-item";i.item.isEnabled||(o+=" lm-mod-disabled"),i.item.isToggled&&(o+=" lm-mod-toggled"),i.item.isVisible||(o+=" lm-mod-hidden"),i.active&&(o+=" lm-mod-active"),i.collapsed&&(o+=" lm-mod-collapsed");let u=i.item.className;return u&&(o+=` ${u}`),o}createItemDataset(i){let o,{type:u,command:l,dataset:c}=i.item;return u==="command"?o={...c,type:u,command:l}:o={...c,type:u},o}createIconClass(i){let o="lm-Menu-itemIcon",u=i.item.iconClass;return u?`${o} ${u}`:o}createItemARIA(i){let o={};switch(i.item.type){case"separator":o.role="presentation";break;case"submenu":o["aria-haspopup"]="true",i.item.isEnabled||(o["aria-disabled"]="true");break;default:i.item.isEnabled||(o["aria-disabled"]="true"),i.item.isToggled?(o.role="menuitemcheckbox",o["aria-checked"]="true"):o.role="menuitem"}return o}formatLabel(i){let{label:o,mnemonic:u}=i.item;if(u<0||u>=o.length)return o;let l=o.slice(0,u),c=o.slice(u+1),f=o[u],d=h$2.span({className:"lm-Menu-itemMnemonic"},f);return[l,d,c]}formatShortcut(i){let o=i.item.keyBinding;return o?CommandRegistry$1.formatKeystroke(o.keys):null}}t.Renderer=e,t.defaultRenderer=new e})(Menu||(Menu={}));var Private$9;(function(t){t.TIMER_DELAY=300,t.SUBMENU_OVERLAP=3;let e=null,n=0;function i(){return n>0?(n--,e):m()}function o(){e=m(),n++}t.saveWindowData=o;function u(){let T=document.createElement("div"),P=document.createElement("ul");return P.className="lm-Menu-content",T.appendChild(P),P.setAttribute("role","menu"),T.tabIndex=0,T}t.createNode=u;function l(T){return T.type!=="separator"&&T.isEnabled&&T.isVisible}t.canActivate=l;function c(T,P){return new w(T.commands,P)}t.createItem=c;function f(T,P,A){for(let D=T;D;D=D.childMenu)if(ElementExt$1.hitTest(D.node,P,A))return!0;return!1}t.hitTestMenus=f;function d(T){let P=new Array(T.length);ArrayExt$4.fill(P,!1);let A=0,D=T.length;for(;A<D;++A){let B=T[A];if(B.isVisible){if(B.type!=="separator")break;P[A]=!0}}let k=D-1;for(;k>=0;--k){let B=T[k];if(B.isVisible){if(B.type!=="separator")break;P[k]=!0}}let j=!1;for(;++A<k;){let B=T[A];B.isVisible&&(B.type!=="separator"?j=!1:j?P[A]=!0:j=!0)}return P}t.computeCollapsed=d;function m(){return{pageXOffset:window.pageXOffset,pageYOffset:window.pageYOffset,clientWidth:document.documentElement.clientWidth,clientHeight:document.documentElement.clientHeight}}function g(T,P,A,D,k,j,B,Z){const R=i();let G=R.pageXOffset,F=R.pageYOffset,K=R.clientWidth,Q=R.clientHeight;MessageLoop.sendMessage(T,Widget.Msg.UpdateRequest);let ie=Q-(k?A:0),te=T.node,oe=te.style;oe.opacity="0",oe.maxHeight=`${ie}px`,Widget.attach(T,B||document.body,Z);let{width:le,height:de}=te.getBoundingClientRect();j==="right"&&(P-=le),!D&&P+le>G+K&&(P=G+K-le),!k&&A+de>F+Q&&(A>F+Q?A=F+Q-de:A=A-de),oe.transform=`translate(${Math.max(0,P)}px, ${Math.max(0,A)}px`,oe.opacity="1"}t.openRootMenu=g;function v(T,P){const A=i();let D=A.pageXOffset,k=A.pageYOffset,j=A.clientWidth,B=A.clientHeight;MessageLoop.sendMessage(T,Widget.Msg.UpdateRequest);let Z=B,R=T.node,G=R.style;G.opacity="0",G.maxHeight=`${Z}px`,Widget.attach(T,document.body);let{width:F,height:K}=R.getBoundingClientRect(),Q=ElementExt$1.boxSizing(T.node),ie=P.getBoundingClientRect(),te=ie.right-t.SUBMENU_OVERLAP;te+F>D+j&&(te=ie.left+t.SUBMENU_OVERLAP-F);let oe=ie.top-Q.borderTop-Q.paddingTop;oe+K>k+B&&(oe=ie.bottom+Q.borderBottom+Q.paddingBottom-K),G.transform=`translate(${Math.max(0,te)}px, ${Math.max(0,oe)}px`,G.opacity="1"}t.openSubmenu=v;function y(T,P,A){let D=-1,k=-1,j=!1,B=P.toUpperCase();for(let Z=0,R=T.length;Z<R;++Z){let G=(Z+A)%R,F=T[G];if(!l(F))continue;let K=F.label;if(K.length===0)continue;let Q=F.mnemonic;if(Q>=0&&Q<K.length){K[Q].toUpperCase()===B&&(D===-1?D=G:j=!0);continue}k===-1&&K[0].toUpperCase()===B&&(k=G)}return{index:D,multiple:j,auto:k}}t.findMnemonic=y;class w{constructor(P,A){this._commands=P,this.type=A.type||"command",this.command=A.command||"",this.args=A.args||JSONExt$2.emptyObject,this.submenu=A.submenu||null}get label(){return this.type==="command"?this._commands.label(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.label:""}get mnemonic(){return this.type==="command"?this._commands.mnemonic(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.mnemonic:-1}get icon(){if(this.type==="command")return this._commands.icon(this.command,this.args);if(this.type==="submenu"&&this.submenu)return this.submenu.title.icon}get iconClass(){return this.type==="command"?this._commands.iconClass(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconClass:""}get iconLabel(){return this.type==="command"?this._commands.iconLabel(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.iconLabel:""}get caption(){return this.type==="command"?this._commands.caption(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.caption:""}get className(){return this.type==="command"?this._commands.className(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.className:""}get dataset(){return this.type==="command"?this._commands.dataset(this.command,this.args):this.type==="submenu"&&this.submenu?this.submenu.title.dataset:{}}get isEnabled(){return this.type==="command"?this._commands.isEnabled(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0}get isToggled(){return this.type==="command"?this._commands.isToggled(this.command,this.args):!1}get isVisible(){return this.type==="command"?this._commands.isVisible(this.command,this.args):this.type==="submenu"?this.submenu!==null:!0}get keyBinding(){if(this.type==="command"){let{command:P,args:A}=this;return ArrayExt$4.findLastValue(this._commands.keyBindings,D=>D.command===P&&JSONExt$2.deepEqual(D.args,A))||null}return null}}})(Private$9||(Private$9={}));var Private$8;(function(t){function e(l,c){let f=i(l.selector),d=l.rank!==void 0?l.rank:1/0;return{...l,selector:f,rank:d,id:c}}t.createItem=e;function n(l,c,f,d){let m=c.target;if(!m)return null;let g=c.currentTarget;if(!g||!g.contains(m)&&(m=document.elementFromPoint(c.clientX,c.clientY),!m||!g.contains(m)))return null;let v=[],y=l.slice();for(;m!==null;){let w=[];for(let T=0,P=y.length;T<P;++T){let A=y[T];A&&Selector$1.matches(m,A.selector)&&(w.push(A),y[T]=null)}if(w.length!==0&&(f&&w.sort(d?u:o),v.push(...w)),m===g)break;m=m.parentElement}return f||v.sort(d?u:o),v}t.matchItems=n;function i(l){if(l.indexOf(",")!==-1)throw new Error(`Selector cannot contain commas: ${l}`);if(!Selector$1.isValid(l))throw new Error(`Invalid selector: ${l}`);return l}function o(l,c){let f=l.rank,d=c.rank;return f!==d?f<d?-1:1:l.id-c.id}function u(l,c){let f=Selector$1.calculateSpecificity(l.selector),d=Selector$1.calculateSpecificity(c.selector);return f!==d?d-f:o(l,c)}})(Private$8||(Private$8={}));const ARROW_KEYS=["ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Home","End"];class TabBar extends Widget{constructor(e={}){super({node:Private$7.createNode()}),this._currentIndex=-1,this._titles=[],this._titlesEditable=!1,this._previousTitle=null,this._dragData=null,this._addButtonEnabled=!1,this._tabMoved=new Signal$2(this),this._currentChanged=new Signal$2(this),this._addRequested=new Signal$2(this),this._tabCloseRequested=new Signal$2(this),this._tabDetachRequested=new Signal$2(this),this._tabActivateRequested=new Signal$2(this),this.addClass("lm-TabBar"),this.contentNode.setAttribute("role","tablist"),this.setFlag(Widget.Flag.DisallowLayout),this._document=e.document||document,this.tabsMovable=e.tabsMovable||!1,this.titlesEditable=e.titlesEditable||!1,this.allowDeselect=e.allowDeselect||!1,this.addButtonEnabled=e.addButtonEnabled||!1,this.insertBehavior=e.insertBehavior||"select-tab-if-needed",this.name=e.name||"",this.orientation=e.orientation||"horizontal",this.removeBehavior=e.removeBehavior||"select-tab-after",this.renderer=e.renderer||TabBar.defaultRenderer}dispose(){this._releaseMouse(),this._titles.length=0,this._previousTitle=null,super.dispose()}get currentChanged(){return this._currentChanged}get tabMoved(){return this._tabMoved}get tabActivateRequested(){return this._tabActivateRequested}get addRequested(){return this._addRequested}get tabCloseRequested(){return this._tabCloseRequested}get tabDetachRequested(){return this._tabDetachRequested}get document(){return this._document}get titlesEditable(){return this._titlesEditable}set titlesEditable(e){this._titlesEditable=e}get currentTitle(){return this._titles[this._currentIndex]||null}set currentTitle(e){this.currentIndex=e?this._titles.indexOf(e):-1}get currentIndex(){return this._currentIndex}set currentIndex(e){if((e<0||e>=this._titles.length)&&(e=-1),this._currentIndex===e)return;let n=this._currentIndex,i=this._titles[n]||null,o=e,u=this._titles[o]||null;this._currentIndex=o,this._previousTitle=i,this.update(),this._currentChanged.emit({previousIndex:n,previousTitle:i,currentIndex:o,currentTitle:u})}get name(){return this._name}set name(e){this._name=e,e?this.contentNode.setAttribute("aria-label",e):this.contentNode.removeAttribute("aria-label")}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._releaseMouse(),this._orientation=e,this.dataset.orientation=e,this.contentNode.setAttribute("aria-orientation",e))}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled!==e&&(this._addButtonEnabled=e,e?this.addButtonNode.classList.remove("lm-mod-hidden"):this.addButtonNode.classList.add("lm-mod-hidden"))}get titles(){return this._titles}get contentNode(){return this.node.getElementsByClassName("lm-TabBar-content")[0]}get addButtonNode(){return this.node.getElementsByClassName("lm-TabBar-addButton")[0]}addTab(e){return this.insertTab(this._titles.length,e)}insertTab(e,n){this._releaseMouse();let i=Private$7.asTitle(n),o=this._titles.indexOf(i),u=Math.max(0,Math.min(e,this._titles.length));return o===-1?(ArrayExt$4.insert(this._titles,u,i),i.changed.connect(this._onTitleChanged,this),this.update(),this._adjustCurrentForInsert(u,i),i):(u===this._titles.length&&u--,o===u||(ArrayExt$4.move(this._titles,o,u),this.update(),this._adjustCurrentForMove(o,u)),i)}removeTab(e){this.removeTabAt(this._titles.indexOf(e))}removeTabAt(e){this._releaseMouse();let n=ArrayExt$4.removeAt(this._titles,e);n&&(n.changed.disconnect(this._onTitleChanged,this),n===this._previousTitle&&(this._previousTitle=null),this.update(),this._adjustCurrentForRemove(e,n))}clearTabs(){if(this._titles.length===0)return;this._releaseMouse();for(let i of this._titles)i.changed.disconnect(this._onTitleChanged,this);let e=this.currentIndex,n=this.currentTitle;this._currentIndex=-1,this._previousTitle=null,this._titles.length=0,this.update(),e!==-1&&this._currentChanged.emit({previousIndex:e,previousTitle:n,currentIndex:-1,currentTitle:null})}releaseMouse(){this._releaseMouse()}handleEvent(e){switch(e.type){case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"dblclick":this._evtDblClick(e);break;case"keydown":e.eventPhase===Event.CAPTURING_PHASE?this._evtKeyDownCapturing(e):this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("pointerdown",this),this.node.addEventListener("dblclick",this),this.node.addEventListener("keydown",this)}onAfterDetach(e){this.node.removeEventListener("pointerdown",this),this.node.removeEventListener("dblclick",this),this.node.removeEventListener("keydown",this),this._releaseMouse()}onUpdateRequest(e){var n;let i=this._titles,o=this.renderer,u=this.currentTitle,l=new Array(i.length);const c=(n=this._getCurrentTabindex())!==null&&n!==void 0?n:this._currentIndex>-1?this._currentIndex:0;for(let f=0,d=i.length;f<d;++f){let m=i[f],g=m===u,v=g?d:d-f-1,y=c===f?0:-1;l[f]=o.renderTab({title:m,current:g,zIndex:v,tabIndex:y})}VirtualDOM$1.render(l,this.contentNode)}_getCurrentTabindex(){let e=null;const n=this.contentNode.querySelector('li[tabindex="0"]');return n?e=[...this.contentNode.children].indexOf(n):this._addButtonEnabled&&this.addButtonNode.getAttribute("tabindex")==="0"&&(e=-1),e}_evtDblClick(e){if(!this.titlesEditable)return;let n=this.contentNode.children,i=ArrayExt$4.findFirstIndex(n,l=>ElementExt$1.hitTest(l,e.clientX,e.clientY));if(i===-1)return;let o=this.titles[i],u=n[i].querySelector(".lm-TabBar-tabLabel");if(u&&u.contains(e.target)){let l=o.label||"",c=u.innerHTML;u.innerHTML="";let f=document.createElement("input");f.classList.add("lm-TabBar-tabInput"),f.value=l,u.appendChild(f);let d=()=>{f.removeEventListener("blur",d),u.innerHTML=c,this.node.addEventListener("keydown",this)};f.addEventListener("dblclick",m=>m.stopPropagation()),f.addEventListener("blur",d),f.addEventListener("keydown",m=>{m.key==="Enter"?(f.value!==""&&(o.label=o.caption=f.value),d()):m.key==="Escape"&&d()}),this.node.removeEventListener("keydown",this),f.select(),f.focus(),u.children.length>0&&u.children[0].focus()}}_evtKeyDownCapturing(e){e.eventPhase===Event.CAPTURING_PHASE&&(e.preventDefault(),e.stopPropagation(),e.key==="Escape"&&this._releaseMouse())}_evtKeyDown(e){var n,i,o;if(!(e.key==="Tab"||e.eventPhase===Event.CAPTURING_PHASE)){if(e.key==="Enter"||e.key==="Spacebar"||e.key===" "){const u=document.activeElement;if(this.addButtonEnabled&&this.addButtonNode.contains(u))e.preventDefault(),e.stopPropagation(),this._addRequested.emit();else{const l=ArrayExt$4.findFirstIndex(this.contentNode.children,c=>c.contains(u));l>=0&&(e.preventDefault(),e.stopPropagation(),this.currentIndex=l)}}else if(ARROW_KEYS.includes(e.key)){const u=[...this.contentNode.children];if(this.addButtonEnabled&&u.push(this.addButtonNode),u.length<=1)return;e.preventDefault(),e.stopPropagation();let l=u.indexOf(document.activeElement);l===-1&&(l=this._currentIndex);let c;e.key==="ArrowRight"&&this._orientation==="horizontal"||e.key==="ArrowDown"&&this._orientation==="vertical"?c=(n=u[l+1])!==null&&n!==void 0?n:u[0]:e.key==="ArrowLeft"&&this._orientation==="horizontal"||e.key==="ArrowUp"&&this._orientation==="vertical"?c=(i=u[l-1])!==null&&i!==void 0?i:u[u.length-1]:e.key==="Home"?c=u[0]:e.key==="End"&&(c=u[u.length-1]),c&&((o=u[l])===null||o===void 0||o.setAttribute("tabindex","-1"),c?.setAttribute("tabindex","0"),c.focus())}}}_evtPointerDown(e){if(e.button!==0&&e.button!==1||this._dragData||e.target.classList.contains("lm-TabBar-tabInput"))return;let n=this.addButtonEnabled&&this.addButtonNode.contains(e.target),i=this.contentNode.children,o=ArrayExt$4.findFirstIndex(i,l=>ElementExt$1.hitTest(l,e.clientX,e.clientY));if(o===-1&&!n||(e.preventDefault(),e.stopPropagation(),this._dragData={tab:i[o],index:o,pressX:e.clientX,pressY:e.clientY,tabPos:-1,tabSize:-1,tabPressPos:-1,targetIndex:-1,tabLayout:null,contentRect:null,override:null,dragActive:!1,dragAborted:!1,detachRequested:!1},this.document.addEventListener("pointerup",this,!0),e.button===1||n))return;let u=i[o].querySelector(this.renderer.closeIconSelector);u&&u.contains(e.target)||(this.tabsMovable&&(this.document.addEventListener("pointermove",this,!0),this.document.addEventListener("keydown",this,!0),this.document.addEventListener("contextmenu",this,!0)),this.allowDeselect&&this.currentIndex===o?this.currentIndex=-1:this.currentIndex=o,this.currentIndex!==-1&&this._tabActivateRequested.emit({index:this.currentIndex,title:this.currentTitle}))}_evtPointerMove(e){let n=this._dragData;if(!n)return;e.preventDefault(),e.stopPropagation();let i=this.contentNode.children;if(!(!n.dragActive&&!Private$7.dragExceeded(n,e))){if(!n.dragActive){let o=n.tab.getBoundingClientRect();this._orientation==="horizontal"?(n.tabPos=n.tab.offsetLeft,n.tabSize=o.width,n.tabPressPos=n.pressX-o.left):(n.tabPos=n.tab.offsetTop,n.tabSize=o.height,n.tabPressPos=n.pressY-o.top),n.tabPressOffset={x:n.pressX-o.left,y:n.pressY-o.top},n.tabLayout=Private$7.snapTabLayout(i,this._orientation),n.contentRect=this.contentNode.getBoundingClientRect(),n.override=Drag.overrideCursor("default"),n.tab.classList.add("lm-mod-dragging"),this.addClass("lm-mod-dragging"),n.dragActive=!0}if(!n.detachRequested&&Private$7.detachExceeded(n,e)){n.detachRequested=!0;let o=n.index,u=e.clientX,l=e.clientY,c=i[o],f=this._titles[o];if(this._tabDetachRequested.emit({index:o,title:f,tab:c,clientX:u,clientY:l,offset:n.tabPressOffset}),n.dragAborted)return}Private$7.layoutTabs(i,n,e,this._orientation)}}_evtPointerUp(e){if(e.button!==0&&e.button!==1)return;const n=this._dragData;if(!n)return;if(e.preventDefault(),e.stopPropagation(),this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),!n.dragActive){if(this._dragData=null,this.addButtonEnabled&&this.addButtonNode.contains(e.target)){this._addRequested.emit(void 0);return}let u=this.contentNode.children,l=ArrayExt$4.findFirstIndex(u,d=>ElementExt$1.hitTest(d,e.clientX,e.clientY));if(l!==n.index)return;let c=this._titles[l];if(!c.closable)return;if(e.button===1){this._tabCloseRequested.emit({index:l,title:c});return}let f=u[l].querySelector(this.renderer.closeIconSelector);if(f&&f.contains(e.target)){this._tabCloseRequested.emit({index:l,title:c});return}return}if(e.button!==0)return;Private$7.finalizeTabPosition(n,this._orientation),n.tab.classList.remove("lm-mod-dragging");let i=Private$7.parseTransitionDuration(n.tab);setTimeout(()=>{if(n.dragAborted)return;this._dragData=null,Private$7.resetTabPositions(this.contentNode.children,this._orientation),n.override.dispose(),this.removeClass("lm-mod-dragging");let o=n.index,u=n.targetIndex;u===-1||o===u||(ArrayExt$4.move(this._titles,o,u),this._adjustCurrentForMove(o,u),this._tabMoved.emit({fromIndex:o,toIndex:u,title:this._titles[u]}),MessageLoop.sendMessage(this,Widget.Msg.UpdateRequest))},i)}_releaseMouse(){let e=this._dragData;e&&(this._dragData=null,this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),e.dragAborted=!0,e.dragActive&&(Private$7.resetTabPositions(this.contentNode.children,this._orientation),e.override.dispose(),e.tab.classList.remove("lm-mod-dragging"),this.removeClass("lm-mod-dragging")))}_adjustCurrentForInsert(e,n){let i=this.currentTitle,o=this._currentIndex,u=this.insertBehavior;if(u==="select-tab"||u==="select-tab-if-needed"&&o===-1){this._currentIndex=e,this._previousTitle=i,this._currentChanged.emit({previousIndex:o,previousTitle:i,currentIndex:e,currentTitle:n});return}o>=e&&this._currentIndex++}_adjustCurrentForMove(e,n){this._currentIndex===e?this._currentIndex=n:this._currentIndex<e&&this._currentIndex>=n?this._currentIndex++:this._currentIndex>e&&this._currentIndex<=n&&this._currentIndex--}_adjustCurrentForRemove(e,n){let i=this._currentIndex,o=this.removeBehavior;if(i!==e){i>e&&this._currentIndex--;return}if(this._titles.length===0){this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:n,currentIndex:-1,currentTitle:null});return}if(o==="select-tab-after"){this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:n,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(o==="select-tab-before"){this._currentIndex=Math.max(0,e-1),this._currentChanged.emit({previousIndex:e,previousTitle:n,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}if(o==="select-previous-tab"){this._previousTitle?(this._currentIndex=this._titles.indexOf(this._previousTitle),this._previousTitle=null):this._currentIndex=Math.min(e,this._titles.length-1),this._currentChanged.emit({previousIndex:e,previousTitle:n,currentIndex:this._currentIndex,currentTitle:this.currentTitle});return}this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:n,currentIndex:-1,currentTitle:null})}_onTitleChanged(e){this.update()}}(function(t){class e{constructor(){this.closeIconSelector=".lm-TabBar-tabCloseIcon",this._tabID=0,this._tabKeys=new WeakMap,this._uuid=++e._nInstance}renderTab(i){let o=i.title.caption,u=this.createTabKey(i),l=u,c=this.createTabStyle(i),f=this.createTabClass(i),d=this.createTabDataset(i),m=this.createTabARIA(i);return i.title.closable?h$2.li({id:l,key:u,className:f,title:o,style:c,dataset:d,...m},this.renderIcon(i),this.renderLabel(i),this.renderCloseIcon(i)):h$2.li({id:l,key:u,className:f,title:o,style:c,dataset:d,...m},this.renderIcon(i),this.renderLabel(i))}renderIcon(i){const{title:o}=i;let u=this.createIconClass(i);return h$2.div({className:u},o.icon,o.iconLabel)}renderLabel(i){return h$2.div({className:"lm-TabBar-tabLabel"},i.title.label)}renderCloseIcon(i){return h$2.div({className:"lm-TabBar-tabCloseIcon"})}createTabKey(i){let o=this._tabKeys.get(i.title);return o===void 0&&(o=`tab-key-${this._uuid}-${this._tabID++}`,this._tabKeys.set(i.title,o)),o}createTabStyle(i){return{zIndex:`${i.zIndex}`}}createTabClass(i){let o="lm-TabBar-tab";return i.title.className&&(o+=` ${i.title.className}`),i.title.closable&&(o+=" lm-mod-closable"),i.current&&(o+=" lm-mod-current"),o}createTabDataset(i){return i.title.dataset}createTabARIA(i){var o;return{role:"tab","aria-selected":i.current.toString(),tabindex:`${(o=i.tabIndex)!==null&&o!==void 0?o:"-1"}`}}createIconClass(i){let o="lm-TabBar-tabIcon",u=i.title.iconClass;return u?`${o} ${u}`:o}}e._nInstance=0,t.Renderer=e,t.defaultRenderer=new e,t.addButtonSelector=".lm-TabBar-addButton"})(TabBar||(TabBar={}));var Private$7;(function(t){t.DRAG_THRESHOLD=5,t.DETACH_THRESHOLD=20;function e(){let m=document.createElement("div"),g=document.createElement("ul");g.setAttribute("role","tablist"),g.className="lm-TabBar-content",m.appendChild(g);let v=document.createElement("div");return v.className="lm-TabBar-addButton lm-mod-hidden",v.setAttribute("tabindex","-1"),v.setAttribute("role","button"),m.appendChild(v),m}t.createNode=e;function n(m){return m instanceof Title?m:new Title(m)}t.asTitle=n;function i(m){let g=window.getComputedStyle(m);return 1e3*(parseFloat(g.transitionDuration)||0)}t.parseTransitionDuration=i;function o(m,g){let v=new Array(m.length);for(let y=0,w=m.length;y<w;++y){let T=m[y],P=window.getComputedStyle(T);g==="horizontal"?v[y]={pos:T.offsetLeft,size:T.offsetWidth,margin:parseFloat(P.marginLeft)||0}:v[y]={pos:T.offsetTop,size:T.offsetHeight,margin:parseFloat(P.marginTop)||0}}return v}t.snapTabLayout=o;function u(m,g){let v=Math.abs(g.clientX-m.pressX),y=Math.abs(g.clientY-m.pressY);return v>=t.DRAG_THRESHOLD||y>=t.DRAG_THRESHOLD}t.dragExceeded=u;function l(m,g){let v=m.contentRect;return g.clientX<v.left-t.DETACH_THRESHOLD||g.clientX>=v.right+t.DETACH_THRESHOLD||g.clientY<v.top-t.DETACH_THRESHOLD||g.clientY>=v.bottom+t.DETACH_THRESHOLD}t.detachExceeded=l;function c(m,g,v,y){let w,T,P,A;y==="horizontal"?(w=g.pressX,T=v.clientX-g.contentRect.left,P=v.clientX,A=g.contentRect.width):(w=g.pressY,T=v.clientY-g.contentRect.top,P=v.clientY,A=g.contentRect.height);let D=g.index,k=T-g.tabPressPos,j=k+g.tabSize;for(let B=0,Z=m.length;B<Z;++B){let R,G=g.tabLayout[B],F=G.pos+(G.size>>1);if(B<g.index&&k<F)R=`${g.tabSize+g.tabLayout[B+1].margin}px`,D=Math.min(D,B);else if(B>g.index&&j>F)R=`${-g.tabSize-G.margin}px`,D=Math.max(D,B);else if(B===g.index){let K=P-w,Q=A-(g.tabPos+g.tabSize);R=`${Math.max(-g.tabPos,Math.min(K,Q))}px`}else R="";y==="horizontal"?m[B].style.left=R:m[B].style.top=R}g.targetIndex=D}t.layoutTabs=c;function f(m,g){let v;g==="horizontal"?v=m.contentRect.width:v=m.contentRect.height;let y;if(m.targetIndex===m.index)y=0;else if(m.targetIndex>m.index){let P=m.tabLayout[m.targetIndex];y=P.pos+P.size-m.tabSize-m.tabPos}else y=m.tabLayout[m.targetIndex].pos-m.tabPos;let w=v-(m.tabPos+m.tabSize),T=Math.max(-m.tabPos,Math.min(y,w));g==="horizontal"?m.tab.style.left=`${T}px`:m.tab.style.top=`${T}px`}t.finalizeTabPosition=f;function d(m,g){for(const v of m)g==="horizontal"?v.style.left="":v.style.top=""}t.resetTabPositions=d})(Private$7||(Private$7={}));class DockLayout extends Layout{constructor(e){super(),this._spacing=4,this._dirty=!1,this._root=null,this._box=null,this._items=new Map,this.renderer=e.renderer,e.spacing!==void 0&&(this._spacing=Utils$1.clampDimension(e.spacing)),this._document=e.document||document,this._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:Widget.HiddenMode.Display}dispose(){let e=this[Symbol.iterator]();this._items.forEach(n=>{n.dispose()}),this._box=null,this._root=null,this._items.clear();for(const n of e)n.dispose();super.dispose()}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){if(this._hiddenMode!==e){this._hiddenMode=e;for(const n of this.tabBars())if(n.titles.length>1)for(const i of n.titles)i.owner.hiddenMode=this._hiddenMode}}get spacing(){return this._spacing}set spacing(e){e=Utils$1.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())}get isEmpty(){return this._root===null}[Symbol.iterator](){return this._root?this._root.iterAllWidgets():empty$a()}widgets(){return this._root?this._root.iterUserWidgets():empty$a()}selectedWidgets(){return this._root?this._root.iterSelectedWidgets():empty$a()}tabBars(){return this._root?this._root.iterTabBars():empty$a()}handles(){return this._root?this._root.iterHandles():empty$a()}moveHandle(e,n,i){let o=e.classList.contains("lm-mod-hidden");if(!this._root||o)return;let u=this._root.findSplitNode(e);if(!u)return;let l;u.node.orientation==="horizontal"?l=n-e.offsetLeft:l=i-e.offsetTop,l!==0&&(u.node.holdSizes(),BoxEngine.adjust(u.node.sizers,u.index,l),this.parent&&this.parent.update())}saveLayout(){return this._root?(this._root.holdAllSizes(),{main:this._root.createConfig()}):{main:null}}restoreLayout(e){let n=new Set,i;e.main?i=Private$6.normalizeAreaConfig(e.main,n):i=null;let o=this.widgets(),u=this.tabBars(),l=this.handles();this._root=null;for(const c of o)n.has(c)||(c.parent=null);for(const c of u)c.dispose();for(const c of l)c.parentNode&&c.parentNode.removeChild(c);for(const c of n)c.parent=this.parent;i?this._root=Private$6.realizeAreaConfig(i,{createTabBar:c=>this._createTabBar(),createHandle:()=>this._createHandle()},this._document):this._root=null,this.parent&&(n.forEach(c=>{this.attachWidget(c)}),this.parent.fit())}addWidget(e,n={}){let i=n.ref||null,o=n.mode||"tab-after",u=null;if(this._root&&i&&(u=this._root.findTabNode(i)),i&&!u)throw new Error("Reference widget is not in the layout.");switch(e.parent=this.parent,o){case"tab-after":this._insertTab(e,i,u,!0);break;case"tab-before":this._insertTab(e,i,u,!1);break;case"split-top":this._insertSplit(e,i,u,"vertical",!1);break;case"split-left":this._insertSplit(e,i,u,"horizontal",!1);break;case"split-right":this._insertSplit(e,i,u,"horizontal",!0);break;case"split-bottom":this._insertSplit(e,i,u,"vertical",!0);break;case"merge-top":this._insertSplit(e,i,u,"vertical",!1,!0);break;case"merge-left":this._insertSplit(e,i,u,"horizontal",!1,!0);break;case"merge-right":this._insertSplit(e,i,u,"horizontal",!0,!0);break;case"merge-bottom":this._insertSplit(e,i,u,"vertical",!0,!0);break}this.parent&&(this.attachWidget(e),this.parent.fit())}removeWidget(e){this._removeWidget(e),this.parent&&(this.detachWidget(e),this.parent.fit())}hitTestTabAreas(e,n){if(!this._root||!this.parent||!this.parent.isVisible)return null;this._box||(this._box=ElementExt$1.boxSizing(this.parent.node));let i=this.parent.node.getBoundingClientRect(),o=e-i.left-this._box.borderLeft,u=n-i.top-this._box.borderTop,l=this._root.hitTestTabNodes(o,u);if(!l)return null;let{tabBar:c,top:f,left:d,width:m,height:g}=l,v=this._box.borderLeft+this._box.borderRight,y=this._box.borderTop+this._box.borderBottom,w=i.width-v-(d+m),T=i.height-y-(f+g);return{tabBar:c,x:o,y:u,top:f,left:d,right:w,bottom:T,width:m,height:g}}init(){super.init();for(const e of this)this.attachWidget(e);for(const e of this.handles())this.parent.node.appendChild(e);this.parent.fit()}attachWidget(e){this.parent.node!==e.node.parentNode&&(this._items.set(e,new LayoutItem(e)),this.parent.isAttached&&MessageLoop.sendMessage(e,Widget.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&MessageLoop.sendMessage(e,Widget.Msg.AfterAttach))}detachWidget(e){if(this.parent.node!==e.node.parentNode)return;this.parent.isAttached&&MessageLoop.sendMessage(e,Widget.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&MessageLoop.sendMessage(e,Widget.Msg.AfterDetach);let n=this._items.get(e);n&&(this._items.delete(e),n.dispose())}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_removeWidget(e){if(!this._root)return;let n=this._root.findTabNode(e);if(!n)return;if(Private$6.removeAria(e),n.tabBar.titles.length>1){if(n.tabBar.removeTab(e.title),this._hiddenMode===Widget.HiddenMode.Scale&&n.tabBar.titles.length==1){const v=n.tabBar.titles[0].owner;v.hiddenMode=Widget.HiddenMode.Display}return}if(n.tabBar.dispose(),this._root===n){this._root=null;return}this._root.holdAllSizes();let i=n.parent;n.parent=null;let o=ArrayExt$4.removeFirstOf(i.children,n),u=ArrayExt$4.removeAt(i.handles,o);if(ArrayExt$4.removeAt(i.sizers,o),u.parentNode&&u.parentNode.removeChild(u),i.children.length>1){i.syncHandles();return}let l=i.parent;i.parent=null;let c=i.children[0],f=i.handles[0];if(i.children.length=0,i.handles.length=0,i.sizers.length=0,f.parentNode&&f.parentNode.removeChild(f),this._root===i){c.parent=null,this._root=c;return}let d=l,m=d.children.indexOf(i);if(c instanceof Private$6.TabLayoutNode){c.parent=d,d.children[m]=c;return}let g=ArrayExt$4.removeAt(d.handles,m);ArrayExt$4.removeAt(d.children,m),ArrayExt$4.removeAt(d.sizers,m),g.parentNode&&g.parentNode.removeChild(g);for(let v=0,y=c.children.length;v<y;++v){let w=c.children[v],T=c.handles[v],P=c.sizers[v];ArrayExt$4.insert(d.children,m+v,w),ArrayExt$4.insert(d.handles,m+v,T),ArrayExt$4.insert(d.sizers,m+v,P),w.parent=d}c.children.length=0,c.handles.length=0,c.sizers.length=0,c.parent=null,d.syncHandles()}_createTabNode(e){let n=new Private$6.TabLayoutNode(this._createTabBar());return n.tabBar.addTab(e.title),Private$6.addAria(e,n.tabBar),n}_insertTab(e,n,i,o){if(e===n)return;if(!this._root){let l=new Private$6.TabLayoutNode(this._createTabBar());l.tabBar.addTab(e.title),this._root=l,Private$6.addAria(e,l.tabBar);return}i||(i=this._root.findFirstTabNode()),i.tabBar.titles.indexOf(e.title)===-1&&(this._removeWidget(e),e.hide());let u;if(n?u=i.tabBar.titles.indexOf(n.title):u=i.tabBar.currentIndex,this._hiddenMode===Widget.HiddenMode.Scale)if(i.tabBar.titles.length===0)e.hiddenMode=Widget.HiddenMode.Display;else if(i.tabBar.titles.length==1){const l=i.tabBar.titles[0].owner;l.hiddenMode=Widget.HiddenMode.Scale}else e.hiddenMode=Widget.HiddenMode.Scale;else e.hiddenMode=this._hiddenMode;i.tabBar.insertTab(u+(o?1:0),e.title),Private$6.addAria(e,i.tabBar)}_insertSplit(e,n,i,o,u,l=!1){if(e===n&&i&&i.tabBar.titles.length===1)return;if(this._removeWidget(e),!this._root){this._root=this._createTabNode(e);return}if(!i||!i.parent){let v=this._splitRoot(o),y=u?v.children.length:0;v.normalizeSizes();let w=Private$6.createSizer(i?1:Private$6.GOLDEN_RATIO),T=this._createTabNode(e);ArrayExt$4.insert(v.children,y,T),ArrayExt$4.insert(v.sizers,y,w),ArrayExt$4.insert(v.handles,y,this._createHandle()),T.parent=v,v.normalizeSizes(),v.syncHandles();return}let c=i.parent;if(c.orientation===o){let v=c.children.indexOf(i);if(l){let P=v+(u?1:-1),A=c.children[P];if(A instanceof Private$6.TabLayoutNode){this._insertTab(e,null,A,!0),++A.tabBar.currentIndex;return}}c.normalizeSizes();let y=c.sizers[v].sizeHint/=2,w=v+(u?1:0),T=this._createTabNode(e);ArrayExt$4.insert(c.children,w,T),ArrayExt$4.insert(c.sizers,w,Private$6.createSizer(y)),ArrayExt$4.insert(c.handles,w,this._createHandle()),T.parent=c,c.syncHandles();return}let f=ArrayExt$4.removeFirstOf(c.children,i),d=new Private$6.SplitLayoutNode(o);d.normalized=!0,d.children.push(i),d.sizers.push(Private$6.createSizer(.5)),d.handles.push(this._createHandle()),i.parent=d;let m=u?1:0,g=this._createTabNode(e);ArrayExt$4.insert(d.children,m,g),ArrayExt$4.insert(d.sizers,m,Private$6.createSizer(.5)),ArrayExt$4.insert(d.handles,m,this._createHandle()),g.parent=d,d.syncHandles(),ArrayExt$4.insert(c.children,f,d),d.parent=c}_splitRoot(e){let n=this._root;if(n instanceof Private$6.SplitLayoutNode&&n.orientation===e)return n;let i=this._root=new Private$6.SplitLayoutNode(e);return n&&(i.children.push(n),i.sizers.push(Private$6.createSizer(0)),i.handles.push(this._createHandle()),n.parent=i),i}_fit(){let e=0,n=0;if(this._root){let u=this._root.fit(this._spacing,this._items);e=u.minWidth,n=u.minHeight}let i=this._box=ElementExt$1.boxSizing(this.parent.node);e+=i.horizontalSum,n+=i.verticalSum;let o=this.parent.node.style;o.minWidth=`${e}px`,o.minHeight=`${n}px`,this._dirty=!0,this.parent.parent&&MessageLoop.sendMessage(this.parent.parent,Widget.Msg.FitRequest),this._dirty&&MessageLoop.sendMessage(this.parent,Widget.Msg.UpdateRequest)}_update(e,n){if(this._dirty=!1,!this._root)return;e<0&&(e=this.parent.node.offsetWidth),n<0&&(n=this.parent.node.offsetHeight),this._box||(this._box=ElementExt$1.boxSizing(this.parent.node));let i=this._box.paddingTop,o=this._box.paddingLeft,u=e-this._box.horizontalSum,l=n-this._box.verticalSum;this._root.update(i,o,u,l,this._spacing,this._items)}_createTabBar(){let e=this.renderer.createTabBar(this._document);return e.orientation="horizontal",this.parent&&this.attachWidget(e),e}_createHandle(){let e=this.renderer.createHandle(),n=e.style;return n.position="absolute",n.contain="strict",n.top="0",n.left="0",n.width="0",n.height="0",this.parent&&this.parent.node.appendChild(e),e}}var Private$6;(function(t){t.GOLDEN_RATIO=.618;function e(v){let y=new BoxSizer;return y.sizeHint=v,y.size=v,y}t.createSizer=e;function n(v,y){let w;return v.type==="tab-area"?w=f(v,y):w=d(v,y),w}t.normalizeAreaConfig=n;function i(v,y,w){let T;return v.type==="tab-area"?T=m(v,y,w):T=g(v,y,w),T}t.realizeAreaConfig=i;class o{constructor(y){this.parent=null,this._top=0,this._left=0,this._width=0,this._height=0;let w=new BoxSizer,T=new BoxSizer;w.stretch=0,T.stretch=1,this.tabBar=y,this.sizers=[w,T]}get top(){return this._top}get left(){return this._left}get width(){return this._width}get height(){return this._height}*iterAllWidgets(){yield this.tabBar,yield*this.iterUserWidgets()}*iterUserWidgets(){for(const y of this.tabBar.titles)yield y.owner}*iterSelectedWidgets(){let y=this.tabBar.currentTitle;y&&(yield y.owner)}*iterTabBars(){yield this.tabBar}*iterHandles(){}findTabNode(y){return this.tabBar.titles.indexOf(y.title)!==-1?this:null}findSplitNode(y){return null}findFirstTabNode(){return this}hitTestTabNodes(y,w){return y<this._left||y>=this._left+this._width||w<this._top||w>=this._top+this._height?null:this}createConfig(){let y=this.tabBar.titles.map(T=>T.owner),w=this.tabBar.currentIndex;return{type:"tab-area",widgets:y,currentIndex:w}}holdAllSizes(){}fit(y,w){let T=0,P=0,A=1/0,D=1/0,k=w.get(this.tabBar),j=this.tabBar.currentTitle,B=j?w.get(j.owner):void 0,[Z,R]=this.sizers;return k&&k.fit(),B&&B.fit(),k&&!k.isHidden?(T=Math.max(T,k.minWidth),P+=k.minHeight,Z.minSize=k.minHeight,Z.maxSize=k.maxHeight):(Z.minSize=0,Z.maxSize=0),B&&!B.isHidden?(T=Math.max(T,B.minWidth),P+=B.minHeight,R.minSize=B.minHeight,R.maxSize=1/0):(R.minSize=0,R.maxSize=1/0),{minWidth:T,minHeight:P,maxWidth:A,maxHeight:D}}update(y,w,T,P,A,D){this._top=w,this._left=y,this._width=T,this._height=P;let k=D.get(this.tabBar),j=this.tabBar.currentTitle,B=j?D.get(j.owner):void 0;if(BoxEngine.calc(this.sizers,P),k&&!k.isHidden){let Z=this.sizers[0].size;k.update(y,w,T,Z),w+=Z}if(B&&!B.isHidden){let Z=this.sizers[1].size;B.update(y,w,T,Z)}}}t.TabLayoutNode=o;class u{constructor(y){this.parent=null,this.normalized=!1,this.children=[],this.sizers=[],this.handles=[],this.orientation=y}*iterAllWidgets(){for(const y of this.children)yield*y.iterAllWidgets()}*iterUserWidgets(){for(const y of this.children)yield*y.iterUserWidgets()}*iterSelectedWidgets(){for(const y of this.children)yield*y.iterSelectedWidgets()}*iterTabBars(){for(const y of this.children)yield*y.iterTabBars()}*iterHandles(){yield*this.handles;for(const y of this.children)yield*y.iterHandles()}findTabNode(y){for(let w=0,T=this.children.length;w<T;++w){let P=this.children[w].findTabNode(y);if(P)return P}return null}findSplitNode(y){let w=this.handles.indexOf(y);if(w!==-1)return{index:w,node:this};for(let T=0,P=this.children.length;T<P;++T){let A=this.children[T].findSplitNode(y);if(A)return A}return null}findFirstTabNode(){return this.children.length===0?null:this.children[0].findFirstTabNode()}hitTestTabNodes(y,w){for(let T=0,P=this.children.length;T<P;++T){let A=this.children[T].hitTestTabNodes(y,w);if(A)return A}return null}createConfig(){let y=this.orientation,w=this.createNormalizedSizes(),T=this.children.map(P=>P.createConfig());return{type:"split-area",orientation:y,children:T,sizes:w}}syncHandles(){this.handles.forEach((y,w)=>{y.setAttribute("data-orientation",this.orientation),w===this.handles.length-1?y.classList.add("lm-mod-hidden"):y.classList.remove("lm-mod-hidden")})}holdSizes(){for(const y of this.sizers)y.sizeHint=y.size}holdAllSizes(){for(const y of this.children)y.holdAllSizes();this.holdSizes()}normalizeSizes(){let y=this.sizers.length;if(y===0)return;this.holdSizes();let w=this.sizers.reduce((T,P)=>T+P.sizeHint,0);if(w===0)for(const T of this.sizers)T.size=T.sizeHint=1/y;else for(const T of this.sizers)T.size=T.sizeHint/=w;this.normalized=!0}createNormalizedSizes(){let y=this.sizers.length;if(y===0)return[];let w=this.sizers.map(P=>P.size),T=w.reduce((P,A)=>P+A,0);if(T===0)for(let P=w.length-1;P>-1;P--)w[P]=1/y;else for(let P=w.length-1;P>-1;P--)w[P]/=T;return w}fit(y,w){let T=this.orientation==="horizontal",P=Math.max(0,this.children.length-1)*y,A=T?P:0,D=T?0:P,k=1/0,j=1/0;for(let B=0,Z=this.children.length;B<Z;++B){let R=this.children[B].fit(y,w);T?(D=Math.max(D,R.minHeight),A+=R.minWidth,this.sizers[B].minSize=R.minWidth):(A=Math.max(A,R.minWidth),D+=R.minHeight,this.sizers[B].minSize=R.minHeight)}return{minWidth:A,minHeight:D,maxWidth:k,maxHeight:j}}update(y,w,T,P,A,D){let k=this.orientation==="horizontal",j=Math.max(0,this.children.length-1)*A,B=Math.max(0,(k?T:P)-j);if(this.normalized){for(const Z of this.sizers)Z.sizeHint*=B;this.normalized=!1}BoxEngine.calc(this.sizers,B);for(let Z=0,R=this.children.length;Z<R;++Z){let G=this.children[Z],F=this.sizers[Z].size,K=this.handles[Z].style;k?(G.update(y,w,F,P,A,D),y+=F,K.top=`${w}px`,K.left=`${y}px`,K.width=`${A}px`,K.height=`${P}px`,y+=A):(G.update(y,w,T,F,A,D),w+=F,K.top=`${w}px`,K.left=`${y}px`,K.width=`${T}px`,K.height=`${A}px`,w+=A)}}}t.SplitLayoutNode=u;function l(v,y){v.node.setAttribute("role","tabpanel");let w=y.renderer;if(w instanceof TabBar.Renderer){let T=w.createTabKey({title:v.title,current:!1,zIndex:0});v.node.setAttribute("aria-labelledby",T)}}t.addAria=l;function c(v){v.node.removeAttribute("role"),v.node.removeAttribute("aria-labelledby")}t.removeAria=c;function f(v,y){if(v.widgets.length===0)return null;let w=[];for(const P of v.widgets)y.has(P)||(y.add(P),w.push(P));if(w.length===0)return null;let T=v.currentIndex;return T!==-1&&(T<0||T>=w.length)&&(T=0),{type:"tab-area",widgets:w,currentIndex:T}}function d(v,y){let w=v.orientation,T=[],P=[];for(let A=0,D=v.children.length;A<D;++A){let k=n(v.children[A],y);k&&(k.type==="tab-area"||k.orientation!==w?(T.push(k),P.push(Math.abs(v.sizes[A]||0))):(T.push(...k.children),P.push(...k.sizes)))}return T.length===0?null:T.length===1?T[0]:{type:"split-area",orientation:w,children:T,sizes:P}}function m(v,y,w){let T=y.createTabBar(w);for(const P of v.widgets)P.hide(),T.addTab(P.title),t.addAria(P,T);return T.currentIndex=v.currentIndex,new o(T)}function g(v,y,w){let T=new u(v.orientation);return v.children.forEach((P,A)=>{let D=i(P,y,w),k=e(v.sizes[A]),j=y.createHandle();T.children.push(D),T.handles.push(j),T.sizers.push(k),D.parent=T}),T.syncHandles(),T.normalizeSizes(),T}})(Private$6||(Private$6={}));class DockPanel extends Widget{constructor(e={}){super(),this._drag=null,this._tabsMovable=!0,this._tabsConstrained=!1,this._addButtonEnabled=!1,this._pressData=null,this._layoutModified=new Signal$2(this),this._addRequested=new Signal$2(this),this.addClass("lm-DockPanel"),this._document=e.document||document,this._mode=e.mode||"multiple-document",this._renderer=e.renderer||DockPanel.defaultRenderer,this._edges=e.edges||Private$5.DEFAULT_EDGES,e.tabsMovable!==void 0&&(this._tabsMovable=e.tabsMovable),e.tabsConstrained!==void 0&&(this._tabsConstrained=e.tabsConstrained),e.addButtonEnabled!==void 0&&(this._addButtonEnabled=e.addButtonEnabled),this.dataset.mode=this._mode;let n={createTabBar:()=>this._createTabBar(),createHandle:()=>this._createHandle()};this.layout=new DockLayout({document:this._document,renderer:n,spacing:e.spacing,hiddenMode:e.hiddenMode}),this.overlay=e.overlay||new DockPanel.Overlay,this.node.appendChild(this.overlay.node)}dispose(){this._releaseMouse(),this.overlay.hide(0),this._drag&&this._drag.dispose(),super.dispose()}get hiddenMode(){return this.layout.hiddenMode}set hiddenMode(e){this.layout.hiddenMode=e}get layoutModified(){return this._layoutModified}get addRequested(){return this._addRequested}get renderer(){return this.layout.renderer}get spacing(){return this.layout.spacing}set spacing(e){this.layout.spacing=e}get mode(){return this._mode}set mode(e){if(this._mode===e)return;this._mode=e,this.dataset.mode=e;let n=this.layout;switch(e){case"multiple-document":for(const i of n.tabBars())i.show();break;case"single-document":n.restoreLayout(Private$5.createSingleDocumentConfig(this));break;default:throw"unreachable"}MessageLoop.postMessage(this,Private$5.LayoutModified)}get tabsMovable(){return this._tabsMovable}set tabsMovable(e){this._tabsMovable=e;for(const n of this.tabBars())n.tabsMovable=e}get tabsConstrained(){return this._tabsConstrained}set tabsConstrained(e){this._tabsConstrained=e}get addButtonEnabled(){return this._addButtonEnabled}set addButtonEnabled(e){this._addButtonEnabled=e;for(const n of this.tabBars())n.addButtonEnabled=e}get isEmpty(){return this.layout.isEmpty}*widgets(){yield*this.layout.widgets()}*selectedWidgets(){yield*this.layout.selectedWidgets()}*tabBars(){yield*this.layout.tabBars()}*handles(){yield*this.layout.handles()}selectWidget(e){let n=find$4(this.tabBars(),i=>i.titles.indexOf(e.title)!==-1);if(!n)throw new Error("Widget is not contained in the dock panel.");n.currentTitle=e.title}activateWidget(e){this.selectWidget(e),e.activate()}saveLayout(){return this.layout.saveLayout()}restoreLayout(e){this._mode="multiple-document",this.layout.restoreLayout(e),(Platform$1.IS_EDGE||Platform$1.IS_IE)&&MessageLoop.flush(),MessageLoop.postMessage(this,Private$5.LayoutModified)}addWidget(e,n={}){this._mode==="single-document"?this.layout.addWidget(e):this.layout.addWidget(e,n),MessageLoop.postMessage(this,Private$5.LayoutModified)}processMessage(e){e.type==="layout-modified"?this._layoutModified.emit(void 0):super.processMessage(e)}handleEvent(e){switch(e.type){case"lm-dragenter":this._evtDragEnter(e);break;case"lm-dragleave":this._evtDragLeave(e);break;case"lm-dragover":this._evtDragOver(e);break;case"lm-drop":this._evtDrop(e);break;case"pointerdown":this._evtPointerDown(e);break;case"pointermove":this._evtPointerMove(e);break;case"pointerup":this._evtPointerUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("lm-dragenter",this),this.node.addEventListener("lm-dragleave",this),this.node.addEventListener("lm-dragover",this),this.node.addEventListener("lm-drop",this),this.node.addEventListener("pointerdown",this)}onAfterDetach(e){this.node.removeEventListener("lm-dragenter",this),this.node.removeEventListener("lm-dragleave",this),this.node.removeEventListener("lm-dragover",this),this.node.removeEventListener("lm-drop",this),this.node.removeEventListener("pointerdown",this),this._releaseMouse()}onChildAdded(e){Private$5.isGeneratedTabBarProperty.get(e.child)||e.child.addClass("lm-DockPanel-widget")}onChildRemoved(e){Private$5.isGeneratedTabBarProperty.get(e.child)||(e.child.removeClass("lm-DockPanel-widget"),MessageLoop.postMessage(this,Private$5.LayoutModified))}_evtDragEnter(e){e.mimeData.hasData("application/vnd.lumino.widget-factory")&&(e.preventDefault(),e.stopPropagation())}_evtDragLeave(e){e.preventDefault(),!(this._tabsConstrained&&e.source!==this)&&(e.stopPropagation(),this.overlay.hide(1))}_evtDragOver(e){e.preventDefault(),this._tabsConstrained&&e.source!==this||this._showOverlay(e.clientX,e.clientY)==="invalid"?e.dropAction="none":(e.stopPropagation(),e.dropAction=e.proposedAction)}_evtDrop(e){if(e.preventDefault(),this.overlay.hide(0),e.proposedAction==="none"){e.dropAction="none";return}let{clientX:n,clientY:i}=e,{zone:o,target:u}=Private$5.findDropTarget(this,n,i,this._edges);if(this._tabsConstrained&&e.source!==this||o==="invalid"){e.dropAction="none";return}let c=e.mimeData.getData("application/vnd.lumino.widget-factory");if(typeof c!="function"){e.dropAction="none";return}let f=c();if(!(f instanceof Widget)){e.dropAction="none";return}if(f.contains(this)){e.dropAction="none";return}let d=u?Private$5.getDropRef(u.tabBar):null;switch(o){case"root-all":this.addWidget(f);break;case"root-top":this.addWidget(f,{mode:"split-top"});break;case"root-left":this.addWidget(f,{mode:"split-left"});break;case"root-right":this.addWidget(f,{mode:"split-right"});break;case"root-bottom":this.addWidget(f,{mode:"split-bottom"});break;case"widget-all":this.addWidget(f,{mode:"tab-after",ref:d});break;case"widget-top":this.addWidget(f,{mode:"split-top",ref:d});break;case"widget-left":this.addWidget(f,{mode:"split-left",ref:d});break;case"widget-right":this.addWidget(f,{mode:"split-right",ref:d});break;case"widget-bottom":this.addWidget(f,{mode:"split-bottom",ref:d});break;case"widget-tab":this.addWidget(f,{mode:"tab-after",ref:d});break;default:throw"unreachable"}e.dropAction=e.proposedAction,e.stopPropagation(),this.activateWidget(f)}_evtKeyDown(e){e.preventDefault(),e.stopPropagation(),e.keyCode===27&&(this._releaseMouse(),MessageLoop.postMessage(this,Private$5.LayoutModified))}_evtPointerDown(e){if(e.button!==0)return;let n=this.layout,i=e.target,o=find$4(n.handles(),m=>m.contains(i));if(!o)return;e.preventDefault(),e.stopPropagation(),this._document.addEventListener("keydown",this,!0),this._document.addEventListener("pointerup",this,!0),this._document.addEventListener("pointermove",this,!0),this._document.addEventListener("contextmenu",this,!0);let u=o.getBoundingClientRect(),l=e.clientX-u.left,c=e.clientY-u.top,f=window.getComputedStyle(o),d=Drag.overrideCursor(f.cursor,this._document);this._pressData={handle:o,deltaX:l,deltaY:c,override:d}}_evtPointerMove(e){if(!this._pressData)return;e.preventDefault(),e.stopPropagation();let n=this.node.getBoundingClientRect(),i=e.clientX-n.left-this._pressData.deltaX,o=e.clientY-n.top-this._pressData.deltaY;this.layout.moveHandle(this._pressData.handle,i,o)}_evtPointerUp(e){e.button===0&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse(),MessageLoop.postMessage(this,Private$5.LayoutModified))}_releaseMouse(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._document.removeEventListener("keydown",this,!0),this._document.removeEventListener("pointerup",this,!0),this._document.removeEventListener("pointermove",this,!0),this._document.removeEventListener("contextmenu",this,!0))}_showOverlay(e,n){let{zone:i,target:o}=Private$5.findDropTarget(this,e,n,this._edges);if(i==="invalid")return this.overlay.hide(100),i;let u,l,c,f,d=ElementExt$1.boxSizing(this.node),m=this.node.getBoundingClientRect();switch(i){case"root-all":u=d.paddingTop,l=d.paddingLeft,c=d.paddingRight,f=d.paddingBottom;break;case"root-top":u=d.paddingTop,l=d.paddingLeft,c=d.paddingRight,f=m.height*Private$5.GOLDEN_RATIO;break;case"root-left":u=d.paddingTop,l=d.paddingLeft,c=m.width*Private$5.GOLDEN_RATIO,f=d.paddingBottom;break;case"root-right":u=d.paddingTop,l=m.width*Private$5.GOLDEN_RATIO,c=d.paddingRight,f=d.paddingBottom;break;case"root-bottom":u=m.height*Private$5.GOLDEN_RATIO,l=d.paddingLeft,c=d.paddingRight,f=d.paddingBottom;break;case"widget-all":u=o.top,l=o.left,c=o.right,f=o.bottom;break;case"widget-top":u=o.top,l=o.left,c=o.right,f=o.bottom+o.height/2;break;case"widget-left":u=o.top,l=o.left,c=o.right+o.width/2,f=o.bottom;break;case"widget-right":u=o.top,l=o.left+o.width/2,c=o.right,f=o.bottom;break;case"widget-bottom":u=o.top+o.height/2,l=o.left,c=o.right,f=o.bottom;break;case"widget-tab":{const g=o.tabBar.node.getBoundingClientRect().height;u=o.top,l=o.left,c=o.right,f=o.bottom+o.height-g;break}default:throw"unreachable"}return this.overlay.show({top:u,left:l,right:c,bottom:f}),i}_createTabBar(){let e=this._renderer.createTabBar(this._document);return Private$5.isGeneratedTabBarProperty.set(e,!0),this._mode==="single-document"&&e.hide(),e.tabsMovable=this._tabsMovable,e.allowDeselect=!1,e.addButtonEnabled=this._addButtonEnabled,e.removeBehavior="select-previous-tab",e.insertBehavior="select-tab-if-needed",e.tabMoved.connect(this._onTabMoved,this),e.currentChanged.connect(this._onCurrentChanged,this),e.tabCloseRequested.connect(this._onTabCloseRequested,this),e.tabDetachRequested.connect(this._onTabDetachRequested,this),e.tabActivateRequested.connect(this._onTabActivateRequested,this),e.addRequested.connect(this._onTabAddRequested,this),e}_createHandle(){return this._renderer.createHandle()}_onTabMoved(){MessageLoop.postMessage(this,Private$5.LayoutModified)}_onCurrentChanged(e,n){let{previousTitle:i,currentTitle:o}=n;i&&i.owner.hide(),o&&o.owner.show(),(Platform$1.IS_EDGE||Platform$1.IS_IE)&&MessageLoop.flush(),MessageLoop.postMessage(this,Private$5.LayoutModified)}_onTabAddRequested(e){this._addRequested.emit(e)}_onTabActivateRequested(e,n){n.title.owner.activate()}_onTabCloseRequested(e,n){n.title.owner.close()}_onTabDetachRequested(e,n){if(this._drag)return;e.releaseMouse();let{title:i,tab:o,clientX:u,clientY:l,offset:c}=n,f=new MimeData$1,d=()=>i.owner;f.setData("application/vnd.lumino.widget-factory",d);let m=o.cloneNode(!0);c&&(m.style.top=`-${c.y}px`,m.style.left=`-${c.x}px`),this._drag=new Drag({document:this._document,mimeData:f,dragImage:m,proposedAction:"move",supportedActions:"move",source:this}),o.classList.add("lm-mod-hidden");let g=()=>{this._drag=null,o.classList.remove("lm-mod-hidden")};this._drag.start(u,l).then(g)}}(function(t){class e{constructor(){this._timer=-1,this._hidden=!0,this.node=document.createElement("div"),this.node.classList.add("lm-DockPanel-overlay"),this.node.classList.add("lm-mod-hidden"),this.node.style.position="absolute",this.node.style.contain="strict"}show(o){let u=this.node.style;u.top=`${o.top}px`,u.left=`${o.left}px`,u.right=`${o.right}px`,u.bottom=`${o.bottom}px`,clearTimeout(this._timer),this._timer=-1,this._hidden&&(this._hidden=!1,this.node.classList.remove("lm-mod-hidden"))}hide(o){if(!this._hidden){if(o<=0){clearTimeout(this._timer),this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden");return}this._timer===-1&&(this._timer=window.setTimeout(()=>{this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden")},o))}}}t.Overlay=e;class n{createTabBar(o){let u=new TabBar({document:o});return u.addClass("lm-DockPanel-tabBar"),u}createHandle(){let o=document.createElement("div");return o.className="lm-DockPanel-handle",o}}t.Renderer=n,t.defaultRenderer=new n})(DockPanel||(DockPanel={}));var Private$5;(function(t){t.GOLDEN_RATIO=.618,t.DEFAULT_EDGES={top:12,right:40,bottom:40,left:40},t.LayoutModified=new ConflatableMessage("layout-modified"),t.isGeneratedTabBarProperty=new AttachedProperty$2({name:"isGeneratedTabBar",create:()=>!1});function e(o){if(o.isEmpty)return{main:null};let u=Array.from(o.widgets()),l=o.selectedWidgets().next().value,c=l?u.indexOf(l):-1;return{main:{type:"tab-area",widgets:u,currentIndex:c}}}t.createSingleDocumentConfig=e;function n(o,u,l,c){if(!ElementExt$1.hitTest(o.node,u,l))return{zone:"invalid",target:null};let f=o.layout;if(f.isEmpty)return{zone:"root-all",target:null};if(o.mode==="multiple-document"){let k=o.node.getBoundingClientRect(),j=u-k.left+1,B=l-k.top+1,Z=k.right-u,R=k.bottom-l;switch(Math.min(B,Z,R,j)){case B:if(B<c.top)return{zone:"root-top",target:null};break;case Z:if(Z<c.right)return{zone:"root-right",target:null};break;case R:if(R<c.bottom)return{zone:"root-bottom",target:null};break;case j:if(j<c.left)return{zone:"root-left",target:null};break;default:throw"unreachable"}}let d=f.hitTestTabAreas(u,l);if(!d)return{zone:"invalid",target:null};if(o.mode==="single-document")return{zone:"widget-all",target:d};let m=d.x-d.left+1,g=d.y-d.top+1,v=d.left+d.width-d.x,y=d.top+d.height-d.y;const w=d.tabBar.node.getBoundingClientRect().height;if(g<w)return{zone:"widget-tab",target:d};let T=Math.round(d.width/3),P=Math.round(d.height/3);if(m>T&&v>T&&g>P&&y>P)return{zone:"widget-all",target:d};m/=T,g/=P,v/=T,y/=P;let A=Math.min(m,g,v,y),D;switch(A){case m:D="widget-left";break;case g:D="widget-top";break;case v:D="widget-right";break;case y:D="widget-bottom";break;default:throw"unreachable"}return{zone:D,target:d}}t.findDropTarget=n;function i(o){return o.titles.length===0?null:o.currentTitle?o.currentTitle.owner:o.titles[o.titles.length-1].owner}t.getDropRef=i})(Private$5||(Private$5={}));class GridLayout extends Layout{constructor(e={}){super(e),this._dirty=!1,this._rowSpacing=4,this._columnSpacing=4,this._items=[],this._rowStarts=[],this._columnStarts=[],this._rowSizers=[new BoxSizer],this._columnSizers=[new BoxSizer],this._box=null,e.rowCount!==void 0&&Private$4.reallocSizers(this._rowSizers,e.rowCount),e.columnCount!==void 0&&Private$4.reallocSizers(this._columnSizers,e.columnCount),e.rowSpacing!==void 0&&(this._rowSpacing=Private$4.clampValue(e.rowSpacing)),e.columnSpacing!==void 0&&(this._columnSpacing=Private$4.clampValue(e.columnSpacing))}dispose(){for(const e of this._items){let n=e.widget;e.dispose(),n.dispose()}this._box=null,this._items.length=0,this._rowStarts.length=0,this._rowSizers.length=0,this._columnStarts.length=0,this._columnSizers.length=0,super.dispose()}get rowCount(){return this._rowSizers.length}set rowCount(e){e!==this.rowCount&&(Private$4.reallocSizers(this._rowSizers,e),this.parent&&this.parent.fit())}get columnCount(){return this._columnSizers.length}set columnCount(e){e!==this.columnCount&&(Private$4.reallocSizers(this._columnSizers,e),this.parent&&this.parent.fit())}get rowSpacing(){return this._rowSpacing}set rowSpacing(e){e=Private$4.clampValue(e),this._rowSpacing!==e&&(this._rowSpacing=e,this.parent&&this.parent.fit())}get columnSpacing(){return this._columnSpacing}set columnSpacing(e){e=Private$4.clampValue(e),this._columnSpacing!==e&&(this._columnSpacing=e,this.parent&&this.parent.fit())}rowStretch(e){let n=this._rowSizers[e];return n?n.stretch:-1}setRowStretch(e,n){let i=this._rowSizers[e];i&&(n=Private$4.clampValue(n),i.stretch!==n&&(i.stretch=n,this.parent&&this.parent.update()))}columnStretch(e){let n=this._columnSizers[e];return n?n.stretch:-1}setColumnStretch(e,n){let i=this._columnSizers[e];i&&(n=Private$4.clampValue(n),i.stretch!==n&&(i.stretch=n,this.parent&&this.parent.update()))}*[Symbol.iterator](){for(const e of this._items)yield e.widget}addWidget(e){ArrayExt$4.findFirstIndex(this._items,i=>i.widget===e)===-1&&(this._items.push(new LayoutItem(e)),this.parent&&this.attachWidget(e))}removeWidget(e){let n=ArrayExt$4.findFirstIndex(this._items,o=>o.widget===e);if(n===-1)return;let i=ArrayExt$4.removeAt(this._items,n);this.parent&&this.detachWidget(e),i.dispose()}init(){super.init();for(const e of this)this.attachWidget(e)}attachWidget(e){this.parent.isAttached&&MessageLoop.sendMessage(e,Widget.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&MessageLoop.sendMessage(e,Widget.Msg.AfterAttach),this.parent.fit()}detachWidget(e){this.parent.isAttached&&MessageLoop.sendMessage(e,Widget.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&MessageLoop.sendMessage(e,Widget.Msg.AfterDetach),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){for(let f=0,d=this.rowCount;f<d;++f)this._rowSizers[f].minSize=0;for(let f=0,d=this.columnCount;f<d;++f)this._columnSizers[f].minSize=0;let e=this._items.filter(f=>!f.isHidden);for(let f=0,d=e.length;f<d;++f)e[f].fit();let n=this.rowCount-1,i=this.columnCount-1;e.sort(Private$4.rowSpanCmp);for(let f=0,d=e.length;f<d;++f){let m=e[f],g=GridLayout.getCellConfig(m.widget),v=Math.min(g.row,n),y=Math.min(g.row+g.rowSpan-1,n);Private$4.distributeMin(this._rowSizers,v,y,m.minHeight)}e.sort(Private$4.columnSpanCmp);for(let f=0,d=e.length;f<d;++f){let m=e[f],g=GridLayout.getCellConfig(m.widget),v=Math.min(g.column,i),y=Math.min(g.column+g.columnSpan-1,i);Private$4.distributeMin(this._columnSizers,v,y,m.minWidth)}if(this.fitPolicy==="set-no-constraint"){MessageLoop.sendMessage(this.parent,Widget.Msg.UpdateRequest);return}let o=n*this._rowSpacing,u=i*this._columnSpacing;for(let f=0,d=this.rowCount;f<d;++f)o+=this._rowSizers[f].minSize;for(let f=0,d=this.columnCount;f<d;++f)u+=this._columnSizers[f].minSize;let l=this._box=ElementExt$1.boxSizing(this.parent.node);u+=l.horizontalSum,o+=l.verticalSum;let c=this.parent.node.style;c.minWidth=`${u}px`,c.minHeight=`${o}px`,this._dirty=!0,this.parent.parent&&MessageLoop.sendMessage(this.parent.parent,Widget.Msg.FitRequest),this._dirty&&MessageLoop.sendMessage(this.parent,Widget.Msg.UpdateRequest)}_update(e,n){this._dirty=!1,e<0&&(e=this.parent.node.offsetWidth),n<0&&(n=this.parent.node.offsetHeight),this._box||(this._box=ElementExt$1.boxSizing(this.parent.node));let i=this._box.paddingTop,o=this._box.paddingLeft,u=e-this._box.horizontalSum,l=n-this._box.verticalSum,c=this.rowCount-1,f=this.columnCount-1,d=c*this._rowSpacing,m=f*this._columnSpacing;BoxEngine.calc(this._rowSizers,Math.max(0,l-d)),BoxEngine.calc(this._columnSizers,Math.max(0,u-m));for(let g=0,v=i,y=this.rowCount;g<y;++g)this._rowStarts[g]=v,v+=this._rowSizers[g].size+this._rowSpacing;for(let g=0,v=o,y=this.columnCount;g<y;++g)this._columnStarts[g]=v,v+=this._columnSizers[g].size+this._columnSpacing;for(let g=0,v=this._items.length;g<v;++g){let y=this._items[g];if(y.isHidden)continue;let w=GridLayout.getCellConfig(y.widget),T=Math.min(w.row,c),P=Math.min(w.column,f),A=Math.min(w.row+w.rowSpan-1,c),D=Math.min(w.column+w.columnSpan-1,f),k=this._columnStarts[P],j=this._rowStarts[T],B=this._columnStarts[D]+this._columnSizers[D].size-k,Z=this._rowStarts[A]+this._rowSizers[A].size-j;y.update(k,j,B,Z)}}}(function(t){function e(i){return Private$4.cellConfigProperty.get(i)}t.getCellConfig=e;function n(i,o){Private$4.cellConfigProperty.set(i,Private$4.normalizeConfig(o))}t.setCellConfig=n})(GridLayout||(GridLayout={}));var Private$4;(function(t){t.cellConfigProperty=new AttachedProperty$2({name:"cellConfig",create:()=>({row:0,column:0,rowSpan:1,columnSpan:1}),changed:c});function e(f){let d=Math.max(0,Math.floor(f.row||0)),m=Math.max(0,Math.floor(f.column||0)),g=Math.max(1,Math.floor(f.rowSpan||0)),v=Math.max(1,Math.floor(f.columnSpan||0));return{row:d,column:m,rowSpan:g,columnSpan:v}}t.normalizeConfig=e;function n(f){return Math.max(0,Math.floor(f))}t.clampValue=n;function i(f,d){let m=t.cellConfigProperty.get(f.widget),g=t.cellConfigProperty.get(d.widget);return m.rowSpan-g.rowSpan}t.rowSpanCmp=i;function o(f,d){let m=t.cellConfigProperty.get(f.widget),g=t.cellConfigProperty.get(d.widget);return m.columnSpan-g.columnSpan}t.columnSpanCmp=o;function u(f,d){for(d=Math.max(1,Math.floor(d));f.length<d;)f.push(new BoxSizer);f.length>d&&(f.length=d)}t.reallocSizers=u;function l(f,d,m,g){if(m<d)return;if(d===m){let w=f[d];w.minSize=Math.max(w.minSize,g);return}let v=0;for(let w=d;w<=m;++w)v+=f[w].minSize;if(v>=g)return;let y=(g-v)/(m-d+1);for(let w=d;w<=m;++w)f[w].minSize+=y}t.distributeMin=l;function c(f){f.parent&&f.parent.layout instanceof GridLayout&&f.parent.fit()}})(Private$4||(Private$4={}));class MenuBar extends Widget{constructor(e={}){super({node:Private$3.createNode()}),this._activeIndex=-1,this._tabFocusIndex=0,this._menus=[],this._childMenu=null,this._overflowMenu=null,this._menuItemSizes=[],this._overflowIndex=-1,this.addClass("lm-MenuBar"),this.setFlag(Widget.Flag.DisallowLayout),this.renderer=e.renderer||MenuBar.defaultRenderer,this._forceItemsPosition=e.forceItemsPosition||{forceX:!0,forceY:!0},this._overflowMenuOptions=e.overflowMenuOptions||{isVisible:!0}}dispose(){this._closeChildMenu(),this._menus.length=0,super.dispose()}get childMenu(){return this._childMenu}get overflowIndex(){return this._overflowIndex}get overflowMenu(){return this._overflowMenu}get contentNode(){return this.node.getElementsByClassName("lm-MenuBar-content")[0]}get activeMenu(){return this._menus[this._activeIndex]||null}set activeMenu(e){this.activeIndex=e?this._menus.indexOf(e):-1}get activeIndex(){return this._activeIndex}set activeIndex(e){(e<0||e>=this._menus.length)&&(e=-1),e>-1&&this._menus[e].items.length===0&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this.update())}get menus(){return this._menus}openActiveMenu(){this._activeIndex!==-1&&(this._openChildMenu(),this._childMenu&&(this._childMenu.activeIndex=-1,this._childMenu.activateNextItem()))}addMenu(e,n=!0){this.insertMenu(this._menus.length,e,n)}insertMenu(e,n,i=!0){this._closeChildMenu();let o=this._menus.indexOf(n),u=Math.max(0,Math.min(e,this._menus.length));if(o===-1){ArrayExt$4.insert(this._menus,u,n),n.addClass("lm-MenuBar-menu"),n.aboutToClose.connect(this._onMenuAboutToClose,this),n.menuRequested.connect(this._onMenuMenuRequested,this),n.title.changed.connect(this._onTitleChanged,this),i&&this.update();return}u===this._menus.length&&u--,o!==u&&(ArrayExt$4.move(this._menus,o,u),i&&this.update())}removeMenu(e,n=!0){this.removeMenuAt(this._menus.indexOf(e),n)}removeMenuAt(e,n=!0){this._closeChildMenu();let i=ArrayExt$4.removeAt(this._menus,e);i&&(i.aboutToClose.disconnect(this._onMenuAboutToClose,this),i.menuRequested.disconnect(this._onMenuMenuRequested,this),i.title.changed.disconnect(this._onTitleChanged,this),i.removeClass("lm-MenuBar-menu"),n&&this.update())}clearMenus(){if(this._menus.length!==0){this._closeChildMenu();for(let e of this._menus)e.aboutToClose.disconnect(this._onMenuAboutToClose,this),e.menuRequested.disconnect(this._onMenuMenuRequested,this),e.title.changed.disconnect(this._onTitleChanged,this),e.removeClass("lm-MenuBar-menu");this._menus.length=0,this.update()}}handleEvent(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":case"mouseleave":this._evtMouseMove(e);break;case"focusout":this._evtFocusOut(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}}onBeforeAttach(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("focusout",this),this.node.addEventListener("contextmenu",this)}onAfterDetach(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("focusout",this),this.node.removeEventListener("contextmenu",this),this._closeChildMenu()}onActivateRequest(e){this.isAttached&&this._focusItemAt(0)}onResize(e){this.update(),super.onResize(e)}onUpdateRequest(e){var n;let i=this._menus,o=this.renderer,u=this._activeIndex,l=this._tabFocusIndex>=0&&this._tabFocusIndex<i.length?this._tabFocusIndex:0,c=this._overflowIndex>-1?this._overflowIndex:i.length,f=0,d=!1;c=this._overflowMenu!==null?c-1:c;let m=new Array(c);for(let g=0;g<c;++g)m[g]=o.renderItem({title:i[g].title,active:g===u,tabbable:g===l,disabled:i[g].items.length===0,onfocus:()=>{this._tabFocusIndex=g,this.activeIndex=g}}),f+=this._menuItemSizes[g],i[g].title.label===this._overflowMenuOptions.title&&(d=!0,c--);if(this._overflowMenuOptions.isVisible){if(this._overflowIndex>-1&&!d){if(this._overflowMenu===null){const g=(n=this._overflowMenuOptions.title)!==null&&n!==void 0?n:"...";this._overflowMenu=new Menu({commands:new CommandRegistry$1}),this._overflowMenu.title.label=g,this._overflowMenu.title.mnemonic=0,this.addMenu(this._overflowMenu,!1)}for(let g=i.length-2;g>=c;g--){const v=this.menus[g];v.title.mnemonic=0,this._overflowMenu.insertItem(0,{type:"submenu",submenu:v}),this.removeMenu(v,!1)}m[c]=o.renderItem({title:this._overflowMenu.title,active:c===u&&i[c].items.length!==0,tabbable:c===l,disabled:i[c].items.length===0,onfocus:()=>{this._tabFocusIndex=c,this.activeIndex=c}}),c++}else if(this._overflowMenu!==null){let g=this._overflowMenu.items,v=this.node.offsetWidth,y=this._overflowMenu.items.length;for(let w=0;w<y;++w){let T=i.length-1-w;if(v-f>this._menuItemSizes[T]){let P=g[0].submenu;this._overflowMenu.removeItemAt(0),this.insertMenu(c,P,!1),m[c]=o.renderItem({title:P.title,active:!1,tabbable:c===l,disabled:i[c].items.length===0,onfocus:()=>{this._tabFocusIndex=c,this.activeIndex=c}}),c++}}this._overflowMenu.items.length===0&&(this.removeMenu(this._overflowMenu,!1),m.pop(),this._overflowMenu=null,this._overflowIndex=-1)}}VirtualDOM$1.render(m,this.contentNode),this._updateOverflowIndex()}_updateOverflowIndex(){if(!this._overflowMenuOptions.isVisible)return;const e=this.contentNode.childNodes;let n=this.node.offsetWidth,i=0,o=-1,u=e.length;if(this._menuItemSizes.length==0)for(let l=0;l<u;l++){let c=e[l];i+=c.offsetWidth,this._menuItemSizes.push(c.offsetWidth),i>n&&o===-1&&(o=l)}else for(let l=0;l<this._menuItemSizes.length;l++)if(i+=this._menuItemSizes[l],i>n){o=l;break}this._overflowIndex=o}_evtKeyDown(e){let n=e.keyCode;if(n===9){this.activeIndex=-1;return}if(e.preventDefault(),e.stopPropagation(),n===13||n===32||n===38||n===40){if(this.activeIndex=this._tabFocusIndex,this.activeIndex!==this._tabFocusIndex)return;this.openActiveMenu();return}if(n===27){this._closeChildMenu(),this._focusItemAt(this.activeIndex);return}if(n===37||n===39){let l=n===37?-1:1,c=this._tabFocusIndex+l,f=this._menus.length;for(let d=0;d<f;d++){let m=(f+c+l*d)%f;if(this._menus[m].items.length){this._focusItemAt(m);return}}return}let i=getKeyboardLayout$1().keyForKeydownEvent(e);if(!i)return;let o=this._activeIndex+1,u=Private$3.findMnemonic(this._menus,i,o);u.index!==-1&&!u.multiple?(this.activeIndex=u.index,this.openActiveMenu()):u.index!==-1?(this.activeIndex=u.index,this._focusItemAt(this.activeIndex)):u.auto!==-1&&(this.activeIndex=u.auto,this._focusItemAt(this.activeIndex))}_evtMouseDown(e){if(!ElementExt$1.hitTest(this.node,e.clientX,e.clientY))return;e.stopPropagation(),e.stopImmediatePropagation();let n=ArrayExt$4.findFirstIndex(this.contentNode.children,i=>ElementExt$1.hitTest(i,e.clientX,e.clientY));if(n===-1){this._closeChildMenu();return}if(e.button===0)if(this._childMenu)this._closeChildMenu(),this.activeIndex=n;else{e.preventDefault();const i=this._positionForMenu(n);Menu.saveWindowData(),this.activeIndex=n,this._openChildMenu(i)}}_evtMouseMove(e){let n=ArrayExt$4.findFirstIndex(this.contentNode.children,o=>ElementExt$1.hitTest(o,e.clientX,e.clientY));if(n===this._activeIndex||n===-1&&this._childMenu)return;const i=n>=0&&this._childMenu?this._positionForMenu(n):null;Menu.saveWindowData(),this.activeIndex=n,i&&this._openChildMenu(i)}_positionForMenu(e){let n=this.contentNode.children[e],{left:i,bottom:o}=n.getBoundingClientRect();return{top:o,left:i}}_evtFocusOut(e){!this._childMenu&&!this.node.contains(e.relatedTarget)&&(this.activeIndex=-1)}_focusItemAt(e){const n=this.contentNode.childNodes[e];n&&n.focus()}_openChildMenu(e={}){let n=this.activeMenu;if(!n){this._closeChildMenu();return}let i=this._childMenu;if(i===n)return;this._childMenu=n,i?i.close():document.addEventListener("mousedown",this,!0),this._tabFocusIndex=this.activeIndex,MessageLoop.sendMessage(this,Widget.Msg.UpdateRequest);let{left:o,top:u}=e;(typeof o>"u"||typeof u>"u")&&({left:o,top:u}=this._positionForMenu(this._activeIndex)),i||this.addClass("lm-mod-active"),n.items.length>0&&n.open(o,u,this._forceItemsPosition)}_closeChildMenu(){if(!this._childMenu)return;this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0);let e=this._childMenu;this._childMenu=null,e.close(),this.activeIndex=-1}_onMenuAboutToClose(e){e===this._childMenu&&(this.removeClass("lm-mod-active"),document.removeEventListener("mousedown",this,!0),this._childMenu=null,this.activeIndex=-1)}_onMenuMenuRequested(e,n){if(e!==this._childMenu)return;let i=this._activeIndex,o=this._menus.length;switch(n){case"next":this.activeIndex=i===o-1?0:i+1;break;case"previous":this.activeIndex=i===0?o-1:i-1;break}this.openActiveMenu()}_onTitleChanged(){this.update()}}(function(t){class e{renderItem(i){let o=this.createItemClass(i),u=this.createItemDataset(i),l=this.createItemARIA(i);return h$2.li({className:o,dataset:u,...i.disabled?{}:{tabindex:i.tabbable?"0":"-1"},onfocus:i.onfocus,...l},this.renderIcon(i),this.renderLabel(i))}renderIcon(i){let o=this.createIconClass(i);return h$2.div({className:o},i.title.icon,i.title.iconLabel)}renderLabel(i){let o=this.formatLabel(i);return h$2.div({className:"lm-MenuBar-itemLabel"},o)}createItemClass(i){let o="lm-MenuBar-item";return i.title.className&&(o+=` ${i.title.className}`),i.active&&!i.disabled&&(o+=" lm-mod-active"),o}createItemDataset(i){return i.title.dataset}createItemARIA(i){return{role:"menuitem","aria-haspopup":"true","aria-disabled":i.disabled?"true":"false"}}createIconClass(i){let o="lm-MenuBar-itemIcon",u=i.title.iconClass;return u?`${o} ${u}`:o}formatLabel(i){let{label:o,mnemonic:u}=i.title;if(u<0||u>=o.length)return o;let l=o.slice(0,u),c=o.slice(u+1),f=o[u],d=h$2.span({className:"lm-MenuBar-itemMnemonic"},f);return[l,d,c]}}t.Renderer=e,t.defaultRenderer=new e})(MenuBar||(MenuBar={}));var Private$3;(function(t){function e(){let i=document.createElement("div"),o=document.createElement("ul");return o.className="lm-MenuBar-content",i.appendChild(o),o.setAttribute("role","menubar"),i}t.createNode=e;function n(i,o,u){let l=-1,c=-1,f=!1,d=o.toUpperCase();for(let m=0,g=i.length;m<g;++m){let v=(m+u)%g,y=i[v].title;if(y.label.length===0)continue;let w=y.mnemonic;if(w>=0&&w<y.label.length){y.label[w].toUpperCase()===d&&(l===-1?l=v:f=!0);continue}c===-1&&y.label[0].toUpperCase()===d&&(c=v)}return{index:l,multiple:f,auto:c}}t.findMnemonic=n})(Private$3||(Private$3={}));var Private$2;(function(t){function e(){let i=document.createElement("div"),o=document.createElement("div"),u=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div");return o.className="lm-ScrollBar-button",u.className="lm-ScrollBar-button",o.dataset.action="decrement",u.dataset.action="increment",l.className="lm-ScrollBar-track",c.className="lm-ScrollBar-thumb",l.appendChild(c),i.appendChild(o),i.appendChild(l),i.appendChild(u),i}t.createNode=e;function n(i,o){return i.thumbNode.contains(o)?"thumb":i.trackNode.contains(o)?"track":i.decrementNode.contains(o)?"decrement":i.incrementNode.contains(o)?"increment":null}t.findPart=n})(Private$2||(Private$2={}));class StackedLayout extends PanelLayout{constructor(e={}){super(e),this._dirty=!1,this._items=[],this._box=null,this._hiddenMode=e.hiddenMode!==void 0?e.hiddenMode:Widget.HiddenMode.Display}get hiddenMode(){return this._hiddenMode}set hiddenMode(e){this._hiddenMode!==e&&(this._hiddenMode=e,this.widgets.length>1&&this.widgets.forEach(n=>{n.hiddenMode=this._hiddenMode}))}dispose(){for(const e of this._items)e.dispose();this._box=null,this._items.length=0,super.dispose()}attachWidget(e,n){this._hiddenMode===Widget.HiddenMode.Scale&&this._items.length>0?(this._items.length===1&&(this.widgets[0].hiddenMode=Widget.HiddenMode.Scale),n.hiddenMode=Widget.HiddenMode.Scale):n.hiddenMode=Widget.HiddenMode.Display,ArrayExt$4.insert(this._items,e,new LayoutItem(n)),this.parent.isAttached&&MessageLoop.sendMessage(n,Widget.Msg.BeforeAttach),this.parent.node.appendChild(n.node),this.parent.isAttached&&MessageLoop.sendMessage(n,Widget.Msg.AfterAttach),this.parent.fit()}moveWidget(e,n,i){ArrayExt$4.move(this._items,e,n),this.parent.update()}detachWidget(e,n){let i=ArrayExt$4.removeAt(this._items,e);this.parent.isAttached&&MessageLoop.sendMessage(n,Widget.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.isAttached&&MessageLoop.sendMessage(n,Widget.Msg.AfterDetach),i.widget.node.style.zIndex="",this._hiddenMode===Widget.HiddenMode.Scale&&(n.hiddenMode=Widget.HiddenMode.Display,this._items.length===1&&(this._items[0].widget.hiddenMode=Widget.HiddenMode.Display)),i.dispose(),this.parent.fit()}onBeforeShow(e){super.onBeforeShow(e),this.parent.update()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}onChildShown(e){this.parent.fit()}onChildHidden(e){this.parent.fit()}onResize(e){this.parent.isVisible&&this._update(e.width,e.height)}onUpdateRequest(e){this.parent.isVisible&&this._update(-1,-1)}onFitRequest(e){this.parent.isAttached&&this._fit()}_fit(){let e=0,n=0;for(let u=0,l=this._items.length;u<l;++u){let c=this._items[u];c.isHidden||(c.fit(),e=Math.max(e,c.minWidth),n=Math.max(n,c.minHeight))}let i=this._box=ElementExt$1.boxSizing(this.parent.node);e+=i.horizontalSum,n+=i.verticalSum;let o=this.parent.node.style;o.minWidth=`${e}px`,o.minHeight=`${n}px`,this._dirty=!0,this.parent.parent&&MessageLoop.sendMessage(this.parent.parent,Widget.Msg.FitRequest),this._dirty&&MessageLoop.sendMessage(this.parent,Widget.Msg.UpdateRequest)}_update(e,n){this._dirty=!1;let i=0;for(let f=0,d=this._items.length;f<d;++f)i+=+!this._items[f].isHidden;if(i===0)return;e<0&&(e=this.parent.node.offsetWidth),n<0&&(n=this.parent.node.offsetHeight),this._box||(this._box=ElementExt$1.boxSizing(this.parent.node));let o=this._box.paddingTop,u=this._box.paddingLeft,l=e-this._box.horizontalSum,c=n-this._box.verticalSum;for(let f=0,d=this._items.length;f<d;++f){let m=this._items[f];m.isHidden||(m.widget.node.style.zIndex=`${f}`,m.update(u,o,l,c))}}}var Private$1;(function(t){function e(n){return n.layout||new StackedLayout}t.createLayout=e})(Private$1||(Private$1={}));var Private;(function(t){function e(u){return i[u]}t.orientationFromPlacement=e;function n(u){return o[u]}t.directionFromPlacement=n;const i={top:"horizontal",left:"vertical",right:"vertical",bottom:"horizontal"},o={top:"top-to-bottom",left:"left-to-right",right:"right-to-left",bottom:"bottom-to-top"}})(Private||(Private={}));const CSS_CLASS="jp-RenderedJSON",MIME_TYPE="application/json",MIME_TYPES_JSONL=["text/jsonl","application/jsonl","application/json-lines"];class RenderedJSON extends Widget{constructor(e){super(),this._rootDOM=null,this.addClass(CSS_CLASS),this.addClass("CodeMirror"),this._mimeType=e.mimeType,this.translator=e.translator||nullTranslator}[Printing.symbol](){return()=>Printing.printWidget(this)}async renderModel(e){const{Component:n}=await __vitePreload(async()=>{const{Component:u}=await import("./component-BnU9o-jw.js").then(l=>l.Q);return{Component:u}},[]);let i;if(MIME_TYPES_JSONL.indexOf(this._mimeType)>=0){const u=(e.data[this._mimeType]||"").trim().split(/\n/);i=JSON.parse(`[${u.join(",")}]`)}else i=e.data[this._mimeType]||{};const o=e.metadata[this._mimeType]||{};return this._rootDOM===null&&(this._rootDOM=clientExports.createRoot(this.node)),new Promise((u,l)=>{this._rootDOM.render(reactExports.createElement(n,{data:i,metadata:o,translator:this.translator,forwardedRef:()=>u()}))})}onBeforeDetach(e){this._rootDOM&&(this._rootDOM.unmount(),this._rootDOM=null)}}const rendererFactory={safe:!0,mimeTypes:[MIME_TYPE,...MIME_TYPES_JSONL],createRenderer:t=>new RenderedJSON(t)};class Config{constructor(e={},n){var i,o,u,l,c,f,d;this._events=(i=n?.events)!==null&&i!==void 0?i:new ThebeEvents,this._options={mathjaxUrl:(o=e.mathjaxUrl)!==null&&o!==void 0?o:"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js",mathjaxConfig:(u=e.mathjaxConfig)!==null&&u!==void 0?u:"TeX-AMS_CHTML-full,Safe"},this._binderOptions=makeBinderOptions((l=e.binderOptions)!==null&&l!==void 0?l:{}),this._savedSessions=makeSavedSessionOptions((c=e.savedSessionOptions)!==null&&c!==void 0?c:{}),this._kernelOptions=makeKernelOptions((f=e.kernelOptions)!==null&&f!==void 0?f:{}),this._serverSettings=makeServerSettings((d=e.serverSettings)!==null&&d!==void 0?d:{}),console.debug("thebe:config:constructor",this)}get events(){return this._events}get base(){return this._options}get mathjax(){return{mathjaxUrl:this._options.mathjaxUrl,mathjaxConfig:this._options.mathjaxConfig}}get binder(){return this._binderOptions}get savedSessions(){return this._savedSessions}get kernels(){return this._kernelOptions}get serverSettings(){return this._serverSettings}set serverSettings(e){this._serverSettings=e}}function makeBinderOptions(t){return Object.assign({repo:"executablebooks/thebe-binder-base",ref:"HEAD",binderUrl:"https://mybinder.org",repoProvider:"github"},t)}function makeSavedSessionOptions(t){return Object.assign({enabled:!0,maxAge:86400,storagePrefix:"thebe-binder"},t)}function makeKernelOptions(t){var e,n;return{path:(e=t.path)!==null&&e!==void 0?e:"/",kernelName:(n=t.kernelName)!==null&&n!==void 0?n:"python"}}function makeServerSettings(t){var e,n;const i=(e=t.baseUrl)!==null&&e!==void 0?e:"http://localhost:8888",o=(n=t.wsUrl)!==null&&n!==void 0?n:i.replace(/^http/,"ws");return Object.assign(Object.assign({token:shortId(),appendToken:!0},t),{wsUrl:o,baseUrl:i})}function makeMathjaxOptions(t){return Object.assign({mathjaxUrl:"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js",mathjaxConfig:"TeX-AMS_CHTML-full,Safe"},t)}function makeConfiguration(t,e){return new Config(t,{events:e})}function ensureCoreOptions(t,e){const n=new Config(t,{events:e});return Object.assign(Object.assign({},n.base),{binderOptions:n.binder,savedSessionOptions:n.savedSessions,kernelOptions:n.kernels,serverSettings:n.serverSettings})}const EXTENDED_FACTORIES=[htmlRendererFactory,markdownRendererFactory,latexRendererFactory,svgRendererFactory,imageRendererFactory,rendererFactory$1,textRendererFactory,errorRendererFactory];let RENDERERS=null;function getRenderers(t){RENDERERS==null&&(RENDERERS=EXTENDED_FACTORIES.filter(n=>n.mimeTypes.indexOf("text/latex")>=0?t.mathjaxUrl?!0:(console.debug("thebe:getRenderers MathJax unavailable"),!1):!0));let e;return t.mathjaxUrl&&t.mathjaxConfig&&(e=new MathJaxTypesetter({url:t.mathjaxUrl,config:t.mathjaxConfig})),{initialFactories:[...RENDERERS],latexTypesetter:e}}function makeRenderMimeRegistry(t){const e=new RenderMimeRegistry(getRenderers(t??makeMathjaxOptions()));return e.addFactory(rendererFactory,10),e}class PassiveCellRenderer{constructor(e,n,i){this.id=e,this.rendermime=n??makeRenderMimeRegistry(i??makeMathjaxOptions()),this.model=new OutputAreaModel({trusted:!0}),this.area=new OutputArea({model:this.model,rendermime:this.rendermime})}get outputs(){return this.model.toJSON()}get isAttachedToDOM(){return this.area.isAttached}attachToDOM(e,n=!1){if(!this.area||!e){console.error(`thebe:renderer:attachToDOM - could not attach to DOM - area: ${this.area}, el: ${e}`);return}if(this.area.isAttached){if(console.debug("thebe:renderer:attachToDOM - already attached"),n)return}else console.debug(`thebe:renderer:attachToDOM ${this.id} - appending existing contents`),e.innerHTML&&this.area.model.add({output_type:"display_data",data:{"text/html":e.innerHTML}});e.textContent="";const i=document.createElement("div");i.style.position="relative",i.className="thebe-output",e.append(i),MessageLoop$6.sendMessage(this.area,Widget$5.Msg.BeforeAttach),i.appendChild(this.area.node),MessageLoop$6.sendMessage(this.area,Widget$5.Msg.AfterAttach)}setOutputText(e){this.area&&(this.area.model.clear(!0),this.area.model.add({output_type:"stream",name:"stdout",text:e}))}clear(){this.area&&this.area.model.clear()}clearOnError(e){this.area&&(this.area.model.clear(),this.area.model.add({output_type:"stream",name:"stderr",text:`Failed to execute. ${e??""} Please refresh the page.`}))}render(e){this.model.fromJSON(e)}}class ThebeCodeCell extends PassiveCellRenderer{constructor(e,n,i,o,u,l){super(e,l),this.kind="code",this.events=new EventEmitter(e,o,EventSubject.cell,this),this.notebookId=n,this.source=i,this.metadata=u,this.busy=!1,this.executionCount=null,this.initialOutputs=[],console.debug("thebe:cell constructor",this)}static fromICodeCell(e,n,i,o){var u;const l=new ThebeCodeCell((u=e.id)!==null&&u!==void 0?u:shortId(),n,ensureString(e.source),i,e.metadata,o);return Object.assign(l.metadata,e.metadata),l}get isBusy(){return this.busy}get isAttached(){return this.session!==void 0}get tags(){var e;return(e=this.metadata.tags)!==null&&e!==void 0?e:[]}attachSession(e){this.session=e,this.events.triggerStatus({status:CellStatusEvent.attached,message:"Attached to session"})}detachSession(){this.session=void 0,this.events.triggerStatus({status:CellStatusEvent.detached,message:"Detached from session"})}setAsBusy(){console.debug(`thebe:renderer:message:busy ${this.id}`),this.busy=!0,this.events.triggerStatus({status:CellStatusEvent.executing,message:"Executing..."})}setAsIdle(){console.debug(`thebe:renderer:message:completed ${this.id}`),this.busy=!1,this.events.triggerStatus({status:CellStatusEvent.idle,message:"Completed"})}initOutputs(e){this.initialOutputs=e,this.render(e),this.executionCount=null}reset(){this.render(this.initialOutputs),this.executionCount=null}execute(e){return __awaiter$2(this,void 0,void 0,function*(){if(!this.session||!this.session.kernel)return console.warn("Attempting to execute on a cell without an attached kernel"),null;const n=e??this.source;try{console.debug(`thebe:renderer:execute ${this.id}`),this.isBusy||this.setAsBusy(),this.area.future=this.session.kernel.requestExecute({code:n});const i=yield this.area.future.done;this.executionCount=i.content.execution_count;let o;for(let u=0;u<this.model.length;u++){const l=this.model.get(u);if(console.debug("thebecell:execute:output",{out:l.toJSON()}),l.type==="error"){const c=l.toJSON();c.ename==="stderr"?this.events.triggerError({status:ErrorStatusEvent.warning,message:errorToMessage(c)}):(o?o?.push(c):o=[c],this.events.triggerError({status:ErrorStatusEvent.executeError,message:errorToMessage(c)}))}}return this.setAsIdle(),{id:this.id,height:this.area.node.offsetHeight,width:this.area.node.offsetWidth,error:o}}catch(i){return console.error("thebe:renderer:execute Error:",i),this.clearOnError(i),this.events.triggerError(i.message),null}})}}class ThebeMarkdownCell extends PassiveCellRenderer{constructor(e,n,i,o,u){super(e,u),this.kind="markdown",this.id=e,this.notebookId=n,this.source=i,this.busy=!1,this.metadata=o}static fromICell(e,n,i){return new ThebeMarkdownCell(typeof e.id=="string"?e.id:shortId(),n,ensureString(e.source),e.metadata,i)}get isAttachedToDOM(){return!1}get isBusy(){return!1}get isAttached(){return!1}get executionCount(){return null}setAsBusy(){}setAsIdle(){}initOutputs(e){}reset(){}attachToDOM(e){}attachSession(e){}detachSession(){}setOutputText(e){}clear(){}clearOnError(e){}messageBusy(){}messageCompleted(){}messageError(e){}render(e){}get tags(){return[]}get outputs(){return[]}execute(e){return __awaiter$2(this,void 0,void 0,function*(){return{id:this.id,height:0,width:0}})}}class ThebeNotebook{constructor(e,n,i){this.id=e,this.events=new EventEmitter(e,n,EventSubject.notebook,this),this.cells=[],this.metadata={},this.rendermime=i,console.debug("thebe:notebook constructor",this)}static fromCodeBlocks(e,n,i){const o=shortId(),u=new ThebeNotebook(o,n,i);return u.cells=e.map(l=>{const c={},f=new ThebeCodeCell(l.id,o,l.source,n,c,u.rendermime);return console.debug(`thebe:notebook:fromCodeBlocks Initializing cell ${l.id}`),f}),u}static fromIpynb(e,n,i){const o=new ThebeNotebook(shortId(),n,i);return Object.assign(o.metadata,e.metadata),o.cells=e.cells.map(u=>u.cell_type==="code"?ThebeCodeCell.fromICodeCell(u,o.id,n,o.rendermime):ThebeMarkdownCell.fromICell(u,o.id,o.rendermime)),o}get parameters(){const e=this.findCells("parameters");if(!(!e||e?.length===0))return e.length>1&&console.warn(`Mulitple parameter cells found in notebook ${this.id}`),e}get widgets(){var e;return(e=this.findCells("widget"))!==null&&e!==void 0?e:[]}get last(){if(this.cells.length===0)throw new Error("empty notebook");return this.cells[this.cells.length-1]}get markdown(){return this.cells.filter(e=>e.kind==="markdown")}get code(){return this.cells.filter(e=>e.kind==="code")}reset(){this.cells.forEach(e=>e.reset())}numCells(){var e,n;return(n=(e=this.cells)===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0}findCells(e){const n=this.cells.filter(i=>i.tags.includes(e));return n.length>0?n:void 0}getCell(e){if(!this.cells)throw Error("Dag not initialized");if(e>=this.cells.length)throw Error(`Notebook.cells index out of range: ${e}:${this.cells.length}`);return this.cells[e]}getCellById(e){var n;return(n=this.cells)===null||n===void 0?void 0:n.find(o=>o.id===e)}lastCell(){if(!this.cells)throw Error("Notebook not initialized");return this.cells[this.cells.length-1]}updateParameters(e,n=!1){if(n)throw new Error("Not implemented yet");this.parameters&&(this.parameters[0].source=e)}waitForKernel(e){return __awaiter$2(this,void 0,void 0,function*(){return e.then(n=>(this.attachSession(n),n))})}attachSession(e){var n;if(!e.kernel)throw Error("ThebeNotebook - cannot connect to session, no kernel");this.session=e,(n=this.cells)===null||n===void 0||n.forEach(i=>i.session=e),this.events.triggerStatus({status:NotebookStatusEvent.attached,message:"Attached to session"})}detachSession(){var e;(e=this.cells)===null||e===void 0||e.map(n=>n.session=void 0),this.session=void 0,this.events.triggerStatus({status:NotebookStatusEvent.detached,message:"Detached from session"})}clear(){this.cells.forEach(e=>e.clear())}executeUpTo(e,n=!1,i){return __awaiter$2(this,void 0,void 0,function*(){if(!this.cells)return[];this.events.triggerStatus({status:NotebookStatusEvent.executing,message:`executeUpTo ${e}`});const o=this.cells.findIndex(c=>c.id===e);if(o===-1)return[];const u=this.cells.slice(0,o+1);u.map(c=>c.setAsBusy());const l=yield this.executeCells(u.map(c=>c.id),n,i);return this.events.triggerStatus({status:NotebookStatusEvent.idle,message:`executeUpTo ${e}`}),l})}executeOnly(e,n){return __awaiter$2(this,void 0,void 0,function*(){if(!this.cells)return null;this.events.triggerStatus({status:NotebookStatusEvent.executing,message:`executeOnly ${e}`});const i=yield this.executeCells([e],!1,n);return this.events.triggerStatus({status:NotebookStatusEvent.idle,message:`executeUpTo ${e}`}),i[0]})}executeCells(e,n=!1,i){return __awaiter$2(this,void 0,void 0,function*(){if(!this.cells)return[];this.events.triggerStatus({status:NotebookStatusEvent.executing,message:`executeCells ${e.length} cells`});const o=this.cells.filter(l=>{const c=e.find(f=>f===l.id);return c||console.warn(`Cell ${l.id} not found in notebook`),!!c});let u=[];if(n){let l=!1;for(const c of o){if(l)continue;const f=yield c.execute(i?i(c.source):c.source);(f==null||f.error)&&(l=!0),u.push(f)}}else u=yield Promise.all(o.map(l=>l.execute(i?i(l.source):l.source)));return this.events.triggerStatus({status:NotebookStatusEvent.idle,message:`executeCells executed ${e.length} cells`}),u})}executeAll(e=!1,n){return __awaiter$2(this,void 0,void 0,function*(){if(!this.cells)return[];this.events.triggerStatus({status:NotebookStatusEvent.executing,message:"executeAll"}),this.cells.map(o=>o.setAsBusy());const i=yield this.executeCells(this.cells.map(o=>o.id),e,n);return this.events.triggerStatus({status:NotebookStatusEvent.idle,message:"executeAll"}),i})}}const version="0.5.0";function connectToBinder(t){const e=new ThebeServer(t);return console.debug("thebe:api:connect binder ",t.binder),e.connectToServerViaBinder(),e}function connectToJupyter(t){const e=new ThebeServer(t);return console.debug("thebe:api:connect direct ",t.serverSettings),e.connectToJupyterServer(),e}function connectToJupyterLite(t){const e=new ThebeServer(t);return console.debug("thebe:api:connect JupyterLite "),e.connectToJupyterLiteServer(),e}function makeEvents(){return new ThebeEvents}function makeServer(t){return new ThebeServer(t)}function setupNotebookFromBlocks(t,e,n){return ThebeNotebook.fromCodeBlocks(t,e,n)}function setupNotebookFromIpynb(t,e,n){return ThebeNotebook.fromIpynb(t,e,n)}function setupThebeCore(){var t;console.debug(`thebe-core (v${version})`,{coreModule:esm}),window.thebeCore=Object.assign((t=window.thebeCore)!==null&&t!==void 0?t:{},{module:esm,api:{makeConfiguration,makeEvents,makeServer,makeRenderMimeRegistry,connectToBinder,connectToJupyter,connectToJupyterLite,setupNotebookFromBlocks,setupNotebookFromIpynb},version})}typeof window<"u"&&setupThebeCore();const require$$4=getAugmentedNamespace(esm);var hasRequiredThebeLoaderProvider;function requireThebeLoaderProvider(){if(hasRequiredThebeLoaderProvider)return ThebeLoaderProvider;hasRequiredThebeLoaderProvider=1,Object.defineProperty(ThebeLoaderProvider,"__esModule",{value:!0}),ThebeLoaderProvider.useThebeLoader=ThebeLoaderProvider.ThebeBundleLoaderProvider=ThebeLoaderProvider.ThebeLoaderProvider=void 0;const t=require$$0$3,e=requireJsxRuntime(),n=t.__importStar(requireReact()),i=t.__importDefault(requireVersion()),o=n.default.createContext(void 0);function u({start:f,children:d}){const[m,g]=(0,n.useState)(f),[v,y]=(0,n.useState)(!1),[w,T]=(0,n.useState)(),[P,A]=(0,n.useState)();return(0,n.useEffect)(()=>{!m||w||(y(!0),console.debug(`thebe-react (v${i.default}) importing thebe-core...`),Promise.resolve().then(()=>t.__importStar(require$$4)).then(D=>{console.debug(`thebe-core (v${D.version}) loaded`),T(D),y(!1)}).catch(({message:D})=>{console.debug(`thebe-core load failed ${D}`),A(D),y(!1)}))},[m]),(0,e.jsx)(o.Provider,Object.assign({value:{core:w,error:P,loading:v,load:()=>g(!0)}},{children:(0,e.jsx)(e.Fragment,{children:d})}))}ThebeLoaderProvider.ThebeLoaderProvider=u;function l({start:f,loadThebeLite:d,publicPath:m,children:g,options:v={}}){const[y,w]=(0,n.useState)(f),[T,P]=(0,n.useState)(!1),[A,D]=(0,n.useState)(),[k,j]=(0,n.useState)();return(0,n.useEffect)(()=>{var B;if(!(!y||A)&&(P(!0),console.debug(`thebe-react (v${i.default}) importing thebe-core...`),typeof document<"u"&&typeof window<"u"))try{if(!window.thebeCore){const G=document.createElement("script");G.setAttribute("src",`${m??""}/thebe-core.min.js`),G.setAttribute("async","true"),G.setAttribute("type","text/javascript"),document.head.appendChild(G)}if(d){const G=document.createElement("script");G.setAttribute("src",`${m??""}/thebe-lite.min.js`),G.setAttribute("async","true"),G.setAttribute("type","text/javascript"),document.head.appendChild(G)}let Z=0;const R=setInterval(()=>{var G,F,K,Q,ie,te;window.thebeCore&&(window.thebeLite||!d)&&(P(!1),D((G=window.thebeCore)===null||G===void 0?void 0:G.module),console.debug(`thebe-core (v${(K=(F=window.thebeCore)===null||F===void 0?void 0:F.version)!==null&&K!==void 0?K:"0"}) loaded`),window.thebeLite&&console.debug(`thebe-lite (v${(ie=(Q=window.thebeLite)===null||Q===void 0?void 0:Q.version)!==null&&ie!==void 0?ie:"0"}) loaded`),clearInterval(R)),Z>((te=v?.attempts)!==null&&te!==void 0?te:50)&&(j("thebe-core load failed"),P(!1),clearInterval(R),console.warn("thebe load timed out"),window.thebeCore||console.debug("thebe-core failed to load"),window.thebeLite||console.debug("thebe-lite failed to load")),Z+=1},(B=v?.delay)!==null&&B!==void 0?B:300)}catch(Z){j(Z),P(!1)}},[y]),(0,e.jsx)(o.Provider,Object.assign({value:{core:A,error:k,loading:T,load:()=>w(!0)}},{children:(0,e.jsx)(e.Fragment,{children:g})}))}ThebeLoaderProvider.ThebeBundleLoaderProvider=l;function c(){const f=n.default.useContext(o);return f??{loading:!1,load:()=>({})}}return ThebeLoaderProvider.useThebeLoader=c,ThebeLoaderProvider}var ThebeServerProvider={},hasRequiredThebeServerProvider;function requireThebeServerProvider(){return hasRequiredThebeServerProvider||(hasRequiredThebeServerProvider=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.useThebeServer=t.useDisposeThebeServer=t.useThebeConfig=t.ThebeServerProvider=t.ThebeServerContext=void 0;const e=require$$0$3,n=requireJsxRuntime(),i=e.__importStar(requireReact()),o=requireThebeLoaderProvider();t.ThebeServerContext=i.default.createContext(void 0);function u({connect:d=!0,config:m,options:g,useBinder:v,useJupyterLite:y,customConnectFn:w,customRepoProviders:T,events:P,children:A}){var D;const{core:k}=(0,o.useThebeLoader)(),[j,B]=(0,i.useState)(d),[Z,R]=(0,i.useState)(!1),[G,F]=(0,i.useState)(),[K,Q]=(0,i.useState)(!1),[ie,te]=(0,i.useState)(),oe=(0,i.useRef)(),le=(0,i.useMemo)(()=>m??k?.makeConfiguration(g??{},P),[k,m,g]);(0,i.useEffect)(()=>{if(!k||!le)return;if(le===oe.current&&G)return;const ge=new k.ThebeServer(le),_e=(we,Me)=>{const xe=[k.EventSubject.server,k.EventSubject.session,k.EventSubject.kernel];Me.subject&&xe.includes(Me.subject)&&te(`${Me.status} - ${Me.message}`)};le.events.on(k.ThebeEventType.error,_e),oe.current=le,F(ge)},[k,le,G]);const de=()=>{if(G)return R(!0),w?w(G):v?G.connectToServerViaBinder(T):y?G.connectToJupyterLiteServer():G.connectToJupyterServer(),G.ready.then(()=>{R(!1),Q(!0)},()=>{R(!1),Q(!1)}),G.ready};return(0,i.useEffect)(()=>{!G||!j||G.isReady&&G.userServerUrl||de()},[G,j]),(0,n.jsx)(t.ThebeServerContext.Provider,Object.assign({value:{config:le,events:P??le?.events,server:G,connecting:Z,ready:((D=G?.isReady)!==null&&D!==void 0?D:!1)&&K,connect:de,disconnect:()=>e.__awaiter(this,void 0,void 0,function*(){k&&le&&G&&(G.dispose(),F(new k.ThebeServer(le))),Q(!1),B(!1),R(!1),te(void 0)}),error:ie}},{children:A}))}t.ThebeServerProvider=u;function l(){const d=(0,i.useContext)(t.ThebeServerContext);if(d===void 0)throw new Error("useThebeServer must be used inside a ThebeServerProvider");return{config:d.config}}t.useThebeConfig=l;function c(){const[d,m]=(0,i.useState)(!1),g=(0,i.useContext)(t.ThebeServerContext);if(g===void 0)throw new Error("useThebeServer must be used inside a ThebeServerProvider");const{server:v,ready:y}=g;return(0,i.useEffect)(()=>{!v||!y||Promise.resolve().then(()=>e.__awaiter(this,void 0,void 0,function*(){yield v.shutdownAllSessions(),v.dispose(),m(!0)}))},[y,v]),d}t.useDisposeThebeServer=c;function f(){const d=(0,o.useThebeLoader)(),{core:m}=d??{},g=(0,i.useContext)(t.ThebeServerContext),{config:v,events:y,server:w,connecting:T,ready:P,connect:A,disconnect:D,error:k}=g??{ready:!1,connecting:!1},[j,B]=(0,i.useState)([]),Z=(0,i.useCallback)(G=>{if(!m||!v||!w)return;const F=(K,Q)=>{const ie=[m.EventSubject.server,m.EventSubject.session,m.EventSubject.kernel];Q.subject&&ie.includes(Q.subject)&&G(Q)};v?.events.on(m.ThebeEventType.status,F),B([...j,F])},[v,w]),R=(0,i.useCallback)(()=>{m&&(j.forEach(G=>{v?.events.off(m.ThebeEventType.status,G)}),B([]))},[v,w]);return g?{config:v,events:y,server:w,connecting:T,ready:P,error:k,connect:A,disconnect:D,subscribe:Z,unsubAll:R}:{connecting:!1,ready:!1}}t.useThebeServer=f})(ThebeServerProvider)),ThebeServerProvider}var ThebeSessionProvider={},ThebeRenderMimeRegistryProvider={},hasRequiredThebeRenderMimeRegistryProvider;function requireThebeRenderMimeRegistryProvider(){if(hasRequiredThebeRenderMimeRegistryProvider)return ThebeRenderMimeRegistryProvider;hasRequiredThebeRenderMimeRegistryProvider=1,Object.defineProperty(ThebeRenderMimeRegistryProvider,"__esModule",{value:!0}),ThebeRenderMimeRegistryProvider.useRenderMimeRegistry=ThebeRenderMimeRegistryProvider.ThebeRenderMimeRegistryProvider=void 0;const t=require$$0$3,e=requireJsxRuntime(),n=t.__importDefault(requireReact()),i=requireThebeLoaderProvider(),o=requireThebeServerProvider(),u=n.default.createContext(void 0);function l({children:f}){const{core:d}=(0,i.useThebeLoader)(),{config:m}=(0,o.useThebeConfig)(),g=n.default.useMemo(()=>d?.makeRenderMimeRegistry(m?.mathjax),[d,m]);return(0,e.jsx)(u.Provider,Object.assign({value:{rendermime:g}},{children:f}))}ThebeRenderMimeRegistryProvider.ThebeRenderMimeRegistryProvider=l;function c(){const f=n.default.useContext(u);return f?.rendermime}return ThebeRenderMimeRegistryProvider.useRenderMimeRegistry=c,ThebeRenderMimeRegistryProvider}var hasRequiredThebeSessionProvider;function requireThebeSessionProvider(){return hasRequiredThebeSessionProvider||(hasRequiredThebeSessionProvider=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.useThebeSession=t.ThebeSessionProvider=t.ThebeSessionContext=void 0;const e=require$$0$3,n=requireJsxRuntime(),i=e.__importStar(requireReact()),o=requireThebeServerProvider(),u=requireThebeRenderMimeRegistryProvider(),l=requireThebeLoaderProvider();t.ThebeSessionContext=i.default.createContext(void 0);function c({start:d=!0,path:m,shutdownOnUnmount:g=!1,children:v}){const{core:y}=(0,l.useThebeLoader)(),{config:w,server:T,ready:P}=(0,o.useThebeServer)(),A=(0,u.useRenderMimeRegistry)(),[D,k]=(0,i.useState)(d),[j,B]=(0,i.useState)(!1),[Z,R]=(0,i.useState)(),[G,F]=(0,i.useState)(!1),[K,Q]=(0,i.useState)(),[ie,te]=(0,i.useState)();(0,i.useEffect)(()=>{!T||!P||!D||j||G||oe()},[G,D,j,T,P]),(0,i.useEffect)(()=>{if(!y||!w||!Z)return;const le=(de,ge)=>{const _e=[y.EventSubject.session,y.EventSubject.kernel];ge.subject&&_e.includes(ge.subject)&&ge.status==="shutdown"&&ge.id===Z.id&&Q(`session ${Z.path} - ${ge.status} - ${ge.message}`)};te(w.events.on(y.ThebeEventType.status,le))},[y,w,Z]);const oe=()=>{if(!A)throw new Error("ThebeSessionProvider requires a RenderMimeRegistryProvider");B(!0),T?.startNewSession(A,{path:m}).then(le=>{if(B(!1),le==null){T?.getKernelSpecs().then(de=>{Q(`Could not start a session - available kernels: ${Object.keys(de.kernelspecs)}`)});return}R(le),F(!0)},le=>{Q(typeof le=="object"?le.message:JSON.stringify(le)),F(!1),k(!1),B(!1)})};return(0,i.useEffect)(()=>()=>{g&&(ie?.(),te(void 0),Z?.shutdown().then(()=>{F(!1),B(!1),Q(void 0)}))},[Z]),(0,n.jsx)(t.ThebeSessionContext.Provider,Object.assign({value:{path:m,starting:j,ready:G,session:Z,start:()=>e.__awaiter(this,void 0,void 0,function*(){Z&&G?yield Z.restart():oe()}),shutdown:()=>e.__awaiter(this,void 0,void 0,function*(){Z&&(ie?.(),te(void 0),yield Z.shutdown(),R(void 0),F(!1),B(!1),Q(void 0))}),error:K}},{children:v}))}t.ThebeSessionProvider=c;function f(){const d=(0,i.useContext)(t.ThebeSessionContext);return d??{starting:!1,ready:!1}}t.useThebeSession=f})(ThebeSessionProvider)),ThebeSessionProvider}var hooks={},notebook={},hasRequiredNotebook;function requireNotebook(){if(hasRequiredNotebook)return notebook;hasRequiredNotebook=1,Object.defineProperty(notebook,"__esModule",{value:!0}),notebook.useNotebookfromSourceLegacy=notebook.useNotebookFromSource=notebook.useNotebook=notebook.useNotebookBase=notebook.findErrors=void 0;const t=requireReact(),e=requireThebeServerProvider(),n=requireThebeLoaderProvider(),i=requireThebeSessionProvider(),o=requireThebeRenderMimeRegistryProvider();function u(m){return m.reduce((g,v,y)=>v?.error?g==null?[Object.assign(Object.assign({},v),{index:y})]:[...g,Object.assign(Object.assign({},v),{index:y})]:g,null)}notebook.findErrors=u;function l(){const{session:m,ready:g}=(0,i.useThebeSession)(),[v,y]=(0,t.useState)(),[w,T]=(0,t.useState)([]),[P,A]=(0,t.useState)(!1),[D,k]=(0,t.useState)(!1),[j,B]=(0,t.useState)(!1),[Z,R]=(0,t.useState)(null);return(0,t.useEffect)(()=>{!v||!m||!g||(console.debug("thebe-react: attaching notebook to session",{notebook:v,session:m}),v.attachSession(m),A(!0))},[v,m,g]),{ready:!!v&&P,attached:P,executing:D,executed:j,errors:Z,notebook:v,setNotebook:y,refs:w,setRefs:T,executeAll:Q=>{var ie,te;if(!v)throw new Error("executeAll called before notebook available");if(!m)throw new Error("executeAll called before session available");return(ie=Q?.before)===null||ie===void 0||ie.call(Q),k(!0),v.executeAll((te=Q?.stopOnError)!==null&&te!==void 0?te:!0,Q?.preprocessor).then(oe=>{var le;(le=Q?.after)===null||le===void 0||le.call(Q);const de=u(oe);return de!=null&&R(de),B(!0),k(!1),oe})},executeSome:(Q,ie)=>{var te,oe;if(!v)throw new Error("executeSome called before notebook available");if(!m)throw new Error("executeAll called before session available");(te=ie?.before)===null||te===void 0||te.call(ie),k(!0);const le=v.cells.filter(Q).map(de=>de.id);return v.executeCells(le,(oe=ie?.stopOnError)!==null&&oe!==void 0?oe:!0,ie?.preprocessor).then(de=>{var ge;(ge=ie?.after)===null||ge===void 0||ge.call(ie);const _e=u(de);return _e!=null&&R(_e),B(!0),k(!1),de})},clear:()=>{if(!v)throw new Error("clear called before notebook available");v.clear(),B(!1)},session:m}}notebook.useNotebookBase=l;function c(m,g,v={refsForWidgetsOnly:!0}){var y,w;const{core:T}=(0,n.useThebeLoader)(),{config:P}=(0,e.useThebeConfig)(),A=(0,o.useRenderMimeRegistry)(),[D,k]=(0,t.useState)(!1);if(!A)throw new Error("ThebeSessionProvider requires a RenderMimeRegistryProvider");const{ready:j,attached:B,executing:Z,executed:R,errors:G,notebook:F,setNotebook:K,refs:Q,setRefs:ie,executeAll:te,executeSome:oe,clear:le,session:de}=l();return(0,t.useEffect)(()=>{!T||!P||(k(!0),g(m).then(ge=>T?.ThebeNotebook.fromIpynb(ge,P,A)).then(ge=>{var _e,we;const Me=v?.refsForWidgetsOnly?(_e=ge?.widgets)!==null&&_e!==void 0?_e:[]:(we=ge?.cells)!==null&&we!==void 0?we:[];ie(Array(Me.length).fill(null).map((xe,Re)=>Se=>{console.debug(`new ref[${Re}] - attaching to dom...`,Se),Se!=null&&Me[Re].attachToDOM(Se)})),K(ge),k(!1)}))},[T,P]),{ready:j,loading:D,attached:B,executing:Z,executed:R,errors:G,notebook:F,cellRefs:Q,cellIds:(v.refsForWidgetsOnly?(y=F?.widgets)!==null&&y!==void 0?y:[]:(w=F?.cells)!==null&&w!==void 0?w:[]).map(ge=>ge.id),executeAll:te,executeSome:oe,clear:le,session:de}}notebook.useNotebook=c;function f(m,g={refsForWidgetsOnly:!0}){var v,y;const{core:w}=(0,n.useThebeLoader)(),{config:T}=(0,e.useThebeConfig)(),P=(0,o.useRenderMimeRegistry)(),[A,D]=(0,t.useState)(!1);if(!P)throw new Error("ThebeSessionProvider requires a RenderMimeRegistryProvider");const{ready:k,attached:j,executing:B,executed:Z,errors:R,notebook:G,setNotebook:F,refs:K,setRefs:Q,executeAll:ie,executeSome:te,clear:oe,session:le}=l();return(0,t.useEffect)(()=>{var de,ge;if(!w||!T||A||G)return;D(!0);const _e=w.ThebeNotebook.fromCodeBlocks(m.map(Me=>({id:w?.shortId(),source:Me})),T,P),we=g?.refsForWidgetsOnly?(de=_e?.widgets)!==null&&de!==void 0?de:[]:(ge=_e?.cells)!==null&&ge!==void 0?ge:[];Q(Array(we.length).fill(null).map((Me,xe)=>Re=>{console.debug(`new ref[${xe}] - attaching to dom...`,Re),Re!=null&&we[xe].attachToDOM(Re)})),F(_e),D(!1)},[w,G,A]),{ready:k,loading:A,attached:j,executing:B,executed:Z,errors:R,notebook:G,cellRefs:K,cellIds:(g.refsForWidgetsOnly?(v=G?.widgets)!==null&&v!==void 0?v:[]:(y=G?.cells)!==null&&y!==void 0?y:[]).map(de=>de.id),executeAll:ie,executeSome:te,clear:oe,session:le}}notebook.useNotebookFromSource=f;function d(m){const{core:g}=(0,n.useThebeLoader)(),{config:v}=(0,e.useThebeConfig)(),y=(0,o.useRenderMimeRegistry)();if(!y)throw new Error("ThebeSessionProvider requires a RenderMimeRegistryProvider");const[w,T]=(0,t.useState)(!1),[P,A]=(0,t.useState)(),[D,k]=(0,t.useState)({}),[j]=(0,t.useState)(Array(m.length).fill(void 0).map(()=>(0,t.createRef)()));return(0,t.useEffect)(()=>{!g||!v||P||A(g.ThebeNotebook.fromCodeBlocks(m.map(R=>({id:g?.shortId(),source:R})),v,y))},[g,P]),{notebook:P,busy:w,execute:()=>{if(!P)throw new Error("execute called before notebook available");T(!0),P.executeAll().then(()=>{T(!1)})},attach:R=>{if(R.kernel!=null){if(!P){console.warn("attach called before notebook available");return}P?.detachSession(),P?.attachSession(R),P?.cells.forEach((G,F)=>{var K;j[F].current&&G.attachToDOM((K=j[F].current)!==null&&K!==void 0?K:void 0)})}},cellRefs:j,rerender:()=>k({})}}return notebook.useNotebookfromSourceLegacy=d,notebook}var interpolate={},hasRequiredInterpolate;function requireInterpolate(){return hasRequiredInterpolate||(hasRequiredInterpolate=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.interpolatorFactoryFn=t.PYTHON_PARAM=void 0,t.PYTHON_PARAM=/^(.*)=([^;]*);*\s*#\|*\s*@param\s*(.*)$/;function e(n){return i=>{const o=new Set(Object.keys(n));return i.split(`
`).map(c=>{if(t.PYTHON_PARAM.test(c)){const f=c.match(t.PYTHON_PARAM);if(f!=null){const[d,m,g,v]=f;let y={};try{v!==""&&(y=JSON.parse(v))}catch(w){console.error("Could not parse schema from",c,w)}if(o.has(m.trim()))return`${m}= ${n[m.trim()]} #| @param${y?` ${JSON.stringify(Object.assign(Object.assign({},y),{last:g}))}`:""}`}}return c}).join(`
`)}}t.interpolatorFactoryFn=e})(interpolate)),interpolate}var hasRequiredHooks;function requireHooks(){return hasRequiredHooks||(hasRequiredHooks=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=require$$0$3;e.__exportStar(requireNotebook(),t),e.__exportStar(requireInterpolate(),t)})(hooks)),hooks}var hasRequiredDist;function requireDist(){return hasRequiredDist||(hasRequiredDist=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0;const e=require$$0$3;e.__exportStar(requireOutputAreaByRef(),t),e.__exportStar(requireThebeLoaderProvider(),t),e.__exportStar(requireThebeServerProvider(),t),e.__exportStar(requireThebeSessionProvider(),t),e.__exportStar(requireThebeRenderMimeRegistryProvider(),t),e.__exportStar(requireHooks(),t);var n=requireVersion();Object.defineProperty(t,"version",{enumerable:!0,get:function(){return e.__importDefault(n).default}})})(dist$2)),dist$2}var distExports=requireDist();function executableNodesFromBlock(t){if(!t||t.type!=="block")return;let e=t;if(t.children&&t.children.length===1&&t.children[0].type==="container"&&(e=t.children[0]),e.kind==="notebook-code"&&e.children&&e.children.length>=2&&e.children[0].type==="code"&&e.children[1].type==="outputs")return{codeCell:e.children[0],outputs:e.children[1]}}function getFetchableNotebookDependencies(t){return t?t.filter(e=>e.kind===SourceFileKind.Notebook&&e.slug!==void 0&&e.url!==void 0):[]}const handle$6=zwitch("operator",{unknown:unknownOperator$2,invalid:exists$2,handlers:{"=":exact$2,"^=":begins$2,"$=":ends$2,"*=":containsString$2,"~=":containsArray$2}});function attribute$2(t,e){let n=-1;for(;++n<t.attrs.length;)if(!handle$6(t.attrs[n],e))return!1;return!0}function exists$2(t,e){return e[t.name]!==null&&e[t.name]!==void 0}function exact$2(t,e){return exists$2(t,e)&&String(e[t.name])===t.value}function containsArray$2(t,e){const n=e[t.name];return n==null?!1:Array.isArray(n)&&n.includes(t.value)?!0:String(n)===t.value}function begins$2(t,e){const n=e[t.name];return!!(t.value&&typeof n=="string"&&n.slice(0,t.value.length)===t.value)}function ends$2(t,e){const n=e[t.name];return!!(t.value&&typeof n=="string"&&n.slice(-t.value.length)===t.value)}function containsString$2(t,e){const n=e[t.name];return!!(t.value&&typeof n=="string"&&n.includes(t.value))}function unknownOperator$2(t){throw new Error("Unknown operator `"+t.operator+"`")}function name$2(t,e){return t.tagName==="*"||t.tagName===e.type}function parent$2(t){return Array.isArray(t.children)}const nthCheck$2=nthCheck$8.default||nthCheck$8,handle$5=zwitch("name",{unknown:unknownPseudo$2,invalid:invalidPseudo$2,handlers:{any:matches$2,blank:empty$7,empty:empty$7,"first-child":firstChild$2,"first-of-type":firstOfType$2,has:has$2,"last-child":lastChild$2,"last-of-type":lastOfType$2,matches:matches$2,not:not$2,"nth-child":nthChild$2,"nth-last-child":nthLastChild$2,"nth-of-type":nthOfType$2,"nth-last-of-type":nthLastOfType$2,"only-child":onlyChild$2,"only-of-type":onlyOfType$2,root:root$4,scope:scope$2}});pseudo$2.needsIndex=["any","first-child","first-of-type","last-child","last-of-type","matches","not","nth-child","nth-last-child","nth-of-type","nth-last-of-type","only-child","only-of-type"];function pseudo$2(t,e,n,i,o){const u=t.pseudos;let l=-1;for(;++l<u.length;)if(!handle$5(u[l],e,n,i,o))return!1;return!0}function empty$7(t,e){return parent$2(e)?e.children.length===0:!("value"in e)}function firstChild$2(t,e,n,i,o){return assertDeep$2(o,t),o.nodeIndex===0}function firstOfType$2(t,e,n,i,o){return assertDeep$2(o,t),o.typeIndex===0}function has$2(t,e,n,i,o){const u={type:"root",children:parent$2(e)?e.children:[]},l={...o,found:!1,shallow:!1,one:!0,scopeNodes:[e],results:[],rootQuery:queryToSelectors$2(t.value)};return walk$2(l,u),l.results.length>0}function lastChild$2(t,e,n,i,o){return assertDeep$2(o,t),typeof o.nodeCount=="number"&&o.nodeIndex===o.nodeCount-1}function lastOfType$2(t,e,n,i,o){return assertDeep$2(o,t),typeof o.typeCount=="number"&&o.typeIndex===o.typeCount-1}function matches$2(t,e,n,i,o){const u={...o,found:!1,shallow:!1,one:!0,scopeNodes:[e],results:[],rootQuery:queryToSelectors$2(t.value)};return walk$2(u,e),u.results[0]===e}function not$2(t,e,n,i,o){return!matches$2(t,e,n,i,o)}function nthChild$2(t,e,n,i,o){const u=getCachedNthCheck$2(t);return assertDeep$2(o,t),typeof o.nodeIndex=="number"&&u(o.nodeIndex)}function nthLastChild$2(t,e,n,i,o){const u=getCachedNthCheck$2(t);return assertDeep$2(o,t),typeof o.nodeCount=="number"&&typeof o.nodeIndex=="number"&&u(o.nodeCount-o.nodeIndex-1)}function nthLastOfType$2(t,e,n,i,o){const u=getCachedNthCheck$2(t);return assertDeep$2(o,t),typeof o.typeIndex=="number"&&typeof o.typeCount=="number"&&u(o.typeCount-1-o.typeIndex)}function nthOfType$2(t,e,n,i,o){const u=getCachedNthCheck$2(t);return assertDeep$2(o,t),typeof o.typeIndex=="number"&&u(o.typeIndex)}function onlyChild$2(t,e,n,i,o){return assertDeep$2(o,t),o.nodeCount===1}function onlyOfType$2(t,e,n,i,o){return assertDeep$2(o,t),o.typeCount===1}function root$4(t,e,n,i){return e&&!i}function scope$2(t,e,n,i,o){return e&&o.scopeNodes.includes(e)}function invalidPseudo$2(){throw new Error("Invalid pseudo-selector")}function unknownPseudo$2(t){throw t.name?new Error("Unknown pseudo-selector `"+t.name+"`"):new Error("Unexpected pseudo-element or empty pseudo-class")}function assertDeep$2(t,e){if(t.shallow)throw new Error("Cannot use `:"+e.name+"` without parent")}function getCachedNthCheck$2(t){let e=t._cachedFn;return e||(e=nthCheck$2(t.value),t._cachedFn=e),e}function test$2(t,e,n,i,o){if(t.id)throw new Error("Invalid selector: id");if(t.classNames)throw new Error("Invalid selector: class");return!!(e&&(!t.tagName||name$2(t,e))&&(!t.attrs||attribute$2(t,e))&&(!t.pseudos||pseudo$2(t,e,n,i,o)))}const empty$6=[];function queryToSelectors$2(t){return t===null?{type:"selectors",selectors:[]}:t.type==="ruleSet"?{type:"selectors",selectors:[t]}:t}function walk$2(t,e){e&&one$5(t,[],e,void 0,void 0)}function one$5(t,e,n,i,o){let u={directChild:void 0,descendant:void 0,adjacentSibling:void 0,generalSibling:void 0};return u=applySelectors$2(t,combine$2(e,t.rootQuery.selectors),n,i,o),parent$2(n)&&!t.shallow&&!(t.one&&t.found)&&all$7(t,u,n),u}function all$7(t,e,n){const i=combine$2(e.descendant,e.directChild);let o,u=-1;const l={count:0,types:new Map},c={count:0,types:new Map};for(;++u<n.children.length;)count$2(l,n.children[u]);for(u=-1;++u<n.children.length;){const d=n.children[u].type.toUpperCase();t.nodeIndex=c.count,t.typeIndex=c.types.get(d)||0,t.nodeCount=l.count,t.typeCount=l.types.get(d);const m=combine$2(i,o),g=one$5(t,m,n.children[u],u,n);if(o=combine$2(g.generalSibling,g.adjacentSibling),t.one&&t.found)break;count$2(c,n.children[u])}}function applySelectors$2(t,e,n,i,o){const u={directChild:void 0,descendant:void 0,adjacentSibling:void 0,generalSibling:void 0};let l=-1;for(;++l<e.length;){const c=e[l];if(t.one&&t.found)break;if(t.shallow&&c.rule.rule)throw new Error("Expected selector without nesting");if(test$2(c.rule,n,i,o,t)){const f=c.rule.rule;if(f){const d={type:"ruleSet",rule:f},m=f.nestingOperator==="+"?"adjacentSibling":f.nestingOperator==="~"?"generalSibling":f.nestingOperator===">"?"directChild":"descendant";add$2(u,m,d)}else t.found=!0,t.results.includes(n)||t.results.push(n)}c.rule.nestingOperator===null?add$2(u,"descendant",c):c.rule.nestingOperator==="~"&&add$2(u,"generalSibling",c)}return u}function combine$2(t,e){return t&&e&&t.length>0&&e.length>0?[...t,...e]:t&&t.length>0?t:e&&e.length>0?e:empty$6}function add$2(t,e,n){const i=t[e];i?i.push(n):t[e]=[n]}function count$2(t,e){const n=e.type.toUpperCase(),i=(t.types.get(n)||0)+1;t.count++,t.types.set(n,i)}var lib$3={},parserContext$2={},utils$2={},hasRequiredUtils$2;function requireUtils$2(){return hasRequiredUtils$2||(hasRequiredUtils$2=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(l){return l>="a"&&l<="z"||l>="A"&&l<="Z"||l==="-"||l==="_"}t.isIdentStart=e;function n(l){return l>="a"&&l<="z"||l>="A"&&l<="Z"||l>="0"&&l<="9"||l==="-"||l==="_"}t.isIdent=n;function i(l){return l>="a"&&l<="f"||l>="A"&&l<="F"||l>="0"&&l<="9"}t.isHex=i;function o(l){for(var c=l.length,f="",d=0;d<c;){var m=l.charAt(d);if(t.identSpecialChars[m])f+="\\"+m;else if(m==="_"||m==="-"||m>="A"&&m<="Z"||m>="a"&&m<="z"||d!==0&&m>="0"&&m<="9")f+=m;else{var g=m.charCodeAt(0);if((g&63488)===55296){var v=l.charCodeAt(d++);if((g&64512)!==55296||(v&64512)!==56320)throw Error("UCS-2(decode): illegal sequence");g=((g&1023)<<10)+(v&1023)+65536}f+="\\"+g.toString(16)+" "}d++}return f}t.escapeIdentifier=o;function u(l){for(var c=l.length,f="",d=0,m;d<c;){var g=l.charAt(d);g==='"'?g='\\"':g==="\\"?g="\\\\":(m=t.strReplacementsRev[g])!==void 0&&(g=m),f+=g,d++}return'"'+f+'"'}t.escapeStr=u,t.identSpecialChars={"!":!0,'"':!0,"#":!0,$:!0,"%":!0,"&":!0,"'":!0,"(":!0,")":!0,"*":!0,"+":!0,",":!0,".":!0,"/":!0,";":!0,"<":!0,"=":!0,">":!0,"?":!0,"@":!0,"[":!0,"\\":!0,"]":!0,"^":!0,"`":!0,"{":!0,"|":!0,"}":!0,"~":!0},t.strReplacementsRev={"\n":"\\n","\r":"\\r","	":"\\t","\f":"\\f","\v":"\\v"},t.singleQuoteEscapeChars={n:`
`,r:"\r",t:"	",f:"\f","\\":"\\","'":"'"},t.doubleQuotesEscapeChars={n:`
`,r:"\r",t:"	",f:"\f","\\":"\\",'"':'"'}})(utils$2)),utils$2}var hasRequiredParserContext$2;function requireParserContext$2(){if(hasRequiredParserContext$2)return parserContext$2;hasRequiredParserContext$2=1,Object.defineProperty(parserContext$2,"__esModule",{value:!0});var t=requireUtils$2();function e(n,i,o,u,l,c){var f=n.length,d="";function m(A,D){var k="";for(i++,d=n.charAt(i);i<f;){if(d===A)return i++,k;if(d==="\\"){i++,d=n.charAt(i);var j=void 0;if(d===A)k+=A;else if((j=D[d])!==void 0)k+=j;else if(t.isHex(d)){var B=d;for(i++,d=n.charAt(i);t.isHex(d);)B+=d,i++,d=n.charAt(i);d===" "&&(i++,d=n.charAt(i)),k+=String.fromCharCode(parseInt(B,16));continue}else k+=d}else k+=d;i++,d=n.charAt(i)}return k}function g(){var A="";for(d=n.charAt(i);i<f;){if(t.isIdent(d))A+=d;else if(d==="\\"){if(i++,i>=f)throw Error("Expected symbol but end of file reached.");if(d=n.charAt(i),t.identSpecialChars[d])A+=d;else if(t.isHex(d)){var D=d;for(i++,d=n.charAt(i);t.isHex(d);)D+=d,i++,d=n.charAt(i);d===" "&&(i++,d=n.charAt(i)),A+=String.fromCharCode(parseInt(D,16));continue}else A+=d}else return A;i++,d=n.charAt(i)}return A}function v(){d=n.charAt(i);for(var A=!1;d===" "||d==="	"||d===`
`||d==="\r"||d==="\f";)A=!0,i++,d=n.charAt(i);return A}function y(){var A=w();if(i<f)throw Error('Rule expected but "'+n.charAt(i)+'" found.');return A}function w(){var A=T();if(!A)return null;var D=A;for(d=n.charAt(i);d===",";){if(i++,v(),D.type!=="selectors"&&(D={type:"selectors",selectors:[A]}),A=T(),!A)throw Error('Rule expected after ",".');D.selectors.push(A)}return D}function T(){v();var A={type:"ruleSet"},D=P();if(!D)return null;for(var k=A;D&&(D.type="rule",k.rule=D,k=D,v(),d=n.charAt(i),!(i>=f||d===","||d===")"));)if(l[d]){var j=d;if(i++,v(),D=P(),!D)throw Error('Rule expected after "'+j+'".');D.nestingOperator=j}else D=P(),D&&(D.nestingOperator=null);return A}function P(){for(var A=null;i<f;)if(d=n.charAt(i),d==="*")i++,(A=A||{}).tagName="*";else if(t.isIdentStart(d)||d==="\\")(A=A||{}).tagName=g();else if(d===".")i++,A=A||{},(A.classNames=A.classNames||[]).push(g());else if(d==="#")i++,(A=A||{}).id=g();else if(d==="["){i++,v();var D={name:g()};if(v(),d==="]")i++;else{var k="";if(u[d]&&(k=d,i++,d=n.charAt(i)),i>=f)throw Error('Expected "=" but end of file reached.');if(d!=="=")throw Error('Expected "=" but "'+d+'" found.');D.operator=k+"=",i++,v();var j="";if(D.valueType="string",d==='"')j=m('"',t.doubleQuotesEscapeChars);else if(d==="'")j=m("'",t.singleQuoteEscapeChars);else if(c&&d==="$")i++,j=g(),D.valueType="substitute";else{for(;i<f&&d!=="]";)j+=d,i++,d=n.charAt(i);j=j.trim()}if(v(),i>=f)throw Error('Expected "]" but end of file reached.');if(d!=="]")throw Error('Expected "]" but "'+d+'" found.');i++,D.value=j}A=A||{},(A.attrs=A.attrs||[]).push(D)}else if(d===":"){i++;var B=g(),Z={name:B};if(d==="("){i++;var R="";if(v(),o[B]==="selector")Z.valueType="selector",R=w();else{if(Z.valueType=o[B]||"string",d==='"')R=m('"',t.doubleQuotesEscapeChars);else if(d==="'")R=m("'",t.singleQuoteEscapeChars);else if(c&&d==="$")i++,R=g(),Z.valueType="substitute";else{for(;i<f&&d!==")";)R+=d,i++,d=n.charAt(i);R=R.trim()}v()}if(i>=f)throw Error('Expected ")" but end of file reached.');if(d!==")")throw Error('Expected ")" but "'+d+'" found.');i++,Z.value=R}A=A||{},(A.pseudos=A.pseudos||[]).push(Z)}else break;return A}return y()}return parserContext$2.parseCssSelector=e,parserContext$2}var render$2={},hasRequiredRender$2;function requireRender$2(){if(hasRequiredRender$2)return render$2;hasRequiredRender$2=1,Object.defineProperty(render$2,"__esModule",{value:!0});var t=requireUtils$2();function e(n){var i="";switch(n.type){case"ruleSet":for(var o=n.rule,u=[];o;)o.nestingOperator&&u.push(o.nestingOperator),u.push(e(o)),o=o.rule;i=u.join(" ");break;case"selectors":i=n.selectors.map(e).join(", ");break;case"rule":n.tagName&&(n.tagName==="*"?i="*":i=t.escapeIdentifier(n.tagName)),n.id&&(i+="#"+t.escapeIdentifier(n.id)),n.classNames&&(i+=n.classNames.map(function(l){return"."+t.escapeIdentifier(l)}).join("")),n.attrs&&(i+=n.attrs.map(function(l){return"operator"in l?l.valueType==="substitute"?"["+t.escapeIdentifier(l.name)+l.operator+"$"+l.value+"]":"["+t.escapeIdentifier(l.name)+l.operator+t.escapeStr(l.value)+"]":"["+t.escapeIdentifier(l.name)+"]"}).join("")),n.pseudos&&(i+=n.pseudos.map(function(l){return l.valueType?l.valueType==="selector"?":"+t.escapeIdentifier(l.name)+"("+e(l.value)+")":l.valueType==="substitute"?":"+t.escapeIdentifier(l.name)+"($"+l.value+")":l.valueType==="numeric"?":"+t.escapeIdentifier(l.name)+"("+l.value+")":":"+t.escapeIdentifier(l.name)+"("+t.escapeIdentifier(l.value)+")":":"+t.escapeIdentifier(l.name)}).join(""));break;default:throw Error('Unknown entity type: "'+n.type+'".')}return i}return render$2.renderEntity=e,render$2}var hasRequiredLib$3;function requireLib$3(){if(hasRequiredLib$3)return lib$3;hasRequiredLib$3=1,Object.defineProperty(lib$3,"__esModule",{value:!0});var t=requireParserContext$2(),e=requireRender$2(),n=(function(){function i(){this.pseudos={},this.attrEqualityMods={},this.ruleNestingOperators={},this.substitutesEnabled=!1}return i.prototype.registerSelectorPseudos=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];this.pseudos[f]="selector"}return this},i.prototype.unregisterSelectorPseudos=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];delete this.pseudos[f]}return this},i.prototype.registerNumericPseudos=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];this.pseudos[f]="numeric"}return this},i.prototype.unregisterNumericPseudos=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];delete this.pseudos[f]}return this},i.prototype.registerNestingOperators=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];this.ruleNestingOperators[f]=!0}return this},i.prototype.unregisterNestingOperators=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];delete this.ruleNestingOperators[f]}return this},i.prototype.registerAttrEqualityMods=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];this.attrEqualityMods[f]=!0}return this},i.prototype.unregisterAttrEqualityMods=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];delete this.attrEqualityMods[f]}return this},i.prototype.enableSubstitutes=function(){return this.substitutesEnabled=!0,this},i.prototype.disableSubstitutes=function(){return this.substitutesEnabled=!1,this},i.prototype.parse=function(o){return t.parseCssSelector(o,0,this.pseudos,this.attrEqualityMods,this.ruleNestingOperators,this.substitutesEnabled)},i.prototype.render=function(o){return e.renderEntity(o).trim()},i})();return lib$3.CssSelectorParser=n,lib$3}var libExports$3=requireLib$3();const parser$2=new libExports$3.CssSelectorParser;parser$2.registerAttrEqualityMods("~","^","$","*");parser$2.registerSelectorPseudos("any","matches","not","has");parser$2.registerNestingOperators(">","+","~");function parse$6(t){if(typeof t!="string")throw new TypeError("Expected `string` as selector, not `"+t+"`");return parser$2.parse(t)}function selectAll(t,e){const n=createState$3(t,e);return walk$2(n,e||void 0),n.results}function createState$3(t,e){return{rootQuery:queryToSelectors$2(parse$6(t)),results:[],scopeNodes:e?parent$2(e)&&(e.type==="RootNode"||e.type==="root")?e.children:[e]:[],one:!1,shallow:!1,found:!1,typeIndex:void 0,nodeIndex:void 0,typeCount:void 0,nodeCount:void 0}}function listComputables(t){return selectAll("container[kind=figure]:has(outputs), embed:has(outputs), container[kind=table]:has(outputs)",t).map(e=>{const{key:n,label:i,source:o}=e,u=selectAll("outputs",e);return{embedKey:n,outputsId:u[0].id,outputsKey:u[0].key,label:i,source:o}})}function notebookFromMdast(t,e,n,i,o){const u=new t.ThebeNotebook(n,e,o);return u.cells=i.children.map(l=>{l.type!=="block"&&console.warn(`Unexpected block type ${l.type}`);const c=executableNodesFromBlock(l);if(c){const{codeCell:f,outputs:d}=c;return new t.ThebeCodeCell(d.id,u.id,f.value??"",e,l.data??{},u.rendermime)}else return new t.ThebeMarkdownCell(l.key,u.id,l.children.reduce((d,m)=>d+`
`+(m.value??""),""),l.data??{},u.rendermime)}),u}function makeSessionPath(t,e){const n=e?.match(/(.*)\/.*.(ipynb|md)$/)??null,i=n?.[2];let o=`${t}.${i}`;return console.debug("session starter path:",o),n&&(console.debug("session starter match:",n),o=`${n[1]}/${o}`,o=o.startsWith("/")?o.slice(1):o,console.debug("session starter path (modified):",o)),o}async function connectToExistingSession(t,e,n,i){try{const o=await t.connectToExistingSession(e,n.rendermime);if(o==null){console.error(`Could not connect to session for ${e.path}`);return}console.debug(`reconnected to session for ${e.path}`,o),console.debug("restarting session",o),await o.kernel?.restart(),n.notebook.attachSession(o),console.debug("Start&Exec: SessionStarter - existing session - ADD_SESSION",{notebookScope:n}),i.addSession(n?.notebookSlug,o)}catch(o){throw console.error("Error connecting to existing session",o),new Error(`Error connecting to existing session: ${o.message}`)}}async function startNewSession(t,e,n,i){try{const o=await t.startNewSession(e.rendermime,{...t.config.kernels,path:n});if(o==null){t?.getKernelSpecs().then(u=>{console.error(`Could not start session for ${n}`),console.debug(`Available kernels: ${Object.keys(u)}`)});return}console.debug(`session started for ${n}`,o),e.notebook.attachSession(o),console.debug("Start&Exec: SessionStarter - new session - ADD_SESSION",{notebookScope:e}),i.addSession(e.notebookSlug,o)}catch(o){throw console.error("Error starting session",o),new Error(`Error starting session: ${o.message}`)}}const notebookExecuteAll=async(t,e)=>{if(!t){console.error("no notebook scope found on execute",{notebookScope:t});return}const n=useBusyStore.getState().actions,i=t.notebook.id;n.clearError(i),n.setNotebookExecute(i,t.notebook.code.map(u=>u.id)),e?.clearOutputsOnExecute&&t.notebook.clear();const o=t.server?.config?.events;return new Promise((u,l)=>{setTimeout(async()=>{const c=(f,d)=>{if(d.subject==="cell"&&d.status==="idle"){const m=d.object;n.clearCellExecute(m.notebookId,d.id)}};o?.on("status",c);try{const f=await t.notebook.executeAll(!0),d=distExports.findErrors(f);d!=null&&(console.error("errors",d),n.setError(t.notebookSlug,d)),n.clearNotebookExecute(t.notebookSlug),o?.off("status",c),u(f)}catch(f){console.error("fatal error executing notebook",f)}},100)})},notebookClearAll=t=>{t?.notebook.clear()},notebookResetAll=(t,e)=>{if(!e||!t){console.error("no notebook scope found on reset",{notebookScope:e});return}const n=useBusyStore.getState().actions,i=useExecuteStore.getState().actions,o=useExecuteStore.getState().pages[e.notebook.id]?.location,u=e.notebook.id;return n.clearNotebookExecute(u),n.clearError(u),n.setNotebookReset(u,e.notebook.code.map(l=>l.id)),new Promise((l,c)=>{setTimeout(async()=>{e.notebook.reset();const f=e?.session?.path??makeSessionPath(u,o);if(!(await t.listRunningSessions()).find(g=>g.path===f))try{await startNewSession(t,e,f,i),n.clearError(u),n.clearNotebookReset(u),l()}catch(g){console.error("error starting new session",g),n.setError(u,g),n.clearNotebookReset(u),c(g)}if(e.session?.kernel?.status==="dead"){try{await e.session.shutdown(),await startNewSession(t,e,f,i),n.clearError(u),n.clearNotebookReset(u),l()}catch(g){console.error("error restarting kernel",g),n.setError(u,g),n.clearNotebookReset(u),c(g)}return}try{await e.session?.kernel?.restart(),n.clearError(u),n.clearNotebookReset(u),l()}catch(g){console.error("error restarting kernel",g),n.setError(u,g),n.clearNotebookReset(u),c(g)}},300)})},fns={executeAll:notebookExecuteAll,clearAll:notebookClearAll,resetAll:notebookResetAll},useExecuteStore=create$5((t,e)=>({slug:"",fetching:{},building:{},starting:{},pages:{},mdast:{},scopes:{},select:{kind:()=>{const{pages:n,slug:i}=e();return n[i]?.kind},location:()=>{const{pages:n,slug:i}=e();return n[i]?.location},mdast:n=>e().pages[n]?.mdast,page:n=>e().pages[n],scope:n=>e().scopes[n],getPageNotebookDependencies:n=>{const i=e().pages[n];if(i)return i.dependencies??void 0}},actions:{initialize:n=>t(i=>({...i,...n})),setSlug:n=>t({slug:n}),addFetching:(n,i)=>t(o=>({fetching:{...o.fetching,[n]:{status:"fetch",dependency:i}}})),updateFetching:(n,i)=>t(o=>({fetching:{...o.fetching,[n]:{...o.fetching[n],status:i}}})),clearFetching:n=>{const i=e(),{[n]:o,...u}=i.fetching;t({fetching:{...u}})},addBuilding:(n,i)=>t(o=>({building:{...o.building,[n]:{status:i,slug:n}}})),updateBuilding:(n,i)=>t(o=>({building:{...o.building,[n]:{...o.building[n],status:i}}})),clearBuilding:n=>{const i=e(),{[n]:o,...u}=i.building;t({building:{...u}})},updateStarting:(n,i,o)=>t(u=>({starting:{...u.starting,[n]:{slug:n,status:i,error:o}}})),clearStarting:n=>{const i=e(),{[n]:o,...u}=i.starting;t({starting:{...u}})},addPage:(n,i)=>t(o=>({pages:{...o.pages,[n]:i}})),addScope:(n,i)=>t(o=>({scopes:{...o.scopes,[n]:{...i,notebookSlug:n,initializeStarted:!1,initialExecuteStarted:!1,initialExecuteComplete:!1}}})),startupNotebook:(n,i)=>{t(o=>({starting:{...o.starting,[n]:{slug:n,status:"wait-for-server"}},scopes:{...o.scopes,[n]:{...o.scopes[n],server:i,initializeStarted:!0}}}))},addSession:(n,i)=>{t(o=>({starting:{...o.starting,[n]:{slug:n,status:"start-session"}},scopes:{...o.scopes,[n]:{...o.scopes[n],session:i}}}))},clearInitialExecute:n=>t(i=>({scopes:{...i.scopes,[n]:{...i.scopes[n],initialExecuteStarted:!1,initialExecuteComplete:!1}}})),setStartInitialExecute:n=>t(i=>({scopes:{...i.scopes,[n]:{...i.scopes[n],initialExecuteStarted:!0}}})),setInitialExecuteComplete:n=>t(i=>({scopes:{...i.scopes,[n]:{...i.scopes[n],initialExecuteComplete:!0}}})),thunkInitialExecuteNotebook:async n=>{const i=e(),o=i.scopes[n];if(o){o.initialExecuteStarted||i.actions.setStartInitialExecute(n);try{await fns.executeAll(o,{clearOutputsOnExecute:!1}),o.initialExecuteComplete||i.actions.setInitialExecuteComplete(n)}catch(u){console.error("Error starting initial execution",u)}}},thunkResetNotebook:async(n,i)=>{if(!i)return;const o=e(),u=o.scopes[n];if(u){o.actions.clearInitialExecute(n);try{await fns.resetAll(i,u)}catch(l){console.error("Error resetting notebook",l)}}},thunkResetExecutionState:n=>{const i=e();for(const u in i.scopes){const l=i.scopes[u];i.scopes[u]={initializeStarted:!1,initialExecuteStarted:!1,initialExecuteComplete:!1,notebookSlug:l.notebookSlug,notebook:l.notebook,rendermime:l.rendermime}}t({scopes:i.scopes});const o=n;o&&(o.ready=new Promise((u,l)=>{o.resolveReadyFn=u,o.rejectReadyFn=l}),o._isDisposed=!1,o.sessionManager=void 0,o.serviceManager=void 0,o.binderUrls=void 0,o.userServerUrl=void 0)}}}));function MdastFetcher({slug:t,url:e,kind:n}){const i=useExecuteStore(l=>l.actions),{data:o,error:u}=useFetchMdast({remote:!0,dataUrl:`${e}.json`});return reactExports.useEffect(()=>{u&&(console.error(`Error fetching ${t}`,u),i.updateFetching(t,"error"))},[u]),reactExports.useEffect(()=>{if(!o)return;console.debug(`MdastFetcher - ${t} fetched`);const l=listComputables(o.mdast),c={computable:l.length>0||n===SourceFileKind.Notebook,kind:o.kind,slug:t,location:o.location??`/${t}.ipynb`,dependencies:o.dependencies??[],computables:l,mdast:o.mdast};i.addPage(t,c),n===SourceFileKind.Notebook&&i.addBuilding(t,"build-notebook")},[o]),u?jsxRuntimeExports.jsxs("div",{children:["error: ",t,u.message]}):null}function useLoadPlotly(){const[t,e]=reactExports.useState();return reactExports.useEffect(()=>{t||__vitePreload(()=>import("./plotly-renderer-DF7S96xf.js"),__vite__mapDeps([0,1])).then(n=>{console.debug("Jupyter: Adding plotly renderer factory to rendermime registry",{module:n}),e(n)})},[t]),{plotly:t}}const PLOTLY_MIMETYPE="application/vnd.plotly.v1+json";function isPlotly(t){return t.some(e=>Object.keys(e.data??[]).includes(PLOTLY_MIMETYPE))}function usePlotlyPassively(t,e){const n=isPlotly(e),[i,o]=reactExports.useState(!n);return reactExports.useEffect(()=>{i||!n||__vitePreload(()=>import("./plotly-renderer-DF7S96xf.js"),__vite__mapDeps([0,1])).then(u=>{console.debug("Jupyter: Adding plotly renderer factory to rendermime registry",{module:u}),t.addFactory(u.rendererFactory,41),o(!0)})},[i,n]),{loaded:i,isPlotlyOutput:n}}function NotebookBuilder({slug:t}){const{core:e,load:n}=distExports.useThebeLoader(),{config:i}=distExports.useThebeConfig(),o=useExecuteStore(d=>d.select),u=useExecuteStore(d=>d.actions),l=!!o.scope(t),c=o.mdast(t);reactExports.useEffect(()=>{e||n()},[e,n]);const{plotly:f}=useLoadPlotly();return reactExports.useEffect(()=>{if(l)return u.clearBuilding(t);if(!e||!i||!f||l)return;if(!c)return u.updateBuilding(t,"error");console.debug(`Jupyter: NotebookBuilder - ${t} being added to scopes`);const d=e?.makeRenderMimeRegistry(i?.mathjax);f&&d.addFactory(f.rendererFactory,41);const m=notebookFromMdast(e,i,t,c,d);console.debug("Start&Exec: NotebookBuilder ",{pageSlug:t,slug:t,rendermime:d,notebook:m}),u.clearBuilding(t),u.addScope(t,{rendermime:d,notebook:m})},[e,i,t,c,l,f,u]),null}function ServerMonitor(){const{ready:t,error:e}=distExports.useThebeServer(),n=useExecuteStore(o=>o.starting),i=useExecuteStore(o=>o.actions);return reactExports.useEffect(()=>{if(Object.keys(n).length===0||!t&&!e)return;Object.entries(n).filter(([,{status:u}])=>u!=="error").forEach(([u,{status:l}])=>{console.debug(`ServerMonitor - starting: ${u} - ${l}`),t&&l==="wait-for-server"&&(console.debug(`ServerMonitor - starting: server ready - ${u}, starting session`),i.updateStarting(u,"start-session")),e&&(console.debug(`ServerMonitor - starting: server error - ${u}`,e),i.updateStarting(u,"error"))})},[t,e,n]),null}function useNavigateWithExecution({contents:{slug:t,location:e,kind:n,mdast:i,dependencies:o}}){const u=useExecuteStore(c=>c.actions),l=useExecuteStore(c=>c.select);reactExports.useEffect(()=>{if(u.setSlug(t),!l.page(t)){const c=listComputables(i);u.addPage(t,{computable:c.length>0||n===SourceFileKind.Notebook,kind:n,slug:t,location:e??(n===SourceFileKind.Notebook?`/${t}.ipynb`:"/"),dependencies:o??[],computables:c,mdast:i}),getFetchableNotebookDependencies(o).forEach(d=>{u.addFetching(d.slug,d)})}n===SourceFileKind.Notebook&&!l.scope(t)&&u.addBuilding(t,"build-notebook")},[t,u])}function SessionStarter({slug:t}){const{core:e}=distExports.useThebeLoader(),{config:n,server:i}=distExports.useThebeServer(),o=useExecuteStore(c=>c.scopes[t]),u=useExecuteStore(c=>c.pages[t]?.location),l=useExecuteStore(c=>c.actions);return reactExports.useEffect(()=>{if(!e||!i||o?.session)return;const c=o.notebookSlug;console.debug(`Start&Exec: Starting session for ${c} at ${u}`),u===void 0&&console.warn("Article/Notebook json is missing the location field, this may break notebook execution when located outside of the root folder"),i.listRunningSessions().then(async f=>{l.clearStarting(o.notebookSlug);const d=makeSessionPath(c,u),m=f.find(g=>g.path===d);try{m?(console.debug(`session already exists for ${d}`,m),await connectToExistingSession(i,m,o,l)):await startNewSession(i,o,d,l),await l.thunkInitialExecuteNotebook(o.notebookSlug)}catch(g){console.error("Error starting session",g),l.updateStarting(o.notebookSlug,"error",g.message)}})},[e,n,o]),null}const ExecuteScopeContext=React.createContext({pageSlug:""});function ExecuteScopeProvider({children:t,enable:e,contents:n}){const i=Object.fromEntries(getFetchableNotebookDependencies(n.dependencies).map(k=>[k.slug,{status:"fetch",dependency:k}])),o=listComputables(n.mdast),u=n.kind===SourceFileKind.Notebook?`/${n.slug}.ipynb`:"/",l=useExecuteStore(),{actions:c,fetching:f,building:d,starting:m}=l,g=useBusyStore();reactExports.useEffect(()=>{c.initialize({slug:n.slug,fetching:i,building:{},starting:{},pages:{[n.slug]:{computable:o.length>0||n.kind===SourceFileKind.Notebook,kind:n.kind,slug:n.slug,location:n.location??u,dependencies:n.dependencies??[],computables:o,mdast:n.mdast}},scopes:{}}),n.kind===SourceFileKind.Notebook&&(selectAll("block[kind=notebook-code] > output",n.mdast).forEach(k=>{k.notebookSlug||console.warn("Notebook Output is Missing notebookSlug",{node:k})}),c.addBuilding(n.slug,"build-notebook"))},[]),useNavigateWithExecution({contents:n});const v=Object.entries(f).filter(([k,{status:j}])=>j==="fetch"),y=Object.values(d).filter(k=>k.status==="build-notebook"),w=Object.values(m).filter(k=>k.status==="start-session"),T=React.useMemo(()=>({pageSlug:n.slug,location:n.location}),[n.slug,e]);typeof window<"u"&&(window.executeState=l,window.busyState=g);const{pages:P,...A}=l;return jsxRuntimeExports.jsxs(ExecuteScopeContext.Provider,{value:T,children:[!1,v.length>0&&jsxRuntimeExports.jsx("div",{children:v.map(([k,{dependency:j}])=>jsxRuntimeExports.jsx(MdastFetcher,{slug:k,kind:j.kind,url:j.url},`fetch-${k}`))}),y.length>0&&jsxRuntimeExports.jsx("div",{children:y.map(({slug:k})=>jsxRuntimeExports.jsx(NotebookBuilder,{slug:k},`build-${k}`))}),w.length>0&&jsxRuntimeExports.jsx("div",{children:w.map(({slug:k})=>jsxRuntimeExports.jsx(SessionStarter,{slug:k},`session-${k}`))}),jsxRuntimeExports.jsx(ServerMonitor,{}),t]})}function isObject(t){return typeof t=="object"&&t!==null}function thebeFrontmatterToOptions(t){if(t===void 0)return;const{binder:e,server:n,lite:i,kernelName:o,disableSessionSaving:u,mathjaxConfig:l,mathjaxUrl:c}=t??{},f={mathjaxConfig:l,mathjaxUrl:c};if(u&&(f.savedSessionOptions={enabled:!1}),o&&(f.kernelOptions={kernelName:o}),e){f.useBinder=!0;const{repo:d,ref:m,url:g,provider:v}=e;f.binderOptions={repo:d,ref:m,binderUrl:g,repoProvider:v}}if(i===!0&&(f.useJupyterLite=!0),isObject(n)){const{url:d,token:m}=n;f.serverSettings={},d&&(f.serverSettings.baseUrl=d),m&&(f.serverSettings.token=m)}return f}function makeLocalizedUserServerUrl(t,e){let n=t.userServerUrl;if(n==="/")return e;if(e&&n){const i=new URL(n);i.pathname=`${i.pathname}lab/tree${e}`.replace(/\/+/g,"/"),n=i.toString()}return n}const ComputeOptionsContext=React.createContext(void 0);function ComputeOptionsProvider({features:t,optionOverrideFn:e,customRepoProviders:n,customConnectFn:i,children:o}){const u=useProjectManifest(),l=React.useMemo(()=>{if(!u)return;const c=u?.thebe,f=u?.github,d=u?.binder,m=thebeFrontmatterToOptions(c),g=e?e(m):m;return{enabled:!!g,thebe:g,githubBadgeUrl:f,binderBadgeUrl:d,features:t,customRepoProviders:n,customConnectFn:i}},[u,e]);return console.debug("ComputeOptionsProvider",l),console.debug("Compute is ",l?.enabled?"ENABLED":"DISABLED"),console.debug("Thebe options (these come from the project.thebe|jupyter frontmatter)",l?.thebe),console.debug("Resolved features (these come from theme settings && !!project.jupyter)",l?.features),console.debug('If meca is expected, we add "meca" to the custom repo providers',l?.customRepoProviders?"YES":"NO"),console.debug("If a custom connect function is provided, it will be used to connect to the server",l?.customConnectFn?"YES":"NO"),jsxRuntimeExports.jsx(ComputeOptionsContext.Provider,{value:l,children:o})}function useComputeOptions(){return reactExports.useContext(ComputeOptionsContext)}const toKebabCase=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mergeClasses=(...t)=>t.filter((e,n,i)=>!!e&&i.indexOf(e)===n).join(" ");var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Icon=reactExports.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:u,iconNode:l,...c},f)=>reactExports.createElement("svg",{ref:f,...defaultAttributes,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:mergeClasses("lucide",o),...c},[...l.map(([d,m])=>reactExports.createElement(d,m)),...Array.isArray(u)?u:[u]]));const createLucideIcon=(t,e)=>{const n=reactExports.forwardRef(({className:i,...o},u)=>reactExports.createElement(Icon,{ref:u,iconNode:e,className:mergeClasses(`lucide-${toKebabCase(t)}`,i),...o}));return n.displayName=`${t}`,n};const CircleAlert=createLucideIcon("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const CircleMinus=createLucideIcon("CircleMinus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);const CirclePlay=createLucideIcon("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);const ExternalLink=createLucideIcon("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const Play=createLucideIcon("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const UndoDot=createLucideIcon("UndoDot",[["circle",{cx:"12",cy:"17",r:"1",key:"1ixnty"}],["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);function Spinner({size:t,className:e}){return jsxRuntimeExports.jsxs("div",{role:"status",children:[jsxRuntimeExports.jsxs("svg",{"aria-hidden":"true",width:t,height:t,className:classNames(e,"mr-2 text-gray-200 animate-spin dark:text-gray-600 fill-green-600"),viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Loading..."})]})}const immutable=t=>(e,n,i)=>(i.revalidateOnFocus=!1,i.revalidateIfStale=!1,i.revalidateOnReconnect=!1,t(e,n,i)),useSWRImmutable=withMiddleware(useSWR,immutable);async function requestImageAsBase64String(t){const e=new Image;return e.crossOrigin="Anonymous",new Promise((i,o)=>{e.onload=function(){const l=document.createElement("canvas"),c=l.getContext("2d");if(!c)return console.error("Could not get canvas context"),o();l.height=e.naturalHeight,l.width=e.naturalWidth,c.drawImage(e,0,0);const f=l.toDataURL("image/png"),[,d]=f.split(";base64,");i(d)},e.src=t})}async function fetchAndEncodeOutputImages(t){return Promise.all(t.map(async e=>{if(!("data"in e))return e;const n=Object.keys(e.data).filter(o=>o!=="image/svg"&&o!=="image/svg+xml"&&o.startsWith("image/"));if(n.length===0)return e;const i=await Promise.all(n.map(async o=>{const u=e.data[o];if(u.path){const l=await requestImageAsBase64String(u.path);return{...u,content:l}}return u}));return n.forEach((o,u)=>{e.data[o]=i[u]}),e}))}async function fetcher$1(t){const e=await fetch(t);if(e.status===200){const n=await e.text();if(t.endsWith(".json"))try{const i=JSON.parse(n),o=Object.keys(i);if(o.length===2&&o.includes("content")&&o.includes("content_type"))return i}catch{}return{content:n}}throw new Error(`Content returned with status ${e.status}.`)}function useLongContent(t,e){if(typeof document>"u")return e?{}:{data:{content:t??""}};const{data:n,error:i}=useSWRImmutable(e||null,fetcher$1);return e?{data:n,error:i}:{data:{content:t??""}}}const arrayFetcher=t=>Promise.all(t.map(e=>fetcher$1(e)));function shallowCloneOutputs(t){return t.map(e=>{if("data"in e&&e.data){const n=e.data;return{...e,data:Object.entries(n).reduce((i,[o,u])=>({...i,[o]:{...u}}),{})}}return{...e}})}function useFetchAnyTruncatedContent(t){const e=[],n=shallowCloneOutputs(t);walkOutputs(n,u=>{"content_type"in u&&u.content_type.startsWith("image/")||u.path&&e.push(u)});const{data:i,error:o}=useSWRImmutable(e.map(({path:u})=>u),arrayFetcher);return i?.forEach(({content:u},l)=>{const c=e[l];"text"in c?c.text=u:"traceback"in c?c.traceback=u:c.content=u,c.path=void 0}),{data:e.length===0||i?n:void 0,error:o}}function useHydratedOutputs(t,e){const{data:n,error:i}=useFetchAnyTruncatedContent(e),[o,u]=reactExports.useState(null);return reactExports.useEffect(()=>{!n||o!=null||fetchAndEncodeOutputImages(n).then(l=>{u(convertToIOutputs(l,{}))})},[t,n,o]),{fullOutputs:o,error:i}}const SpinnerButton=reactExports.forwardRef(function(t,e){const{ready:n,icon:i,busy:o,disabled:u,title:l,ariaLabel:c,onClick:f,...d}=t;return jsxRuntimeExports.jsxs("a",{className:"relative flex text-sm",ref:e,...d,children:[jsxRuntimeExports.jsx("button",{className:classNames(" text-gray-700 dark:text-white active:text-green-700 ",{"opacity-10 hover:opacity-10":o,"opacity-70":!o&&!u,"cursor-pointer hover:opacity-100":!u,"cursor-not-allowed opacity-10 hover:opacity-10":u}),disabled:u||!n||o,onClick:f,title:l,"aria-label":c??l,children:i}),o&&jsxRuntimeExports.jsx("span",{className:"absolute top-0 left-0 z-10 opacity-100",children:jsxRuntimeExports.jsx(Spinner,{size:24})})]})});function Restart({ready:t,resetting:e,disabled:n,title:i,onClick:o}){const u=i??"restart notebook";return jsxRuntimeExports.jsx(Tooltip,{title:u,children:jsxRuntimeExports.jsx(SpinnerButton,{ready:t,busy:e,disabled:n,ariaLabel:u,onClick:o,icon:jsxRuntimeExports.jsx(UndoDot,{width:"1.5rem",height:"1.5rem"})})})}function Run({icon:t,ready:e,executing:n,disabled:i,title:o,onClick:u}){const l=t??jsxRuntimeExports.jsx(CirclePlay,{width:"1.5rem",height:"1.5rem",className:"inline-block align-top"}),c=n?"Running...":o??"run this cell";return console.log("Run onClick",u),jsxRuntimeExports.jsx(Tooltip,{title:c,children:jsxRuntimeExports.jsx(SpinnerButton,{ready:e,busy:n,disabled:i,onClick:u,icon:l,ariaLabel:c})})}function Clear({ready:t,disabled:e,title:n,onClick:i}){const o=n??"clear";return jsxRuntimeExports.jsx(Tooltip,{title:o,children:jsxRuntimeExports.jsx("button",{className:classNames("flex text-gray-700 dark:text-white",{"cursor-not-allowed opacity-10":e||!t,"active:text-green-700 opacity-70 hover:opacity-100 cursor-pointer":!e}),disabled:e||!t,onClick:()=>i(),"aria-label":o,children:jsxRuntimeExports.jsx(CircleMinus,{width:"1.5rem",height:"1.5rem",className:"inline-block align-top"})})})}function LaunchIconLink({title:t,url:e}){const n=t??"Launch in jupyter";return jsxRuntimeExports.jsx(Tooltip,{title:n,children:jsxRuntimeExports.jsx("a",{className:classNames("flex items-center text-gray-700 dark:text-white active:text-green-700 hover:opacity-100",{"cursor-not-allowed opacity-10 pointer-events-none":!e,"cursor-pointer opacity-70":e}),href:e??"#","aria-label":n,target:"_blank",rel:"noreferrer noopener",children:jsxRuntimeExports.jsx(ExternalLink,{width:"1.5rem",height:"1.5rem",className:"inline-block align-top"})})})}const LogBoundaryContext=React.createContext(void 0);function useLogBoundary(){const t=React.useContext(LogBoundaryContext);return t||{ping:async e=>{console.log("ping",e)},log:async e=>{console.log(e)},logError:async e=>{console.error(e)}}}function PingClickWrapper({children:t,event:e,...n}){const{ping:i}=useLogBoundary(),o=()=>{i({event:e,...n})};return jsxRuntimeExports.jsx("div",{onClickCapture:o,children:t})}function FigureOrCellControls({className:t,notebookScope:e,outputsId:n,ready:i,busy:o,launchLocation:u,showWhenNotReady:l,showRunAll:c,showRun:f,showResetAll:d,showClear:m,showLaunch:g,clearOutputsOnExecute:v}){const{ping:y}=useLogBoundary(),{connecting:w,connect:T,ready:P,server:A}=distExports.useThebeServer(),D=useExecuteStore(xe=>xe.slug),k=useExecuteStore(xe=>xe.pages[xe.slug]),j=e?.notebookSlug,B=useBusyStore(xe=>xe.select.cellIsExecuting(j,n)),Z=useBusyStore(xe=>xe.select.notebookIsResetting(j)),R=useBusyStore(xe=>xe.select.notebookIsExecuting(j)),G=R||Z,F=useExecuteStore(xe=>xe.actions),K=useBusyStore(xe=>xe.actions),Q=e?.notebook?.getCellById(n),ie=reactExports.useCallback(()=>{!e||!T||!A||(y({event:D===e.notebookSlug?"start:notebook":"start:figure",slug:D,notebookSlug:e.notebookSlug,label:k.computables.find(xe=>xe.outputsId===n)?.label,outputsId:n,from:"figure-cell-controls"}),!w&&!P&&T(),e.initializeStarted||F.startupNotebook(e.notebookSlug,A))},[y,T,w,A,e]),te=reactExports.useCallback(()=>{e&&F.thunkInitialExecuteNotebook(e.notebookSlug)},[e]),oe=reactExports.useCallback(()=>{e&&F.thunkResetNotebook(e.notebookSlug,A)},[e,A]),le=reactExports.useCallback(()=>{if(!Q){console.error("no cell found on execute",{notebookScope:e});return}K.setCellExecute(Q.notebookId,Q.id),v&&Q.clear(),setTimeout(()=>{Q||console.error("no cell found on execute"),Q.execute().then(()=>{Q||console.error("no cell found after execute"),K.clearCellExecute(Q.notebookId,Q?.id)})},100)},[K,Q,v]),de=reactExports.useCallback(()=>{if(!Q){console.error("no cell found on clear",{notebookScope:e});return}Q.clear()},[Q]),ge=reactExports.useMemo(()=>{if(!(!P||!A?.settings))return makeLocalizedUserServerUrl(A,u??"")},[A,P]),_e=D===e?.notebookSlug,we=w||e?.initializeStarted&&!e?.initialExecuteComplete,Me=e?"Start and Run":"Loading dependencies...";return jsxRuntimeExports.jsxs("div",{className:classNames(t,"relative flex text-sm"),children:[!i&&l&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Tooltip,{title:Me,children:jsxRuntimeExports.jsx("button",{className:classNames("cursor-pointer disabled:cursor-not-allowed opacity-90 disabled:opacity-100 hover:opacity-100"," [&>*]:disabled:fill-gray-300 [&>*]:disabled:stroke-gray-300 [&>*]:disabled:dark:fill-gray-600 [&>*]:disabled:dark:stroke-gray-600",{"[&>*]:fill-green-600 [&>*]:stroke-green-600":!we,"[&>*]:fill-gray-300 [&>*]:stroke-gray-300":we,"opacity-10":o,"opacity-70":!o}),disabled:i||!e,"aria-label":Me,onClick:ie,children:jsxRuntimeExports.jsx(Play,{width:"1.5rem",height:"1.5rem"})})}),o&&jsxRuntimeExports.jsx("span",{className:"absolute top-0 left-0 z-10 opacity-100",children:jsxRuntimeExports.jsx(Tooltip,{title:"Starting...",children:jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(Spinner,{size:24})})})})]}),i&&jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[c&&jsxRuntimeExports.jsx(Run,{ready:i,executing:R,disabled:G,onClick:te,title:_e?"Run all cells":"Run the notebook that creates this figure",icon:jsxRuntimeExports.jsx(Play,{width:"1.5rem",height:"1.5rem"})}),f&&jsxRuntimeExports.jsx(Run,{ready:i,executing:B,disabled:G,onClick:le,title:_e?"Run this cell":"Run the cell that creates this figure",icon:jsxRuntimeExports.jsx(CirclePlay,{width:"1.5rem",height:"1.5rem"})}),d&&jsxRuntimeExports.jsx(Restart,{ready:i,resetting:Z,disabled:Z,onClick:oe,title:Z?"Resetting...":_e?"Restart the kernel and restore all outputs":"Reset the figure to its original state and restart the kernel"}),m&&jsxRuntimeExports.jsx(Clear,{ready:i,disabled:G,onClick:de,title:_e?"Clear this cell":"Clear this figure"}),g&&jsxRuntimeExports.jsx(PingClickWrapper,{event:"open:jupyter:cell",url:ge,slug:j,notebookSlug:j,children:jsxRuntimeExports.jsx(LaunchIconLink,{url:ge})})]})]})}function ErrorDecoration({children:t,idx:e,notebookSlug:n,cellUrl:i}){const o=useLinkProvider();return jsxRuntimeExports.jsxs("div",{className:"relative py-3 my-8 rounded border",children:[jsxRuntimeExports.jsx("div",{className:"flex absolute left-0 -top-6 z-10 items-center rounded",children:jsxRuntimeExports.jsx("div",{className:"font-light text-black underline cursor-pointer text-md dark:text-white",children:jsxRuntimeExports.jsxs(o,{to:i,children:['Error in "',n,'.ipynb" cell #: ',e+1]})})}),jsxRuntimeExports.jsx("div",{children:t})]})}function ErrorTrayMessage({errors:t,notebookUrl:e,notebookSlug:n}){const{core:i}=distExports.useThebeLoader(),[o,u]=reactExports.useState([]),[l,c]=reactExports.useState([]);return reactExports.useEffect(()=>{if(!i)return;const f=t.map(()=>new i.PassiveCellRenderer("any"));c(t.map((d,m)=>g=>{g&&(f[m].attachToDOM(g),f[m].render(t[m].error??[]))})),u(o)},[i,t]),i?jsxRuntimeExports.jsx("div",{children:t.map((f,d)=>jsxRuntimeExports.jsx("div",{id:`error-${f.id}`,className:"not-prose min-w-[400px]",children:jsxRuntimeExports.jsx(ErrorDecoration,{idx:f.index,cellUrl:`${e}#${f.id}`,notebookSlug:n,children:jsxRuntimeExports.jsx("div",{className:"overflow-auto z-100",ref:l[d]},f.id)})},`error-${f.id}`))}):null}function ErrorTray({id:t,notebookSlug:e,errors:n}){const i=useBaseurl();return useExecuteStore(u=>u.select.kind())===SourceFileKind.Notebook||!n||Object.keys(n).length===0?null:jsxRuntimeExports.jsx("div",{id:t??"error-tray",className:"relative p-3 text-sm text-red-500 bg-white rounded border border-red-400 dark:bg-stone-900",children:jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(ErrorTrayMessage,{errors:n,notebookSlug:e,notebookUrl:`${i}/${e}`})},`${e}`)})}function ErrorIndicator({notebookScope:t}){const e=useBaseurl(),n=useLinkProvider(),i=useBusyStore(u=>u.error[t?.notebookSlug??""]),o=reactExports.useMemo(()=>`${e}/${t?.notebookSlug}#${i?i[0].id:""}`,[e,t,i]);return!i||i.length===0||!t?null:jsxRuntimeExports.jsx("div",{className:"flex items-center","aria-live":"polite",children:jsxRuntimeExports.jsxs(Root2,{children:[jsxRuntimeExports.jsx(Trigger,{asChild:!0,children:jsxRuntimeExports.jsx("button",{className:"inline-flex items-center mr-2 cursor-pointer",children:jsxRuntimeExports.jsx(n,{to:o,"aria-label":"Error",children:jsxRuntimeExports.jsx(CircleAlert,{className:"stroke-red-500","aria-hidden":!0})})})}),jsxRuntimeExports.jsx(Portal,{children:jsxRuntimeExports.jsxs(Content2,{align:"end",className:"z-[2] flex items-center",children:[jsxRuntimeExports.jsx(Arrow2,{className:"-left-3 fill-red-400"}),jsxRuntimeExports.jsx(ErrorTray,{notebookSlug:t.notebookSlug,errors:i})]})})]})})}function CellBusyDetails({notebookScope:t}){const e=reactExports.useMemo(()=>t?(useExecuteStore.getState().scopes[t.notebookSlug]?.notebook).code.length??0:0,[t]),n=useBusyStore(o=>o.select.notebookNumCellsExecuting(t?.notebookSlug));if(n===0)return null;let i=Math.round(100*(e-n)/e);return e===1&&(i=50),jsxRuntimeExports.jsxs("div",{className:"mr-2 text-xs italic",children:["running ",i,"%..."]})}function FigureOrEmbedComputeControlBar({notebookScope:t,cellId:e,launchLocation:n,header:i,children:o}){const u=useThemeTop(),l=useBusyStore(),c=(t?.initializeStarted&&!t?.initialExecuteComplete)??!1,f=!!(t?.session??!1);return jsxRuntimeExports.jsxs("div",{className:"relative mb-4 shadow",children:[jsxRuntimeExports.jsx("div",{className:classNames("sticky px-2 py-1 w-full backdrop-blur z-2 bg-gray-100/80 dark:bg-neutral-700/80"),style:{top:u},children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[i&&jsxRuntimeExports.jsx("div",{className:"flex items-center",children:i}),jsxRuntimeExports.jsx("div",{className:"grow"}),jsxRuntimeExports.jsx(CellBusyDetails,{notebookScope:t}),jsxRuntimeExports.jsx(ErrorIndicator,{notebookScope:t}),jsxRuntimeExports.jsx(FigureOrCellControls,{notebookScope:t,outputsId:e,ready:f,busy:c||l.select.cellIsExecuting(t?.notebookSlug,e),launchLocation:n,showWhenNotReady:!0,showRunAll:!0,showResetAll:!0,showLaunch:!0})]})}),jsxRuntimeExports.jsx("div",{className:"[&>:first-child]:mt-0",children:o})]})}function LinkToComputeSource({title:t,url:e,remoteBaseUrl:n,htmlId:i}){const o=useLinkProvider(),u=useBaseurl(),l=withBaseurl(i?e+`#${i}`:e,n??u);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ForwardRef$a,{width:"1.25rem",height:"1.25rem",className:"inline-block",title:"Interactivity via @curvenote/bridge-jupyter"}),jsxRuntimeExports.jsx("span",{className:"ml-2",children:"Source:"}),e&&jsxRuntimeExports.jsx(o,{to:l,className:"ml-2 no-underline text-normal hover:underline",children:t})]})}const PlaceholderContext=React.createContext({});function PlaceholderProvider({placeholder:t,children:e}){const n=React.useMemo(()=>({placeholder:t}),[t]);return jsxRuntimeExports.jsx(PlaceholderContext.Provider,{value:n,children:e})}function usePlaceholder(){return React.useContext(PlaceholderContext).placeholder}function OutputsDecoration({outputsId:t,notebookSlug:e,htmlId:n,placeholder:i,children:o,title:u="Jupyter Notebook",location:l,url:c,remoteBaseUrl:f}){const d=useExecuteStore(w=>w.scopes[e]),m=useExecuteStore(w=>w.pages[w.slug]?.kind??SourceFileKind.Article),g=useComputeOptions(),v=g?.enabled&&g?.features.figureCompute&&m===SourceFileKind.Article&&!f,y=g?.features.openInServerTargetPath?g?.features.openInServerTargetPath:g?.features.openInServerRoot?"":l;return v?jsxRuntimeExports.jsx(FigureOrEmbedComputeControlBar,{notebookScope:d,cellId:t,launchLocation:y,header:jsxRuntimeExports.jsx(LinkToComputeSource,{title:u,url:c,remoteBaseUrl:f,htmlId:n}),children:jsxRuntimeExports.jsx(PlaceholderProvider,{placeholder:i,children:jsxRuntimeExports.jsx("div",{className:"relative max-height 0.5s ease duration-200, min-height 0.5s ease duration-200 h-full group/overlay",children:o})})}):m===SourceFileKind.Article?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-end py-2 text-xs",children:jsxRuntimeExports.jsx(LinkToComputeSource,{title:u,url:c,remoteBaseUrl:f,htmlId:n})}),jsxRuntimeExports.jsx(PlaceholderProvider,{placeholder:i,children:o})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:o})}function Embed({node:t}){const e=t.children?.find(n=>n.type==="outputs");return e?jsxRuntimeExports.jsx(OutputsDecoration,{outputsId:e.id,notebookSlug:e.notebookSlug,htmlId:e.html_id,title:t.source?.title,location:t.source?.location,url:t.source?.url,remoteBaseUrl:t.source?.remoteBaseUrl,children:jsxRuntimeExports.jsx(MyST,{ast:t.children})},t.key):jsxRuntimeExports.jsx(MyST,{ast:t.children})}function Figure({node:t}){const{base:e}=DEFAULT_RENDERERS.container,n=t.source?.kind===SourceFileKind.Notebook,i=t.children?.find(o=>o.type==="outputs");if(n&&i){const o=t.children?.find(l=>l.type==="image"&&l.placeholder),u=t.children?.filter(l=>!(l.type==="image"&&l.placeholder));return jsxRuntimeExports.jsx("figure",{id:t.html_id||t.identifier||t.key,className:classNames({subcontainer:t.subcontainer},t.class),children:jsxRuntimeExports.jsx(OutputsDecoration,{outputsId:i.id,notebookSlug:i.notebookSlug,htmlId:i.html_id,placeholder:o,title:t.source?.title,location:t.source?.location,url:t.source?.url,remoteBaseUrl:t.source?.remoteBaseUrl,children:jsxRuntimeExports.jsx(MyST,{ast:u})},t.key)})}return jsxRuntimeExports.jsx(e,{node:t})}function NotebookCellControlBar({outputsId:t,notebookSlug:e,header:n,children:i}){const o=useThemeTop(),u=useExecuteStore(g=>g.scopes[e]),l=useExecuteStore(g=>g.scopes[e]?.initializeStarted),c=useExecuteStore(g=>g.scopes[e]?.initialExecuteStarted),f=useBusyStore(),d=(l&&!u?.initialExecuteComplete)??!1,m=c??!1;return m||d?jsxRuntimeExports.jsxs("div",{className:classNames("mb-4"),children:[m&&jsxRuntimeExports.jsx("div",{className:classNames("sticky px-2 py-1 w-full backdrop-blur z-2 bg-gray-100/80 dark:bg-neutral-700/80","border-r-2 border-l-4 border-gray-200 border-y border-l-blue-400 dark:border-gray-800"),style:{top:o},children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[n&&jsxRuntimeExports.jsx("div",{className:"flex items-center",children:n}),jsxRuntimeExports.jsx("div",{className:"grow"}),u&&jsxRuntimeExports.jsx(FigureOrCellControls,{notebookScope:u,outputsId:t,ready:m,busy:d||f.select.cellIsExecuting(e,t)||f.select.notebookIsResetting(e),showRun:!0,showClear:!0})]})}),jsxRuntimeExports.jsx("div",{className:"[&>:first-child]:mt-0 [&>:first-child]:border-t-0 pr-[1px]",children:i})]}):i}function NotebookCode({node:t}){const e=t.html_id??t.identifier??t.key,n=typeof t.data?.class=="string"?t.data?.class:void 0,i=executableNodesFromBlock(t);return jsxRuntimeExports.jsxs("div",{id:e,className:classNames("relative group/block",n),children:[i&&jsxRuntimeExports.jsx("div",{id:i.outputs.id,children:jsxRuntimeExports.jsx(NotebookCellControlBar,{outputsId:i.outputs.id,notebookSlug:i.outputs.notebookSlug,children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})}),!i&&jsxRuntimeExports.jsx(MyST,{ast:t.children})]},`block-${e}`)}var lib$2,hasRequiredLib$2;function requireLib$2(){if(hasRequiredLib$2)return lib$2;hasRequiredLib$2=1;const t=[[{color:"0, 0, 0",class:"ansi-black"},{color:"187, 0, 0",class:"ansi-red"},{color:"0, 187, 0",class:"ansi-green"},{color:"187, 187, 0",class:"ansi-yellow"},{color:"0, 0, 187",class:"ansi-blue"},{color:"187, 0, 187",class:"ansi-magenta"},{color:"0, 187, 187",class:"ansi-cyan"},{color:"255,255,255",class:"ansi-white"}],[{color:"85, 85, 85",class:"ansi-bright-black"},{color:"255, 85, 85",class:"ansi-bright-red"},{color:"0, 255, 0",class:"ansi-bright-green"},{color:"255, 255, 85",class:"ansi-bright-yellow"},{color:"85, 85, 255",class:"ansi-bright-blue"},{color:"255, 85, 255",class:"ansi-bright-magenta"},{color:"85, 255, 255",class:"ansi-bright-cyan"},{color:"255, 255, 255",class:"ansi-bright-white"}]],e=/(https?:\/\/(?:[A-Za-z0-9#;/?:@=+$',_.!~*()[\]-]|&amp;|%[A-Fa-f0-9]{2})+)/gm;class n{static escapeForHtml(o){return new n().escapeForHtml(o)}static linkify(o){return new n().linkify(o)}static ansiToHtml(o,u){return new n().ansiToHtml(o,u)}static ansiToJson(o,u){return new n().ansiToJson(o,u)}static ansiToText(o){return new n().ansiToText(o)}constructor(){this.fg=this.bg=this.fg_truecolor=this.bg_truecolor=null,this.bright=0,this.decorations=[]}setupPalette(){this.PALETTE_COLORS=[];for(let c=0;c<2;++c)for(let f=0;f<8;++f)this.PALETTE_COLORS.push(t[c][f].color);let o=[0,95,135,175,215,255],u=(c,f,d)=>o[c]+", "+o[f]+", "+o[d];for(let c=0;c<6;++c)for(let f=0;f<6;++f)for(let d=0;d<6;++d)this.PALETTE_COLORS.push(u(c,f,d));let l=8;for(let c=0;c<24;++c,l+=10)this.PALETTE_COLORS.push(l+", "+l+", "+l)}escapeForHtml(o){return o.replace(/[&<>\"]/gm,u=>u=="&"?"&amp;":u=='"'?"&quot;":u=="<"?"&lt;":u==">"?"&gt;":"")}linkify(o){return o.replace(e,u=>`<a href="${u}">${u}</a>`)}ansiToHtml(o,u){return this.process(o,u,!0)}ansiToJson(o,u){return u=u||{},u.json=!0,u.clearLine=!1,this.process(o,u,!0)}ansiToText(o){return this.process(o,{},!1)}process(o,u,l){let c=this,f=o.split(/\033\[/),d=f.shift();u==null&&(u={}),u.clearLine=/\r/.test(o);let m=f.map(g=>this.processChunk(g,u,l));if(u&&u.json){let g=c.processChunkJson("");return g.content=d,g.clearLine=u.clearLine,m.unshift(g),u.remove_empty&&(m=m.filter(v=>!v.isEmpty())),m}else m.unshift(d);return m.join("")}processChunkJson(o,u,l){u=typeof u>"u"?{}:u;let c=u.use_classes=typeof u.use_classes<"u"&&u.use_classes,f=u.key=c?"class":"color",d={content:o,fg:null,bg:null,fg_truecolor:null,bg_truecolor:null,isInverted:!1,clearLine:u.clearLine,decoration:null,decorations:[],was_processed:!1,isEmpty:()=>!d.content},m=o.match(/^([!\x3c-\x3f]*)([\d;]*)([\x20-\x2c]*[\x40-\x7e])([\s\S]*)/m);if(!m)return d;d.content=m[4];let g=m[2].split(";");if(m[1]!==""||m[3]!=="m"||!l)return d;let v=this;for(;g.length>0;){let y=g.shift(),w=parseInt(y);if(isNaN(w)||w===0)v.fg=v.bg=null,v.decorations=[];else if(w===1)v.decorations.push("bold");else if(w===2)v.decorations.push("dim");else if(w===3)v.decorations.push("italic");else if(w===4)v.decorations.push("underline");else if(w===5)v.decorations.push("blink");else if(w===7)v.decorations.push("reverse");else if(w===8)v.decorations.push("hidden");else if(w===9)v.decorations.push("strikethrough");else if(w===21)v.removeDecoration("bold");else if(w===22)v.removeDecoration("bold"),v.removeDecoration("dim");else if(w===23)v.removeDecoration("italic");else if(w===24)v.removeDecoration("underline");else if(w===25)v.removeDecoration("blink");else if(w===27)v.removeDecoration("reverse");else if(w===28)v.removeDecoration("hidden");else if(w===29)v.removeDecoration("strikethrough");else if(w===39)v.fg=null;else if(w===49)v.bg=null;else if(w>=30&&w<38)v.fg=t[0][w%10][f];else if(w>=90&&w<98)v.fg=t[1][w%10][f];else if(w>=40&&w<48)v.bg=t[0][w%10][f];else if(w>=100&&w<108)v.bg=t[1][w%10][f];else if(w===38||w===48){let T=w===38;if(g.length>=1){let P=g.shift();if(P==="5"&&g.length>=1){let A=parseInt(g.shift());if(A>=0&&A<=255)if(!c)this.PALETTE_COLORS||v.setupPalette(),T?v.fg=this.PALETTE_COLORS[A]:v.bg=this.PALETTE_COLORS[A];else{let D=A>=16?"ansi-palette-"+A:t[A>7?1:0][A%8].class;T?v.fg=D:v.bg=D}}else if(P==="2"&&g.length>=3){let A=parseInt(g.shift()),D=parseInt(g.shift()),k=parseInt(g.shift());if(A>=0&&A<=255&&D>=0&&D<=255&&k>=0&&k<=255){let j=A+", "+D+", "+k;c?T?(v.fg="ansi-truecolor",v.fg_truecolor=j):(v.bg="ansi-truecolor",v.bg_truecolor=j):T?v.fg=j:v.bg=j}}}}}return v.fg===null&&v.bg===null&&v.decorations.length===0||(d.fg=v.fg,d.bg=v.bg,d.fg_truecolor=v.fg_truecolor,d.bg_truecolor=v.bg_truecolor,d.decorations=v.decorations,d.decoration=v.decorations.slice(-1).pop()||null,d.was_processed=!0),d}processChunk(o,u,l){u=u||{};let c=this.processChunkJson(o,u,l),f=u.use_classes;if(c.decorations=c.decorations.filter(w=>{if(w==="reverse"){c.fg||(c.fg=t[0][7][f?"class":"color"]),c.bg||(c.bg=t[0][0][f?"class":"color"]);let T=c.fg;c.fg=c.bg,c.bg=T;let P=c.fg_truecolor;return c.fg_truecolor=c.bg_truecolor,c.bg_truecolor=P,c.isInverted=!0,!1}return!0}),u.json)return c;if(c.isEmpty())return"";if(!c.was_processed)return c.content;let d=[],m=[],g=[],v={},y=w=>{let T=[],P;for(P in w)w.hasOwnProperty(P)&&T.push("data-"+P+'="'+this.escapeForHtml(w[P])+'"');return T.length>0?" "+T.join(" "):""};return c.isInverted&&(v["ansi-is-inverted"]="true"),c.fg&&(f?(d.push(c.fg+"-fg"),c.fg_truecolor!==null&&(v["ansi-truecolor-fg"]=c.fg_truecolor,c.fg_truecolor=null)):d.push("color:rgb("+c.fg+")")),c.bg&&(f?(d.push(c.bg+"-bg"),c.bg_truecolor!==null&&(v["ansi-truecolor-bg"]=c.bg_truecolor,c.bg_truecolor=null)):d.push("background-color:rgb("+c.bg+")")),c.decorations.forEach(w=>{if(f){m.push("ansi-"+w);return}w==="bold"?m.push("font-weight:bold"):w==="dim"?m.push("opacity:0.5"):w==="italic"?m.push("font-style:italic"):w==="hidden"?m.push("visibility:hidden"):w==="strikethrough"?g.push("line-through"):g.push(w)}),g.length&&m.push("text-decoration:"+g.join(" ")),f?'<span class="'+d.concat(m).join(" ")+'"'+y(v)+">"+c.content+"</span>":'<span style="'+d.concat(m).join(";")+'"'+y(v)+">"+c.content+"</span>"}removeDecoration(o){const u=this.decorations.indexOf(o);u>=0&&this.decorations.splice(u,1)}}return lib$2=n,lib$2}var libExports$2=requireLib$2();const Anser=getDefaultExportFromCjs(libExports$2);var escapeCarriage={exports:{}},hasRequiredEscapeCarriage;function requireEscapeCarriage(){if(hasRequiredEscapeCarriage)return escapeCarriage.exports;hasRequiredEscapeCarriage=1;function t(o){if(!o)return"";if(!/\r/.test(o))return o;for(o=o.replace(/\r+\n/gm,`
`);/\r./.test(o);)o=o.replace(/^([^\r\n]*)\r+([^\r\n]+)/gm,function(u,l,c){return c+l.slice(c.length)});return o}function e(o){for(var u=0,l=0;l<o.length;l++)o[u].length<=o[l].length&&(u=l);return u}function n(o){if(!/\r/.test(o))return o;for(var u=o.split("\r"),l=[];u.length>0;){var c=e(u);l.push(u[c]),u=u.slice(c+1)}return l.join("\r")}function i(o){if(!o)return"";if(!/\r/.test(o))return o;if(!/\n/.test(o))return n(o);o=o.replace(/\r+\n/gm,`
`);var u=o.lastIndexOf(`
`);return t(o.slice(0,u))+`
`+n(o.slice(u+1))}return escapeCarriage.exports=t,escapeCarriage.exports.escapeCarriageReturn=t,escapeCarriage.exports.escapeCarriageReturnSafe=i,escapeCarriage.exports}var escapeCarriageExports=requireEscapeCarriage();function ansiToJSON(t,e=!1){return t=escapeCarriageExports.escapeCarriageReturn(fixBackspace(t)),Anser.ansiToJson(t,{json:!0,remove_empty:!0,use_classes:e})}function createClass(t){let e="";return t.bg&&(e+=`${t.bg}-bg `),t.fg&&(e+=`${t.fg}-fg `),t.decoration&&(e+=`ansi-${t.decoration} `),e===""?null:(e=e.substring(0,e.length-1),e)}function createStyle(t){const e={};switch(t.bg&&(e.backgroundColor=`rgb(${t.bg})`),t.fg&&(e.color=`rgb(${t.fg})`),t.decoration){case"bold":e.fontWeight="bold";break;case"dim":e.opacity="0.5";break;case"italic":e.fontStyle="italic";break;case"hidden":e.visibility="hidden";break;case"strikethrough":e.textDecoration="line-through";break;case"underline":e.textDecoration="underline";break;case"blink":e.textDecoration="blink";break}return e}function convertBundleIntoReact(t,e,n,i){const o=e?null:createStyle(n),u=e?createClass(n):null;if(!t)return reactExports.createElement("span",{style:o,key:i,className:u},n.content);const l=[],c=/(\s|^)(https?:\/\/(?:www\.|(?!www))[^\s.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/g;let f=0,d;for(;(d=c.exec(n.content))!==null;){const[,m,g]=d,v=d.index+m.length;v>f&&l.push(n.content.substring(f,v));const y=g.startsWith("www.")?`http://${g}`:g;l.push(reactExports.createElement("a",{key:f,href:y,target:"_blank"},`${g}`)),f=c.lastIndex}return f<n.content.length&&l.push(n.content.substring(f)),reactExports.createElement("span",{style:o,key:i,className:u},l)}function Ansi(t){const{className:e,useClasses:n,children:i,linkify:o}=t;return reactExports.createElement("code",{className:e},ansiToJSON(i??"",n??!1).map(convertBundleIntoReact.bind(null,o??!1,n??!1)))}function fixBackspace(t){let e=t;do t=e,e=t.replace(/[^\n]\x08/gm,"");while(e.length<t.length);return t}const MaybeLongContent=({content:t,path:e,render:n})=>{const{error:i,data:o}=useLongContent(t,e);return i?jsxRuntimeExports.jsxs("div",{className:"text-red-500",children:["Error loading content: ",i.message]}):o?jsxRuntimeExports.jsx("div",{children:n(o.content)}):jsxRuntimeExports.jsx("div",{children:"Fetching long content...."})};function Stream({output:t}){return jsxRuntimeExports.jsx(MaybeLongContent,{content:ensureString$1(t.text),path:t.path,render:e=>jsxRuntimeExports.jsx("pre",{className:"text-sm font-thin font-system",children:jsxRuntimeExports.jsx(Ansi,{children:e??""})})})}function Error$1({output:t}){return jsxRuntimeExports.jsx(MaybeLongContent,{content:ensureString$1(t.traceback),path:t.path,render:e=>jsxRuntimeExports.jsx("pre",{className:"text-sm font-thin font-system jupyter-error",children:jsxRuntimeExports.jsx(Ansi,{children:e??""})})})}const RENDER_PRIORITY=[KnownCellOutputMimeTypes.ImagePng,KnownCellOutputMimeTypes.ImageJpeg,KnownCellOutputMimeTypes.ImageGif,KnownCellOutputMimeTypes.ImageBmp];function findRenderableMinifiedMimeContent(t){const e=t.data,n=RENDER_PRIORITY.reduce((o,u)=>{if(o)return o;if(e&&e[u])return e[u]},void 0),i=e&&e["text/plain"];return{image:n,text:i}}function areAllMinifiedMimePayloadsRenderable(t){return t.every(e=>{const{image:n,text:i}=findRenderableMinifiedMimeContent(e);return n||i})}function OutputImage({image:t,text:e}){return jsxRuntimeExports.jsx("img",{src:t?.path,alt:e?.content??"Image produced in Jupyter"})}function SafeOutput({output:t}){switch(t.output_type){case"stream":return jsxRuntimeExports.jsx(Stream,{output:t});case"error":return jsxRuntimeExports.jsx(Error$1,{output:t});case"display_data":case"execute_result":case"update_display_data":{const{image:e,text:n}=findRenderableMinifiedMimeContent(t);return!e&&!n?null:e?jsxRuntimeExports.jsx(OutputImage,{image:e,text:n}):n?jsxRuntimeExports.jsx("div",{className:"font-mono text-sm whitespace-pre-wrap",children:jsxRuntimeExports.jsx(Ansi,{children:n.content})}):null}default:return console.warn(`Unknown output_type ${t.output_type}`),null}}const OutputsContext=React.createContext(null);function useOutputsContext(){const t=reactExports.useContext(OutputsContext);return t??{outputsId:void 0}}function OutputsContextProvider({outputsId:t,children:e}){return jsxRuntimeExports.jsx(OutputsContext.Provider,{value:{outputsId:t},children:e})}function JupyterRendererPassive({className:t,outputId:e,data:n,core:i}){const o=reactExports.useRef(i.makeRenderMimeRegistry()),u=reactExports.useRef(null),l=reactExports.useRef(new i.PassiveCellRenderer(e,o.current,void 0)),{loaded:c,isPlotlyOutput:f}=usePlotlyPassively(o.current,[n]);return reactExports.useEffect(()=>{!u.current||!c&&f||l.current.isAttachedToDOM||(l.current.attachToDOM(u.current??void 0,!0),l.current.render(i?.stripWidgets([n],!0,()=>"")??[n]))},[l,u,c,n,i]),jsxRuntimeExports.jsx("div",{className:t,ref:u,"data-jupyter-renderer-passive":!0,"data-output-id":e})}const JupyterOutput=React.memo(({outputId:t,output:e})=>{const{core:n,load:i}=distExports.useThebeLoader();reactExports.useEffect(()=>{n||i()},[n,i]);const{fullOutputs:o,error:u}=useHydratedOutputs(t,[e]);return u?(console.error(u),jsxRuntimeExports.jsxs("div",{className:"text-red-500",children:["Error rendering output: ",u.message]})):jsxRuntimeExports.jsxs("div",{children:[!o&&jsxRuntimeExports.jsx("div",{className:"p-2.5",children:"Loading..."}),o&&o.length>0&&n&&jsxRuntimeExports.jsx(JupyterRendererPassive,{outputId:t,data:o[0],core:n})]})});function OutputError({reason:t,outputId:e,outputsId:n,identifier:i,align:o,visibility:u}){return jsxRuntimeExports.jsx("div",{"data-mdast-parent-id":n,"data-mdast-node-id":e,"data-bridge-jupyter-output":!0,"data-align":o,id:i||void 0,className:classNames("max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative transition-all duration-300 h-auto",{"text-left":!o||o==="left","text-center":o==="center","text-right":o==="right"},{hidden:u==="remove"}),children:jsxRuntimeExports.jsx("div",{className:"p-4 my-2 bg-gray-50 rounded-md border border-gray-300 dark:bg-gray-800/20 dark:border-gray-700",role:"alert",children:jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx("div",{className:"shrink-0",children:jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M8.485 2.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 2.495zM10 5a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 5zm0 9a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})}),jsxRuntimeExports.jsxs("div",{className:"ml-3",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"The output cannot be rendered"}),jsxRuntimeExports.jsxs("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:[jsxRuntimeExports.jsx("p",{children:t}),e&&jsxRuntimeExports.jsxs("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-500",children:["Output ID: ",e]})]})]})]})})})}const DIRECT_OUTPUT_TYPES=new Set(["stream","error"]),DIRECT_MIME_TYPES=new Set([KnownCellOutputMimeTypes.TextPlain,KnownCellOutputMimeTypes.ImagePng,KnownCellOutputMimeTypes.ImageGif,KnownCellOutputMimeTypes.ImageJpeg,KnownCellOutputMimeTypes.ImageBmp]);function validateOutput(t){if(!t||typeof t!="object")return{isValid:!1,reason:"Output is missing or not an object"};const e=t.output_type;return!("output_type"in t)||typeof e!="string"?{isValid:!1,reason:"Missing or invalid output_type property"}:{isValid:!0}}function canOutputBeDirectlyRendered(t,e,n){if(!t)return!1;try{if(e.has(t.output_type))return!0;const i=t.data,o=i?Object.keys(i):[];return"data"in t&&!!t.data&&o.every(u=>n.has(u))}catch(i){return console.error(i),!1}}function Output({node:t}){const{outputsId:e}=useOutputsContext(),n=t.notebookSlug,i=t.id,o=t.identifier,u=t.align;if(!e)return jsxRuntimeExports.jsx(OutputError,{reason:"The data structure is not compatible with the current renderer.",outputId:i,identifier:o,align:u,visibility:t.visibility});const c=useExecuteStore(v=>v.scopes[n])?.initialExecuteComplete??!1,f=reactExports.useMemo(()=>t.jupyter_data,[t]);if(!f)return jsxRuntimeExports.jsx(OutputError,{reason:"The data structure is not compatible with the current renderer.",outputId:i,outputsId:e,identifier:o,align:u,visibility:t.visibility});const d=validateOutput(f);if(!d.isValid)return jsxRuntimeExports.jsx(OutputError,{reason:d.reason||"Invalid output format",outputId:i,outputsId:e,identifier:o,align:u,visibility:t.visibility});const g=canOutputBeDirectlyRendered(f,DIRECT_OUTPUT_TYPES,DIRECT_MIME_TYPES)&&!c?jsxRuntimeExports.jsx(SafeOutput,{output:f}):jsxRuntimeExports.jsx(JupyterOutput,{outputId:i,output:f});return jsxRuntimeExports.jsx("div",{"data-mdast-parent-id":e,"data-mdast-node-id":i,"data-bridge-jupyter-output":!0,"data-align":u,id:o||void 0,className:classNames("max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative transition-all duration-300 h-auto",{"text-left":!u||u==="left","text-center":u==="center","text-right":u==="right","mb-5":f},{hidden:t.visibility==="remove"}),children:g})}function FigureOverlay({outputsId:t,notebookScope:e}){const{ping:n}=useLogBoundary(),{connect:i,connecting:o,server:u,ready:l}=distExports.useThebeServer(),c=e?.initializeStarted&&!e?.session,f=useBusyStore(P=>P.select.notebookIsResetting(e?.notebookSlug)),d=useBusyStore(P=>P.select.notebookIsExecuting(e?.notebookSlug)),m=useExecuteStore(P=>P.slug),g=useExecuteStore(P=>P.pages[P.slug]),v=useExecuteStore(P=>P.actions),y=o||c||d,w=e?.initialExecuteComplete,T=reactExports.useCallback(()=>{!e||!i||!u||(n({event:"start:figure",slug:m,notebookSlug:e.notebookSlug,label:g.computables.find(P=>P.outputsId===t)?.label,outputsId:t,from:"figure-overlay"}),!o&&!l&&i(),e.initializeStarted?v.thunkInitialExecuteNotebook(e.notebookSlug):v.startupNotebook(e.notebookSlug,u))},[n,t,i,o,u,e]);return jsxRuntimeExports.jsx("div",{"data-figure-overlay":!0,className:classNames("absolute inset-0 flex items-start justify-end transition-opacity duration-300 z-[1]",{hidden:w&&!y||w||f,"pointer-events-none":y||!e||w||f,"opacity-0 group-hover/overlay:opacity-100 cursor-pointer":!y,"opacity-100":y}),onClick:T,children:jsxRuntimeExports.jsx("div",{className:"relative w-full h-full bg-transparent origin-center pointer-events-none",children:jsxRuntimeExports.jsxs("div",{className:classNames("inline-block absolute top-1/2 left-1/2 transition-all duration-200 transform origin-center -translate-x-1/2 -translate-y-1/2 pointer-events-none"),children:[!y&&e&&jsxRuntimeExports.jsx(Play,{width:"80px",height:"80px",strokeWidth:.75,absoluteStrokeWidth:!0,className:"drop-shadow-xl fill-green-600 stroke-gray-200"}),y&&jsxRuntimeExports.jsx(Spinner,{size:80,className:"w-20 max-w-full h-20 max-h-full"})]})})})}function JupyterRendererActive({className:t,notebookScope:e,outputsId:n,initialData:i,core:o}){const u=reactExports.useRef(null),l=e?.notebook?.getCellById(n);return reactExports.useEffect(()=>{if(!u.current||!l){console.debug(`Jupyter: No active cell ref available for cell ${n}:${l?.id}`);return}const c=l.isAttachedToDOM?"reattaching":"attaching";console.debug(`${c} active cell ${l.id} to DOM at:`,{el:u.current,connected:u.current.isConnected,data:o?.stripWidgets(i,!0,()=>"")??i}),l.executionCount==null&&l.initOutputs(o?.stripWidgets(i,!0,()=>"")??i),l.attachToDOM(u.current)},[u,l,n,i,o]),jsxRuntimeExports.jsx("div",{className:t,ref:u,"data-cell-renderer":!0,"data-output-id":n})}const JupyterOutputsActive=React.memo(({className:t,outputsId:e,notebookScope:n,outputs:i,ready:o})=>{const u=usePlaceholder(),{core:l,load:c}=distExports.useThebeLoader();reactExports.useEffect(()=>{l||c()},[l,c]);const{fullOutputs:f,error:d}=useHydratedOutputs(e,i);return d?(console.error(d),jsxRuntimeExports.jsxs("div",{className:"text-red-500",children:["Error rendering output: ",d.message]})):l?f?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(JupyterRendererActive,{className:t,outputsId:e,notebookScope:n,initialData:f,core:l},e),jsxRuntimeExports.jsx("div",{"data-placeholder-active":!0,className:classNames({hidden:!u||o,flex:u&&!o}),children:jsxRuntimeExports.jsx(MyST,{ast:u})})]}):jsxRuntimeExports.jsx("div",{className:"p-2.5",children:"Fetching full output data..."}):null});function LetMySTRenderIndividualOutputs({className:t,identifier:e,outputsId:n,outputs:i,align:o,kind:u,notebookScope:l,childNodes:c}){const f=usePlaceholder(),d=areAllMinifiedMimePayloadsRenderable(i),m=i.length>0;return jsxRuntimeExports.jsxs("div",{"data-name":"outputs-container",id:e||void 0,"data-mdast-node-id":n,className:classNames("max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative",{"text-left":!o||o==="left","text-center":o==="center","text-right":o==="right","mb-5":m},t),children:[jsxRuntimeExports.jsx("div",{"data-placeholder-passive":!0,className:classNames({hidden:!f,flex:f}),children:jsxRuntimeExports.jsx(MyST,{ast:f})}),u!==SourceFileKind.Notebook&&d&&jsxRuntimeExports.jsx(FigureOverlay,{outputsId:n,notebookScope:l}),!f&&jsxRuntimeExports.jsx(OutputsContextProvider,{outputsId:n,children:jsxRuntimeExports.jsx(MyST,{ast:c})})]})}function Outputs({node:t}){const e=classNames({hidden:t.visibility==="remove"}),n=t.notebookSlug,i=t.id,o=t.identifier,u=t.align,l=t.children,c=reactExports.useMemo(()=>selectAll("output",t).map(g=>g.jupyter_data),[l]),f=useExecuteStore(g=>g.select.kind()),d=useExecuteStore(g=>g.scopes[n]),m=d?.initialExecuteComplete??!1;if(!m){const g=jsxRuntimeExports.jsx(LetMySTRenderIndividualOutputs,{className:e,identifier:o||"",align:u,kind:f,outputsId:i,outputs:c,notebookScope:d,childNodes:l});return t.visibility==="hide"?jsxRuntimeExports.jsx(Details,{title:"Output",children:g}):g}return jsxRuntimeExports.jsx(JupyterOutputsActive,{outputsId:i,ready:m,notebookScope:d,outputs:c})}const OUTPUT_RENDERERS={outputs:Outputs,output:Output,embed:Embed,container:Figure,block:{"block[kind=notebook-code]":NotebookCode}},bridgeJupyterRenderers=OUTPUT_RENDERERS;function ConnectionStatusTray(){const t=useComputeOptions(),{core:e}=distExports.useThebeLoader(),{connecting:n,error:i,events:o,server:u,disconnect:l}=distExports.useThebeServer(),c=useExecuteStore(K=>Object.values(K.scopes).some(Q=>Q.initialExecuteStarted&&!Q.initialExecuteComplete)),f=useExecuteStore(K=>K.actions),d=useBusyStore(K=>K.actions),m="[client] Connecting...",[g,v]=reactExports.useState(!1),[y,w]=reactExports.useState(),[T,P]=reactExports.useState(m),[A,D]=reactExports.useState(i),[k,j]=reactExports.useState(!1),B=reactExports.useCallback((K,Q)=>{const ie=Q.subject?`[${Q.subject}]: ${Q.message}`:Q.message;K==="status"?P(ie):K==="error"&&D(ie)},[]),Z=reactExports.useCallback(()=>{v(!1),D(void 0),P(m)},[]),R=reactExports.useCallback(async()=>{j(!0),await fetch("/hub/clear",{method:"POST"}),e?.clearAllSavedSessions("curvenote-jupyter-"),l?.(),f.thunkResetExecutionState(u),d.clearAll(),j(!1),Z()},[e,l]);reactExports.useEffect(()=>{if(o)return o.on("status",B),o.on("error",B),()=>{o?.off("status",B),o?.off("error",B)}},[o]),reactExports.useEffect(()=>{o?.off("status",B),o?.off("error",B)},[c]);const G=(i||A)?.replace("undefined - ",""),F=n&&!c;return reactExports.useEffect(()=>{t?.thebe&&(F||G?v(!0):setTimeout(()=>{v(!1),y?.(),w(void 0)},1e3))},[t,F,G]),g&&G?jsxRuntimeExports.jsx("div",{className:"fixed z-[11] transparent bottom-3 sm:right-3 max-w-[90%] md:max-w-[300px] min-w-80",children:jsxRuntimeExports.jsxs(ConnectionCard,{title:"Connection Error",headerClassName:"bg-red-600",children:[jsxRuntimeExports.jsx("div",{className:"max-h-[15rem] mono overflow-hidden text-ellipsis mb-2",children:G}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{className:"flex items-center text-xs underline cursor-pointer disabled:opacity-50",role:"button",onClick:R,disabled:k,children:jsxRuntimeExports.jsx("div",{className:"align-middle",title:"Clearing all saved session information may resolve connection issues on subsequent attempts.",children:"clear all sessions"})}),jsxRuntimeExports.jsx("button",{className:"text-xs underline cursor-pointer",role:"button",onClick:Z,children:"dismiss"})]})]})}):g?jsxRuntimeExports.jsx("div",{className:"fixed z-[11] transparent bottom-3 sm:right-3 max-w-[90%] md:max-w-[300px] min-w-80",children:jsxRuntimeExports.jsx(ConnectionCard,{children:jsxRuntimeExports.jsx("div",{className:"max-h-[15rem] mono overflow-hidden text-ellipsis",children:T})})}):null}function ConnectionCard({title:t,headerClassName:e,children:n}){return jsxRuntimeExports.jsxs("div",{className:"text-sm bg-white border rounded shadow-lg dark:bg-stone-900 dark:border-stone-400",children:[jsxRuntimeExports.jsxs("div",{className:classNames("flex items-center justify-center gap-1 px-3 py-1 font-light text-center text-white rounded-t bg-curvenote-blue",e),children:[jsxRuntimeExports.jsx(ForwardRef$a,{width:"1.15em",height:"1.15em",className:"inline-block fill-white",title:"Interactivity via @curvenote/bridge-jupyter"}),jsxRuntimeExports.jsx("div",{children:t??"Connection Status"})]}),jsxRuntimeExports.jsx("div",{className:"max-h-[15rem] mono overflow-hidden text-ellipsis p-3 dark:text-white",children:n})]})}function ThebeLoaderAndServer({baseurl:t,connect:e,children:n}){const i=useComputeOptions();return jsxRuntimeExports.jsx(distExports.ThebeBundleLoaderProvider,{loadThebeLite:i?.thebe?.useJupyterLite??!1,publicPath:t,children:jsxRuntimeExports.jsx(distExports.ThebeServerProvider,{connect:e??!1,options:i?.thebe,useBinder:i?.thebe?.useBinder??!1,useJupyterLite:i?.thebe?.useJupyterLite??!1,customRepoProviders:i?.customRepoProviders??[],customConnectFn:i?.customConnectFn,children:n})})}function NotebookToolbar({launchLocation:t}){const{ping:e}=useLogBoundary(),{connecting:n,connect:i,server:o,ready:u}=distExports.useThebeServer(),l=useExecuteStore(B=>B.select),c=useExecuteStore(B=>B.actions),f=l.kind(),d=useBusyStore(),m=useExecuteStore(B=>B.scopes[B.slug]),g=m?.notebookSlug,v=reactExports.useCallback(()=>{!m||!i||!o||(e({event:"start:notebook",slug:g,notebookSlug:g,from:"notebook-toolbar"}),!n&&!u&&i(),m.initializeStarted||c.startupNotebook(m.notebookSlug,o))},[e,i,o,m]),y=reactExports.useCallback(()=>{m&&c.thunkInitialExecuteNotebook(m.notebookSlug)},[m]),w=reactExports.useCallback(()=>{m&&c.thunkResetNotebook(m.notebookSlug,o)},[m,o]),T=reactExports.useCallback(()=>fns.clearAll(m),[m]),P=reactExports.useMemo(()=>{if(!(!u||!o?.settings))return makeLocalizedUserServerUrl(o,t??l.location())},[o,u,t]);if(f===SourceFileKind.Article)return console.error("NotebookToolbar displayed on a(n) ",f),null;m||console.debug("NotebookToolbar: no notebookScope yet...");const A=(m?.initializeStarted&&!m?.initialExecuteComplete)??!1,D=!!(m?.session??!1),k=D,j=m?"Start and Run":"Checking compute configuration...";return jsxRuntimeExports.jsx("div",{className:"sticky top-[60px] flex justify-end w-full z-20 pointer-events-none",children:jsxRuntimeExports.jsxs("div",{className:"flex p-1 m-1 space-x-1 pointer-events-auto border-stone-300 bg-white/80 dark:bg-stone-900/80 backdrop-blur",children:[!D&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Tooltip,{title:j,children:jsxRuntimeExports.jsx("button",{className:classNames("relative flex text-center cursor-pointer text-stone-800 dark:text-white hover:opacity-100 opacity-60"),onClick:v,disabled:A||!m,"aria-label":j,children:jsxRuntimeExports.jsx(Play,{width:"28px",height:"28px",className:classNames("fill-green-600 stroke-green-600",{"opacity-10 text-stone-100 dark:text-stone-700":A||!m})})})}),A&&jsxRuntimeExports.jsx(Tooltip,{title:"Starting...",children:jsxRuntimeExports.jsx("span",{className:"absolute top-1 left-1 z-10 w-[28px] h-[28px] opacity-100",children:jsxRuntimeExports.jsx(Spinner,{size:28})})})]}),D&&jsxRuntimeExports.jsx(Run,{ready:k,executing:d.select.notebookIsExecuting(g),disabled:d.select.notebookIsResetting(g),onClick:y,title:"Run all cells",icon:jsxRuntimeExports.jsx(Play,{width:"1.5rem",height:"1.5rem"})}),D&&jsxRuntimeExports.jsx(Restart,{ready:k,resetting:d.select.notebookIsResetting(g),onClick:w,disabled:d.select.notebookIsResetting(g),title:"Reset notebook and restart kernel"}),D&&jsxRuntimeExports.jsx(Clear,{ready:k,disabled:d.select.notebookIsExecuting(g)||d.select.notebookIsResetting(g),onClick:T,title:"Clear all cells"}),D&&jsxRuntimeExports.jsx(PingClickWrapper,{event:"open:jupyter:notebook",url:P,slug:g,notebookSlug:g,children:jsxRuntimeExports.jsx(LaunchIconLink,{url:P,title:"Launch notebook in Jupyter"})})]})})}function ComputeProvider({children:t,article:e}){const n=useComputeOptions();return jsxRuntimeExports.jsx(ThebeLoaderAndServer,{connect:!1,children:jsxRuntimeExports.jsx(ExecuteScopeProvider,{enable:n?.enabled??!1,contents:e,children:t})})}var PluginTypes;(function(t){t.javascript="javascript",t.executable="executable"})(PluginTypes||(PluginTypes={}));function extractKnownParts(t,e){if(!t)return extractKnownParts({type:"root",children:[]},e);const n=extractPart(t,"abstract"),i=extractPart(t,"summary",{requireExplicitPart:!0}),o=extractPart(t,["keypoints"],{requireExplicitPart:!0}),u=extractPart(t,["data_availability","data availability"]),l=extractPart(t,["acknowledgments","acknowledgements"]),c=Object.fromEntries(Object.entries(e??{}).map(([f,d])=>[f,d.mdast]));return{abstract:n,summary:i,keypoints:o,data_availability:u,acknowledgments:l,...c}}const KatexCSS={href:"https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css",integrity:"sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ",crossOrigin:"anonymous"};function checkHasMECAExport(t){return t?.exports?.some(e=>e.format==="meca")??!1}const visit$1=(function(t,e,n,i){typeof e=="function"&&typeof n!="function"&&(i=n,n=e,e=null),visitParents$1(t,e,o,i);function o(u,l){const c=l[l.length-1];return n(u,c?c.children.indexOf(u):null,c)}});function useImages({mdast:t}){const e=useReferences(),n=t??e?.article;if(!n)return[];const i=[];return visit$1(n,o=>{if(o.type==="container"){if("kind"in o&&o.kind==="figure"){const u=selectAll$1("image",o),l=select$3("caption",o);u.forEach(c=>{i.push({src:c.url,srcOptimized:c.urlOptimized,urlSource:c.urlSource,alt:c.alt,caption:l})})}return SKIP$1}if(o.type==="image"){const u=o;i.push({src:u.url,srcOptimized:u.urlOptimized,urlSource:u.urlSource,alt:u.alt})}}),i}const LightboxContext=reactExports.createContext(void 0);function LightboxProvider({children:t,imageList:e=[]}){const[n,i]=reactExports.useState(!1),[o,u]=reactExports.useState(null),[l,c]=reactExports.useState(e),[f,d]=reactExports.useState(0);reactExports.useEffect(()=>{c(e)},[e]);const m=reactExports.useCallback(P=>{const A=l.findIndex(D=>D.src===P.src);u(A>=0?l[A]:P),d(A>=0?A:0),i(!0)},[l]),g=reactExports.useCallback(()=>{i(!1),u(null),d(0)},[]),v=reactExports.useCallback(P=>{if(l.length===0)return;let A;P==="prev"?A=f>0?f-1:l.length-1:A=f<l.length-1?f+1:0,d(A),u(l[A])},[f,l]),y=l.length>1,w=l.length>1,T=reactExports.useMemo(()=>({isOpen:n,currentImage:o,imageList:l,currentIndex:f,openLightbox:m,closeLightbox:g,navigate:v,hasNext:y,hasPrev:w}),[n,o,l,f,m,g,v,y,w]);return jsxRuntimeExports.jsx(LightboxContext.Provider,{value:T,children:t})}function useLightbox(){const t=reactExports.useContext(LightboxContext);if(t===void 0)throw new Error("useLightbox must be used within a LightboxProvider");return t}var lodash_merge={exports:{}};lodash_merge.exports;var hasRequiredLodash_merge;function requireLodash_merge(){return hasRequiredLodash_merge||(hasRequiredLodash_merge=1,(function(t,e){var n=200,i="__lodash_hash_undefined__",o=800,u=16,l=9007199254740991,c="[object Arguments]",f="[object Array]",d="[object AsyncFunction]",m="[object Boolean]",g="[object Date]",v="[object Error]",y="[object Function]",w="[object GeneratorFunction]",T="[object Map]",P="[object Number]",A="[object Null]",D="[object Object]",k="[object Proxy]",j="[object RegExp]",B="[object Set]",Z="[object String]",R="[object Undefined]",G="[object WeakMap]",F="[object ArrayBuffer]",K="[object DataView]",Q="[object Float32Array]",ie="[object Float64Array]",te="[object Int8Array]",oe="[object Int16Array]",le="[object Int32Array]",de="[object Uint8Array]",ge="[object Uint8ClampedArray]",_e="[object Uint16Array]",we="[object Uint32Array]",Me=/[\\^$.*+?()[\]{}|]/g,xe=/^\[object .+?Constructor\]$/,Re=/^(?:0|[1-9]\d*)$/,Se={};Se[Q]=Se[ie]=Se[te]=Se[oe]=Se[le]=Se[de]=Se[ge]=Se[_e]=Se[we]=!0,Se[c]=Se[f]=Se[F]=Se[m]=Se[K]=Se[g]=Se[v]=Se[y]=Se[T]=Se[P]=Se[D]=Se[j]=Se[B]=Se[Z]=Se[G]=!1;var Ge=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,Qe=typeof self=="object"&&self&&self.Object===Object&&self,Je=Ge||Qe||Function("return this")(),Xe=e&&!e.nodeType&&e,gt=Xe&&!0&&t&&!t.nodeType&&t,Ct=gt&&gt.exports===Xe,ar=Ct&&Ge.process,De=(function(){try{var Ae=gt&&gt.require&&gt.require("util").types;return Ae||ar&&ar.binding&&ar.binding("util")}catch{}})(),Oe=De&&De.isTypedArray;function Be(Ae,Fe,tt){switch(tt.length){case 0:return Ae.call(Fe);case 1:return Ae.call(Fe,tt[0]);case 2:return Ae.call(Fe,tt[0],tt[1]);case 3:return Ae.call(Fe,tt[0],tt[1],tt[2])}return Ae.apply(Fe,tt)}function he(Ae,Fe){for(var tt=-1,Wt=Array(Ae);++tt<Ae;)Wt[tt]=Fe(tt);return Wt}function be(Ae){return function(Fe){return Ae(Fe)}}function Ce(Ae,Fe){return Ae?.[Fe]}function Le(Ae,Fe){return function(tt){return Ae(Fe(tt))}}var Ue=Array.prototype,We=Function.prototype,ot=Object.prototype,Rt=Je["__core-js_shared__"],Et=We.toString,yt=ot.hasOwnProperty,Nt=(function(){var Ae=/[^.]+$/.exec(Rt&&Rt.keys&&Rt.keys.IE_PROTO||"");return Ae?"Symbol(src)_1."+Ae:""})(),St=ot.toString,kt=Et.call(Object),Pe=RegExp("^"+Et.call(yt).replace(Me,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ve=Ct?Je.Buffer:void 0,ut=Je.Symbol,wt=Je.Uint8Array;ve&&ve.allocUnsafe;var Tt=Le(Object.getPrototypeOf,Object),Vt=Object.create,Gt=ot.propertyIsEnumerable,Qt=Ue.splice,qt=ut?ut.toStringTag:void 0,ht=(function(){try{var Ae=Ti(Object,"defineProperty");return Ae({},"",{}),Ae}catch{}})(),jt=ve?ve.isBuffer:void 0,tr=Math.max,It=Date.now,Ar=Ti(Je,"Map"),cr=Ti(Object,"create"),yr=(function(){function Ae(){}return function(Fe){if(!un(Fe))return{};if(Vt)return Vt(Fe);Ae.prototype=Fe;var tt=new Ae;return Ae.prototype=void 0,tt}})();function Wr(Ae){var Fe=-1,tt=Ae==null?0:Ae.length;for(this.clear();++Fe<tt;){var Wt=Ae[Fe];this.set(Wt[0],Wt[1])}}function Ht(){this.__data__=cr?cr(null):{},this.size=0}function dr(Ae){var Fe=this.has(Ae)&&delete this.__data__[Ae];return this.size-=Fe?1:0,Fe}function ir(Ae){var Fe=this.__data__;if(cr){var tt=Fe[Ae];return tt===i?void 0:tt}return yt.call(Fe,Ae)?Fe[Ae]:void 0}function Pr(Ae){var Fe=this.__data__;return cr?Fe[Ae]!==void 0:yt.call(Fe,Ae)}function Cn(Ae,Fe){var tt=this.__data__;return this.size+=this.has(Ae)?0:1,tt[Ae]=cr&&Fe===void 0?i:Fe,this}Wr.prototype.clear=Ht,Wr.prototype.delete=dr,Wr.prototype.get=ir,Wr.prototype.has=Pr,Wr.prototype.set=Cn;function lr(Ae){var Fe=-1,tt=Ae==null?0:Ae.length;for(this.clear();++Fe<tt;){var Wt=Ae[Fe];this.set(Wt[0],Wt[1])}}function wn(){this.__data__=[],this.size=0}function pn(Ae){var Fe=this.__data__,tt=an(Fe,Ae);if(tt<0)return!1;var Wt=Fe.length-1;return tt==Wt?Fe.pop():Qt.call(Fe,tt,1),--this.size,!0}function $e(Ae){var Fe=this.__data__,tt=an(Fe,Ae);return tt<0?void 0:Fe[tt][1]}function qe(Ae){return an(this.__data__,Ae)>-1}function Ze(Ae,Fe){var tt=this.__data__,Wt=an(tt,Ae);return Wt<0?(++this.size,tt.push([Ae,Fe])):tt[Wt][1]=Fe,this}lr.prototype.clear=wn,lr.prototype.delete=pn,lr.prototype.get=$e,lr.prototype.has=qe,lr.prototype.set=Ze;function _t(Ae){var Fe=-1,tt=Ae==null?0:Ae.length;for(this.clear();++Fe<tt;){var Wt=Ae[Fe];this.set(Wt[0],Wt[1])}}function Mt(){this.size=0,this.__data__={hash:new Wr,map:new(Ar||lr),string:new Wr}}function Xt(Ae){var Fe=Kn(this,Ae).delete(Ae);return this.size-=Fe?1:0,Fe}function Ot(Ae){return Kn(this,Ae).get(Ae)}function Lt(Ae){return Kn(this,Ae).has(Ae)}function Bt(Ae,Fe){var tt=Kn(this,Ae),Wt=tt.size;return tt.set(Ae,Fe),this.size+=tt.size==Wt?0:1,this}_t.prototype.clear=Mt,_t.prototype.delete=Xt,_t.prototype.get=Ot,_t.prototype.has=Lt,_t.prototype.set=Bt;function Ut(Ae){var Fe=this.__data__=new lr(Ae);this.size=Fe.size}function sr(){this.__data__=new lr,this.size=0}function Kt(Ae){var Fe=this.__data__,tt=Fe.delete(Ae);return this.size=Fe.size,tt}function xr(Ae){return this.__data__.get(Ae)}function _r(Ae){return this.__data__.has(Ae)}function en(Ae,Fe){var tt=this.__data__;if(tt instanceof lr){var Wt=tt.__data__;if(!Ar||Wt.length<n-1)return Wt.push([Ae,Fe]),this.size=++tt.size,this;tt=this.__data__=new _t(Wt)}return tt.set(Ae,Fe),this.size=tt.size,this}Ut.prototype.clear=sr,Ut.prototype.delete=Kt,Ut.prototype.get=xr,Ut.prototype.has=_r,Ut.prototype.set=en;function zr(Ae,Fe){var tt=Pt(Ae),Wt=!tt&&$t(Ae),Mr=!tt&&!Wt&&qr(Ae),Xr=!tt&&!Wt&&!Mr&&Tn(Ae),vn=tt||Wt||Mr||Xr,$r=vn?he(Ae.length,String):[],dn=$r.length;for(var On in Ae)vn&&(On=="length"||Mr&&(On=="offset"||On=="parent")||Xr&&(On=="buffer"||On=="byteLength"||On=="byteOffset")||vs(On,dn))||$r.push(On);return $r}function sn(Ae,Fe,tt){(tt!==void 0&&!vt(Ae[Fe],tt)||tt===void 0&&!(Fe in Ae))&&In(Ae,Fe,tt)}function Er(Ae,Fe,tt){var Wt=Ae[Fe];(!(yt.call(Ae,Fe)&&vt(Wt,tt))||tt===void 0&&!(Fe in Ae))&&In(Ae,Fe,tt)}function an(Ae,Fe){for(var tt=Ae.length;tt--;)if(vt(Ae[tt][0],Fe))return tt;return-1}function In(Ae,Fe,tt){Fe=="__proto__"&&ht?ht(Ae,Fe,{configurable:!0,enumerable:!0,value:tt,writable:!0}):Ae[Fe]=tt}var on=Oi();function Pn(Ae){return Ae==null?Ae===void 0?R:A:qt&&qt in Object(Ae)?Hn(Ae):Ai(Ae)}function Dn(Ae){return wr(Ae)&&Pn(Ae)==c}function ei(Ae){if(!un(Ae)||ji(Ae))return!1;var Fe=Vr(Ae)?Pe:xe;return Fe.test(it(Ae))}function zn(Ae){return wr(Ae)&&Rr(Ae.length)&&!!Se[Pn(Ae)]}function hi(Ae){if(!un(Ae))return Bi(Ae);var Fe=hs(Ae),tt=[];for(var Wt in Ae)Wt=="constructor"&&(Fe||!yt.call(Ae,Wt))||tt.push(Wt);return tt}function gi(Ae,Fe,tt,Wt,Mr){Ae!==Fe&&on(Fe,function(Xr,vn){if(Mr||(Mr=new Ut),un(Xr))ci(Ae,Fe,vn,tt,gi,Wt,Mr);else{var $r=Wt?Wt(fi(Ae,vn),Xr,vn+"",Ae,Fe,Mr):void 0;$r===void 0&&($r=Xr),sn(Ae,vn,$r)}},ln)}function ci(Ae,Fe,tt,Wt,Mr,Xr,vn){var $r=fi(Ae,tt),dn=fi(Fe,tt),On=vn.get(dn);if(On){sn(Ae,tt,On);return}var qn=Xr?Xr($r,dn,tt+"",Ae,Fe,vn):void 0,fs=qn===void 0;if(fs){var oa=Pt(dn),ee=!oa&&qr(dn),se=!oa&&!ee&&Tn(dn);qn=dn,oa||ee||se?Pt($r)?qn=$r:er($r)?qn=ti($r):ee?(fs=!1,qn=Hr(dn)):se?(fs=!1,qn=mr(dn)):qn=[]:fn(dn)||$t(dn)?(qn=$r,$t($r)?qn=bn($r):(!un($r)||Vr($r))&&(qn=ki(dn))):fs=!1}fs&&(vn.set(dn,qn),Mr(qn,dn,Wt,Xr,vn),vn.delete(dn)),sn(Ae,tt,qn)}function Sr(Ae,Fe){return Ne(bi(Ae,Fe,Mi),Ae+"")}var Zr=ht?function(Ae,Fe){return ht(Ae,"toString",{configurable:!0,enumerable:!1,value:Ri(Fe),writable:!0})}:Mi;function Hr(Ae,Fe){return Ae.slice()}function Lr(Ae){var Fe=new Ae.constructor(Ae.byteLength);return new wt(Fe).set(new wt(Ae)),Fe}function mr(Ae,Fe){var tt=Lr(Ae.buffer);return new Ae.constructor(tt,Ae.byteOffset,Ae.length)}function ti(Ae,Fe){var tt=-1,Wt=Ae.length;for(Fe||(Fe=Array(Wt));++tt<Wt;)Fe[tt]=Ae[tt];return Fe}function rs(Ae,Fe,tt,Wt){var Mr=!tt;tt||(tt={});for(var Xr=-1,vn=Fe.length;++Xr<vn;){var $r=Fe[Xr],dn=void 0;dn===void 0&&(dn=Ae[$r]),Mr?In(tt,$r,dn):Er(tt,$r,dn)}return tt}function ns(Ae){return Sr(function(Fe,tt){var Wt=-1,Mr=tt.length,Xr=Mr>1?tt[Mr-1]:void 0,vn=Mr>2?tt[2]:void 0;for(Xr=Ae.length>3&&typeof Xr=="function"?(Mr--,Xr):void 0,vn&&Yn(tt[0],tt[1],vn)&&(Xr=Mr<3?void 0:Xr,Mr=1),Fe=Object(Fe);++Wt<Mr;){var $r=tt[Wt];$r&&Ae(Fe,$r,Wt,Xr)}return Fe})}function Oi(Ae){return function(Fe,tt,Wt){for(var Mr=-1,Xr=Object(Fe),vn=Wt(Fe),$r=vn.length;$r--;){var dn=vn[++Mr];if(tt(Xr[dn],dn,Xr)===!1)break}return Fe}}function Kn(Ae,Fe){var tt=Ae.__data__;return _i(Fe)?tt[typeof Fe=="string"?"string":"hash"]:tt.map}function Ti(Ae,Fe){var tt=Ce(Ae,Fe);return ei(tt)?tt:void 0}function Hn(Ae){var Fe=yt.call(Ae,qt),tt=Ae[qt];try{Ae[qt]=void 0;var Wt=!0}catch{}var Mr=St.call(Ae);return Wt&&(Fe?Ae[qt]=tt:delete Ae[qt]),Mr}function ki(Ae){return typeof Ae.constructor=="function"&&!hs(Ae)?yr(Tt(Ae)):{}}function vs(Ae,Fe){var tt=typeof Ae;return Fe=Fe??l,!!Fe&&(tt=="number"||tt!="symbol"&&Re.test(Ae))&&Ae>-1&&Ae%1==0&&Ae<Fe}function Yn(Ae,Fe,tt){if(!un(tt))return!1;var Wt=typeof Fe;return(Wt=="number"?Yt(tt)&&vs(Fe,tt.length):Wt=="string"&&Fe in tt)?vt(tt[Fe],Ae):!1}function _i(Ae){var Fe=typeof Ae;return Fe=="string"||Fe=="number"||Fe=="symbol"||Fe=="boolean"?Ae!=="__proto__":Ae===null}function ji(Ae){return!!Nt&&Nt in Ae}function hs(Ae){var Fe=Ae&&Ae.constructor,tt=typeof Fe=="function"&&Fe.prototype||ot;return Ae===tt}function Bi(Ae){var Fe=[];if(Ae!=null)for(var tt in Object(Ae))Fe.push(tt);return Fe}function Ai(Ae){return St.call(Ae)}function bi(Ae,Fe,tt){return Fe=tr(Fe===void 0?Ae.length-1:Fe,0),function(){for(var Wt=arguments,Mr=-1,Xr=tr(Wt.length-Fe,0),vn=Array(Xr);++Mr<Xr;)vn[Mr]=Wt[Fe+Mr];Mr=-1;for(var $r=Array(Fe+1);++Mr<Fe;)$r[Mr]=Wt[Mr];return $r[Fe]=tt(vn),Be(Ae,this,$r)}}function fi(Ae,Fe){if(!(Fe==="constructor"&&typeof Ae[Fe]=="function")&&Fe!="__proto__")return Ae[Fe]}var Ne=Ke(Zr);function Ke(Ae){var Fe=0,tt=0;return function(){var Wt=It(),Mr=u-(Wt-tt);if(tt=Wt,Mr>0){if(++Fe>=o)return arguments[0]}else Fe=0;return Ae.apply(void 0,arguments)}}function it(Ae){if(Ae!=null){try{return Et.call(Ae)}catch{}try{return Ae+""}catch{}}return""}function vt(Ae,Fe){return Ae===Fe||Ae!==Ae&&Fe!==Fe}var $t=Dn((function(){return arguments})())?Dn:function(Ae){return wr(Ae)&&yt.call(Ae,"callee")&&!Gt.call(Ae,"callee")},Pt=Array.isArray;function Yt(Ae){return Ae!=null&&Rr(Ae.length)&&!Vr(Ae)}function er(Ae){return wr(Ae)&&Yt(Ae)}var qr=jt||zi;function Vr(Ae){if(!un(Ae))return!1;var Fe=Pn(Ae);return Fe==y||Fe==w||Fe==d||Fe==k}function Rr(Ae){return typeof Ae=="number"&&Ae>-1&&Ae%1==0&&Ae<=l}function un(Ae){var Fe=typeof Ae;return Ae!=null&&(Fe=="object"||Fe=="function")}function wr(Ae){return Ae!=null&&typeof Ae=="object"}function fn(Ae){if(!wr(Ae)||Pn(Ae)!=D)return!1;var Fe=Tt(Ae);if(Fe===null)return!0;var tt=yt.call(Fe,"constructor")&&Fe.constructor;return typeof tt=="function"&&tt instanceof tt&&Et.call(tt)==kt}var Tn=Oe?be(Oe):zn;function bn(Ae){return rs(Ae,ln(Ae))}function ln(Ae){return Yt(Ae)?zr(Ae):hi(Ae)}var ss=ns(function(Ae,Fe,tt){gi(Ae,Fe,tt)});function Ri(Ae){return function(){return Ae}}function Mi(Ae){return Ae}function zi(){return!1}t.exports=ss})(lodash_merge,lodash_merge.exports)),lodash_merge.exports}requireLodash_merge();const jupyterHubStreamingConnectFnFactory=({serviceUrl:t,clientProxyUrl:e,serviceTitle:n,gitPullerTargetPath:i})=>async function(u){console.debug("Connecting to JupyterHub..."),console.debug("server.config:",u.config),u.config.events.trigger("status",{id:u.id,subject:"server",message:`Connecting to JupyterHub at ${n??t}...`}),u.config.events.trigger("status",{subject:"server",id:u.id,message:"Establishing connection stream..."});try{const l=await fetch("/hub/stream",{method:"POST",body:JSON.stringify({serviceUrl:t,gitPullerTargetPath:i})});if(!l.ok)throw new Error(`Could not connect to stream: ${l.status} ${l.statusText}`);if(!l.body)throw new Error("ReadableStream not supported or response has no body.");const c=l.body.getReader(),f=new TextDecoder;let d=!1;const m=A=>new Promise(D=>setTimeout(D,A));let g;const v=!1;let y=0,w;for(;!d;){await m(100);let A;try{A=await c.read()}catch(j){w=`Stream error: ${j}`,console.error(w);break}const{value:D,done:k}=A;if(d=k&&v,k&&!v&&(y++,y>20))break;if(D){const Z=f.decode(D,{stream:!0}).split(`
`).filter(R=>R.length>0).map(R=>JSON.parse(R));for(const R of Z)R.error?u.config.events.trigger("error",{subject:"error",id:u.id,message:R.message}):(u.config.events.trigger("status",{subject:"server",id:u.id,message:R.message}),R.done&&R.payload&&(g=R.payload,d=!0))}}if(!g){const A=w?`final payload not received (${w})`:"final payload not received";throw new Error(A)}const T=await fetch("/hub/persist",{method:"POST",body:JSON.stringify({stash:g.stash})});T.ok||(u.config.events.trigger("status",{subject:"warning",id:u.id,message:"Failed to persist session"}),console.warn("Failed to persist session:",T.statusText),console.warn("Future hub connections will create new users")),u.config.serverSettings={baseUrl:g.baseUrl,token:g.token,appendToken:!0,wsUrl:`wss://${g.baseUrl.split("://")[1]}`};const P=u.config.serverSettings.baseUrl;if(e){console.debug("Using client proxy:",e);const A=new URL(e),D=new URL(g.baseUrl);D.protocol=A.protocol,D.hostname=A.hostname,D.port=A.port,u.config.serverSettings.baseUrl=D.toString()}await u.connectToJupyterServer(),P!==u.config.serverSettings.baseUrl&&(u.userServerUrl=`${P}?token=${u.config.serverSettings.token}`)}catch(l){u.config.events.trigger("error",{subject:"server",id:u.id,message:`Failed to connect: ${l.message}`})}},defaultTheme={config:{name:"theme-one"}},PlatformSiteContext=reactExports.createContext(void 0);function usePlatformSite(){return reactExports.useContext(PlatformSiteContext)?.site??{}}function usePlatformConfig(){return reactExports.useContext(PlatformSiteContext)?.config??{}}const PlatformThemeContext=reactExports.createContext(void 0);function usePlatformTheme(){return reactExports.useContext(PlatformThemeContext)??defaultTheme}function getStyleValue(t){if(!(typeof t=="number"&&Number.isNaN(t))){if(typeof t=="string"){if(t.endsWith("%"))return t;if(t.endsWith("px"))return Number(t.replace("px",""));if(!Number.isNaN(Number(t)))return Number(t);console.log(`Unknown width ${t} in getImageWidth`);return}return t}}function alignToMargin(t){switch(t){case"left":return{marginRight:"auto"};case"right":return{marginLeft:"auto"};case"center":return{margin:"0 auto"};default:return{}}}function Video({ref:t,className:e,src:n,urlSource:i,align:o="center",width:u,height:l,onClick:c,style:f,onLoadedData:d}){return jsxRuntimeExports.jsx("video",{ref:t,className:e,style:{width:getStyleValue(u),height:getStyleValue(l),...alignToMargin(o),...f},src:n,"data-canonical-url":i,autoPlay:!0,muted:!0,"webkit-playsinline":"true",playsInline:!0,loop:!0,onClick:c,onLoadedData:d})}function Picture({ref:t,className:e,src:n,srcOptimized:i,urlSource:o,align:u="center",alt:l,width:c,height:f,onClick:d,style:m,onLoad:g,onLoadedData:v}){if(n.endsWith(".mp4")||o?.endsWith(".mp4"))return jsxRuntimeExports.jsx(Video,{ref:t,className:e,width:c,height:f,align:u,src:n,urlSource:o,onClick:d,style:m,onLoadedData:v});const y=jsxRuntimeExports.jsx("img",{ref:t,style:{width:getStyleValue(c),height:getStyleValue(f),...alignToMargin(u),...m},src:n,alt:l,"data-canonical-url":o,className:cn$2(i?void 0:e,"bg-background"),onClick:d,draggable:!1,onLoad:g});return i?jsxRuntimeExports.jsxs("picture",{className:e,children:[jsxRuntimeExports.jsx("source",{srcSet:i,type:"image/webp"}),y]}):y}function Image$1({src:t,srcOptimized:e,urlSource:n,alt:i,className:o,showLightbox:u=!0,width:l,height:c,align:f="center",caption:d}){const{openLightbox:m}=useLightbox(),g=()=>{if(!u)return;m({src:t,srcOptimized:e,urlSource:n,alt:i,caption:d})},v=u;return jsxRuntimeExports.jsx(Picture,{src:t,srcOptimized:e,urlSource:n,alt:i,width:l,height:c,align:f,onClick:v?g:void 0,className:cn$2({"cursor-zoom-in":v},o)})}function Lightbox({isOpen:t,onClose:e,image:n,onNavigate:i,hasNext:o=!1,hasPrev:u=!1,showNavigation:l=!0,showZoom:c=!0,className:f,minZoom:d=.5,maxZoom:m=7}){const[g,v]=reactExports.useState(1),[y,w]=reactExports.useState(!1),[T,P]=reactExports.useState({x:0,y:0}),[A,D]=reactExports.useState(!1),k=reactExports.useRef(null),j=reactExports.useRef(null);reactExports.useEffect(()=>{v(1),P({x:0,y:0}),D(!1)},[n.src]),reactExports.useEffect(()=>{if(!t||!c)return;const ie=te=>{te.preventDefault(),te.stopPropagation();const oe=te.deltaY>0?.98:1.02;v(le=>{const de=le*oe;return Math.max(d,Math.min(de,m))})};return document.addEventListener("wheel",ie,{passive:!1}),()=>{document.removeEventListener("wheel",ie)}},[t,c]),reactExports.useEffect(()=>{const ie=te=>{if(t)switch(te.key){case"Escape":e();break;case"ArrowLeft":u&&i&&i("prev");break;case"ArrowRight":o&&i&&i("next");break;case"PageUp":case"PageDown":case"ArrowUp":case"ArrowDown":te.preventDefault();break;case"=":case"+":te.preventDefault(),v(oe=>Math.min(oe*1.2,m));break;case"-":te.preventDefault(),v(oe=>Math.max(oe/1.2,d));break;case"0":te.preventDefault(),v(1),P({x:0,y:0});break}};return document.addEventListener("keydown",ie),()=>document.removeEventListener("keydown",ie)},[t,u,o,i,e]);const[B,Z]=reactExports.useState({x:0,y:0}),R=ie=>{w(!0),Z({x:ie.clientX-T.x,y:ie.clientY-T.y})},G=ie=>{y&&P({x:ie.clientX-B.x,y:ie.clientY-B.y})},F=()=>{w(!1)},K=()=>{v(1),P({x:0,y:0})},Q=n.src.endsWith(".mp4")||n.urlSource?.endsWith(".mp4");return jsxRuntimeExports.jsx(Dialog$1,{open:t,onOpenChange:e,children:jsxRuntimeExports.jsxs(DialogContent$1,{className:cn$2("flex fixed inset-0 z-50 justify-center items-center p-4 bg-black/90",f),onPointerDownOutside:e,onEscapeKeyDown:e,onTouchStart:ie=>ie.preventDefault(),onTouchMove:ie=>ie.preventDefault(),children:[jsxRuntimeExports.jsx(DialogTitle$1,{className:"sr-only",children:n.alt||"Image viewer"}),jsxRuntimeExports.jsx(DialogDescription$1,{className:"sr-only",children:n.alt?`Viewing ${n.alt}`:"Image viewer with zoom and navigation controls"}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",className:"absolute top-4 right-4 z-10 text-white cursor-pointer hover:bg-white/10 hover:text-white",onClick:e,children:jsxRuntimeExports.jsx(X,{className:"w-6 h-6"})}),l&&(u||o)&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[u&&jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",className:"absolute left-4 top-1/2 z-10 text-white -translate-y-1/2 cursor-pointer hover:bg-white/10 hover:text-white",onClick:()=>i?.("prev"),children:jsxRuntimeExports.jsx(ChevronLeft,{className:"w-8 h-8"})}),o&&jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",className:"absolute right-4 top-1/2 z-10 text-white -translate-y-1/2 cursor-pointer hover:bg-white/10 hover:text-white",onClick:()=>i?.("next"),children:jsxRuntimeExports.jsx(ChevronRight,{className:"w-8 h-8"})})]}),c&&!Q&&jsxRuntimeExports.jsxs("div",{className:"flex absolute top-4 left-4 z-10 gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",className:"text-white cursor-pointer hover:bg-white/10 hover:text-white",onClick:()=>v(ie=>Math.min(ie*1.2,5)),children:jsxRuntimeExports.jsx(ZoomIn,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",className:"text-white cursor-pointer hover:bg-white/10 hover:text-white",onClick:()=>v(ie=>Math.max(ie/1.2,.1)),children:jsxRuntimeExports.jsx(ZoomOut,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",className:"text-white cursor-pointer hover:bg-white/10 hover:text-white",onClick:K,children:jsxRuntimeExports.jsx(RotateCcw,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{ref:j,className:"flex overflow-hidden relative justify-center items-center w-full h-full max-h-screen",onMouseDown:Q?void 0:R,onMouseMove:Q?void 0:G,onMouseUp:Q?void 0:F,onMouseLeave:Q?void 0:F,onTouchStart:ie=>ie.preventDefault(),onTouchMove:ie=>ie.preventDefault(),children:[jsxRuntimeExports.jsx(Picture,{ref:k,src:n.src,srcOptimized:n.srcOptimized,urlSource:n.urlSource,alt:n.alt,className:cn$2("object-contain max-w-full max-h-full select-none",{"cursor-grab active:cursor-grabbing":!Q,"opacity-0":!A,"opacity-100":A}),style:Q?{maxHeight:"calc(100vh - 8rem)",maxWidth:"calc(100vw - 2rem)"}:{transform:`scale(${g}) translate(${T.x/g}px, ${T.y/g}px)`,maxHeight:"calc(100vh - 8rem)",maxWidth:"calc(100vw - 2rem)"},onLoad:()=>D(!0),onLoadedData:()=>D(!0)}),!A&&jsxRuntimeExports.jsx("div",{className:"flex absolute inset-0 justify-center items-center",children:jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full border-2 animate-spin border-white/20 border-t-white"})})]}),n.caption&&jsxRuntimeExports.jsx("div",{className:"absolute right-4 bottom-4 left-4 z-10",children:jsxRuntimeExports.jsx("div",{className:"px-4 py-2 mx-auto max-w-6xl text-sm text-white rounded-lg backdrop-blur-sm group bg-black/80 prose prose-invert",children:jsxRuntimeExports.jsx("div",{className:"overflow-hidden transition-all duration-750 max-h-[3rem] group-hover:max-h-[50rem]",children:typeof n.caption=="string"?n.caption:jsxRuntimeExports.jsx(MyST,{ast:n.caption})})})}),c&&!Q&&g!==1&&jsxRuntimeExports.jsxs("div",{className:"absolute right-4 bottom-4 z-10 px-3 py-1 text-sm text-white rounded-sm backdrop-blur-sm bg-black/50",children:[Math.round(g*100),"%"]})]})})}function LightboxContent({showNavigation:t=!0,showZoom:e=!0}){const{isOpen:n,currentImage:i,closeLightbox:o,navigate:u,hasNext:l,hasPrev:c}=useLightbox();return i?jsxRuntimeExports.jsx(Lightbox,{isOpen:n,onClose:o,image:i,onNavigate:u,hasNext:l,hasPrev:c,showNavigation:t,showZoom:e}):null}function LightboxContainer({children:t,showNavigation:e=!0,showZoom:n=!0,imageList:i=[]}){return jsxRuntimeExports.jsxs(LightboxProvider,{imageList:i,children:[t,jsxRuntimeExports.jsx(LightboxContent,{showNavigation:e,showZoom:n})]})}const DESIGN_PRESETS={landing:{index:{layout:"article",hide_outline:!0,hide_title_block:!0,hide_search:!0,hide_downloads:!0},page:{layout:"article"}},single_article:{index:{layout:"article",hide_search:!0},page:{layout:"app"}},single_article_supporting:{base:{layout:"app",hide_search:!0},index:{},page:{hide_license_description:!0}},book:{base:{layout:"app",hide_search:!0}}},DesignContext=reactExports.createContext(void 0);function DesignProvider({children:t,designs:e}){const n=e.filter(Boolean).reduce((i,o)=>({...i,...o}),{});return jsxRuntimeExports.jsx(DesignContext.Provider,{value:n,children:t})}function useDesign(){return reactExports.useContext(DesignContext)??{}}const PageContext=reactExports.createContext(void 0);function PageProvider({children:t,page:e}){return jsxRuntimeExports.jsx(PageContext.Provider,{value:e,children:t})}function usePage(){const t=reactExports.useContext(PageContext);if(!t)throw new Error("usePage must be used within a PageProvider");return t}function useIsIndexPage(){const t=usePage(),e=useProjectManifest();return t.slug===e?.index}function PageProviders({children:t,page:e,config:n,project:i}){let o=n?.projects?.[0];if(i&&(o=n?.projects?.find(u=>u.slug===i),!o))throw new Error(`Project ${i} not found`);return jsxRuntimeExports.jsx(PageProvider,{page:e,children:jsxRuntimeExports.jsx(ArticleProvider,{references:{...e.references,article:e.mdast},kind:e.kind,frontmatter:e.frontmatter,children:jsxRuntimeExports.jsx(SiteProvider,{config:n,children:jsxRuntimeExports.jsx(ProjectProvider,{project:o,children:t})})})})}function resolveArticleConfigOptions(t,e){const{jupyter:n,...i}=e.articles?.byKind?.[t]??e.articles?.byKind?.[t?.toLowerCase()]??{},{byKind:o,jupyter:u,...l}=e.articles??{},c={...l,...i},f={...e.jupyter,...u,...n};return Object.keys(f).length>0&&(c.jupyter=f),c}function resolveThemeAndProjectComputeOptions(t,e){const n=!!t.jupyter&&t.jupyter.enable!==!1,i=e.thebe??e.jupyter;return(!n||!(i!==void 0&&i!==!1))&&(t.jupyter={...t.jupyter,enable:!1}),t.jupyter?.mecaBundle&&!checkHasMECAExport(e)&&(t.jupyter={...t.jupyter,enable:!1},typeof window<"u"&&console.warn(" Compute Disabled - MECA bundle not found but is required. Please add a MECA export to your project to build the MECA bundle and enable compute")),!t.jupyter?.mecaBundle&&!t.jupyter?.dedicatedHub&&t.jupyter?.binderUrlOverride&&!e.github&&(t.jupyter={...t.jupyter,enable:!1},typeof window<"u"&&console.warn(" Compute Disabled - Binder URL override requires a GitHub repository to be set up. No github key found in project.")),t}const customRepoProviders={meca:{name:"meca",makeUrls:t=>{if(!t.binder.repo)throw Error("repo is required for meca provider");const e=t.binder.binderUrl?.replace(/(\/?$)/g,"");let n=`thebe-meca-${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;if(t.binder.repo){const i=new URL(t.binder.repo);n=`thebe-meca-${e}/build/meca/${i.origin+i.pathname}`}return{build:`${e}/build/meca/${encodeURIComponent(t.binder.repo??"")}`,launch:`${e}/v2/meca/${encodeURIComponent(t.binder.repo??"")}`,storageKey:n}}}};function getCustomRepoProviders(t){return t.map(e=>customRepoProviders[e])}function getAdditionalThemeComputeConfig(t,e,n){const i=t.jupyter;if(!i||i.enable===!1)return{};const o=f=>{if(!i||i.enable===!1)return;if(f?.serverSettings&&n)return f;const{useJupyterLite:d,...m}=f??{},g=i.allowLite&&d,v=!g&&i.dedicatedHub===void 0,y=i.mecaBundle&&e;return y&&console.log("Using MECA bundle",e),{...m,useJupyterLite:g,useBinder:v,binderOptions:{...f?.binderOptions,binderUrl:i.binderUrlOverride??f?.binderOptions?.binderUrl,repoProvider:y?"meca":f?.binderOptions?.repoProvider,repo:y?e:f?.binderOptions?.repo,ref:y?void 0:f?.binderOptions?.ref},savedSessionOptions:{enabled:!0,storagePrefix:"curvenote-jupyter-"}}},u=i?.mecaBundle?getCustomRepoProviders(["meca"]):void 0,l=i?.dedicatedHub,c=i?.dedicatedHub?jupyterHubStreamingConnectFnFactory({serviceUrl:l.url,serviceTitle:l.title,clientProxyUrl:l.clientProxyUrl,gitPullerTargetPath:l.gitPullerTargetPath}):void 0;return{optionOverrideFn:o,customRepoProviders:u,customConnectFn:c,mecaUrl:e,errors:{noMecaBundle:e==null&&i?.mecaBundle}}}function getFullyQualifiedUrlToMECABundle(t){return t?.exports?(t?.exports).find(n=>n.format==="meca")?.url??null:null}function CurvenoteProviders({children:t,submissionKind:e="SITE_PAGES",designPreset:n="book",mode:i="production"}){const o=useSiteManifest(),u=useProjectManifest(),l=usePage(),c=useIsIndexPage(),f=usePlatformTheme(),d=resolveArticleConfigOptions(e,f.config),m=useReferences(),g=resolveThemeAndProjectComputeOptions(d,u),v=getFullyQualifiedUrlToMECABundle(u),w={...g,...getAdditionalThemeComputeConfig(g,v,i==="development")},T=useImages({mdast:m?.article}),P=g?.jupyter?.enable!==!1,A={notebookCompute:(P&&w?.jupyter?.notebookCompute)??!1,figureCompute:(P&&w?.jupyter?.figureCompute)??!1,launchBinder:(P&&w?.jupyter?.launchBinder)??!1,openInServerRoot:(P&&w?.jupyter?.openInServerRoot)??!1,openInServerTargetPath:(P&&w?.jupyter?.openInServerTargetPath)??void 0},D=o?.options,k=l?.frontmatter?.site,j=DESIGN_PRESETS[n],B=j?.base,Z=c?j?.index:j?.page;return jsxRuntimeExports.jsx(DesignProvider,{designs:[B,Z,D,k],children:jsxRuntimeExports.jsx(ComputeOptionsProvider,{features:A,optionOverrideFn:w?.optionOverrideFn,customRepoProviders:w?.customRepoProviders,customConnectFn:w?.customConnectFn,children:jsxRuntimeExports.jsxs(ComputeProvider,{article:l,children:[jsxRuntimeExports.jsx(LightboxContainer,{imageList:T,children:t}),jsxRuntimeExports.jsx(ConnectionStatusTray,{})]})})})}const ENTRIES="ENTRIES",KEYS="KEYS",VALUES="VALUES",LEAF="";class TreeIterator{constructor(e,n){const i=e._tree,o=Array.from(i.keys());this.set=e,this._type=n,this._path=o.length>0?[{node:i,keys:o}]:[]}next(){const e=this.dive();return this.backtrack(),e}dive(){if(this._path.length===0)return{done:!0,value:void 0};const{node:e,keys:n}=last$1(this._path);if(last$1(n)===LEAF)return{done:!1,value:this.result()};const i=e.get(last$1(n));return this._path.push({node:i,keys:Array.from(i.keys())}),this.dive()}backtrack(){if(this._path.length===0)return;const e=last$1(this._path).keys;e.pop(),!(e.length>0)&&(this._path.pop(),this.backtrack())}key(){return this.set._prefix+this._path.map(({keys:e})=>last$1(e)).filter(e=>e!==LEAF).join("")}value(){return last$1(this._path).node.get(LEAF)}result(){switch(this._type){case VALUES:return this.value();case KEYS:return this.key();default:return[this.key(),this.value()]}}[Symbol.iterator](){return this}}const last$1=t=>t[t.length-1],fuzzySearch=(t,e,n)=>{const i=new Map;if(e===void 0)return i;const o=e.length+1,u=o+n,l=new Uint8Array(u*o).fill(n+1);for(let c=0;c<o;++c)l[c]=c;for(let c=1;c<u;++c)l[c*o]=c;return recurse(t,e,n,i,l,1,o,""),i},recurse=(t,e,n,i,o,u,l,c)=>{const f=u*l;e:for(const d of t.keys())if(d===LEAF){const m=o[f-1];m<=n&&i.set(c,[t.get(d),m])}else{let m=u;for(let g=0;g<d.length;++g,++m){const v=d[g],y=l*m,w=y-l;let T=o[y];const P=Math.max(0,m-n-1),A=Math.min(l-1,m+n);for(let D=P;D<A;++D){const k=v!==e[D],j=o[w+D]+ +k,B=o[w+D+1]+1,Z=o[y+D]+1,R=o[y+D+1]=Math.min(j,B,Z);R<T&&(T=R)}if(T>n)continue e}recurse(t.get(d),e,n,i,o,m,l,c+d)}};class SearchableMap{constructor(e=new Map,n=""){this._size=void 0,this._tree=e,this._prefix=n}atPrefix(e){if(!e.startsWith(this._prefix))throw new Error("Mismatched prefix");const[n,i]=trackDown(this._tree,e.slice(this._prefix.length));if(n===void 0){const[o,u]=last(i);for(const l of o.keys())if(l!==LEAF&&l.startsWith(u)){const c=new Map;return c.set(l.slice(u.length),o.get(l)),new SearchableMap(c,e)}}return new SearchableMap(n,e)}clear(){this._size=void 0,this._tree.clear()}delete(e){return this._size=void 0,remove(this._tree,e)}entries(){return new TreeIterator(this,ENTRIES)}forEach(e){for(const[n,i]of this)e(n,i,this)}fuzzyGet(e,n){return fuzzySearch(this._tree,e,n)}get(e){const n=lookup(this._tree,e);return n!==void 0?n.get(LEAF):void 0}has(e){const n=lookup(this._tree,e);return n!==void 0&&n.has(LEAF)}keys(){return new TreeIterator(this,KEYS)}set(e,n){if(typeof e!="string")throw new Error("key must be a string");return this._size=void 0,createPath(this._tree,e).set(LEAF,n),this}get size(){if(this._size)return this._size;this._size=0;const e=this.entries();for(;!e.next().done;)this._size+=1;return this._size}update(e,n){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;const i=createPath(this._tree,e);return i.set(LEAF,n(i.get(LEAF))),this}fetch(e,n){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;const i=createPath(this._tree,e);let o=i.get(LEAF);return o===void 0&&i.set(LEAF,o=n()),o}values(){return new TreeIterator(this,VALUES)}[Symbol.iterator](){return this.entries()}static from(e){const n=new SearchableMap;for(const[i,o]of e)n.set(i,o);return n}static fromObject(e){return SearchableMap.from(Object.entries(e))}}const trackDown=(t,e,n=[])=>{if(e.length===0||t==null)return[t,n];for(const i of t.keys())if(i!==LEAF&&e.startsWith(i))return n.push([t,i]),trackDown(t.get(i),e.slice(i.length),n);return n.push([t,e]),trackDown(void 0,"",n)},lookup=(t,e)=>{if(e.length===0||t==null)return t;for(const n of t.keys())if(n!==LEAF&&e.startsWith(n))return lookup(t.get(n),e.slice(n.length))},createPath=(t,e)=>{const n=e.length;e:for(let i=0;t&&i<n;){for(const u of t.keys())if(u!==LEAF&&e[i]===u[0]){const l=Math.min(n-i,u.length);let c=1;for(;c<l&&e[i+c]===u[c];)++c;const f=t.get(u);if(c===u.length)t=f;else{const d=new Map;d.set(u.slice(c),f),t.set(e.slice(i,i+c),d),t.delete(u),t=d}i+=c;continue e}const o=new Map;return t.set(e.slice(i),o),o}return t},remove=(t,e)=>{const[n,i]=trackDown(t,e);if(n!==void 0){if(n.delete(LEAF),n.size===0)cleanup(i);else if(n.size===1){const[o,u]=n.entries().next().value;merge$1(i,o,u)}}},cleanup=t=>{if(t.length===0)return;const[e,n]=last(t);if(e.delete(n),e.size===0)cleanup(t.slice(0,-1));else if(e.size===1){const[i,o]=e.entries().next().value;i!==LEAF&&merge$1(t.slice(0,-1),i,o)}},merge$1=(t,e,n)=>{if(t.length===0)return;const[i,o]=last(t);i.set(o+e,n),i.delete(o)},last=t=>t[t.length-1],OR="or",AND="and",AND_NOT="and_not";class MiniSearch{constructor(e){if(e?.fields==null)throw new Error('MiniSearch: option "fields" must be provided');const n=e.autoVacuum==null||e.autoVacuum===!0?defaultAutoVacuumOptions:e.autoVacuum;this._options={...defaultOptions,...e,autoVacuum:n,searchOptions:{...defaultSearchOptions,...e.searchOptions||{}},autoSuggestOptions:{...defaultAutoSuggestOptions,...e.autoSuggestOptions||{}}},this._index=new SearchableMap,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=defaultVacuumConditions,this.addFields(this._options.fields)}add(e){const{extractField:n,stringifyField:i,tokenize:o,processTerm:u,fields:l,idField:c}=this._options,f=n(e,c);if(f==null)throw new Error(`MiniSearch: document does not have ID field "${c}"`);if(this._idToShortId.has(f))throw new Error(`MiniSearch: duplicate ID ${f}`);const d=this.addDocumentId(f);this.saveStoredFields(d,e);for(const m of l){const g=n(e,m);if(g==null)continue;const v=o(i(g,m),m),y=this._fieldIds[m],w=new Set(v).size;this.addFieldLength(d,y,this._documentCount-1,w);for(const T of v){const P=u(T,m);if(Array.isArray(P))for(const A of P)this.addTerm(y,d,A);else P&&this.addTerm(y,d,P)}}}addAll(e){for(const n of e)this.add(n)}addAllAsync(e,n={}){const{chunkSize:i=10}=n,o={chunk:[],promise:Promise.resolve()},{chunk:u,promise:l}=e.reduce(({chunk:c,promise:f},d,m)=>(c.push(d),(m+1)%i===0?{chunk:[],promise:f.then(()=>new Promise(g=>setTimeout(g,0))).then(()=>this.addAll(c))}:{chunk:c,promise:f}),o);return l.then(()=>this.addAll(u))}remove(e){const{tokenize:n,processTerm:i,extractField:o,stringifyField:u,fields:l,idField:c}=this._options,f=o(e,c);if(f==null)throw new Error(`MiniSearch: document does not have ID field "${c}"`);const d=this._idToShortId.get(f);if(d==null)throw new Error(`MiniSearch: cannot remove document with ID ${f}: it is not in the index`);for(const m of l){const g=o(e,m);if(g==null)continue;const v=n(u(g,m),m),y=this._fieldIds[m],w=new Set(v).size;this.removeFieldLength(d,y,this._documentCount,w);for(const T of v){const P=i(T,m);if(Array.isArray(P))for(const A of P)this.removeTerm(y,d,A);else P&&this.removeTerm(y,d,P)}}this._storedFields.delete(d),this._documentIds.delete(d),this._idToShortId.delete(f),this._fieldLength.delete(d),this._documentCount-=1}removeAll(e){if(e)for(const n of e)this.remove(n);else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new SearchableMap,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}}discard(e){const n=this._idToShortId.get(e);if(n==null)throw new Error(`MiniSearch: cannot discard document with ID ${e}: it is not in the index`);this._idToShortId.delete(e),this._documentIds.delete(n),this._storedFields.delete(n),(this._fieldLength.get(n)||[]).forEach((i,o)=>{this.removeFieldLength(n,o,this._documentCount,i)}),this._fieldLength.delete(n),this._documentCount-=1,this._dirtCount+=1,this.maybeAutoVacuum()}maybeAutoVacuum(){if(this._options.autoVacuum===!1)return;const{minDirtFactor:e,minDirtCount:n,batchSize:i,batchWait:o}=this._options.autoVacuum;this.conditionalVacuum({batchSize:i,batchWait:o},{minDirtCount:n,minDirtFactor:e})}discardAll(e){const n=this._options.autoVacuum;try{this._options.autoVacuum=!1;for(const i of e)this.discard(i)}finally{this._options.autoVacuum=n}this.maybeAutoVacuum()}replace(e){const{idField:n,extractField:i}=this._options,o=i(e,n);this.discard(o),this.add(e)}vacuum(e={}){return this.conditionalVacuum(e)}conditionalVacuum(e,n){return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&n,this._enqueuedVacuum!=null?this._enqueuedVacuum:(this._enqueuedVacuum=this._currentVacuum.then(()=>{const i=this._enqueuedVacuumConditions;return this._enqueuedVacuumConditions=defaultVacuumConditions,this.performVacuuming(e,i)}),this._enqueuedVacuum)):this.vacuumConditionsMet(n)===!1?Promise.resolve():(this._currentVacuum=this.performVacuuming(e),this._currentVacuum)}async performVacuuming(e,n){const i=this._dirtCount;if(this.vacuumConditionsMet(n)){const o=e.batchSize||defaultVacuumOptions.batchSize,u=e.batchWait||defaultVacuumOptions.batchWait;let l=1;for(const[c,f]of this._index){for(const[d,m]of f)for(const[g]of m)this._documentIds.has(g)||(m.size<=1?f.delete(d):m.delete(g));this._index.get(c).size===0&&this._index.delete(c),l%o===0&&await new Promise(d=>setTimeout(d,u)),l+=1}this._dirtCount-=i}await null,this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null}vacuumConditionsMet(e){if(e==null)return!0;let{minDirtCount:n,minDirtFactor:i}=e;return n=n||defaultAutoVacuumOptions.minDirtCount,i=i||defaultAutoVacuumOptions.minDirtFactor,this.dirtCount>=n&&this.dirtFactor>=i}get isVacuuming(){return this._currentVacuum!=null}get dirtCount(){return this._dirtCount}get dirtFactor(){return this._dirtCount/(1+this._documentCount+this._dirtCount)}has(e){return this._idToShortId.has(e)}getStoredFields(e){const n=this._idToShortId.get(e);if(n!=null)return this._storedFields.get(n)}search(e,n={}){const{searchOptions:i}=this._options,o={...i,...n},u=this.executeQuery(e,n),l=[];for(const[c,{score:f,terms:d,match:m}]of u){const g=d.length||1,v={id:this._documentIds.get(c),score:f*g,terms:Object.keys(m),queryTerms:d,match:m};Object.assign(v,this._storedFields.get(c)),(o.filter==null||o.filter(v))&&l.push(v)}return e===MiniSearch.wildcard&&o.boostDocument==null||l.sort(byScore),l}autoSuggest(e,n={}){n={...this._options.autoSuggestOptions,...n};const i=new Map;for(const{score:u,terms:l}of this.search(e,n)){const c=l.join(" "),f=i.get(c);f!=null?(f.score+=u,f.count+=1):i.set(c,{score:u,terms:l,count:1})}const o=[];for(const[u,{score:l,terms:c,count:f}]of i)o.push({suggestion:u,terms:c,score:l/f});return o.sort(byScore),o}get documentCount(){return this._documentCount}get termCount(){return this._index.size}static loadJSON(e,n){if(n==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(e),n)}static async loadJSONAsync(e,n){if(n==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJSAsync(JSON.parse(e),n)}static getDefault(e){if(defaultOptions.hasOwnProperty(e))return getOwnProperty(defaultOptions,e);throw new Error(`MiniSearch: unknown option "${e}"`)}static loadJS(e,n){const{index:i,documentIds:o,fieldLength:u,storedFields:l,serializationVersion:c}=e,f=this.instantiateMiniSearch(e,n);f._documentIds=objectToNumericMap(o),f._fieldLength=objectToNumericMap(u),f._storedFields=objectToNumericMap(l);for(const[d,m]of f._documentIds)f._idToShortId.set(m,d);for(const[d,m]of i){const g=new Map;for(const v of Object.keys(m)){let y=m[v];c===1&&(y=y.ds),g.set(parseInt(v,10),objectToNumericMap(y))}f._index.set(d,g)}return f}static async loadJSAsync(e,n){const{index:i,documentIds:o,fieldLength:u,storedFields:l,serializationVersion:c}=e,f=this.instantiateMiniSearch(e,n);f._documentIds=await objectToNumericMapAsync(o),f._fieldLength=await objectToNumericMapAsync(u),f._storedFields=await objectToNumericMapAsync(l);for(const[m,g]of f._documentIds)f._idToShortId.set(g,m);let d=0;for(const[m,g]of i){const v=new Map;for(const y of Object.keys(g)){let w=g[y];c===1&&(w=w.ds),v.set(parseInt(y,10),await objectToNumericMapAsync(w))}++d%1e3===0&&await wait(0),f._index.set(m,v)}return f}static instantiateMiniSearch(e,n){const{documentCount:i,nextId:o,fieldIds:u,averageFieldLength:l,dirtCount:c,serializationVersion:f}=e;if(f!==1&&f!==2)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");const d=new MiniSearch(n);return d._documentCount=i,d._nextId=o,d._idToShortId=new Map,d._fieldIds=u,d._avgFieldLength=l,d._dirtCount=c||0,d._index=new SearchableMap,d}executeQuery(e,n={}){if(e===MiniSearch.wildcard)return this.executeWildcardQuery(n);if(typeof e!="string"){const v={...n,...e,queries:void 0},y=e.queries.map(w=>this.executeQuery(w,v));return this.combineResults(y,v.combineWith)}const{tokenize:i,processTerm:o,searchOptions:u}=this._options,l={tokenize:i,processTerm:o,...u,...n},{tokenize:c,processTerm:f}=l,g=c(e).flatMap(v=>f(v)).filter(v=>!!v).map(termToQuerySpec(l)).map(v=>this.executeQuerySpec(v,l));return this.combineResults(g,l.combineWith)}executeQuerySpec(e,n){const i={...this._options.searchOptions,...n},o=(i.fields||this._options.fields).reduce((T,P)=>({...T,[P]:getOwnProperty(i.boost,P)||1}),{}),{boostDocument:u,weights:l,maxFuzzy:c,bm25:f}=i,{fuzzy:d,prefix:m}={...defaultSearchOptions.weights,...l},g=this._index.get(e.term),v=this.termResults(e.term,e.term,1,e.termBoost,g,o,u,f);let y,w;if(e.prefix&&(y=this._index.atPrefix(e.term)),e.fuzzy){const T=e.fuzzy===!0?.2:e.fuzzy,P=T<1?Math.min(c,Math.round(e.term.length*T)):T;P&&(w=this._index.fuzzyGet(e.term,P))}if(y)for(const[T,P]of y){const A=T.length-e.term.length;if(!A)continue;w?.delete(T);const D=m*T.length/(T.length+.3*A);this.termResults(e.term,T,D,e.termBoost,P,o,u,f,v)}if(w)for(const T of w.keys()){const[P,A]=w.get(T);if(!A)continue;const D=d*T.length/(T.length+A);this.termResults(e.term,T,D,e.termBoost,P,o,u,f,v)}return v}executeWildcardQuery(e){const n=new Map,i={...this._options.searchOptions,...e};for(const[o,u]of this._documentIds){const l=i.boostDocument?i.boostDocument(u,"",this._storedFields.get(o)):1;n.set(o,{score:l,terms:[],match:{}})}return n}combineResults(e,n=OR){if(e.length===0)return new Map;const i=n.toLowerCase(),o=combinators[i];if(!o)throw new Error(`Invalid combination operator: ${n}`);return e.reduce(o)||new Map}toJSON(){const e=[];for(const[n,i]of this._index){const o={};for(const[u,l]of i)o[u]=Object.fromEntries(l);e.push([n,o])}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:e,serializationVersion:2}}termResults(e,n,i,o,u,l,c,f,d=new Map){if(u==null)return d;for(const m of Object.keys(l)){const g=l[m],v=this._fieldIds[m],y=u.get(v);if(y==null)continue;let w=y.size;const T=this._avgFieldLength[v];for(const P of y.keys()){if(!this._documentIds.has(P)){this.removeTerm(v,P,n),w-=1;continue}const A=c?c(this._documentIds.get(P),n,this._storedFields.get(P)):1;if(!A)continue;const D=y.get(P),k=this._fieldLength.get(P)[v],j=calcBM25Score(D,w,this._documentCount,k,T,f),B=i*o*g*A*j,Z=d.get(P);if(Z){Z.score+=B,assignUniqueTerm(Z.terms,e);const R=getOwnProperty(Z.match,n);R?R.push(m):Z.match[n]=[m]}else d.set(P,{score:B,terms:[e],match:{[n]:[m]}})}}return d}addTerm(e,n,i){const o=this._index.fetch(i,createMap);let u=o.get(e);if(u==null)u=new Map,u.set(n,1),o.set(e,u);else{const l=u.get(n);u.set(n,(l||0)+1)}}removeTerm(e,n,i){if(!this._index.has(i)){this.warnDocumentChanged(n,e,i);return}const o=this._index.fetch(i,createMap),u=o.get(e);u==null||u.get(n)==null?this.warnDocumentChanged(n,e,i):u.get(n)<=1?u.size<=1?o.delete(e):u.delete(n):u.set(n,u.get(n)-1),this._index.get(i).size===0&&this._index.delete(i)}warnDocumentChanged(e,n,i){for(const o of Object.keys(this._fieldIds))if(this._fieldIds[o]===n){this._options.logger("warn",`MiniSearch: document with ID ${this._documentIds.get(e)} has changed before removal: term "${i}" was not present in field "${o}". Removing a document after it has changed can corrupt the index!`,"version_conflict");return}}addDocumentId(e){const n=this._nextId;return this._idToShortId.set(e,n),this._documentIds.set(n,e),this._documentCount+=1,this._nextId+=1,n}addFields(e){for(let n=0;n<e.length;n++)this._fieldIds[e[n]]=n}addFieldLength(e,n,i,o){let u=this._fieldLength.get(e);u==null&&this._fieldLength.set(e,u=[]),u[n]=o;const c=(this._avgFieldLength[n]||0)*i+o;this._avgFieldLength[n]=c/(i+1)}removeFieldLength(e,n,i,o){if(i===1){this._avgFieldLength[n]=0;return}const u=this._avgFieldLength[n]*i-o;this._avgFieldLength[n]=u/(i-1)}saveStoredFields(e,n){const{storeFields:i,extractField:o}=this._options;if(i==null||i.length===0)return;let u=this._storedFields.get(e);u==null&&this._storedFields.set(e,u={});for(const l of i){const c=o(n,l);c!==void 0&&(u[l]=c)}}}MiniSearch.wildcard=Symbol("*");const getOwnProperty=(t,e)=>Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0,combinators={[OR]:(t,e)=>{for(const n of e.keys()){const i=t.get(n);if(i==null)t.set(n,e.get(n));else{const{score:o,terms:u,match:l}=e.get(n);i.score=i.score+o,i.match=Object.assign(i.match,l),assignUniqueTerms(i.terms,u)}}return t},[AND]:(t,e)=>{const n=new Map;for(const i of e.keys()){const o=t.get(i);if(o==null)continue;const{score:u,terms:l,match:c}=e.get(i);assignUniqueTerms(o.terms,l),n.set(i,{score:o.score+u,terms:o.terms,match:Object.assign(o.match,c)})}return n},[AND_NOT]:(t,e)=>{for(const n of e.keys())t.delete(n);return t}},defaultBM25params={k:1.2,b:.7,d:.5},calcBM25Score=(t,e,n,i,o,u)=>{const{k:l,b:c,d:f}=u;return Math.log(1+(n-e+.5)/(e+.5))*(f+t*(l+1)/(t+l*(1-c+c*i/o)))},termToQuerySpec=t=>(e,n,i)=>{const o=typeof t.fuzzy=="function"?t.fuzzy(e,n,i):t.fuzzy||!1,u=typeof t.prefix=="function"?t.prefix(e,n,i):t.prefix===!0,l=typeof t.boostTerm=="function"?t.boostTerm(e,n,i):1;return{term:e,fuzzy:o,prefix:u,termBoost:l}},defaultOptions={idField:"id",extractField:(t,e)=>t[e],stringifyField:(t,e)=>t.toString(),tokenize:t=>t.split(SPACE_OR_PUNCTUATION),processTerm:t=>t.toLowerCase(),fields:void 0,searchOptions:void 0,storeFields:[],logger:(t,e)=>{typeof console?.[t]=="function"&&console[t](e)},autoVacuum:!0},defaultSearchOptions={combineWith:OR,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:defaultBM25params},defaultAutoSuggestOptions={combineWith:AND,prefix:(t,e,n)=>e===n.length-1},defaultVacuumOptions={batchSize:1e3,batchWait:10},defaultVacuumConditions={minDirtFactor:.1,minDirtCount:20},defaultAutoVacuumOptions={...defaultVacuumOptions,...defaultVacuumConditions},assignUniqueTerm=(t,e)=>{t.includes(e)||t.push(e)},assignUniqueTerms=(t,e)=>{for(const n of e)t.includes(n)||t.push(n)},byScore=({score:t},{score:e})=>e-t,createMap=()=>new Map,objectToNumericMap=t=>{const e=new Map;for(const n of Object.keys(t))e.set(parseInt(n,10),t[n]);return e},objectToNumericMapAsync=async t=>{const e=new Map;let n=0;for(const i of Object.keys(t))e.set(parseInt(i,10),t[i]),++n%1e3===0&&await wait(0);return e},wait=t=>new Promise(e=>setTimeout(e,t)),SPACE_OR_PUNCTUATION=/[\n\r\p{Z}\p{P}]+/u;function prepareOptions(t){return{...t,tokenize:MiniSearch.getDefault("tokenize"),processTerm:MiniSearch.getDefault("processTerm"),extractField}}function combineResults(t){const[e,...n]=t.entries();if(e===void 0)return[];const i=e[1],o=new Map(Array.from(i.entries(),([l,c])=>{const{id:f,score:d,terms:m,queryTerms:g,match:v,...y}=c;return[l,{id:l,queries:[{term:g[0],matches:v}],...y}]})),u=n.reduce((l,c)=>{const f=new Map;return c[1].forEach((m,g)=>{const v=l.get(g);if(v==null)return;const{queryTerms:y,match:w}=m;v.queries.push({term:y[0],matches:w}),f.set(g,v)}),f},o);return Array.from(u.values())}function createSearch$1(t,e){const n=prepareOptions(e),i=new MiniSearch(n);return i.addAll(t.map((o,u)=>({...o,id:u}))),async o=>{const u=n.tokenize(o).filter(l=>!!l);if(u.length){const l=new Map(u.map(c=>[c,new Map(i.search(c).map(f=>[f.id,f]))]));return combineResults(l)}else return}}const links={Link:t=>jsxRuntimeExports.jsx(Link$1,{...t,reloadDocument:!0}),NavLink:t=>jsxRuntimeExports.jsx(NavLink,{...t,reloadDocument:!0})};function createSearch(t){const e={fields:SEARCH_ATTRIBUTES_ORDERED,storeFields:["hierarchy","content","url","type","id","position"],idField:"id",searchOptions:{fuzzy:.1,prefix:!0}};return createSearch$1(t.records,e)}function MystProviders({children:t,renderers:e}){const{theme:n}=z(),i=reactExports.useCallback(o=>createSearch(o),[]);return jsxRuntimeExports.jsx(SearchFactoryProvider,{factory:i,children:jsxRuntimeExports.jsx(ThemeProvider,{theme:n==="dark"?Theme.dark:Theme.light,setTheme:()=>{},renderers:e,...links,top:60,children:jsxRuntimeExports.jsx(UiStateProvider,{children:jsxRuntimeExports.jsx(TabStateProvider,{children:t})})})})}reactExports.createContext(void 0);function ArticleActions(){const{projectDownloads:t,articleDownloads:e}=useDownloads(),n=useDesign(),i=useBaseurl(),u=[...t,...e].find(c=>c.format?.toLowerCase()==="pdf"||c.url?.toLowerCase().endsWith(".pdf")),l=i?withBaseurl(".pdf",i):u?.url;return jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center",children:[!n.hide_search&&jsxRuntimeExports.jsx(SearchDialog,{children:jsxRuntimeExports.jsx(SimpleTooltip,{title:"Search",children:jsxRuntimeExports.jsx(Button,{variant:"outline",size:"icon","aria-label":"Search",asChild:!0,children:jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(Search,{})})})})}),u&&jsxRuntimeExports.jsx(SimpleTooltip,{title:"Download PDF",children:jsxRuntimeExports.jsx(Button,{variant:"outline",className:"cursor-pointer",size:"icon","aria-label":"Download PDF",asChild:!0,children:jsxRuntimeExports.jsx("a",{href:l,target:"_blank",rel:"noopener noreferrer",children:jsxRuntimeExports.jsx(FileDown,{})})})}),jsxRuntimeExports.jsx(Citation,{children:jsxRuntimeExports.jsx(SimpleTooltip,{title:"Cite this article",children:jsxRuntimeExports.jsx(Button,{variant:"outline",className:"cursor-pointer",size:"icon","aria-label":"Cite this article",children:jsxRuntimeExports.jsx(Quote,{})})})}),jsxRuntimeExports.jsx(ArticleActionsDropdown,{children:jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",className:"cursor-pointer",children:jsxRuntimeExports.jsx(EllipsisVertical,{})})})]})}function CurvenoteLogo({size:t=24,fill:e="#235F9D",className:n}){return jsxRuntimeExports.jsx("svg",Object.assign({style:{width:t,height:t},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 400 400",stroke:"none",fill:e||"currentColor",className:n},{children:jsxRuntimeExports.jsxs("g",Object.assign({id:"icon"},{children:[jsxRuntimeExports.jsx("path",{d:`M389.8,304.2c0,47.2-38.2,85.5-85.5,85.6c-47.2,0-85.5-38.2-85.6-85.5c0-47.2,38.2-85.5,85.5-85.6c0,0,0,0,0,0
		C351.5,218.7,389.8,257,389.8,304.2z`}),jsxRuntimeExports.jsx("path",{d:"M10.2,218.8h171v171C86.7,389.8,10.2,313.2,10.2,218.8z"}),jsxRuntimeExports.jsx("path",{d:"M60.3,60.3c32-32.1,75.6-50.2,120.9-50.1v171.1h-171C10.1,135.8,28.1,92.3,60.3,60.3z"}),jsxRuntimeExports.jsx("path",{d:"M339.7,131.1c-32,32.1-75.6,50.2-120.9,50.1V10.2h171C389.9,55.5,371.8,99,339.7,131.1z"})]}))}))}const PART_IDS={skip_to_frontmatter:"skip-to-frontmatter",skip_to_content:"skip-to-content",skip_to_backmatter:"skip-to-backmatter",data_availability:"article-data-availability",license:"article-license",abbreviations:"article-abbreviations",bibliography:"article-bibliography",acknowledgements:"article-acknowledgements"};function useAbbreviations(){const t=useFrontmatter(),n=useReferences()?.article,i=Object.values(t?.parts??{}).map(c=>c.mdast).filter(Boolean),o={type:"page",children:[n,...i].filter(Boolean)},u=selectAll$1("abbreviation",o),l=Object.fromEntries(u.map(c=>[toText$1(c),c.title]));if(Object.keys(l).length!==0)return l}function Abbreviations({sorted:t=!0,className:e}){const n=useAbbreviations();if(!n)return null;const i=t?Object.entries(n).sort(([o],[u])=>o.localeCompare(u)):Object.entries(n);return jsxRuntimeExports.jsxs("section",{id:PART_IDS.abbreviations,className:cn$2("min-w-full prose dark:prose-invert prose-sm",e),children:[jsxRuntimeExports.jsxs("header",{className:"text-lg font-semibold text-stone-900 dark:text-white group",children:["Abbreviations",jsxRuntimeExports.jsx(HashLink,{id:PART_IDS.abbreviations,title:"Link to Abbreviations",hover:!0,className:"ml-2"})]}),jsxRuntimeExports.jsx("div",{className:cn$2("pl-3 mb-8 text-xs text-stone-500 dark:text-stone-300"),children:jsxRuntimeExports.jsx("dl",{className:"grid grid-cols-[auto_1fr] gap-x-6 gap-y-2",children:i.map(([o,u])=>jsxRuntimeExports.jsxs(React.Fragment,{children:[jsxRuntimeExports.jsx("dt",{className:"py-1 pt-0 m-0 mt-0 font-medium text-stone-900 dark:text-white",children:o}),jsxRuntimeExports.jsx("dd",{className:"flex items-center py-1 pt-0 m-0 mt-0 text-center text-stone-600 dark:text-stone-400",children:u})]},o))})})]})}function Bibliography({className:t,innerClassName:e,hideLongBibliography:n=15}){const i=useReferences(),{order:o,data:u}=i?.cite??{},l=o?.filter(m=>m),[c,f]=reactExports.useState(!0);if(!l||!u||l.length===0)return null;const d=c&&n?l.slice(0,n):l;return jsxRuntimeExports.jsxs("section",{id:PART_IDS.bibliography,className:cn(t),children:[jsxRuntimeExports.jsxs("div",{className:e,children:[!!n&&l.length>n&&jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>f(!c),className:"float-right text-xs",children:c?"Show All":"Collapse"}),jsxRuntimeExports.jsxs("header",{className:"text-lg font-semibold text-stone-900 dark:text-white group",children:["References",jsxRuntimeExports.jsx(HashLink,{id:PART_IDS.bibliography,title:"Link to References",hover:!0,className:"ml-2"})]})]}),jsxRuntimeExports.jsx("div",{className:cn("pl-3 mb-8 text-xs text-stone-500 dark:text-stone-300",e),children:jsxRuntimeExports.jsxs("ol",{children:[d.map(m=>{const{html:g}=u[m];return jsxRuntimeExports.jsx("li",{className:"break-words",id:`cite-${m}`,dangerouslySetInnerHTML:{__html:g||""}},m)}),!!n&&l.length>n&&jsxRuntimeExports.jsx("li",{className:"list-none text-center",children:jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>f(!c),className:"text-xs",children:c?`Show all ${l.length} references`:"Collapse references"})})]})})]})}function useFootnotes(){const t=useFrontmatter(),n=useReferences()?.article,i=Object.values(t?.parts??{}).map(c=>c.mdast).filter(Boolean),o={type:"page",children:[n,...i].filter(Boolean)},u=selectAll$1("footnoteDefinition",o),l=selectAll$1("footnoteReference",o);return u.length===0?null:{defs:u,refs:l}}function Footnotes({className:t}){const e=useFootnotes();return e?jsxRuntimeExports.jsxs("section",{id:"footnotes",className:cn$2("min-w-full prose dark:prose-invert prose-sm",t),children:[jsxRuntimeExports.jsxs("header",{className:"text-lg font-semibold text-stone-900 dark:text-white group",children:["Footnotes",jsxRuntimeExports.jsx(HashLink,{id:"footnotes",title:"Link to Footnotes",hover:!0,className:"ml-2"})]}),jsxRuntimeExports.jsx("div",{className:cn$2("pl-3 mb-8 text-xs text-stone-500 dark:text-stone-300"),children:jsxRuntimeExports.jsx("ol",{children:e.defs.map(n=>jsxRuntimeExports.jsx("li",{id:`fn-${n.identifier}`,className:"group",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-row",children:[jsxRuntimeExports.jsx("div",{className:"break-words grow",children:jsxRuntimeExports.jsx(MyST,{ast:n.children})}),jsxRuntimeExports.jsx("div",{className:"flex flex-col grow-0",children:e.refs.filter(i=>i.identifier===n.identifier).map(i=>jsxRuntimeExports.jsx(HashLink,{id:`fnref-${i.key}`,title:"Link to Content",hover:"desktop",className:"p-1",children:"",scrollBehavior:"instant"},i.key))})]})},n.key))})})]}):null}function useAcknowledgements(){const t=useFrontmatter(),e=useReferences(),n=copyNode(e?.article??{type:"root",children:[]});return extractKnownParts(n,t?.parts).acknowledgments}function Acknowledgements({className:t}){const e=useAcknowledgements();return e?jsxRuntimeExports.jsxs("section",{id:PART_IDS.acknowledgements,className:cn$2("min-w-full prose dark:prose-invert prose-sm",t),children:[jsxRuntimeExports.jsxs("header",{className:"text-lg font-semibold text-stone-900 dark:text-white group",children:["Acknowledgements",jsxRuntimeExports.jsx(HashLink,{id:PART_IDS.acknowledgements,title:"Link to Acknowledgements",hover:!0,className:"ml-2"})]}),jsxRuntimeExports.jsx("div",{className:cn$2("pl-3 mb-8 text-sm text-stone-500 dark:text-stone-300"),children:jsxRuntimeExports.jsx(MyST,{ast:e})})]}):null}function useDataAvailability(){const t=useFrontmatter(),e=useReferences(),n=copyNode(e?.article??{type:"root",children:[]});return extractKnownParts(n,t?.parts).data_availability}function DataAvailability({className:t}){const e=useDataAvailability();return e?jsxRuntimeExports.jsxs("section",{id:PART_IDS.data_availability,className:cn$2("min-w-full prose dark:prose-invert prose-sm",t),children:[jsxRuntimeExports.jsxs("header",{className:"text-lg font-semibold text-stone-900 dark:text-white group",children:["Data Availability",jsxRuntimeExports.jsx(HashLink,{id:PART_IDS.data_availability,title:"Link to Data Availability",hover:!0,className:"ml-2"})]}),jsxRuntimeExports.jsx("div",{className:cn$2("pl-3 mb-8 text-sm text-stone-500 dark:text-stone-300"),children:jsxRuntimeExports.jsx(MyST,{ast:e})})]}):null}function createCitation(t,e=!0,n){if(!t||t.length===0)return"the Authors";const i=l=>l.nameParsed?.family?l.nameParsed?.family:l.name?.split(" ").filter(Boolean).pop()||l.name,o=n?`, ${new Date(n).getUTCFullYear()}`:"",u=e?o:"";return t.length===1?i(t[0])+u:t.length===2?`${i(t[0])} & ${i(t[1])}${u}`:t.length>2?`${i(t[0])} et al.${u}`:"the Authors"}function getLicenseDetails(t,e){if(!t)return null;const n=t.toUpperCase(),i=e&&e>1?"creators":"creator";return n==="CC-BY-4.0"?`, which enables reusers to distribute, remix, adapt, and build upon the material in any medium or format, so long as attribution is given to the ${i}`:n==="CC-BY-NC-4.0"?`, which enables reusers to distribute, remix, adapt, and build upon the material in any medium or format for noncommercial purposes only, and only so long as attribution is given to the ${i}`:n==="CC-BY-NC-SA-4.0"?`, which enables reusers to distribute, remix, adapt, and build upon the material in any medium or format for noncommercial purposes only, and only so long as attribution is given to the ${i}. If you remix, adapt, or build upon the material, you must license the modified material under identical terms`:n==="CC-BY-ND-4.0"?`, which enables reusers to copy and distribute the material in any medium or format in unadapted form only, and only so long as attribution is given to the ${i}`:n==="CC-BY-NC-ND-4.0"?`, which enables reusers to copy and distribute the material in any medium or format in unadapted form only, for noncommercial purposes only, and only so long as attribution is given to the ${i}`:null}function LicenseDescription({className:t}){const e=useFrontmatter(),n=e?.license?.content;if(!n&&!e?.authors)return null;const i=e?.date?new Date(e.date).getFullYear():new Date().getFullYear(),o=createCitation(e?.authors,!1,e?.date),u=e?.authors?.length,l=getLicenseDetails(n?.id,u),c=e?.open_access===!0;return jsxRuntimeExports.jsxs("section",{id:PART_IDS.license,className:cn$2("min-w-full prose dark:prose-invert prose-sm",t),children:[jsxRuntimeExports.jsxs("header",{className:"text-lg font-semibold text-stone-900 dark:text-white group",children:["License",jsxRuntimeExports.jsx(HashLink,{id:PART_IDS.license,title:"Link to Article License",hover:!0,className:"ml-2"})]}),jsxRuntimeExports.jsx("div",{className:cn$2("pl-3 mb-8 text-xs text-stone-500 dark:text-stone-300"),children:jsxRuntimeExports.jsxs("p",{children:[e?.copyright?e.copyright:`Copyright  ${i} ${o}${o?.endsWith(".")?"":"."}`,n?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[" ","This"," ",c?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["is an"," ",jsxRuntimeExports.jsx("a",{href:"https://en.wikipedia.org/wiki/Open_access",target:"_blank",rel:"noopener noreferrer",children:"open-access article"})]}):"article is"," ","distributed under the terms of the"," ",n.url?jsxRuntimeExports.jsxs("a",{href:n.url,className:"underline hover:text-stone-700 dark:hover:text-stone-100",target:"_blank",rel:"noopener noreferrer",children:[n.name||n.id," license"]}):`${n.name||n.id} license`,l,"."]}):c?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:" This article is open-access."}):null]})})]})}function makeSkipClickHandler(t){return e=>{e.preventDefault();const n=document.querySelector(`#${t}`);n&&(n.nextSibling.focus(),history.replaceState(void 0,"",`#${t}`),n.tabIndex===-1&&(n.tabIndex=-1),n.scrollIntoView({behavior:"instant"}),n.focus())}}function createSkipToTargets(){return[{id:PART_IDS.skip_to_content,title:"Skip to content"},{id:PART_IDS.skip_to_frontmatter,title:"Skip to frontmatter"},{id:PART_IDS.skip_to_backmatter,title:"Skip to Backmatter"}]}const SkipTo=React.memo(({targets:t})=>jsxRuntimeExports.jsx("div",{className:"overflow-hidden fixed top-1 left-1 w-0 h-0 bg-white focus-within:z-100 focus-within:h-auto focus-within:w-auto focus-within:p-2 focus-within:ring-1 focus-within:ring-blue-500 focus-within:shadow-lg","aria-label":"skip to content options",children:t.map(({id:e,title:n})=>jsxRuntimeExports.jsx("a",{href:`#${e}`,className:"block px-2 py-1 text-black underline hover:text-blue-600 focus:text-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500",onClick:makeSkipClickHandler(e),children:n},e))}));function SkipToAnchor({id:t}){return jsxRuntimeExports.jsx("div",{id:t,className:"absolute w-0 h-0"})}function getTrees(t,e){return[t,...Object.values(e??{}).map(n=>n.mdast)].filter(Boolean)}function hasFootnotes(t){return t.some(e=>selectAll$1("footnoteReference",e).length>0)}function hasAbbreviations(t,e){return(Object.keys(t?.abbreviations??{}).length>0||e?.some(n=>selectAll$1("abbreviation",n).length>0))??!1}function hasBibliography(t){return Object.keys(t?.data??0).length>0}function useBackmatter({mdast:t,frontmatter:e}={}){const n=useReferences(),i=useFrontmatter(),o=t??n?.article,u=(e??i)?.parts,l=getTrees(o,u),c=hasFootnotes(l),f=hasAbbreviations(e,l),d=hasBibliography(n?.cite),m=copyNode(o||{type:"root",children:[]}),g=o?extractKnownParts(m,u):null,v=!!g?.acknowledgments,y=!!g?.data_availability;return c||f||d||v||y}function Backmatter(){const t=useDesign(),e=useBackmatter();return t.hide_backmatter||!e?null:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SkipToAnchor,{id:"skip-to-backmatter"}),!t.hide_acknowledgements&&jsxRuntimeExports.jsx(Acknowledgements,{}),!t.hide_data_availability&&jsxRuntimeExports.jsx(DataAvailability,{}),!t.hide_license_description&&jsxRuntimeExports.jsx(LicenseDescription,{}),!t.hide_footnotes&&jsxRuntimeExports.jsx(Footnotes,{}),!t.hide_abbreviation_list&&jsxRuntimeExports.jsx(Abbreviations,{}),!t.hide_bibliography&&jsxRuntimeExports.jsx(Bibliography,{})]})}function Affiliation({affiliations:t,affiliationId:e}){const n=t?.find(i=>i.id===e);return n?jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:n.name}):jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:e})}function AuthorPopover({author:t,affiliations:e,className:n}){const i=()=>{t.email&&(navigator.clipboard.writeText(t.email),toast.success("Email copied to clipboard"))},o=()=>{t.orcid&&(navigator.clipboard.writeText(t.orcid),toast.success("ORCID copied to clipboard"))};return jsxRuntimeExports.jsxs(Popover,{children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsx("button",{className:cn$2("cursor-pointer hover:underline text-[15px]",n),type:"button",children:t.nameParsed?`${t.nameParsed?.given} ${t.nameParsed?.family}`:t.name})}),jsxRuntimeExports.jsxs(PopoverContent,{className:"p-4 w-80",onOpenAutoFocus:u=>{u.preventDefault()},children:[jsxRuntimeExports.jsx("div",{className:"mb-1 text-base font-semibold",children:t.nameParsed?`${t.nameParsed?.given} ${t.nameParsed?.family}`:t.name}),t.email&&jsxRuntimeExports.jsxs("div",{className:"flex gap-1 items-center mb-1 text-xs text-muted-foreground",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Email:"})," ",jsxRuntimeExports.jsx("a",{href:`mailto:${t.email}`,target:"_blank",rel:"noopener noreferrer",className:"underline",children:t.email}),jsxRuntimeExports.jsx(SimpleTooltip,{title:"Copy email address",children:jsxRuntimeExports.jsx(Button,{onClick:i,variant:"ghost",size:"xs",children:jsxRuntimeExports.jsx(Copy,{})})})]}),t.orcid&&jsxRuntimeExports.jsxs("div",{className:"flex gap-1 items-center mb-1 text-xs text-muted-foreground",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"ORCID:"})," ",jsxRuntimeExports.jsx("a",{href:`https://orcid.org/${t.orcid}`,target:"_blank",rel:"noopener noreferrer",className:"underline",children:t.orcid}),jsxRuntimeExports.jsx(SimpleTooltip,{title:"Copy ORCID",children:jsxRuntimeExports.jsx(Button,{onClick:o,variant:"ghost",size:"xs",children:jsxRuntimeExports.jsx(Copy,{})})})]}),t.affiliations&&t.affiliations.length>0&&jsxRuntimeExports.jsxs("div",{className:"mb-1",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-medium",children:"Affiliations:"}),jsxRuntimeExports.jsx("div",{className:"ml-2 flex flex-col gap-0.5",children:t.affiliations.map(u=>jsxRuntimeExports.jsx(Affiliation,{affiliations:e,affiliationId:u},u))})]}),t.roles&&t.roles.length>0&&jsxRuntimeExports.jsxs("div",{className:"mt-2 text-xs",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Roles:"})," ",t.roles.join(", ")]}),jsxRuntimeExports.jsx(PopoverArrow,{className:"fill-gray-200"})]})]})}function transformHeaders(t){return t.map(e=>{const n=JSON.parse(JSON.stringify(e));return visit$1(n,"link",(i,o,u)=>{if(u&&o!==null)return u.children.splice(o,1,...i.children||[]),[void 0,o]}),n})}function DocumentOutline({mdast:t,maxdepth:e=3,className:n}){const[i,o]=reactExports.useState(null),u=reactExports.useRef(null);reactExports.useRef(null);const l=reactExports.useRef(null),[c,f]=reactExports.useState(void 0),[d,m]=reactExports.useState(!0),g=selectAll$1("heading",t),v=transformHeaders(g);return reactExports.useEffect(()=>{const y=()=>{const w=window.scrollY,T=window.innerHeight,P=document.documentElement.scrollHeight,A=w+T;if(w<T*.1){const D=v.find(k=>k.html_id);D?.html_id&&o(D.html_id);return}if(A>P-T*.2){const D=v[v.length-1];D?.html_id&&o(D.html_id);return}for(let D=v.length-1;D>=0;D--){const k=v[D];if(k.html_id){const j=document.getElementById(k.html_id);if(j&&j.getBoundingClientRect().top<=T*.2){o(k.html_id);break}}}};return y(),window.addEventListener("scroll",y,{passive:!0}),()=>{window.removeEventListener("scroll",y),u.current&&clearTimeout(u.current)}},[v]),reactExports.useEffect(()=>{const y=l.current;if(!y)return;const w=()=>{const P=y.getBoundingClientRect(),A=window.innerHeight,D=P.top,k=document.getElementById("bottom-of-article");let j;if(k){const R=k.getBoundingClientRect();j=R.top<A?R.top:A}else j=A;const B=j-D,Z=y.scrollHeight;if(m(R=>{const G=B>=50;return R!==G?G:R}),Z>B){const R=`${B}px`;f(G=>G!==R?R:G)}else f(R=>R!==void 0?void 0:R)},T=new IntersectionObserver(()=>{w()},{root:null,rootMargin:"0px 0px -10px 0px",threshold:0});return T.observe(y),window.addEventListener("scroll",w,{passive:!0}),window.addEventListener("resize",w,{passive:!0}),w(),()=>{T.disconnect(),window.removeEventListener("scroll",w),window.removeEventListener("resize",w)}},[]),!v||v.length<2?null:jsxRuntimeExports.jsxs("nav",{className:cn$2("relative space-y-2 font-sans not-prose transition-opacity",{"opacity-100":d,"opacity-0 pointer-events-none":!d},n),children:[jsxRuntimeExports.jsx("h3",{className:"mb-4 text-sm font-normal text-muted-foreground",children:"On this page"}),jsxRuntimeExports.jsx("ul",{ref:l,className:"space-y-1 border-l-1 overflow-y-auto",style:{maxHeight:c},children:v.filter(y=>y.depth<=e).map((y,w)=>{const T=y.depth,P=y.html_id,A=`${Math.max(1,T-1)*12}px`,D=i===P;return jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(Link$1,{to:`#${P}`,className:cn$2("block relative text-sm transition-colors","px-2 py-1 -ml-[2px]",D?"text-foreground border-primary border-l-3 bg-primary/2":"text-muted-foreground border-border","hover:underline"),style:{paddingLeft:A},onClick:k=>{k.preventDefault();const j=document.querySelector(`#${P}`);j&&(j.scrollIntoView({behavior:"smooth"}),history.replaceState(void 0,"",`#${P}`),j.tabIndex===-1&&(j.tabIndex=-1),j.focus({preventScroll:!0}))},children:jsxRuntimeExports.jsx(MyST,{ast:y.children})})},w)})})]})}function FooterLink({item:t,align:e,label:n}){const i=useBaseurl(),o=e==="left";return jsxRuntimeExports.jsxs(Link$1,{to:withBaseurl(t.url,i),className:`w-full block border border-muted rounded-sm p-4 hover:bg-accent transition-colors no-underline ${o?"":"text-right"}`,children:[jsxRuntimeExports.jsxs("div",{className:`text-muted-foreground flex items-center gap-1 text-sm font-light mb-1 ${o?"":"justify-end"}`,children:[o&&jsxRuntimeExports.jsx(ChevronLeft,{size:16}),jsxRuntimeExports.jsx("span",{children:n}),!o&&jsxRuntimeExports.jsx(ChevronRight,{size:16})]}),jsxRuntimeExports.jsx("div",{className:"text-sm font-normal",children:t.short_title||t.title})]})}function FooterLinks({navigation:t}){if(useDesign().hide_footer_links||!t)return null;const n=!!t.prev,i=!!t.next,o=n&&i;return jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-4 mt-12 mb-4 sm:flex-row",children:[t.prev&&jsxRuntimeExports.jsx("div",{className:cn$2("flex w-full",{"sm:w-1/2":o}),children:jsxRuntimeExports.jsx(FooterLink,{item:t.prev,align:"left",label:"Previous"})}),t.next&&jsxRuntimeExports.jsx("div",{className:cn$2("flex w-full",{"sm:w-1/2":o}),children:jsxRuntimeExports.jsx(FooterLink,{item:t.next,align:"right",label:"Next"})})]})}function Frontmatter({title:t,subtitle:e}){return jsxRuntimeExports.jsxs("div",{children:[t&&jsxRuntimeExports.jsx("h1",{className:cn$2({"mb-4":e}),children:t}),e&&jsxRuntimeExports.jsx("div",{className:"text-muted-foreground text-lg mb-10",children:e})]})}function DateString({date:t,format:e={year:"numeric",month:"long",day:"numeric"},spacer:n,className:i}){if(!t)return null;const o=new Date(t),l=new Date(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()).toLocaleDateString("en-US",e);return jsxRuntimeExports.jsx("time",{dateTime:t,className:cn$2(i,{"text-spacer":n}),children:l})}function OpenAccessBadge({open_access:t}){return t?jsxRuntimeExports.jsx(HashLink,{id:PART_IDS.license,title:"Open Access",hover:!1,scrollBehavior:"instant",className:"text-inherit hover:text-inherit",children:jsxRuntimeExports.jsx(ForwardRef$6,{width:"1.25rem",height:"1.25rem",className:"inline-block opacity-60 hover:opacity-100 hover:text-[#E18435]"})}):null}function OrcidBadge({orcid:t,className:e}){return t?jsxRuntimeExports.jsx(SimpleTooltip,{title:"Open ORCID Profile",children:jsxRuntimeExports.jsx("a",{href:`https://orcid.org/${t}`,target:"_blank",rel:"noopener noreferrer",title:"ORCID",className:cn$2("text-inherit hover:text-inherit",e),children:jsxRuntimeExports.jsx(ForwardRef$5,{width:"1.25rem",height:"1.25rem",className:"inline-block opacity-60 hover:opacity-100 hover:text-[#A6CE39]"})})}):null}function DoiLink({doi:t,spacer:e}){if(!t)return null;const n=t.replace(/^(https?:\/\/)?(dx\.)?doi\.org\//,""),i=`https://doi.org/${n}`;return jsxRuntimeExports.jsx("a",{href:`https://doi.org/${n}`,target:"_blank",rel:"noopener noreferrer",className:cn$2("font-light hover:underline text-muted-foreground hover:text-foreground",{"text-spacer":e}),children:i})}function EmailLink({email:t}){return t?jsxRuntimeExports.jsx(SimpleTooltip,{title:"Email corresponding author",children:jsxRuntimeExports.jsx("a",{href:`mailto:${t}`,target:"_blank",rel:"noopener noreferrer",children:jsxRuntimeExports.jsx(Mail,{className:"inline-block ml-1 size-4 text-muted-foreground","aria-label":"Corresponding author"})})}):null}function CreativeCommonsBadge({license:t,preamble:e="",className:n}){if(!t.id)return null;const i=/^([CBYSAND0-]+)(?:(?:-)([0-9].[0-9]))?$/.exec(t.id);if(!t.CC||!i)return null;const o=`${e}${t.name??t.title} (${t.id})`,u=i[1].toUpperCase();return jsxRuntimeExports.jsxs(HashLink,{id:PART_IDS.license,title:o,hover:!1,className:cn$2("opacity-50 hover:opacity-100 text-inherit hover:text-inherit",n),"aria-label":o,scrollBehavior:"instant",children:[jsxRuntimeExports.jsx(ForwardRef$b,{width:"1.25rem",height:"1.25rem",className:"inline-block mx-1",title:o}),(u.startsWith("CC0")||u.startsWith("CC-0")||u.includes("ZERO"))&&jsxRuntimeExports.jsx(ForwardRef$c,{width:"1.25rem",height:"1.25rem",className:"inline-block mr-1",title:"CC0: Work is in the worldwide public domain"}),u.includes("BY")&&jsxRuntimeExports.jsx(ForwardRef$g,{width:"1.25rem",height:"1.25rem",className:"inline-block mr-1",title:"Credit must be given to the creator"}),u.includes("NC")&&jsxRuntimeExports.jsx(ForwardRef$f,{width:"1.25rem",height:"1.25rem",className:"inline-block mr-1",title:"Only noncommercial uses of the work are permitted"}),u.includes("SA")&&jsxRuntimeExports.jsx(ForwardRef$d,{width:"1.25rem",height:"1.25rem",className:"inline-block mr-1",title:"Adaptations must be shared under the same terms"}),u.includes("ND")&&jsxRuntimeExports.jsx(ForwardRef$e,{width:"1.25rem",height:"1.25rem",className:"inline-block mr-1",title:"No derivatives or adaptations of the work are permitted"})]})}function SingleLicenseBadge({license:t,preamble:e="",className:n}){if(!t)return null;const i=typeof t=="string"?{name:"",url:"",id:t}:t;return!i||Object.keys(i).length===0?null:i.CC?jsxRuntimeExports.jsx(CreativeCommonsBadge,{license:i,preamble:e,className:n}):jsxRuntimeExports.jsxs(HashLink,{id:PART_IDS.license,title:`${e}${i.name??i.title} (${i.id})`,hover:!1,className:"text-inherit hover:text-inherit",scrollBehavior:"instant",children:[!i.osi&&jsxRuntimeExports.jsx(Scale,{width:"1.25rem",height:"1.25rem",className:cn$2("inline-block mx-1 opacity-60 hover:opacity-100",n)}),i.osi&&jsxRuntimeExports.jsx(ForwardRef$4,{width:"1.25rem",height:"1.25rem",className:cn$2("mx-1 inline-block opacity-60 hover:opacity-100 hover:text-[#599F46]",n)})]})}function LicenseBadges({license:t,className:e}){return t?typeof t!="string"&&("code"in t||"content"in t)?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SingleLicenseBadge,{license:t.content,preamble:"Content License: ",className:e}),jsxRuntimeExports.jsx(SingleLicenseBadge,{license:t.code,preamble:"Code License: ",className:e})]}):jsxRuntimeExports.jsx(SingleLicenseBadge,{license:t,className:e}):null}function useThemeSwitcher(){const{theme:t,setTheme:e,resolvedTheme:n}=z(),[i,o]=reactExports.useState(!1);return reactExports.useEffect(()=>{o(!0)},[]),{theme:i?n:"light",nextTheme:()=>{e(n==="dark"?"light":"dark")},setTheme:e}}function ThemeButton(){const{theme:t,nextTheme:e}=useThemeSwitcher();return jsxRuntimeExports.jsx(SimpleTooltip,{title:"Toggle Theme",children:jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"icon",onClick:e,"aria-label":`Switch to ${t==="dark"?"light":"dark"} theme`,children:t==="dark"?jsxRuntimeExports.jsx(Sun,{className:"m-auto w-4 h-4"}):jsxRuntimeExports.jsx(Moon,{className:"m-auto w-4 h-4"})})})}function useImageLoad({src:t,showPlaceholder:e=!0,minDelay:n=0}){const[i,o]=reactExports.useState(!1),[u,l]=reactExports.useState(e),c=reactExports.useRef(null),f=reactExports.useRef(Date.now()),d=()=>{const m=Date.now()-f.current,g=Math.max(0,n-m);g>0?setTimeout(()=>{o(!0),l(!1)},g):(o(!0),l(!1))};return reactExports.useEffect(()=>{o(!1),l(e),f.current=Date.now(),c.current&&c.current.naturalWidth!==0&&setTimeout(()=>{o(!0),l(!1)},n)},[t,e,n]),{imageLoaded:i,showPlaceholder:u,imgRef:c,handleImageLoad:d}}function useHydrated(){const[t,e]=reactExports.useState(!1);return reactExports.useEffect(()=>e(!0),[]),t}function ArticleCard({to:t,article:e,showThumbnails:n,showAuthors:i,showDoi:o=!1,showDate:u=!1}){const{imageLoaded:l,showPlaceholder:c,imgRef:f,handleImageLoad:d}=useImageLoad({src:e.links?.thumbnail||"",minDelay:300});return jsxRuntimeExports.jsx(Link$1,{to:t,className:"block no-underline group hover:no-underline",prefetch:"intent",children:jsxRuntimeExports.jsx("article",{className:"overflow-hidden font-sans rounded-sm border transition-shadow border-gray-200/50 hover:shadow-md not-prose",children:jsxRuntimeExports.jsxs("div",{className:"flex",children:[n&&e.links?.thumbnail&&jsxRuntimeExports.jsxs("div",{className:"hidden relative w-40 shrink-0 sm:block lg:w-50 xl:w-60",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-center bg-no-repeat bg-cover transition-opacity duration-750",style:{backgroundImage:l?`url(${e.links.thumbnail})`:"none",opacity:l?1:0}}),c&&jsxRuntimeExports.jsx("div",{className:"flex relative justify-center items-center h-full bg-gray-100 dark:bg-gray-800",children:jsxRuntimeExports.jsx(ForwardRef$a,{className:"fill-gray-200 dark:fill-gray-900",height:60,width:60})}),jsxRuntimeExports.jsx("img",{ref:f,src:e.links.thumbnail,className:"hidden",onLoad:d})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 p-6 min-w-0",children:[jsxRuntimeExports.jsx("div",{className:"mb-2 text-lg text-foreground",children:jsxRuntimeExports.jsx("span",{className:"transition-colors group-hover:text-blue-800 dark:group-hover:text-blue-500",children:e.title})}),e.description&&jsxRuntimeExports.jsx("p",{className:"mb-3 text-sm font-light text-muted-foreground line-clamp-2",children:e.description}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 items-center text-xs font-light text-muted-foreground",children:[i&&e.authors&&e.authors.length>0&&jsxRuntimeExports.jsx("div",{className:"flex items-center",children:jsxRuntimeExports.jsx("span",{children:e.authors.length<=3?e.authors.map((m,g)=>jsxRuntimeExports.jsxs("span",{children:[m.name,g<(e.authors?.length??0)-1?g===(e.authors?.length??0)-2?`${(e.authors?.length??0)>2?",":""} and `:", ":""]},g)):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[e.authors.slice(0,3).map(m=>m.name).join(", ")," et al."]})})}),u&&e.date&&jsxRuntimeExports.jsx("div",{className:"flex items-center",children:jsxRuntimeExports.jsx("span",{children:new Date(e.date).toLocaleDateString()})}),o&&e.doi&&jsxRuntimeExports.jsx("div",{className:"flex items-center",children:jsxRuntimeExports.jsx("span",{children:buildUrl(e.doi)})})]})]})]})})})}function AuthorsPopoverList({authors:t=[],affiliations:e=[]}){return jsxRuntimeExports.jsx("div",{className:"flex flex-row flex-wrap gap-x-2",children:t.map((n,i)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx(AuthorPopover,{author:n,affiliations:e}),n.corresponding&&jsxRuntimeExports.jsx(EmailLink,{email:n.email}),n.orcid&&jsxRuntimeExports.jsx(OrcidBadge,{orcid:n.orcid,className:"ml-1"}),i<t.length-1&&jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:","})]},n.orcid||n.email||i))})}function AuthorsList({source:t="article"}){const e=useProjectManifest(),n=useFrontmatter(),i=t==="project"?e:n;return!i?.authors||!Array.isArray(i?.authors)||i?.authors.length==0?null:jsxRuntimeExports.jsx(AuthorsPopoverList,{authors:i.authors,affiliations:i.affiliations})}function ArticleBar({source:t="article",sticky:e}){const n=useProjectManifest(),i=useFrontmatter(),o=t==="project"?n:i;return jsxRuntimeExports.jsx("div",{className:cn("my-4 pointer-events-none",{"sticky top-0 pb-4":e==="top","sticky bottom-0 pt-4":e==="bottom",'before:absolute before:top-0 before:left-0 before:w-full before:h-4 before:pointer-events-none before:z-[-1] before:content-[""] before:bg-gradient-to-t before:from-background before:to-transparent':e==="bottom"}),children:jsxRuntimeExports.jsxs("div",{className:cn("bg-background flex flex-col items-center py-3 sm:flex-row border-y border-border","pointer-events-auto"),children:[jsxRuntimeExports.jsx("div",{className:"flex flex-col flex-1 gap-1",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-1 items-center mb-2 font-sans text-sm text-muted-foreground",children:[o?.date&&jsxRuntimeExports.jsx(DateString,{date:o?.date,spacer:!!o?.doi}),o?.doi&&jsxRuntimeExports.jsx(DoiLink,{doi:o?.doi}),jsxRuntimeExports.jsx(LicenseBadges,{license:o?.license}),jsxRuntimeExports.jsx(OpenAccessBadge,{open_access:o?.open_access})]})}),jsxRuntimeExports.jsx(ArticleActions,{})]})})}const linkCardVariants=cva("overflow-hidden rounded hover-card-content",{variants:{variant:{default:"bg-white rounded border border-gray-200"},size:{default:"w-[300px] sm:max-w-[500px]",lg:"max-w-[600px] sm:max-w-[600px]"}},defaultVariants:{variant:"default",size:"default"}});function LinkCard({url:t,title:e,internal:n=!1,loading:i=!1,description:o,thumbnail:u,variant:l,size:c}){const f=useLinkProvider(),d=useBaseurl(),m=n?withBaseurl(t,d):t;return jsxRuntimeExports.jsxs("div",{className:cn$2(linkCardVariants({variant:l,size:c}),{"animate-pulse":i}),children:[jsxRuntimeExports.jsxs("div",{className:"group",children:[!i&&u&&jsxRuntimeExports.jsx(f,{to:m,prefetch:n?"intent":"none",target:n?"_self":"_blank",className:"block overflow-hidden h-[150px] border-b border-gray-200",children:jsxRuntimeExports.jsx("img",{src:u,className:"w-full h-[150px] object-cover object-center object-middle m-0 border-b border-gray-200 transition-transform duration-500 ease-in-out group-hover:scale-125"})}),i&&jsxRuntimeExports.jsx("div",{className:"animate-pulse bg-slate-100 dark:bg-slate-800 w-full h-[150px]"}),n&&jsxRuntimeExports.jsx(f,{to:m,className:"block px-3 mt-3 text-sm font-bold text-black hover:underline",prefetch:"intent",children:e}),!n&&jsxRuntimeExports.jsxs("a",{href:m,className:"block px-3 py-2 text-sm font-bold text-black bg-gray-100 border-b border-gray-200 hover:underline",target:"_blank",rel:"noreferrer",children:[jsxRuntimeExports.jsx(ExternalLink$1,{width:"1rem",height:"1rem",className:"float-right"}),e]})]}),!i&&o&&jsxRuntimeExports.jsx("div",{className:"p-3 max-w-none text-sm prose",children:o})]})}function useParallaxEffect(){const[t,e]=reactExports.useState(0);return reactExports.useEffect(()=>{const n=()=>{const i=window.scrollY,u=Math.min(i*.5,300);e(u)};return window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}},[]),t}function Banner({banner:t,bannerOptimized:e,inset:n=!1,thin:i=!1}){const o=useParallaxEffect(),{imageLoaded:u,imgRef:l,handleImageLoad:c}=useImageLoad({src:e??t??"",showPlaceholder:!1,minDelay:100}),f="duration-500";return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[t&&jsxRuntimeExports.jsx("div",{className:cn("col-screen z-[-1] overflow-hidden",{"h-[300px]":!i,"mb-[-200px]":n&&!i,"h-[100px]":i,"mb-[-50px]":n&&i,"mb-8":!n}),children:jsxRuntimeExports.jsx("img",{ref:l,src:e??t,className:cn("mt-0 mb-0 object-cover object-center w-full h-full transition-[opacity,filter]",f,{"opacity-0 grayscale":!u,"opacity-100 grayscale-0":u}),style:{transform:`translateY(${o}px)`},onLoad:c})}),t&&n&&jsxRuntimeExports.jsxs("div",{className:"col-body-outset h-0 mb-8",children:[jsxRuntimeExports.jsx("div",{className:cn("overflow-hidden transition-shadow pointer-events-none h-[200px] mb-[-200px] dark:shadow-accent-foreground lg:rounded-t",f,{"shadow-2xl":u})}),jsxRuntimeExports.jsx("div",{className:cn("overflow-hidden bg-background pointer-events-none h-[300px] lg:rounded-t")})]})]})}const SIDEBAR_COOKIE_NAME="sidebar_state",SIDEBAR_COOKIE_MAX_AGE=3600*24*7,SIDEBAR_WIDTH="16rem",SIDEBAR_WIDTH_MOBILE="18rem",SIDEBAR_WIDTH_ICON="3rem",SIDEBAR_KEYBOARD_SHORTCUT="b",SidebarContext=reactExports.createContext(null);function useSidebar(){return reactExports.useContext(SidebarContext)}function SidebarProvider({defaultOpen:t=!0,open:e,onOpenChange:n,className:i,style:o,children:u,...l}){const c=useIsMobile(),[f,d]=reactExports.useState(!1),[m,g]=reactExports.useState(t),v=e??m,y=reactExports.useCallback(A=>{const D=typeof A=="function"?A(v):A;n?n(D):g(D),document.cookie=`${SIDEBAR_COOKIE_NAME}=${D}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`},[n,v]),w=reactExports.useCallback(()=>c?d(A=>!A):y(A=>!A),[c,y,d]);reactExports.useEffect(()=>{const A=D=>{D.key===SIDEBAR_KEYBOARD_SHORTCUT&&(D.metaKey||D.ctrlKey)&&(D.preventDefault(),w())};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[w]);const T=v?"expanded":"collapsed",P=reactExports.useMemo(()=>({state:T,open:v,setOpen:y,isMobile:c,openMobile:f,setOpenMobile:d,toggleSidebar:w}),[T,v,y,c,f,d,w]);return jsxRuntimeExports.jsx(SidebarContext.Provider,{value:P,children:jsxRuntimeExports.jsx(TooltipProvider,{delayDuration:0,children:jsxRuntimeExports.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":SIDEBAR_WIDTH,"--sidebar-width-icon":SIDEBAR_WIDTH_ICON,...o},className:cn$2("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",i),...l,children:u})})})}function Sidebar({side:t="left",variant:e="sidebar",collapsible:n="offcanvas",className:i,children:o,...u}){const{isMobile:l,state:c,openMobile:f,setOpenMobile:d}=useSidebar()??{};return n==="none"?jsxRuntimeExports.jsx("div",{"data-slot":"sidebar",className:cn$2("flex flex-col h-full bg-sidebar text-sidebar-foreground w-(--sidebar-width)",i),...u,children:o}):l?jsxRuntimeExports.jsx(Sheet,{open:f,onOpenChange:d,...u,children:jsxRuntimeExports.jsxs(SheetContent,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":SIDEBAR_WIDTH_MOBILE},side:t,children:[jsxRuntimeExports.jsxs(SheetHeader,{className:"sr-only",children:[jsxRuntimeExports.jsx(SheetTitle,{children:"Sidebar"}),jsxRuntimeExports.jsx(SheetDescription,{children:"Displays the mobile sidebar."})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-col w-full h-full",children:o})]})}):jsxRuntimeExports.jsxs("div",{className:"hidden group peer text-sidebar-foreground md:block","data-state":c,"data-collapsible":c==="collapsed"?n:"","data-variant":e,"data-side":t,"data-slot":"sidebar",children:[jsxRuntimeExports.jsx("div",{"data-slot":"sidebar-gap",className:cn$2("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),jsxRuntimeExports.jsx("div",{"data-slot":"sidebar-container",className:cn$2("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",i),...u,children:jsxRuntimeExports.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:o})})]})}function SidebarInset({className:t,...e}){return jsxRuntimeExports.jsx("main",{"data-slot":"sidebar-inset",className:cn$2("bg-background relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",t),...e})}function SidebarHeader({className:t,...e}){return jsxRuntimeExports.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:cn$2("flex flex-col gap-2 p-2",t),...e})}function SidebarFooter({className:t,...e}){return jsxRuntimeExports.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:cn$2("flex flex-col gap-2 p-2",t),...e})}function SidebarContent({className:t,...e}){return jsxRuntimeExports.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:cn$2("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e})}function SidebarGroup({className:t,...e}){return jsxRuntimeExports.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:cn$2("flex relative flex-col p-2 w-full min-w-0",t),...e})}function SidebarGroupLabel({className:t,asChild:e=!1,...n}){const i=e?Slot$3:"div";return jsxRuntimeExports.jsx(i,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:cn$2("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...n})}function SidebarGroupContent({className:t,...e}){return jsxRuntimeExports.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:cn$2("w-full text-sm",t),...e})}function SidebarMenu({className:t,...e}){return jsxRuntimeExports.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:cn$2("flex flex-col gap-1 w-full min-w-0",t),...e})}function SidebarMenuItem({className:t,...e}){return jsxRuntimeExports.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:cn$2("relative group/menu-item",t),...e})}const sidebarMenuButtonVariants=cva("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function SidebarMenuButton({asChild:t=!1,isActive:e=!1,variant:n="default",size:i="default",tooltip:o,className:u,...l}){const c=t?Slot$3:"button",{isMobile:f,state:d}=useSidebar()??{},m=jsxRuntimeExports.jsx(c,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":i,"data-active":e,className:cn$2(sidebarMenuButtonVariants({variant:n,size:i}),u),...l});return o?(typeof o=="string"&&(o={children:o}),jsxRuntimeExports.jsxs(Tooltip$1,{children:[jsxRuntimeExports.jsx(TooltipTrigger,{asChild:!0,children:m}),jsxRuntimeExports.jsx(TooltipContent,{side:"right",align:"center",hidden:d!=="collapsed"||f,...o})]})):m}const icons={notebook:Notebook,notebooks:Notebook,"supporting notebooks":Notebook};function buildNestedStructure(t,e){const n=[],i=[];return t.forEach(o=>{const u={title:o.short_title||o.title,slug:o.slug,url:o.slug?`${e}/${o.slug.replace(/\.index$/,"").replace(/\./g,"/")}`:void 0,icon:icons[(o.short_title||o.title).toLowerCase()]};if(o.level===1)n.push(u),i.length=0,i.push(u);else{for(;i.length>0&&i.length>=o.level;)i.pop();i.length>0?(i[i.length-1].children||(i[i.length-1].children=[]),i[i.length-1].children.push(u),i.push(u)):(n.push(u),i.push(u))}}),n}function containsCurrentPage(t,e){return e?t.slug===e?!0:t.children?t.children.some(n=>containsCurrentPage(n,e)):!1:!1}function SidebarItemComponent({item:t,currentPage:e,depth:n=0}){const i=useLocation(),o=useNavigation(),u=reactExports.useMemo(()=>o.state==="loading",[o.state]),l=useHydrated(),c=containsCurrentPage(t,e),[f,d]=reactExports.useState(c);return reactExports.useEffect(()=>{!u&&!containsCurrentPage(t,e)?d(!1):!u&&containsCurrentPage(t,e)&&d(!0)},[i.pathname,u,t,e]),t.children&&t.children.length>0?jsxRuntimeExports.jsx(Collapsible,{open:f,onOpenChange:d,className:"group/collapsible",children:jsxRuntimeExports.jsxs(SidebarMenuItem,{children:[jsxRuntimeExports.jsx(CollapsibleTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs("div",{className:cn$2("flex w-full items-center rounded-md p-2 gap-2 text-sm outline-hidden","hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground","disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50","group-has-data-[sidebar=menu-action]/menu-item:pr-8","data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground","cursor-pointer","font-normal [&>svg]:opacity-50"),children:[t.url&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(NavLink,{to:t.url,end:!0,className:({isActive:m})=>`flex items-center gap-2 w-full ${m?"font-bold":""}`,prefetch:"intent",children:[t.icon&&jsxRuntimeExports.jsx(t.icon,{className:"shrink-0 size-4"}),jsxRuntimeExports.jsx("div",{children:t.title})]}),jsxRuntimeExports.jsx(ChevronRight,{className:cn$2("ml-auto transition-transform duration-200 chevron shrink-0",{"rotate-90":f}),size:16})]}),!t.url&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[t.icon&&jsxRuntimeExports.jsx(t.icon,{className:"shrink-0 size-4"}),jsxRuntimeExports.jsx("div",{children:t.title}),jsxRuntimeExports.jsx(ChevronRight,{className:cn$2("ml-auto transition-transform duration-200 chevron shrink-0",{"rotate-90":f}),size:16})]})]})}),jsxRuntimeExports.jsx(CollapsibleContent,{className:cn$2("sidebar-submenu-content overflow-hidden",{"data-[state=closed]:animate-collapsible-up data-[state=open]:animate-collapsible-down duration-200":l}),children:jsxRuntimeExports.jsx(SidebarMenu,{children:t.children.map(m=>jsxRuntimeExports.jsx(SidebarItemComponent,{item:m,currentPage:e,depth:n+1},m.title))})})]})},t.title):jsxRuntimeExports.jsx(SidebarMenuItem,{children:jsxRuntimeExports.jsx("div",{className:cn$2("flex gap-2 items-center w-full text-sm outline-hidden"),"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":"default",children:jsxRuntimeExports.jsxs(NavLink,{to:t.url,end:!0,className:({isActive:m})=>cn$2("p-2 rounded-md flex items-center gap-2 w-full","hover:bg-sidebar-accent hover:text-sidebar-accent-foreground","disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50","group-has-data-[sidebar=menu-action]/menu-item:pr-8","data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground",{"font-semibold [&>svg]:opacity-100 bg-sidebar-accent":m},{"font-normal [&>svg]:opacity-50":!m}),prefetch:"intent",children:[n===0&&t.icon&&jsxRuntimeExports.jsx(t.icon,{className:"shrink-0 size-4"}),jsxRuntimeExports.jsx("div",{children:t.title})]})})},t.title)}function AppSidebar(){const e=usePage().slug,n=useProjectManifest(),i=useBaseurl()??"",o=reactExports.useMemo(()=>n?.pages?buildNestedStructure(n.pages,i):[],[n]),{title:u,authors:l,date:c}=n??{},f=getYear(c);return jsxRuntimeExports.jsxs(Sidebar,{className:"top-(--header-height) h-[calc(100svh-var(--header-height))]!",children:[jsxRuntimeExports.jsx(SidebarHeader,{children:jsxRuntimeExports.jsx(SidebarMenu,{children:jsxRuntimeExports.jsx(SidebarMenuItem,{children:jsxRuntimeExports.jsx(SidebarMenuButton,{size:"lg",asChild:!0,children:jsxRuntimeExports.jsxs(Link$1,{to:i||"/",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center rounded-lg bg-sidebar-primary text-sidebar-primary-foreground aspect-square size-8",children:jsxRuntimeExports.jsx(House,{className:"size-4"})}),jsxRuntimeExports.jsxs("div",{className:"grid flex-1 text-sm leading-tight text-left",children:[jsxRuntimeExports.jsx("span",{className:"font-medium truncate",children:u}),l&&jsxRuntimeExports.jsxs("div",{className:"flex overflow-hidden gap-1 items-center",children:[jsxRuntimeExports.jsxs("div",{className:"text-xs truncate",children:[l.map(d=>d.nameParsed?.family).slice(0,3).join(", ")," "]}),f&&jsxRuntimeExports.jsxs("div",{className:"text-xs truncate shrink-0",children:["(",f,")"]})]})]})]})})})})}),jsxRuntimeExports.jsx(SidebarContent,{children:jsxRuntimeExports.jsxs(SidebarGroup,{children:[jsxRuntimeExports.jsx(SidebarGroupLabel,{children:"Pages"}),jsxRuntimeExports.jsx(SidebarGroupContent,{children:jsxRuntimeExports.jsx(SidebarMenu,{children:o.map(d=>jsxRuntimeExports.jsx(SidebarItemComponent,{item:d,currentPage:e},d.title))})})]})}),jsxRuntimeExports.jsx(SidebarFooter,{className:"border-t",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2 pl-2 opacity-80 grayscale hover:grayscale-0 hover:opacity-100",children:[jsxRuntimeExports.jsxs("a",{href:"https://curvenote.com",target:"_blank",rel:"noopener noreferrer",className:"flex gap-2 items-center my-1 text-xs transition-all duration-300 text-sidebar-secondary-foreground grow",children:[jsxRuntimeExports.jsx(CurvenoteLogo,{size:16}),jsxRuntimeExports.jsx("span",{children:"Powered by Curvenote"})]}),jsxRuntimeExports.jsx("div",{className:"flex-0",children:jsxRuntimeExports.jsx(ThemeButton,{})})]})})]})}function useLoading(){const t=useNavigation().state,e=reactExports.useMemo(()=>({}),[]),[n,i]=reactExports.useState(!1);return reactExports.useEffect(()=>{if(t==="loading")e.start=setTimeout(()=>{i(!0)},150);else{if(e.start){clearTimeout(e.start),delete e.start,i(!1);return}e.finish=setTimeout(()=>{i(!1)},150)}return()=>{e.start&&(clearTimeout(e.start),delete e.start),e.finish&&(clearTimeout(e.finish),delete e.finish)}},[t]),{showLoading:n,isLoading:t==="loading"}}function LoadingBar({align:t="bottom",className:e}){const{isLoading:n,showLoading:i}=useLoading();return i?jsxRuntimeExports.jsx("div",{className:cn$2("absolute left-0 w-screen bg-blue-500 transition-transform origin-left h-[2px]",{"bottom-0":t==="bottom","top-0":t==="top","animate-load scale-x-40":n,"scale-x-100":!n},e)}):null}function HeaderContainer({brandBar:t,children:e}){return jsxRuntimeExports.jsx("header",{className:"fixed top-0 z-50 w-full border-b bg-background",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center",children:[t&&jsxRuntimeExports.jsx("div",{className:"w-full shrink-0",children:t}),e,jsxRuntimeExports.jsx(LoadingBar,{})]})})}function NavigationItem({item:t}){return t.children&&t.children.length>0?jsxRuntimeExports.jsxs(DropdownMenu,{children:[jsxRuntimeExports.jsx(DropdownMenuTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",className:"text-sm font-medium",children:[t.title,jsxRuntimeExports.jsx(ChevronDown,{className:"w-3 h-3"})]})}),jsxRuntimeExports.jsx(DropdownMenuContent,{align:"end",children:t.children.map(e=>jsxRuntimeExports.jsx(DropdownMenuItem,{children:jsxRuntimeExports.jsx(NavigationItem,{item:e})},e.title))})]},t.title):t.internal===!1?jsxRuntimeExports.jsx(Button,{variant:"ghost",asChild:!0,children:jsxRuntimeExports.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-sm font-medium transition-colors hover:text-primary",children:[t.title,jsxRuntimeExports.jsx(ExternalLink$1,{className:"ml-1 w-3 h-3"})]})},t.title):jsxRuntimeExports.jsx(NavLink,{to:t.url,className:({isActive:e})=>cn$2(buttonVariants({variant:"ghost"}),"text-sm font-medium transition-colors hover:text-primary",e&&"text-primary font-semibold"),children:t.title},t.title)}function MobileNavigationItem({item:t,closeMobileMenu:e}){return t.children&&t.children.length>0?jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"px-3 py-1 text-sm font-medium text-muted-foreground",children:t.title}),t.children.map(n=>jsxRuntimeExports.jsx("div",{children:n.internal===!1?jsxRuntimeExports.jsxs("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"block items-center px-6 py-2 text-sm font-medium transition-colors hover:text-primary hover:bg-muted",onClick:e,children:[n.title,jsxRuntimeExports.jsx(ExternalLink$1,{className:"ml-2 w-3 h-3"})]}):jsxRuntimeExports.jsx(NavLink,{to:n.url,className:({isActive:i})=>cn$2("text-sm font-medium transition-colors hover:text-primary py-2 px-6 hover:bg-muted block",i&&"text-primary font-semibold bg-muted"),onClick:e,children:n.title})},n.title))]},t.title):t.internal===!1?jsxRuntimeExports.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"flex flex-row items-center px-3 py-2 text-sm font-medium transition-colors hover:text-primary hover:bg-muted",onClick:e,children:[t.title,jsxRuntimeExports.jsx(ExternalLink$1,{className:"ml-1 w-3 h-3"})]},t.title):jsxRuntimeExports.jsx(NavLink,{to:t.url,className:({isActive:n})=>cn$2("text-sm font-medium transition-colors hover:text-primary py-2 px-3 hover:bg-muted block",n&&"text-primary font-semibold bg-muted"),onClick:e,children:t.title},t.title)}function SiteHeader({showSearch:t=!1,showBreadcrumbs:e,showArticleActions:n,showMobileMenu:i=!0,brandBar:o}){const{toggleSidebar:u}=useSidebar()??{},[l,c]=reactExports.useState(!1),f=usePlatformSite(),d=usePlatformConfig(),m=useProjectManifest(),g=useFrontmatter(),v=useBaseurl()??"/",{nav:y,actions:w}=d??{nav:[],actions:[]},T=(y?.length??0)<5,P=(y?.length??0)>=5,A=f?.logo||d?.options?.logo,D=d?.options?.logo_text,k=f?.title||d?.title;return jsxRuntimeExports.jsx(HeaderContainer,{brandBar:o,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center px-2 w-full h-14",children:[jsxRuntimeExports.jsxs("div",{className:cn$2("flex gap-2 items-center h-full",{"md:w-[200px]":!e}),children:[u&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{className:"w-8 h-8",variant:"ghost",size:"icon",onClick:u,children:jsxRuntimeExports.jsx(PanelLeft,{})}),jsxRuntimeExports.jsx(Separator,{orientation:"vertical",className:"mr-2 h-4"})]}),(A||D)&&jsxRuntimeExports.jsxs("a",{href:"/",className:"flex gap-2 items-center mr-2 shrink-0",children:[A&&jsxRuntimeExports.jsx("img",{src:A,alt:k||"Site Logo",className:"w-auto h-8 max-h-8"}),D&&jsxRuntimeExports.jsx("div",{className:"text-lg",children:D})]})]}),e&&jsxRuntimeExports.jsx(Breadcrumb,{className:"hidden sm:block grow",children:jsxRuntimeExports.jsxs(BreadcrumbList,{children:[jsxRuntimeExports.jsx(BreadcrumbItem,{children:jsxRuntimeExports.jsx(BreadcrumbLink,{href:v,className:"truncate max-w-12 md:max-w-24 lg:max-w-48 xl:max-w-64",children:m?.title})}),jsxRuntimeExports.jsx(BreadcrumbSeparator,{}),jsxRuntimeExports.jsx(BreadcrumbItem,{children:jsxRuntimeExports.jsx(BreadcrumbPage,{className:"truncate max-w-64 lg:max-w-96",children:g?.title})})]})}),!e&&jsxRuntimeExports.jsx("nav",{className:cn$2("hidden flex-1 gap-1 justify-center items-center",{"md:flex":T,"lg:flex":P}),children:y?.map(j=>jsxRuntimeExports.jsx(NavigationItem,{item:j},j.title||j.url))}),jsxRuntimeExports.jsxs("div",{className:cn$2("flex gap-2 justify-end items-center",{"grow md:grow-0 md:w-[200px]":T,"grow lg:grow-0 lg:w-[200px]":P}),children:[w?.map(j=>jsxRuntimeExports.jsx(Button,{variant:"outline","aria-label":j.title,asChild:!0,children:jsxRuntimeExports.jsx("a",{href:j.url,target:"_blank",rel:"noopener noreferrer",children:j.title})},j.title)),t&&jsxRuntimeExports.jsx(SearchDialog,{children:jsxRuntimeExports.jsx(SimpleTooltip,{title:"Search",children:jsxRuntimeExports.jsx(Button,{variant:"outline",size:"icon","aria-label":"Search",asChild:!0,children:jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(Search,{})})})})}),n&&jsxRuntimeExports.jsx(ArticleActions,{}),i&&y&&y.length>0&&jsxRuntimeExports.jsxs(Sheet,{open:l,onOpenChange:c,children:[jsxRuntimeExports.jsx(SheetTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",className:cn$2({"md:hidden":!e&&T,"lg:hidden":!e&&P}),children:jsxRuntimeExports.jsx(Menu$7,{className:"w-5 h-5"})})}),jsxRuntimeExports.jsxs(SheetContent,{side:"right",className:"w-[300px] sm:w-[400px]",children:[jsxRuntimeExports.jsx(SheetHeader,{children:jsxRuntimeExports.jsx(SheetTitle,{children:"Navigation"})}),jsxRuntimeExports.jsx("div",{className:"flex flex-col mt-6 space-y-4",children:jsxRuntimeExports.jsx("nav",{className:"flex flex-col space-y-2",children:y?.map(j=>jsxRuntimeExports.jsx(MobileNavigationItem,{item:j,closeMobileMenu:()=>c(!1)},j.title||j.url))})})]})]})]})]})})}function AppLayout({children:t,header:e,footer:n}){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SkipTo,{targets:createSkipToTargets()}),jsxRuntimeExports.jsx("div",{className:cn$2("flex flex-col min-h-screen",{"[--header-height:calc(--spacing(22))]":e,"[--header-height:calc(--spacing(14))]":!e}),children:jsxRuntimeExports.jsxs(SidebarProvider,{className:"flex flex-col h-full",children:[jsxRuntimeExports.jsx(SiteHeader,{brandBar:e,showMobileMenu:!0}),jsxRuntimeExports.jsxs("div",{className:"flex flex-1 pt-[var(--header-height)]",children:[jsxRuntimeExports.jsx(AppSidebar,{}),jsxRuntimeExports.jsxs(SidebarInset,{className:"flex flex-col min-h-full",children:[jsxRuntimeExports.jsx("div",{className:"grow",children:t}),n&&jsxRuntimeExports.jsx("div",{className:"shrink-0",children:n})]})]})]})})]})}function AppContainer({children:t,header:e,className:n}){const i=useReferences(),o=useProjectManifest(),u=useDesign();return jsxRuntimeExports.jsxs("article",{className:cn$2("relative app-grid grid-gap z-0 max-w-full article",n,{"pt-8":!o?.banner}),children:[o?.banner&&jsxRuntimeExports.jsx(Banner,{thin:!0,banner:o.banner,bannerOptimized:o.bannerOptimized}),e,!!e&&jsxRuntimeExports.jsx("div",{className:"h-0 col-screen"}),!u.hide_outline&&i?.article&&jsxRuntimeExports.jsx("aside",{className:"hidden sticky top-24 px-2 h-0 lg:block col-margin xl:px-4",children:jsxRuntimeExports.jsx(DocumentOutline,{mdast:i?.article})}),t,jsxRuntimeExports.jsx("div",{id:"bottom-of-article",className:"h-0 col-screen"})]})}function ArticleLayout({children:t,header:e,footer:n}){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SkipTo,{targets:createSkipToTargets()}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col min-h-screen",children:[jsxRuntimeExports.jsx(SiteHeader,{brandBar:e}),jsxRuntimeExports.jsx("div",{className:"grow",children:t}),n&&jsxRuntimeExports.jsx("div",{className:"shrink-0",children:n})]})]})}function ArticleContainer({children:t,header:e,className:n}){const i=useReferences(),o=useProjectManifest(),u=useDesign();return jsxRuntimeExports.jsxs("article",{className:cn$2("relative article-grid grid-gap prose dark:prose-invert w-full max-w-full",{"pt-14":o?.banner||u.hide_title_block,"pt-28":!o?.banner&&!u.hide_title_block},"z-0",n),children:[o?.banner&&!u.hide_title_block&&jsxRuntimeExports.jsx(Banner,{inset:!0,banner:o.banner,bannerOptimized:o.bannerOptimized}),e,!!e&&jsxRuntimeExports.jsx("div",{className:"h-0 col-screen"}),!u.hide_outline&&i?.article&&jsxRuntimeExports.jsx("aside",{className:"hidden sticky top-24 px-2 h-0 lg:block col-margin xl:px-4",children:jsxRuntimeExports.jsx(DocumentOutline,{mdast:i?.article})}),t,jsxRuntimeExports.jsx("div",{id:"bottom-of-article",className:"h-0 col-screen"})]})}function withBasePath$2(t){return`${window.__BASE_PATH__||""}${t}`}function setupWebSocket(){if(typeof window>"u")return;if(window.__liveReloadWs?.readyState===WebSocket.OPEN){console.log(" WebSocket already connected, reusing connection");return}if(window.__liveReloadWs?.readyState===WebSocket.CONNECTING){console.log(" WebSocket connection in progress...");return}const t=location.protocol==="https:"?"wss:":"ws:",e=location.hostname,n=location.port||(location.protocol==="https:"?"443":"80"),i=`${t}//${e}:${n}${withBasePath$2("/_socket")}`;console.log(` Connecting to live content server at ${i}`);const o=new WebSocket(i);window.__liveReloadWs=o,o.onmessage=u=>{const l=JSON.parse(u.data);if(l.type==="LOG"&&console.log(l.message),l.type==="RELOAD"){console.log(" Content update detected...");const c={type:l.type,message:l.message,path:l.path,timestamp:Date.now()};window.__liveReloadCallback?window.__liveReloadCallback(c):window.location.reload()}},o.onopen=()=>{console.log(" WebSocket connected to content server")},o.onclose=()=>{console.log("Content server web socket closed. Reconnecting in 1s..."),window.__liveReloadWs=null,setTimeout(setupWebSocket,1e3)},o.onerror=u=>{console.log("Content server web socket error:"),console.error(u)}}function ContentReload({onContentUpdate:t}){const e=reactExports.useRef(t);return e.current=t,reactExports.useEffect(()=>(window.__liveReloadCallback=n=>{e.current?.(n)},setupWebSocket(),()=>{contentRevalidationService.cleanup()}),[]),null}class ContentRevalidationService{debounceTimers=new Map;lastUpdate=0;handleContentUpdate(e,n){const i=Date.now(),o=i-this.lastUpdate;this.lastUpdate=i;const u="content-update";this.debounceTimers.has(u)&&clearTimeout(this.debounceTimers.get(u)),this.debounceTimers.set(u,setTimeout(()=>{this.processUpdate(e,n)},Math.max(0,500-o)))}processUpdate(e,n){console.log(" Processing content update:",e),console.log(" Triggering content revalidation"),toast.success("Content updated"),n()}cleanup(){for(const e of this.debounceTimers.values())clearTimeout(e);this.debounceTimers.clear()}}const contentRevalidationService=new ContentRevalidationService,ContentContext=reactExports.createContext(null);function useContentContext(){const t=reactExports.useContext(ContentContext);if(!t)throw new Error("useContentContext must be used within a ContentProvider");return t}function ContentReloadWrapper(){const{revalidateContent:t}=useContentContext(),e=n=>{contentRevalidationService.handleContentUpdate(n,t)};return jsxRuntimeExports.jsx(ContentReload,{onContentUpdate:e})}function ContentProvider({children:t}){const e=useRevalidator(),i={revalidateContent:reactExports.useCallback(()=>{console.log(" Revalidating content..."),e.revalidate()},[e]),isRevalidating:e.state==="loading"};return jsxRuntimeExports.jsxs(ContentContext.Provider,{value:i,children:[t,jsxRuntimeExports.jsx(ContentReloadWrapper,{})]})}function Root(){const{config:t}=useLoaderData();return jsxRuntimeExports.jsx(BaseUrlProvider,{baseurl:"",children:jsxRuntimeExports.jsx(J,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:jsxRuntimeExports.jsx(ContentProvider,{children:jsxRuntimeExports.jsx(SiteProvider,{config:t,children:jsxRuntimeExports.jsxs(ProjectProvider,{project:t?.projects?.[0],children:[jsxRuntimeExports.jsx(Outlet,{}),jsxRuntimeExports.jsx(Toaster,{})]})})})})})}let mermaidInstance=null;async function getMermaid(){return mermaidInstance||(mermaidInstance=(async()=>{const{default:t}=await __vitePreload(async()=>{const{default:e}=await import("./mermaid.core-DeHRwYdo.js").then(n=>n.bu);return{default:e}},[]);return t.initialize({startOnLoad:!1}),t})()),mermaidInstance}async function parse$5(t,e){const n=await getMermaid(),{svg:i,bindFunctions:o}=await n.render(t,e);return{svg:i,bindFunctions:o}}function applyParseResult(t,e,n){t.innerHTML=e,n?.(t)}function MermaidRenderer({id:t,value:e,className:n}){const i=reactExports.useId(),o=reactExports.useRef(null),[u,l]=reactExports.useState();return reactExports.useEffect(()=>{if(!o.current)return;let c=!1;const f=o.current;return parse$5(`mermaid-${i.replace(/:/g,"")}`,e).then(({svg:d,bindFunctions:m})=>{!c&&o.current===f&&(applyParseResult(f,d,m),l(void 0))}).catch(d=>{c||l(d)}),()=>{c=!0}},[e,i]),jsxRuntimeExports.jsxs("figure",{id:t,className:n,children:[jsxRuntimeExports.jsx("div",{ref:o}),u&&jsxRuntimeExports.jsxs("pre",{children:["Error parsing mermaid graph.",`

`,u.message,`

`,e]})]})}const MermaidNodeRenderer=({node:t,className:e})=>jsxRuntimeExports.jsx(MermaidRenderer,{id:t.html_id||t.identifier,value:t.value,className:cn(t.class,e)}),MERMAID_RENDERERS={mermaid:MermaidNodeRenderer},ArticlesRenderer=({node:t})=>jsxRuntimeExports.jsxs("div",{children:[!t.error&&jsxRuntimeExports.jsx("div",{className:"space-y-6",children:t.items.map(e=>jsxRuntimeExports.jsx(ArticleCard,{to:`/articles/${e.slug??e.id}`,article:e,showThumbnails:t["show-thumbnails"]??!1,showAuthors:t["show-authors"]??!1,showDoi:t["show-doi"]??!1,showDate:t["show-date"]??!1},e.id))}),!t.error&&t.items.length===0&&jsxRuntimeExports.jsx("div",{className:"px-2 py-4 text-gray-600 border-gray-500 border-gray-[1px] rounded-sm bg-gray-50",children:"There are no articles in this listing yet."}),t.error&&jsxRuntimeExports.jsx("div",{className:"text-red-500 p-4 my-2 bg-red-50 border-[1px] border-red-500 rounded-sm",children:t.error})]}),ARTICLES_RENDERERS={curvenoteArticles:ArticlesRenderer},ImageRenderer=({node:t})=>jsxRuntimeExports.jsx(Image$1,{src:t.url,srcOptimized:t.urlOptimized,urlSource:t.urlSource,alt:t.alt}),IMAGE_RENDERERS={image:ImageRenderer};var AdmonitionKind;(function(t){t.admonition="admonition",t.attention="attention",t.caution="caution",t.danger="danger",t.error="error",t.important="important",t.hint="hint",t.note="note",t.seealso="seealso",t.tip="tip",t.warning="warning"})(AdmonitionKind||(AdmonitionKind={}));const ADMONITION_CONFIGS={[AdmonitionKind.note]:{kind:AdmonitionKind.note,color:"blue",icon:Info$1},[AdmonitionKind.important]:{kind:AdmonitionKind.important,color:"blue",icon:Zap},[AdmonitionKind.hint]:{kind:AdmonitionKind.hint,color:"green",icon:Lightbulb},[AdmonitionKind.seealso]:{kind:AdmonitionKind.seealso,color:"green",icon:ArrowRight},[AdmonitionKind.tip]:{kind:AdmonitionKind.tip,color:"green",icon:SquarePen},[AdmonitionKind.attention]:{kind:AdmonitionKind.attention,color:"yellow",icon:Megaphone},[AdmonitionKind.warning]:{kind:AdmonitionKind.warning,color:"yellow",icon:TriangleAlert},[AdmonitionKind.caution]:{kind:AdmonitionKind.caution,color:"yellow",icon:CircleAlert$1},[AdmonitionKind.danger]:{kind:AdmonitionKind.danger,color:"red",icon:CircleAlert$1},[AdmonitionKind.error]:{kind:AdmonitionKind.error,color:"red",icon:CircleX},[AdmonitionKind.admonition]:{kind:AdmonitionKind.admonition,color:"blue",icon:Info$1}},admonitionVariants=cva("border border-muted border-l-2 bg-muted/30",{variants:{color:{blue:"border-l-blue-600",green:"border-l-green-600",yellow:"border-l-yellow-600",red:"border-l-red-600"},variant:{default:"",collapsible:"group"}},defaultVariants:{color:"blue",variant:"default"}}),iconVariants=cva("w-5 h-5 mt-0.5 shrink-0 self-center",{variants:{color:{blue:"text-blue-600 dark:text-blue-400",green:"text-green-600 dark:text-green-400",yellow:"text-yellow-600 dark:text-yellow-400",red:"text-red-600 dark:text-red-400"}},defaultVariants:{color:"blue"}});function getClasses(t){const e=t?.split(" ").map(n=>n.trim().toLowerCase()).filter(n=>!!n)??[];return[...new Set(e)]}function getFirstKind({kind:t,classes:e=[]}){return t===AdmonitionKind.note||e.includes("note")?ADMONITION_CONFIGS[AdmonitionKind.note]:t===AdmonitionKind.important||e.includes("important")?ADMONITION_CONFIGS[AdmonitionKind.important]:t===AdmonitionKind.hint||e.includes("hint")?ADMONITION_CONFIGS[AdmonitionKind.hint]:t===AdmonitionKind.seealso||e.includes("seealso")?ADMONITION_CONFIGS[AdmonitionKind.seealso]:t===AdmonitionKind.tip||e.includes("tip")?ADMONITION_CONFIGS[AdmonitionKind.tip]:t===AdmonitionKind.attention||e.includes("attention")?ADMONITION_CONFIGS[AdmonitionKind.attention]:t===AdmonitionKind.warning||e.includes("warning")?ADMONITION_CONFIGS[AdmonitionKind.warning]:t===AdmonitionKind.caution||e.includes("caution")?ADMONITION_CONFIGS[AdmonitionKind.caution]:t===AdmonitionKind.danger||e.includes("danger")?ADMONITION_CONFIGS[AdmonitionKind.danger]:t===AdmonitionKind.error||e.includes("error")?ADMONITION_CONFIGS[AdmonitionKind.error]:ADMONITION_CONFIGS[AdmonitionKind.note]}const AdmonitionComponent=({id:t,title:e,content:n,defaultOpen:i,config:o,isDropdown:u,hideIcon:l,className:c})=>{const[f,d]=reactExports.useState(i),m=o.icon,g=async()=>{const v=`${window.location.origin}${window.location.pathname}#${t}`;try{await navigator.clipboard.writeText(v),toast.success("Link copied to clipboard")}catch(y){console.error("Failed to copy link:",y)}};return u?jsxRuntimeExports.jsx("div",{className:"overflow-hidden my-4 rounded-xs",children:jsxRuntimeExports.jsx("div",{className:cn(admonitionVariants({color:o.color,variant:"collapsible"}),c),children:jsxRuntimeExports.jsxs(Collapsible,{open:f,onOpenChange:d,children:[jsxRuntimeExports.jsx(CollapsibleTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs("button",{className:"flex justify-between items-start p-4 w-full text-left cursor-pointer",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-3 items-start",children:[jsxRuntimeExports.jsx("div",{className:"shrink-0 mt-1.5",children:jsxRuntimeExports.jsx(ChevronRight,{className:cn("w-4 h-4 transition-transform duration-200",{"rotate-90":f})})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 items-start",children:[!l&&jsxRuntimeExports.jsx(m,{className:iconVariants({color:o.color})}),jsxRuntimeExports.jsx("span",{className:"font-medium text-foreground",children:e})]})]}),jsxRuntimeExports.jsx(SimpleTooltip,{title:"Copy link",children:jsxRuntimeExports.jsx(Button,{variant:"ghost",size:"sm",onClick:v=>{v.stopPropagation(),g()},className:"opacity-0 transition-opacity group-hover:opacity-100 flex-0",asChild:!0,children:jsxRuntimeExports.jsx(Link$1,{to:`#${t}`,children:jsxRuntimeExports.jsx(Link,{className:"w-4 h-4"})})})})]})}),jsxRuntimeExports.jsx(CollapsibleContent,{className:cn("px-7 pb-4 overflow-hidden","data-[state=closed]:animate-collapsible-up data-[state=open]:animate-collapsible-down duration-100"),children:jsxRuntimeExports.jsx("div",{className:"space-y-3 text-muted-foreground",children:n})})]})})}):jsxRuntimeExports.jsx("div",{className:"overflow-hidden my-4 rounded-xs",children:jsxRuntimeExports.jsxs("div",{className:cn(admonitionVariants({color:o.color}),c),children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-3 items-start px-4 py-2",children:[!l&&jsxRuntimeExports.jsx(m,{className:iconVariants({color:o.color})}),jsxRuntimeExports.jsx("div",{className:"flex-1 min-w-0",children:e&&jsxRuntimeExports.jsx("div",{className:"self-center font-medium text-foreground",children:e})})]}),jsxRuntimeExports.jsx("div",{className:"mx-4 my-2 text-muted-foreground",children:n})]})})},AdmonitionRenderer=({node:t,className:e})=>{const[n,...i]=t.children,o=getClasses(t.class),u=getFirstKind({kind:t.kind,classes:o}),l=o.includes("dropdown"),c=t.icon===!1,f=t.open===!0,d=n?.type==="admonitionTitle";return jsxRuntimeExports.jsx(AdmonitionComponent,{id:t.identifier||t.key,title:d?jsxRuntimeExports.jsx(MyST,{ast:[n]}):void 0,content:d?jsxRuntimeExports.jsx(MyST,{ast:i}):jsxRuntimeExports.jsx(MyST,{ast:t.children}),defaultOpen:f,config:u,isDropdown:l,hideIcon:c,className:e})},ADMONITION_RENDERERS={admonition:AdmonitionRenderer};function getMaxWidthClasses(t){if(t==null)return[];const e=Array.isArray(t)?t:[t],[n,i,o,u,l]=e.map(c=>{if(c!=null&&!(typeof c!="number"||isNaN(c)))return Math.max(0,Math.min(100,Math.round(c/5)*5))});return[`max-w-[${n||100}%]`,n?`sm:max-w-[${n}%]`:void 0,i?`md:max-w-[${i}%]`:void 0,o?`lg:max-w-[${o}%]`:void 0,u?`xl:max-w-[${u}%]`:void 0,l?`2xl:max-w-[${l}%]`:void 0].filter(Boolean)}function getOverlayClasses(t){return t==null?[]:(Array.isArray(t)?t:[t,t,t,t,t]).map(o=>{if(o!=null&&!(typeof o!="number"||isNaN(o)))return Math.max(-100,Math.min(100,Math.round(o/10)*10))}).map((o,u)=>{const l=["sm","md","lg","xl","2xl"][u];if(l=="sm"&&o==null)return"bg-black/10";if(o!=null)return l=="sm"?`bg-${o<0?"white":"black"}/${Math.abs(o||10)}`:`${l}:bg-${o<0?"white":"black"}/${Math.abs(o)}`}).filter(Boolean)}function HeroComponent({className:t,backgroundImage:e,kicker:n,title:i,content:o,actions:u,footer:l,maxWidth:c,overlay:f,light:d=!1}){const m=useBaseurl();return jsxRuntimeExports.jsxs("div",{className:cn("flex overflow-hidden relative flex-col min-h-[300px]",t),children:[e&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-center bg-no-repeat bg-cover",style:{backgroundImage:`url(${e})`}}),f!=null&&jsxRuntimeExports.jsx("div",{className:cn("absolute inset-0",...getOverlayClasses(f))}),jsxRuntimeExports.jsx("div",{className:"container flex relative z-10 flex-1 items-center px-4 mx-auto my-20 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:cn("max-w-4xl",...getMaxWidthClasses(c)),children:[n&&jsxRuntimeExports.jsx("div",{className:cn("mb-2 text-sm font-medium tracking-wide uppercase",{"text-gray-300":d===!1,"text-black":d===!0}),children:n}),jsxRuntimeExports.jsx("h1",{className:cn("mb-6 text-4xl font-bold leading-tight sm:text-5xl lg:text-6xl",{"text-white":d===!1,"text-black":d===!0}),children:i}),o&&jsxRuntimeExports.jsx("div",{className:cn("mb-8 max-w-3xl text-lg leading-relaxed sm:text-xl",{"text-gray-200":d===!1,"text-black":d===!0}),children:o}),u&&u.length>0&&jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-4 sm:flex-row",children:u.map((g,v)=>jsxRuntimeExports.jsx(Button,{variant:g.variant||"default",size:"lg",className:cn("no-underline",{"bg-transparent border-white text-white hover:bg-white hover:text-gray-900":g.variant==="outline"&&d===!1,"bg-white text-gray-900 hover:bg-gray-100":g.variant!=="outline"&&d===!1,"bg-transparent border-black text-black hover:bg-black/10":g.variant==="outline"&&d===!0,"bg-black text-gray-200 hover:bg-black/80":g.variant!=="outline"&&d===!0},g.className),asChild:!!g.href,onClick:g.onClick,children:g.href?jsxRuntimeExports.jsx("a",{href:withBaseurl(g.href,m),children:g.label}):g.label},v))})]})}),l&&jsxRuntimeExports.jsx("div",{className:"w-full backdrop-blur-lg bg-black/60",children:jsxRuntimeExports.jsx("div",{className:"container px-4 py-6 mx-auto sm:px-6 lg:px-8",children:jsxRuntimeExports.jsx("div",{className:"max-w-4xl text-sm leading-relaxed text-gray-300",children:l})})})]})}const HeroRenderer=({node:t,className:e})=>{const n=t.data||{},i=t.children?.find(g=>g.kind==="kicker"),o=t.children?.find(g=>g.kind==="title"),u=t.children?.find(g=>g.kind==="body"),l=t.children?.find(g=>g.kind==="actions"),c=t.children?.find(g=>g.kind==="footer"),f=t.children?.find(g=>g.kind==="backgroundImage")?.children?.[0],d=f?.urlOptimized||f?.url,m=l?.children?.filter(g=>g.type==="link");return jsxRuntimeExports.jsx(HeroComponent,{className:cn(e,t.class),backgroundImage:d,maxWidth:n.maxWidth,overlay:n.overlay,light:n.light,kicker:i?jsxRuntimeExports.jsx(MyST,{ast:i}):void 0,title:o?jsxRuntimeExports.jsx(MyST,{ast:o}):void 0,content:u?jsxRuntimeExports.jsx(MyST,{ast:u}):void 0,actions:m?.map(g=>({label:jsxRuntimeExports.jsx(MyST,{ast:g.children}),href:g.url,variant:g.variant||"default"})),footer:c?jsxRuntimeExports.jsx(MyST,{ast:c}):void 0})},HERO_RENDERERS={block:{"block[kind=hero]":HeroRenderer}},DefinitionListRenderer=({node:t,className:e})=>jsxRuntimeExports.jsx("dl",{className:cn("my-5",e),id:t.html_id||t.identifier||t.key,children:jsxRuntimeExports.jsx(MyST,{ast:t.children})}),DefinitionTermRenderer=({node:t,className:e})=>{const n=new Set(["text","emphasis"]),i=t.children?.reduce((u,l)=>u&&n.has(l.type),!0)??!1,o=t.html_id||t.identifier||t.key;return jsxRuntimeExports.jsxs("dt",{id:o,className:cn("group",e),children:[i?jsxRuntimeExports.jsx("strong",{children:jsxRuntimeExports.jsx(MyST,{ast:t.children})}):jsxRuntimeExports.jsx(MyST,{ast:t.children}),jsxRuntimeExports.jsx(HashLink,{id:o,title:"Link to Definition Term",hover:!0,className:"ml-2"})]})},DefinitionDescriptionRenderer=({node:t,className:e})=>jsxRuntimeExports.jsx("dd",{id:t.html_id||t.identifier||t.key,className:e,children:jsxRuntimeExports.jsx(MyST,{ast:t.children})}),DEFINITION_LIST_RENDERERS={definitionList:DefinitionListRenderer,definitionTerm:DefinitionTermRenderer,definitionDescription:DefinitionDescriptionRenderer},createQuery=t=>`{"query":"query structure ($id: String!) {
  entry(entry_id:$id){
      rcsb_id
      struct {
          title
      }
      pubmed {
        rcsb_pubmed_container_identifiers {
          pubmed_id
        }
        rcsb_pubmed_central_id
        rcsb_pubmed_doi
        rcsb_pubmed_abstract_text
        rcsb_pubmed_affiliation_info
      }
  }
}
","variables":{"id":"${t}"},"operationName":"structure"}`,fetcher=t=>fetch("https://data.rcsb.org/graphql",{method:"post",headers:[["Content-Type","application/json"]],body:createQuery(t)}).then(e=>{if(e.status===200)return e.json();throw new Error(`Content returned with status ${e.status}.`)});function PDBChild({pdb:t}){const{data:e,error:n}=useSWR(t,fetcher);if(!e&&!n)return jsxRuntimeExports.jsx("div",{className:"hover-document article w-[500px] sm:max-w-[500px] animate-pulse",children:"Loading..."});if(n)return jsxRuntimeExports.jsxs("div",{className:"hover-document article w-[500px] sm:max-w-[500px]",children:["Error loading ",t,"."]});console.log(e);const i=e.data.entry.rcsb_id,o=e.data.entry.struct.title,u=e.data.entry.pubmed.rcsb_pubmed_abstract_text;return jsxRuntimeExports.jsx(LinkCard,{loading:!e,url:`https://www.rcsb.org/structure/${t}`,title:jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-stretch text-sm font-light",children:["PDB ",i]}),thumbnail:`https://cdn.rcsb.org/images/structures/${i.toLowerCase()}_assembly-1.jpeg`,description:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"mb-4 font-bold",children:o}),jsxRuntimeExports.jsx("p",{className:"overflow-hidden text-sm line-clamp-5",children:u})]})})}const PDBLinkRenderer=({node:t})=>{const e=t.data?.pdb;return e?jsxRuntimeExports.jsx(HoverPopover,{card:jsxRuntimeExports.jsx(PDBChild,{pdb:e}),children:jsxRuntimeExports.jsx("a",{href:`https://www.rcsb.org/structure/${e}`,target:"_blank",rel:"noopener noreferrer",children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})}):jsxRuntimeExports.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})},LINK_RENDERERS={link:{"link[kind=pdb]":PDBLinkRenderer}},convert=(function(t){if(t==null)return ok;if(typeof t=="function")return castFactory$1(t);if(typeof t=="object")return Array.isArray(t)?anyFactory$1(t):propertiesFactory(t);if(typeof t=="string")return typeFactory(t);throw new Error("Expected function, string, or object as test")});function anyFactory$1(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=convert(t[n]);return castFactory$1(i);function i(...o){let u=-1;for(;++u<e.length;)if(e[u].apply(this,o))return!0;return!1}}function propertiesFactory(t){const e=t;return castFactory$1(n);function n(i){const o=i;let u;for(u in t)if(o[u]!==e[u])return!1;return!0}}function typeFactory(t){return castFactory$1(e);function e(n){return n&&n.type===t}}function castFactory$1(t){return e;function e(n,i,o){return!!(looksLikeANode(n)&&t.call(this,n,typeof i=="number"?i:void 0,o||void 0))}}function ok(){return!0}function looksLikeANode(t){return t!==null&&typeof t=="object"&&"type"in t}function color(t){return t}const empty$5=[],CONTINUE=!0,EXIT=!1,SKIP="skip";function visitParents(t,e,n,i){let o;typeof e=="function"&&typeof n!="function"?(i=n,n=e):o=e;const u=convert(o),l=i?-1:1;c(t,void 0,[])();function c(f,d,m){const g=f&&typeof f=="object"?f:{};if(typeof g.type=="string"){const y=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(f.type+(y?"<"+y+">":""))+")"})}return v;function v(){let y=empty$5,w,T,P;if((!e||u(f,d,m[m.length-1]||void 0))&&(y=toResult(n(f,m)),y[0]===EXIT))return y;if("children"in f&&f.children){const A=f;if(A.children&&y[0]!==SKIP)for(T=(i?A.children.length:-1)+l,P=m.concat(A);T>-1&&T<A.children.length;){const D=A.children[T];if(w=c(D,T,P)(),w[0]===EXIT)return w;T=typeof w[1]=="number"?w[1]:T+l}}return y}}}function toResult(t){return Array.isArray(t)?t:typeof t=="number"?[CONTINUE,t]:t==null?empty$5:[t]}function visit(t,e,n,i){let o,u,l;typeof e=="function"&&typeof n!="function"?(u=void 0,l=e,o=n):(u=e,l=n,o=i),visitParents(t,u,c,o);function c(f,d){const m=d[d.length-1],g=m?m.children.indexOf(f):void 0;return l(f,g,m)}}function InlineError({value:t,message:e,className:n}){return jsxRuntimeExports.jsxs("span",{className:cn("text-yellow-600",n),title:e||t,children:[jsxRuntimeExports.jsx(CircleAlert$1,{width:"1rem",height:"1rem",className:"inline mr-1"}),t]})}async function openAlexFetcher(t){const e=await fetch(t);if(!e.ok)throw new Error(`Failed to fetch OpenAlex data: ${e.status} ${e.statusText}`);return e.json()}function useOpenAlexWork(t){const e=t?doi.normalize(t):null,{data:n,error:i,isLoading:o}=useSWR(e?`https://api.openalex.org/works/doi:${e}`:null,openAlexFetcher,{revalidateOnFocus:!1,revalidateOnReconnect:!1,dedupingInterval:6e4,errorRetryCount:2,errorRetryInterval:1e3});return{data:n,error:i,isLoading:o,doi:e}}function reverseInvertedAbstract(t){if(!t||typeof t!="object")return"";const e=[];let n=-1;for(const i of Object.values(t))for(const o of i)n=Math.max(n,o);for(let i=0;i<=n;i++)e[i]="";for(const[i,o]of Object.entries(t))for(const u of o)u>=0&&u<=n&&(e[u]=i);return e.filter(i=>i!=="").join(" ").replace(/^Abstract:? /i,"").replace(/ ([.,;:!?]) /g,"$1 ").replace(/([[({]) /g,"$1").replace(/ ([\])}])/g,"$1").replace(/\\n/g," ").replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&#39;/g,"'").replace(/&nbsp;/g," ").replace(/&mdash;/g,"").replace(/&ndash;/g,"").replace(/&hellip;/g,"").replace(/&deg;/g,"").replace(/&plusmn;/g,"").trim()}function formatAuthors(t,e=3){if(!t||t.length===0)return"";const n=t.map(u=>u.author.display_name);if(n.length<=e)return n.join(", ");const i=n.slice(0,e-1),o=n.length-e+1;return`${i.join(", ")}, et al. (${o} more)`}async function openRxivFetcher(t){const e=await fetch(t);if(!e.ok)throw new Error(`Failed to fetch OpenRxiv data: ${e.status} ${e.statusText}`);return e.json()}function useOpenRxivData(t){const{data:e,error:n,isLoading:i}=useSWR(t,openRxivFetcher,{revalidateOnFocus:!1,revalidateOnReconnect:!1,dedupingInterval:3e5,errorRetryCount:2,errorRetryInterval:1e3});return{data:e,error:n,isLoading:i}}function FigureImageComponent({image:t,caption:e}){return jsxRuntimeExports.jsx("div",{className:"overflow-hidden relative bg-gray-50 rounded-lg",children:jsxRuntimeExports.jsx(Image$1,{src:t.url,srcOptimized:t.urlOptimized,urlSource:t.urlSource,alt:t.alt||"Figure",className:"object-cover w-full h-auto",caption:e})})}function CiteFigureBar({doi:t,className:e}){const n=`https://overlay.curvenote.dev/doi/${doi.normalize(t)}.json`,{data:i,error:o,isLoading:u}=useOpenRxivData(n);if(u||o||!i?.mdast)return null;const l=selectAll$1("container[kind=figure]",i.mdast),c=l.slice(0,3);if(c.length===0)return null;const f=l.map(d=>{const m=d.children.find(v=>v.type==="image"),g=d.children.find(v=>v.type==="caption");return m?{src:m.url,srcOptimized:m.urlOptimized,urlSource:m.urlSource,alt:m.alt,caption:g}:null}).filter(d=>d!==null);return jsxRuntimeExports.jsx(LightboxContainer,{imageList:f,children:jsxRuntimeExports.jsx("div",{className:cn("grid grid-cols-1 gap-4 md:grid-cols-3",e),children:c.map((d,m)=>{const g=d.children.find(y=>y.type==="image"),v=d.children.find(y=>y.type==="caption");return g?jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx(FigureImageComponent,{image:g,caption:v}),jsxRuntimeExports.jsx(MyST,{ast:v,className:"text-xs line-clamp-5"})]},d.key||m):null})})})}class Schema{constructor(e,n,i){this.normal=n,this.property=e,i&&(this.space=i)}}Schema.prototype.normal={};Schema.prototype.property={};Schema.prototype.space=void 0;function merge(t,e){const n={},i={};for(const o of t)Object.assign(n,o.property),Object.assign(i,o.normal);return new Schema(n,i,e)}function normalize$1(t){return t.toLowerCase()}class Info{constructor(e,n){this.attribute=n,this.property=e}}Info.prototype.attribute="";Info.prototype.booleanish=!1;Info.prototype.boolean=!1;Info.prototype.commaOrSpaceSeparated=!1;Info.prototype.commaSeparated=!1;Info.prototype.defined=!1;Info.prototype.mustUseProperty=!1;Info.prototype.number=!1;Info.prototype.overloadedBoolean=!1;Info.prototype.property="";Info.prototype.spaceSeparated=!1;Info.prototype.space=void 0;let powers=0;const boolean=increment(),booleanish=increment(),overloadedBoolean=increment(),number=increment(),spaceSeparated=increment(),commaSeparated=increment(),commaOrSpaceSeparated=increment();function increment(){return 2**++powers}const types=Object.freeze(Object.defineProperty({__proto__:null,boolean,booleanish,commaOrSpaceSeparated,commaSeparated,number,overloadedBoolean,spaceSeparated},Symbol.toStringTag,{value:"Module"})),checks=Object.keys(types);class DefinedInfo extends Info{constructor(e,n,i,o){let u=-1;if(super(e,n),mark(this,"space",o),typeof i=="number")for(;++u<checks.length;){const l=checks[u];mark(this,checks[u],(i&types[l])===types[l])}}}DefinedInfo.prototype.defined=!0;function mark(t,e,n){n&&(t[e]=n)}function create$3(t){const e={},n={};for(const[i,o]of Object.entries(t.properties)){const u=new DefinedInfo(i,t.transform(t.attributes||{},i),o,t.space);t.mustUseProperty&&t.mustUseProperty.includes(i)&&(u.mustUseProperty=!0),e[i]=u,n[normalize$1(i)]=i,n[normalize$1(u.attribute)]=i}return new Schema(e,n,t.space)}const aria=create$3({properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number,ariaColIndex:number,ariaColSpan:number,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number,ariaRowIndex:number,ariaRowSpan:number,ariaSelected:booleanish,ariaSetSize:number,ariaSort:null,ariaValueMax:number,ariaValueMin:number,ariaValueNow:number,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function caseSensitiveTransform(t,e){return e in t?t[e]:e}function caseInsensitiveTransform(t,e){return caseSensitiveTransform(t,e.toLowerCase())}const html$1=create$3({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:boolean,allowPaymentRequest:boolean,allowUserMedia:boolean,alt:null,as:null,async:boolean,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:boolean,autoPlay:boolean,blocking:spaceSeparated,capture:null,charSet:null,checked:boolean,cite:null,className:spaceSeparated,cols:number,colSpan:null,content:null,contentEditable:booleanish,controls:boolean,controlsList:spaceSeparated,coords:number|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean,defer:boolean,dir:null,dirName:null,disabled:boolean,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean,formTarget:null,headers:spaceSeparated,height:number,hidden:overloadedBoolean,high:number,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inert:boolean,inputMode:null,integrity:null,is:null,isMap:boolean,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:boolean,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean,low:number,manifest:null,max:null,maxLength:number,media:null,method:null,min:null,minLength:number,multiple:boolean,muted:boolean,name:null,nonce:null,noModule:boolean,noValidate:boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean,optimum:number,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:boolean,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:boolean,referrerPolicy:null,rel:spaceSeparated,required:boolean,reversed:boolean,rows:number,rowSpan:number,sandbox:spaceSeparated,scope:null,scoped:boolean,seamless:boolean,selected:boolean,shadowRootClonable:boolean,shadowRootDelegatesFocus:boolean,shadowRootMode:null,shape:null,size:number,sizes:null,slot:null,span:number,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number,step:null,style:null,tabIndex:number,target:null,title:null,translate:null,type:null,typeMustMatch:boolean,useMap:null,value:booleanish,width:number,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number,borderColor:null,bottomMargin:number,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean,declare:boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:number,leftMargin:number,link:null,longDesc:null,lowSrc:null,marginHeight:number,marginWidth:number,noResize:boolean,noHref:boolean,noShade:boolean,noWrap:boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:number,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean,disableRemotePlayback:boolean,prefix:null,property:null,results:number,security:null,unselectable:null},space:"html",transform:caseInsensitiveTransform}),svg$1=create$3({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:commaOrSpaceSeparated,accentHeight:number,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number,amplitude:number,arabicForm:null,ascent:number,attributeName:null,attributeType:null,azimuth:number,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number,by:null,calcMode:null,capHeight:number,className:spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number,diffuseConstant:number,direction:null,display:null,dur:null,divisor:number,dominantBaseline:null,download:boolean,dx:null,dy:null,edgeMode:null,editable:null,elevation:number,enableBackground:null,end:null,event:null,exponent:number,externalResourcesRequired:null,fill:null,fillOpacity:number,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated,g2:commaSeparated,glyphName:commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number,horizOriginX:number,horizOriginY:number,id:null,ideographic:number,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number,k:number,k1:number,k2:number,k3:number,k4:number,kernelMatrix:commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number,overlineThickness:number,paintOrder:null,panose1:null,path:null,pathLength:number,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number,pointsAtY:number,pointsAtZ:number,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated,rev:commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated,requiredFeatures:commaOrSpaceSeparated,requiredFonts:commaOrSpaceSeparated,requiredFormats:commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number,specularExponent:number,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number,strikethroughThickness:number,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number,strokeOpacity:number,strokeWidth:null,style:null,surfaceScale:number,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated,tabIndex:number,tableValues:null,target:null,targetX:number,targetY:number,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:number,underlineThickness:number,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number,values:null,vAlphabetic:number,vMathematical:number,vectorEffect:null,vHanging:number,vIdeographic:number,version:null,vertAdvY:number,vertOriginX:number,vertOriginY:number,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:caseSensitiveTransform}),xlink=create$3({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),xmlns=create$3({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:caseInsensitiveTransform}),xml=create$3({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),cap=/[A-Z]/g,dash=/-[a-z]/g,valid=/^data[-\w.:]+$/i;function find(t,e){const n=normalize$1(e);let i=e,o=Info;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&valid.test(e)){if(e.charAt(4)==="-"){const u=e.slice(5).replace(dash,camelcase$1);i="data"+u.charAt(0).toUpperCase()+u.slice(1)}else{const u=e.slice(4);if(!dash.test(u)){let l=u.replace(cap,kebab);l.charAt(0)!=="-"&&(l="-"+l),e="data"+l}}o=DefinedInfo}return new o(i,e)}function kebab(t){return"-"+t.toLowerCase()}function camelcase$1(t){return t.charAt(1).toUpperCase()}const html=merge([aria,html$1,xlink,xmlns,xml],"html"),svg=merge([aria,svg$1,xlink,xmlns,xml],"svg");function parse$4(t){const e=[],n=String(t||"");let i=n.indexOf(","),o=0,u=!1;for(;!u;){i===-1&&(i=n.length,u=!0);const l=n.slice(o,i).trim();(l||!u)&&e.push(l),o=i+1,i=n.indexOf(",",o)}return e}const search=/[#.]/g;function parseSelector(t,e){const n=t||"",i={};let o=0,u,l;for(;o<n.length;){search.lastIndex=o;const c=search.exec(n),f=n.slice(o,c?c.index:n.length);f&&(u?u==="#"?i.id=f:Array.isArray(i.className)?i.className.push(f):i.className=[f]:l=f,o+=f.length),c&&(u=c[0],o++)}return{type:"element",tagName:l||e||"div",properties:i,children:[]}}function parse$3(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function createH(t,e,n){const i=n?createAdjustMap(n):void 0;function o(u,l,...c){let f;if(u==null){f={type:"root",children:[]};const d=l;c.unshift(d)}else{f=parseSelector(u,e);const d=f.tagName.toLowerCase(),m=i?i.get(d):void 0;if(f.tagName=m||d,isChild(l))c.unshift(l);else for(const[g,v]of Object.entries(l))addProperty(t,f.properties,g,v)}for(const d of c)addChild(f.children,d);return f.type==="element"&&f.tagName==="template"&&(f.content={type:"root",children:f.children},f.children=[]),f}return o}function isChild(t){if(t===null||typeof t!="object"||Array.isArray(t))return!0;if(typeof t.type!="string")return!1;const e=t,n=Object.keys(t);for(const i of n){const o=e[i];if(o&&typeof o=="object"){if(!Array.isArray(o))return!0;const u=o;for(const l of u)if(typeof l!="number"&&typeof l!="string")return!0}}return!!("children"in t&&Array.isArray(t.children))}function addProperty(t,e,n,i){const o=find(t,n);let u;if(i!=null){if(typeof i=="number"){if(Number.isNaN(i))return;u=i}else typeof i=="boolean"?u=i:typeof i=="string"?o.spaceSeparated?u=parse$3(i):o.commaSeparated?u=parse$4(i):o.commaOrSpaceSeparated?u=parse$3(parse$4(i).join(" ")):u=parsePrimitive(o,o.property,i):Array.isArray(i)?u=[...i]:u=o.property==="style"?style(i):String(i);if(Array.isArray(u)){const l=[];for(const c of u)l.push(parsePrimitive(o,o.property,c));u=l}o.property==="className"&&Array.isArray(e.className)&&(u=e.className.concat(u)),e[o.property]=u}}function addChild(t,e){if(e!=null)if(typeof e=="number"||typeof e=="string")t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const n of e)addChild(t,n);else if(typeof e=="object"&&"type"in e)e.type==="root"?addChild(t,e.children):t.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function parsePrimitive(t,e,n){if(typeof n=="string"){if(t.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((t.boolean||t.overloadedBoolean)&&(n===""||normalize$1(n)===normalize$1(e)))return!0}return n}function style(t){const e=[];for(const[n,i]of Object.entries(t))e.push([n,i].join(": "));return e.join("; ")}function createAdjustMap(t){const e=new Map;for(const n of t)e.set(n.toLowerCase(),n);return e}const svgCaseSensitiveTagNames=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],h=createH(html,"div"),s=createH(svg,"g",svgCaseSensitiveTagNames);function location$1(t){const e=String(t),n=[];return{toOffset:o,toPoint:i};function i(u){if(typeof u=="number"&&u>-1&&u<=e.length){let l=0;for(;;){let c=n[l];if(c===void 0){const f=next(e,n[l-1]);c=f===-1?e.length+1:f+1,n[l]=c}if(c>u)return{line:l+1,column:u-(l>0?n[l-1]:0)+1,offset:u};l++}}}function o(u){if(u&&typeof u.line=="number"&&typeof u.column=="number"&&!Number.isNaN(u.line)&&!Number.isNaN(u.column)){for(;n.length<u.line;){const c=n[n.length-1],f=next(e,c),d=f===-1?e.length+1:f+1;if(c===d)break;n.push(d)}const l=(u.line>1?n[u.line-2]:0)+u.column-1;if(l<n[u.line-1])return l}}}function next(t,e){const n=t.indexOf("\r",e),i=t.indexOf(`
`,e);return i===-1?n:n===-1||n+1===i?i:n<i?n:i}const webNamespaces={svg:"http://www.w3.org/2000/svg"},own$2={}.hasOwnProperty,proto=Object.prototype;function fromParse5(t,e){const n=e||{};return one$4({file:n.file||void 0,location:!1,schema:n.space==="svg"?svg:html,verbose:n.verbose||!1},t)}function one$4(t,e){let n;switch(e.nodeName){case"#comment":{const i=e;return n={type:"comment",value:i.data},patch$1(t,i,n),n}case"#document":case"#document-fragment":{const i=e,o="mode"in i?i.mode==="quirks"||i.mode==="limited-quirks":!1;if(n={type:"root",children:all$6(t,e.childNodes),data:{quirksMode:o}},t.file&&t.location){const u=String(t.file),l=location$1(u),c=l.toPoint(0),f=l.toPoint(u.length);n.position={start:c,end:f}}return n}case"#documentType":{const i=e;return n={type:"doctype"},patch$1(t,i,n),n}case"#text":{const i=e;return n={type:"text",value:i.value},patch$1(t,i,n),n}default:return n=element$1(t,e),n}}function all$6(t,e){let n=-1;const i=[];for(;++n<e.length;){const o=one$4(t,e[n]);i.push(o)}return i}function element$1(t,e){const n=t.schema;t.schema=e.namespaceURI===webNamespaces.svg?svg:html;let i=-1;const o={};for(;++i<e.attrs.length;){const c=e.attrs[i],f=(c.prefix?c.prefix+":":"")+c.name;own$2.call(proto,f)||(o[f]=c.value)}const l=(t.schema.space==="svg"?s:h)(e.tagName,o,all$6(t,e.childNodes));if(patch$1(t,e,l),l.tagName==="template"){const c=e,f=c.sourceCodeLocation,d=f&&f.startTag&&position$2(f.startTag),m=f&&f.endTag&&position$2(f.endTag),g=one$4(t,c.content);d&&m&&t.file&&(g.position={start:d.end,end:m.start}),l.content=g}return t.schema=n,l}function patch$1(t,e,n){if("sourceCodeLocation"in e&&e.sourceCodeLocation&&t.file){const i=createLocation(t,n,e.sourceCodeLocation);i&&(t.location=!0,n.position=i)}}function createLocation(t,e,n){const i=position$2(n);if(e.type==="element"){const o=e.children[e.children.length-1];if(i&&!n.endTag&&o&&o.position&&o.position.end&&(i.end=Object.assign({},o.position.end)),t.verbose){const u={};let l;if(n.attrs)for(l in n.attrs)own$2.call(n.attrs,l)&&(u[find(t.schema,l).property]=position$2(n.attrs[l]));n.startTag;const c=position$2(n.startTag),f=n.endTag?position$2(n.endTag):void 0,d={opening:c};f&&(d.closing=f),d.properties=u,e.data={position:d}}}return i}function position$2(t){const e=point$2({line:t.startLine,column:t.startCol,offset:t.startOffset}),n=point$2({line:t.endLine,column:t.endCol,offset:t.endOffset});return e||n?{start:e,end:n}:void 0}function point$2(t){return t.line&&t.column?t:void 0}const UNDEFINED_CODE_POINTS=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),REPLACEMENT_CHARACTER="";var CODE_POINTS;(function(t){t[t.EOF=-1]="EOF",t[t.NULL=0]="NULL",t[t.TABULATION=9]="TABULATION",t[t.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",t[t.LINE_FEED=10]="LINE_FEED",t[t.FORM_FEED=12]="FORM_FEED",t[t.SPACE=32]="SPACE",t[t.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",t[t.QUOTATION_MARK=34]="QUOTATION_MARK",t[t.AMPERSAND=38]="AMPERSAND",t[t.APOSTROPHE=39]="APOSTROPHE",t[t.HYPHEN_MINUS=45]="HYPHEN_MINUS",t[t.SOLIDUS=47]="SOLIDUS",t[t.DIGIT_0=48]="DIGIT_0",t[t.DIGIT_9=57]="DIGIT_9",t[t.SEMICOLON=59]="SEMICOLON",t[t.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",t[t.EQUALS_SIGN=61]="EQUALS_SIGN",t[t.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",t[t.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",t[t.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",t[t.GRAVE_ACCENT=96]="GRAVE_ACCENT",t[t.LATIN_SMALL_A=97]="LATIN_SMALL_A",t[t.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(CODE_POINTS||(CODE_POINTS={}));const SEQUENCES={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function isSurrogate(t){return t>=55296&&t<=57343}function isSurrogatePair(t){return t>=56320&&t<=57343}function getSurrogatePairCodePoint(t,e){return(t-55296)*1024+9216+e}function isControlCodePoint(t){return t!==32&&t!==10&&t!==13&&t!==9&&t!==12&&t>=1&&t<=31||t>=127&&t<=159}function isUndefinedCodePoint(t){return t>=64976&&t<=65007||UNDEFINED_CODE_POINTS.has(t)}var ERR;(function(t){t.controlCharacterInInputStream="control-character-in-input-stream",t.noncharacterInInputStream="noncharacter-in-input-stream",t.surrogateInInputStream="surrogate-in-input-stream",t.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",t.endTagWithAttributes="end-tag-with-attributes",t.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",t.unexpectedSolidusInTag="unexpected-solidus-in-tag",t.unexpectedNullCharacter="unexpected-null-character",t.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",t.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",t.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",t.missingEndTagName="missing-end-tag-name",t.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",t.unknownNamedCharacterReference="unknown-named-character-reference",t.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",t.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",t.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",t.eofBeforeTagName="eof-before-tag-name",t.eofInTag="eof-in-tag",t.missingAttributeValue="missing-attribute-value",t.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",t.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",t.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",t.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",t.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",t.missingDoctypePublicIdentifier="missing-doctype-public-identifier",t.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",t.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",t.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",t.cdataInHtmlContent="cdata-in-html-content",t.incorrectlyOpenedComment="incorrectly-opened-comment",t.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",t.eofInDoctype="eof-in-doctype",t.nestedComment="nested-comment",t.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",t.eofInComment="eof-in-comment",t.incorrectlyClosedComment="incorrectly-closed-comment",t.eofInCdata="eof-in-cdata",t.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",t.nullCharacterReference="null-character-reference",t.surrogateCharacterReference="surrogate-character-reference",t.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",t.controlCharacterReference="control-character-reference",t.noncharacterCharacterReference="noncharacter-character-reference",t.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",t.missingDoctypeName="missing-doctype-name",t.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",t.duplicateAttribute="duplicate-attribute",t.nonConformingDoctype="non-conforming-doctype",t.missingDoctype="missing-doctype",t.misplacedDoctype="misplaced-doctype",t.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",t.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",t.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",t.openElementsLeftAfterEof="open-elements-left-after-eof",t.abandonedHeadElementChild="abandoned-head-element-child",t.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",t.nestedNoscriptInHead="nested-noscript-in-head",t.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(ERR||(ERR={}));const DEFAULT_BUFFER_WATERLINE=65536;class Preprocessor{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=DEFAULT_BUFFER_WATERLINE,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e,n){const{line:i,col:o,offset:u}=this,l=o+n,c=u+n;return{code:e,startLine:i,endLine:i,startCol:l,endCol:l,startOffset:c,endOffset:c}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(e){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(isSurrogatePair(n))return this.pos++,this._addGap(),getSurrogatePairCodePoint(e,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,CODE_POINTS.EOF;return this._err(ERR.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(e,n){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(e,n){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(e,this.pos);for(let i=0;i<e.length;i++)if((this.html.charCodeAt(this.pos+i)|32)!==e.charCodeAt(i))return!1;return!0}peek(e){const n=this.pos+e;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,CODE_POINTS.EOF;const i=this.html.charCodeAt(n);return i===CODE_POINTS.CARRIAGE_RETURN?CODE_POINTS.LINE_FEED:i}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,CODE_POINTS.EOF;let e=this.html.charCodeAt(this.pos);return e===CODE_POINTS.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,CODE_POINTS.LINE_FEED):e===CODE_POINTS.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,isSurrogate(e)&&(e=this._processSurrogate(e)),this.handler.onParseError===null||e>31&&e<127||e===CODE_POINTS.LINE_FEED||e===CODE_POINTS.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){isControlCodePoint(e)?this._err(ERR.controlCharacterInInputStream):isUndefinedCodePoint(e)&&this._err(ERR.noncharacterInInputStream)}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var TokenType;(function(t){t[t.CHARACTER=0]="CHARACTER",t[t.NULL_CHARACTER=1]="NULL_CHARACTER",t[t.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",t[t.START_TAG=3]="START_TAG",t[t.END_TAG=4]="END_TAG",t[t.COMMENT=5]="COMMENT",t[t.DOCTYPE=6]="DOCTYPE",t[t.EOF=7]="EOF",t[t.HIBERNATION=8]="HIBERNATION"})(TokenType||(TokenType={}));function getTokenAttr(t,e){for(let n=t.attrs.length-1;n>=0;n--)if(t.attrs[n].name===e)return t.attrs[n].value;return null}const htmlDecodeTree=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),decodeMap=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function replaceCodePoint(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=decodeMap.get(t))!==null&&e!==void 0?e:t}var CharCodes;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(CharCodes||(CharCodes={}));const TO_LOWER_BIT=32;var BinTrieFlags;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(BinTrieFlags||(BinTrieFlags={}));function isNumber(t){return t>=CharCodes.ZERO&&t<=CharCodes.NINE}function isHexadecimalCharacter(t){return t>=CharCodes.UPPER_A&&t<=CharCodes.UPPER_F||t>=CharCodes.LOWER_A&&t<=CharCodes.LOWER_F}function isAsciiAlphaNumeric$1(t){return t>=CharCodes.UPPER_A&&t<=CharCodes.UPPER_Z||t>=CharCodes.LOWER_A&&t<=CharCodes.LOWER_Z||isNumber(t)}function isEntityInAttributeInvalidEnd(t){return t===CharCodes.EQUALS||isAsciiAlphaNumeric$1(t)}var EntityDecoderState;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(EntityDecoderState||(EntityDecoderState={}));var DecodingMode;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(DecodingMode||(DecodingMode={}));class EntityDecoder{constructor(e,n,i){this.decodeTree=e,this.emitCodePoint=n,this.errors=i,this.state=EntityDecoderState.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=DecodingMode.Strict}startEntity(e){this.decodeMode=e,this.state=EntityDecoderState.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case EntityDecoderState.EntityStart:return e.charCodeAt(n)===CharCodes.NUM?(this.state=EntityDecoderState.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=EntityDecoderState.NamedEntity,this.stateNamedEntity(e,n));case EntityDecoderState.NumericStart:return this.stateNumericStart(e,n);case EntityDecoderState.NumericDecimal:return this.stateNumericDecimal(e,n);case EntityDecoderState.NumericHex:return this.stateNumericHex(e,n);case EntityDecoderState.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|TO_LOWER_BIT)===CharCodes.LOWER_X?(this.state=EntityDecoderState.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=EntityDecoderState.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,i,o){if(n!==i){const u=i-n;this.result=this.result*Math.pow(o,u)+Number.parseInt(e.substr(n,u),o),this.consumed+=u}}stateNumericHex(e,n){const i=n;for(;n<e.length;){const o=e.charCodeAt(n);if(isNumber(o)||isHexadecimalCharacter(o))n+=1;else return this.addToNumericResult(e,i,n,16),this.emitNumericEntity(o,3)}return this.addToNumericResult(e,i,n,16),-1}stateNumericDecimal(e,n){const i=n;for(;n<e.length;){const o=e.charCodeAt(n);if(isNumber(o))n+=1;else return this.addToNumericResult(e,i,n,10),this.emitNumericEntity(o,2)}return this.addToNumericResult(e,i,n,10),-1}emitNumericEntity(e,n){var i;if(this.consumed<=n)return(i=this.errors)===null||i===void 0||i.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===CharCodes.SEMI)this.consumed+=1;else if(this.decodeMode===DecodingMode.Strict)return 0;return this.emitCodePoint(replaceCodePoint(this.result),this.consumed),this.errors&&(e!==CharCodes.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:i}=this;let o=i[this.treeIndex],u=(o&BinTrieFlags.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const l=e.charCodeAt(n);if(this.treeIndex=determineBranch(i,o,this.treeIndex+Math.max(1,u),l),this.treeIndex<0)return this.result===0||this.decodeMode===DecodingMode.Attribute&&(u===0||isEntityInAttributeInvalidEnd(l))?0:this.emitNotTerminatedNamedEntity();if(o=i[this.treeIndex],u=(o&BinTrieFlags.VALUE_LENGTH)>>14,u!==0){if(l===CharCodes.SEMI)return this.emitNamedEntityData(this.treeIndex,u,this.consumed+this.excess);this.decodeMode!==DecodingMode.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:i}=this,o=(i[n]&BinTrieFlags.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,o,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,i){const{decodeTree:o}=this;return this.emitCodePoint(n===1?o[e]&~BinTrieFlags.VALUE_LENGTH:o[e+1],i),n===3&&this.emitCodePoint(o[e+2],i),i}end(){var e;switch(this.state){case EntityDecoderState.NamedEntity:return this.result!==0&&(this.decodeMode!==DecodingMode.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case EntityDecoderState.NumericDecimal:return this.emitNumericEntity(0,2);case EntityDecoderState.NumericHex:return this.emitNumericEntity(0,3);case EntityDecoderState.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case EntityDecoderState.EntityStart:return 0}}}function determineBranch(t,e,n,i){const o=(e&BinTrieFlags.BRANCH_LENGTH)>>7,u=e&BinTrieFlags.JUMP_TABLE;if(o===0)return u!==0&&i===u?n:-1;if(u){const f=i-u;return f<0||f>=o?-1:t[n+f]-1}let l=n,c=l+o-1;for(;l<=c;){const f=l+c>>>1,d=t[f];if(d<i)l=f+1;else if(d>i)c=f-1;else return t[f+o]}return-1}var NS;(function(t){t.HTML="http://www.w3.org/1999/xhtml",t.MATHML="http://www.w3.org/1998/Math/MathML",t.SVG="http://www.w3.org/2000/svg",t.XLINK="http://www.w3.org/1999/xlink",t.XML="http://www.w3.org/XML/1998/namespace",t.XMLNS="http://www.w3.org/2000/xmlns/"})(NS||(NS={}));var ATTRS;(function(t){t.TYPE="type",t.ACTION="action",t.ENCODING="encoding",t.PROMPT="prompt",t.NAME="name",t.COLOR="color",t.FACE="face",t.SIZE="size"})(ATTRS||(ATTRS={}));var DOCUMENT_MODE;(function(t){t.NO_QUIRKS="no-quirks",t.QUIRKS="quirks",t.LIMITED_QUIRKS="limited-quirks"})(DOCUMENT_MODE||(DOCUMENT_MODE={}));var TAG_NAMES;(function(t){t.A="a",t.ADDRESS="address",t.ANNOTATION_XML="annotation-xml",t.APPLET="applet",t.AREA="area",t.ARTICLE="article",t.ASIDE="aside",t.B="b",t.BASE="base",t.BASEFONT="basefont",t.BGSOUND="bgsound",t.BIG="big",t.BLOCKQUOTE="blockquote",t.BODY="body",t.BR="br",t.BUTTON="button",t.CAPTION="caption",t.CENTER="center",t.CODE="code",t.COL="col",t.COLGROUP="colgroup",t.DD="dd",t.DESC="desc",t.DETAILS="details",t.DIALOG="dialog",t.DIR="dir",t.DIV="div",t.DL="dl",t.DT="dt",t.EM="em",t.EMBED="embed",t.FIELDSET="fieldset",t.FIGCAPTION="figcaption",t.FIGURE="figure",t.FONT="font",t.FOOTER="footer",t.FOREIGN_OBJECT="foreignObject",t.FORM="form",t.FRAME="frame",t.FRAMESET="frameset",t.H1="h1",t.H2="h2",t.H3="h3",t.H4="h4",t.H5="h5",t.H6="h6",t.HEAD="head",t.HEADER="header",t.HGROUP="hgroup",t.HR="hr",t.HTML="html",t.I="i",t.IMG="img",t.IMAGE="image",t.INPUT="input",t.IFRAME="iframe",t.KEYGEN="keygen",t.LABEL="label",t.LI="li",t.LINK="link",t.LISTING="listing",t.MAIN="main",t.MALIGNMARK="malignmark",t.MARQUEE="marquee",t.MATH="math",t.MENU="menu",t.META="meta",t.MGLYPH="mglyph",t.MI="mi",t.MO="mo",t.MN="mn",t.MS="ms",t.MTEXT="mtext",t.NAV="nav",t.NOBR="nobr",t.NOFRAMES="noframes",t.NOEMBED="noembed",t.NOSCRIPT="noscript",t.OBJECT="object",t.OL="ol",t.OPTGROUP="optgroup",t.OPTION="option",t.P="p",t.PARAM="param",t.PLAINTEXT="plaintext",t.PRE="pre",t.RB="rb",t.RP="rp",t.RT="rt",t.RTC="rtc",t.RUBY="ruby",t.S="s",t.SCRIPT="script",t.SEARCH="search",t.SECTION="section",t.SELECT="select",t.SOURCE="source",t.SMALL="small",t.SPAN="span",t.STRIKE="strike",t.STRONG="strong",t.STYLE="style",t.SUB="sub",t.SUMMARY="summary",t.SUP="sup",t.TABLE="table",t.TBODY="tbody",t.TEMPLATE="template",t.TEXTAREA="textarea",t.TFOOT="tfoot",t.TD="td",t.TH="th",t.THEAD="thead",t.TITLE="title",t.TR="tr",t.TRACK="track",t.TT="tt",t.U="u",t.UL="ul",t.SVG="svg",t.VAR="var",t.WBR="wbr",t.XMP="xmp"})(TAG_NAMES||(TAG_NAMES={}));var TAG_ID;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.A=1]="A",t[t.ADDRESS=2]="ADDRESS",t[t.ANNOTATION_XML=3]="ANNOTATION_XML",t[t.APPLET=4]="APPLET",t[t.AREA=5]="AREA",t[t.ARTICLE=6]="ARTICLE",t[t.ASIDE=7]="ASIDE",t[t.B=8]="B",t[t.BASE=9]="BASE",t[t.BASEFONT=10]="BASEFONT",t[t.BGSOUND=11]="BGSOUND",t[t.BIG=12]="BIG",t[t.BLOCKQUOTE=13]="BLOCKQUOTE",t[t.BODY=14]="BODY",t[t.BR=15]="BR",t[t.BUTTON=16]="BUTTON",t[t.CAPTION=17]="CAPTION",t[t.CENTER=18]="CENTER",t[t.CODE=19]="CODE",t[t.COL=20]="COL",t[t.COLGROUP=21]="COLGROUP",t[t.DD=22]="DD",t[t.DESC=23]="DESC",t[t.DETAILS=24]="DETAILS",t[t.DIALOG=25]="DIALOG",t[t.DIR=26]="DIR",t[t.DIV=27]="DIV",t[t.DL=28]="DL",t[t.DT=29]="DT",t[t.EM=30]="EM",t[t.EMBED=31]="EMBED",t[t.FIELDSET=32]="FIELDSET",t[t.FIGCAPTION=33]="FIGCAPTION",t[t.FIGURE=34]="FIGURE",t[t.FONT=35]="FONT",t[t.FOOTER=36]="FOOTER",t[t.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",t[t.FORM=38]="FORM",t[t.FRAME=39]="FRAME",t[t.FRAMESET=40]="FRAMESET",t[t.H1=41]="H1",t[t.H2=42]="H2",t[t.H3=43]="H3",t[t.H4=44]="H4",t[t.H5=45]="H5",t[t.H6=46]="H6",t[t.HEAD=47]="HEAD",t[t.HEADER=48]="HEADER",t[t.HGROUP=49]="HGROUP",t[t.HR=50]="HR",t[t.HTML=51]="HTML",t[t.I=52]="I",t[t.IMG=53]="IMG",t[t.IMAGE=54]="IMAGE",t[t.INPUT=55]="INPUT",t[t.IFRAME=56]="IFRAME",t[t.KEYGEN=57]="KEYGEN",t[t.LABEL=58]="LABEL",t[t.LI=59]="LI",t[t.LINK=60]="LINK",t[t.LISTING=61]="LISTING",t[t.MAIN=62]="MAIN",t[t.MALIGNMARK=63]="MALIGNMARK",t[t.MARQUEE=64]="MARQUEE",t[t.MATH=65]="MATH",t[t.MENU=66]="MENU",t[t.META=67]="META",t[t.MGLYPH=68]="MGLYPH",t[t.MI=69]="MI",t[t.MO=70]="MO",t[t.MN=71]="MN",t[t.MS=72]="MS",t[t.MTEXT=73]="MTEXT",t[t.NAV=74]="NAV",t[t.NOBR=75]="NOBR",t[t.NOFRAMES=76]="NOFRAMES",t[t.NOEMBED=77]="NOEMBED",t[t.NOSCRIPT=78]="NOSCRIPT",t[t.OBJECT=79]="OBJECT",t[t.OL=80]="OL",t[t.OPTGROUP=81]="OPTGROUP",t[t.OPTION=82]="OPTION",t[t.P=83]="P",t[t.PARAM=84]="PARAM",t[t.PLAINTEXT=85]="PLAINTEXT",t[t.PRE=86]="PRE",t[t.RB=87]="RB",t[t.RP=88]="RP",t[t.RT=89]="RT",t[t.RTC=90]="RTC",t[t.RUBY=91]="RUBY",t[t.S=92]="S",t[t.SCRIPT=93]="SCRIPT",t[t.SEARCH=94]="SEARCH",t[t.SECTION=95]="SECTION",t[t.SELECT=96]="SELECT",t[t.SOURCE=97]="SOURCE",t[t.SMALL=98]="SMALL",t[t.SPAN=99]="SPAN",t[t.STRIKE=100]="STRIKE",t[t.STRONG=101]="STRONG",t[t.STYLE=102]="STYLE",t[t.SUB=103]="SUB",t[t.SUMMARY=104]="SUMMARY",t[t.SUP=105]="SUP",t[t.TABLE=106]="TABLE",t[t.TBODY=107]="TBODY",t[t.TEMPLATE=108]="TEMPLATE",t[t.TEXTAREA=109]="TEXTAREA",t[t.TFOOT=110]="TFOOT",t[t.TD=111]="TD",t[t.TH=112]="TH",t[t.THEAD=113]="THEAD",t[t.TITLE=114]="TITLE",t[t.TR=115]="TR",t[t.TRACK=116]="TRACK",t[t.TT=117]="TT",t[t.U=118]="U",t[t.UL=119]="UL",t[t.SVG=120]="SVG",t[t.VAR=121]="VAR",t[t.WBR=122]="WBR",t[t.XMP=123]="XMP"})(TAG_ID||(TAG_ID={}));const TAG_NAME_TO_ID=new Map([[TAG_NAMES.A,TAG_ID.A],[TAG_NAMES.ADDRESS,TAG_ID.ADDRESS],[TAG_NAMES.ANNOTATION_XML,TAG_ID.ANNOTATION_XML],[TAG_NAMES.APPLET,TAG_ID.APPLET],[TAG_NAMES.AREA,TAG_ID.AREA],[TAG_NAMES.ARTICLE,TAG_ID.ARTICLE],[TAG_NAMES.ASIDE,TAG_ID.ASIDE],[TAG_NAMES.B,TAG_ID.B],[TAG_NAMES.BASE,TAG_ID.BASE],[TAG_NAMES.BASEFONT,TAG_ID.BASEFONT],[TAG_NAMES.BGSOUND,TAG_ID.BGSOUND],[TAG_NAMES.BIG,TAG_ID.BIG],[TAG_NAMES.BLOCKQUOTE,TAG_ID.BLOCKQUOTE],[TAG_NAMES.BODY,TAG_ID.BODY],[TAG_NAMES.BR,TAG_ID.BR],[TAG_NAMES.BUTTON,TAG_ID.BUTTON],[TAG_NAMES.CAPTION,TAG_ID.CAPTION],[TAG_NAMES.CENTER,TAG_ID.CENTER],[TAG_NAMES.CODE,TAG_ID.CODE],[TAG_NAMES.COL,TAG_ID.COL],[TAG_NAMES.COLGROUP,TAG_ID.COLGROUP],[TAG_NAMES.DD,TAG_ID.DD],[TAG_NAMES.DESC,TAG_ID.DESC],[TAG_NAMES.DETAILS,TAG_ID.DETAILS],[TAG_NAMES.DIALOG,TAG_ID.DIALOG],[TAG_NAMES.DIR,TAG_ID.DIR],[TAG_NAMES.DIV,TAG_ID.DIV],[TAG_NAMES.DL,TAG_ID.DL],[TAG_NAMES.DT,TAG_ID.DT],[TAG_NAMES.EM,TAG_ID.EM],[TAG_NAMES.EMBED,TAG_ID.EMBED],[TAG_NAMES.FIELDSET,TAG_ID.FIELDSET],[TAG_NAMES.FIGCAPTION,TAG_ID.FIGCAPTION],[TAG_NAMES.FIGURE,TAG_ID.FIGURE],[TAG_NAMES.FONT,TAG_ID.FONT],[TAG_NAMES.FOOTER,TAG_ID.FOOTER],[TAG_NAMES.FOREIGN_OBJECT,TAG_ID.FOREIGN_OBJECT],[TAG_NAMES.FORM,TAG_ID.FORM],[TAG_NAMES.FRAME,TAG_ID.FRAME],[TAG_NAMES.FRAMESET,TAG_ID.FRAMESET],[TAG_NAMES.H1,TAG_ID.H1],[TAG_NAMES.H2,TAG_ID.H2],[TAG_NAMES.H3,TAG_ID.H3],[TAG_NAMES.H4,TAG_ID.H4],[TAG_NAMES.H5,TAG_ID.H5],[TAG_NAMES.H6,TAG_ID.H6],[TAG_NAMES.HEAD,TAG_ID.HEAD],[TAG_NAMES.HEADER,TAG_ID.HEADER],[TAG_NAMES.HGROUP,TAG_ID.HGROUP],[TAG_NAMES.HR,TAG_ID.HR],[TAG_NAMES.HTML,TAG_ID.HTML],[TAG_NAMES.I,TAG_ID.I],[TAG_NAMES.IMG,TAG_ID.IMG],[TAG_NAMES.IMAGE,TAG_ID.IMAGE],[TAG_NAMES.INPUT,TAG_ID.INPUT],[TAG_NAMES.IFRAME,TAG_ID.IFRAME],[TAG_NAMES.KEYGEN,TAG_ID.KEYGEN],[TAG_NAMES.LABEL,TAG_ID.LABEL],[TAG_NAMES.LI,TAG_ID.LI],[TAG_NAMES.LINK,TAG_ID.LINK],[TAG_NAMES.LISTING,TAG_ID.LISTING],[TAG_NAMES.MAIN,TAG_ID.MAIN],[TAG_NAMES.MALIGNMARK,TAG_ID.MALIGNMARK],[TAG_NAMES.MARQUEE,TAG_ID.MARQUEE],[TAG_NAMES.MATH,TAG_ID.MATH],[TAG_NAMES.MENU,TAG_ID.MENU],[TAG_NAMES.META,TAG_ID.META],[TAG_NAMES.MGLYPH,TAG_ID.MGLYPH],[TAG_NAMES.MI,TAG_ID.MI],[TAG_NAMES.MO,TAG_ID.MO],[TAG_NAMES.MN,TAG_ID.MN],[TAG_NAMES.MS,TAG_ID.MS],[TAG_NAMES.MTEXT,TAG_ID.MTEXT],[TAG_NAMES.NAV,TAG_ID.NAV],[TAG_NAMES.NOBR,TAG_ID.NOBR],[TAG_NAMES.NOFRAMES,TAG_ID.NOFRAMES],[TAG_NAMES.NOEMBED,TAG_ID.NOEMBED],[TAG_NAMES.NOSCRIPT,TAG_ID.NOSCRIPT],[TAG_NAMES.OBJECT,TAG_ID.OBJECT],[TAG_NAMES.OL,TAG_ID.OL],[TAG_NAMES.OPTGROUP,TAG_ID.OPTGROUP],[TAG_NAMES.OPTION,TAG_ID.OPTION],[TAG_NAMES.P,TAG_ID.P],[TAG_NAMES.PARAM,TAG_ID.PARAM],[TAG_NAMES.PLAINTEXT,TAG_ID.PLAINTEXT],[TAG_NAMES.PRE,TAG_ID.PRE],[TAG_NAMES.RB,TAG_ID.RB],[TAG_NAMES.RP,TAG_ID.RP],[TAG_NAMES.RT,TAG_ID.RT],[TAG_NAMES.RTC,TAG_ID.RTC],[TAG_NAMES.RUBY,TAG_ID.RUBY],[TAG_NAMES.S,TAG_ID.S],[TAG_NAMES.SCRIPT,TAG_ID.SCRIPT],[TAG_NAMES.SEARCH,TAG_ID.SEARCH],[TAG_NAMES.SECTION,TAG_ID.SECTION],[TAG_NAMES.SELECT,TAG_ID.SELECT],[TAG_NAMES.SOURCE,TAG_ID.SOURCE],[TAG_NAMES.SMALL,TAG_ID.SMALL],[TAG_NAMES.SPAN,TAG_ID.SPAN],[TAG_NAMES.STRIKE,TAG_ID.STRIKE],[TAG_NAMES.STRONG,TAG_ID.STRONG],[TAG_NAMES.STYLE,TAG_ID.STYLE],[TAG_NAMES.SUB,TAG_ID.SUB],[TAG_NAMES.SUMMARY,TAG_ID.SUMMARY],[TAG_NAMES.SUP,TAG_ID.SUP],[TAG_NAMES.TABLE,TAG_ID.TABLE],[TAG_NAMES.TBODY,TAG_ID.TBODY],[TAG_NAMES.TEMPLATE,TAG_ID.TEMPLATE],[TAG_NAMES.TEXTAREA,TAG_ID.TEXTAREA],[TAG_NAMES.TFOOT,TAG_ID.TFOOT],[TAG_NAMES.TD,TAG_ID.TD],[TAG_NAMES.TH,TAG_ID.TH],[TAG_NAMES.THEAD,TAG_ID.THEAD],[TAG_NAMES.TITLE,TAG_ID.TITLE],[TAG_NAMES.TR,TAG_ID.TR],[TAG_NAMES.TRACK,TAG_ID.TRACK],[TAG_NAMES.TT,TAG_ID.TT],[TAG_NAMES.U,TAG_ID.U],[TAG_NAMES.UL,TAG_ID.UL],[TAG_NAMES.SVG,TAG_ID.SVG],[TAG_NAMES.VAR,TAG_ID.VAR],[TAG_NAMES.WBR,TAG_ID.WBR],[TAG_NAMES.XMP,TAG_ID.XMP]]);function getTagID(t){var e;return(e=TAG_NAME_TO_ID.get(t))!==null&&e!==void 0?e:TAG_ID.UNKNOWN}const $=TAG_ID,SPECIAL_ELEMENTS={[NS.HTML]:new Set([$.ADDRESS,$.APPLET,$.AREA,$.ARTICLE,$.ASIDE,$.BASE,$.BASEFONT,$.BGSOUND,$.BLOCKQUOTE,$.BODY,$.BR,$.BUTTON,$.CAPTION,$.CENTER,$.COL,$.COLGROUP,$.DD,$.DETAILS,$.DIR,$.DIV,$.DL,$.DT,$.EMBED,$.FIELDSET,$.FIGCAPTION,$.FIGURE,$.FOOTER,$.FORM,$.FRAME,$.FRAMESET,$.H1,$.H2,$.H3,$.H4,$.H5,$.H6,$.HEAD,$.HEADER,$.HGROUP,$.HR,$.HTML,$.IFRAME,$.IMG,$.INPUT,$.LI,$.LINK,$.LISTING,$.MAIN,$.MARQUEE,$.MENU,$.META,$.NAV,$.NOEMBED,$.NOFRAMES,$.NOSCRIPT,$.OBJECT,$.OL,$.P,$.PARAM,$.PLAINTEXT,$.PRE,$.SCRIPT,$.SECTION,$.SELECT,$.SOURCE,$.STYLE,$.SUMMARY,$.TABLE,$.TBODY,$.TD,$.TEMPLATE,$.TEXTAREA,$.TFOOT,$.TH,$.THEAD,$.TITLE,$.TR,$.TRACK,$.UL,$.WBR,$.XMP]),[NS.MATHML]:new Set([$.MI,$.MO,$.MN,$.MS,$.MTEXT,$.ANNOTATION_XML]),[NS.SVG]:new Set([$.TITLE,$.FOREIGN_OBJECT,$.DESC]),[NS.XLINK]:new Set,[NS.XML]:new Set,[NS.XMLNS]:new Set},NUMBERED_HEADERS=new Set([$.H1,$.H2,$.H3,$.H4,$.H5,$.H6]);TAG_NAMES.STYLE,TAG_NAMES.SCRIPT,TAG_NAMES.XMP,TAG_NAMES.IFRAME,TAG_NAMES.NOEMBED,TAG_NAMES.NOFRAMES,TAG_NAMES.PLAINTEXT;var State;(function(t){t[t.DATA=0]="DATA",t[t.RCDATA=1]="RCDATA",t[t.RAWTEXT=2]="RAWTEXT",t[t.SCRIPT_DATA=3]="SCRIPT_DATA",t[t.PLAINTEXT=4]="PLAINTEXT",t[t.TAG_OPEN=5]="TAG_OPEN",t[t.END_TAG_OPEN=6]="END_TAG_OPEN",t[t.TAG_NAME=7]="TAG_NAME",t[t.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",t[t.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",t[t.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",t[t.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",t[t.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",t[t.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",t[t.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",t[t.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",t[t.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",t[t.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",t[t.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",t[t.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",t[t.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",t[t.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",t[t.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",t[t.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",t[t.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",t[t.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",t[t.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",t[t.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",t[t.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",t[t.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",t[t.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",t[t.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",t[t.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",t[t.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",t[t.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",t[t.BOGUS_COMMENT=40]="BOGUS_COMMENT",t[t.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",t[t.COMMENT_START=42]="COMMENT_START",t[t.COMMENT_START_DASH=43]="COMMENT_START_DASH",t[t.COMMENT=44]="COMMENT",t[t.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",t[t.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",t[t.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",t[t.COMMENT_END_DASH=49]="COMMENT_END_DASH",t[t.COMMENT_END=50]="COMMENT_END",t[t.COMMENT_END_BANG=51]="COMMENT_END_BANG",t[t.DOCTYPE=52]="DOCTYPE",t[t.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",t[t.DOCTYPE_NAME=54]="DOCTYPE_NAME",t[t.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",t[t.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",t[t.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",t[t.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",t[t.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",t[t.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",t[t.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",t[t.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",t[t.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",t[t.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",t[t.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",t[t.CDATA_SECTION=68]="CDATA_SECTION",t[t.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",t[t.CDATA_SECTION_END=70]="CDATA_SECTION_END",t[t.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",t[t.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(State||(State={}));const TokenizerMode={DATA:State.DATA,RCDATA:State.RCDATA,RAWTEXT:State.RAWTEXT,SCRIPT_DATA:State.SCRIPT_DATA,PLAINTEXT:State.PLAINTEXT,CDATA_SECTION:State.CDATA_SECTION};function isAsciiDigit(t){return t>=CODE_POINTS.DIGIT_0&&t<=CODE_POINTS.DIGIT_9}function isAsciiUpper(t){return t>=CODE_POINTS.LATIN_CAPITAL_A&&t<=CODE_POINTS.LATIN_CAPITAL_Z}function isAsciiLower(t){return t>=CODE_POINTS.LATIN_SMALL_A&&t<=CODE_POINTS.LATIN_SMALL_Z}function isAsciiLetter(t){return isAsciiLower(t)||isAsciiUpper(t)}function isAsciiAlphaNumeric(t){return isAsciiLetter(t)||isAsciiDigit(t)}function toAsciiLower(t){return t+32}function isWhitespace(t){return t===CODE_POINTS.SPACE||t===CODE_POINTS.LINE_FEED||t===CODE_POINTS.TABULATION||t===CODE_POINTS.FORM_FEED}function isScriptDataDoubleEscapeSequenceEnd(t){return isWhitespace(t)||t===CODE_POINTS.SOLIDUS||t===CODE_POINTS.GREATER_THAN_SIGN}function getErrorForNumericCharacterReference(t){return t===CODE_POINTS.NULL?ERR.nullCharacterReference:t>1114111?ERR.characterReferenceOutsideUnicodeRange:isSurrogate(t)?ERR.surrogateCharacterReference:isUndefinedCodePoint(t)?ERR.noncharacterCharacterReference:isControlCodePoint(t)||t===CODE_POINTS.CARRIAGE_RETURN?ERR.controlCharacterReference:null}class Tokenizer{constructor(e,n){this.options=e,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=State.DATA,this.returnState=State.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Preprocessor(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new EntityDecoder(htmlDecodeTree,(i,o)=>{this.preprocessor.pos=this.entityStartPos+o-1,this._flushCodePointConsumedAsCharacterReference(i)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(ERR.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:i=>{this._err(ERR.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+i)},validateNumericCharacterReference:i=>{const o=getErrorForNumericCharacterReference(i);o&&this._err(o,1)}}:void 0)}_err(e,n=0){var i,o;(o=(i=this.handler).onParseError)===null||o===void 0||o.call(i,this.preprocessor.getError(e,n))}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e)}this.inLoop=!1}}pause(){this.paused=!0}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||e?.())}write(e,n,i){this.active=!0,this.preprocessor.write(e,n),this._runParsingLoop(),this.paused||i?.()}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let n=0;n<e;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(e,n){return this.preprocessor.startsWith(e,n)?(this._advanceBy(e.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:TokenType.START_TAG,tagName:"",tagID:TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:TokenType.END_TAG,tagName:"",tagID:TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(e){this.currentToken={type:TokenType.COMMENT,data:"",location:this.getCurrentLocation(e)}}_createDoctypeToken(e){this.currentToken={type:TokenType.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(e,n){this.currentCharacterToken={type:e,chars:n,location:this.currentLocation}}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var e,n;const i=this.currentToken;if(getTokenAttr(i,this.currentAttr.name)===null){if(i.attrs.push(this.currentAttr),i.location&&this.currentLocation){const o=(e=(n=i.location).attrs)!==null&&e!==void 0?e:n.attrs=Object.create(null);o[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ERR.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=getTagID(e.tagName),e.type===TokenType.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(ERR.endTagWithAttributes),e.selfClosing&&this._err(ERR.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk()}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case TokenType.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case TokenType.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case TokenType.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:TokenType.EOF,location:e}),this.active=!1}_appendCharToCurrentCharacterToken(e,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===e){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(e,n)}_emitCodePoint(e){const n=isWhitespace(e)?TokenType.WHITESPACE_CHARACTER:e===CODE_POINTS.NULL?TokenType.NULL_CHARACTER:TokenType.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(e))}_emitChars(e){this._appendCharToCurrentCharacterToken(TokenType.CHARACTER,e)}_startCharacterReference(){this.returnState=this.state,this.state=State.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?DecodingMode.Attribute:DecodingMode.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===State.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===State.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===State.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e)}_callState(e){switch(this.state){case State.DATA:{this._stateData(e);break}case State.RCDATA:{this._stateRcdata(e);break}case State.RAWTEXT:{this._stateRawtext(e);break}case State.SCRIPT_DATA:{this._stateScriptData(e);break}case State.PLAINTEXT:{this._statePlaintext(e);break}case State.TAG_OPEN:{this._stateTagOpen(e);break}case State.END_TAG_OPEN:{this._stateEndTagOpen(e);break}case State.TAG_NAME:{this._stateTagName(e);break}case State.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(e);break}case State.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(e);break}case State.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(e);break}case State.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(e);break}case State.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(e);break}case State.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(e);break}case State.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(e);break}case State.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(e);break}case State.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(e);break}case State.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(e);break}case State.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(e);break}case State.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(e);break}case State.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(e);break}case State.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(e);break}case State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(e);break}case State.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(e);break}case State.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(e);break}case State.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(e);break}case State.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(e);break}case State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(e);break}case State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(e);break}case State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(e);break}case State.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(e);break}case State.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(e);break}case State.ATTRIBUTE_NAME:{this._stateAttributeName(e);break}case State.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(e);break}case State.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(e);break}case State.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(e);break}case State.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(e);break}case State.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(e);break}case State.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(e);break}case State.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(e);break}case State.BOGUS_COMMENT:{this._stateBogusComment(e);break}case State.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(e);break}case State.COMMENT_START:{this._stateCommentStart(e);break}case State.COMMENT_START_DASH:{this._stateCommentStartDash(e);break}case State.COMMENT:{this._stateComment(e);break}case State.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(e);break}case State.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(e);break}case State.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(e);break}case State.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(e);break}case State.COMMENT_END_DASH:{this._stateCommentEndDash(e);break}case State.COMMENT_END:{this._stateCommentEnd(e);break}case State.COMMENT_END_BANG:{this._stateCommentEndBang(e);break}case State.DOCTYPE:{this._stateDoctype(e);break}case State.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(e);break}case State.DOCTYPE_NAME:{this._stateDoctypeName(e);break}case State.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(e);break}case State.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(e);break}case State.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(e);break}case State.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(e);break}case State.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(e);break}case State.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(e);break}case State.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break}case State.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(e);break}case State.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(e);break}case State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(e);break}case State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(e);break}case State.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(e);break}case State.BOGUS_DOCTYPE:{this._stateBogusDoctype(e);break}case State.CDATA_SECTION:{this._stateCdataSection(e);break}case State.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(e);break}case State.CDATA_SECTION_END:{this._stateCdataSectionEnd(e);break}case State.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case State.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(e);break}default:throw new Error("Unknown state")}}_stateData(e){switch(e){case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.TAG_OPEN;break}case CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitCodePoint(e);break}case CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRcdata(e){switch(e){case CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.RCDATA_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateRawtext(e){switch(e){case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.RAWTEXT_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptData(e){switch(e){case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_statePlaintext(e){switch(e){case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateTagOpen(e){if(isAsciiLetter(e))this._createStartTagToken(),this.state=State.TAG_NAME,this._stateTagName(e);else switch(e){case CODE_POINTS.EXCLAMATION_MARK:{this.state=State.MARKUP_DECLARATION_OPEN;break}case CODE_POINTS.SOLIDUS:{this.state=State.END_TAG_OPEN;break}case CODE_POINTS.QUESTION_MARK:{this._err(ERR.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=State.BOGUS_COMMENT,this._stateBogusComment(e);break}case CODE_POINTS.EOF:{this._err(ERR.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(ERR.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=State.DATA,this._stateData(e)}}_stateEndTagOpen(e){if(isAsciiLetter(e))this._createEndTagToken(),this.state=State.TAG_NAME,this._stateTagName(e);else switch(e){case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingEndTagName),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(ERR.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=State.BOGUS_COMMENT,this._stateBogusComment(e)}}_stateTagName(e){const n=this.currentToken;switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State.BEFORE_ATTRIBUTE_NAME;break}case CODE_POINTS.SOLIDUS:{this.state=State.SELF_CLOSING_START_TAG;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentTagToken();break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),n.tagName+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(isAsciiUpper(e)?toAsciiLower(e):e)}}_stateRcdataLessThanSign(e){e===CODE_POINTS.SOLIDUS?this.state=State.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=State.RCDATA,this._stateRcdata(e))}_stateRcdataEndTagOpen(e){isAsciiLetter(e)?(this.state=State.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=State.RCDATA,this._stateRcdata(e))}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=State.BEFORE_ATTRIBUTE_NAME,!1;case CODE_POINTS.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=State.SELF_CLOSING_START_TAG,!1;case CODE_POINTS.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=State.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=State.RCDATA,this._stateRcdata(e))}_stateRawtextLessThanSign(e){e===CODE_POINTS.SOLIDUS?this.state=State.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=State.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagOpen(e){isAsciiLetter(e)?(this.state=State.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=State.RAWTEXT,this._stateRawtext(e))}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=State.RAWTEXT,this._stateRawtext(e))}_stateScriptDataLessThanSign(e){switch(e){case CODE_POINTS.SOLIDUS:{this.state=State.SCRIPT_DATA_END_TAG_OPEN;break}case CODE_POINTS.EXCLAMATION_MARK:{this.state=State.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=State.SCRIPT_DATA,this._stateScriptData(e)}}_stateScriptDataEndTagOpen(e){isAsciiLetter(e)?(this.state=State.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=State.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=State.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStart(e){e===CODE_POINTS.HYPHEN_MINUS?(this.state=State.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=State.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscapeStartDash(e){e===CODE_POINTS.HYPHEN_MINUS?(this.state=State.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=State.SCRIPT_DATA,this._stateScriptData(e))}_stateScriptDataEscaped(e){switch(e){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataEscapedDash(e){switch(e){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.state=State.SCRIPT_DATA_ESCAPED,this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=State.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedDashDash(e){switch(e){case CODE_POINTS.HYPHEN_MINUS:{this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.SCRIPT_DATA,this._emitChars(">");break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.state=State.SCRIPT_DATA_ESCAPED,this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=State.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataEscapedLessThanSign(e){e===CODE_POINTS.SOLIDUS?this.state=State.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:isAsciiLetter(e)?(this._emitChars("<"),this.state=State.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=State.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagOpen(e){isAsciiLetter(e)?(this.state=State.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=State.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=State.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(SEQUENCES.SCRIPT,!1)&&isScriptDataDoubleEscapeSequenceEnd(this.preprocessor.peek(SEQUENCES.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<SEQUENCES.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=State.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e))}_stateScriptDataDoubleEscaped(e){switch(e){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDash(e){switch(e){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case CODE_POINTS.HYPHEN_MINUS:{this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.SCRIPT_DATA,this._emitChars(">");break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e)}}_stateScriptDataDoubleEscapedLessThanSign(e){e===CODE_POINTS.SOLIDUS?(this.state=State.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(SEQUENCES.SCRIPT,!1)&&isScriptDataDoubleEscapeSequenceEnd(this.preprocessor.peek(SEQUENCES.SCRIPT.length))){this._emitCodePoint(e);for(let n=0;n<SEQUENCES.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=State.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e))}_stateBeforeAttributeName(e){switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.SOLIDUS:case CODE_POINTS.GREATER_THAN_SIGN:case CODE_POINTS.EOF:{this.state=State.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case CODE_POINTS.EQUALS_SIGN:{this._err(ERR.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=State.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=State.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateAttributeName(e){switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:case CODE_POINTS.SOLIDUS:case CODE_POINTS.GREATER_THAN_SIGN:case CODE_POINTS.EOF:{this._leaveAttrName(),this.state=State.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break}case CODE_POINTS.EQUALS_SIGN:{this._leaveAttrName(),this.state=State.BEFORE_ATTRIBUTE_VALUE;break}case CODE_POINTS.QUOTATION_MARK:case CODE_POINTS.APOSTROPHE:case CODE_POINTS.LESS_THAN_SIGN:{this._err(ERR.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.currentAttr.name+=REPLACEMENT_CHARACTER;break}default:this.currentAttr.name+=String.fromCodePoint(isAsciiUpper(e)?toAsciiLower(e):e)}}_stateAfterAttributeName(e){switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.SOLIDUS:{this.state=State.SELF_CLOSING_START_TAG;break}case CODE_POINTS.EQUALS_SIGN:{this.state=State.BEFORE_ATTRIBUTE_VALUE;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentTagToken();break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=State.ATTRIBUTE_NAME,this._stateAttributeName(e)}}_stateBeforeAttributeValue(e){switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.QUOTATION_MARK:{this.state=State.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{this.state=State.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingAttributeValue),this.state=State.DATA,this.emitCurrentTagToken();break}default:this.state=State.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e)}}_stateAttributeValueDoubleQuoted(e){switch(e){case CODE_POINTS.QUOTATION_MARK:{this.state=State.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.currentAttr.value+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueSingleQuoted(e){switch(e){case CODE_POINTS.APOSTROPHE:{this.state=State.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.currentAttr.value+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAttributeValueUnquoted(e){switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this._leaveAttrValue(),this.state=State.BEFORE_ATTRIBUTE_NAME;break}case CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case CODE_POINTS.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=State.DATA,this.emitCurrentTagToken();break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.currentAttr.value+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.QUOTATION_MARK:case CODE_POINTS.APOSTROPHE:case CODE_POINTS.LESS_THAN_SIGN:case CODE_POINTS.EQUALS_SIGN:case CODE_POINTS.GRAVE_ACCENT:{this._err(ERR.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(e)}}_stateAfterAttributeValueQuoted(e){switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this._leaveAttrValue(),this.state=State.BEFORE_ATTRIBUTE_NAME;break}case CODE_POINTS.SOLIDUS:{this._leaveAttrValue(),this.state=State.SELF_CLOSING_START_TAG;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=State.DATA,this.emitCurrentTagToken();break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this._err(ERR.missingWhitespaceBetweenAttributes),this.state=State.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateSelfClosingStartTag(e){switch(e){case CODE_POINTS.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=State.DATA,this.emitCurrentTagToken();break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this._err(ERR.unexpectedSolidusInTag),this.state=State.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e)}}_stateBogusComment(e){const n=this.currentToken;switch(e){case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentComment(n);break}case CODE_POINTS.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),n.data+=REPLACEMENT_CHARACTER;break}default:n.data+=String.fromCodePoint(e)}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch(SEQUENCES.DASH_DASH,!0)?(this._createCommentToken(SEQUENCES.DASH_DASH.length+1),this.state=State.COMMENT_START):this._consumeSequenceIfMatch(SEQUENCES.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(SEQUENCES.DOCTYPE.length+1),this.state=State.DOCTYPE):this._consumeSequenceIfMatch(SEQUENCES.CDATA_START,!0)?this.inForeignNode?this.state=State.CDATA_SECTION:(this._err(ERR.cdataInHtmlContent),this._createCommentToken(SEQUENCES.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=State.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ERR.incorrectlyOpenedComment),this._createCommentToken(2),this.state=State.BOGUS_COMMENT,this._stateBogusComment(e))}_stateCommentStart(e){switch(e){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.COMMENT_START_DASH;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptClosingOfEmptyComment),this.state=State.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=State.COMMENT,this._stateComment(e)}}_stateCommentStartDash(e){const n=this.currentToken;switch(e){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.COMMENT_END;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptClosingOfEmptyComment),this.state=State.DATA,this.emitCurrentComment(n);break}case CODE_POINTS.EOF:{this._err(ERR.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=State.COMMENT,this._stateComment(e)}}_stateComment(e){const n=this.currentToken;switch(e){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.COMMENT_END_DASH;break}case CODE_POINTS.LESS_THAN_SIGN:{n.data+="<",this.state=State.COMMENT_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),n.data+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.EOF:{this._err(ERR.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(e)}}_stateCommentLessThanSign(e){const n=this.currentToken;switch(e){case CODE_POINTS.EXCLAMATION_MARK:{n.data+="!",this.state=State.COMMENT_LESS_THAN_SIGN_BANG;break}case CODE_POINTS.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=State.COMMENT,this._stateComment(e)}}_stateCommentLessThanSignBang(e){e===CODE_POINTS.HYPHEN_MINUS?this.state=State.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=State.COMMENT,this._stateComment(e))}_stateCommentLessThanSignBangDash(e){e===CODE_POINTS.HYPHEN_MINUS?this.state=State.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=State.COMMENT_END_DASH,this._stateCommentEndDash(e))}_stateCommentLessThanSignBangDashDash(e){e!==CODE_POINTS.GREATER_THAN_SIGN&&e!==CODE_POINTS.EOF&&this._err(ERR.nestedComment),this.state=State.COMMENT_END,this._stateCommentEnd(e)}_stateCommentEndDash(e){const n=this.currentToken;switch(e){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.COMMENT_END;break}case CODE_POINTS.EOF:{this._err(ERR.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=State.COMMENT,this._stateComment(e)}}_stateCommentEnd(e){const n=this.currentToken;switch(e){case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentComment(n);break}case CODE_POINTS.EXCLAMATION_MARK:{this.state=State.COMMENT_END_BANG;break}case CODE_POINTS.HYPHEN_MINUS:{n.data+="-";break}case CODE_POINTS.EOF:{this._err(ERR.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=State.COMMENT,this._stateComment(e)}}_stateCommentEndBang(e){const n=this.currentToken;switch(e){case CODE_POINTS.HYPHEN_MINUS:{n.data+="--!",this.state=State.COMMENT_END_DASH;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.incorrectlyClosedComment),this.state=State.DATA,this.emitCurrentComment(n);break}case CODE_POINTS.EOF:{this._err(ERR.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=State.COMMENT,this._stateComment(e)}}_stateDoctype(e){switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State.BEFORE_DOCTYPE_NAME;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ERR.missingWhitespaceBeforeDoctypeName),this.state=State.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e)}}_stateBeforeDoctypeName(e){if(isAsciiUpper(e))this._createDoctypeToken(String.fromCharCode(toAsciiLower(e))),this.state=State.DOCTYPE_NAME;else switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._createDoctypeToken(REPLACEMENT_CHARACTER),this.state=State.DOCTYPE_NAME;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=State.DOCTYPE_NAME}}_stateDoctypeName(e){const n=this.currentToken;switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State.AFTER_DOCTYPE_NAME;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentDoctype(n);break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),n.name+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(isAsciiUpper(e)?toAsciiLower(e):e)}}_stateAfterDoctypeName(e){const n=this.currentToken;switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentDoctype(n);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(SEQUENCES.PUBLIC,!1)?this.state=State.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(SEQUENCES.SYSTEM,!1)?this.state=State.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ERR.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(e))}}_stateAfterDoctypePublicKeyword(e){const n=this.currentToken;switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case CODE_POINTS.QUOTATION_MARK:{this._err(ERR.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=State.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{this._err(ERR.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=State.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=State.DATA,this.emitCurrentDoctype(n);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.QUOTATION_MARK:{n.publicId="",this.state=State.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{n.publicId="",this.state=State.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=State.DATA,this.emitCurrentDoctype(n);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypePublicIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case CODE_POINTS.QUOTATION_MARK:{this.state=State.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),n.publicId+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateDoctypePublicIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case CODE_POINTS.APOSTROPHE:{this.state=State.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),n.publicId+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(e)}}_stateAfterDoctypePublicIdentifier(e){const n=this.currentToken;switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentDoctype(n);break}case CODE_POINTS.QUOTATION_MARK:{this._err(ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{this._err(ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const n=this.currentToken;switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=State.DATA;break}case CODE_POINTS.QUOTATION_MARK:{n.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{n.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateAfterDoctypeSystemKeyword(e){const n=this.currentToken;switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case CODE_POINTS.QUOTATION_MARK:{this._err(ERR.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{this._err(ERR.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=State.DATA,this.emitCurrentDoctype(n);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBeforeDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.QUOTATION_MARK:{n.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{n.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=State.DATA,this.emitCurrentDoctype(n);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const n=this.currentToken;switch(e){case CODE_POINTS.QUOTATION_MARK:{this.state=State.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),n.systemId+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateDoctypeSystemIdentifierSingleQuoted(e){const n=this.currentToken;switch(e){case CODE_POINTS.APOSTROPHE:{this.state=State.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),n.systemId+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(e)}}_stateAfterDoctypeSystemIdentifier(e){const n=this.currentToken;switch(e){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ERR.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(e)}}_stateBogusDoctype(e){const n=this.currentToken;switch(e){case CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=State.DATA;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter);break}case CODE_POINTS.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(e){switch(e){case CODE_POINTS.RIGHT_SQUARE_BRACKET:{this.state=State.CDATA_SECTION_BRACKET;break}case CODE_POINTS.EOF:{this._err(ERR.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(e)}}_stateCdataSectionBracket(e){e===CODE_POINTS.RIGHT_SQUARE_BRACKET?this.state=State.CDATA_SECTION_END:(this._emitChars("]"),this.state=State.CDATA_SECTION,this._stateCdataSection(e))}_stateCdataSectionEnd(e){switch(e){case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA;break}case CODE_POINTS.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=State.CDATA_SECTION,this._stateCdataSection(e)}}_stateCharacterReference(){let e=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(e<0)if(this.preprocessor.lastChunkWritten)e=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}e===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(CODE_POINTS.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&isAsciiAlphaNumeric(this.preprocessor.peek(1))?State.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(e){isAsciiAlphaNumeric(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===CODE_POINTS.SEMICOLON&&this._err(ERR.unknownNamedCharacterReference),this.state=this.returnState,this._callState(e))}}const IMPLICIT_END_TAG_REQUIRED=new Set([TAG_ID.DD,TAG_ID.DT,TAG_ID.LI,TAG_ID.OPTGROUP,TAG_ID.OPTION,TAG_ID.P,TAG_ID.RB,TAG_ID.RP,TAG_ID.RT,TAG_ID.RTC]),IMPLICIT_END_TAG_REQUIRED_THOROUGHLY=new Set([...IMPLICIT_END_TAG_REQUIRED,TAG_ID.CAPTION,TAG_ID.COLGROUP,TAG_ID.TBODY,TAG_ID.TD,TAG_ID.TFOOT,TAG_ID.TH,TAG_ID.THEAD,TAG_ID.TR]),SCOPING_ELEMENTS_HTML=new Set([TAG_ID.APPLET,TAG_ID.CAPTION,TAG_ID.HTML,TAG_ID.MARQUEE,TAG_ID.OBJECT,TAG_ID.TABLE,TAG_ID.TD,TAG_ID.TEMPLATE,TAG_ID.TH]),SCOPING_ELEMENTS_HTML_LIST=new Set([...SCOPING_ELEMENTS_HTML,TAG_ID.OL,TAG_ID.UL]),SCOPING_ELEMENTS_HTML_BUTTON=new Set([...SCOPING_ELEMENTS_HTML,TAG_ID.BUTTON]),SCOPING_ELEMENTS_MATHML=new Set([TAG_ID.ANNOTATION_XML,TAG_ID.MI,TAG_ID.MN,TAG_ID.MO,TAG_ID.MS,TAG_ID.MTEXT]),SCOPING_ELEMENTS_SVG=new Set([TAG_ID.DESC,TAG_ID.FOREIGN_OBJECT,TAG_ID.TITLE]),TABLE_ROW_CONTEXT=new Set([TAG_ID.TR,TAG_ID.TEMPLATE,TAG_ID.HTML]),TABLE_BODY_CONTEXT=new Set([TAG_ID.TBODY,TAG_ID.TFOOT,TAG_ID.THEAD,TAG_ID.TEMPLATE,TAG_ID.HTML]),TABLE_CONTEXT=new Set([TAG_ID.TABLE,TAG_ID.TEMPLATE,TAG_ID.HTML]),TABLE_CELLS=new Set([TAG_ID.TD,TAG_ID.TH]);class OpenElementStack{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,n,i){this.treeAdapter=n,this.handler=i,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=TAG_ID.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===TAG_ID.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===NS.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,n){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,n,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,n){const i=this._indexOf(e);this.items[i]=n,i===this.stackTop&&(this.current=n)}insertAfter(e,n,i){const o=this._indexOf(e)+1;this.items.splice(o,0,n),this.tagIDs.splice(o,0,i),this.stackTop++,o===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,o===this.stackTop)}popUntilTagNamePopped(e){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(e,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==NS.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(e){for(;this.stackTop>=e;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<e)}}popUntilElementPopped(e){const n=this._indexOf(e);this.shortenToLength(Math.max(n,0))}popUntilPopped(e,n){const i=this._indexOfTagNames(e,n);this.shortenToLength(Math.max(i,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(NUMBERED_HEADERS,NS.HTML)}popUntilTableCellPopped(){this.popUntilPopped(TABLE_CELLS,NS.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,n){for(let i=this.stackTop;i>=0;i--)if(e.has(this.tagIDs[i])&&this.treeAdapter.getNamespaceURI(this.items[i])===n)return i;return-1}clearBackTo(e,n){const i=this._indexOfTagNames(e,n);this.shortenToLength(i+1)}clearBackToTableContext(){this.clearBackTo(TABLE_CONTEXT,NS.HTML)}clearBackToTableBodyContext(){this.clearBackTo(TABLE_BODY_CONTEXT,NS.HTML)}clearBackToTableRowContext(){this.clearBackTo(TABLE_ROW_CONTEXT,NS.HTML)}remove(e){const n=this._indexOf(e);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===TAG_ID.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const n=this._indexOf(e)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===TAG_ID.HTML}hasInDynamicScope(e,n){for(let i=this.stackTop;i>=0;i--){const o=this.tagIDs[i];switch(this.treeAdapter.getNamespaceURI(this.items[i])){case NS.HTML:{if(o===e)return!0;if(n.has(o))return!1;break}case NS.SVG:{if(SCOPING_ELEMENTS_SVG.has(o))return!1;break}case NS.MATHML:{if(SCOPING_ELEMENTS_MATHML.has(o))return!1;break}}}return!0}hasInScope(e){return this.hasInDynamicScope(e,SCOPING_ELEMENTS_HTML)}hasInListItemScope(e){return this.hasInDynamicScope(e,SCOPING_ELEMENTS_HTML_LIST)}hasInButtonScope(e){return this.hasInDynamicScope(e,SCOPING_ELEMENTS_HTML_BUTTON)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const n=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case NS.HTML:{if(NUMBERED_HEADERS.has(n))return!0;if(SCOPING_ELEMENTS_HTML.has(n))return!1;break}case NS.SVG:{if(SCOPING_ELEMENTS_SVG.has(n))return!1;break}case NS.MATHML:{if(SCOPING_ELEMENTS_MATHML.has(n))return!1;break}}}return!0}hasInTableScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===NS.HTML)switch(this.tagIDs[n]){case e:return!0;case TAG_ID.TABLE:case TAG_ID.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===NS.HTML)switch(this.tagIDs[e]){case TAG_ID.TBODY:case TAG_ID.THEAD:case TAG_ID.TFOOT:return!0;case TAG_ID.TABLE:case TAG_ID.HTML:return!1}return!0}hasInSelectScope(e){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===NS.HTML)switch(this.tagIDs[n]){case e:return!0;case TAG_ID.OPTION:case TAG_ID.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&IMPLICIT_END_TAG_REQUIRED.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&IMPLICIT_END_TAG_REQUIRED_THOROUGHLY.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==void 0&&this.currentTagId!==e&&IMPLICIT_END_TAG_REQUIRED_THOROUGHLY.has(this.currentTagId);)this.pop()}}const NOAH_ARK_CAPACITY=3;var EntryType;(function(t){t[t.Marker=0]="Marker",t[t.Element=1]="Element"})(EntryType||(EntryType={}));const MARKER={type:EntryType.Marker};class FormattingElementList{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,n){const i=[],o=n.length,u=this.treeAdapter.getTagName(e),l=this.treeAdapter.getNamespaceURI(e);for(let c=0;c<this.entries.length;c++){const f=this.entries[c];if(f.type===EntryType.Marker)break;const{element:d}=f;if(this.treeAdapter.getTagName(d)===u&&this.treeAdapter.getNamespaceURI(d)===l){const m=this.treeAdapter.getAttrList(d);m.length===o&&i.push({idx:c,attrs:m})}}return i}_ensureNoahArkCondition(e){if(this.entries.length<NOAH_ARK_CAPACITY)return;const n=this.treeAdapter.getAttrList(e),i=this._getNoahArkConditionCandidates(e,n);if(i.length<NOAH_ARK_CAPACITY)return;const o=new Map(n.map(l=>[l.name,l.value]));let u=0;for(let l=0;l<i.length;l++){const c=i[l];c.attrs.every(f=>o.get(f.name)===f.value)&&(u+=1,u>=NOAH_ARK_CAPACITY&&this.entries.splice(c.idx,1))}}insertMarker(){this.entries.unshift(MARKER)}pushElement(e,n){this._ensureNoahArkCondition(e),this.entries.unshift({type:EntryType.Element,element:e,token:n})}insertElementAfterBookmark(e,n){const i=this.entries.indexOf(this.bookmark);this.entries.splice(i,0,{type:EntryType.Element,element:e,token:n})}removeEntry(e){const n=this.entries.indexOf(e);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const e=this.entries.indexOf(MARKER);e===-1?this.entries.length=0:this.entries.splice(0,e+1)}getElementEntryInScopeWithTagName(e){const n=this.entries.find(i=>i.type===EntryType.Marker||this.treeAdapter.getTagName(i.element)===e);return n&&n.type===EntryType.Element?n:null}getElementEntry(e){return this.entries.find(n=>n.type===EntryType.Element&&n.element===e)}}const defaultTreeAdapter={createDocument(){return{nodeName:"#document",mode:DOCUMENT_MODE.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(t,e,n){return{nodeName:t,tagName:t,attrs:n,namespaceURI:e,childNodes:[],parentNode:null}},createCommentNode(t){return{nodeName:"#comment",data:t,parentNode:null}},createTextNode(t){return{nodeName:"#text",value:t,parentNode:null}},appendChild(t,e){t.childNodes.push(e),e.parentNode=t},insertBefore(t,e,n){const i=t.childNodes.indexOf(n);t.childNodes.splice(i,0,e),e.parentNode=t},setTemplateContent(t,e){t.content=e},getTemplateContent(t){return t.content},setDocumentType(t,e,n,i){const o=t.childNodes.find(u=>u.nodeName==="#documentType");if(o)o.name=e,o.publicId=n,o.systemId=i;else{const u={nodeName:"#documentType",name:e,publicId:n,systemId:i,parentNode:null};defaultTreeAdapter.appendChild(t,u)}},setDocumentMode(t,e){t.mode=e},getDocumentMode(t){return t.mode},detachNode(t){if(t.parentNode){const e=t.parentNode.childNodes.indexOf(t);t.parentNode.childNodes.splice(e,1),t.parentNode=null}},insertText(t,e){if(t.childNodes.length>0){const n=t.childNodes[t.childNodes.length-1];if(defaultTreeAdapter.isTextNode(n)){n.value+=e;return}}defaultTreeAdapter.appendChild(t,defaultTreeAdapter.createTextNode(e))},insertTextBefore(t,e,n){const i=t.childNodes[t.childNodes.indexOf(n)-1];i&&defaultTreeAdapter.isTextNode(i)?i.value+=e:defaultTreeAdapter.insertBefore(t,defaultTreeAdapter.createTextNode(e),n)},adoptAttributes(t,e){const n=new Set(t.attrs.map(i=>i.name));for(let i=0;i<e.length;i++)n.has(e[i].name)||t.attrs.push(e[i])},getFirstChild(t){return t.childNodes[0]},getChildNodes(t){return t.childNodes},getParentNode(t){return t.parentNode},getAttrList(t){return t.attrs},getTagName(t){return t.tagName},getNamespaceURI(t){return t.namespaceURI},getTextNodeContent(t){return t.value},getCommentNodeContent(t){return t.data},getDocumentTypeNodeName(t){return t.name},getDocumentTypeNodePublicId(t){return t.publicId},getDocumentTypeNodeSystemId(t){return t.systemId},isTextNode(t){return t.nodeName==="#text"},isCommentNode(t){return t.nodeName==="#comment"},isDocumentTypeNode(t){return t.nodeName==="#documentType"},isElementNode(t){return Object.prototype.hasOwnProperty.call(t,"tagName")},setNodeSourceCodeLocation(t,e){t.sourceCodeLocation=e},getNodeSourceCodeLocation(t){return t.sourceCodeLocation},updateNodeSourceCodeLocation(t,e){t.sourceCodeLocation={...t.sourceCodeLocation,...e}}},VALID_DOCTYPE_NAME="html",VALID_SYSTEM_ID="about:legacy-compat",QUIRKS_MODE_SYSTEM_ID="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",QUIRKS_MODE_PUBLIC_ID_PREFIXES=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES=[...QUIRKS_MODE_PUBLIC_ID_PREFIXES,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],QUIRKS_MODE_PUBLIC_IDS=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),LIMITED_QUIRKS_PUBLIC_ID_PREFIXES=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],LIMITED_QUIRKS_WITH_SYSTEM_ID_PUBLIC_ID_PREFIXES=[...LIMITED_QUIRKS_PUBLIC_ID_PREFIXES,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function hasPrefix(t,e){return e.some(n=>t.startsWith(n))}function isConforming(t){return t.name===VALID_DOCTYPE_NAME&&t.publicId===null&&(t.systemId===null||t.systemId===VALID_SYSTEM_ID)}function getDocumentMode(t){if(t.name!==VALID_DOCTYPE_NAME)return DOCUMENT_MODE.QUIRKS;const{systemId:e}=t;if(e&&e.toLowerCase()===QUIRKS_MODE_SYSTEM_ID)return DOCUMENT_MODE.QUIRKS;let{publicId:n}=t;if(n!==null){if(n=n.toLowerCase(),QUIRKS_MODE_PUBLIC_IDS.has(n))return DOCUMENT_MODE.QUIRKS;let i=e===null?QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES:QUIRKS_MODE_PUBLIC_ID_PREFIXES;if(hasPrefix(n,i))return DOCUMENT_MODE.QUIRKS;if(i=e===null?LIMITED_QUIRKS_PUBLIC_ID_PREFIXES:LIMITED_QUIRKS_WITH_SYSTEM_ID_PUBLIC_ID_PREFIXES,hasPrefix(n,i))return DOCUMENT_MODE.LIMITED_QUIRKS}return DOCUMENT_MODE.NO_QUIRKS}const MIME_TYPES={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},DEFINITION_URL_ATTR="definitionurl",ADJUSTED_DEFINITION_URL_ATTR="definitionURL",SVG_ATTRS_ADJUSTMENT_MAP=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),XML_ATTRS_ADJUSTMENT_MAP=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:NS.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:NS.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:NS.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:NS.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:NS.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:NS.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:NS.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:NS.XML}],["xml:space",{prefix:"xml",name:"space",namespace:NS.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:NS.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:NS.XMLNS}]]),SVG_TAG_NAMES_ADJUSTMENT_MAP=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(t=>[t.toLowerCase(),t])),EXITS_FOREIGN_CONTENT=new Set([TAG_ID.B,TAG_ID.BIG,TAG_ID.BLOCKQUOTE,TAG_ID.BODY,TAG_ID.BR,TAG_ID.CENTER,TAG_ID.CODE,TAG_ID.DD,TAG_ID.DIV,TAG_ID.DL,TAG_ID.DT,TAG_ID.EM,TAG_ID.EMBED,TAG_ID.H1,TAG_ID.H2,TAG_ID.H3,TAG_ID.H4,TAG_ID.H5,TAG_ID.H6,TAG_ID.HEAD,TAG_ID.HR,TAG_ID.I,TAG_ID.IMG,TAG_ID.LI,TAG_ID.LISTING,TAG_ID.MENU,TAG_ID.META,TAG_ID.NOBR,TAG_ID.OL,TAG_ID.P,TAG_ID.PRE,TAG_ID.RUBY,TAG_ID.S,TAG_ID.SMALL,TAG_ID.SPAN,TAG_ID.STRONG,TAG_ID.STRIKE,TAG_ID.SUB,TAG_ID.SUP,TAG_ID.TABLE,TAG_ID.TT,TAG_ID.U,TAG_ID.UL,TAG_ID.VAR]);function causesExit(t){const e=t.tagID;return e===TAG_ID.FONT&&t.attrs.some(({name:i})=>i===ATTRS.COLOR||i===ATTRS.SIZE||i===ATTRS.FACE)||EXITS_FOREIGN_CONTENT.has(e)}function adjustTokenMathMLAttrs(t){for(let e=0;e<t.attrs.length;e++)if(t.attrs[e].name===DEFINITION_URL_ATTR){t.attrs[e].name=ADJUSTED_DEFINITION_URL_ATTR;break}}function adjustTokenSVGAttrs(t){for(let e=0;e<t.attrs.length;e++){const n=SVG_ATTRS_ADJUSTMENT_MAP.get(t.attrs[e].name);n!=null&&(t.attrs[e].name=n)}}function adjustTokenXMLAttrs(t){for(let e=0;e<t.attrs.length;e++){const n=XML_ATTRS_ADJUSTMENT_MAP.get(t.attrs[e].name);n&&(t.attrs[e].prefix=n.prefix,t.attrs[e].name=n.name,t.attrs[e].namespace=n.namespace)}}function adjustTokenSVGTagName(t){const e=SVG_TAG_NAMES_ADJUSTMENT_MAP.get(t.tagName);e!=null&&(t.tagName=e,t.tagID=getTagID(t.tagName))}function isMathMLTextIntegrationPoint(t,e){return e===NS.MATHML&&(t===TAG_ID.MI||t===TAG_ID.MO||t===TAG_ID.MN||t===TAG_ID.MS||t===TAG_ID.MTEXT)}function isHtmlIntegrationPoint(t,e,n){if(e===NS.MATHML&&t===TAG_ID.ANNOTATION_XML){for(let i=0;i<n.length;i++)if(n[i].name===ATTRS.ENCODING){const o=n[i].value.toLowerCase();return o===MIME_TYPES.TEXT_HTML||o===MIME_TYPES.APPLICATION_XML}}return e===NS.SVG&&(t===TAG_ID.FOREIGN_OBJECT||t===TAG_ID.DESC||t===TAG_ID.TITLE)}function isIntegrationPoint(t,e,n,i){return(!i||i===NS.HTML)&&isHtmlIntegrationPoint(t,e,n)||(!i||i===NS.MATHML)&&isMathMLTextIntegrationPoint(t,e)}const HIDDEN_INPUT_TYPE="hidden",AA_OUTER_LOOP_ITER=8,AA_INNER_LOOP_ITER=3;var InsertionMode;(function(t){t[t.INITIAL=0]="INITIAL",t[t.BEFORE_HTML=1]="BEFORE_HTML",t[t.BEFORE_HEAD=2]="BEFORE_HEAD",t[t.IN_HEAD=3]="IN_HEAD",t[t.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",t[t.AFTER_HEAD=5]="AFTER_HEAD",t[t.IN_BODY=6]="IN_BODY",t[t.TEXT=7]="TEXT",t[t.IN_TABLE=8]="IN_TABLE",t[t.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",t[t.IN_CAPTION=10]="IN_CAPTION",t[t.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",t[t.IN_TABLE_BODY=12]="IN_TABLE_BODY",t[t.IN_ROW=13]="IN_ROW",t[t.IN_CELL=14]="IN_CELL",t[t.IN_SELECT=15]="IN_SELECT",t[t.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",t[t.IN_TEMPLATE=17]="IN_TEMPLATE",t[t.AFTER_BODY=18]="AFTER_BODY",t[t.IN_FRAMESET=19]="IN_FRAMESET",t[t.AFTER_FRAMESET=20]="AFTER_FRAMESET",t[t.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",t[t.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(InsertionMode||(InsertionMode={}));const BASE_LOC={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},TABLE_STRUCTURE_TAGS=new Set([TAG_ID.TABLE,TAG_ID.TBODY,TAG_ID.TFOOT,TAG_ID.THEAD,TAG_ID.TR]),defaultParserOptions={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:defaultTreeAdapter,onParseError:null};class Parser{constructor(e,n,i=null,o=null){this.fragmentContext=i,this.scriptHandler=o,this.currentToken=null,this.stopped=!1,this.insertionMode=InsertionMode.INITIAL,this.originalInsertionMode=InsertionMode.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...defaultParserOptions,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new Tokenizer(this.options,this),this.activeFormattingElements=new FormattingElementList(this.treeAdapter),this.fragmentContextID=i?getTagID(this.treeAdapter.getTagName(i)):TAG_ID.UNKNOWN,this._setContextModes(i??this.document,this.fragmentContextID),this.openElements=new OpenElementStack(this.document,this.treeAdapter,this)}static parse(e,n){const i=new this(n);return i.tokenizer.write(e,!0),i.document}static getFragmentParser(e,n){const i={...defaultParserOptions,...n};e??(e=i.treeAdapter.createElement(TAG_NAMES.TEMPLATE,NS.HTML,[]));const o=i.treeAdapter.createElement("documentmock",NS.HTML,[]),u=new this(i,o,e);return u.fragmentContextID===TAG_ID.TEMPLATE&&u.tmplInsertionModeStack.unshift(InsertionMode.IN_TEMPLATE),u._initTokenizerForFragmentParsing(),u._insertFakeRootElement(),u._resetInsertionMode(),u._findFormInFragmentContext(),u}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,n),n}_err(e,n,i){var o;if(!this.onParseError)return;const u=(o=e.location)!==null&&o!==void 0?o:BASE_LOC,l={code:n,startLine:u.startLine,startCol:u.startCol,startOffset:u.startOffset,endLine:i?u.startLine:u.endLine,endCol:i?u.startCol:u.endCol,endOffset:i?u.startOffset:u.endOffset};this.onParseError(l)}onItemPush(e,n,i){var o,u;(u=(o=this.treeAdapter).onItemPush)===null||u===void 0||u.call(o,e),i&&this.openElements.stackTop>0&&this._setContextModes(e,n)}onItemPop(e,n){var i,o;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),(o=(i=this.treeAdapter).onItemPop)===null||o===void 0||o.call(i,e,this.openElements.current),n){let u,l;this.openElements.stackTop===0&&this.fragmentContext?(u=this.fragmentContext,l=this.fragmentContextID):{current:u,currentTagId:l}=this.openElements,this._setContextModes(u,l)}}_setContextModes(e,n){const i=e===this.document||e&&this.treeAdapter.getNamespaceURI(e)===NS.HTML;this.currentNotInHTML=!i,this.tokenizer.inForeignNode=!i&&e!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,e)}_switchToTextParsing(e,n){this._insertElement(e,NS.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=InsertionMode.TEXT}switchToPlaintextParsing(){this.insertionMode=InsertionMode.TEXT,this.originalInsertionMode=InsertionMode.IN_BODY,this.tokenizer.state=TokenizerMode.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===TAG_NAMES.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==NS.HTML))switch(this.fragmentContextID){case TAG_ID.TITLE:case TAG_ID.TEXTAREA:{this.tokenizer.state=TokenizerMode.RCDATA;break}case TAG_ID.STYLE:case TAG_ID.XMP:case TAG_ID.IFRAME:case TAG_ID.NOEMBED:case TAG_ID.NOFRAMES:case TAG_ID.NOSCRIPT:{this.tokenizer.state=TokenizerMode.RAWTEXT;break}case TAG_ID.SCRIPT:{this.tokenizer.state=TokenizerMode.SCRIPT_DATA;break}case TAG_ID.PLAINTEXT:{this.tokenizer.state=TokenizerMode.PLAINTEXT;break}}}_setDocumentType(e){const n=e.name||"",i=e.publicId||"",o=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,i,o),e.location){const l=this.treeAdapter.getChildNodes(this.document).find(c=>this.treeAdapter.isDocumentTypeNode(c));l&&this.treeAdapter.setNodeSourceCodeLocation(l,e.location)}}_attachElementToTree(e,n){if(this.options.sourceCodeLocationInfo){const i=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(e,i)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const i=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(i??this.document,e)}}_appendElement(e,n){const i=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(i,e.location)}_insertElement(e,n){const i=this.treeAdapter.createElement(e.tagName,n,e.attrs);this._attachElementToTree(i,e.location),this.openElements.push(i,e.tagID)}_insertFakeElement(e,n){const i=this.treeAdapter.createElement(e,NS.HTML,[]);this._attachElementToTree(i,null),this.openElements.push(i,n)}_insertTemplate(e){const n=this.treeAdapter.createElement(e.tagName,NS.HTML,e.attrs),i=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,i),this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(i,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(TAG_NAMES.HTML,NS.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,TAG_ID.HTML)}_appendCommentNode(e,n){const i=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(n,i),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(i,e.location)}_insertCharacters(e){let n,i;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:i}=this._findFosterParentingLocation(),i?this.treeAdapter.insertTextBefore(n,e.chars,i):this.treeAdapter.insertText(n,e.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,e.chars)),!e.location)return;const o=this.treeAdapter.getChildNodes(n),u=i?o.lastIndexOf(i):o.length,l=o[u-1];if(this.treeAdapter.getNodeSourceCodeLocation(l)){const{endLine:f,endCol:d,endOffset:m}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(l,{endLine:f,endCol:d,endOffset:m})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(l,e.location)}_adoptNodes(e,n){for(let i=this.treeAdapter.getFirstChild(e);i;i=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(i),this.treeAdapter.appendChild(n,i)}_setEndLocation(e,n){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&n.location){const i=n.location,o=this.treeAdapter.getTagName(e),u=n.type===TokenType.END_TAG&&o===n.tagName?{endTag:{...i},endLine:i.endLine,endCol:i.endCol,endOffset:i.endOffset}:{endLine:i.startLine,endCol:i.startCol,endOffset:i.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,u)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let n,i;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,i=this.fragmentContextID):{current:n,currentTagId:i}=this.openElements,e.tagID===TAG_ID.SVG&&this.treeAdapter.getTagName(n)===TAG_NAMES.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===NS.MATHML?!1:this.tokenizer.inForeignNode||(e.tagID===TAG_ID.MGLYPH||e.tagID===TAG_ID.MALIGNMARK)&&i!==void 0&&!this._isIntegrationPoint(i,n,NS.HTML)}_processToken(e){switch(e.type){case TokenType.CHARACTER:{this.onCharacter(e);break}case TokenType.NULL_CHARACTER:{this.onNullCharacter(e);break}case TokenType.COMMENT:{this.onComment(e);break}case TokenType.DOCTYPE:{this.onDoctype(e);break}case TokenType.START_TAG:{this._processStartTag(e);break}case TokenType.END_TAG:{this.onEndTag(e);break}case TokenType.EOF:{this.onEof(e);break}case TokenType.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(e);break}}}_isIntegrationPoint(e,n,i){const o=this.treeAdapter.getNamespaceURI(n),u=this.treeAdapter.getAttrList(n);return isIntegrationPoint(e,o,u,i)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const n=this.activeFormattingElements.entries.findIndex(o=>o.type===EntryType.Marker||this.openElements.contains(o.element)),i=n===-1?e-1:n-1;for(let o=i;o>=0;o--){const u=this.activeFormattingElements.entries[o];this._insertElement(u.token,this.treeAdapter.getNamespaceURI(u.element)),u.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=InsertionMode.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(TAG_ID.P),this.openElements.popUntilTagNamePopped(TAG_ID.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(e===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case TAG_ID.TR:{this.insertionMode=InsertionMode.IN_ROW;return}case TAG_ID.TBODY:case TAG_ID.THEAD:case TAG_ID.TFOOT:{this.insertionMode=InsertionMode.IN_TABLE_BODY;return}case TAG_ID.CAPTION:{this.insertionMode=InsertionMode.IN_CAPTION;return}case TAG_ID.COLGROUP:{this.insertionMode=InsertionMode.IN_COLUMN_GROUP;return}case TAG_ID.TABLE:{this.insertionMode=InsertionMode.IN_TABLE;return}case TAG_ID.BODY:{this.insertionMode=InsertionMode.IN_BODY;return}case TAG_ID.FRAMESET:{this.insertionMode=InsertionMode.IN_FRAMESET;return}case TAG_ID.SELECT:{this._resetInsertionModeForSelect(e);return}case TAG_ID.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case TAG_ID.HTML:{this.insertionMode=this.headElement?InsertionMode.AFTER_HEAD:InsertionMode.BEFORE_HEAD;return}case TAG_ID.TD:case TAG_ID.TH:{if(e>0){this.insertionMode=InsertionMode.IN_CELL;return}break}case TAG_ID.HEAD:{if(e>0){this.insertionMode=InsertionMode.IN_HEAD;return}break}}this.insertionMode=InsertionMode.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let n=e-1;n>0;n--){const i=this.openElements.tagIDs[n];if(i===TAG_ID.TEMPLATE)break;if(i===TAG_ID.TABLE){this.insertionMode=InsertionMode.IN_SELECT_IN_TABLE;return}}this.insertionMode=InsertionMode.IN_SELECT}_isElementCausesFosterParenting(e){return TABLE_STRUCTURE_TAGS.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const n=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case TAG_ID.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===NS.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case TAG_ID.TABLE:{const i=this.treeAdapter.getParentNode(n);return i?{parent:i,beforeElement:n}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,e,n.beforeElement):this.treeAdapter.appendChild(n.parent,e)}_isSpecialElement(e,n){const i=this.treeAdapter.getNamespaceURI(e);return SPECIAL_ELEMENTS[i].has(n)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){characterInForeignContent(this,e);return}switch(this.insertionMode){case InsertionMode.INITIAL:{tokenInInitialMode(this,e);break}case InsertionMode.BEFORE_HTML:{tokenBeforeHtml(this,e);break}case InsertionMode.BEFORE_HEAD:{tokenBeforeHead(this,e);break}case InsertionMode.IN_HEAD:{tokenInHead(this,e);break}case InsertionMode.IN_HEAD_NO_SCRIPT:{tokenInHeadNoScript(this,e);break}case InsertionMode.AFTER_HEAD:{tokenAfterHead(this,e);break}case InsertionMode.IN_BODY:case InsertionMode.IN_CAPTION:case InsertionMode.IN_CELL:case InsertionMode.IN_TEMPLATE:{characterInBody(this,e);break}case InsertionMode.TEXT:case InsertionMode.IN_SELECT:case InsertionMode.IN_SELECT_IN_TABLE:{this._insertCharacters(e);break}case InsertionMode.IN_TABLE:case InsertionMode.IN_TABLE_BODY:case InsertionMode.IN_ROW:{characterInTable(this,e);break}case InsertionMode.IN_TABLE_TEXT:{characterInTableText(this,e);break}case InsertionMode.IN_COLUMN_GROUP:{tokenInColumnGroup(this,e);break}case InsertionMode.AFTER_BODY:{tokenAfterBody(this,e);break}case InsertionMode.AFTER_AFTER_BODY:{tokenAfterAfterBody(this,e);break}}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){nullCharacterInForeignContent(this,e);return}switch(this.insertionMode){case InsertionMode.INITIAL:{tokenInInitialMode(this,e);break}case InsertionMode.BEFORE_HTML:{tokenBeforeHtml(this,e);break}case InsertionMode.BEFORE_HEAD:{tokenBeforeHead(this,e);break}case InsertionMode.IN_HEAD:{tokenInHead(this,e);break}case InsertionMode.IN_HEAD_NO_SCRIPT:{tokenInHeadNoScript(this,e);break}case InsertionMode.AFTER_HEAD:{tokenAfterHead(this,e);break}case InsertionMode.TEXT:{this._insertCharacters(e);break}case InsertionMode.IN_TABLE:case InsertionMode.IN_TABLE_BODY:case InsertionMode.IN_ROW:{characterInTable(this,e);break}case InsertionMode.IN_COLUMN_GROUP:{tokenInColumnGroup(this,e);break}case InsertionMode.AFTER_BODY:{tokenAfterBody(this,e);break}case InsertionMode.AFTER_AFTER_BODY:{tokenAfterAfterBody(this,e);break}}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML){appendComment(this,e);return}switch(this.insertionMode){case InsertionMode.INITIAL:case InsertionMode.BEFORE_HTML:case InsertionMode.BEFORE_HEAD:case InsertionMode.IN_HEAD:case InsertionMode.IN_HEAD_NO_SCRIPT:case InsertionMode.AFTER_HEAD:case InsertionMode.IN_BODY:case InsertionMode.IN_TABLE:case InsertionMode.IN_CAPTION:case InsertionMode.IN_COLUMN_GROUP:case InsertionMode.IN_TABLE_BODY:case InsertionMode.IN_ROW:case InsertionMode.IN_CELL:case InsertionMode.IN_SELECT:case InsertionMode.IN_SELECT_IN_TABLE:case InsertionMode.IN_TEMPLATE:case InsertionMode.IN_FRAMESET:case InsertionMode.AFTER_FRAMESET:{appendComment(this,e);break}case InsertionMode.IN_TABLE_TEXT:{tokenInTableText(this,e);break}case InsertionMode.AFTER_BODY:{appendCommentToRootHtmlElement(this,e);break}case InsertionMode.AFTER_AFTER_BODY:case InsertionMode.AFTER_AFTER_FRAMESET:{appendCommentToDocument(this,e);break}}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case InsertionMode.INITIAL:{doctypeInInitialMode(this,e);break}case InsertionMode.BEFORE_HEAD:case InsertionMode.IN_HEAD:case InsertionMode.IN_HEAD_NO_SCRIPT:case InsertionMode.AFTER_HEAD:{this._err(e,ERR.misplacedDoctype);break}case InsertionMode.IN_TABLE_TEXT:{tokenInTableText(this,e);break}}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,ERR.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?startTagInForeignContent(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case InsertionMode.INITIAL:{tokenInInitialMode(this,e);break}case InsertionMode.BEFORE_HTML:{startTagBeforeHtml(this,e);break}case InsertionMode.BEFORE_HEAD:{startTagBeforeHead(this,e);break}case InsertionMode.IN_HEAD:{startTagInHead(this,e);break}case InsertionMode.IN_HEAD_NO_SCRIPT:{startTagInHeadNoScript(this,e);break}case InsertionMode.AFTER_HEAD:{startTagAfterHead(this,e);break}case InsertionMode.IN_BODY:{startTagInBody(this,e);break}case InsertionMode.IN_TABLE:{startTagInTable(this,e);break}case InsertionMode.IN_TABLE_TEXT:{tokenInTableText(this,e);break}case InsertionMode.IN_CAPTION:{startTagInCaption(this,e);break}case InsertionMode.IN_COLUMN_GROUP:{startTagInColumnGroup(this,e);break}case InsertionMode.IN_TABLE_BODY:{startTagInTableBody(this,e);break}case InsertionMode.IN_ROW:{startTagInRow(this,e);break}case InsertionMode.IN_CELL:{startTagInCell(this,e);break}case InsertionMode.IN_SELECT:{startTagInSelect(this,e);break}case InsertionMode.IN_SELECT_IN_TABLE:{startTagInSelectInTable(this,e);break}case InsertionMode.IN_TEMPLATE:{startTagInTemplate(this,e);break}case InsertionMode.AFTER_BODY:{startTagAfterBody(this,e);break}case InsertionMode.IN_FRAMESET:{startTagInFrameset(this,e);break}case InsertionMode.AFTER_FRAMESET:{startTagAfterFrameset(this,e);break}case InsertionMode.AFTER_AFTER_BODY:{startTagAfterAfterBody(this,e);break}case InsertionMode.AFTER_AFTER_FRAMESET:{startTagAfterAfterFrameset(this,e);break}}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?endTagInForeignContent(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case InsertionMode.INITIAL:{tokenInInitialMode(this,e);break}case InsertionMode.BEFORE_HTML:{endTagBeforeHtml(this,e);break}case InsertionMode.BEFORE_HEAD:{endTagBeforeHead(this,e);break}case InsertionMode.IN_HEAD:{endTagInHead(this,e);break}case InsertionMode.IN_HEAD_NO_SCRIPT:{endTagInHeadNoScript(this,e);break}case InsertionMode.AFTER_HEAD:{endTagAfterHead(this,e);break}case InsertionMode.IN_BODY:{endTagInBody(this,e);break}case InsertionMode.TEXT:{endTagInText(this,e);break}case InsertionMode.IN_TABLE:{endTagInTable(this,e);break}case InsertionMode.IN_TABLE_TEXT:{tokenInTableText(this,e);break}case InsertionMode.IN_CAPTION:{endTagInCaption(this,e);break}case InsertionMode.IN_COLUMN_GROUP:{endTagInColumnGroup(this,e);break}case InsertionMode.IN_TABLE_BODY:{endTagInTableBody(this,e);break}case InsertionMode.IN_ROW:{endTagInRow(this,e);break}case InsertionMode.IN_CELL:{endTagInCell(this,e);break}case InsertionMode.IN_SELECT:{endTagInSelect(this,e);break}case InsertionMode.IN_SELECT_IN_TABLE:{endTagInSelectInTable(this,e);break}case InsertionMode.IN_TEMPLATE:{endTagInTemplate(this,e);break}case InsertionMode.AFTER_BODY:{endTagAfterBody(this,e);break}case InsertionMode.IN_FRAMESET:{endTagInFrameset(this,e);break}case InsertionMode.AFTER_FRAMESET:{endTagAfterFrameset(this,e);break}case InsertionMode.AFTER_AFTER_BODY:{tokenAfterAfterBody(this,e);break}}}onEof(e){switch(this.insertionMode){case InsertionMode.INITIAL:{tokenInInitialMode(this,e);break}case InsertionMode.BEFORE_HTML:{tokenBeforeHtml(this,e);break}case InsertionMode.BEFORE_HEAD:{tokenBeforeHead(this,e);break}case InsertionMode.IN_HEAD:{tokenInHead(this,e);break}case InsertionMode.IN_HEAD_NO_SCRIPT:{tokenInHeadNoScript(this,e);break}case InsertionMode.AFTER_HEAD:{tokenAfterHead(this,e);break}case InsertionMode.IN_BODY:case InsertionMode.IN_TABLE:case InsertionMode.IN_CAPTION:case InsertionMode.IN_COLUMN_GROUP:case InsertionMode.IN_TABLE_BODY:case InsertionMode.IN_ROW:case InsertionMode.IN_CELL:case InsertionMode.IN_SELECT:case InsertionMode.IN_SELECT_IN_TABLE:{eofInBody(this,e);break}case InsertionMode.TEXT:{eofInText(this,e);break}case InsertionMode.IN_TABLE_TEXT:{tokenInTableText(this,e);break}case InsertionMode.IN_TEMPLATE:{eofInTemplate(this,e);break}case InsertionMode.AFTER_BODY:case InsertionMode.IN_FRAMESET:case InsertionMode.AFTER_FRAMESET:case InsertionMode.AFTER_AFTER_BODY:case InsertionMode.AFTER_AFTER_FRAMESET:{stopParsing(this,e);break}}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===CODE_POINTS.LINE_FEED)){if(e.chars.length===1)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(e);return}switch(this.insertionMode){case InsertionMode.IN_HEAD:case InsertionMode.IN_HEAD_NO_SCRIPT:case InsertionMode.AFTER_HEAD:case InsertionMode.TEXT:case InsertionMode.IN_COLUMN_GROUP:case InsertionMode.IN_SELECT:case InsertionMode.IN_SELECT_IN_TABLE:case InsertionMode.IN_FRAMESET:case InsertionMode.AFTER_FRAMESET:{this._insertCharacters(e);break}case InsertionMode.IN_BODY:case InsertionMode.IN_CAPTION:case InsertionMode.IN_CELL:case InsertionMode.IN_TEMPLATE:case InsertionMode.AFTER_BODY:case InsertionMode.AFTER_AFTER_BODY:case InsertionMode.AFTER_AFTER_FRAMESET:{whitespaceCharacterInBody(this,e);break}case InsertionMode.IN_TABLE:case InsertionMode.IN_TABLE_BODY:case InsertionMode.IN_ROW:{characterInTable(this,e);break}case InsertionMode.IN_TABLE_TEXT:{whitespaceCharacterInTableText(this,e);break}}}}function aaObtainFormattingElementEntry(t,e){let n=t.activeFormattingElements.getElementEntryInScopeWithTagName(e.tagName);return n?t.openElements.contains(n.element)?t.openElements.hasInScope(e.tagID)||(n=null):(t.activeFormattingElements.removeEntry(n),n=null):genericEndTagInBody(t,e),n}function aaObtainFurthestBlock(t,e){let n=null,i=t.openElements.stackTop;for(;i>=0;i--){const o=t.openElements.items[i];if(o===e.element)break;t._isSpecialElement(o,t.openElements.tagIDs[i])&&(n=o)}return n||(t.openElements.shortenToLength(Math.max(i,0)),t.activeFormattingElements.removeEntry(e)),n}function aaInnerLoop(t,e,n){let i=e,o=t.openElements.getCommonAncestor(e);for(let u=0,l=o;l!==n;u++,l=o){o=t.openElements.getCommonAncestor(l);const c=t.activeFormattingElements.getElementEntry(l),f=c&&u>=AA_INNER_LOOP_ITER;!c||f?(f&&t.activeFormattingElements.removeEntry(c),t.openElements.remove(l)):(l=aaRecreateElementFromEntry(t,c),i===e&&(t.activeFormattingElements.bookmark=c),t.treeAdapter.detachNode(i),t.treeAdapter.appendChild(l,i),i=l)}return i}function aaRecreateElementFromEntry(t,e){const n=t.treeAdapter.getNamespaceURI(e.element),i=t.treeAdapter.createElement(e.token.tagName,n,e.token.attrs);return t.openElements.replace(e.element,i),e.element=i,i}function aaInsertLastNodeInCommonAncestor(t,e,n){const i=t.treeAdapter.getTagName(e),o=getTagID(i);if(t._isElementCausesFosterParenting(o))t._fosterParentElement(n);else{const u=t.treeAdapter.getNamespaceURI(e);o===TAG_ID.TEMPLATE&&u===NS.HTML&&(e=t.treeAdapter.getTemplateContent(e)),t.treeAdapter.appendChild(e,n)}}function aaReplaceFormattingElement(t,e,n){const i=t.treeAdapter.getNamespaceURI(n.element),{token:o}=n,u=t.treeAdapter.createElement(o.tagName,i,o.attrs);t._adoptNodes(e,u),t.treeAdapter.appendChild(e,u),t.activeFormattingElements.insertElementAfterBookmark(u,o),t.activeFormattingElements.removeEntry(n),t.openElements.remove(n.element),t.openElements.insertAfter(e,u,o.tagID)}function callAdoptionAgency(t,e){for(let n=0;n<AA_OUTER_LOOP_ITER;n++){const i=aaObtainFormattingElementEntry(t,e);if(!i)break;const o=aaObtainFurthestBlock(t,i);if(!o)break;t.activeFormattingElements.bookmark=i;const u=aaInnerLoop(t,o,i.element),l=t.openElements.getCommonAncestor(i.element);t.treeAdapter.detachNode(u),l&&aaInsertLastNodeInCommonAncestor(t,l,u),aaReplaceFormattingElement(t,o,i)}}function appendComment(t,e){t._appendCommentNode(e,t.openElements.currentTmplContentOrNode)}function appendCommentToRootHtmlElement(t,e){t._appendCommentNode(e,t.openElements.items[0])}function appendCommentToDocument(t,e){t._appendCommentNode(e,t.document)}function stopParsing(t,e){if(t.stopped=!0,e.location){const n=t.fragmentContext?0:2;for(let i=t.openElements.stackTop;i>=n;i--)t._setEndLocation(t.openElements.items[i],e);if(!t.fragmentContext&&t.openElements.stackTop>=0){const i=t.openElements.items[0],o=t.treeAdapter.getNodeSourceCodeLocation(i);if(o&&!o.endTag&&(t._setEndLocation(i,e),t.openElements.stackTop>=1)){const u=t.openElements.items[1],l=t.treeAdapter.getNodeSourceCodeLocation(u);l&&!l.endTag&&t._setEndLocation(u,e)}}}}function doctypeInInitialMode(t,e){t._setDocumentType(e);const n=e.forceQuirks?DOCUMENT_MODE.QUIRKS:getDocumentMode(e);isConforming(e)||t._err(e,ERR.nonConformingDoctype),t.treeAdapter.setDocumentMode(t.document,n),t.insertionMode=InsertionMode.BEFORE_HTML}function tokenInInitialMode(t,e){t._err(e,ERR.missingDoctype,!0),t.treeAdapter.setDocumentMode(t.document,DOCUMENT_MODE.QUIRKS),t.insertionMode=InsertionMode.BEFORE_HTML,t._processToken(e)}function startTagBeforeHtml(t,e){e.tagID===TAG_ID.HTML?(t._insertElement(e,NS.HTML),t.insertionMode=InsertionMode.BEFORE_HEAD):tokenBeforeHtml(t,e)}function endTagBeforeHtml(t,e){const n=e.tagID;(n===TAG_ID.HTML||n===TAG_ID.HEAD||n===TAG_ID.BODY||n===TAG_ID.BR)&&tokenBeforeHtml(t,e)}function tokenBeforeHtml(t,e){t._insertFakeRootElement(),t.insertionMode=InsertionMode.BEFORE_HEAD,t._processToken(e)}function startTagBeforeHead(t,e){switch(e.tagID){case TAG_ID.HTML:{startTagInBody(t,e);break}case TAG_ID.HEAD:{t._insertElement(e,NS.HTML),t.headElement=t.openElements.current,t.insertionMode=InsertionMode.IN_HEAD;break}default:tokenBeforeHead(t,e)}}function endTagBeforeHead(t,e){const n=e.tagID;n===TAG_ID.HEAD||n===TAG_ID.BODY||n===TAG_ID.HTML||n===TAG_ID.BR?tokenBeforeHead(t,e):t._err(e,ERR.endTagWithoutMatchingOpenElement)}function tokenBeforeHead(t,e){t._insertFakeElement(TAG_NAMES.HEAD,TAG_ID.HEAD),t.headElement=t.openElements.current,t.insertionMode=InsertionMode.IN_HEAD,t._processToken(e)}function startTagInHead(t,e){switch(e.tagID){case TAG_ID.HTML:{startTagInBody(t,e);break}case TAG_ID.BASE:case TAG_ID.BASEFONT:case TAG_ID.BGSOUND:case TAG_ID.LINK:case TAG_ID.META:{t._appendElement(e,NS.HTML),e.ackSelfClosing=!0;break}case TAG_ID.TITLE:{t._switchToTextParsing(e,TokenizerMode.RCDATA);break}case TAG_ID.NOSCRIPT:{t.options.scriptingEnabled?t._switchToTextParsing(e,TokenizerMode.RAWTEXT):(t._insertElement(e,NS.HTML),t.insertionMode=InsertionMode.IN_HEAD_NO_SCRIPT);break}case TAG_ID.NOFRAMES:case TAG_ID.STYLE:{t._switchToTextParsing(e,TokenizerMode.RAWTEXT);break}case TAG_ID.SCRIPT:{t._switchToTextParsing(e,TokenizerMode.SCRIPT_DATA);break}case TAG_ID.TEMPLATE:{t._insertTemplate(e),t.activeFormattingElements.insertMarker(),t.framesetOk=!1,t.insertionMode=InsertionMode.IN_TEMPLATE,t.tmplInsertionModeStack.unshift(InsertionMode.IN_TEMPLATE);break}case TAG_ID.HEAD:{t._err(e,ERR.misplacedStartTagForHeadElement);break}default:tokenInHead(t,e)}}function endTagInHead(t,e){switch(e.tagID){case TAG_ID.HEAD:{t.openElements.pop(),t.insertionMode=InsertionMode.AFTER_HEAD;break}case TAG_ID.BODY:case TAG_ID.BR:case TAG_ID.HTML:{tokenInHead(t,e);break}case TAG_ID.TEMPLATE:{templateEndTagInHead(t,e);break}default:t._err(e,ERR.endTagWithoutMatchingOpenElement)}}function templateEndTagInHead(t,e){t.openElements.tmplCount>0?(t.openElements.generateImpliedEndTagsThoroughly(),t.openElements.currentTagId!==TAG_ID.TEMPLATE&&t._err(e,ERR.closingOfElementWithOpenChildElements),t.openElements.popUntilTagNamePopped(TAG_ID.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode()):t._err(e,ERR.endTagWithoutMatchingOpenElement)}function tokenInHead(t,e){t.openElements.pop(),t.insertionMode=InsertionMode.AFTER_HEAD,t._processToken(e)}function startTagInHeadNoScript(t,e){switch(e.tagID){case TAG_ID.HTML:{startTagInBody(t,e);break}case TAG_ID.BASEFONT:case TAG_ID.BGSOUND:case TAG_ID.HEAD:case TAG_ID.LINK:case TAG_ID.META:case TAG_ID.NOFRAMES:case TAG_ID.STYLE:{startTagInHead(t,e);break}case TAG_ID.NOSCRIPT:{t._err(e,ERR.nestedNoscriptInHead);break}default:tokenInHeadNoScript(t,e)}}function endTagInHeadNoScript(t,e){switch(e.tagID){case TAG_ID.NOSCRIPT:{t.openElements.pop(),t.insertionMode=InsertionMode.IN_HEAD;break}case TAG_ID.BR:{tokenInHeadNoScript(t,e);break}default:t._err(e,ERR.endTagWithoutMatchingOpenElement)}}function tokenInHeadNoScript(t,e){const n=e.type===TokenType.EOF?ERR.openElementsLeftAfterEof:ERR.disallowedContentInNoscriptInHead;t._err(e,n),t.openElements.pop(),t.insertionMode=InsertionMode.IN_HEAD,t._processToken(e)}function startTagAfterHead(t,e){switch(e.tagID){case TAG_ID.HTML:{startTagInBody(t,e);break}case TAG_ID.BODY:{t._insertElement(e,NS.HTML),t.framesetOk=!1,t.insertionMode=InsertionMode.IN_BODY;break}case TAG_ID.FRAMESET:{t._insertElement(e,NS.HTML),t.insertionMode=InsertionMode.IN_FRAMESET;break}case TAG_ID.BASE:case TAG_ID.BASEFONT:case TAG_ID.BGSOUND:case TAG_ID.LINK:case TAG_ID.META:case TAG_ID.NOFRAMES:case TAG_ID.SCRIPT:case TAG_ID.STYLE:case TAG_ID.TEMPLATE:case TAG_ID.TITLE:{t._err(e,ERR.abandonedHeadElementChild),t.openElements.push(t.headElement,TAG_ID.HEAD),startTagInHead(t,e),t.openElements.remove(t.headElement);break}case TAG_ID.HEAD:{t._err(e,ERR.misplacedStartTagForHeadElement);break}default:tokenAfterHead(t,e)}}function endTagAfterHead(t,e){switch(e.tagID){case TAG_ID.BODY:case TAG_ID.HTML:case TAG_ID.BR:{tokenAfterHead(t,e);break}case TAG_ID.TEMPLATE:{templateEndTagInHead(t,e);break}default:t._err(e,ERR.endTagWithoutMatchingOpenElement)}}function tokenAfterHead(t,e){t._insertFakeElement(TAG_NAMES.BODY,TAG_ID.BODY),t.insertionMode=InsertionMode.IN_BODY,modeInBody(t,e)}function modeInBody(t,e){switch(e.type){case TokenType.CHARACTER:{characterInBody(t,e);break}case TokenType.WHITESPACE_CHARACTER:{whitespaceCharacterInBody(t,e);break}case TokenType.COMMENT:{appendComment(t,e);break}case TokenType.START_TAG:{startTagInBody(t,e);break}case TokenType.END_TAG:{endTagInBody(t,e);break}case TokenType.EOF:{eofInBody(t,e);break}}}function whitespaceCharacterInBody(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e)}function characterInBody(t,e){t._reconstructActiveFormattingElements(),t._insertCharacters(e),t.framesetOk=!1}function htmlStartTagInBody(t,e){t.openElements.tmplCount===0&&t.treeAdapter.adoptAttributes(t.openElements.items[0],e.attrs)}function bodyStartTagInBody(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t.openElements.tmplCount===0&&(t.framesetOk=!1,t.treeAdapter.adoptAttributes(n,e.attrs))}function framesetStartTagInBody(t,e){const n=t.openElements.tryPeekProperlyNestedBodyElement();t.framesetOk&&n&&(t.treeAdapter.detachNode(n),t.openElements.popAllUpToHtmlElement(),t._insertElement(e,NS.HTML),t.insertionMode=InsertionMode.IN_FRAMESET)}function addressStartTagInBody(t,e){t.openElements.hasInButtonScope(TAG_ID.P)&&t._closePElement(),t._insertElement(e,NS.HTML)}function numberedHeaderStartTagInBody(t,e){t.openElements.hasInButtonScope(TAG_ID.P)&&t._closePElement(),t.openElements.currentTagId!==void 0&&NUMBERED_HEADERS.has(t.openElements.currentTagId)&&t.openElements.pop(),t._insertElement(e,NS.HTML)}function preStartTagInBody(t,e){t.openElements.hasInButtonScope(TAG_ID.P)&&t._closePElement(),t._insertElement(e,NS.HTML),t.skipNextNewLine=!0,t.framesetOk=!1}function formStartTagInBody(t,e){const n=t.openElements.tmplCount>0;(!t.formElement||n)&&(t.openElements.hasInButtonScope(TAG_ID.P)&&t._closePElement(),t._insertElement(e,NS.HTML),n||(t.formElement=t.openElements.current))}function listItemStartTagInBody(t,e){t.framesetOk=!1;const n=e.tagID;for(let i=t.openElements.stackTop;i>=0;i--){const o=t.openElements.tagIDs[i];if(n===TAG_ID.LI&&o===TAG_ID.LI||(n===TAG_ID.DD||n===TAG_ID.DT)&&(o===TAG_ID.DD||o===TAG_ID.DT)){t.openElements.generateImpliedEndTagsWithExclusion(o),t.openElements.popUntilTagNamePopped(o);break}if(o!==TAG_ID.ADDRESS&&o!==TAG_ID.DIV&&o!==TAG_ID.P&&t._isSpecialElement(t.openElements.items[i],o))break}t.openElements.hasInButtonScope(TAG_ID.P)&&t._closePElement(),t._insertElement(e,NS.HTML)}function plaintextStartTagInBody(t,e){t.openElements.hasInButtonScope(TAG_ID.P)&&t._closePElement(),t._insertElement(e,NS.HTML),t.tokenizer.state=TokenizerMode.PLAINTEXT}function buttonStartTagInBody(t,e){t.openElements.hasInScope(TAG_ID.BUTTON)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(TAG_ID.BUTTON)),t._reconstructActiveFormattingElements(),t._insertElement(e,NS.HTML),t.framesetOk=!1}function aStartTagInBody(t,e){const n=t.activeFormattingElements.getElementEntryInScopeWithTagName(TAG_NAMES.A);n&&(callAdoptionAgency(t,e),t.openElements.remove(n.element),t.activeFormattingElements.removeEntry(n)),t._reconstructActiveFormattingElements(),t._insertElement(e,NS.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function bStartTagInBody(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,NS.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function nobrStartTagInBody(t,e){t._reconstructActiveFormattingElements(),t.openElements.hasInScope(TAG_ID.NOBR)&&(callAdoptionAgency(t,e),t._reconstructActiveFormattingElements()),t._insertElement(e,NS.HTML),t.activeFormattingElements.pushElement(t.openElements.current,e)}function appletStartTagInBody(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,NS.HTML),t.activeFormattingElements.insertMarker(),t.framesetOk=!1}function tableStartTagInBody(t,e){t.treeAdapter.getDocumentMode(t.document)!==DOCUMENT_MODE.QUIRKS&&t.openElements.hasInButtonScope(TAG_ID.P)&&t._closePElement(),t._insertElement(e,NS.HTML),t.framesetOk=!1,t.insertionMode=InsertionMode.IN_TABLE}function areaStartTagInBody(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,NS.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function isHiddenInput(t){const e=getTokenAttr(t,ATTRS.TYPE);return e!=null&&e.toLowerCase()===HIDDEN_INPUT_TYPE}function inputStartTagInBody(t,e){t._reconstructActiveFormattingElements(),t._appendElement(e,NS.HTML),isHiddenInput(e)||(t.framesetOk=!1),e.ackSelfClosing=!0}function paramStartTagInBody(t,e){t._appendElement(e,NS.HTML),e.ackSelfClosing=!0}function hrStartTagInBody(t,e){t.openElements.hasInButtonScope(TAG_ID.P)&&t._closePElement(),t._appendElement(e,NS.HTML),t.framesetOk=!1,e.ackSelfClosing=!0}function imageStartTagInBody(t,e){e.tagName=TAG_NAMES.IMG,e.tagID=TAG_ID.IMG,areaStartTagInBody(t,e)}function textareaStartTagInBody(t,e){t._insertElement(e,NS.HTML),t.skipNextNewLine=!0,t.tokenizer.state=TokenizerMode.RCDATA,t.originalInsertionMode=t.insertionMode,t.framesetOk=!1,t.insertionMode=InsertionMode.TEXT}function xmpStartTagInBody(t,e){t.openElements.hasInButtonScope(TAG_ID.P)&&t._closePElement(),t._reconstructActiveFormattingElements(),t.framesetOk=!1,t._switchToTextParsing(e,TokenizerMode.RAWTEXT)}function iframeStartTagInBody(t,e){t.framesetOk=!1,t._switchToTextParsing(e,TokenizerMode.RAWTEXT)}function rawTextStartTagInBody(t,e){t._switchToTextParsing(e,TokenizerMode.RAWTEXT)}function selectStartTagInBody(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,NS.HTML),t.framesetOk=!1,t.insertionMode=t.insertionMode===InsertionMode.IN_TABLE||t.insertionMode===InsertionMode.IN_CAPTION||t.insertionMode===InsertionMode.IN_TABLE_BODY||t.insertionMode===InsertionMode.IN_ROW||t.insertionMode===InsertionMode.IN_CELL?InsertionMode.IN_SELECT_IN_TABLE:InsertionMode.IN_SELECT}function optgroupStartTagInBody(t,e){t.openElements.currentTagId===TAG_ID.OPTION&&t.openElements.pop(),t._reconstructActiveFormattingElements(),t._insertElement(e,NS.HTML)}function rbStartTagInBody(t,e){t.openElements.hasInScope(TAG_ID.RUBY)&&t.openElements.generateImpliedEndTags(),t._insertElement(e,NS.HTML)}function rtStartTagInBody(t,e){t.openElements.hasInScope(TAG_ID.RUBY)&&t.openElements.generateImpliedEndTagsWithExclusion(TAG_ID.RTC),t._insertElement(e,NS.HTML)}function mathStartTagInBody(t,e){t._reconstructActiveFormattingElements(),adjustTokenMathMLAttrs(e),adjustTokenXMLAttrs(e),e.selfClosing?t._appendElement(e,NS.MATHML):t._insertElement(e,NS.MATHML),e.ackSelfClosing=!0}function svgStartTagInBody(t,e){t._reconstructActiveFormattingElements(),adjustTokenSVGAttrs(e),adjustTokenXMLAttrs(e),e.selfClosing?t._appendElement(e,NS.SVG):t._insertElement(e,NS.SVG),e.ackSelfClosing=!0}function genericStartTagInBody(t,e){t._reconstructActiveFormattingElements(),t._insertElement(e,NS.HTML)}function startTagInBody(t,e){switch(e.tagID){case TAG_ID.I:case TAG_ID.S:case TAG_ID.B:case TAG_ID.U:case TAG_ID.EM:case TAG_ID.TT:case TAG_ID.BIG:case TAG_ID.CODE:case TAG_ID.FONT:case TAG_ID.SMALL:case TAG_ID.STRIKE:case TAG_ID.STRONG:{bStartTagInBody(t,e);break}case TAG_ID.A:{aStartTagInBody(t,e);break}case TAG_ID.H1:case TAG_ID.H2:case TAG_ID.H3:case TAG_ID.H4:case TAG_ID.H5:case TAG_ID.H6:{numberedHeaderStartTagInBody(t,e);break}case TAG_ID.P:case TAG_ID.DL:case TAG_ID.OL:case TAG_ID.UL:case TAG_ID.DIV:case TAG_ID.DIR:case TAG_ID.NAV:case TAG_ID.MAIN:case TAG_ID.MENU:case TAG_ID.ASIDE:case TAG_ID.CENTER:case TAG_ID.FIGURE:case TAG_ID.FOOTER:case TAG_ID.HEADER:case TAG_ID.HGROUP:case TAG_ID.DIALOG:case TAG_ID.DETAILS:case TAG_ID.ADDRESS:case TAG_ID.ARTICLE:case TAG_ID.SEARCH:case TAG_ID.SECTION:case TAG_ID.SUMMARY:case TAG_ID.FIELDSET:case TAG_ID.BLOCKQUOTE:case TAG_ID.FIGCAPTION:{addressStartTagInBody(t,e);break}case TAG_ID.LI:case TAG_ID.DD:case TAG_ID.DT:{listItemStartTagInBody(t,e);break}case TAG_ID.BR:case TAG_ID.IMG:case TAG_ID.WBR:case TAG_ID.AREA:case TAG_ID.EMBED:case TAG_ID.KEYGEN:{areaStartTagInBody(t,e);break}case TAG_ID.HR:{hrStartTagInBody(t,e);break}case TAG_ID.RB:case TAG_ID.RTC:{rbStartTagInBody(t,e);break}case TAG_ID.RT:case TAG_ID.RP:{rtStartTagInBody(t,e);break}case TAG_ID.PRE:case TAG_ID.LISTING:{preStartTagInBody(t,e);break}case TAG_ID.XMP:{xmpStartTagInBody(t,e);break}case TAG_ID.SVG:{svgStartTagInBody(t,e);break}case TAG_ID.HTML:{htmlStartTagInBody(t,e);break}case TAG_ID.BASE:case TAG_ID.LINK:case TAG_ID.META:case TAG_ID.STYLE:case TAG_ID.TITLE:case TAG_ID.SCRIPT:case TAG_ID.BGSOUND:case TAG_ID.BASEFONT:case TAG_ID.TEMPLATE:{startTagInHead(t,e);break}case TAG_ID.BODY:{bodyStartTagInBody(t,e);break}case TAG_ID.FORM:{formStartTagInBody(t,e);break}case TAG_ID.NOBR:{nobrStartTagInBody(t,e);break}case TAG_ID.MATH:{mathStartTagInBody(t,e);break}case TAG_ID.TABLE:{tableStartTagInBody(t,e);break}case TAG_ID.INPUT:{inputStartTagInBody(t,e);break}case TAG_ID.PARAM:case TAG_ID.TRACK:case TAG_ID.SOURCE:{paramStartTagInBody(t,e);break}case TAG_ID.IMAGE:{imageStartTagInBody(t,e);break}case TAG_ID.BUTTON:{buttonStartTagInBody(t,e);break}case TAG_ID.APPLET:case TAG_ID.OBJECT:case TAG_ID.MARQUEE:{appletStartTagInBody(t,e);break}case TAG_ID.IFRAME:{iframeStartTagInBody(t,e);break}case TAG_ID.SELECT:{selectStartTagInBody(t,e);break}case TAG_ID.OPTION:case TAG_ID.OPTGROUP:{optgroupStartTagInBody(t,e);break}case TAG_ID.NOEMBED:case TAG_ID.NOFRAMES:{rawTextStartTagInBody(t,e);break}case TAG_ID.FRAMESET:{framesetStartTagInBody(t,e);break}case TAG_ID.TEXTAREA:{textareaStartTagInBody(t,e);break}case TAG_ID.NOSCRIPT:{t.options.scriptingEnabled?rawTextStartTagInBody(t,e):genericStartTagInBody(t,e);break}case TAG_ID.PLAINTEXT:{plaintextStartTagInBody(t,e);break}case TAG_ID.COL:case TAG_ID.TH:case TAG_ID.TD:case TAG_ID.TR:case TAG_ID.HEAD:case TAG_ID.FRAME:case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:case TAG_ID.CAPTION:case TAG_ID.COLGROUP:break;default:genericStartTagInBody(t,e)}}function bodyEndTagInBody(t,e){if(t.openElements.hasInScope(TAG_ID.BODY)&&(t.insertionMode=InsertionMode.AFTER_BODY,t.options.sourceCodeLocationInfo)){const n=t.openElements.tryPeekProperlyNestedBodyElement();n&&t._setEndLocation(n,e)}}function htmlEndTagInBody(t,e){t.openElements.hasInScope(TAG_ID.BODY)&&(t.insertionMode=InsertionMode.AFTER_BODY,endTagAfterBody(t,e))}function addressEndTagInBody(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n))}function formEndTagInBody(t){const e=t.openElements.tmplCount>0,{formElement:n}=t;e||(t.formElement=null),(n||e)&&t.openElements.hasInScope(TAG_ID.FORM)&&(t.openElements.generateImpliedEndTags(),e?t.openElements.popUntilTagNamePopped(TAG_ID.FORM):n&&t.openElements.remove(n))}function pEndTagInBody(t){t.openElements.hasInButtonScope(TAG_ID.P)||t._insertFakeElement(TAG_NAMES.P,TAG_ID.P),t._closePElement()}function liEndTagInBody(t){t.openElements.hasInListItemScope(TAG_ID.LI)&&(t.openElements.generateImpliedEndTagsWithExclusion(TAG_ID.LI),t.openElements.popUntilTagNamePopped(TAG_ID.LI))}function ddEndTagInBody(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTagsWithExclusion(n),t.openElements.popUntilTagNamePopped(n))}function numberedHeaderEndTagInBody(t){t.openElements.hasNumberedHeaderInScope()&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilNumberedHeaderPopped())}function appletEndTagInBody(t,e){const n=e.tagID;t.openElements.hasInScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker())}function brEndTagInBody(t){t._reconstructActiveFormattingElements(),t._insertFakeElement(TAG_NAMES.BR,TAG_ID.BR),t.openElements.pop(),t.framesetOk=!1}function genericEndTagInBody(t,e){const n=e.tagName,i=e.tagID;for(let o=t.openElements.stackTop;o>0;o--){const u=t.openElements.items[o],l=t.openElements.tagIDs[o];if(i===l&&(i!==TAG_ID.UNKNOWN||t.treeAdapter.getTagName(u)===n)){t.openElements.generateImpliedEndTagsWithExclusion(i),t.openElements.stackTop>=o&&t.openElements.shortenToLength(o);break}if(t._isSpecialElement(u,l))break}}function endTagInBody(t,e){switch(e.tagID){case TAG_ID.A:case TAG_ID.B:case TAG_ID.I:case TAG_ID.S:case TAG_ID.U:case TAG_ID.EM:case TAG_ID.TT:case TAG_ID.BIG:case TAG_ID.CODE:case TAG_ID.FONT:case TAG_ID.NOBR:case TAG_ID.SMALL:case TAG_ID.STRIKE:case TAG_ID.STRONG:{callAdoptionAgency(t,e);break}case TAG_ID.P:{pEndTagInBody(t);break}case TAG_ID.DL:case TAG_ID.UL:case TAG_ID.OL:case TAG_ID.DIR:case TAG_ID.DIV:case TAG_ID.NAV:case TAG_ID.PRE:case TAG_ID.MAIN:case TAG_ID.MENU:case TAG_ID.ASIDE:case TAG_ID.BUTTON:case TAG_ID.CENTER:case TAG_ID.FIGURE:case TAG_ID.FOOTER:case TAG_ID.HEADER:case TAG_ID.HGROUP:case TAG_ID.DIALOG:case TAG_ID.ADDRESS:case TAG_ID.ARTICLE:case TAG_ID.DETAILS:case TAG_ID.SEARCH:case TAG_ID.SECTION:case TAG_ID.SUMMARY:case TAG_ID.LISTING:case TAG_ID.FIELDSET:case TAG_ID.BLOCKQUOTE:case TAG_ID.FIGCAPTION:{addressEndTagInBody(t,e);break}case TAG_ID.LI:{liEndTagInBody(t);break}case TAG_ID.DD:case TAG_ID.DT:{ddEndTagInBody(t,e);break}case TAG_ID.H1:case TAG_ID.H2:case TAG_ID.H3:case TAG_ID.H4:case TAG_ID.H5:case TAG_ID.H6:{numberedHeaderEndTagInBody(t);break}case TAG_ID.BR:{brEndTagInBody(t);break}case TAG_ID.BODY:{bodyEndTagInBody(t,e);break}case TAG_ID.HTML:{htmlEndTagInBody(t,e);break}case TAG_ID.FORM:{formEndTagInBody(t);break}case TAG_ID.APPLET:case TAG_ID.OBJECT:case TAG_ID.MARQUEE:{appletEndTagInBody(t,e);break}case TAG_ID.TEMPLATE:{templateEndTagInHead(t,e);break}default:genericEndTagInBody(t,e)}}function eofInBody(t,e){t.tmplInsertionModeStack.length>0?eofInTemplate(t,e):stopParsing(t,e)}function endTagInText(t,e){var n;e.tagID===TAG_ID.SCRIPT&&((n=t.scriptHandler)===null||n===void 0||n.call(t,t.openElements.current)),t.openElements.pop(),t.insertionMode=t.originalInsertionMode}function eofInText(t,e){t._err(e,ERR.eofInElementThatCanContainOnlyText),t.openElements.pop(),t.insertionMode=t.originalInsertionMode,t.onEof(e)}function characterInTable(t,e){if(t.openElements.currentTagId!==void 0&&TABLE_STRUCTURE_TAGS.has(t.openElements.currentTagId))switch(t.pendingCharacterTokens.length=0,t.hasNonWhitespacePendingCharacterToken=!1,t.originalInsertionMode=t.insertionMode,t.insertionMode=InsertionMode.IN_TABLE_TEXT,e.type){case TokenType.CHARACTER:{characterInTableText(t,e);break}case TokenType.WHITESPACE_CHARACTER:{whitespaceCharacterInTableText(t,e);break}}else tokenInTable(t,e)}function captionStartTagInTable(t,e){t.openElements.clearBackToTableContext(),t.activeFormattingElements.insertMarker(),t._insertElement(e,NS.HTML),t.insertionMode=InsertionMode.IN_CAPTION}function colgroupStartTagInTable(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,NS.HTML),t.insertionMode=InsertionMode.IN_COLUMN_GROUP}function colStartTagInTable(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(TAG_NAMES.COLGROUP,TAG_ID.COLGROUP),t.insertionMode=InsertionMode.IN_COLUMN_GROUP,startTagInColumnGroup(t,e)}function tbodyStartTagInTable(t,e){t.openElements.clearBackToTableContext(),t._insertElement(e,NS.HTML),t.insertionMode=InsertionMode.IN_TABLE_BODY}function tdStartTagInTable(t,e){t.openElements.clearBackToTableContext(),t._insertFakeElement(TAG_NAMES.TBODY,TAG_ID.TBODY),t.insertionMode=InsertionMode.IN_TABLE_BODY,startTagInTableBody(t,e)}function tableStartTagInTable(t,e){t.openElements.hasInTableScope(TAG_ID.TABLE)&&(t.openElements.popUntilTagNamePopped(TAG_ID.TABLE),t._resetInsertionMode(),t._processStartTag(e))}function inputStartTagInTable(t,e){isHiddenInput(e)?t._appendElement(e,NS.HTML):tokenInTable(t,e),e.ackSelfClosing=!0}function formStartTagInTable(t,e){!t.formElement&&t.openElements.tmplCount===0&&(t._insertElement(e,NS.HTML),t.formElement=t.openElements.current,t.openElements.pop())}function startTagInTable(t,e){switch(e.tagID){case TAG_ID.TD:case TAG_ID.TH:case TAG_ID.TR:{tdStartTagInTable(t,e);break}case TAG_ID.STYLE:case TAG_ID.SCRIPT:case TAG_ID.TEMPLATE:{startTagInHead(t,e);break}case TAG_ID.COL:{colStartTagInTable(t,e);break}case TAG_ID.FORM:{formStartTagInTable(t,e);break}case TAG_ID.TABLE:{tableStartTagInTable(t,e);break}case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:{tbodyStartTagInTable(t,e);break}case TAG_ID.INPUT:{inputStartTagInTable(t,e);break}case TAG_ID.CAPTION:{captionStartTagInTable(t,e);break}case TAG_ID.COLGROUP:{colgroupStartTagInTable(t,e);break}default:tokenInTable(t,e)}}function endTagInTable(t,e){switch(e.tagID){case TAG_ID.TABLE:{t.openElements.hasInTableScope(TAG_ID.TABLE)&&(t.openElements.popUntilTagNamePopped(TAG_ID.TABLE),t._resetInsertionMode());break}case TAG_ID.TEMPLATE:{templateEndTagInHead(t,e);break}case TAG_ID.BODY:case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.HTML:case TAG_ID.TBODY:case TAG_ID.TD:case TAG_ID.TFOOT:case TAG_ID.TH:case TAG_ID.THEAD:case TAG_ID.TR:break;default:tokenInTable(t,e)}}function tokenInTable(t,e){const n=t.fosterParentingEnabled;t.fosterParentingEnabled=!0,modeInBody(t,e),t.fosterParentingEnabled=n}function whitespaceCharacterInTableText(t,e){t.pendingCharacterTokens.push(e)}function characterInTableText(t,e){t.pendingCharacterTokens.push(e),t.hasNonWhitespacePendingCharacterToken=!0}function tokenInTableText(t,e){let n=0;if(t.hasNonWhitespacePendingCharacterToken)for(;n<t.pendingCharacterTokens.length;n++)tokenInTable(t,t.pendingCharacterTokens[n]);else for(;n<t.pendingCharacterTokens.length;n++)t._insertCharacters(t.pendingCharacterTokens[n]);t.insertionMode=t.originalInsertionMode,t._processToken(e)}const TABLE_VOID_ELEMENTS=new Set([TAG_ID.CAPTION,TAG_ID.COL,TAG_ID.COLGROUP,TAG_ID.TBODY,TAG_ID.TD,TAG_ID.TFOOT,TAG_ID.TH,TAG_ID.THEAD,TAG_ID.TR]);function startTagInCaption(t,e){const n=e.tagID;TABLE_VOID_ELEMENTS.has(n)?t.openElements.hasInTableScope(TAG_ID.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(TAG_ID.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=InsertionMode.IN_TABLE,startTagInTable(t,e)):startTagInBody(t,e)}function endTagInCaption(t,e){const n=e.tagID;switch(n){case TAG_ID.CAPTION:case TAG_ID.TABLE:{t.openElements.hasInTableScope(TAG_ID.CAPTION)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(TAG_ID.CAPTION),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=InsertionMode.IN_TABLE,n===TAG_ID.TABLE&&endTagInTable(t,e));break}case TAG_ID.BODY:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.HTML:case TAG_ID.TBODY:case TAG_ID.TD:case TAG_ID.TFOOT:case TAG_ID.TH:case TAG_ID.THEAD:case TAG_ID.TR:break;default:endTagInBody(t,e)}}function startTagInColumnGroup(t,e){switch(e.tagID){case TAG_ID.HTML:{startTagInBody(t,e);break}case TAG_ID.COL:{t._appendElement(e,NS.HTML),e.ackSelfClosing=!0;break}case TAG_ID.TEMPLATE:{startTagInHead(t,e);break}default:tokenInColumnGroup(t,e)}}function endTagInColumnGroup(t,e){switch(e.tagID){case TAG_ID.COLGROUP:{t.openElements.currentTagId===TAG_ID.COLGROUP&&(t.openElements.pop(),t.insertionMode=InsertionMode.IN_TABLE);break}case TAG_ID.TEMPLATE:{templateEndTagInHead(t,e);break}case TAG_ID.COL:break;default:tokenInColumnGroup(t,e)}}function tokenInColumnGroup(t,e){t.openElements.currentTagId===TAG_ID.COLGROUP&&(t.openElements.pop(),t.insertionMode=InsertionMode.IN_TABLE,t._processToken(e))}function startTagInTableBody(t,e){switch(e.tagID){case TAG_ID.TR:{t.openElements.clearBackToTableBodyContext(),t._insertElement(e,NS.HTML),t.insertionMode=InsertionMode.IN_ROW;break}case TAG_ID.TH:case TAG_ID.TD:{t.openElements.clearBackToTableBodyContext(),t._insertFakeElement(TAG_NAMES.TR,TAG_ID.TR),t.insertionMode=InsertionMode.IN_ROW,startTagInRow(t,e);break}case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=InsertionMode.IN_TABLE,startTagInTable(t,e));break}default:startTagInTable(t,e)}}function endTagInTableBody(t,e){const n=e.tagID;switch(e.tagID){case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:{t.openElements.hasInTableScope(n)&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=InsertionMode.IN_TABLE);break}case TAG_ID.TABLE:{t.openElements.hasTableBodyContextInTableScope()&&(t.openElements.clearBackToTableBodyContext(),t.openElements.pop(),t.insertionMode=InsertionMode.IN_TABLE,endTagInTable(t,e));break}case TAG_ID.BODY:case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.HTML:case TAG_ID.TD:case TAG_ID.TH:case TAG_ID.TR:break;default:endTagInTable(t,e)}}function startTagInRow(t,e){switch(e.tagID){case TAG_ID.TH:case TAG_ID.TD:{t.openElements.clearBackToTableRowContext(),t._insertElement(e,NS.HTML),t.insertionMode=InsertionMode.IN_CELL,t.activeFormattingElements.insertMarker();break}case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:case TAG_ID.TR:{t.openElements.hasInTableScope(TAG_ID.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=InsertionMode.IN_TABLE_BODY,startTagInTableBody(t,e));break}default:startTagInTable(t,e)}}function endTagInRow(t,e){switch(e.tagID){case TAG_ID.TR:{t.openElements.hasInTableScope(TAG_ID.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=InsertionMode.IN_TABLE_BODY);break}case TAG_ID.TABLE:{t.openElements.hasInTableScope(TAG_ID.TR)&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=InsertionMode.IN_TABLE_BODY,endTagInTableBody(t,e));break}case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:{(t.openElements.hasInTableScope(e.tagID)||t.openElements.hasInTableScope(TAG_ID.TR))&&(t.openElements.clearBackToTableRowContext(),t.openElements.pop(),t.insertionMode=InsertionMode.IN_TABLE_BODY,endTagInTableBody(t,e));break}case TAG_ID.BODY:case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.HTML:case TAG_ID.TD:case TAG_ID.TH:break;default:endTagInTable(t,e)}}function startTagInCell(t,e){const n=e.tagID;TABLE_VOID_ELEMENTS.has(n)?(t.openElements.hasInTableScope(TAG_ID.TD)||t.openElements.hasInTableScope(TAG_ID.TH))&&(t._closeTableCell(),startTagInRow(t,e)):startTagInBody(t,e)}function endTagInCell(t,e){const n=e.tagID;switch(n){case TAG_ID.TD:case TAG_ID.TH:{t.openElements.hasInTableScope(n)&&(t.openElements.generateImpliedEndTags(),t.openElements.popUntilTagNamePopped(n),t.activeFormattingElements.clearToLastMarker(),t.insertionMode=InsertionMode.IN_ROW);break}case TAG_ID.TABLE:case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:case TAG_ID.TR:{t.openElements.hasInTableScope(n)&&(t._closeTableCell(),endTagInRow(t,e));break}case TAG_ID.BODY:case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.HTML:break;default:endTagInBody(t,e)}}function startTagInSelect(t,e){switch(e.tagID){case TAG_ID.HTML:{startTagInBody(t,e);break}case TAG_ID.OPTION:{t.openElements.currentTagId===TAG_ID.OPTION&&t.openElements.pop(),t._insertElement(e,NS.HTML);break}case TAG_ID.OPTGROUP:{t.openElements.currentTagId===TAG_ID.OPTION&&t.openElements.pop(),t.openElements.currentTagId===TAG_ID.OPTGROUP&&t.openElements.pop(),t._insertElement(e,NS.HTML);break}case TAG_ID.HR:{t.openElements.currentTagId===TAG_ID.OPTION&&t.openElements.pop(),t.openElements.currentTagId===TAG_ID.OPTGROUP&&t.openElements.pop(),t._appendElement(e,NS.HTML),e.ackSelfClosing=!0;break}case TAG_ID.INPUT:case TAG_ID.KEYGEN:case TAG_ID.TEXTAREA:case TAG_ID.SELECT:{t.openElements.hasInSelectScope(TAG_ID.SELECT)&&(t.openElements.popUntilTagNamePopped(TAG_ID.SELECT),t._resetInsertionMode(),e.tagID!==TAG_ID.SELECT&&t._processStartTag(e));break}case TAG_ID.SCRIPT:case TAG_ID.TEMPLATE:{startTagInHead(t,e);break}}}function endTagInSelect(t,e){switch(e.tagID){case TAG_ID.OPTGROUP:{t.openElements.stackTop>0&&t.openElements.currentTagId===TAG_ID.OPTION&&t.openElements.tagIDs[t.openElements.stackTop-1]===TAG_ID.OPTGROUP&&t.openElements.pop(),t.openElements.currentTagId===TAG_ID.OPTGROUP&&t.openElements.pop();break}case TAG_ID.OPTION:{t.openElements.currentTagId===TAG_ID.OPTION&&t.openElements.pop();break}case TAG_ID.SELECT:{t.openElements.hasInSelectScope(TAG_ID.SELECT)&&(t.openElements.popUntilTagNamePopped(TAG_ID.SELECT),t._resetInsertionMode());break}case TAG_ID.TEMPLATE:{templateEndTagInHead(t,e);break}}}function startTagInSelectInTable(t,e){const n=e.tagID;n===TAG_ID.CAPTION||n===TAG_ID.TABLE||n===TAG_ID.TBODY||n===TAG_ID.TFOOT||n===TAG_ID.THEAD||n===TAG_ID.TR||n===TAG_ID.TD||n===TAG_ID.TH?(t.openElements.popUntilTagNamePopped(TAG_ID.SELECT),t._resetInsertionMode(),t._processStartTag(e)):startTagInSelect(t,e)}function endTagInSelectInTable(t,e){const n=e.tagID;n===TAG_ID.CAPTION||n===TAG_ID.TABLE||n===TAG_ID.TBODY||n===TAG_ID.TFOOT||n===TAG_ID.THEAD||n===TAG_ID.TR||n===TAG_ID.TD||n===TAG_ID.TH?t.openElements.hasInTableScope(n)&&(t.openElements.popUntilTagNamePopped(TAG_ID.SELECT),t._resetInsertionMode(),t.onEndTag(e)):endTagInSelect(t,e)}function startTagInTemplate(t,e){switch(e.tagID){case TAG_ID.BASE:case TAG_ID.BASEFONT:case TAG_ID.BGSOUND:case TAG_ID.LINK:case TAG_ID.META:case TAG_ID.NOFRAMES:case TAG_ID.SCRIPT:case TAG_ID.STYLE:case TAG_ID.TEMPLATE:case TAG_ID.TITLE:{startTagInHead(t,e);break}case TAG_ID.CAPTION:case TAG_ID.COLGROUP:case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:{t.tmplInsertionModeStack[0]=InsertionMode.IN_TABLE,t.insertionMode=InsertionMode.IN_TABLE,startTagInTable(t,e);break}case TAG_ID.COL:{t.tmplInsertionModeStack[0]=InsertionMode.IN_COLUMN_GROUP,t.insertionMode=InsertionMode.IN_COLUMN_GROUP,startTagInColumnGroup(t,e);break}case TAG_ID.TR:{t.tmplInsertionModeStack[0]=InsertionMode.IN_TABLE_BODY,t.insertionMode=InsertionMode.IN_TABLE_BODY,startTagInTableBody(t,e);break}case TAG_ID.TD:case TAG_ID.TH:{t.tmplInsertionModeStack[0]=InsertionMode.IN_ROW,t.insertionMode=InsertionMode.IN_ROW,startTagInRow(t,e);break}default:t.tmplInsertionModeStack[0]=InsertionMode.IN_BODY,t.insertionMode=InsertionMode.IN_BODY,startTagInBody(t,e)}}function endTagInTemplate(t,e){e.tagID===TAG_ID.TEMPLATE&&templateEndTagInHead(t,e)}function eofInTemplate(t,e){t.openElements.tmplCount>0?(t.openElements.popUntilTagNamePopped(TAG_ID.TEMPLATE),t.activeFormattingElements.clearToLastMarker(),t.tmplInsertionModeStack.shift(),t._resetInsertionMode(),t.onEof(e)):stopParsing(t,e)}function startTagAfterBody(t,e){e.tagID===TAG_ID.HTML?startTagInBody(t,e):tokenAfterBody(t,e)}function endTagAfterBody(t,e){var n;if(e.tagID===TAG_ID.HTML){if(t.fragmentContext||(t.insertionMode=InsertionMode.AFTER_AFTER_BODY),t.options.sourceCodeLocationInfo&&t.openElements.tagIDs[0]===TAG_ID.HTML){t._setEndLocation(t.openElements.items[0],e);const i=t.openElements.items[1];i&&!(!((n=t.treeAdapter.getNodeSourceCodeLocation(i))===null||n===void 0)&&n.endTag)&&t._setEndLocation(i,e)}}else tokenAfterBody(t,e)}function tokenAfterBody(t,e){t.insertionMode=InsertionMode.IN_BODY,modeInBody(t,e)}function startTagInFrameset(t,e){switch(e.tagID){case TAG_ID.HTML:{startTagInBody(t,e);break}case TAG_ID.FRAMESET:{t._insertElement(e,NS.HTML);break}case TAG_ID.FRAME:{t._appendElement(e,NS.HTML),e.ackSelfClosing=!0;break}case TAG_ID.NOFRAMES:{startTagInHead(t,e);break}}}function endTagInFrameset(t,e){e.tagID===TAG_ID.FRAMESET&&!t.openElements.isRootHtmlElementCurrent()&&(t.openElements.pop(),!t.fragmentContext&&t.openElements.currentTagId!==TAG_ID.FRAMESET&&(t.insertionMode=InsertionMode.AFTER_FRAMESET))}function startTagAfterFrameset(t,e){switch(e.tagID){case TAG_ID.HTML:{startTagInBody(t,e);break}case TAG_ID.NOFRAMES:{startTagInHead(t,e);break}}}function endTagAfterFrameset(t,e){e.tagID===TAG_ID.HTML&&(t.insertionMode=InsertionMode.AFTER_AFTER_FRAMESET)}function startTagAfterAfterBody(t,e){e.tagID===TAG_ID.HTML?startTagInBody(t,e):tokenAfterAfterBody(t,e)}function tokenAfterAfterBody(t,e){t.insertionMode=InsertionMode.IN_BODY,modeInBody(t,e)}function startTagAfterAfterFrameset(t,e){switch(e.tagID){case TAG_ID.HTML:{startTagInBody(t,e);break}case TAG_ID.NOFRAMES:{startTagInHead(t,e);break}}}function nullCharacterInForeignContent(t,e){e.chars=REPLACEMENT_CHARACTER,t._insertCharacters(e)}function characterInForeignContent(t,e){t._insertCharacters(e),t.framesetOk=!1}function popUntilHtmlOrIntegrationPoint(t){for(;t.treeAdapter.getNamespaceURI(t.openElements.current)!==NS.HTML&&t.openElements.currentTagId!==void 0&&!t._isIntegrationPoint(t.openElements.currentTagId,t.openElements.current);)t.openElements.pop()}function startTagInForeignContent(t,e){if(causesExit(e))popUntilHtmlOrIntegrationPoint(t),t._startTagOutsideForeignContent(e);else{const n=t._getAdjustedCurrentElement(),i=t.treeAdapter.getNamespaceURI(n);i===NS.MATHML?adjustTokenMathMLAttrs(e):i===NS.SVG&&(adjustTokenSVGTagName(e),adjustTokenSVGAttrs(e)),adjustTokenXMLAttrs(e),e.selfClosing?t._appendElement(e,i):t._insertElement(e,i),e.ackSelfClosing=!0}}function endTagInForeignContent(t,e){if(e.tagID===TAG_ID.P||e.tagID===TAG_ID.BR){popUntilHtmlOrIntegrationPoint(t),t._endTagOutsideForeignContent(e);return}for(let n=t.openElements.stackTop;n>0;n--){const i=t.openElements.items[n];if(t.treeAdapter.getNamespaceURI(i)===NS.HTML){t._endTagOutsideForeignContent(e);break}const o=t.treeAdapter.getTagName(i);if(o.toLowerCase()===e.tagName){e.tagName=o,t.openElements.shortenToLength(n);break}}}TAG_NAMES.AREA,TAG_NAMES.BASE,TAG_NAMES.BASEFONT,TAG_NAMES.BGSOUND,TAG_NAMES.BR,TAG_NAMES.COL,TAG_NAMES.EMBED,TAG_NAMES.FRAME,TAG_NAMES.HR,TAG_NAMES.IMG,TAG_NAMES.INPUT,TAG_NAMES.KEYGEN,TAG_NAMES.LINK,TAG_NAMES.META,TAG_NAMES.PARAM,TAG_NAMES.SOURCE,TAG_NAMES.TRACK,TAG_NAMES.WBR;function parse$2(t,e){return Parser.parse(t,e)}function parseFragment(t,e,n){typeof t=="string"&&(n=e,e=t,t=null);const i=Parser.getFragmentParser(t,n);return i.tokenizer.write(e,!0),i.getFragment()}function stringifyPosition(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?position$1(t.position):"start"in t||"end"in t?position$1(t):"line"in t||"column"in t?point$1(t):""}function point$1(t){return index(t&&t.line)+":"+index(t&&t.column)}function position$1(t){return point$1(t&&t.start)+"-"+point$1(t&&t.end)}function index(t){return t&&typeof t=="number"?t:1}class VFileMessage extends Error{constructor(e,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let o="",u={},l=!1;if(n&&("line"in n&&"column"in n?u={place:n}:"start"in n&&"end"in n?u={place:n}:"type"in n?u={ancestors:[n],place:n.position}:u={...n}),typeof e=="string"?o=e:!u.cause&&e&&(l=!0,o=e.message,u.cause=e),!u.ruleId&&!u.source&&typeof i=="string"){const f=i.indexOf(":");f===-1?u.ruleId=i:(u.source=i.slice(0,f),u.ruleId=i.slice(f+1))}if(!u.place&&u.ancestors&&u.ancestors){const f=u.ancestors[u.ancestors.length-1];f&&(u.place=f.position)}const c=u.place&&"start"in u.place?u.place.start:u.place;this.ancestors=u.ancestors||void 0,this.cause=u.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=c?c.line:void 0,this.name=stringifyPosition(u.place)||"1:1",this.place=u.place||void 0,this.reason=this.message,this.ruleId=u.ruleId||void 0,this.source=u.source||void 0,this.stack=l&&u.cause&&typeof u.cause.stack=="string"?u.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}VFileMessage.prototype.file="";VFileMessage.prototype.name="";VFileMessage.prototype.reason="";VFileMessage.prototype.message="";VFileMessage.prototype.stack="";VFileMessage.prototype.column=void 0;VFileMessage.prototype.line=void 0;VFileMessage.prototype.ancestors=void 0;VFileMessage.prototype.cause=void 0;VFileMessage.prototype.fatal=void 0;VFileMessage.prototype.place=void 0;VFileMessage.prototype.ruleId=void 0;VFileMessage.prototype.source=void 0;const minpath={basename,dirname,extname,join,sep:"/"};function basename(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');assertPath$1(t);let n=0,i=-1,o=t.length,u;if(e===void 0||e.length===0||e.length>t.length){for(;o--;)if(t.codePointAt(o)===47){if(u){n=o+1;break}}else i<0&&(u=!0,i=o+1);return i<0?"":t.slice(n,i)}if(e===t)return"";let l=-1,c=e.length-1;for(;o--;)if(t.codePointAt(o)===47){if(u){n=o+1;break}}else l<0&&(u=!0,l=o+1),c>-1&&(t.codePointAt(o)===e.codePointAt(c--)?c<0&&(i=o):(c=-1,i=l));return n===i?i=l:i<0&&(i=t.length),t.slice(n,i)}function dirname(t){if(assertPath$1(t),t.length===0)return".";let e=-1,n=t.length,i;for(;--n;)if(t.codePointAt(n)===47){if(i){e=n;break}}else i||(i=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function extname(t){assertPath$1(t);let e=t.length,n=-1,i=0,o=-1,u=0,l;for(;e--;){const c=t.codePointAt(e);if(c===47){if(l){i=e+1;break}continue}n<0&&(l=!0,n=e+1),c===46?o<0?o=e:u!==1&&(u=1):o>-1&&(u=-1)}return o<0||n<0||u===0||u===1&&o===n-1&&o===i+1?"":t.slice(o,n)}function join(...t){let e=-1,n;for(;++e<t.length;)assertPath$1(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":normalize(n)}function normalize(t){assertPath$1(t);const e=t.codePointAt(0)===47;let n=normalizeString(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function normalizeString(t,e){let n="",i=0,o=-1,u=0,l=-1,c,f;for(;++l<=t.length;){if(l<t.length)c=t.codePointAt(l);else{if(c===47)break;c=47}if(c===47){if(!(o===l-1||u===1))if(o!==l-1&&u===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(f=n.lastIndexOf("/"),f!==n.length-1){f<0?(n="",i=0):(n=n.slice(0,f),i=n.length-1-n.lastIndexOf("/")),o=l,u=0;continue}}else if(n.length>0){n="",i=0,o=l,u=0;continue}}e&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+t.slice(o+1,l):n=t.slice(o+1,l),i=l-o-1;o=l,u=0}else c===46&&u>-1?u++:u=-1}return n}function assertPath$1(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const minproc={cwd};function cwd(){return"/"}function isUrl(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function urlToPath(t){if(typeof t=="string")t=new URL(t);else if(!isUrl(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return getPathFromURLPosix(t)}function getPathFromURLPosix(t){if(t.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const i=e.codePointAt(n+2);if(i===70||i===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(e)}const order=["history","path","basename","stem","extname","dirname"];class VFile{constructor(e){let n;e?isUrl(e)?n={path:e}:typeof e=="string"||isUint8Array(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":minproc.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<order.length;){const u=order[i];u in n&&n[u]!==void 0&&n[u]!==null&&(this[u]=u==="history"?[...n[u]]:n[u])}let o;for(o in n)order.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?minpath.basename(this.path):void 0}set basename(e){assertNonEmpty(e,"basename"),assertPart(e,"basename"),this.path=minpath.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?minpath.dirname(this.path):void 0}set dirname(e){assertPath(this.basename,"dirname"),this.path=minpath.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?minpath.extname(this.path):void 0}set extname(e){if(assertPart(e,"extname"),assertPath(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=minpath.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){isUrl(e)&&(e=urlToPath(e)),assertNonEmpty(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?minpath.basename(this.path,this.extname):void 0}set stem(e){assertNonEmpty(e,"stem"),assertPart(e,"stem"),this.path=minpath.join(this.dirname||"",e+(this.extname||""))}fail(e,n,i){const o=this.message(e,n,i);throw o.fatal=!0,o}info(e,n,i){const o=this.message(e,n,i);return o.fatal=void 0,o}message(e,n,i){const o=new VFileMessage(e,n,i);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function assertPart(t,e){if(t&&t.includes(minpath.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+minpath.sep+"`")}function assertNonEmpty(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function assertPath(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function isUint8Array(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const errors={abandonedHeadElementChild:{reason:"Unexpected metadata element after head",description:"Unexpected element after head. Expected the element before `</head>`",url:!1},abruptClosingOfEmptyComment:{reason:"Unexpected abruptly closed empty comment",description:"Unexpected `>` or `->`. Expected `-->` to close comments"},abruptDoctypePublicIdentifier:{reason:"Unexpected abruptly closed public identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the public identifier"},abruptDoctypeSystemIdentifier:{reason:"Unexpected abruptly closed system identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the identifier identifier"},absenceOfDigitsInNumericCharacterReference:{reason:"Unexpected non-digit at start of numeric character reference",description:"Unexpected `%c`. Expected `[0-9]` for decimal references or `[0-9a-fA-F]` for hexadecimal references"},cdataInHtmlContent:{reason:"Unexpected CDATA section in HTML",description:"Unexpected `<![CDATA[` in HTML. Remove it, use a comment, or encode special characters instead"},characterReferenceOutsideUnicodeRange:{reason:"Unexpected too big numeric character reference",description:"Unexpectedly high character reference. Expected character references to be at most hexadecimal 10ffff (or decimal 1114111)"},closingOfElementWithOpenChildElements:{reason:"Unexpected closing tag with open child elements",description:"Unexpectedly closing tag. Expected other tags to be closed first",url:!1},controlCharacterInInputStream:{reason:"Unexpected control character",description:"Unexpected control character `%x`. Expected a non-control code point, 0x00, or ASCII whitespace"},controlCharacterReference:{reason:"Unexpected control character reference",description:"Unexpectedly control character in reference. Expected a non-control code point, 0x00, or ASCII whitespace"},disallowedContentInNoscriptInHead:{reason:"Disallowed content inside `<noscript>` in `<head>`",description:"Unexpected text character `%c`. Only use text in `<noscript>`s in `<body>`",url:!1},duplicateAttribute:{reason:"Unexpected duplicate attribute",description:"Unexpectedly double attribute. Expected attributes to occur only once"},endTagWithAttributes:{reason:"Unexpected attribute on closing tag",description:"Unexpected attribute. Expected `>` instead"},endTagWithTrailingSolidus:{reason:"Unexpected slash at end of closing tag",description:"Unexpected `%c-1`. Expected `>` instead"},endTagWithoutMatchingOpenElement:{reason:"Unexpected unopened end tag",description:"Unexpected end tag. Expected no end tag or another end tag",url:!1},eofBeforeTagName:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected tag name instead"},eofInCdata:{reason:"Unexpected end of file in CDATA",description:"Unexpected end of file. Expected `]]>` to close the CDATA"},eofInComment:{reason:"Unexpected end of file in comment",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInDoctype:{reason:"Unexpected end of file in doctype",description:"Unexpected end of file. Expected a valid doctype (such as `<!doctype html>`)"},eofInElementThatCanContainOnlyText:{reason:"Unexpected end of file in element that can only contain text",description:"Unexpected end of file. Expected text or a closing tag",url:!1},eofInScriptHtmlCommentLikeText:{reason:"Unexpected end of file in comment inside script",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInTag:{reason:"Unexpected end of file in tag",description:"Unexpected end of file. Expected `>` to close the tag"},incorrectlyClosedComment:{reason:"Incorrectly closed comment",description:"Unexpected `%c-1`. Expected `-->` to close the comment"},incorrectlyOpenedComment:{reason:"Incorrectly opened comment",description:"Unexpected `%c`. Expected `<!--` to open the comment"},invalidCharacterSequenceAfterDoctypeName:{reason:"Invalid sequence after doctype name",description:"Unexpected sequence at `%c`. Expected `public` or `system`"},invalidFirstCharacterOfTagName:{reason:"Invalid first character in tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},misplacedDoctype:{reason:"Misplaced doctype",description:"Unexpected doctype. Expected doctype before head",url:!1},misplacedStartTagForHeadElement:{reason:"Misplaced `<head>` start tag",description:"Unexpected start tag `<head>`. Expected `<head>` directly after doctype",url:!1},missingAttributeValue:{reason:"Missing attribute value",description:"Unexpected `%c-1`. Expected an attribute value or no `%c-1` instead"},missingDoctype:{reason:"Missing doctype before other content",description:"Expected a `<!doctype html>` before anything else",url:!1},missingDoctypeName:{reason:"Missing doctype name",description:"Unexpected doctype end at `%c`. Expected `html` instead"},missingDoctypePublicIdentifier:{reason:"Missing public identifier in doctype",description:"Unexpected `%c`. Expected identifier for `public` instead"},missingDoctypeSystemIdentifier:{reason:"Missing system identifier in doctype",description:'Unexpected `%c`. Expected identifier for `system` instead (suggested: `"about:legacy-compat"`)'},missingEndTagName:{reason:"Missing name in end tag",description:"Unexpected `%c`. Expected an ASCII letter instead"},missingQuoteBeforeDoctypePublicIdentifier:{reason:"Missing quote before public identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingQuoteBeforeDoctypeSystemIdentifier:{reason:"Missing quote before system identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingSemicolonAfterCharacterReference:{reason:"Missing semicolon after character reference",description:"Unexpected `%c`. Expected `;` instead"},missingWhitespaceAfterDoctypePublicKeyword:{reason:"Missing whitespace after public identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceAfterDoctypeSystemKeyword:{reason:"Missing whitespace after system identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBeforeDoctypeName:{reason:"Missing whitespace before doctype name",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenAttributes:{reason:"Missing whitespace between attributes",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:{reason:"Missing whitespace between public and system identifiers in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},nestedComment:{reason:"Unexpected nested comment",description:"Unexpected `<!--`. Expected `-->`"},nestedNoscriptInHead:{reason:"Unexpected nested `<noscript>` in `<head>`",description:"Unexpected `<noscript>`. Expected a closing tag or a meta element",url:!1},nonConformingDoctype:{reason:"Unexpected non-conforming doctype declaration",description:'Expected `<!doctype html>` or `<!doctype html system "about:legacy-compat">`',url:!1},nonVoidHtmlElementStartTagWithTrailingSolidus:{reason:"Unexpected trailing slash on start tag of non-void element",description:"Unexpected `/`. Expected `>` instead"},noncharacterCharacterReference:{reason:"Unexpected noncharacter code point referenced by character reference",description:"Unexpected code point. Do not use noncharacters in HTML"},noncharacterInInputStream:{reason:"Unexpected noncharacter character",description:"Unexpected code point `%x`. Do not use noncharacters in HTML"},nullCharacterReference:{reason:"Unexpected NULL character referenced by character reference",description:"Unexpected code point. Do not use NULL characters in HTML"},openElementsLeftAfterEof:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected closing tag instead",url:!1},surrogateCharacterReference:{reason:"Unexpected surrogate character referenced by character reference",description:"Unexpected code point. Do not use lone surrogate characters in HTML"},surrogateInInputStream:{reason:"Unexpected surrogate character",description:"Unexpected code point `%x`. Do not use lone surrogate characters in HTML"},unexpectedCharacterAfterDoctypeSystemIdentifier:{reason:"Invalid character after system identifier in doctype",description:"Unexpected character at `%c`. Expected `>`"},unexpectedCharacterInAttributeName:{reason:"Unexpected character in attribute name",description:"Unexpected `%c`. Expected whitespace, `/`, `>`, `=`, or probably an ASCII letter"},unexpectedCharacterInUnquotedAttributeValue:{reason:"Unexpected character in unquoted attribute value",description:"Unexpected `%c`. Quote the attribute value to include it"},unexpectedEqualsSignBeforeAttributeName:{reason:"Unexpected equals sign before attribute name",description:"Unexpected `%c`. Add an attribute name before it"},unexpectedNullCharacter:{reason:"Unexpected NULL character",description:"Unexpected code point `%x`. Do not use NULL characters in HTML"},unexpectedQuestionMarkInsteadOfTagName:{reason:"Unexpected question mark instead of tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},unexpectedSolidusInTag:{reason:"Unexpected slash in tag",description:"Unexpected `%c-1`. Expected it followed by `>` or in a quoted attribute value"},unknownNamedCharacterReference:{reason:"Unexpected unknown named character reference",description:"Unexpected character reference. Expected known named character references"}},base$1="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-",dashToCamelRe=/-[a-z]/g,formatCRe=/%c(?:([-+])(\d+))?/g,formatXRe=/%x/g,fatalities={2:!0,1:!1,0:null},emptyOptions$3={};function fromHtml(t,e){const n=e||emptyOptions$3,i=n.onerror,o=t instanceof VFile?t:new VFile(t),u=n.fragment?parseFragment:parse$2,l=String(o),c=u(l,{sourceCodeLocationInfo:!0,onParseError:n.onerror?f:null,scriptingEnabled:!1});return fromParse5(c,{file:o,space:n.space,verbose:n.verbose});function f(d){const m=d.code,g=camelcase(m),v=n[g],y=v??!0,w=typeof y=="number"?y:y?1:0;if(w){const P=errors[g],A=new VFileMessage(T(P.reason),{place:{start:{line:d.startLine,column:d.startCol,offset:d.startOffset},end:{line:d.endLine,column:d.endCol,offset:d.endOffset}},ruleId:m,source:"hast-util-from-html"});o.path&&(A.file=o.path,A.name=o.path+":"+A.name),A.fatal=fatalities[w],A.note=T(P.description),A.url=P.url===!1?void 0:base$1+m,i(A)}function T(P){return P.replace(formatCRe,A).replace(formatXRe,D);function A(k,j,B){const Z=(B?Number.parseInt(B,10):0)*(j==="-"?-1:1),R=l.charAt(d.startOffset+Z);return visualizeCharacter(R)}function D(){return visualizeCharacterCode(l.charCodeAt(d.startOffset))}}}}function camelcase(t){return t.replace(dashToCamelRe,dashToCamel)}function dashToCamel(t){return t.charAt(1).toUpperCase()}function visualizeCharacter(t){return t==="`"?"` ` `":t}function visualizeCharacterCode(t){return"0x"+t.toString(16).toUpperCase()}const VOID=-1,PRIMITIVE=0,ARRAY=1,OBJECT=2,DATE=3,REGEXP=4,MAP=5,SET=6,ERROR=7,BIGINT=8,env=typeof self=="object"?self:globalThis,deserializer=(t,e)=>{const n=(o,u)=>(t.set(u,o),o),i=o=>{if(t.has(o))return t.get(o);const[u,l]=e[o];switch(u){case PRIMITIVE:case VOID:return n(l,o);case ARRAY:{const c=n([],o);for(const f of l)c.push(i(f));return c}case OBJECT:{const c=n({},o);for(const[f,d]of l)c[i(f)]=i(d);return c}case DATE:return n(new Date(l),o);case REGEXP:{const{source:c,flags:f}=l;return n(new RegExp(c,f),o)}case MAP:{const c=n(new Map,o);for(const[f,d]of l)c.set(i(f),i(d));return c}case SET:{const c=n(new Set,o);for(const f of l)c.add(i(f));return c}case ERROR:{const{name:c,message:f}=l;return n(new env[c](f),o)}case BIGINT:return n(BigInt(l),o);case"BigInt":return n(Object(BigInt(l)),o);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:c}=new Uint8Array(l);return n(new DataView(c),l)}}return n(new env[u](l),o)};return i},deserialize=t=>deserializer(new Map,t)(0),EMPTY="",{toString:toString$1}={},{keys}=Object,typeOf=t=>{const e=typeof t;if(e!=="object"||!t)return[PRIMITIVE,e];const n=toString$1.call(t).slice(8,-1);switch(n){case"Array":return[ARRAY,EMPTY];case"Object":return[OBJECT,EMPTY];case"Date":return[DATE,EMPTY];case"RegExp":return[REGEXP,EMPTY];case"Map":return[MAP,EMPTY];case"Set":return[SET,EMPTY];case"DataView":return[ARRAY,n]}return n.includes("Array")?[ARRAY,n]:n.includes("Error")?[ERROR,n]:[OBJECT,n]},shouldSkip=([t,e])=>t===PRIMITIVE&&(e==="function"||e==="symbol"),serializer=(t,e,n,i)=>{const o=(l,c)=>{const f=i.push(l)-1;return n.set(c,f),f},u=l=>{if(n.has(l))return n.get(l);let[c,f]=typeOf(l);switch(c){case PRIMITIVE:{let m=l;switch(f){case"bigint":c=BIGINT,m=l.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+f);m=null;break;case"undefined":return o([VOID],l)}return o([c,m],l)}case ARRAY:{if(f){let v=l;return f==="DataView"?v=new Uint8Array(l.buffer):f==="ArrayBuffer"&&(v=new Uint8Array(l)),o([f,[...v]],l)}const m=[],g=o([c,m],l);for(const v of l)m.push(u(v));return g}case OBJECT:{if(f)switch(f){case"BigInt":return o([f,l.toString()],l);case"Boolean":case"Number":case"String":return o([f,l.valueOf()],l)}if(e&&"toJSON"in l)return u(l.toJSON());const m=[],g=o([c,m],l);for(const v of keys(l))(t||!shouldSkip(typeOf(l[v])))&&m.push([u(v),u(l[v])]);return g}case DATE:return o([c,l.toISOString()],l);case REGEXP:{const{source:m,flags:g}=l;return o([c,{source:m,flags:g}],l)}case MAP:{const m=[],g=o([c,m],l);for(const[v,y]of l)(t||!(shouldSkip(typeOf(v))||shouldSkip(typeOf(y))))&&m.push([u(v),u(y)]);return g}case SET:{const m=[],g=o([c,m],l);for(const v of l)(t||!shouldSkip(typeOf(v)))&&m.push(u(v));return g}}const{message:d}=l;return o([c,{name:f,message:d}],l)};return u},serialize=(t,{json:e,lossy:n}={})=>{const i=[];return serializer(!(e||n),!!e,new Map,i)(t),i},structuredClone$1=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?deserialize(serialize(t,e)):structuredClone(t):(t,e)=>deserialize(serialize(t,e)),isElement=(function(t,e,n,i,o){const u=convertElement(e);return looksLikeAnElement(t)?u.call(o,t,n,i):!1}),convertElement=(function(t){if(t==null)return element;if(typeof t=="string")return tagNameFactory(t);if(typeof t=="object")return anyFactory(t);if(typeof t=="function")return castFactory(t);throw new Error("Expected function, string, or array as `test`")});function anyFactory(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=convertElement(t[n]);return castFactory(i);function i(...o){let u=-1;for(;++u<e.length;)if(e[u].apply(this,o))return!0;return!1}}function tagNameFactory(t){return castFactory(e);function e(n){return n.tagName===t}}function castFactory(t){return e;function e(n,i,o){return!!(looksLikeAnElement(n)&&t.call(this,n,typeof i=="number"?i:void 0,o||void 0))}}function element(t){return!!(t&&typeof t=="object"&&"type"in t&&t.type==="element"&&"tagName"in t&&typeof t.tagName=="string")}function looksLikeAnElement(t){return t!==null&&typeof t=="object"&&"type"in t&&"tagName"in t}const embedded=convertElement(function(t){return t.tagName==="audio"||t.tagName==="canvas"||t.tagName==="embed"||t.tagName==="iframe"||t.tagName==="img"||t.tagName==="math"||t.tagName==="object"||t.tagName==="picture"||t.tagName==="svg"||t.tagName==="video"}),re=/[ \t\n\f\r]/g;function whitespace(t){return typeof t=="object"?t.type==="text"?empty$4(t.value):!1:empty$4(t)}function empty$4(t){return t.replace(re,"")===""}const blocks=["address","article","aside","blockquote","body","br","caption","center","col","colgroup","dd","dialog","dir","div","dl","dt","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","legend","li","li","listing","main","menu","nav","ol","optgroup","option","p","plaintext","pre","section","summary","table","tbody","td","td","tfoot","th","th","thead","tr","ul","wbr","xmp"],content$1=["button","input","select","textarea"],skippable$1=["area","base","basefont","dialog","datalist","head","link","meta","noembed","noframes","param","rp","script","source","style","template","track","title"],emptyOptions$2={},ignorableNode=convert(["comment","doctype"]);function minifyWhitespace(t,e){minify(t,{collapse:collapseFactory((e||emptyOptions$2).newlines?replaceNewlines:replaceWhitespace),whitespace:"normal"})}function minify(t,e){if("children"in t){const n={...e};return(t.type==="root"||blocklike(t))&&(n.before=!0,n.after=!0),n.whitespace=inferWhiteSpace(t,e),all$5(t,n)}if(t.type==="text"){if(e.whitespace==="normal")return minifyText(t,e);e.whitespace==="nowrap"&&(t.value=e.collapse(t.value))}return{ignore:ignorableNode(t),stripAtStart:!1,remove:!1}}function minifyText(t,e){const n=e.collapse(t.value),i={ignore:!1,stripAtStart:!1,remove:!1};let o=0,u=n.length;return e.before&&removable(n.charAt(0))&&o++,o!==u&&removable(n.charAt(u-1))&&(e.after?u--:i.stripAtStart=!0),o===u?i.remove=!0:t.value=n.slice(o,u),i}function all$5(t,e){let n=e.before;const i=e.after,o=t.children;let u=o.length,l=-1;for(;++l<u;){const c=minify(o[l],{...e,after:collapsableAfter(o,l,i),before:n});c.remove?(o.splice(l,1),l--,u--):c.ignore||(n=c.stripAtStart),content(o[l])&&(n=!1)}return{ignore:!1,stripAtStart:!!(n||i),remove:!1}}function collapsableAfter(t,e,n){for(;++e<t.length;){const i=t[e];let o=inferBoundary(i);if(o===void 0&&"children"in i&&!skippable(i)&&(o=collapsableAfter(i.children,-1)),typeof o=="boolean")return o}return n}function inferBoundary(t){if(t.type==="element"){if(content(t))return!1;if(blocklike(t))return!0}else if(t.type==="text"){if(!whitespace(t))return!1}else if(!ignorableNode(t))return!1}function content(t){return embedded(t)||isElement(t,content$1)}function blocklike(t){return isElement(t,blocks)}function skippable(t){return!!(t.type==="element"&&t.properties.hidden)||ignorableNode(t)||isElement(t,skippable$1)}function removable(t){return t===" "||t===`
`}function replaceNewlines(t){const e=/\r?\n|\r/.exec(t);return e?e[0]:" "}function replaceWhitespace(){return" "}function collapseFactory(t){return e;function e(n){return String(n).replace(/[\t\n\v\f\r ]+/g,t)}}function inferWhiteSpace(t,e){if("tagName"in t&&t.properties)switch(t.tagName){case"listing":case"plaintext":case"script":case"style":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return t.properties.wrap?"pre-wrap":"pre";case"td":case"th":return t.properties.noWrap?"nowrap":e.whitespace;case"textarea":return"pre-wrap"}return e.whitespace}function rehypeMinifyWhitespace(t){return function(e){minifyWhitespace(e,t)}}const pointEnd=point("end"),pointStart=point("start");function point(t){return e;function e(n){const i=n&&n.position&&n.position[t]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function position(t){const e=pointStart(t),n=pointEnd(t);if(e&&n)return{start:e,end:n}}function a(t,e){const n=e.properties||{},i=t.all(e),o={type:"link",url:t.resolve(String(n.href||"")||null),title:n.title?String(n.title):null,children:i};return t.patch(e,o),o}function base(t,e){t.baseFound||(t.frozenBaseUrl=String(e.properties&&e.properties.href||"")||void 0,t.baseFound=!0)}function blockquote(t,e){const n={type:"blockquote",children:t.toFlow(t.all(e))};return t.patch(e,n),n}function br$1(t,e){const n={type:"break"};return t.patch(e,n),n}const findAfter=(function(t,e,n){const i=convert(n);if(!t||!t.type||!t.children)throw new Error("Expected parent node");if(typeof e=="number"){if(e<0||e===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(e=t.children.indexOf(e),e<0)throw new Error("Expected child node or index");for(;++e<t.children.length;)if(i(t.children[e],e,t))return t.children[e]}),searchLineFeeds=/\n/g,searchTabOrSpaces=/[\t ]+/g,br=convertElement("br"),cell=convertElement(isCell),p$1=convertElement("p"),row=convertElement("tr"),notRendered=convertElement(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",hidden,closedDialog]),blockOrCaption=convertElement(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function toText(t,e){const n={},i="children"in t?t.children:[],o=blockOrCaption(t),u=inferWhitespace(t,{whitespace:n.whitespace||"normal"}),l=[];(t.type==="text"||t.type==="comment")&&l.push(...collectText(t,{breakBefore:!0,breakAfter:!0}));let c=-1;for(;++c<i.length;)l.push(...renderedTextCollection(i[c],t,{whitespace:u,breakBefore:c?void 0:o,breakAfter:c<i.length-1?br(i[c+1]):o}));const f=[];let d;for(c=-1;++c<l.length;){const m=l[c];typeof m=="number"?d!==void 0&&m>d&&(d=m):m&&(d!==void 0&&d>-1&&f.push(`
`.repeat(d)||" "),d=-1,f.push(m))}return f.join("")}function renderedTextCollection(t,e,n){return t.type==="element"?collectElement(t,e,n):t.type==="text"?n.whitespace==="normal"?collectText(t,n):collectPreText(t):[]}function collectElement(t,e,n){const i=inferWhitespace(t,n),o=t.children||[];let u=-1,l=[];if(notRendered(t))return l;let c,f;for(br(t)||row(t)&&findAfter(e,t,row)?f=`
`:p$1(t)?(c=2,f=2):blockOrCaption(t)&&(c=1,f=1);++u<o.length;)l=l.concat(renderedTextCollection(o[u],t,{whitespace:i,breakBefore:u?void 0:c,breakAfter:u<o.length-1?br(o[u+1]):f}));return cell(t)&&findAfter(e,t,cell)&&l.push("	"),c&&l.unshift(c),f&&l.push(f),l}function collectText(t,e){const n=String(t.value),i=[],o=[];let u=0;for(;u<=n.length;){searchLineFeeds.lastIndex=u;const f=searchLineFeeds.exec(n),d=f&&"index"in f?f.index:n.length;i.push(trimAndCollapseSpacesAndTabs(n.slice(u,d).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),u===0?e.breakBefore:!0,d===n.length?e.breakAfter:!0)),u=d+1}let l=-1,c;for(;++l<i.length;)i[l].charCodeAt(i[l].length-1)===8203||l<i.length-1&&i[l+1].charCodeAt(0)===8203?(o.push(i[l]),c=void 0):i[l]?(typeof c=="number"&&o.push(c),o.push(i[l]),c=0):(l===0||l===i.length-1)&&o.push(0);return o}function collectPreText(t){return[String(t.value)]}function trimAndCollapseSpacesAndTabs(t,e,n){const i=[];let o=0,u;for(;o<t.length;){searchTabOrSpaces.lastIndex=o;const l=searchTabOrSpaces.exec(t);u=l?l.index:t.length,!o&&!u&&l&&!e&&i.push(""),o!==u&&i.push(t.slice(o,u)),o=l?u+l[0].length:u}return o!==u&&!n&&i.push(""),i.join(" ")}function inferWhitespace(t,e){if(t.type==="element"){const n=t.properties||{};switch(t.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":e.whitespace;case"textarea":return"pre-wrap"}}return e.whitespace}function hidden(t){return!!(t.properties||{}).hidden}function isCell(t){return t.tagName==="td"||t.tagName==="th"}function closedDialog(t){return t.tagName==="dialog"&&!(t.properties||{}).open}function trimTrailingLines(t){const e=String(t);let n=e.length;for(;n>0;){const i=e.codePointAt(n-1);if(i!==void 0&&(i===10||i===13))n--;else break}return e.slice(0,n)}const prefix="language-";function code(t,e){const n=e.children;let i=-1,o,u;if(e.tagName==="pre")for(;++i<n.length;){const c=n[i];if(c.type==="element"&&c.tagName==="code"&&c.properties&&c.properties.className&&Array.isArray(c.properties.className)){o=c.properties.className;break}}if(o){for(i=-1;++i<o.length;)if(String(o[i]).slice(0,prefix.length)===prefix){u=String(o[i]).slice(prefix.length);break}}const l={type:"code",lang:u||null,meta:null,value:trimTrailingLines(toText(e))};return t.patch(e,l),l}function comment(t,e){const n={type:"html",value:"<!--"+e.value+"-->"};return t.patch(e,n),n}function del(t,e){const i={type:"delete",children:t.all(e)};return t.patch(e,i),i}function listItemsSpread(t){let e=-1;if(t.length>1){for(;++e<t.length;)if(t[e].spread)return!0}return!1}function dl(t,e){const n=[],i=[];let o=-1;for(;++o<e.children.length;){const c=e.children[o];c.type==="element"&&c.tagName==="div"?n.push(...c.children):n.push(c)}let u={definitions:[],titles:[]};for(o=-1;++o<n.length;){const c=n[o];if(c.type==="element"&&c.tagName==="dt"){const f=n[o-1];f&&f.type==="element"&&f.tagName==="dd"&&(i.push(u),u={definitions:[],titles:[]}),u.titles.push(c)}else u.definitions.push(c)}i.push(u),o=-1;const l=[];for(;++o<i.length;){const c=[...handle$4(t,i[o].titles),...handle$4(t,i[o].definitions)];c.length>0&&l.push({type:"listItem",spread:c.length>1,checked:null,children:c})}if(l.length>0){const c={type:"list",ordered:!1,start:null,spread:listItemsSpread(l),children:l};return t.patch(e,c),c}}function handle$4(t,e){const n=t.all({type:"root",children:e}),i=t.toSpecificContent(n,create$2);return i.length===0?[]:i.length===1?i[0].children:[{type:"list",ordered:!1,start:null,spread:listItemsSpread(i),children:i}]}function create$2(){return{type:"listItem",spread:!1,checked:null,children:[]}}function em(t,e){const i={type:"emphasis",children:t.all(e)};return t.patch(e,i),i}function dropSurroundingBreaks(t){let e=0,n=t.length;for(;e<n&&t[e].type==="break";)e++;for(;n>e&&t[n-1].type==="break";)n--;return e===0&&n===t.length?t:t.slice(e,n)}function heading(t,e){const n=Number(e.tagName.charAt(1))||1,i=dropSurroundingBreaks(t.all(e)),o={type:"heading",depth:n,children:i};return t.patch(e,o),o}function hr(t,e){const n={type:"thematicBreak"};return t.patch(e,n),n}function iframe(t,e){const n=e.properties||{},i=String(n.src||""),o=String(n.title||"");if(i&&o){const u={type:"link",title:null,url:t.resolve(i),children:[{type:"text",value:o}]};return t.patch(e,u),u}}function img(t,e){const n=e.properties||{},i={type:"image",url:t.resolve(String(n.src||"")||null),title:n.title?String(n.title):null,alt:n.alt?String(n.alt):""};return t.patch(e,i),i}function inlineCode(t,e){const n={type:"inlineCode",value:toText(e)};return t.patch(e,n),n}function findSelectedOptions(t,e){const n=[],i=[],o=e||t.properties||{},u=findOptions(t),l=Math.min(Number.parseInt(String(o.size),10),0)||(o.multiple?4:1);let c=-1;for(;++c<u.length;){const m=u[c];m&&m.properties&&m.properties.selected&&n.push(m)}const f=n.length>0?n:u,d=Math.min(f.length,l);for(c=-1;++c<d;){const m=f[c],g=m.properties||{},v=toText(m),y=v||String(g.label||""),w=String(g.value||"")||v;i.push([w,y===w?void 0:y])}return i}function findOptions(t){const e=[];let n=-1;for(;++n<t.children.length;){const i=t.children[n];"children"in i&&Array.isArray(i.children)&&e.push(...findOptions(i)),i.type==="element"&&i.tagName==="option"&&(!i.properties||!i.properties.disabled)&&e.push(i)}return e}const defaultChecked="[x]",defaultUnchecked="[ ]";function input(t,e){const n=e.properties||{},i=String(n.value||n.placeholder||"");if(n.disabled||n.type==="hidden"||n.type==="file")return;if(n.type==="checkbox"||n.type==="radio"){const f={type:"text",value:n.checked?t.options.checked||defaultChecked:t.options.unchecked||defaultUnchecked};return t.patch(e,f),f}if(n.type==="image"){const f=n.alt||i;if(f){const d={type:"image",url:t.resolve(String(n.src||"")||null),title:String(n.title||"")||null,alt:String(f)};return t.patch(e,d),d}return}let o=[];if(i)o=[[i,void 0]];else if(n.type!=="button"&&n.type!=="file"&&n.type!=="password"&&n.type!=="reset"&&n.type!=="submit"&&n.list){const f=String(n.list),d=t.elementById.get(f);d&&d.tagName==="datalist"&&(o=findSelectedOptions(d,n))}if(o.length===0)return;if(n.type==="password"&&(o[0]=["".repeat(o[0][0].length),void 0]),n.type==="email"||n.type==="url"){const f=[];let d=-1;for(;++d<o.length;){const m=t.resolve(o[d][0]),g={type:"link",title:null,url:n.type==="email"?"mailto:"+m:m,children:[{type:"text",value:o[d][1]||m}]};f.push(g),d!==o.length-1&&f.push({type:"text",value:", "})}return f}const u=[];let l=-1;for(;++l<o.length;)u.push(o[l][1]?o[l][1]+" ("+o[l][0]+")":o[l][0]);const c={type:"text",value:u.join(", ")};return t.patch(e,c),c}const own$1={}.hasOwnProperty;function hasProperty(t,e){const n=t.type==="element"&&own$1.call(t.properties,e)&&t.properties[e];return n!=null&&n!==!1}const list$1=new Set(["pingback","prefetch","stylesheet"]);function isBodyOkLink(t){if(t.type!=="element"||t.tagName!=="link")return!1;if(t.properties.itemProp)return!0;const e=t.properties.rel;let n=-1;if(!Array.isArray(e)||e.length===0)return!1;for(;++n<e.length;)if(!list$1.has(String(e[n])))return!1;return!0}const basic=convertElement(["a","abbr","area","b","bdi","bdo","br","button","cite","code","data","datalist","del","dfn","em","i","input","ins","kbd","keygen","label","map","mark","meter","noscript","output","progress","q","ruby","s","samp","script","select","small","span","strong","sub","sup","template","textarea","time","u","var","wbr"]),meta=convertElement("meta");function phrasing$2(t){return!!(t.type==="text"||basic(t)||embedded(t)||isBodyOkLink(t)||meta(t)&&hasProperty(t,"itemProp"))}function li(t,e){const{rest:n,checkbox:i}=extractLeadingCheckbox(e),o=i?!!i.properties.checked:null,u=spreadout(n),l=t.toFlow(t.all(n)),c={type:"listItem",spread:u,checked:o,children:l};return t.patch(e,c),c}function spreadout(t){let e=-1,n=!1;for(;++e<t.children.length;){const i=t.children[e];if(i.type==="element"){if(phrasing$2(i))continue;if(i.tagName==="p"||n||spreadout(i))return!0;n=!0}}return!1}function extractLeadingCheckbox(t){const e=t.children[0];if(e&&e.type==="element"&&e.tagName==="input"&&e.properties&&(e.properties.type==="checkbox"||e.properties.type==="radio")){const n={...t,children:t.children.slice(1)};return{checkbox:e,rest:n}}if(e&&e.type==="element"&&e.tagName==="p"){const{checkbox:n,rest:i}=extractLeadingCheckbox(e);if(n){const o={...t,children:[i,...t.children.slice(1)]};return{checkbox:n,rest:o}}}return{checkbox:void 0,rest:t}}function list(t,e){const n=e.tagName==="ol",i=t.toSpecificContent(t.all(e),create$1);let o=null;n&&(o=e.properties&&e.properties.start?Number.parseInt(String(e.properties.start),10):1);const u={type:"list",ordered:n,start:o,spread:listItemsSpread(i),children:i};return t.patch(e,u),u}function create$1(){return{type:"listItem",spread:!1,checked:null,children:[]}}const emptyOptions$1={};function toString(t,e){const n=emptyOptions$1,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return one$3(t,i,o)}function one$3(t,e,n){if(node(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return all$4(t.children,e,n)}return Array.isArray(t)?all$4(t,e,n):""}function all$4(t,e,n){const i=[];let o=-1;for(;++o<t.length;)i[o]=one$3(t[o],e,n);return i.join("")}function node(t){return!!(t&&typeof t=="object")}const phrasing$1=convert(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function wrapNeeded(t){let e=-1;for(;++e<t.length;){const n=t[e];if(!phrasing(n)||"children"in n&&wrapNeeded(n.children))return!0}return!1}function wrap(t){return runs(t,e,function(n){return n});function e(n){return n.every(function(i){return i.type==="text"?whitespace(i.value):!1})?[]:[{type:"paragraph",children:dropSurroundingBreaks(n)}]}}function split(t){return runs(t.children,e,n);function e(i){const o=cloneWithoutChildren(t);return o.children=i,[o]}function n(i){if("children"in i&&"children"in t){const o=cloneWithoutChildren(t),u=cloneWithoutChildren(i);return o.children=i.children,u.children.push(o),u}return{...i}}}function runs(t,e,n){const i=flatten(t),o=[];let u=[],l=-1;for(;++l<i.length;){const c=i[l];phrasing(c)?u.push(c):(u.length>0&&(o.push(...e(u)),u=[]),o.push(n(c)))}return u.length>0&&(o.push(...e(u)),u=[]),o}function flatten(t){const e=[];let n=-1;for(;++n<t.length;){const i=t[n];(i.type==="delete"||i.type==="link")&&wrapNeeded(i.children)?e.push(...split(i)):e.push(i)}return e}function phrasing(t){const e=t.data&&t.data.hName;return e?phrasing$2({type:"element",tagName:e,properties:{},children:[]}):phrasing$1(t)}function cloneWithoutChildren(t){return structuredClone$1({...t,children:[]})}function media(t,e){const n=e.properties||{},i=e.tagName==="video"?String(n.poster||""):"";let o=String(n.src||""),u=-1,l=!1,c=t.all(e);if(visit({type:"root",children:c},function(g){if(g.type==="link")return l=!0,EXIT}),l||wrapNeeded(c))return c;for(;!o&&++u<e.children.length;){const g=e.children[u];g.type==="element"&&g.tagName==="source"&&g.properties&&(o=String(g.properties.src||""))}if(i){const g={type:"image",title:null,url:t.resolve(i),alt:toString(c)};t.patch(e,g),c=[g]}const d=c,m={type:"link",title:n.title?String(n.title):null,url:t.resolve(o),children:d};return t.patch(e,m),m}function p(t,e){const n=dropSurroundingBreaks(t.all(e));if(n.length>0){const i={type:"paragraph",children:n};return t.patch(e,i),i}}const defaultQuotes=['"'];function q(t,e){const n=t.options.quotes||defaultQuotes;t.qNesting++;const i=t.all(e);t.qNesting--;const o=n[t.qNesting%n.length],u=i[0],l=i[i.length-1],c=o.charAt(0),f=o.length>1?o.charAt(1):o;return u&&u.type==="text"?u.value=c+u.value:i.unshift({type:"text",value:c}),l&&l.type==="text"?l.value+=f:i.push({type:"text",value:f}),i}function root$3(t,e){let n=t.all(e);(t.options.document||wrapNeeded(n))&&(n=wrap(n));const i={type:"root",children:n};return t.patch(e,i),i}function select$2(t,e){const n=findSelectedOptions(e);let i=-1;const o=[];for(;++i<n.length;){const u=n[i];o.push(u[1]?u[1]+" ("+u[0]+")":u[0])}if(o.length>0){const u={type:"text",value:o.join(", ")};return t.patch(e,u),u}}function strong(t,e){const i={type:"strong",children:t.all(e)};return t.patch(e,i),i}function tableCell(t,e){const i={type:"tableCell",children:t.all(e)};if(t.patch(e,i),e.properties){const o=e.properties.rowSpan,u=e.properties.colSpan;if(o||u){const l=i.data||(i.data={});o&&(l.hastUtilToMdastTemporaryRowSpan=o),u&&(l.hastUtilToMdastTemporaryColSpan=u)}}return i}function tableRow(t,e){const i={type:"tableRow",children:t.toSpecificContent(t.all(e),create)};return t.patch(e,i),i}function create(){return{type:"tableCell",children:[]}}function table(t,e){if(t.inTable){const d={type:"text",value:toText(e)};return t.patch(e,d),d}t.inTable=!0;const{align:n,headless:i}=inspect(e),o=t.toSpecificContent(t.all(e),createRow);i&&o.unshift(createRow());let u=-1;for(;++u<o.length;){const d=o[u],m=t.toSpecificContent(d.children,createCell);d.children=m}let l=1;for(u=-1;++u<o.length;){const d=o[u].children;let m=-1;for(;++m<d.length;){const g=d[m];if(g.data){const v=g.data,y=Number.parseInt(String(v.hastUtilToMdastTemporaryColSpan),10)||1,w=Number.parseInt(String(v.hastUtilToMdastTemporaryRowSpan),10)||1;if(y>1||w>1){let T=u-1;for(;++T<u+w;){let P=m-1;for(;++P<m+y&&o[T];){const A=[];(T!==u||P!==m)&&A.push({type:"tableCell",children:[]}),o[T].children.splice(P,0,...A)}}}"hastUtilToMdastTemporaryColSpan"in g.data&&delete g.data.hastUtilToMdastTemporaryColSpan,"hastUtilToMdastTemporaryRowSpan"in g.data&&delete g.data.hastUtilToMdastTemporaryRowSpan,Object.keys(g.data).length===0&&delete g.data}}d.length>l&&(l=d.length)}for(u=-1;++u<o.length;){const d=o[u].children;let m=d.length-1;for(;++m<l;)d.push({type:"tableCell",children:[]})}let c=n.length-1;for(;++c<l;)n.push(null);t.inTable=!1;const f={type:"table",align:n,children:o};return t.patch(e,f),f}function inspect(t){const e={align:[null],headless:!0};let n=0,i=0;return visit(t,function(o){if(o.type==="element"){if(o.tagName==="table"&&t!==o)return SKIP;if((o.tagName==="th"||o.tagName==="td")&&o.properties){if(!e.align[i]){const u=String(o.properties.align||"")||null;(u==="center"||u==="left"||u==="right"||u===null)&&(e.align[i]=u)}e.headless&&n<2&&o.tagName==="th"&&(e.headless=!1),i++}else o.tagName==="thead"?e.headless=!1:o.tagName==="tr"&&(n++,i=0)}}),e}function createCell(){return{type:"tableCell",children:[]}}function createRow(){return{type:"tableRow",children:[]}}function text(t,e){const n={type:"text",value:e.value};return t.patch(e,n),n}function textarea(t,e){const n={type:"text",value:toText(e)};return t.patch(e,n),n}function wbr(t,e){const n={type:"text",value:""};return t.patch(e,n),n}const nodeHandlers={comment,doctype:ignore,root:root$3,text},handlers={applet:ignore,area:ignore,basefont:ignore,bgsound:ignore,caption:ignore,col:ignore,colgroup:ignore,command:ignore,content:ignore,datalist:ignore,dialog:ignore,element:ignore,embed:ignore,frame:ignore,frameset:ignore,isindex:ignore,keygen:ignore,link:ignore,math:ignore,menu:ignore,menuitem:ignore,meta:ignore,nextid:ignore,noembed:ignore,noframes:ignore,optgroup:ignore,option:ignore,param:ignore,script:ignore,shadow:ignore,source:ignore,spacer:ignore,style:ignore,svg:ignore,template:ignore,title:ignore,track:ignore,abbr:all$3,acronym:all$3,bdi:all$3,bdo:all$3,big:all$3,blink:all$3,button:all$3,canvas:all$3,cite:all$3,data:all$3,details:all$3,dfn:all$3,font:all$3,ins:all$3,label:all$3,map:all$3,marquee:all$3,meter:all$3,nobr:all$3,noscript:all$3,object:all$3,output:all$3,progress:all$3,rb:all$3,rbc:all$3,rp:all$3,rt:all$3,rtc:all$3,ruby:all$3,slot:all$3,small:all$3,span:all$3,sup:all$3,sub:all$3,tbody:all$3,tfoot:all$3,thead:all$3,time:all$3,address:flow,article:flow,aside:flow,body:flow,center:flow,div:flow,fieldset:flow,figcaption:flow,figure:flow,form:flow,footer:flow,header:flow,hgroup:flow,html:flow,legend:flow,main:flow,multicol:flow,nav:flow,picture:flow,section:flow,a,audio:media,b:strong,base,blockquote,br:br$1,code:inlineCode,dir:list,dl,dt:li,dd:li,del,em,h1:heading,h2:heading,h3:heading,h4:heading,h5:heading,h6:heading,hr,i:em,iframe,img,image:img,input,kbd:inlineCode,li,listing:code,mark:em,ol:list,p,plaintext:code,pre:code,q,s:del,samp:inlineCode,select:select$2,strike:del,strong,summary:p,table,td:tableCell,textarea,th:tableCell,tr:tableRow,tt:inlineCode,u:em,ul:list,var:inlineCode,video:media,wbr,xmp:code};function all$3(t,e){return t.all(e)}function flow(t,e){return t.toFlow(t.all(e))}function ignore(){}const own={}.hasOwnProperty;function createState$2(t){return{all:all$2,baseFound:!1,elementById:new Map,frozenBaseUrl:void 0,handlers:{...handlers,...t.handlers},inTable:!1,nodeHandlers:{...nodeHandlers,...t.nodeHandlers},one:one$2,options:t,patch,qNesting:0,resolve,toFlow,toSpecificContent}}function all$2(t){const e=t.children||[],n=[];let i=-1;for(;++i<e.length;){const o=e[i],u=this.one(o,t);Array.isArray(u)?n.push(...u):u&&n.push(u)}return n}function one$2(t,e){if(t.type==="element"){if(t.properties&&t.properties.dataMdast==="ignore")return;if(own.call(this.handlers,t.tagName))return this.handlers[t.tagName](this,t,e)||void 0}else if(own.call(this.nodeHandlers,t.type))return this.nodeHandlers[t.type](this,t,e)||void 0;if("value"in t&&typeof t.value=="string"){const n={type:"text",value:t.value};return this.patch(t,n),n}if("children"in t)return this.all(t)}function patch(t,e){t.position&&(e.position=position(t))}function resolve(t){const e=this.frozenBaseUrl;return t==null?"":e?String(new URL(t,e)):t}function toFlow(t){return wrap(t)}function toSpecificContent(t,e){const n=e(),i=[];let o=[],u=-1;for(;++u<t.length;){const c=t[u];if(l(c))o.length>0&&(c.children.unshift(...o),o=[]),i.push(c);else{const f=c;o.push(f)}}if(o.length>0){let c=i[i.length-1];c||(c=e(),i.push(c)),c.children.push(...o),o=[]}return i;function l(c){return c.type===n.type}}const emptyOptions={};function toMdast(t,e){const n=structuredClone$1(t),i=emptyOptions,o=rehypeMinifyWhitespace({newlines:i.newlines===!0}),u=createState$2(i);let l;o(n),visit(n,function(f){if(f&&f.type==="element"&&f.properties){const d=String(f.properties.id||"")||void 0;d&&!u.elementById.has(d)&&u.elementById.set(d,f)}});const c=u.one(n,void 0);return c?Array.isArray(c)?l={type:"root",children:c}:l=c:l={type:"root",children:[]},visit(l,function(f,d,m){if(f.type==="text"&&d!==void 0&&m){const g=m.children[d-1];if(g&&g.type===f.type)return g.value+=f.value,m.children.splice(d,1),g.position&&f.position&&(g.position.end=f.position.end),d-1;if(f.value=f.value.replace(/[\t ]*(\r?\n|\r)[\t ]*/,"$1"),m&&(m.type==="heading"||m.type==="paragraph"||m.type==="root")&&(d||(f.value=f.value.replace(/^[\t ]+/,"")),d===m.children.length-1&&(f.value=f.value.replace(/[\t ]+$/,""))),!f.value)return m.children.splice(d,1),d}}),l}function isYouTubeUrl(t){if(!t)return!1;try{const e=new URL(t);return e.hostname==="youtube.com"||e.hostname==="www.youtube.com"||e.hostname==="youtu.be"||e.hostname==="www.youtu.be"?!!getYouTubeVideoId(t):!1}catch{return!1}}function getYouTubeVideoId(t){try{const e=new URL(t);if(e.hostname==="youtu.be"||e.hostname==="www.youtu.be")return e.pathname.slice(1);if(e.hostname==="youtube.com"||e.hostname==="www.youtube.com"){if(e.pathname==="/watch"&&e.searchParams.has("v"))return e.searchParams.get("v");if(e.pathname.startsWith("/embed/"))return e.pathname.slice(7)}return null}catch{return null}}function CiteYouTube({url:t}){const e=getYouTubeVideoId(t);if(!e)return null;const n=`https://www.youtube.com/embed/${e}`;return jsxRuntimeExports.jsx("div",{className:"aspect-video w-full mb-2",children:jsxRuntimeExports.jsx("iframe",{src:n,title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"w-full h-full"})})}function convertHtmlToMdast(t){const e=fromHtml(t,{fragment:!0}),n=toMdast(e);return visit(n,i=>{i.key??=createId()}),n}function useNumberedReferences(){return!!useSiteManifest()?.options?.numbered_references}function CiteChild({html:t,doi:e,url:n}){const{data:i,error:o,isLoading:u}=useOpenAlexWork(e);if(e&&!o){const c=i?.abstract_inverted_index?reverseInvertedAbstract(i.abstract_inverted_index):"",f=formatAuthors(i?.authorships),d=i?.primary_location?.source?.display_name,m=i?.publication_year;return jsxRuntimeExports.jsx(LinkCard,{url:doi.buildUrl(e),title:d&&m?`${d} (${m})`:d||m,size:"lg",description:jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3 max-w-none prose",children:[i?.title&&jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-1 font-bold",children:jsxRuntimeExports.jsx("div",{className:"text-sm leading-relaxed",children:i.title.replace(/<[^>]+>/g,"")})}),f&&jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-1",children:jsxRuntimeExports.jsx("div",{className:"text-sm",children:f})}),c&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("div",{className:"text-xs font-bold",children:"Abstract"}),jsxRuntimeExports.jsx("div",{className:"overflow-y-auto max-h-48 text-xs leading-relaxed",children:c})]}),jsxRuntimeExports.jsx(CiteFigureBar,{doi:e}),u&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-gray-900",children:"DOI"}),jsxRuntimeExports.jsx("div",{className:"text-sm",children:e}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:"Loading additional information..."})]}),o&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-gray-900",children:"DOI"}),jsxRuntimeExports.jsx("div",{className:"text-sm",children:e}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:"Unable to load additional information"})]}),!u&&!o&&!i&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-gray-900",children:"DOI"}),jsxRuntimeExports.jsx("div",{className:"text-sm",children:e})]})]})})}const l=convertHtmlToMdast(t);return jsxRuntimeExports.jsxs("div",{className:"hover-document article w-[500px] sm:max-w-[500px] p-3",children:[n&&isYouTubeUrl(n)&&jsxRuntimeExports.jsx(CiteYouTube,{url:n}),jsxRuntimeExports.jsx(MyST,{ast:l})]})}const CiteGroup=({node:t,className:e})=>{const n=t.children?.every(i=>i.type==="cite")??!1;return jsxRuntimeExports.jsx("span",{className:cn({"cite-group":n,"xref-group":!n,narrative:t.kind==="narrative",parenthetical:t.kind==="parenthetical"},e),children:jsxRuntimeExports.jsx(MyST,{ast:t.children})})},Cite=({label:t,error:e,children:n,className:i})=>{const o=useReferences();if(!t)return jsxRuntimeExports.jsx(InlineError,{value:"cite (no label)",message:"Citation Has No Label",className:i});const{html:u,doi:l,url:c}=o?.cite?.data[t]??{};if(e)return jsxRuntimeExports.jsx(InlineError,{value:t,message:"Citation Not Found",className:i});const f=l?doi.buildUrl(l):c,d=(i??"").split(" ").includes("button");return jsxRuntimeExports.jsx(HoverPopover,{openDelay:300,card:jsxRuntimeExports.jsx(CiteChild,{html:u,doi:l,url:f}),children:jsxRuntimeExports.jsxs("cite",{className:i,children:[f&&jsxRuntimeExports.jsx("a",{href:f,target:"_blank",rel:"noreferrer",className:cn({"hover-link":!d}),children:n}),!f&&jsxRuntimeExports.jsx("span",{className:"hover-link",children:n})]})})},CiteRenderer=({node:t,className:e})=>{const n=useNumberedReferences();return jsxRuntimeExports.jsx(Cite,{label:t.label,error:t.error,className:cn(e,t.class),children:n&&t.kind==="parenthetical"?t.enumerator:jsxRuntimeExports.jsx(MyST,{ast:t.children})})},CITE_RENDERERS={citeGroup:CiteGroup,cite:CiteRenderer},handle$3=zwitch("operator",{unknown:unknownOperator$1,invalid:exists$1,handlers:{"=":exact$1,"^=":begins$1,"$=":ends$1,"*=":containsString$1,"~=":containsArray$1}});function attribute$1(t,e){let n=-1;for(;++n<t.attrs.length;)if(!handle$3(t.attrs[n],e))return!1;return!0}function exists$1(t,e){return e[t.name]!==null&&e[t.name]!==void 0}function exact$1(t,e){return exists$1(t,e)&&String(e[t.name])===t.value}function containsArray$1(t,e){const n=e[t.name];return n==null?!1:Array.isArray(n)&&n.includes(t.value)?!0:String(n)===t.value}function begins$1(t,e){const n=e[t.name];return!!(t.value&&typeof n=="string"&&n.slice(0,t.value.length)===t.value)}function ends$1(t,e){const n=e[t.name];return!!(t.value&&typeof n=="string"&&n.slice(-t.value.length)===t.value)}function containsString$1(t,e){const n=e[t.name];return!!(t.value&&typeof n=="string"&&n.includes(t.value))}function unknownOperator$1(t){throw new Error("Unknown operator `"+t.operator+"`")}function name$1(t,e){return t.tagName==="*"||t.tagName===e.type}function parent$1(t){return Array.isArray(t.children)}const nthCheck$1=nthCheck$8.default||nthCheck$8,handle$2=zwitch("name",{unknown:unknownPseudo$1,invalid:invalidPseudo$1,handlers:{any:matches$1,blank:empty$3,empty:empty$3,"first-child":firstChild$1,"first-of-type":firstOfType$1,has:has$1,"last-child":lastChild$1,"last-of-type":lastOfType$1,matches:matches$1,not:not$1,"nth-child":nthChild$1,"nth-last-child":nthLastChild$1,"nth-of-type":nthOfType$1,"nth-last-of-type":nthLastOfType$1,"only-child":onlyChild$1,"only-of-type":onlyOfType$1,root:root$2,scope:scope$1}});pseudo$1.needsIndex=["any","first-child","first-of-type","last-child","last-of-type","matches","not","nth-child","nth-last-child","nth-of-type","nth-last-of-type","only-child","only-of-type"];function pseudo$1(t,e,n,i,o){const u=t.pseudos;let l=-1;for(;++l<u.length;)if(!handle$2(u[l],e,n,i,o))return!1;return!0}function empty$3(t,e){return parent$1(e)?e.children.length===0:!("value"in e)}function firstChild$1(t,e,n,i,o){return assertDeep$1(o,t),o.nodeIndex===0}function firstOfType$1(t,e,n,i,o){return assertDeep$1(o,t),o.typeIndex===0}function has$1(t,e,n,i,o){const u={type:"root",children:parent$1(e)?e.children:[]},l={...o,found:!1,shallow:!1,one:!0,scopeNodes:[e],results:[],rootQuery:queryToSelectors$1(t.value)};return walk$1(l,u),l.results.length>0}function lastChild$1(t,e,n,i,o){return assertDeep$1(o,t),typeof o.nodeCount=="number"&&o.nodeIndex===o.nodeCount-1}function lastOfType$1(t,e,n,i,o){return assertDeep$1(o,t),typeof o.typeCount=="number"&&o.typeIndex===o.typeCount-1}function matches$1(t,e,n,i,o){const u={...o,found:!1,shallow:!1,one:!0,scopeNodes:[e],results:[],rootQuery:queryToSelectors$1(t.value)};return walk$1(u,e),u.results[0]===e}function not$1(t,e,n,i,o){return!matches$1(t,e,n,i,o)}function nthChild$1(t,e,n,i,o){const u=getCachedNthCheck$1(t);return assertDeep$1(o,t),typeof o.nodeIndex=="number"&&u(o.nodeIndex)}function nthLastChild$1(t,e,n,i,o){const u=getCachedNthCheck$1(t);return assertDeep$1(o,t),typeof o.nodeCount=="number"&&typeof o.nodeIndex=="number"&&u(o.nodeCount-o.nodeIndex-1)}function nthLastOfType$1(t,e,n,i,o){const u=getCachedNthCheck$1(t);return assertDeep$1(o,t),typeof o.typeIndex=="number"&&typeof o.typeCount=="number"&&u(o.typeCount-1-o.typeIndex)}function nthOfType$1(t,e,n,i,o){const u=getCachedNthCheck$1(t);return assertDeep$1(o,t),typeof o.typeIndex=="number"&&u(o.typeIndex)}function onlyChild$1(t,e,n,i,o){return assertDeep$1(o,t),o.nodeCount===1}function onlyOfType$1(t,e,n,i,o){return assertDeep$1(o,t),o.typeCount===1}function root$2(t,e,n,i){return e&&!i}function scope$1(t,e,n,i,o){return e&&o.scopeNodes.includes(e)}function invalidPseudo$1(){throw new Error("Invalid pseudo-selector")}function unknownPseudo$1(t){throw t.name?new Error("Unknown pseudo-selector `"+t.name+"`"):new Error("Unexpected pseudo-element or empty pseudo-class")}function assertDeep$1(t,e){if(t.shallow)throw new Error("Cannot use `:"+e.name+"` without parent")}function getCachedNthCheck$1(t){let e=t._cachedFn;return e||(e=nthCheck$1(t.value),t._cachedFn=e),e}function test$1(t,e,n,i,o){if(t.id)throw new Error("Invalid selector: id");if(t.classNames)throw new Error("Invalid selector: class");return!!(e&&(!t.tagName||name$1(t,e))&&(!t.attrs||attribute$1(t,e))&&(!t.pseudos||pseudo$1(t,e,n,i,o)))}const empty$2=[];function queryToSelectors$1(t){return t===null?{type:"selectors",selectors:[]}:t.type==="ruleSet"?{type:"selectors",selectors:[t]}:t}function walk$1(t,e){e&&one$1(t,[],e,void 0,void 0)}function one$1(t,e,n,i,o){let u={directChild:void 0,descendant:void 0,adjacentSibling:void 0,generalSibling:void 0};return u=applySelectors$1(t,combine$1(e,t.rootQuery.selectors),n,i,o),parent$1(n)&&!t.shallow&&!(t.one&&t.found)&&all$1(t,u,n),u}function all$1(t,e,n){const i=combine$1(e.descendant,e.directChild);let o,u=-1;const l={count:0,types:new Map},c={count:0,types:new Map};for(;++u<n.children.length;)count$1(l,n.children[u]);for(u=-1;++u<n.children.length;){const d=n.children[u].type.toUpperCase();t.nodeIndex=c.count,t.typeIndex=c.types.get(d)||0,t.nodeCount=l.count,t.typeCount=l.types.get(d);const m=combine$1(i,o),g=one$1(t,m,n.children[u],u,n);if(o=combine$1(g.generalSibling,g.adjacentSibling),t.one&&t.found)break;count$1(c,n.children[u])}}function applySelectors$1(t,e,n,i,o){const u={directChild:void 0,descendant:void 0,adjacentSibling:void 0,generalSibling:void 0};let l=-1;for(;++l<e.length;){const c=e[l];if(t.one&&t.found)break;if(t.shallow&&c.rule.rule)throw new Error("Expected selector without nesting");if(test$1(c.rule,n,i,o,t)){const f=c.rule.rule;if(f){const d={type:"ruleSet",rule:f},m=f.nestingOperator==="+"?"adjacentSibling":f.nestingOperator==="~"?"generalSibling":f.nestingOperator===">"?"directChild":"descendant";add$1(u,m,d)}else t.found=!0,t.results.includes(n)||t.results.push(n)}c.rule.nestingOperator===null?add$1(u,"descendant",c):c.rule.nestingOperator==="~"&&add$1(u,"generalSibling",c)}return u}function combine$1(t,e){return t&&e&&t.length>0&&e.length>0?[...t,...e]:t&&t.length>0?t:e&&e.length>0?e:empty$2}function add$1(t,e,n){const i=t[e];i?i.push(n):t[e]=[n]}function count$1(t,e){const n=e.type.toUpperCase(),i=(t.types.get(n)||0)+1;t.count++,t.types.set(n,i)}var lib$1={},parserContext$1={},utils$1={},hasRequiredUtils$1;function requireUtils$1(){return hasRequiredUtils$1||(hasRequiredUtils$1=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(l){return l>="a"&&l<="z"||l>="A"&&l<="Z"||l==="-"||l==="_"}t.isIdentStart=e;function n(l){return l>="a"&&l<="z"||l>="A"&&l<="Z"||l>="0"&&l<="9"||l==="-"||l==="_"}t.isIdent=n;function i(l){return l>="a"&&l<="f"||l>="A"&&l<="F"||l>="0"&&l<="9"}t.isHex=i;function o(l){for(var c=l.length,f="",d=0;d<c;){var m=l.charAt(d);if(t.identSpecialChars[m])f+="\\"+m;else if(m==="_"||m==="-"||m>="A"&&m<="Z"||m>="a"&&m<="z"||d!==0&&m>="0"&&m<="9")f+=m;else{var g=m.charCodeAt(0);if((g&63488)===55296){var v=l.charCodeAt(d++);if((g&64512)!==55296||(v&64512)!==56320)throw Error("UCS-2(decode): illegal sequence");g=((g&1023)<<10)+(v&1023)+65536}f+="\\"+g.toString(16)+" "}d++}return f}t.escapeIdentifier=o;function u(l){for(var c=l.length,f="",d=0,m;d<c;){var g=l.charAt(d);g==='"'?g='\\"':g==="\\"?g="\\\\":(m=t.strReplacementsRev[g])!==void 0&&(g=m),f+=g,d++}return'"'+f+'"'}t.escapeStr=u,t.identSpecialChars={"!":!0,'"':!0,"#":!0,$:!0,"%":!0,"&":!0,"'":!0,"(":!0,")":!0,"*":!0,"+":!0,",":!0,".":!0,"/":!0,";":!0,"<":!0,"=":!0,">":!0,"?":!0,"@":!0,"[":!0,"\\":!0,"]":!0,"^":!0,"`":!0,"{":!0,"|":!0,"}":!0,"~":!0},t.strReplacementsRev={"\n":"\\n","\r":"\\r","	":"\\t","\f":"\\f","\v":"\\v"},t.singleQuoteEscapeChars={n:`
`,r:"\r",t:"	",f:"\f","\\":"\\","'":"'"},t.doubleQuotesEscapeChars={n:`
`,r:"\r",t:"	",f:"\f","\\":"\\",'"':'"'}})(utils$1)),utils$1}var hasRequiredParserContext$1;function requireParserContext$1(){if(hasRequiredParserContext$1)return parserContext$1;hasRequiredParserContext$1=1,Object.defineProperty(parserContext$1,"__esModule",{value:!0});var t=requireUtils$1();function e(n,i,o,u,l,c){var f=n.length,d="";function m(A,D){var k="";for(i++,d=n.charAt(i);i<f;){if(d===A)return i++,k;if(d==="\\"){i++,d=n.charAt(i);var j=void 0;if(d===A)k+=A;else if((j=D[d])!==void 0)k+=j;else if(t.isHex(d)){var B=d;for(i++,d=n.charAt(i);t.isHex(d);)B+=d,i++,d=n.charAt(i);d===" "&&(i++,d=n.charAt(i)),k+=String.fromCharCode(parseInt(B,16));continue}else k+=d}else k+=d;i++,d=n.charAt(i)}return k}function g(){var A="";for(d=n.charAt(i);i<f;){if(t.isIdent(d))A+=d;else if(d==="\\"){if(i++,i>=f)throw Error("Expected symbol but end of file reached.");if(d=n.charAt(i),t.identSpecialChars[d])A+=d;else if(t.isHex(d)){var D=d;for(i++,d=n.charAt(i);t.isHex(d);)D+=d,i++,d=n.charAt(i);d===" "&&(i++,d=n.charAt(i)),A+=String.fromCharCode(parseInt(D,16));continue}else A+=d}else return A;i++,d=n.charAt(i)}return A}function v(){d=n.charAt(i);for(var A=!1;d===" "||d==="	"||d===`
`||d==="\r"||d==="\f";)A=!0,i++,d=n.charAt(i);return A}function y(){var A=w();if(i<f)throw Error('Rule expected but "'+n.charAt(i)+'" found.');return A}function w(){var A=T();if(!A)return null;var D=A;for(d=n.charAt(i);d===",";){if(i++,v(),D.type!=="selectors"&&(D={type:"selectors",selectors:[A]}),A=T(),!A)throw Error('Rule expected after ",".');D.selectors.push(A)}return D}function T(){v();var A={type:"ruleSet"},D=P();if(!D)return null;for(var k=A;D&&(D.type="rule",k.rule=D,k=D,v(),d=n.charAt(i),!(i>=f||d===","||d===")"));)if(l[d]){var j=d;if(i++,v(),D=P(),!D)throw Error('Rule expected after "'+j+'".');D.nestingOperator=j}else D=P(),D&&(D.nestingOperator=null);return A}function P(){for(var A=null;i<f;)if(d=n.charAt(i),d==="*")i++,(A=A||{}).tagName="*";else if(t.isIdentStart(d)||d==="\\")(A=A||{}).tagName=g();else if(d===".")i++,A=A||{},(A.classNames=A.classNames||[]).push(g());else if(d==="#")i++,(A=A||{}).id=g();else if(d==="["){i++,v();var D={name:g()};if(v(),d==="]")i++;else{var k="";if(u[d]&&(k=d,i++,d=n.charAt(i)),i>=f)throw Error('Expected "=" but end of file reached.');if(d!=="=")throw Error('Expected "=" but "'+d+'" found.');D.operator=k+"=",i++,v();var j="";if(D.valueType="string",d==='"')j=m('"',t.doubleQuotesEscapeChars);else if(d==="'")j=m("'",t.singleQuoteEscapeChars);else if(c&&d==="$")i++,j=g(),D.valueType="substitute";else{for(;i<f&&d!=="]";)j+=d,i++,d=n.charAt(i);j=j.trim()}if(v(),i>=f)throw Error('Expected "]" but end of file reached.');if(d!=="]")throw Error('Expected "]" but "'+d+'" found.');i++,D.value=j}A=A||{},(A.attrs=A.attrs||[]).push(D)}else if(d===":"){i++;var B=g(),Z={name:B};if(d==="("){i++;var R="";if(v(),o[B]==="selector")Z.valueType="selector",R=w();else{if(Z.valueType=o[B]||"string",d==='"')R=m('"',t.doubleQuotesEscapeChars);else if(d==="'")R=m("'",t.singleQuoteEscapeChars);else if(c&&d==="$")i++,R=g(),Z.valueType="substitute";else{for(;i<f&&d!==")";)R+=d,i++,d=n.charAt(i);R=R.trim()}v()}if(i>=f)throw Error('Expected ")" but end of file reached.');if(d!==")")throw Error('Expected ")" but "'+d+'" found.');i++,Z.value=R}A=A||{},(A.pseudos=A.pseudos||[]).push(Z)}else break;return A}return y()}return parserContext$1.parseCssSelector=e,parserContext$1}var render$1={},hasRequiredRender$1;function requireRender$1(){if(hasRequiredRender$1)return render$1;hasRequiredRender$1=1,Object.defineProperty(render$1,"__esModule",{value:!0});var t=requireUtils$1();function e(n){var i="";switch(n.type){case"ruleSet":for(var o=n.rule,u=[];o;)o.nestingOperator&&u.push(o.nestingOperator),u.push(e(o)),o=o.rule;i=u.join(" ");break;case"selectors":i=n.selectors.map(e).join(", ");break;case"rule":n.tagName&&(n.tagName==="*"?i="*":i=t.escapeIdentifier(n.tagName)),n.id&&(i+="#"+t.escapeIdentifier(n.id)),n.classNames&&(i+=n.classNames.map(function(l){return"."+t.escapeIdentifier(l)}).join("")),n.attrs&&(i+=n.attrs.map(function(l){return"operator"in l?l.valueType==="substitute"?"["+t.escapeIdentifier(l.name)+l.operator+"$"+l.value+"]":"["+t.escapeIdentifier(l.name)+l.operator+t.escapeStr(l.value)+"]":"["+t.escapeIdentifier(l.name)+"]"}).join("")),n.pseudos&&(i+=n.pseudos.map(function(l){return l.valueType?l.valueType==="selector"?":"+t.escapeIdentifier(l.name)+"("+e(l.value)+")":l.valueType==="substitute"?":"+t.escapeIdentifier(l.name)+"($"+l.value+")":l.valueType==="numeric"?":"+t.escapeIdentifier(l.name)+"("+l.value+")":":"+t.escapeIdentifier(l.name)+"("+t.escapeIdentifier(l.value)+")":":"+t.escapeIdentifier(l.name)}).join(""));break;default:throw Error('Unknown entity type: "'+n.type+'".')}return i}return render$1.renderEntity=e,render$1}var hasRequiredLib$1;function requireLib$1(){if(hasRequiredLib$1)return lib$1;hasRequiredLib$1=1,Object.defineProperty(lib$1,"__esModule",{value:!0});var t=requireParserContext$1(),e=requireRender$1(),n=(function(){function i(){this.pseudos={},this.attrEqualityMods={},this.ruleNestingOperators={},this.substitutesEnabled=!1}return i.prototype.registerSelectorPseudos=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];this.pseudos[f]="selector"}return this},i.prototype.unregisterSelectorPseudos=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];delete this.pseudos[f]}return this},i.prototype.registerNumericPseudos=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];this.pseudos[f]="numeric"}return this},i.prototype.unregisterNumericPseudos=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];delete this.pseudos[f]}return this},i.prototype.registerNestingOperators=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];this.ruleNestingOperators[f]=!0}return this},i.prototype.unregisterNestingOperators=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];delete this.ruleNestingOperators[f]}return this},i.prototype.registerAttrEqualityMods=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];this.attrEqualityMods[f]=!0}return this},i.prototype.unregisterAttrEqualityMods=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];delete this.attrEqualityMods[f]}return this},i.prototype.enableSubstitutes=function(){return this.substitutesEnabled=!0,this},i.prototype.disableSubstitutes=function(){return this.substitutesEnabled=!1,this},i.prototype.parse=function(o){return t.parseCssSelector(o,0,this.pseudos,this.attrEqualityMods,this.ruleNestingOperators,this.substitutesEnabled)},i.prototype.render=function(o){return e.renderEntity(o).trim()},i})();return lib$1.CssSelectorParser=n,lib$1}var libExports$1=requireLib$1();const parser$1=new libExports$1.CssSelectorParser;parser$1.registerAttrEqualityMods("~","^","$","*");parser$1.registerSelectorPseudos("any","matches","not","has");parser$1.registerNestingOperators(">","+","~");function parse$1(t){if(typeof t!="string")throw new TypeError("Expected `string` as selector, not `"+t+"`");return parser$1.parse(t)}function select$1(t,e){const n=createState$1(t,e);return n.one=!0,walk$1(n,e||void 0),n.results[0]||null}function createState$1(t,e){return{rootQuery:queryToSelectors$1(parse$1(t)),results:[],scopeNodes:e?parent$1(e)&&(e.type==="RootNode"||e.type==="root")?e.children:[e]:[],one:!1,shallow:!1,found:!1,typeIndex:void 0,nodeIndex:void 0,typeCount:void 0,nodeCount:void 0}}function PersonCard({node:t}){const e=select$1("image[kind=person]",t),n=select$1("div[kind=body]",t),i=n?.children?.findIndex(c=>c.type==="thematicBreak"),o=typeof i=="number"&&i!==-1?n.children?.slice(0,i):n.children,u=typeof i=="number"&&i!==-1?n.children?.slice(i+1):null,l=t.data??{};return jsxRuntimeExports.jsxs("div",{className:"w-full my-6 overflow-hidden border rounded hover:shadow",children:[jsxRuntimeExports.jsxs("div",{className:classNames("md:flex md:flex-row",{"md:flex-row-reverse":l.reverse,"border-b":!!u}),children:[e&&jsxRuntimeExports.jsx("div",{className:classNames("flex-none md:w-1/3 bg-center bg-no-repeat bg-cover aspect-square max-h-[300px] ","rounded-full md:rounded-none my-4 m-auto md:m-0 w-[200px]"),style:{backgroundImage:e?`url(${e.urlOptimized||e.url})`:void 0}}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col p-4 my-0 md:px-4 grow",children:[jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold",children:[l.name,l.pronouns&&jsxRuntimeExports.jsxs("span",{className:"ml-2 text-base font-light",children:["(",l.pronouns,")"]})]}),l.position&&jsxRuntimeExports.jsx("p",{className:"my-1 text-sm",children:l.position}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(MyST,{ast:o})}),jsxRuntimeExports.jsx("div",{className:"grow"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-row gap-3",children:[l.email&&jsxRuntimeExports.jsx("a",{href:`mailto:${l.email}`,target:"_blank",rel:"noreferrer",children:jsxRuntimeExports.jsx(ForwardRef$9,{height:"1.5em",className:"self-center flex-none text-slate-800 dark:text-white hover:text-black"})}),l.bluesky&&jsxRuntimeExports.jsx("a",{href:`https://bsky.app/profile/${l.bluesky}`,target:"_blank",rel:"noreferrer",children:jsxRuntimeExports.jsx(ForwardRef$h,{height:"1.5em",className:"self-center flex-none text-slate-800 dark:text-white hover:text-black"})}),l.twitter&&jsxRuntimeExports.jsx("a",{href:`https://twitter.com/${l.twitter}`,target:"_blank",rel:"noreferrer",children:jsxRuntimeExports.jsx(ForwardRef$2,{height:"1.5em",className:"self-center flex-none text-slate-800 dark:text-white hover:text-black"})}),l.linkedin&&jsxRuntimeExports.jsx("a",{href:`https://linkedin.com/in/${l.linkedin}`,target:"_blank",rel:"noreferrer",children:jsxRuntimeExports.jsx(ForwardRef$7,{height:"1.5em",className:"self-center flex-none text-slate-800 dark:text-white hover:text-black"})}),l.orcid&&jsxRuntimeExports.jsx("a",{href:`https://orcid.org/${l.orcid}`,target:"_blank",rel:"noreferrer",children:jsxRuntimeExports.jsx(ForwardRef$5,{height:"1.5em",className:"self-center flex-none text-slate-800 dark:text-white hover:text-black"})}),l.github&&jsxRuntimeExports.jsx("a",{href:`https://github.com/${l.github}`,target:"_blank",rel:"noreferrer",children:jsxRuntimeExports.jsx(ForwardRef$8,{height:"1.5em",className:"self-center flex-none text-slate-800 dark:text-white hover:text-black"})}),l.website&&jsxRuntimeExports.jsx("a",{href:l.website,target:"_blank",rel:"noreferrer",children:jsxRuntimeExports.jsx(ForwardRef$1,{height:"1.5em",className:"self-center flex-none text-slate-800 dark:text-white hover:text-black"})})]})]})]}),u&&jsxRuntimeExports.jsx("div",{className:"w-full px-6",children:jsxRuntimeExports.jsx("div",{className:"text-base",children:jsxRuntimeExports.jsx(MyST,{ast:u})})})]})}const PERSON_CARD_RENDERERS={card:{"card[kind=person]":PersonCard}},handle$1=zwitch("operator",{unknown:unknownOperator,invalid:exists,handlers:{"=":exact,"^=":begins,"$=":ends,"*=":containsString,"~=":containsArray}});function attribute(t,e){let n=-1;for(;++n<t.attrs.length;)if(!handle$1(t.attrs[n],e))return!1;return!0}function exists(t,e){return e[t.name]!==null&&e[t.name]!==void 0}function exact(t,e){return exists(t,e)&&String(e[t.name])===t.value}function containsArray(t,e){const n=e[t.name];return n==null?!1:Array.isArray(n)&&n.includes(t.value)?!0:String(n)===t.value}function begins(t,e){const n=e[t.name];return!!(t.value&&typeof n=="string"&&n.slice(0,t.value.length)===t.value)}function ends(t,e){const n=e[t.name];return!!(t.value&&typeof n=="string"&&n.slice(-t.value.length)===t.value)}function containsString(t,e){const n=e[t.name];return!!(t.value&&typeof n=="string"&&n.includes(t.value))}function unknownOperator(t){throw new Error("Unknown operator `"+t.operator+"`")}function name(t,e){return t.tagName==="*"||t.tagName===e.type}function parent(t){return Array.isArray(t.children)}const nthCheck=nthCheck$8.default||nthCheck$8,handle=zwitch("name",{unknown:unknownPseudo,invalid:invalidPseudo,handlers:{any:matches,blank:empty$1,empty:empty$1,"first-child":firstChild,"first-of-type":firstOfType,has,"last-child":lastChild,"last-of-type":lastOfType,matches,not,"nth-child":nthChild,"nth-last-child":nthLastChild,"nth-of-type":nthOfType,"nth-last-of-type":nthLastOfType,"only-child":onlyChild,"only-of-type":onlyOfType,root:root$1,scope}});pseudo.needsIndex=["any","first-child","first-of-type","last-child","last-of-type","matches","not","nth-child","nth-last-child","nth-of-type","nth-last-of-type","only-child","only-of-type"];function pseudo(t,e,n,i,o){const u=t.pseudos;let l=-1;for(;++l<u.length;)if(!handle(u[l],e,n,i,o))return!1;return!0}function empty$1(t,e){return parent(e)?e.children.length===0:!("value"in e)}function firstChild(t,e,n,i,o){return assertDeep(o,t),o.nodeIndex===0}function firstOfType(t,e,n,i,o){return assertDeep(o,t),o.typeIndex===0}function has(t,e,n,i,o){const u={type:"root",children:parent(e)?e.children:[]},l={...o,found:!1,shallow:!1,one:!0,scopeNodes:[e],results:[],rootQuery:queryToSelectors(t.value)};return walk(l,u),l.results.length>0}function lastChild(t,e,n,i,o){return assertDeep(o,t),typeof o.nodeCount=="number"&&o.nodeIndex===o.nodeCount-1}function lastOfType(t,e,n,i,o){return assertDeep(o,t),typeof o.typeCount=="number"&&o.typeIndex===o.typeCount-1}function matches(t,e,n,i,o){const u={...o,found:!1,shallow:!1,one:!0,scopeNodes:[e],results:[],rootQuery:queryToSelectors(t.value)};return walk(u,e),u.results[0]===e}function not(t,e,n,i,o){return!matches(t,e,n,i,o)}function nthChild(t,e,n,i,o){const u=getCachedNthCheck(t);return assertDeep(o,t),typeof o.nodeIndex=="number"&&u(o.nodeIndex)}function nthLastChild(t,e,n,i,o){const u=getCachedNthCheck(t);return assertDeep(o,t),typeof o.nodeCount=="number"&&typeof o.nodeIndex=="number"&&u(o.nodeCount-o.nodeIndex-1)}function nthLastOfType(t,e,n,i,o){const u=getCachedNthCheck(t);return assertDeep(o,t),typeof o.typeIndex=="number"&&typeof o.typeCount=="number"&&u(o.typeCount-1-o.typeIndex)}function nthOfType(t,e,n,i,o){const u=getCachedNthCheck(t);return assertDeep(o,t),typeof o.typeIndex=="number"&&u(o.typeIndex)}function onlyChild(t,e,n,i,o){return assertDeep(o,t),o.nodeCount===1}function onlyOfType(t,e,n,i,o){return assertDeep(o,t),o.typeCount===1}function root$1(t,e,n,i){return e&&!i}function scope(t,e,n,i,o){return e&&o.scopeNodes.includes(e)}function invalidPseudo(){throw new Error("Invalid pseudo-selector")}function unknownPseudo(t){throw t.name?new Error("Unknown pseudo-selector `"+t.name+"`"):new Error("Unexpected pseudo-element or empty pseudo-class")}function assertDeep(t,e){if(t.shallow)throw new Error("Cannot use `:"+e.name+"` without parent")}function getCachedNthCheck(t){let e=t._cachedFn;return e||(e=nthCheck(t.value),t._cachedFn=e),e}function test(t,e,n,i,o){if(t.id)throw new Error("Invalid selector: id");if(t.classNames)throw new Error("Invalid selector: class");return!!(e&&(!t.tagName||name(t,e))&&(!t.attrs||attribute(t,e))&&(!t.pseudos||pseudo(t,e,n,i,o)))}const empty=[];function queryToSelectors(t){return t===null?{type:"selectors",selectors:[]}:t.type==="ruleSet"?{type:"selectors",selectors:[t]}:t}function walk(t,e){e&&one(t,[],e,void 0,void 0)}function one(t,e,n,i,o){let u={directChild:void 0,descendant:void 0,adjacentSibling:void 0,generalSibling:void 0};return u=applySelectors(t,combine(e,t.rootQuery.selectors),n,i,o),parent(n)&&!t.shallow&&!(t.one&&t.found)&&all(t,u,n),u}function all(t,e,n){const i=combine(e.descendant,e.directChild);let o,u=-1;const l={count:0,types:new Map},c={count:0,types:new Map};for(;++u<n.children.length;)count(l,n.children[u]);for(u=-1;++u<n.children.length;){const d=n.children[u].type.toUpperCase();t.nodeIndex=c.count,t.typeIndex=c.types.get(d)||0,t.nodeCount=l.count,t.typeCount=l.types.get(d);const m=combine(i,o),g=one(t,m,n.children[u],u,n);if(o=combine(g.generalSibling,g.adjacentSibling),t.one&&t.found)break;count(c,n.children[u])}}function applySelectors(t,e,n,i,o){const u={directChild:void 0,descendant:void 0,adjacentSibling:void 0,generalSibling:void 0};let l=-1;for(;++l<e.length;){const c=e[l];if(t.one&&t.found)break;if(t.shallow&&c.rule.rule)throw new Error("Expected selector without nesting");if(test(c.rule,n,i,o,t)){const f=c.rule.rule;if(f){const d={type:"ruleSet",rule:f},m=f.nestingOperator==="+"?"adjacentSibling":f.nestingOperator==="~"?"generalSibling":f.nestingOperator===">"?"directChild":"descendant";add(u,m,d)}else t.found=!0,t.results.includes(n)||t.results.push(n)}c.rule.nestingOperator===null?add(u,"descendant",c):c.rule.nestingOperator==="~"&&add(u,"generalSibling",c)}return u}function combine(t,e){return t&&e&&t.length>0&&e.length>0?[...t,...e]:t&&t.length>0?t:e&&e.length>0?e:empty}function add(t,e,n){const i=t[e];i?i.push(n):t[e]=[n]}function count(t,e){const n=e.type.toUpperCase(),i=(t.types.get(n)||0)+1;t.count++,t.types.set(n,i)}var lib={},parserContext={},utils={},hasRequiredUtils;function requireUtils(){return hasRequiredUtils||(hasRequiredUtils=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(l){return l>="a"&&l<="z"||l>="A"&&l<="Z"||l==="-"||l==="_"}t.isIdentStart=e;function n(l){return l>="a"&&l<="z"||l>="A"&&l<="Z"||l>="0"&&l<="9"||l==="-"||l==="_"}t.isIdent=n;function i(l){return l>="a"&&l<="f"||l>="A"&&l<="F"||l>="0"&&l<="9"}t.isHex=i;function o(l){for(var c=l.length,f="",d=0;d<c;){var m=l.charAt(d);if(t.identSpecialChars[m])f+="\\"+m;else if(m==="_"||m==="-"||m>="A"&&m<="Z"||m>="a"&&m<="z"||d!==0&&m>="0"&&m<="9")f+=m;else{var g=m.charCodeAt(0);if((g&63488)===55296){var v=l.charCodeAt(d++);if((g&64512)!==55296||(v&64512)!==56320)throw Error("UCS-2(decode): illegal sequence");g=((g&1023)<<10)+(v&1023)+65536}f+="\\"+g.toString(16)+" "}d++}return f}t.escapeIdentifier=o;function u(l){for(var c=l.length,f="",d=0,m;d<c;){var g=l.charAt(d);g==='"'?g='\\"':g==="\\"?g="\\\\":(m=t.strReplacementsRev[g])!==void 0&&(g=m),f+=g,d++}return'"'+f+'"'}t.escapeStr=u,t.identSpecialChars={"!":!0,'"':!0,"#":!0,$:!0,"%":!0,"&":!0,"'":!0,"(":!0,")":!0,"*":!0,"+":!0,",":!0,".":!0,"/":!0,";":!0,"<":!0,"=":!0,">":!0,"?":!0,"@":!0,"[":!0,"\\":!0,"]":!0,"^":!0,"`":!0,"{":!0,"|":!0,"}":!0,"~":!0},t.strReplacementsRev={"\n":"\\n","\r":"\\r","	":"\\t","\f":"\\f","\v":"\\v"},t.singleQuoteEscapeChars={n:`
`,r:"\r",t:"	",f:"\f","\\":"\\","'":"'"},t.doubleQuotesEscapeChars={n:`
`,r:"\r",t:"	",f:"\f","\\":"\\",'"':'"'}})(utils)),utils}var hasRequiredParserContext;function requireParserContext(){if(hasRequiredParserContext)return parserContext;hasRequiredParserContext=1,Object.defineProperty(parserContext,"__esModule",{value:!0});var t=requireUtils();function e(n,i,o,u,l,c){var f=n.length,d="";function m(A,D){var k="";for(i++,d=n.charAt(i);i<f;){if(d===A)return i++,k;if(d==="\\"){i++,d=n.charAt(i);var j=void 0;if(d===A)k+=A;else if((j=D[d])!==void 0)k+=j;else if(t.isHex(d)){var B=d;for(i++,d=n.charAt(i);t.isHex(d);)B+=d,i++,d=n.charAt(i);d===" "&&(i++,d=n.charAt(i)),k+=String.fromCharCode(parseInt(B,16));continue}else k+=d}else k+=d;i++,d=n.charAt(i)}return k}function g(){var A="";for(d=n.charAt(i);i<f;){if(t.isIdent(d))A+=d;else if(d==="\\"){if(i++,i>=f)throw Error("Expected symbol but end of file reached.");if(d=n.charAt(i),t.identSpecialChars[d])A+=d;else if(t.isHex(d)){var D=d;for(i++,d=n.charAt(i);t.isHex(d);)D+=d,i++,d=n.charAt(i);d===" "&&(i++,d=n.charAt(i)),A+=String.fromCharCode(parseInt(D,16));continue}else A+=d}else return A;i++,d=n.charAt(i)}return A}function v(){d=n.charAt(i);for(var A=!1;d===" "||d==="	"||d===`
`||d==="\r"||d==="\f";)A=!0,i++,d=n.charAt(i);return A}function y(){var A=w();if(i<f)throw Error('Rule expected but "'+n.charAt(i)+'" found.');return A}function w(){var A=T();if(!A)return null;var D=A;for(d=n.charAt(i);d===",";){if(i++,v(),D.type!=="selectors"&&(D={type:"selectors",selectors:[A]}),A=T(),!A)throw Error('Rule expected after ",".');D.selectors.push(A)}return D}function T(){v();var A={type:"ruleSet"},D=P();if(!D)return null;for(var k=A;D&&(D.type="rule",k.rule=D,k=D,v(),d=n.charAt(i),!(i>=f||d===","||d===")"));)if(l[d]){var j=d;if(i++,v(),D=P(),!D)throw Error('Rule expected after "'+j+'".');D.nestingOperator=j}else D=P(),D&&(D.nestingOperator=null);return A}function P(){for(var A=null;i<f;)if(d=n.charAt(i),d==="*")i++,(A=A||{}).tagName="*";else if(t.isIdentStart(d)||d==="\\")(A=A||{}).tagName=g();else if(d===".")i++,A=A||{},(A.classNames=A.classNames||[]).push(g());else if(d==="#")i++,(A=A||{}).id=g();else if(d==="["){i++,v();var D={name:g()};if(v(),d==="]")i++;else{var k="";if(u[d]&&(k=d,i++,d=n.charAt(i)),i>=f)throw Error('Expected "=" but end of file reached.');if(d!=="=")throw Error('Expected "=" but "'+d+'" found.');D.operator=k+"=",i++,v();var j="";if(D.valueType="string",d==='"')j=m('"',t.doubleQuotesEscapeChars);else if(d==="'")j=m("'",t.singleQuoteEscapeChars);else if(c&&d==="$")i++,j=g(),D.valueType="substitute";else{for(;i<f&&d!=="]";)j+=d,i++,d=n.charAt(i);j=j.trim()}if(v(),i>=f)throw Error('Expected "]" but end of file reached.');if(d!=="]")throw Error('Expected "]" but "'+d+'" found.');i++,D.value=j}A=A||{},(A.attrs=A.attrs||[]).push(D)}else if(d===":"){i++;var B=g(),Z={name:B};if(d==="("){i++;var R="";if(v(),o[B]==="selector")Z.valueType="selector",R=w();else{if(Z.valueType=o[B]||"string",d==='"')R=m('"',t.doubleQuotesEscapeChars);else if(d==="'")R=m("'",t.singleQuoteEscapeChars);else if(c&&d==="$")i++,R=g(),Z.valueType="substitute";else{for(;i<f&&d!==")";)R+=d,i++,d=n.charAt(i);R=R.trim()}v()}if(i>=f)throw Error('Expected ")" but end of file reached.');if(d!==")")throw Error('Expected ")" but "'+d+'" found.');i++,Z.value=R}A=A||{},(A.pseudos=A.pseudos||[]).push(Z)}else break;return A}return y()}return parserContext.parseCssSelector=e,parserContext}var render={},hasRequiredRender;function requireRender(){if(hasRequiredRender)return render;hasRequiredRender=1,Object.defineProperty(render,"__esModule",{value:!0});var t=requireUtils();function e(n){var i="";switch(n.type){case"ruleSet":for(var o=n.rule,u=[];o;)o.nestingOperator&&u.push(o.nestingOperator),u.push(e(o)),o=o.rule;i=u.join(" ");break;case"selectors":i=n.selectors.map(e).join(", ");break;case"rule":n.tagName&&(n.tagName==="*"?i="*":i=t.escapeIdentifier(n.tagName)),n.id&&(i+="#"+t.escapeIdentifier(n.id)),n.classNames&&(i+=n.classNames.map(function(l){return"."+t.escapeIdentifier(l)}).join("")),n.attrs&&(i+=n.attrs.map(function(l){return"operator"in l?l.valueType==="substitute"?"["+t.escapeIdentifier(l.name)+l.operator+"$"+l.value+"]":"["+t.escapeIdentifier(l.name)+l.operator+t.escapeStr(l.value)+"]":"["+t.escapeIdentifier(l.name)+"]"}).join("")),n.pseudos&&(i+=n.pseudos.map(function(l){return l.valueType?l.valueType==="selector"?":"+t.escapeIdentifier(l.name)+"("+e(l.value)+")":l.valueType==="substitute"?":"+t.escapeIdentifier(l.name)+"($"+l.value+")":l.valueType==="numeric"?":"+t.escapeIdentifier(l.name)+"("+l.value+")":":"+t.escapeIdentifier(l.name)+"("+t.escapeIdentifier(l.value)+")":":"+t.escapeIdentifier(l.name)}).join(""));break;default:throw Error('Unknown entity type: "'+n.type+'".')}return i}return render.renderEntity=e,render}var hasRequiredLib;function requireLib(){if(hasRequiredLib)return lib;hasRequiredLib=1,Object.defineProperty(lib,"__esModule",{value:!0});var t=requireParserContext(),e=requireRender(),n=(function(){function i(){this.pseudos={},this.attrEqualityMods={},this.ruleNestingOperators={},this.substitutesEnabled=!1}return i.prototype.registerSelectorPseudos=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];this.pseudos[f]="selector"}return this},i.prototype.unregisterSelectorPseudos=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];delete this.pseudos[f]}return this},i.prototype.registerNumericPseudos=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];this.pseudos[f]="numeric"}return this},i.prototype.unregisterNumericPseudos=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];delete this.pseudos[f]}return this},i.prototype.registerNestingOperators=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];this.ruleNestingOperators[f]=!0}return this},i.prototype.unregisterNestingOperators=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];delete this.ruleNestingOperators[f]}return this},i.prototype.registerAttrEqualityMods=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];this.attrEqualityMods[f]=!0}return this},i.prototype.unregisterAttrEqualityMods=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];for(var l=0,c=o;l<c.length;l++){var f=c[l];delete this.attrEqualityMods[f]}return this},i.prototype.enableSubstitutes=function(){return this.substitutesEnabled=!0,this},i.prototype.disableSubstitutes=function(){return this.substitutesEnabled=!1,this},i.prototype.parse=function(o){return t.parseCssSelector(o,0,this.pseudos,this.attrEqualityMods,this.ruleNestingOperators,this.substitutesEnabled)},i.prototype.render=function(o){return e.renderEntity(o).trim()},i})();return lib.CssSelectorParser=n,lib}var libExports=requireLib();const parser=new libExports.CssSelectorParser;parser.registerAttrEqualityMods("~","^","$","*");parser.registerSelectorPseudos("any","matches","not","has");parser.registerNestingOperators(">","+","~");function parse(t){if(typeof t!="string")throw new TypeError("Expected `string` as selector, not `"+t+"`");return parser.parse(t)}function select(t,e){const n=createState(t,e);return n.one=!0,walk(n,e||void 0),n.results[0]||null}function createState(t,e){return{rootQuery:queryToSelectors(parse(t)),results:[],scopeNodes:e?parent(e)&&(e.type==="RootNode"||e.type==="root")?e.children:[e]:[],one:!1,shallow:!1,found:!1,typeIndex:void 0,nodeIndex:void 0,typeCount:void 0,nodeCount:void 0}}function Tag({children:t}){return jsxRuntimeExports.jsx("span",{className:"inline-block px-3 py-1 mr-2 mb-2 text-sm font-semibold text-gray-700 bg-gray-200 rounded-full",children:t})}function BlogCard({url:t,title:e,date:n,children:i,tags:o,thumbnail:u}){const l=useLinkProvider();return jsxRuntimeExports.jsxs(l,{to:t,prefetch:"intent",className:"flex overflow-hidden flex-col no-underline bg-white rounded shadow-lg transition-transform not-prose dark:bg-stone-900 hover:scale-105",children:[u&&jsxRuntimeExports.jsxs("picture",{className:"w-full h-0 pt-[50%] relative",children:[u?.webp&&jsxRuntimeExports.jsx("source",{srcSet:u.webp,type:"image/webp"}),u?.jpg&&jsxRuntimeExports.jsx("source",{srcSet:u.jpg,type:"image/jpeg"}),u?.png&&jsxRuntimeExports.jsx("source",{srcSet:u.png,type:"image/png"}),jsxRuntimeExports.jsx("img",{className:"object-cover object-top absolute top-0 w-full h-full",src:u?.png||u?.jpg,alt:u?.alt})]}),jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 grow",children:[jsxRuntimeExports.jsx("div",{className:"mb-2 text-lg font-bold text-gray-900 dark:text-gray-50",children:e}),n&&jsxRuntimeExports.jsx("div",{className:"mb-2 text-sm font-light text-gray-900 dark:text-gray-50",children:n}),jsxRuntimeExports.jsx("div",{className:"text-base text-gray-700 dark:text-gray-400",children:i})]}),o&&jsxRuntimeExports.jsx("div",{className:"p-4",children:o?.map(c=>jsxRuntimeExports.jsx(Tag,{children:c},c))})]})}function BlogCardRenderer({node:t}){const e=select("cardTitle,title",t),n=select("image[kind=thumbnail]",t),i=select("div[kind=body]",t);return jsxRuntimeExports.jsx(BlogCard,{url:t.url,title:jsxRuntimeExports.jsx(MyST,{ast:e}),thumbnail:n?{png:n.url,webp:n.urlOptimized,alt:n.alt||toText$1(e)}:void 0,date:t.data?.date,tags:t.data?.tags,children:jsxRuntimeExports.jsx(MyST,{ast:i.children})})}const BLOG_RENDERERS={card:{"card[kind=blog]":BlogCardRenderer}};var __classPrivateFieldSet=function(t,e,n,i,o){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?o.call(t,n):o?o.value=n:e.set(t,n),n},__classPrivateFieldGet=function(t,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(t):i?i.value:e.get(t)},_MystAnyModel_state,_MystAnyModel_target;class MystAnyModel{constructor(e){_MystAnyModel_state.set(this,void 0),_MystAnyModel_target.set(this,new EventTarget),__classPrivateFieldSet(this,_MystAnyModel_state,e,"f")}get(e){return __classPrivateFieldGet(this,_MystAnyModel_state,"f")[e]}set(e,n){__classPrivateFieldGet(this,_MystAnyModel_state,"f")[e]=n,__classPrivateFieldGet(this,_MystAnyModel_target,"f").dispatchEvent(new CustomEvent(`change:${e}`,{detail:n})),__classPrivateFieldGet(this,_MystAnyModel_target,"f").dispatchEvent(new CustomEvent("change",{detail:n}))}on(e,n){__classPrivateFieldGet(this,_MystAnyModel_target,"f").addEventListener(e,n)}off(e,n){throw new Error("MystAnyModel.off not implemented yet.")}save_changes(){throw new Error("MystAnyModel.save_changes not implemented yet.")}send(e,n,i){throw new Error("MystAnyModel.send not implemented yet.")}get widget_manager(){throw new Error("MystAnyModel.widget_manager does not exist.")}}_MystAnyModel_state=new WeakMap,_MystAnyModel_target=new WeakMap;var __awaiter=function(t,e,n,i){function o(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function c(m){try{d(i.next(m))}catch(g){l(g)}}function f(m){try{d(i.throw(m))}catch(g){l(g)}}function d(m){m.done?u(m.value):o(m.value).then(c,f)}d((i=i.apply(t,e||[])).next())})};function AnyWidgetRenderer({node:t}){var e,n;const i=(e=t.data.esm)!==null&&e!==void 0?e:t.data.import,o=i&&typeof i=="string"&&(i.startsWith("https://")||i.startsWith("http://")),u=t.data.json&&typeof t.data.json=="object",l=reactExports.useRef(null),[c,f]=reactExports.useState(null);return reactExports.useEffect(()=>{f(null);const d=new AbortController;if(d.signal.aborted)return;let m,g;return d.signal.addEventListener("abort",()=>__awaiter(this,void 0,void 0,function*(){yield g?.(),yield m?.()})),console.debug("AnyRenderer importing:",i),import(i).then(v=>__awaiter(this,void 0,void 0,function*(){var y,w,T,P,A,D,k;if(!l.current)return;console.debug("AnyRenderer imported",v);const j=v.default,B=new MystAnyModel(t.data.json);m=yield(y=j.initialize)===null||y===void 0?void 0:y.call(j,{model:B}),(w=l.current)===null||w===void 0||w.replaceChildren(),t.data.class&&((T=t.data.class)===null||T===void 0?void 0:T.trim().length)>0&&((P=t.data.class)===null||P===void 0||P.trim().split(" ").forEach(G=>{var F;(F=l.current)===null||F===void 0||F.classList.add(G)}));let Z=l.current;const R=(A=t.data.css)!==null&&A!==void 0?A:t.data.styles;if(R){const G=(D=Z.shadowRoot)!==null&&D!==void 0?D:Z.attachShadow({mode:"open"});G.replaceChildren();const F=document.createElement("div");G.appendChild(F);const K=document.createElement("link");K.rel="stylesheet",K.href=R,G.appendChild(K),Z=F}g=yield(k=j.render)===null||k===void 0?void 0:k.call(j,{model:B,el:Z})})).catch(v=>{console.error("AnyRenderer failed to import module:",v),f(v instanceof Error?v:new Error(String(v)))}),()=>{d?.abort()}},[t]),c?jsxRuntimeExports.jsxs("details",{className:"p-3 bg-gray-100 rounded border border-gray-300 cursor-pointer",children:[jsxRuntimeExports.jsxs("summary",{className:"text-sm text-gray-600 select-none",children:["Failed to load ",jsxRuntimeExports.jsx("code",{className:"text-xs",children:"any:widget"})," module."]}),jsxRuntimeExports.jsxs("div",{className:"pt-2 mt-2 space-y-1 text-xs border-t border-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"text-gray-500",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Widget Module URL:"})," ",i]}),jsxRuntimeExports.jsxs("div",{className:"text-gray-700",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Error:"})," ",c.message]}),jsxRuntimeExports.jsxs("div",{className:"text-gray-700",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Stack:"})," ",c.stack]})]})]}):!o||!u?jsxRuntimeExports.jsxs("div",{className:"p-3 space-y-2 rounded-md border border-red-500",children:[jsxRuntimeExports.jsxs("div",{children:["Invalid ",jsxRuntimeExports.jsx("code",{children:"any:bundle"})," directive."]}),!o&&jsxRuntimeExports.jsxs("div",{className:"px-1",children:[jsxRuntimeExports.jsx("div",{children:"Invalid import URL"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:t.data.import})]}),!u&&jsxRuntimeExports.jsxs("div",{className:"px-1",children:[jsxRuntimeExports.jsx("div",{children:"Invalid JSON data"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:(n=t.data.json)===null||n===void 0?void 0:n.toString()})]})]}):jsxRuntimeExports.jsx("div",{className:"relative w-full",ref:l})}const ANY_RENDERERS={block:{"block[kind=any:widget]":AnyWidgetRenderer,"block[kind=any:bundle]":AnyWidgetRenderer}},renderers$1=mergeRenderers([DEFAULT_RENDERERS,MERMAID_RENDERERS,ARTICLES_RENDERERS,IMAGE_RENDERERS,ADMONITION_RENDERERS,HERO_RENDERERS,DEFINITION_LIST_RENDERERS,LINK_RENDERERS,CITE_RENDERERS,PERSON_CARD_RENDERERS,BLOG_RENDERERS,ANY_RENDERERS]),renderers=mergeRenderers([renderers$1,bridgeJupyterRenderers]);function useCSSLinks(){reactExports.useEffect(()=>{[{rel:"stylesheet",href:KatexCSS.href,integrity:KatexCSS.integrity,crossOrigin:KatexCSS.crossOrigin},{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"},{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"}].forEach(e=>{if(document.querySelector(`link[href="${e.href}"]`))return;const i=document.createElement("link");i.rel=e.rel,i.href=e.href||"#",e.integrity&&(i.integrity=e.integrity),e.crossOrigin&&(i.crossOrigin=e.crossOrigin),document.head.appendChild(i)})},[])}function Index(){const{isIndex:t,page:e}=useLoaderData(),i=useRouteLoaderData("root")?.config;useCSSLinks();const o=useProjectManifest();if(!i||!e)return jsxRuntimeExports.jsx("div",{children:"Loading..."});const u=copyNode(e.mdast),l=extractKnownParts(u,e.frontmatter?.parts),c=t?o:e.frontmatter,f=t?ArticleLayout:AppLayout,d=t?ArticleContainer:AppContainer,m=jsxRuntimeExports.jsxs("div",{className:"min-w-full",children:[jsxRuntimeExports.jsx(SkipToAnchor,{id:"skip-to-frontmatter"}),jsxRuntimeExports.jsx(Frontmatter,{title:c?.title,subtitle:c?.subtitle}),t&&jsxRuntimeExports.jsx(AuthorsList,{source:"project"}),jsxRuntimeExports.jsx(Abstract,{content:l.abstract}),t&&jsxRuntimeExports.jsx(ArticleBar,{source:"project"}),e.kind===SourceFileKind.Notebook&&jsxRuntimeExports.jsx(NotebookToolbar,{})]});return jsxRuntimeExports.jsx(MystProviders,{renderers,children:jsxRuntimeExports.jsx(PageProviders,{config:i,page:e,project:e.project,children:jsxRuntimeExports.jsx(CurvenoteProviders,{submissionKind:"preview",children:jsxRuntimeExports.jsx(f,{children:jsxRuntimeExports.jsxs(d,{className:"prose dark:prose-invert",header:m,children:[jsxRuntimeExports.jsx(SkipToAnchor,{id:"skip-to-content"}),jsxRuntimeExports.jsx(MyST,{ast:u}),jsxRuntimeExports.jsx(FooterLinks,{navigation:e.footer?.navigation}),jsxRuntimeExports.jsx(Backmatter,{})]})})})})})}async function healthCheck(){try{const t=await fetchJson(withBasePath$1("/_build"));return{healthy:!0,message:"OK",version:t.version,url:t.links.site}}catch(t){return console.error("Error fetching health:",t),{healthy:!1,message:"Failed to fetch health"}}}function withBasePath$1(t){return window.__BASE_PATH__?`${window.__BASE_PATH__}${t}`:t}async function fetchJson(t){const e=await fetch(t);if(!e.ok)throw new Error("Failed to fetch",{cause:e.statusText});const n=e.headers.get("content-type");if(!n?.includes("application/json"))throw new Error("Invalid content type",{cause:n});return e.json()}async function fetchPage(t){return await fetchJson(withBasePath$1(`/_build/content/${t}.json`))}async function getConfig(){try{const t=withBasePath$1("/_build/config.json");return await fetchJson(t)}catch(t){throw console.error("Error fetching config:",t),new Error("Failed to fetch config",{cause:t})}}async function getPage(t,e){(t.projects?.length??0)>1&&console.warn("Multiple projects not supported, taking the first one");const n=t.projects?.[0];if(!n)throw new Error("No project found");const i=!e||e===n.index?n.index:e,o=getFooterLinks(t,n.slug,i);try{return{...await fetchPage(i),footer:o}}catch(u){throw console.error("Error fetching page:",u),new Error("Failed to fetch page",{cause:u})}}async function thebeCoreLoader(){const t=await fetch(withBasePath$1("/_static/thebe-core.min.js"));if(t.ok)return t.text();throw new Error("Failed to fetch thebe-core.min.js",{cause:t.statusText})}async function loader$2(){const t=await getConfig();let e=await getPage(t);return e=await migrate({version:0,...e},{to:MYST_SPEC_VERSION}),updatePageStaticLinksInplace(e,n=>`${window.__BASE_PATH__??""}/_build${n}`),{isIndex:!0,page:e}}async function loader$1({params:t}){const e=await getConfig();let n=await getPage(e,t.slug);return n=await migrate({version:0,...n},{to:MYST_SPEC_VERSION}),updatePageStaticLinksInplace(n,i=>`${window.__BASE_PATH__??""}/_build${i}`),{isIndex:!1,page:n}}async function loader(){const t=await healthCheck(),e=await getConfig(),n=e.projects?.[0];return{health:t,project:n,config:e}}function withBasePath(t){return window.__BASE_PATH__?`${window.__BASE_PATH__}${t}`:t}function ContentServerStatus({health:t}){return t?t?.healthy?jsxRuntimeExports.jsxs("a",{href:withBasePath("/_build/config.json"),className:"font-mono text-xs text-green-600 dark:text-green-400",target:"_blank",rel:"noopener noreferrer",children:["Content Server Up (",t.version,")"]}):jsxRuntimeExports.jsx("div",{className:"font-mono text-xs text-red-500 dark:text-red-400",children:"Content Server Down"}):jsxRuntimeExports.jsx("div",{className:"font-mono text-xs text-gray-500 dark:text-gray-400",children:"Checking..."})}function ErrorPage(){const t=useRouteError(),[e,n]=reactExports.useState(null);reactExports.useEffect(()=>{healthCheck().then(n).catch(()=>{n({healthy:!1,message:"Failed to fetch health"})})},[]);let i="Oops!",o="An unexpected error occurred.",u;return isRouteErrorResponse(t)&&(i=t.status===404?"404":"Error",o=t.status===404?"The requested page could not be found.":t.statusText||o),jsxRuntimeExports.jsxs("div",{className:"flex flex-col min-h-screen bg-white dark:bg-gray-950",children:[jsxRuntimeExports.jsx("header",{className:"border-b border-gray-200 dark:border-gray-800",children:jsxRuntimeExports.jsx("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center h-16",children:[jsxRuntimeExports.jsx(Link$1,{to:"/",className:"text-xl font-bold text-gray-900 dark:text-white",children:"Curvenote Preview"}),jsxRuntimeExports.jsx(ContentServerStatus,{health:e})]})})}),jsxRuntimeExports.jsx("main",{className:"flex flex-1 justify-center items-center",children:jsxRuntimeExports.jsxs("div",{className:"px-4 mx-auto max-w-7xl text-center sm:px-6 lg:px-8",children:[jsxRuntimeExports.jsx("h1",{className:"mb-4 text-4xl font-bold text-gray-900 dark:text-white",children:i}),jsxRuntimeExports.jsx("p",{className:"mb-8 text-lg text-gray-600 dark:text-gray-400",children:o}),!1,u,jsxRuntimeExports.jsx(Link$1,{to:"/",className:"inline-block px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600",children:"Go Home"})]})})]})}const basePath=window.__BASE_PATH__||"/",root=document.getElementById("root");if(!root)throw new Error("Root element not found");document.body.classList.add("loaded");const router=createBrowserRouter([{id:"root",element:jsxRuntimeExports.jsx(Root,{}),errorElement:jsxRuntimeExports.jsx(ErrorPage,{}),loader,children:[{id:"index",path:"/",element:jsxRuntimeExports.jsx(Index,{}),loader:loader$2},{id:"slug-page",path:"/:slug",element:jsxRuntimeExports.jsx(Index,{}),loader:loader$1},{id:"thebe-core.min",path:"/thebe-core.min.js",loader:thebeCoreLoader}]}],{basename:basePath});ReactDOM$1.createRoot(root).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(RouterProvider,{router})}));export{Color as C,JSONExt$2 as J,Rgb as R,Signal$2 as S,UUID$2 as U,Widget$1 as W,__vitePreload as _,formatPrefix as a,format as b,color$1 as c,define as d,exponent as e,formatSpecifier as f,getDefaultExportFromCjs as g,extend as h,getAugmentedNamespace as i,React as j,clientExports as k,libExports$5 as l,requireReact as m,nullTranslator as n,_extends as o,reactExports as p,_unsupportedIterableToArray as q,rgbConvert as r,_defineProperty as s,_typeof$1 as t,rgb as u};
